!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cdcts-sipjs",[],t):"object"==typeof exports?exports["cdcts-sipjs"]=t():e["cdcts-sipjs"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=194)}([function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return i})),r.d(t,"__assign",(function(){return s})),r.d(t,"__rest",(function(){return o})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return c})),r.d(t,"__metadata",(function(){return u})),r.d(t,"__awaiter",(function(){return d})),r.d(t,"__generator",(function(){return l})),r.d(t,"__createBinding",(function(){return p})),r.d(t,"__exportStar",(function(){return h})),r.d(t,"__values",(function(){return f})),r.d(t,"__read",(function(){return g})),r.d(t,"__spread",(function(){return v})),r.d(t,"__spreadArrays",(function(){return m})),r.d(t,"__await",(function(){return S})),r.d(t,"__asyncGenerator",(function(){return y})),r.d(t,"__asyncDelegator",(function(){return T})),r.d(t,"__asyncValues",(function(){return b})),r.d(t,"__makeTemplateObject",(function(){return E})),r.d(t,"__importStar",(function(){return _})),r.d(t,"__importDefault",(function(){return C})),r.d(t,"__classPrivateFieldGet",(function(){return R})),r.d(t,"__classPrivateFieldSet",(function(){return w}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function p(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function y(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof S?Promise.resolve(r.value.v).then(c,u):d(s[0][2],r)}catch(e){d(s[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function T(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:S(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function w(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(43),t),n.__exportStar(r(66),t),n.__exportStar(r(119),t),n.__exportStar(r(120),t),n.__exportStar(r(121),t),n.__exportStar(r(66),t),n.__exportStar(r(46),t),n.__exportStar(r(22),t),n.__exportStar(r(44),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(35),t),n.__exportStar(r(30),t),n.__exportStar(r(123),t),n.__exportStar(r(3),t),n.__exportStar(r(29),t),n.__exportStar(r(48),t),n.__exportStar(r(1),t),n.__exportStar(r(125),t),n.__exportStar(r(83),t),n.__exportStar(r(12),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(106),t),n.__exportStar(r(108),t),n.__exportStar(r(110),t),n.__exportStar(r(28),t),n.__exportStar(r(38),t),n.__exportStar(r(37),t),n.__exportStar(r(42),t),n.__exportStar(r(39),t),n.__exportStar(r(65),t),n.__exportStar(r(113),t),n.__exportStar(r(40),t),n.__exportStar(r(114),t),n.__exportStar(r(41),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(1),s=function(){function e(e,t,r,n){this.transactionConstructor=e,this.core=t,this.message=r,this.delegate=n,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.cancel=function(t,r){var s=this;if(void 0===r&&(r={}),!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");var o=this.core.makeOutgoingRequestMessage(n.C.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},r.extraHeaders);if(o.branch=this.message.branch,this.message.headers.Route&&(o.headers.Route=this.message.headers.Route),t&&o.setHeader("Reason",t),this.transaction.state===i.TransactionState.Proceeding)new e(i.NonInviteClientTransaction,this.core,o);else this.transaction.once("stateChanged",(function(){if(s.transaction&&s.transaction.state===i.TransactionState.Proceeding)new e(i.NonInviteClientTransaction,s.core,o)}));return o},e.prototype.authenticationGuard=function(e,t){var r,n,i=e.statusCode;if(!i)throw new Error("Response status code undefined.");if(401!==i&&407!==i)return!0;if(401===i?(r=e.parseHeader("www-authenticate"),n="authorization"):(r=e.parseHeader("proxy-authenticate"),n="proxy-authorization"),!r)return this.logger.warn(i+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||!0!==r.stale))return this.logger.warn(i+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,r))return!0;this.challenged=!0,r.stale&&(this.stale=!0);var s=this.message.cseq+=1;return t&&t.localSequenceNumber&&(t.incrementLocalSequenceNumber(),s=this.message.cseq=t.localSequenceNumber),this.message.setHeader("cseq",s+" "+this.message.method),this.message.setHeader(n,this.credentials.toString()),this.init(),!1},e.prototype.onRequestTimeout=function(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");var e=new n.IncomingResponseMessage;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)},e.prototype.onTransportError=function(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");var t=new n.IncomingResponseMessage;t.statusCode=503,t.reasonPhrase="Service Unavailable",this.receiveResponse(t)},e.prototype.receiveResponse=function(e){if(this.authenticationGuard(e)){var t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(t):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(t):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+t)}}},e.prototype.init=function(){var e=this,t={loggerFactory:this.loggerFactory,onRequestTimeout:function(){return e.onRequestTimeout()},onStateChange:function(t){t===i.TransactionState.Terminated&&(e.core.userAgentClients.delete(n),r===e._transaction&&e.dispose())},onTransportError:function(t){return e.onTransportError(t)},receiveResponse:function(t){return e.receiveResponse(t)}},r=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=r;var n=r.id+r.request.method;this.core.userAgentClients.set(n,this)},e}();t.UserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.STATUS_EARLY=1]="STATUS_EARLY",e[e.STATUS_CONFIRMED=2]="STATUS_CONFIRMED"}(t.DialogStatus||(t.DialogStatus={})),function(e){e[e.STATUS_NULL=0]="STATUS_NULL",e[e.STATUS_INVITE_SENT=1]="STATUS_INVITE_SENT",e[e.STATUS_1XX_RECEIVED=2]="STATUS_1XX_RECEIVED",e[e.STATUS_INVITE_RECEIVED=3]="STATUS_INVITE_RECEIVED",e[e.STATUS_WAITING_FOR_ANSWER=4]="STATUS_WAITING_FOR_ANSWER",e[e.STATUS_ANSWERED=5]="STATUS_ANSWERED",e[e.STATUS_WAITING_FOR_PRACK=6]="STATUS_WAITING_FOR_PRACK",e[e.STATUS_WAITING_FOR_ACK=7]="STATUS_WAITING_FOR_ACK",e[e.STATUS_CANCELED=8]="STATUS_CANCELED",e[e.STATUS_TERMINATED=9]="STATUS_TERMINATED",e[e.STATUS_ANSWERED_WAITING_FOR_PRACK=10]="STATUS_ANSWERED_WAITING_FOR_PRACK",e[e.STATUS_EARLY_MEDIA=11]="STATUS_EARLY_MEDIA",e[e.STATUS_CONFIRMED=12]="STATUS_CONFIRMED"}(t.SessionStatus||(t.SessionStatus={})),function(e){e[e.ClientContext=0]="ClientContext",e[e.ConfigurationError=1]="ConfigurationError",e[e.Dialog=2]="Dialog",e[e.DigestAuthentication=3]="DigestAuthentication",e[e.DTMF=4]="DTMF",e[e.IncomingMessage=5]="IncomingMessage",e[e.IncomingRequest=6]="IncomingRequest",e[e.IncomingResponse=7]="IncomingResponse",e[e.InvalidStateError=8]="InvalidStateError",e[e.InviteClientContext=9]="InviteClientContext",e[e.InviteServerContext=10]="InviteServerContext",e[e.Logger=11]="Logger",e[e.LoggerFactory=12]="LoggerFactory",e[e.MethodParameterError=13]="MethodParameterError",e[e.NameAddrHeader=14]="NameAddrHeader",e[e.NotSupportedError=15]="NotSupportedError",e[e.OutgoingRequest=16]="OutgoingRequest",e[e.Parameters=17]="Parameters",e[e.PublishContext=18]="PublishContext",e[e.ReferClientContext=19]="ReferClientContext",e[e.ReferServerContext=20]="ReferServerContext",e[e.RegisterContext=21]="RegisterContext",e[e.RenegotiationError=22]="RenegotiationError",e[e.RequestSender=23]="RequestSender",e[e.ServerContext=24]="ServerContext",e[e.Session=25]="Session",e[e.SessionDescriptionHandler=26]="SessionDescriptionHandler",e[e.SessionDescriptionHandlerError=27]="SessionDescriptionHandlerError",e[e.SessionDescriptionHandlerObserver=28]="SessionDescriptionHandlerObserver",e[e.Subscription=29]="Subscription",e[e.Transport=30]="Transport",e[e.UA=31]="UA",e[e.URI=32]="URI"}(t.TypeStrings||(t.TypeStrings={})),function(e){e[e.STATUS_INIT=0]="STATUS_INIT",e[e.STATUS_STARTING=1]="STATUS_STARTING",e[e.STATUS_READY=2]="STATUS_READY",e[e.STATUS_USER_CLOSED=3]="STATUS_USER_CLOSED",e[e.STATUS_NOT_READY=4]="STATUS_NOT_READY"}(t.UAStatus||(t.UAStatus={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),i=r(3),s=r(17),o=r(1),a=function(){function e(e,t,r,n){this.transactionConstructor=e,this.core=t,this.message=r,this.delegate=n,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=r.toTag?r.toTag:s.newTag(),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){if(void 0===e&&(e={statusCode:200}),!this.acceptable)throw new n.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");var t=e.statusCode;if(t<200||t>299)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.progress=function(e){if(void 0===e&&(e={statusCode:180}),!this.progressable)throw new n.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");var t=e.statusCode;if(t<101||t>199)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.redirect=function(e,t){if(void 0===t&&(t={statusCode:302}),!this.redirectable)throw new n.TransactionStateError(this.message.method+" not redirectable in state "+this.transaction.state+".");var r=t.statusCode;if(r<300||r>399)throw new TypeError("Invalid statusCode: "+r);var i=new Array;return e.forEach((function(e){return i.push("Contact: "+e.toString())})),t.extraHeaders=(t.extraHeaders||[]).concat(i),this.reply(t)},e.prototype.reject=function(e){if(void 0===e&&(e={statusCode:480}),!this.rejectable)throw new n.TransactionStateError(this.message.method+" not rejectable in state "+this.transaction.state+".");var t=e.statusCode;if(t<400||t>699)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.trying=function(e){if(!this.tryingable)throw new n.TransactionStateError(this.message.method+" not tryingable in state "+this.transaction.state+".");return this.reply({statusCode:100})},e.prototype.receiveCancel=function(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)},Object.defineProperty(e.prototype,"acceptable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding||this.transaction.state===o.TransactionState.Accepted;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return!1;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"redirectable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rejectable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tryingable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),e.prototype.reply=function(e){e.toTag||100===e.statusCode||(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;var t=i.constructOutgoingResponse(this.message,e);return this.transaction.receiveResponse(e.statusCode,t.message),t},e.prototype.init=function(){var e=this,t={loggerFactory:this.loggerFactory,onStateChange:function(t){t===o.TransactionState.Terminated&&(e.core.userAgentServers.delete(n),e.dispose())},onTransportError:function(t){e.logger.error(t.message),e.delegate&&e.delegate.onTransportError?e.delegate.onTransportError(t):e.logger.error("User agent server response transport error.")}},r=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=r;var n=r.id;this.core.userAgentServers.set(r.id,this)},e}();t.UserAgentServer=a},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,s,o,a;if(u(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=d(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):v(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var u=c.length,d=v(c,u);for(r=0;r<u;++r)s(d[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,s,o;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136);!function(e){e.version=n.LIBRARY_VERSION,e.USER_AGENT="SIP.js/"+n.LIBRARY_VERSION,e.SIP="sip",e.SIPS="sips",function(e){e.CONNECTION_ERROR="Connection Error",e.INTERNAL_ERROR="Internal Error",e.REQUEST_TIMEOUT="Request Timeout",e.SIP_FAILURE_CODE="SIP Failure Code",e.ADDRESS_INCOMPLETE="Address Incomplete",e.AUTHENTICATION_ERROR="Authentication Error",e.BUSY="Busy",e.DIALOG_ERROR="Dialog Error",e.INCOMPATIBLE_SDP="Incompatible SDP",e.NOT_FOUND="Not Found",e.REDIRECTED="Redirected",e.REJECTED="Rejected",e.UNAVAILABLE="Unavailable",e.BAD_MEDIA_DESCRIPTION="Bad Media Description",e.CANCELED="Canceled",e.EXPIRES="Expires",e.NO_ACK="No ACK",e.NO_ANSWER="No Answer",e.NO_PRACK="No PRACK",e.RTP_TIMEOUT="RTP Timeout",e.USER_DENIED_MEDIA_ACCESS="User Denied Media Access",e.WEBRTC_ERROR="WebRTC Error",e.WEBRTC_NOT_SUPPORTED="WebRTC Not Supported"}(e.causes||(e.causes={})),function(e){e.REQUIRED="required",e.SUPPORTED="supported",e.UNSUPPORTED="none"}(e.supported||(e.supported={})),e.SIP_ERROR_CAUSES={ADDRESS_INCOMPLETE:[484],AUTHENTICATION_ERROR:[401,407],BUSY:[486,600],INCOMPATIBLE_SDP:[488,606],NOT_FOUND:[404,604],REDIRECTED:[300,301,302,305,380],REJECTED:[403,603],UNAVAILABLE:[480,410,408,430]},e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK",e.REASON_PHRASE={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},e.OPTION_TAGS={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0},function(e){e.INFO="info",e.RTP="rtp"}(e.dtmfType||(e.dtmfType={}))}(t.C||(t.C={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(28),s=r(41);!function(e){e.defer=function(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e},e.reducePromises=function(e,t){return e.reduce((function(e,t){return e=e.then(t)}),Promise.resolve(t))},e.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length},e.generateFakeSDP=function(e){if(e){var t=e.indexOf("o="),r=e.indexOf("\r\n",t);return"v=0\r\n"+e.slice(t,r)+"\r\ns=-\r\nt=0 0\r\nc=IN IP4 0.0.0.0"}},e.isDecimal=function(e){var t=parseInt(e,10);return!isNaN(t)&&parseFloat(e)===t},e.createRandomToken=function(e,t){void 0===t&&(t=32);for(var r="",n=0;n<e;n++){r+=Math.floor(Math.random()*t).toString(t)}return r},e.newTag=function(){return e.createRandomToken(10)},e.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random());return("x"===e?t:t%4+8).toString(16)}))},e.normalizeTarget=function(t,r){if(t){if(t instanceof s.URI)return t;if("string"==typeof t){var o=t.split("@"),a=void 0,c=void 0;switch(o.length){case 1:if(!r)return;a=t,c=r;break;case 2:a=o[0],c=o[1];break;default:a=o.slice(0,o.length-1).join("@"),c=o[o.length-1]}return a=a.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(a)&&(a=a.replace(/[\-\.\(\)]/g,"")),t=n.C.SIP+":"+e.escapeUser(a)+"@"+c,i.Grammar.URIParse(t)}}else;},e.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},e.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),n=r.length,i="",s=0;s<n;s++)0!==s&&(i+="-"),i+=r[s].charAt(0).toUpperCase()+r[s].substring(1);return t[i]&&(i=t[i]),i},e.sipErrorCause=function(e){for(var t in n.C.SIP_ERROR_CAUSES)if(-1!==n.C.SIP_ERROR_CAUSES[t].indexOf(e))return n.C.causes[t];return n.C.causes.SIP_FAILURE_CODE},e.getReasonPhrase=function(e,t){return t||n.C.REASON_PHRASE[e]||""},e.getReasonHeaderValue=function(t,r){return"SIP;cause="+t+';text="'+(r=e.getReasonPhrase(t,r))+'"'},e.getCancelReason=function(t,r){if(t&&t<200||t>699)throw new TypeError("Invalid statusCode: "+t);if(t)return e.getReasonHeaderValue(t,r)},e.buildStatusLine=function(t,r){if(!t||t<100||t>699)throw new TypeError("Invalid statusCode: "+t);if(r&&"string"!=typeof r&&!(r instanceof String))throw new TypeError("Invalid reason: "+r);return"SIP/2.0 "+t+" "+(r=e.getReasonPhrase(t,r))+"\r\n"},e.fromBodyObj=function(e){var t=e.body,r=e.contentType;return{contentDisposition:function(e){return"application/sdp"===e?"session":"render"}(r),contentType:r,content:t}},e.toBodyObj=function(e){return{body:e.content,contentType:e.contentType}}}(t.Utils||(t.Utils={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),s=r(5);!function(e){var t=function(e){function t(){return e.call(this,"The session description handler has closed.")||this}return n.__extends(t,e),t}(i.Exception);e.ClosedSessionDescriptionHandlerError=t;var r=function(e){function t(){return e.call(this,"The session has terminated.")||this}return n.__extends(t,e),t}(i.Exception);e.TerminatedSessionError=r;var s=function(e){function t(t){return e.call(this,t||"Unsupported session description content type.")||this}return n.__extends(t,e),t}(i.Exception);e.UnsupportedSessionDescriptionContentTypeError=s}(t.Exceptions||(t.Exceptions={}));var o=function(e){function t(t,r,n){var i=e.call(this,n)||this;return i.code=t,i.name=r,i.message=n,i}return n.__extends(t,e),t}(i.Exception);!function(e){var t=function(e){function t(t,r){var n=e.call(this,1,"CONFIGURATION_ERROR",r?"Invalid value "+JSON.stringify(r)+" for parameter '"+t+"'":"Missing parameter: "+t)||this;return n.type=s.TypeStrings.ConfigurationError,n.parameter=t,n.value=r,n}return n.__extends(t,e),t}(o);e.ConfigurationError=t;var r=function(e){function t(t){var r=e.call(this,2,"INVALID_STATE_ERROR","Invalid status: "+t)||this;return r.type=s.TypeStrings.InvalidStateError,r.status=t,r}return n.__extends(t,e),t}(o);e.InvalidStateError=r;var i=function(e){function t(t){var r=e.call(this,3,"NOT_SUPPORTED_ERROR",t)||this;return r.type=s.TypeStrings.NotSupportedError,r}return n.__extends(t,e),t}(o);e.NotSupportedError=i;var a=function(e){function t(t){var r=e.call(this,5,"RENEGOTIATION_ERROR",t)||this;return r.type=s.TypeStrings.RenegotiationError,r}return n.__extends(t,e),t}(o);e.RenegotiationError=a;var c=function(e){function t(t,r,n){var i=e.call(this,6,"METHOD_PARAMETER_ERROR",n?"Invalid value "+JSON.stringify(n)+" for parameter '"+r+"'":"Missing parameter: "+r)||this;return i.type=s.TypeStrings.MethodParameterError,i.method=t,i.parameter=r,i.value=n,i}return n.__extends(t,e),t}(o);e.MethodParameterError=c;var u=function(e){function t(t,r,n){var i=e.call(this,8,"SESSION_DESCRIPTION_HANDLER_ERROR",n||"Error with Session Description Handler")||this;return i.type=s.TypeStrings.SessionDescriptionHandlerError,i.method=t,i.error=r,i}return n.__extends(t,e),t}(o);e.SessionDescriptionHandlerError=u}(t.Exceptions||(t.Exceptions={}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=500;t.Timers={T1:n,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(102)("wks"),i=r(57),s=r(13).Symbol,o="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=o&&s[e]||(o?s:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(19),i=r(96);e.exports=r(16)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){e.exports=!r(26)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=32);for(var r="",n=0;n<e;n++){r+=Math.floor(Math.random()*t).toString(t)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createRandomToken=n,t.getReasonPhrase=function(e){return i[e]||""},t.newTag=function(){return n(10)},t.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),n=r.length,i="",s=0;s<n;s++)0!==s&&(i+="-"),i+=r[s].charAt(0).toUpperCase()+r[s].substring(1);return t[i]&&(i=t[i]),i},t.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length};var i={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(2),a=r(5),c=r(9),u=function(e){function t(r,n,i,s){var o=e.call(this)||this;return o.data={},t.initializer(o,r,n,i,s),o}return n.__extends(t,e),t.initializer=function(e,t,r,n,i){if(e.type=a.TypeStrings.ClientContext,void 0===n)throw new TypeError("Not enough arguments");e.ua=t,e.logger=t.getLogger("sip.clientcontext"),e.method=r;var s=t.normalizeTarget(n);if(!s)throw new TypeError("Invalid target: "+n);var u=t.userAgentCore.configuration.aor;if(i&&i.params&&i.params.fromUri&&!(u="string"==typeof i.params.fromUri?o.Grammar.URIParse(i.params.fromUri):i.params.fromUri))throw new TypeError("Invalid from URI: "+i.params.fromUri);var d=s;if(i&&i.params&&i.params.toUri&&!(d="string"==typeof i.params.toUri?o.Grammar.URIParse(i.params.toUri):i.params.toUri))throw new TypeError("Invalid to URI: "+i.params.toUri);var l,p,h=((i=(i=Object.create(i||Object.prototype))||{}).extraHeaders||[]).slice(),f=i.params||{};i.body&&(l={body:i.body,contentType:i.contentType?i.contentType:"application/sdp"},e.body=l),l&&(p=c.Utils.fromBodyObj(l)),e.request=t.userAgentCore.makeOutgoingRequestMessage(r,s,u,d,f,h,p),e.request.from&&(e.localIdentity=e.request.from),e.request.to&&(e.remoteIdentity=e.request.to)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.request(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.receiveResponse=function(e){var t=e.statusCode||0,r=c.Utils.getReasonPhrase(t);switch(!0){case/^1[0-9]{2}$/.test(t.toString()):this.emit("progress",e,r);break;case/^2[0-9]{2}$/.test(t.toString()):this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("accepted",e,r);break;default:this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("rejected",e,r),this.emit("failed",e,r)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,s.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,s.C.causes.CONNECTION_ERROR)},t}(i.EventEmitter);t.ClientContext=u},function(e,t,r){var n=r(20),i=r(159),s=r(160),o=Object.defineProperty;t.f=r(16)?Object.defineProperty:function(e,t,r){if(n(e),t=s(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(11);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Accepted="Accepted",e.Calling="Calling",e.Completed="Completed",e.Confirmed="Confirmed",e.Proceeding="Proceeding",e.Terminated="Terminated",e.Trying="Trying"}(t.TransactionState||(t.TransactionState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.AllowedMethods=[n.C.ACK,n.C.BYE,n.C.CANCEL,n.C.INFO,n.C.INVITE,n.C.MESSAGE,n.C.NOTIFY,n.C.OPTIONS,n.C.PRACK,n.C.REFER,n.C.REGISTER,n.C.SUBSCRIBE]},function(e,t,r){var n=r(13),i=r(25),s=r(32),o=r(15),a=r(21),c=function(e,t,r){var u,d,l,p=e&c.F,h=e&c.G,f=e&c.S,g=e&c.P,v=e&c.B,m=e&c.W,S=h?i:i[t]||(i[t]={}),y=S.prototype,T=h?n:f?n[t]:(n[t]||{}).prototype;for(u in h&&(r=t),r)(d=!p&&T&&void 0!==T[u])&&a(S,u)||(l=d?T[u]:r[u],S[u]=h&&"function"!=typeof T[u]?r[u]:v&&d?s(l,n):m&&T[u]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):g&&"function"==typeof l?s(Function.call,l):l,g&&((S.virtual||(S.virtual={}))[u]=l,e&c.R&&y&&!y[u]&&o(y,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importStar(r(109));!function(e){e.parse=function(e,t){var r={startRule:t};try{n.parse(e,r)}catch(e){r.data=-1}return r.data},e.nameAddrHeaderParse=function(t){var r=e.parse(t,"Name_Addr_Header");return-1!==r?r:void 0},e.URIParse=function(t){var r=e.parse(t,"SIP_URI");return-1!==r?r:void 0}}(t.Grammar||(t.Grammar={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(116),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(45),t),n.__exportStar(r(117),t),n.__exportStar(r(118),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(2),a=r(5),c=r(9),u=function(e){function t(r,n){var i=e.call(this)||this;return i.incomingRequest=n,i.data={},t.initializer(i,r,n),i}return n.__extends(t,e),t.initializer=function(e,t,r){var n=r.message;if(e.type=a.TypeStrings.ServerContext,e.ua=t,e.logger=t.getLogger("sip.servercontext"),e.request=n,n.body&&(e.body=n.body),n.hasHeader("Content-Type")&&(e.contentType=n.getHeader("Content-Type")),e.method=n.method,e.localIdentity=n.to,e.remoteIdentity=n.from,n.hasHeader("P-Asserted-Identity")){var i=n.getHeader("P-Asserted-Identity");i&&(e.assertedIdentity=o.Grammar.nameAddrHeaderParse(i))}},t.prototype.progress=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||180,e.minCode=100,e.maxCode=199,e.events=["progress"],this.reply(e)},t.prototype.accept=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||200,e.minCode=200,e.maxCode=299,e.events=["accepted"],this.reply(e)},t.prototype.reject=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||480,e.minCode=300,e.maxCode=699,e.events=["rejected","failed"],this.reply(e)},t.prototype.reply=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||100,n=e.minCode||100,i=e.maxCode||699,s=c.Utils.getReasonPhrase(r,e.reasonPhrase),a=e.extraHeaders||[],u=e.body?o.fromBodyLegacy(e.body):void 0,d=e.events||[];if(r<n||r>i)throw new TypeError("Invalid statusCode: "+r);var l,p={statusCode:r,reasonPhrase:s,extraHeaders:a,body:u},h=r.toString();switch(!0){case/^100$/.test(h):l=this.incomingRequest.trying(p).message;break;case/^1[0-9]{2}$/.test(h):l=this.incomingRequest.progress(p).message;break;case/^2[0-9]{2}$/.test(h):l=this.incomingRequest.accept(p).message;break;case/^3[0-9]{2}$/.test(h):l=this.incomingRequest.redirect([],p).message;break;case/^[4-6][0-9]{2}$/.test(h):l=this.incomingRequest.reject(p).message;break;default:throw new Error("Invalid status code "+r)}return d.forEach((function(e){t.emit(e,l,s)})),this},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,s.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,s.C.causes.CONNECTION_ERROR)},t}(i.EventEmitter);t.ServerContext=u},function(e,t,r){var n=r(94);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2);t.DigestAuthentication=i.DigestAuthentication,t.Grammar=i.Grammar,t.IncomingRequest=i.IncomingRequestMessage,t.IncomingResponse=i.IncomingResponseMessage,t.LoggerFactory=i.LoggerFactory,t.NameAddrHeader=i.NameAddrHeader,t.OutgoingRequest=i.OutgoingRequestMessage,t.Parser=i.Parser,t.Timers=i.Timers,t.URI=i.URI;var s=r(18);t.ClientContext=s.ClientContext;var o=r(8);t.C=o.C;var a=r(5);t.DialogStatus=a.DialogStatus,t.SessionStatus=a.SessionStatus,t.TypeStrings=a.TypeStrings,t.UAStatus=a.UAStatus;var c=r(10);t.Exceptions=c.Exceptions;var u=r(84);t.PublishContext=u.PublishContext;var d=r(50);t.ReferClientContext=d.ReferClientContext,t.ReferServerContext=d.ReferServerContext;var l=r(85);t.RegisterContext=l.RegisterContext;var p=r(31);t.ServerContext=p.ServerContext;var h=r(86);t.InviteClientContext=h.InviteClientContext,t.InviteServerContext=h.InviteServerContext,t.Session=h.Session;var f=r(88);t.Subscription=f.Subscription;var g=r(89);t.Transport=g.Transport;var v=r(1),m={InviteClientTransaction:v.InviteClientTransaction,InviteServerTransaction:v.InviteServerTransaction,NonInviteClientTransaction:v.NonInviteClientTransaction,NonInviteServerTransaction:v.NonInviteServerTransaction};t.Transactions=m;var S=r(90);t.makeUserAgentCoreConfigurationFromUA=S.makeUserAgentCoreConfigurationFromUA,t.UA=S.UA;var y=r(9);t.Utils=y.Utils;var T=n.__importStar(r(152));t.Web=T;var b=o.C.version;t.version=b;t.name="sip.js";var E=n.__importStar(r(2));t.Core=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(154)),i=s(r(155));function s(e){return e&&e.__esModule?e:{default:e}}var o=new(s(r(161)).default),a=function(){function e(){(0,n.default)(this,e),o.set(this,{events:{}}),this.eventLength=0}return(0,i.default)(e,[{key:"on",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===t)throw new Error("You must provide a callback method.");if("function"!=typeof t)throw new TypeError("Listener must be a function");return this.events[e]=this.events[e]||[],this.events[e].push({cb:t,once:r}),this.eventLength++,this}},{key:"off",value:function(e,t){if(void 0===t)throw new Error("You must provide a callback method.");if("function"!=typeof t)throw new TypeError("Listener must be a function");if(void 0===this.events[e])throw new Error("Event not found - the event you provided is: "+e);var r=this.events[e];return r.forEach((function(e,n){e.cb===t&&r.splice(n,1)})),0===r.length&&(delete this.events[e],this.eventLength--),this}},{key:"trigger",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(void 0===e)throw new Error("You must provide an event to trigger.");var s=this.events[e],o=[];return void 0!==s&&s.forEach((function(e,r){e.cb.apply(t,n),e.once&&o.unshift(r),o.forEach((function(e,t){s.splice(t,1)}))})),this}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"destroy",value:function(){o.delete(this),this.eventLength=0}},{key:"events",get:function(){return o.get(this).events}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(36),t),n.__exportStar(r(115),t),n.__exportStar(r(80),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=function(){function e(e,t){this.core=e,this.dialogState=t,this.core.dialogs.set(this.id,this)}return e.initialDialogStateForUserAgentClient=function(e,t){var r=t.getHeaders("record-route").reverse(),i=t.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof n.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var s=i.uri,o=e.cseq,a=e.callId,c=e.fromTag,u=t.toTag;if(!a)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!u)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");var d=e.from.uri,l=e.to.uri;if(!t.statusCode)throw new Error("Incoming response status code undefined.");return{id:a+c+u,early:t.statusCode<200,callId:a,localTag:c,remoteTag:u,localSequenceNumber:o,remoteSequenceNumber:void 0,localURI:d,remoteURI:l,remoteTarget:s,routeSet:r,secure:!1}},e.initialDialogStateForUserAgentServer=function(e,t,r){void 0===r&&(r=!1);var i=e.getHeaders("record-route"),s=e.parseHeader("contact");if(!s)throw new Error("Contact undefined.");if(!(s instanceof n.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var o=s.uri,a=e.cseq,c=e.callId,u=t,d=e.fromTag,l=e.from.uri;return{id:c+u+d,early:r,callId:c,localTag:u,remoteTag:d,localSequenceNumber:void 0,remoteSequenceNumber:a,localURI:e.to.uri,remoteURI:l,remoteTarget:o,routeSet:i,secure:!1}},e.prototype.dispose=function(){this.core.dialogs.delete(this.id)},Object.defineProperty(e.prototype,"id",{get:function(){return this.dialogState.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"early",{get:function(){return this.dialogState.early},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callId",{get:function(){return this.dialogState.callId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localTag",{get:function(){return this.dialogState.localTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTag",{get:function(){return this.dialogState.remoteTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localSequenceNumber",{get:function(){return this.dialogState.localSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteSequenceNumber",{get:function(){return this.dialogState.remoteSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localURI",{get:function(){return this.dialogState.localURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteURI",{get:function(){return this.dialogState.remoteURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTarget",{get:function(){return this.dialogState.remoteTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"routeSet",{get:function(){return this.dialogState.routeSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secure",{get:function(){return this.dialogState.secure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userAgentCore",{get:function(){return this.core},enumerable:!0,configurable:!0}),e.prototype.confirm=function(){this.dialogState.early=!1},e.prototype.receiveRequest=function(e){if(e.method!==n.C.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}},e.prototype.recomputeRouteSet=function(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()},e.prototype.createOutgoingRequestMessage=function(e,t){var r,n=this.remoteURI,i=this.remoteTag,s=this.localURI,o=this.localTag,a=this.callId;r=t&&t.cseq?t.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1;var c=this.remoteTarget,u=this.routeSet,d=t&&t.extraHeaders,l=t&&t.body;return this.userAgentCore.makeOutgoingRequestMessage(e,c,s,n,{callId:a,cseq:r,fromTag:o,toTag:i,routeSet:u},d,l)},e.prototype.incrementLocalSequenceNumber=function(){if(!this.dialogState.localSequenceNumber)throw new Error("Local sequence number undefined.");this.dialogState.localSequenceNumber+=1},e.prototype.sequenceGuard=function(e){return e.method===n.C.ACK||(!(this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber)||(this.core.replyStateless(e,{statusCode:500}),!1))},e}();t.Dialog=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(){return e.call(this)||this}return n.__extends(t,e),t}(r(38).IncomingMessage);t.IncomingRequestMessage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),i=r(17),s=function(){function e(){this.headers={}}return e.prototype.addHeader=function(e,t){var r={raw:t};e=i.headerize(e),this.headers[e]?this.headers[e].push(r):this.headers[e]=[r]},e.prototype.getHeader=function(e){var t=this.headers[i.headerize(e)];if(t)return t[0]?t[0].raw:void 0},e.prototype.getHeaders=function(e){var t=this.headers[i.headerize(e)],r=[];if(!t)return[];for(var n=0,s=t;n<s.length;n++){var o=s[n];r.push(o.raw)}return r},e.prototype.hasHeader=function(e){return!!this.headers[i.headerize(e)]},e.prototype.parseHeader=function(e,t){if(void 0===t&&(t=0),e=i.headerize(e),this.headers[e]&&!(t>=this.headers[e].length)){var r=this.headers[e][t],s=r.raw;if(r.parsed)return r.parsed;var o=n.Grammar.parse(s,e.replace(/-/g,"_"));return-1===o?void this.headers[e].splice(t,1):(r.parsed=o,o)}},e.prototype.s=function(e,t){return void 0===t&&(t=0),this.parseHeader(e,t)},e.prototype.setHeader=function(e,t){this.headers[i.headerize(e)]=[{raw:t}]},e.prototype.toString=function(){return this.data},e}();t.IncomingMessage=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r,n){var i=e.call(this,n)||this;return i.uri=t,i._displayName=r,i}return n.__extends(t,e),Object.defineProperty(t.prototype,"friendlyName",{get:function(){return this.displayName||this.uri.aor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this._displayName},set:function(e){this._displayName=e},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))},t.prototype.toString=function(){var e=this.displayName||"0"===this.displayName?'"'+this.displayName+'" ':"";for(var t in e+="<"+this.uri.toString()+">",this.parameters)this.parameters.hasOwnProperty(t)&&(e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]));return e},t}(r(40).Parameters);t.NameAddrHeader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){for(var t in this.parameters={},e)e.hasOwnProperty(t)&&this.setParam(t,e[t])}return e.prototype.setParam=function(e,t){e&&(this.parameters[e.toLowerCase()]=null==t?null:t.toString())},e.prototype.getParam=function(e){if(e)return this.parameters[e.toLowerCase()]},e.prototype.hasParam=function(e){return!!e&&!!this.parameters.hasOwnProperty(e.toLowerCase())},e.prototype.deleteParam=function(e){if(e=e.toLowerCase(),this.parameters.hasOwnProperty(e)){var t=this.parameters[e];return delete this.parameters[e],t}},e.prototype.clearParams=function(){this.parameters={}},e}();t.Parameters=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r,n,i,s,o){var a=e.call(this,s)||this;if(a.headers={},!n)throw new TypeError('missing or invalid "host" parameter');for(var c in t=t||"sip",o)o.hasOwnProperty(c)&&a.setHeader(c,o[c]);return a.raw={scheme:t,user:r,host:n,port:i},a.normal={scheme:t.toLowerCase(),user:r,host:n.toLowerCase(),port:i},a}return n.__extends(t,e),Object.defineProperty(t.prototype,"scheme",{get:function(){return this.normal.scheme},set:function(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.normal.user},set:function(e){this.normal.user=this.raw.user=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this.normal.host},set:function(e){this.raw.host=e,this.normal.host=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aor",{get:function(){return this.normal.user+"@"+this.normal.host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this.normal.port},set:function(e){this.normal.port=this.raw.port=e},enumerable:!0,configurable:!0}),t.prototype.setHeader=function(e,t){this.headers[this.headerize(e)]=t instanceof Array?t:[t]},t.prototype.getHeader=function(e){if(e)return this.headers[this.headerize(e)]},t.prototype.hasHeader=function(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))},t.prototype.deleteHeader=function(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){var t=this.headers[e];return delete this.headers[e],t}},t.prototype.clearHeaders=function(){this.headers={}},t.prototype.clone=function(){return new t(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},t.prototype.toRaw=function(){return this._toString(this._raw)},t.prototype.toString=function(){return this._toString(this._normal)},Object.defineProperty(t.prototype,"_normal",{get:function(){return this.normal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_raw",{get:function(){return this.raw},enumerable:!0,configurable:!0}),t.prototype._toString=function(e){var t=e.scheme+":";for(var r in e.scheme.toLowerCase().match("^sips?$")||(t+="//"),e.user&&(t+=this.escapeUser(e.user)+"@"),t+=e.host,(e.port||0===e.port)&&(t+=":"+e.port),this.parameters)this.parameters.hasOwnProperty(r)&&(t+=";"+r,null!==this.parameters[r]&&(t+="="+this.parameters[r]));var n=[];for(var i in this.headers)if(this.headers.hasOwnProperty(i))for(var s in this.headers[i])this.headers[i].hasOwnProperty(s)&&n.push(i+"="+this.headers[i][s]);return n.length>0&&(t+="?"+n.join("&")),t},t.prototype.escapeUser=function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw e}return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},t.prototype.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),n=r.length,i="",s=0;s<n;s++)0!==s&&(i+="-"),i+=r[s].charAt(0).toUpperCase()+r[s].substring(1);return t[i]&&(i=t[i]),i},t}(r(40).Parameters);t.URI=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(){return e.call(this)||this}return n.__extends(t,e),t}(r(38).IncomingMessage);t.IncomingResponseMessage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(r,n,i,s,o){var a=e.call(this,n,i,t.makeId(r),s,o)||this;return a._request=r,a.user=i,r.setViaHeader(a.id,n.protocol),a}return n.__extends(t,e),t.makeId=function(e){if("CANCEL"===e.method){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())},Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t.prototype.onRequestTimeout=function(){this.user.onRequestTimeout&&this.user.onRequestTimeout()},t}(r(44).Transaction);t.ClientTransaction=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(30),o=function(e){function t(t,r,n,i,s){var o=e.call(this)||this;return o._transport=t,o._user=r,o._id=n,o._state=i,o.logger=r.loggerFactory.getLogger(s,n),o.logger.debug("Constructing "+o.typeToString()+" with id "+o.id+"."),o}return n.__extends(t,e),t.prototype.dispose=function(){this.logger.debug("Destroyed "+this.typeToString()+" with id "+this.id+".")},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){throw new Error("Invalid kind.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transport",{get:function(){return this._transport},enumerable:!0,configurable:!0}),t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.logTransportError=function(e,t){this.logger.error(e.message),this.logger.error("Transport error occurred in "+this.typeToString()+" with id "+this.id+"."),this.logger.error(t)},t.prototype.send=function(e){var t=this;return this.transport.send(e).catch((function(e){if(e instanceof s.TransportError)throw t.onTransportError(e),e;var r;throw r=e&&"string"==typeof e.message?new s.TransportError(e.message):new s.TransportError,t.onTransportError(r),r}))},t.prototype.setState=function(e){this.logger.debug('State change to "'+e+'" on '+this.typeToString()+" with id "+this.id+"."),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.emit("stateChanged")},t.prototype.typeToString=function(){return"UnknownType"},t}(i.EventEmitter);t.Transaction=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.setPrototypeOf(n,r.prototype),n}return n.__extends(t,e),t}(Error);t.Exception=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r,n,i,s){var o=e.call(this,r,n,t.viaBranch,i,s)||this;return o._request=t,o.user=n,o}return n.__extends(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t}(r(44).Transaction);t.ServerTransaction=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=void 0!==t.userAgentCore?t.userAgentCore:t;return e.call(this,i.NonInviteServerTransaction,s,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.NotifyUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(122),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.error=0]="error",e[e.warn=1]="warn",e[e.log=2]="log",e[e.debug=3]="debug"}(t.Levels||(t.Levels={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(18),s=r(8),o=r(2),a=r(5),c=r(10),u=r(31),d=function(e){function t(t,r,n,i){void 0===i&&(i={});var o=this;if(void 0===t||void 0===r||void 0===n)throw new TypeError("Not enough arguments");return(o=e.call(this,t,s.C.REFER,r.remoteIdentity.uri.toString(),i)||this).type=a.TypeStrings.ReferClientContext,o.options=i,o.extraHeaders=(o.options.extraHeaders||[]).slice(),o.applicant=r,o.target=o.initReferTo(n),o.ua&&o.extraHeaders.push("Referred-By: <"+o.ua.configuration.uri+">"),o.extraHeaders.push("Contact: "+r.contact),o.extraHeaders.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),o.extraHeaders.push("Refer-To: "+o.target),o.errorListener=o.onTransportError.bind(o),t.transport&&t.transport.on("transportError",o.errorListener),o}return n.__extends(t,e),t.prototype.refer=function(e){var t=this;void 0===e&&(e={});var r=(this.extraHeaders||[]).slice();return e.extraHeaders&&r.concat(e.extraHeaders),this.applicant.sendRequest(s.C.REFER,{extraHeaders:this.extraHeaders,receiveResponse:function(r){var n=r&&r.statusCode?r.statusCode.toString():"";/^1[0-9]{2}$/.test(n)?t.emit("referRequestProgress",t):/^2[0-9]{2}$/.test(n)?t.emit("referRequestAccepted",t):/^[4-6][0-9]{2}$/.test(n)&&t.emit("referRequestRejected",t),e.receiveResponse&&e.receiveResponse(r)}}),this},t.prototype.receiveNotify=function(e){var t=e.message.hasHeader("Content-Type")?e.message.getHeader("Content-Type"):void 0;if(t&&-1!==t.search(/^message\/sipfrag/)){var r=o.Grammar.parse(e.message.body,"sipfrag");if(-1===r)return void e.reject({statusCode:489,reasonPhrase:"Bad Event"});switch(!0){case/^1[0-9]{2}$/.test(r.status_code):this.emit("referProgress",this);break;case/^2[0-9]{2}$/.test(r.status_code):this.emit("referAccepted",this),!this.options.activeAfterTransfer&&this.applicant.terminate&&this.applicant.terminate();break;default:this.emit("referRejected",this)}return e.accept(),void this.emit("notify",e.message)}e.reject({statusCode:489,reasonPhrase:"Bad Event"})},t.prototype.initReferTo=function(e){var t;if("string"==typeof e){var r=o.Grammar.parse(e,"Refer_To");t=r&&r.uri?r.uri:e;var n=this.ua.normalizeTarget(e);if(!n)throw new TypeError("Invalid target: "+e);t=n}else{if(!e.session)throw new Error("Session undefined.");var i=e.remoteIdentity.friendlyName,s=e.session.remoteTarget.toString(),a=e.session.callId,c=e.session.remoteTag,u=e.session.localTag;t='"'+i+'" <'+s+"?Replaces="+encodeURIComponent(a+";to-tag="+c+";from-tag="+u)+">"}return t},t}(i.ClientContext);t.ReferClientContext=d;var l=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.session=n,i.type=a.TypeStrings.ReferServerContext,i.ua=t,i.status=a.SessionStatus.STATUS_INVITE_RECEIVED,i.fromTag=i.request.fromTag,i.id=i.request.callId+i.fromTag,i.contact=i.ua.contact.toString(),i.logger=t.getLogger("sip.referservercontext",i.id),i.cseq=Math.floor(1e4*Math.random()),i.callId=i.request.callId,i.fromUri=i.request.to.uri,i.fromTag=i.request.to.parameters.tag,i.remoteTarget=i.request.headers.Contact[0].parsed.uri,i.toUri=i.request.from.uri,i.toTag=i.request.fromTag,i.routeSet=i.request.getHeaders("record-route"),i.request.hasHeader("refer-to")?(i.referTo=i.request.parseHeader("refer-to"),i.referredSession=i.ua.findSession(i.request),i.request.hasHeader("referred-by")&&(i.referredBy=i.request.getHeader("referred-by")),i.referTo.uri.hasHeader("replaces")&&(i.replaces=i.referTo.uri.getHeader("replaces")),i.errorListener=i.onTransportError.bind(i),t.transport&&t.transport.on("transportError",i.errorListener),i.status=a.SessionStatus.STATUS_WAITING_FOR_ANSWER,i):(i.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting refer."),i.reject(),i)}return n.__extends(t,e),t.prototype.progress=function(){if(this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new c.Exceptions.InvalidStateError(this.status);this.incomingRequest.trying()},t.prototype.reject=function(t){if(void 0===t&&(t={}),this.status===a.SessionStatus.STATUS_TERMINATED)throw new c.Exceptions.InvalidStateError(this.status);this.logger.log("Rejecting refer"),this.status=a.SessionStatus.STATUS_TERMINATED,e.prototype.reject.call(this,t),this.emit("referRequestRejected",this)},t.prototype.accept=function(e,t){var r=this;if(void 0===e&&(e={}),this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new c.Exceptions.InvalidStateError(this.status);if(this.status=a.SessionStatus.STATUS_ANSWERED,this.incomingRequest.accept({statusCode:202,reasonPhrase:"Accepted"}),this.emit("referRequestAccepted",this),e.followRefer){this.logger.log("Accepted refer, attempting to automatically follow it");var n=this.referTo.uri;if(!n.scheme||!n.scheme.match("^sips?$"))return this.logger.error("SIP.js can only automatically follow SIP refer target"),void this.reject();var i=e.inviteOptions||{},s=(i.extraHeaders||[]).slice();if(this.replaces&&s.push("Replaces: "+decodeURIComponent(this.replaces)),this.referredBy&&s.push("Referred-By: "+this.referredBy),i.extraHeaders=s,n.clearHeaders(),this.targetSession=this.ua.invite(n.toString(),i,t),this.emit("referInviteSent",this),this.targetSession){this.targetSession.once("progress",(function(e){var t=e.statusCode||100,n=e.reasonPhrase;r.sendNotify(("SIP/2.0 "+t+" "+n).trim()),r.emit("referProgress",r),r.referredSession&&r.referredSession.emit("referProgress",r)})),this.targetSession.once("accepted",(function(){r.logger.log("Successfully followed the refer"),r.sendNotify("SIP/2.0 200 OK"),r.emit("referAccepted",r),r.referredSession&&r.referredSession.emit("referAccepted",r)}));var o=function(e){if(r.status!==a.SessionStatus.STATUS_TERMINATED){if(r.logger.log("Refer was not successful. Resuming session"),e&&429===e.statusCode)return r.logger.log("Alerting referrer that identity is required."),void r.sendNotify("SIP/2.0 429 Provide Referrer Identity");r.sendNotify("SIP/2.0 603 Declined"),r.status=a.SessionStatus.STATUS_TERMINATED,r.emit("referRejected",r),r.referredSession&&r.referredSession.emit("referRejected")}};this.targetSession.once("rejected",o),this.targetSession.once("failed",o)}}else this.logger.log("Accepted refer, but did not automatically follow it"),this.sendNotify("SIP/2.0 200 OK"),this.emit("referAccepted",this),this.referredSession&&this.referredSession.emit("referAccepted",this)},t.prototype.sendNotify=function(e){if(this.status!==a.SessionStatus.STATUS_ANSWERED)throw new c.Exceptions.InvalidStateError(this.status);if(-1===o.Grammar.parse(e,"sipfrag"))throw new Error("sipfrag body is required to send notify for refer");var t={contentDisposition:"render",contentType:"message/sipfrag",content:e};if(this.session)this.session.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:t});else{var r=this.ua.userAgentCore.makeOutgoingRequestMessage(s.C.NOTIFY,this.remoteTarget,this.fromUri,this.toUri,{cseq:this.cseq+=1,callId:this.callId,fromTag:this.fromTag,toTag:this.toTag,routeSet:this.routeSet},["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],t),n=this.ua.transport;if(!n)throw new Error("Transport undefined.");var i={loggerFactory:this.ua.getLoggerFactory()};new o.NonInviteClientTransaction(r,n,i)}},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t}(u.ServerContext);t.ReferServerContext=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var r,n=[],i=e.split(/\r\n/),s=0;s<i.length;){var o=i[s];if(/^m=(?:audio|video)/.test(o))r={index:s,stripped:[]},n.push(r);else if(r){var a=/^a=rtpmap:(\d+) ([^/]+)\//.exec(o);if(a&&t===a[2]){i.splice(s,1),r.stripped.push(a[1]);continue}}s++}for(var c=0,u=n;c<u.length;c++){for(var d=u[c],l=i[d.index].split(" "),p=3;p<l.length;)-1===d.stripped.indexOf(l[p])?p++:l.splice(p,1);i[d.index]=l.join(" ")}return i.join("\r\n")};t.stripTcpCandidates=function(e){return e.sdp=(e.sdp||"").replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,""),Promise.resolve(e)},t.stripTelephoneEvent=function(e){return e.sdp=n(e.sdp||"","telephone-event"),Promise.resolve(e)},t.cleanJitsiSdpImageattr=function(e){return e.sdp=(e.sdp||"").replace(/^(a=imageattr:.*?)(x|y)=\[0-/gm,"$1$2=[1:"),Promise.resolve(e)},t.stripG722=function(e){return e.sdp=n(e.sdp||"","G722"),Promise.resolve(e)},t.stripRtpPayload=function(e){return function(t){return t.sdp=n(t.sdp||"",e),Promise.resolve(t)}},t.stripVideo=function(e){return e.sdp=function(e,t){var r=new RegExp("m="+t+".*$","gm"),n=new RegExp("^a=group:.*$","gm");if(r.test(e)){var i,s=(e=e.split(/^m=/gm).filter((function(e){if(e.substr(0,t.length)===t){if(i=e.match(/^a=mid:.*$/gm)){var r=i[0].match(/:.+$/g);r&&(i=r[0].substr(1))}return!1}return!0})).join("m=")).match(n);if(s&&1===s.length){var o=s[0],a=new RegExp(" *"+i+"[^ ]*","g");o=o.replace(a,""),e=e.split(n).join(o)}}return e}(e.sdp||"","video"),Promise.resolve(e)},t.addMidLines=function(e){var t=e.sdp||"";if(-1===t.search(/^a=mid.*$/gm)){var r=t.match(/^m=.*$/gm),n=t.split(/^m=.*$/gm);r&&r.forEach((function(e,t){r[t]=e+"\na=mid:"+t})),n.forEach((function(e,t){r&&r[t]&&(n[t]=e+r[t])})),t=n.join(""),e.sdp=t}return Promise.resolve(e)}},function(e,t,r){var n=r(53),i=r(97);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(54);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(101),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(102)("keys"),i=r(57);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(19).f,i=r(21),s=r(14)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},function(e,t,r){var n=r(97);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(32),i=r(53),s=r(59),o=r(55),a=r(178);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,d=4==e,l=6==e,p=5==e||l,h=t||a;return function(t,a,f){for(var g,v,m=s(t),S=i(m),y=n(a,f,3),T=o(S.length),b=0,E=r?h(t,T):c?h(t,0):void 0;T>b;b++)if((p||b in S)&&(v=y(g=S[b],b,m),e))if(r)E[b]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return b;case 2:E.push(g)}else if(d)return!1;return l?-1:u||d?d:E}}},function(e,t,r){var n=r(57)("meta"),i=r(11),s=r(21),o=r(19).f,a=0,c=Object.isExtensible||function(){return!0},u=!r(26)((function(){return c(Object.preventExtensions({}))})),d=function(e){o(e,n,{value:{i:"O"+ ++a,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!s(e,n)&&d(e),e}}},function(e,t,r){var n=r(32),i=r(185),s=r(186),o=r(20),a=r(55),c=r(187),u={},d={};(t=e.exports=function(e,t,r,l,p){var h,f,g,v,m=p?function(){return e}:c(e),S=n(r,l,t?2:1),y=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(s(m)){for(h=a(e.length);h>y;y++)if((v=t?S(o(f=e[y])[0],f[1]):S(e[y]))===u||v===d)return v}else for(g=m.call(e);!(f=g.next()).done;)if((v=i(g,S,f.value,t))===u||v===d)return v}).BREAK=u,t.RETURN=d},function(e,t,r){var n=r(11);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return d}));var n=r(34);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,t);var r,n,i,c=a(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this))._mute=!1,t._status="starting",t._callType="",t.UA=e,t._docBody=document.getElementsByTagName("body")[0],t.audioElement=!1,t.UA.start(),t}return r=u,(n=[{key:"makeCall",value:function(e){this._callType="outgoing",this._session=this.UA.invite(e,this._getAudioElement()),this._attatchSessionEvents(this._session)}},{key:"incomingCall",value:function(e){this._callType="incoming",this._session=e,this._attatchSessionEvents()}},{key:"_getAudioElement",value:function(){return this.audioElement||(console.log("this.audioElement",this.audioElement),this.audioElement=document.createElement("audio"),this.audioElement.className="cdcts-sipjs-remote-audio",this._docBody.appendChild(this.audioElement)),this.audioElement}},{key:"_attatchSessionEvents",value:function(t){var r=this;this._session.on("connecting",(function(){r.trigger("connecting"),r._status="initiating"})),this._session.on("progress",(function(t){183==t.statusCode&&t.body&&r._session.hasOffer&&!r._session.dialog&&(t.hasHeader("require")&&-1!==t.getHeader("require").indexOf("100rel")||r._session.sessionDescriptionHandler.hasDescription(t.getHeader("Content-Type"))&&(r._session.status=e.Session.C.STATUS_EARLY_MEDIA)),r.trigger("progress",t)})),this._session.on("accepted",(function(e){r.trigger("accepted",e),r._status="connected"})),this._session.on("dtmf",(function(e,t){return r.trigger("dtmf",e,t)})),this._session.on("muted",(function(e){return r.trigger("muted",e)})),this._session.on("unmuted",(function(e){return r.trigger("unmuted",e)})),this._session.on("cancel",(function(){r.trigger("cancel"),r._status="ended"})),this._session.on("refer",(function(e,t,n){r.trigger("rejected")})),this._session.on("replaced",(function(e){r.trigger("rejected",e)})),this._session.on("rejected",(function(e,t){r.trigger("rejected",e,t),r._status="ended"})),this._session.on("failed",(function(e,t){r.trigger("failed",e,t),r._status="ended"})),this._session.on("terminated",(function(e,t){r.trigger("terminated",e,t),r._status="ended"})),this._session.on("bye",(function(){r.trigger("bye"),r._status="ended"})),this._session.on("trackAdded",(function(){if(t){var e=t.sessionDescriptionHandler.peerConnection,r=new MediaStream;e.getReceivers().forEach((function(e){r.addTrack(e.track)})),void 0!==t.passedOptions.srcObject?t.passedOptions.srcObject=r:void 0!==t.passedOptions.mozSrcObject?t.passedOptions.mozSrcObject=r:void 0!==t.passedOptions.src?t.passedOptions.src=URL.createObjectURL(r):console.log("Error attaching stream to element."),t.passedOptions.play()}}))}},{key:"answer",value:function(){"incoming"===this._callType?(this._session.accept({media:{constraints:{audio:!0,video:!1},render:{remote:this._getAudioElement()}},sessionDescriptionHandlerOptions:{constraints:{audio:!0,video:!1},render:{remote:this._getAudioElement()}}}),this._attatchSessionEvents(this)):console.error("accept() method is only valid on incoming calls")}},{key:"reject",value:function(){"incoming"===this._callType?this._session.reject():console.error("reject() method is only valid on incoming calls")}},{key:"request",get:function(){return!!this._session&&("incoming"===this._callType?this._session.transaction.request:"outgoing"===this._callType&&this._session.request)}},{key:"isInitiating",value:function(){return"initiating"===this._status}},{key:"isConnected",value:function(){return"connected"===this._status}},{key:"isEnded",value:function(){return"ended"===this._status}},{key:"isIncoming",value:function(){return"incoming"===this._callType}},{key:"isOutgoing",value:function(){return"outgoing"===this._callType}},{key:"terminate",value:function(){this._session.terminate()}},{key:"shutdown",value:function(){this.UA.stop()}},{key:"mute",value:function(e){this._mute=e,this._mute?this._session.mute():this._session.unmute()}},{key:"hold",value:function(e){e?this._session.hold():this._session.unhold()}},{key:"isMuted",value:function(){return this._mute}},{key:"sendDigits",value:function(e){this._session.dtmf(e)}},{key:"refer",value:function(e){this._session.refer(e)}},{key:"status",value:function(){return this._status}},{key:"_waitingForApplyingAnswer",value:function(e,t){var r,n=1;setTimeout((function i(){n++,r=setTimeout(i,10),(e&&e.hasAnswer||n>14)&&(e.hasAnswer?clearTimeout(r):15===n&&(clearTimeout(r),e.sessionDescriptionHandler.setDescription(t.body).catch((function(r){e.logger.warn(r),e.failed(t,C.causes.BAD_MEDIA_DESCRIPTION),e.terminate({statusCode:488,reason_phrase:"Bad Media Description"})}))))}),10)}}])&&s(r.prototype,n),i&&s(r,i),u}(r.n(n).a)}).call(this,r(33))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(39),s=r(17),o=function(){function e(t,r,i,o,a,c,u){this.headers={},this.extraHeaders=[],this.options=e.getDefaultOptions(),a&&(this.options=n.__assign(n.__assign({},this.options),a),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),c&&c.length&&(this.extraHeaders=c.slice()),u&&(this.body={body:u.content,contentType:u.contentType}),this.method=t,this.ruri=r.clone(),this.fromURI=i.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:s.newTag(),this.from=e.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=o.clone(),this.toTag=this.options.toTag,this.to=e.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+s.createRandomToken(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}return e.getDefaultOptions=function(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}},e.makeNameAddrHeader=function(e,t,r){var n={};return r&&(n.tag=r),new i.NameAddrHeader(e,t,n)},e.prototype.getHeader=function(e){var t=this.headers[s.headerize(e)];if(t){if(t[0])return t[0]}else for(var r=new RegExp("^\\s*"+e+"\\s*:","i"),n=0,i=this.extraHeaders;n<i.length;n++){var o=i[n];if(r.test(o))return o.substring(o.indexOf(":")+1).trim()}},e.prototype.getHeaders=function(e){var t=[],r=this.headers[s.headerize(e)];if(r)for(var n=0,i=r;n<i.length;n++){var o=i[n];t.push(o)}else for(var a=new RegExp("^\\s*"+e+"\\s*:","i"),c=0,u=this.extraHeaders;c<u.length;c++){var d=u[c];a.test(d)&&t.push(d.substring(d.indexOf(":")+1).trim())}return t},e.prototype.hasHeader=function(e){if(this.headers[s.headerize(e)])return!0;for(var t=new RegExp("^\\s*"+e+"\\s*:","i"),r=0,n=this.extraHeaders;r<n.length;r++){var i=n[r];if(t.test(i))return!0}return!1},e.prototype.setHeader=function(e,t){this.headers[s.headerize(e)]=t instanceof Array?t:[t]},e.prototype.setViaHeader=function(e,t){this.options.hackViaTcp&&(t="TCP");var r="SIP/2.0/"+t;r+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(r+=";rport"),this.setHeader("via",r),this.branch=e},e.prototype.toString=function(){var e="";for(var t in e+=this.method+" "+this.ruri.toRaw()+" SIP/2.0\r\n",this.headers)if(this.headers[t])for(var r=0,n=this.headers[t];r<n.length;r++){e+=t+": "+n[r]+"\r\n"}for(var i=0,o=this.extraHeaders;i<o.length;i++){e+=(t=o[i]).trim()+"\r\n"}return e+="Supported: "+this.options.optionTags.join(", ")+"\r\n",e+="User-Agent: "+this.options.userAgentString+"\r\n",this.body?"string"==typeof this.body?(e+="Content-Length: "+s.str_utf8_length(this.body)+"\r\n\r\n",e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+"\r\n",e+="Content-Length: "+s.str_utf8_length(this.body.body)+"\r\n\r\n",e+=this.body.body):e+="Content-Length: 0\r\n\r\n":e+="Content-Length: 0\r\n\r\n",e},e}();t.OutgoingRequestMessage=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),s=r(43),o=r(22),a=function(e){function t(t,r,n){var s=e.call(this,t,r,n,o.TransactionState.Calling,"sip.transaction.ict")||this;return s.ackRetransmissionCache=new Map,s.B=setTimeout((function(){return s.timer_B()}),i.Timers.TIMER_B),s.send(t.toString()).catch((function(e){s.logTransportError(e,"Failed to send initial outgoing request.")})),s}return n.__extends(t,e),t.prototype.dispose=function(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ict"},enumerable:!0,configurable:!0}),t.prototype.ackResponse=function(e){var t=this,r=e.toTag;if(!r)throw new Error("To tag undefined.");var n="z9hG4bK"+Math.floor(1e7*Math.random());e.setViaHeader(n,this.transport.protocol),this.ackRetransmissionCache.set(r,e),this.send(e.toString()).catch((function(e){t.logTransportError(e,"Failed to send ACK to 2xx response.")}))},t.prototype.receiveResponse=function(e){var t=this,r=e.statusCode;if(!r||r<100||r>699)throw new Error("Invalid status code "+r);switch(this.state){case o.TransactionState.Calling:if(r>=100&&r<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=200&&r<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=300&&r<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(r>=100&&r<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=200&&r<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=300&&r<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Accepted:if(r>=200&&r<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));var n=this.ackRetransmissionCache.get(e.toTag);return n?void this.send(n.toString()).catch((function(e){t.logTransportError(e,"Failed to send retransmission of ACK to 2xx response.")})):void 0}break;case o.TransactionState.Completed:if(r>=300&&r<=699)return void this.ack(e);break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var i="Received unexpected "+r+" response while in state "+this.state+".";this.logger.warn(i)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"INVITE client transaction"},t.prototype.ack=function(e){var t=this,r=this.request.ruri,n=this.request.callId,i=this.request.cseq,s=this.request.getHeader("from"),o=e.getHeader("to"),a=this.request.getHeader("via"),c=this.request.getHeader("route");if(!s)throw new Error("From undefined.");if(!o)throw new Error("To undefined.");if(!a)throw new Error("Via undefined.");var u="ACK "+r+" SIP/2.0\r\n";c&&(u+="Route: "+c+"\r\n"),u+="Via: "+a+"\r\n",u+="To: "+o+"\r\n",u+="From: "+s+"\r\n",u+="Call-ID: "+n+"\r\n",u+="CSeq: "+i+" ACK\r\n",u+="Max-Forwards: 70\r\n",u+="Content-Length: 0\r\n\r\n",this.send(u).catch((function(e){t.logTransportError(e,"Failed to send ACK to non-2xx response.")}))},t.prototype.stateTransition=function(e,t){var r=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+r.state+" to "+e)};switch(e){case o.TransactionState.Calling:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Calling&&n();break;case o.TransactionState.Accepted:case o.TransactionState.Completed:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Accepted&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}this.B&&(clearTimeout(this.B),this.B=void 0),o.TransactionState.Proceeding,e===o.TransactionState.Completed&&(this.D=setTimeout((function(){return r.timer_D()}),i.Timers.TIMER_D)),e===o.TransactionState.Accepted&&(this.M=setTimeout((function(){return r.timer_M()}),i.Timers.TIMER_M)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_A=function(){},t.prototype.timer_B=function(){this.logger.debug("Timer B expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Calling&&(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))},t.prototype.timer_D=function(){this.logger.debug("Timer D expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t.prototype.timer_M=function(){this.logger.debug("Timer M expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Accepted&&this.stateTransition(o.TransactionState.Terminated)},t}(s.ClientTransaction);t.InviteClientTransaction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o,a=t.createOutgoingRequestMessage(i.C.BYE,n);return o=e.call(this,s.NonInviteClientTransaction,t.userAgentCore,a,r)||this,t.dispose(),o}return n.__extends(t,e),t}(r(4).UserAgentClient);t.ByeUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.ByeUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=t.createOutgoingRequestMessage(i.C.INFO,n);return e.call(this,s.NonInviteClientTransaction,t.userAgentCore,o,r)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.InfoUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.InfoUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.MessageUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.MessageUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=t.createOutgoingRequestMessage(i.C.NOTIFY,n);return e.call(this,s.NonInviteClientTransaction,t.userAgentCore,o,r)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.NotifyUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o,a=t.createOutgoingRequestMessage(i.C.PRACK,n);return o=e.call(this,s.NonInviteClientTransaction,t.userAgentCore,a,r)||this,t.signalingStateTransition(a),o}return n.__extends(t,e),t}(r(4).UserAgentClient);t.PrackUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this;return t.signalingStateTransition(r),s.dialog=t,s}return n.__extends(t,e),t.prototype.accept=function(t){return void 0===t&&(t={statusCode:200}),t.body&&this.dialog.signalingStateTransition(t.body),e.prototype.accept.call(this,t)},t}(r(6).UserAgentServer);t.PrackUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=this,a=t.createOutgoingRequestMessage(i.C.INVITE,n);return(o=e.call(this,s.InviteClientTransaction,t.userAgentCore,a,r)||this).delegate=r,t.signalingStateTransition(a),t.reinviteUserAgentClient=o,o.dialog=t,o}return n.__extends(t,e),t.prototype.receiveResponse=function(e){var t=this;if(this.authenticationGuard(e,this.dialog)){var r=e.statusCode?e.statusCode.toString():"";if(!r)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(r):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(r):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:function(e){throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(r):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:function(e){return t.dialog.ack(e)}});break;case/^3[0-9]{2}$/.test(r):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(r):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+r)}}},t}(r(4).UserAgentClient);t.ReInviteUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.InviteServerTransaction,t.userAgentCore,r,n)||this;return t.reinviteUserAgentServer=s,s.dialog=t,s}return n.__extends(t,e),t.prototype.accept=function(t){void 0===t&&(t={statusCode:200}),t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(this.dialog.routeSet.map((function(e){return"Record-Route: "+e})));var r=e.prototype.accept.call(this,t),i=this.dialog,s=n.__assign(n.__assign({},r),{session:i});return t.body&&this.dialog.signalingStateTransition(t.body),this.dialog.reConfirm(),s},t.prototype.progress=function(t){void 0===t&&(t={statusCode:180});var r=e.prototype.progress.call(this,t),i=this.dialog,s=n.__assign(n.__assign({},r),{session:i});return t.body&&this.dialog.signalingStateTransition(t.body),s},t.prototype.redirect=function(e,t){throw void 0===t&&(t={statusCode:302}),this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,new Error("Unimplemented.")},t.prototype.reject=function(t){return void 0===t&&(t={statusCode:488}),this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,e.prototype.reject.call(this,t)},t}(r(6).UserAgentServer);t.ReInviteUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=t.createOutgoingRequestMessage(i.C.REFER,n);return e.call(this,s.NonInviteClientTransaction,t.userAgentCore,o,r)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.ReferUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=void 0!==t.userAgentCore?t.userAgentCore:t;return e.call(this,i.NonInviteServerTransaction,s,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.ReferUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(48),o=r(12),a=r(23),c=r(47),u=r(81),d=function(e){function t(t,r,n,i,s,o){var a=e.call(this,i,s)||this;return a.delegate=o,a._autoRefresh=!1,a._subscriptionEvent=t,a._subscriptionExpires=r,a._subscriptionExpiresInitial=r,a._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),a._subscriptionRefresh=void 0,a._subscriptionRefreshLastSet=void 0,a._subscriptionState=n,a.logger=i.loggerFactory.getLogger("sip.subscribe-dialog"),a.logger.log("SUBSCRIBE dialog "+a.id+" constructed"),a}return n.__extends(t,e),t.initialDialogStateForSubscription=function(e,t){var r=t.getHeaders("record-route"),n=t.parseHeader("contact");if(!n)throw new Error("Contact undefined.");if(!(n instanceof i.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var s=n.uri,o=e.cseq,a=e.callId,c=e.fromTag,u=t.fromTag;if(!a)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!u)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:a+c+u,early:!1,callId:a,localTag:c,remoteTag:u,localSequenceNumber:o,remoteSequenceNumber:void 0,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:s,routeSet:r,secure:!1}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log("SUBSCRIBE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"autoRefresh",{get:function(){return this._autoRefresh},set:function(e){this._autoRefresh=!0,this.refreshTimerSet()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionEvent",{get:function(){return this._subscriptionEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpires",{get:function(){var e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet,t=this._subscriptionExpires-e;return Math.max(t,0)},set:function(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){var t=this.subscriptionRefresh;(void 0===t||t>=e)&&this.refreshTimerSet()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpiresInitial",{get:function(){return this._subscriptionExpiresInitial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionRefresh",{get:function(){if(void 0!==this._subscriptionRefresh&&void 0!==this._subscriptionRefreshLastSet){var e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet,t=this._subscriptionRefresh-e;return Math.max(t,0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionState",{get:function(){return this._subscriptionState},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(t){if(this.logger.log("SUBSCRIBE dialog "+this.id+" received "+t.method+" request"),this.sequenceGuard(t))switch(e.prototype.receiveRequest.call(this,t),t.method){case i.C.NOTIFY:this.onNotify(t);break;default:this.logger.log("SUBSCRIBE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501})}else this.logger.log("SUBSCRIBE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.refresh=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.subscribe=function(e,t){var r=this;if(void 0===t&&(t={}),this.subscriptionState!==s.SubscriptionState.Pending&&this.subscriptionState!==s.SubscriptionState.Active)throw new Error("Invalid state "+this.subscriptionState+'. May only re-subscribe while in state "pending" or "active".');this.logger.log("SUBSCRIBE dialog "+this.id+" sending SUBSCRIBE request");var n=new u.ReSubscribeUserAgentClient(this,e,t);return this.N=setTimeout((function(){return r.timer_N()}),o.Timers.TIMER_N),n},t.prototype.terminate=function(){this.stateTransition(s.SubscriptionState.Terminated),this.onTerminated()},t.prototype.unsubscribe=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: 0"),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.onNotify=function(e){var t=e.parseHeader("Event").event;if(t&&t===this.subscriptionEvent){this.N&&(clearTimeout(this.N),this.N=void 0);var r=e.parseHeader("Subscription-State");if(r&&r.state){var n=r.state,i=r.expires?Math.max(r.expires,0):void 0;switch(n){case"pending":this.stateTransition(s.SubscriptionState.Pending,i);break;case"active":this.stateTransition(s.SubscriptionState.Active,i);break;case"terminated":this.stateTransition(s.SubscriptionState.Terminated,i);break;default:this.logger.warn("Unrecognized subscription state.")}var o=new c.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(o):o.accept()}else this.core.replyStateless(e,{statusCode:489})}else this.core.replyStateless(e,{statusCode:489})},t.prototype.onRefresh=function(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)},t.prototype.onTerminated=function(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()},t.prototype.refreshTimerClear=function(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)},t.prototype.refreshTimerSet=function(){var e=this;if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){var t=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(t/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout((function(){e.refreshTimer=void 0,e._subscriptionRefresh=void 0,e._subscriptionRefreshLastSet=void 0,e.onRefresh(e.refresh())}),t)}},t.prototype.stateTransition=function(e,t){var r=this,n=function(){r.logger.warn("Invalid subscription state transition from "+r.subscriptionState+" to "+e)};switch(e){case s.SubscriptionState.Initial:case s.SubscriptionState.NotifyWait:return void n();case s.SubscriptionState.Pending:if(this.subscriptionState!==s.SubscriptionState.NotifyWait&&this.subscriptionState!==s.SubscriptionState.Pending)return void n();break;case s.SubscriptionState.Active:case s.SubscriptionState.Terminated:if(this.subscriptionState!==s.SubscriptionState.NotifyWait&&this.subscriptionState!==s.SubscriptionState.Pending&&this.subscriptionState!==s.SubscriptionState.Active)return void n();break;default:return void n()}e===s.SubscriptionState.Pending&&t&&(this.subscriptionExpires=t),e===s.SubscriptionState.Active&&t&&(this.subscriptionExpires=t),e===s.SubscriptionState.Terminated&&this.dispose(),this._subscriptionState=e},t.prototype.timer_N=function(){this.subscriptionState!==s.SubscriptionState.Terminated&&(this.stateTransition(s.SubscriptionState.Terminated),this.onTerminated())},t}(r(36).Dialog);t.SubscriptionDialog=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=this,a=t.createOutgoingRequestMessage(i.C.SUBSCRIBE,n);return(o=e.call(this,s.NonInviteClientTransaction,t.userAgentCore,a,r)||this).dialog=t,o}return n.__extends(t,e),t.prototype.waitNotifyStop=function(){},t.prototype.receiveResponse=function(t){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var r=t.getHeader("Expires");if(r){var n=Number(r);this.dialog.subscriptionExpires>n&&(this.dialog.subscriptionExpires=n)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}if(t.statusCode&&t.statusCode>=400&&t.statusCode<700){-1!==[404,405,410,416,480,481,482,483,484,485,489,501,604].indexOf(t.statusCode)&&this.dialog.terminate()}e.prototype.receiveResponse.call(this,t)},t}(r(4).UserAgentClient);t.ReSubscribeUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(49),i=function(){function e(e,t,r){this.logger=e,this.category=t,this.label=r}return e.prototype.error=function(e){this.genericLog(n.Levels.error,e)},e.prototype.warn=function(e){this.genericLog(n.Levels.warn,e)},e.prototype.log=function(e){this.genericLog(n.Levels.log,e)},e.prototype.debug=function(e){this.genericLog(n.Levels.debug,e)},e.prototype.genericLog=function(e,t){this.logger.genericLog(e,this.category,this.label,t)},e}();t.Logger=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(67),t),n.__exportStar(r(68),t),n.__exportStar(r(127),t),n.__exportStar(r(69),t),n.__exportStar(r(70),t),n.__exportStar(r(128),t),n.__exportStar(r(129),t),n.__exportStar(r(71),t),n.__exportStar(r(72),t),n.__exportStar(r(73),t),n.__exportStar(r(47),t),n.__exportStar(r(130),t),n.__exportStar(r(74),t),n.__exportStar(r(75),t),n.__exportStar(r(76),t),n.__exportStar(r(77),t),n.__exportStar(r(81),t),n.__exportStar(r(131),t),n.__exportStar(r(78),t),n.__exportStar(r(79),t),n.__exportStar(r(132),t),n.__exportStar(r(133),t),n.__exportStar(r(134),t),n.__exportStar(r(135),t),n.__exportStar(r(4),t),n.__exportStar(r(6),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(18),s=r(8),o=r(2),a=r(5),c=r(10),u=r(9),d=function(e){function t(t,r,n,i){void 0===i&&(i={});var o=this;if(i.extraHeaders=(i.extraHeaders||[]).slice(),i.contentType=i.contentType||"text/plain","number"!=typeof i.expires||i.expires%1!=0?i.expires=3600:i.expires=Number(i.expires),"boolean"!=typeof i.unpublishOnClose&&(i.unpublishOnClose=!0),null==r||""===r)throw new c.Exceptions.MethodParameterError("Publish","Target",r);if(void 0===(r=t.normalizeTarget(r)))throw new c.Exceptions.MethodParameterError("Publish","Target",r);if((o=e.call(this,t,s.C.PUBLISH,r,i)||this).type=a.TypeStrings.PublishContext,o.options=i,o.target=r,null==n||""===n)throw new c.Exceptions.MethodParameterError("Publish","Event",n);return o.event=n,o.logger=t.getLogger("sip.publish"),o.pubRequestExpires=o.options.expires,o}return n.__extends(t,e),t.prototype.publish=function(e){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.options.body=e,this.pubRequestBody=this.options.body,0===this.pubRequestExpires&&(this.pubRequestExpires=this.options.expires,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]||(this.ua.publishers[this.target.toString()+":"+this.event]=this),this.sendPublishRequest()},t.prototype.unpublish=function(){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,void 0!==this.pubRequestEtag&&this.sendPublishRequest()},t.prototype.close=function(){this.options.unpublishOnClose?this.unpublish():(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]&&delete this.ua.publishers[this.target.toString()+":"+this.event]},t.prototype.onRequestTimeout=function(){e.prototype.onRequestTimeout.call(this),this.emit("unpublished",void 0,s.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){e.prototype.onTransportError.call(this),this.emit("unpublished",void 0,s.C.causes.CONNECTION_ERROR)},t.prototype.receiveResponse=function(e){var t=this,r=e.statusCode||0,n=u.Utils.getReasonPhrase(r);switch(!0){case/^1[0-9]{2}$/.test(r.toString()):this.emit("progress",e,n);break;case/^2[0-9]{2}$/.test(r.toString()):if(e.hasHeader("SIP-ETag")?this.pubRequestEtag=e.getHeader("SIP-ETag"):this.logger.warn("SIP-ETag header missing in a 200-class response to PUBLISH"),e.hasHeader("Expires")){var i=Number(e.getHeader("Expires"));"number"==typeof i&&i>=0&&i<=this.pubRequestExpires?this.pubRequestExpires=i:this.logger.warn("Bad Expires header in a 200-class response to PUBLISH")}else this.logger.warn("Expires header missing in a 200-class response to PUBLISH");0!==this.pubRequestExpires?(this.publishRefreshTimer=setTimeout((function(){return t.refreshRequest()}),900*this.pubRequestExpires),this.emit("published",e,n)):this.emit("unpublished",e,n);break;case/^412$/.test(r.toString()):void 0!==this.pubRequestEtag&&0!==this.pubRequestExpires?(this.logger.warn("412 response to PUBLISH, recovering"),this.pubRequestEtag=void 0,this.emit("progress",e,n),this.publish(this.options.body)):(this.logger.warn("412 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n));break;case/^423$/.test(r.toString()):if(0!==this.pubRequestExpires&&e.hasHeader("Min-Expires")){var s=Number(e.getHeader("Min-Expires"));"number"==typeof s||s>this.pubRequestExpires?(this.logger.warn("423 code in response to PUBLISH, adjusting the Expires value and trying to recover"),this.pubRequestExpires=s,this.emit("progress",e,n),this.publish(this.options.body)):(this.logger.warn("Bad 423 response Min-Expires header received for PUBLISH"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n))}else this.logger.warn("423 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n);break;default:this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n)}0===this.pubRequestExpires&&(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestEtag=void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.publish(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.refreshRequest=function(){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,void 0===this.pubRequestEtag)throw new c.Exceptions.MethodParameterError("Publish","Body",void 0);if(0===this.pubRequestExpires)throw new c.Exceptions.MethodParameterError("Publish","Expire",this.pubRequestExpires);this.sendPublishRequest()},t.prototype.sendPublishRequest=function(){var e=Object.create(this.options||Object.prototype);e.extraHeaders=(this.options.extraHeaders||[]).slice(),e.extraHeaders.push("Event: "+this.event),e.extraHeaders.push("Expires: "+this.pubRequestExpires),void 0!==this.pubRequestEtag&&e.extraHeaders.push("SIP-If-Match: "+this.pubRequestEtag);var t=this.target instanceof o.URI?this.target:this.ua.normalizeTarget(this.target);if(!t)throw new Error("ruri undefined.");var r,n,i=this.options.params||{};void 0!==this.pubRequestBody&&(r={body:this.pubRequestBody,contentType:this.options.contentType}),r&&(n=u.Utils.fromBodyObj(r)),this.request=this.ua.userAgentCore.makeOutgoingRequestMessage(s.C.PUBLISH,t,i.fromUri?i.fromUri:this.ua.userAgentCore.configuration.aor,i.toUri?i.toUri:this.target,i,e.extraHeaders,n),this.send()},t}(i.ClientContext);t.PublishContext=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(18),s=r(8),o=r(2),a=r(5),c=r(10),u=r(9);function d(e){var t={expires:600,extraContactHeaderParams:[],instanceId:void 0,params:{},regId:void 0,registrar:void 0},r={mandatory:{},optional:{expires:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},extraContactHeaderParams:function(e){if(e instanceof Array)return e.filter((function(e){return"string"==typeof e}))},instanceId:function(e){if("string"==typeof e)return/^uuid:/i.test(e)&&(e=e.substr(5)),-1===o.Grammar.parse(e,"uuid")?void 0:e},params:function(e){if("object"==typeof e)return e},regId:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},registrar:function(e){if("string"==typeof e){/^sip:/i.test(e)||(e=s.C.SIP+":"+e);var t=o.Grammar.URIParse(e);return t?t.user?void 0:t:void 0}}}};for(var n in r.mandatory){if(!e.hasOwnProperty(n))throw new c.Exceptions.ConfigurationError(n);var i=e[n];if(void 0===(a=r.mandatory[n](i)))throw new c.Exceptions.ConfigurationError(n,i);t[n]=a}for(var n in r.optional)if(e.hasOwnProperty(n)){var a;if((i=e[n])instanceof Array&&0===i.length)continue;if(null===i||""===i||void 0===i||"number"==typeof i&&isNaN(i))continue;if(void 0===(a=r.optional[n](i)))throw new c.Exceptions.ConfigurationError(n,i);t[n]=a}return t}var l=function(e){function t(t,r){void 0===r&&(r={});var n=this,i=d(r);if(i.regId&&!i.instanceId?i.instanceId=u.Utils.newUUID():!i.regId&&i.instanceId&&(i.regId=1),i.params.toUri=i.params.toUri||t.configuration.uri,i.params.toDisplayName=i.params.toDisplayName||t.configuration.displayName,i.params.callId=i.params.callId||u.Utils.createRandomToken(22),i.params.cseq=i.params.cseq||Math.floor(1e4*Math.random()),!i.registrar){var o={};"object"==typeof t.configuration.uri?(o=t.configuration.uri.clone()).user=void 0:o=t.configuration.uri,i.registrar=o}for(var c in(n=e.call(this,t,s.C.REGISTER,i.registrar,i)||this).type=a.TypeStrings.RegisterContext,n.options=i,n.logger=t.getLogger("sip.registercontext"),n.logger.log("configuration parameters for RegisterContext after validation:"),i)i.hasOwnProperty(c)&&n.logger.log(" "+c+": "+JSON.stringify(i[c]));return n.expires=i.expires,n.contact=t.contact.toString(),n.registered=!1,t.transport.on("disconnected",(function(){return n.onTransportDisconnected()})),n}return n.__extends(t,e),t.prototype.register=function(e){var t=this;void 0===e&&(e={}),this.options=n.__assign(n.__assign({},this.options),e);var r=(this.options.extraHeaders||[]).slice();r.push("Contact: "+this.generateContactHeader(this.expires)),r.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(e){if(e.cseq===t.request.cseq){void 0!==t.registrationTimer&&(clearTimeout(t.registrationTimer),t.registrationTimer=void 0);var r=(e.statusCode||0).toString();switch(!0){case/^1[0-9]{2}$/.test(r):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(r):t.emit("accepted",e);var n=void 0;e.hasHeader("expires")&&(n=Number(e.getHeader("expires"))),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0);var i=e.getHeaders("contact").length;if(!i){t.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(var a=void 0;i--;){if((a=e.parseHeader("contact",i)).uri.user===t.ua.contact.uri.user){n=a.getParam("expires");break}a=void 0}if(!a){t.logger.warn("no Contact header pointing to us, response ignored");break}void 0===n&&(n=t.expires),t.registrationTimer=setTimeout((function(){t.registrationTimer=void 0,t.register(t.options)}),1e3*n-3e3),t.registrationExpiredTimer=setTimeout((function(){t.logger.warn("registration expired"),t.registered&&t.unregistered(void 0,s.C.causes.EXPIRES)}),1e3*n),a.hasParam("temp-gruu")&&(t.ua.contact.tempGruu=o.Grammar.URIParse(a.getParam("temp-gruu").replace(/"/g,""))),a.hasParam("pub-gruu")&&(t.ua.contact.pubGruu=o.Grammar.URIParse(a.getParam("pub-gruu").replace(/"/g,""))),t.registered=!0,t.emit("registered",e||void 0);break;case/^423$/.test(r):e.hasHeader("min-expires")?(t.expires=Number(e.getHeader("min-expires")),t.register(t.options)):(t.logger.warn("423 response received for REGISTER without Min-Expires"),t.registrationFailure(e,s.C.causes.SIP_FAILURE_CODE));break;default:t.registrationFailure(e,u.Utils.sipErrorCause(e.statusCode||0))}}},this.onRequestTimeout=function(){t.registrationFailure(void 0,s.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){t.registrationFailure(void 0,s.C.causes.CONNECTION_ERROR)},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=r,this.send()},t.prototype.close=function(){var e={all:!1,extraHeaders:this.closeHeaders};this.registeredBefore=this.registered,this.registered&&this.unregister(e)},t.prototype.unregister=function(e){var t=this;void 0===e&&(e={}),this.registered||e.all||this.logger.warn("Already unregistered, but sending an unregister anyways.");var r=(e.extraHeaders||[]).slice();this.registered=!1,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),e.all?(r.push("Contact: *"),r.push("Expires: 0")):r.push("Contact: "+this.generateContactHeader(0)),this.receiveResponse=function(e){var r=e&&e.statusCode?e.statusCode.toString():"";switch(!0){case/^1[0-9]{2}$/.test(r):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(r):t.emit("accepted",e),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0),t.unregistered(e);break;default:t.unregistered(e,u.Utils.sipErrorCause(e.statusCode||0))}},this.onRequestTimeout=function(){},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=r,this.send()},t.prototype.unregistered=function(e,t){this.registered=!1,this.emit("unregistered",e||void 0,t||void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.register(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.registrationFailure=function(e,t){this.emit("failed",e||void 0,t||void 0)},t.prototype.onTransportDisconnected=function(){this.registeredBefore=this.registered,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),void 0!==this.registrationExpiredTimer&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0),this.registered&&this.unregistered(void 0,s.C.causes.CONNECTION_ERROR)},t.prototype.generateContactHeader=function(e){void 0===e&&(e=0);var t=this.contact;return this.options.regId&&this.options.instanceId&&(t+=";reg-id="+this.options.regId,t+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach((function(e){t+=";"+e})),t+=";expires="+e},t}(i.ClientContext);t.RegisterContext=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(18),o=r(8),a=r(2),c=r(5),u=r(10),d=r(50),l=r(31),p=r(137),h=r(87),f=r(9),g=function(e){function t(r){var n=e.call(this)||this;if(n.data={},n.type=c.TypeStrings.Session,!r)throw new u.Exceptions.SessionDescriptionHandlerError("A session description handler is required for the session to function");return n.status=t.C.STATUS_NULL,n.pendingReinvite=!1,n.sessionDescriptionHandlerFactory=r,n.hasOffer=!1,n.hasAnswer=!1,n.timers={ackTimer:void 0,expiresTimer:void 0,invite2xxTimer:void 0,userNoAnswerTimer:void 0,rel1xxTimer:void 0,prackTimer:void 0},n.startTime=void 0,n.endTime=void 0,n.tones=void 0,n.localHold=!1,n.earlySdp=void 0,n.rel100=o.C.supported.UNSUPPORTED,n}return n.__extends(t,e),t.prototype.dtmf=function(e,t){var r=this;if(void 0===t&&(t={}),this.status!==c.SessionStatus.STATUS_CONFIRMED&&this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK)throw new u.Exceptions.InvalidStateError(this.status);h.DTMFValidator.validate(e);var n=function(){if(r.status!==c.SessionStatus.STATUS_TERMINATED&&r.tones&&0!==r.tones.length){var e,i=r.tones.shift();","===i.tone?e=2e3:(i.on("failed",(function(){r.tones=void 0})),i.send(t),e=i.duration+i.interToneGap),setTimeout(n,e)}else r.tones=void 0};e=e.toString();var i=this.ua.configuration.dtmfType;this.sessionDescriptionHandler&&i===o.C.dtmfType.RTP&&(this.sessionDescriptionHandler.sendDtmf(e,t)||(this.logger.warn("Attempt to use dtmfType 'RTP' has failed, falling back to INFO packet method"),i=o.C.dtmfType.INFO));if(i===o.C.dtmfType.INFO){for(var s=[],a=e.split("");a.length>0;)s.push(new p.DTMF(this,a.shift(),t));if(Array.isArray(this.tones)&&this.tones.length)return this.tones=this.tones.concat(s),this;this.tones=s,n()}return this},t.prototype.bye=function(e){if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;this.logger.log("terminating Session");var t=e.statusCode;if(t&&(t<200||t>=700))throw new TypeError("Invalid statusCode: "+t);return e.receiveResponse=function(){},this.sendRequest(o.C.BYE,e).terminated()},t.prototype.refer=function(e,t){if(void 0===t&&(t={}),this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);return this.referContext=new d.ReferClientContext(this.ua,this,e,t),this.emit("referRequested",this.referContext),this.referContext.refer(t),this.referContext},t.prototype.sendRequest=function(e,t){if(void 0===t&&(t={}),!this.session)throw new Error("Session undefined.");var r;t.body&&(t.body=f.Utils.fromBodyObj(t.body));var n,i=t.receiveResponse;i&&(r={onAccept:function(e){return i(e.message)},onProgress:function(e){return i(e.message)},onRedirect:function(e){return i(e.message)},onReject:function(e){return i(e.message)},onTrying:function(e){return i(e.message)}});var s=t;switch(e){case o.C.BYE:n=this.session.bye(r,s);break;case o.C.INVITE:n=this.session.invite(r,s);break;case o.C.MESSAGE:n=this.session.message(r,s);break;case o.C.REFER:n=this.session.refer(r,s);break;default:throw new Error("Unexpected "+e+". Method not implemented by user agent core.")}return this.emit(e.toLowerCase(),n.message),this},t.prototype.close=function(){if(this.status===c.SessionStatus.STATUS_TERMINATED)return this;for(var e in this.logger.log("closing INVITE session "+this.id),this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.timers)this.timers[e]&&clearTimeout(this.timers[e]);return this.status=c.SessionStatus.STATUS_TERMINATED,this.ua.transport&&this.ua.transport.removeListener("transportError",this.errorListener),delete this.ua.sessions[this.id],this},t.prototype.hold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);this.localHold?this.logger.log("Session is already on hold, cannot put it on hold again"):(e.modifiers=t,this.sessionDescriptionHandler&&e.modifiers.push(this.sessionDescriptionHandler.holdModifier),this.localHold=!0,this.sendReinvite(e))},t.prototype.unhold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);this.localHold?(e.modifiers=t,this.localHold=!1,this.sendReinvite(e)):this.logger.log("Session is not on hold, cannot unhold it")},t.prototype.reinvite=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=[]),e.modifiers=t,this.sendReinvite(e)},t.prototype.terminate=function(e){return this},t.prototype.onTransportError=function(){this.status!==c.SessionStatus.STATUS_CONFIRMED&&this.status!==c.SessionStatus.STATUS_TERMINATED&&this.failed(void 0,o.C.causes.CONNECTION_ERROR)},t.prototype.onRequestTimeout=function(){this.status===c.SessionStatus.STATUS_CONFIRMED?this.terminated(void 0,o.C.causes.REQUEST_TIMEOUT):this.status!==c.SessionStatus.STATUS_TERMINATED&&(this.failed(void 0,o.C.causes.REQUEST_TIMEOUT),this.terminated(void 0,o.C.causes.REQUEST_TIMEOUT))},t.prototype.onDialogError=function(e){this.status===c.SessionStatus.STATUS_CONFIRMED?this.terminated(e,o.C.causes.DIALOG_ERROR):this.status!==c.SessionStatus.STATUS_TERMINATED&&(this.failed(e,o.C.causes.DIALOG_ERROR),this.terminated(e,o.C.causes.DIALOG_ERROR))},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.onAck=function(e){var t=this,r=function(){clearTimeout(t.timers.ackTimer),clearTimeout(t.timers.invite2xxTimer),t.status=c.SessionStatus.STATUS_CONFIRMED;var r=e.message.getHeader("Content-Disposition");r&&"render"===r.type&&(t.renderbody=e.message.body,t.rendertype=e.message.getHeader("Content-Type")),t.emit("confirmed",e.message)};this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK&&(this.sessionDescriptionHandler&&this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).catch((function(r){throw t.logger.warn(r),t.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),t.failed(e.message,o.C.causes.BAD_MEDIA_DESCRIPTION),t.terminated(e.message,o.C.causes.BAD_MEDIA_DESCRIPTION),r})).then((function(){return r()}))):r())},t.prototype.receiveRequest=function(e){switch(e.message.method){case o.C.BYE:e.accept(),this.status===c.SessionStatus.STATUS_CONFIRMED&&(this.emit("bye",e.message),this.terminated(e.message,o.C.BYE));break;case o.C.INVITE:this.status===c.SessionStatus.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(e));break;case o.C.INFO:if(this.status===c.SessionStatus.STATUS_CONFIRMED||this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.onInfo)return this.onInfo(e.message);var t=e.message.getHeader("content-type");if(t)if(t.match(/^application\/dtmf-relay/i)){if(e.message.body){var r=e.message.body.split("\r\n",2);if(2===r.length){var n=void 0,i=void 0,s=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/;s.test(r[0])&&(n=r[0].replace(s,"$2"));var a=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;a.test(r[1])&&(i=parseInt(r[1].replace(a,"$2"),10)),n&&i&&new p.DTMF(this,n,{duration:i}).init_incoming(e)}}}else e.reject({statusCode:415,extraHeaders:["Accept: application/dtmf-relay"]})}break;case o.C.REFER:if(this.status===c.SessionStatus.STATUS_CONFIRMED)if(this.logger.log("REFER received"),this.referContext=new d.ReferServerContext(this.ua,e,this.session),this.listeners("referRequested").length)this.emit("referRequested",this.referContext);else{this.logger.log("No referRequested listeners, automatically accepting and following the refer");var u={followRefer:!0};this.passedOptions&&(u.inviteOptions=this.passedOptions),this.referContext.accept(u,this.modifiers)}break;case o.C.NOTIFY:if(this.referContext&&this.referContext.type===c.TypeStrings.ReferClientContext&&e.message.hasHeader("event")&&/^refer(;.*)?$/.test(e.message.getHeader("event")))return void this.referContext.receiveNotify(e);e.accept(),this.emit("notify",e.message);break;case o.C.MESSAGE:e.accept(),this.emit("message",e.message)}},t.prototype.receiveReinvite=function(e){var t,r=this;if(this.emit("reinvite",this,e.message),e.message.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(e.message.getHeader("P-Asserted-Identity"))),this.sessionDescriptionHandler){if("0"!==e.message.getHeader("Content-Length")||e.message.getHeader("Content-Type")){if(!this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||""))return e.reject({statusCode:415}),void this.emit("reinviteFailed",this);t=this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then(this.sessionDescriptionHandler.getDescription.bind(this.sessionDescriptionHandler,this.sessionDescriptionHandlerOptions,this.modifiers))}else t=this.sessionDescriptionHandler.getDescription(this.sessionDescriptionHandlerOptions,this.modifiers);t.catch((function(t){var n;throw t.type===c.TypeStrings.SessionDescriptionHandlerError?n=500:t.type===c.TypeStrings.RenegotiationError?(r.emit("renegotiationError",t),r.logger.warn(t.toString()),n=488):(r.logger.error(t),n=488),e.reject({statusCode:n}),r.emit("reinviteFailed",r),t})).then((function(t){var n=["Contact: "+r.contact];e.accept({statusCode:200,extraHeaders:n,body:f.Utils.fromBodyObj(t)}),r.status=c.SessionStatus.STATUS_WAITING_FOR_ACK,r.emit("reinviteAccepted",r)}))}else this.logger.warn("No SessionDescriptionHandler to reinvite")},t.prototype.sendReinvite=function(e){var t=this;if(void 0===e&&(e={}),this.pendingReinvite)this.logger.warn("Reinvite in progress. Please wait until complete, then try again.");else if(this.sessionDescriptionHandler){this.pendingReinvite=!0,e.modifiers=e.modifiers||[];var r=(e.extraHeaders||[]).slice();r.push("Contact: "+this.contact),r.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(e){if(!t.session)throw new Error("Session undefined.");var n={onAccept:function(e){if(t.status!==c.SessionStatus.STATUS_TERMINATED)if(t.pendingReinvite){if(t.status=c.SessionStatus.STATUS_CONFIRMED,t.emit("ack",e.ack()),t.pendingReinvite=!1,clearTimeout(t.timers.invite2xxTimer),!t.sessionDescriptionHandler||!t.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||""))return t.logger.error("2XX response received to re-invite but did not have a description"),t.emit("reinviteFailed",t),void t.emit("renegotiationError",new u.Exceptions.RenegotiationError("2XX response received to re-invite but did not have a description"));t.sessionDescriptionHandler.setDescription(e.message.body,t.sessionDescriptionHandlerOptions,t.modifiers).catch((function(e){throw t.logger.error("Could not set the description in 2XX response"),t.logger.error(e),t.emit("reinviteFailed",t),t.emit("renegotiationError",e),t.sendRequest(o.C.BYE,{extraHeaders:["Reason: "+f.Utils.getReasonHeaderValue(488,"Not Acceptable Here")]}),t.terminated(void 0,o.C.causes.INCOMPATIBLE_SDP),e})).then((function(){t.emit("reinviteAccepted",t)}))}else t.logger.error("Received reinvite response, but have no pending reinvite");else t.logger.error("Received reinvite response, but in STATUS_TERMINATED")},onProgress:function(e){},onRedirect:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new u.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onReject:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new u.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onTrying:function(e){}},i={extraHeaders:r,body:f.Utils.fromBodyObj(e)};t.session.invite(n,i)})).catch((function(e){if(e.type===c.TypeStrings.RenegotiationError)throw t.pendingReinvite=!1,t.emit("renegotiationError",e),t.logger.warn("Renegotiation Error"),t.logger.warn(e.toString()),e;throw t.logger.error("sessionDescriptionHandler error"),t.logger.error(e),e}))}else this.logger.warn("No SessionDescriptionHandler, can't reinvite..")},t.prototype.failed=function(e,t){return this.status===c.SessionStatus.STATUS_TERMINATED||this.emit("failed",e,t),this},t.prototype.rejected=function(e,t){return this.emit("rejected",e,t),this},t.prototype.canceled=function(){return this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.emit("cancel"),this},t.prototype.accepted=function(e,t){return e instanceof String||(t=f.Utils.getReasonPhrase(e&&e.statusCode||0,t)),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),this.emit("accepted",e,t),this},t.prototype.terminated=function(e,t){return this.status===c.SessionStatus.STATUS_TERMINATED||(this.endTime=new Date,this.close(),this.emit("terminated",e,t)),this},t.prototype.connecting=function(e){return this.emit("connecting",{request:e}),this},t.C=c.SessionStatus,t}(i.EventEmitter);t.Session=g;var v=function(e){function t(t,r){var n=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ISC Constructor Failed");(n=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this)._canceled=!1,n.rseq=Math.floor(1e4*Math.random()),n.incomingRequest=r;var i=r.message;l.ServerContext.initializer(n,t,r),n.type=c.TypeStrings.InviteServerContext;var s=i.parseHeader("Content-Disposition");s&&"render"===s.type&&(n.renderbody=i.body,n.rendertype=i.getHeader("Content-Type")),n.status=c.SessionStatus.STATUS_INVITE_RECEIVED,n.fromTag=i.fromTag,n.id=i.callId+n.fromTag,n.request=i,n.contact=n.ua.contact.toString(),n.logger=t.getLogger("sip.inviteservercontext",n.id),n.ua.sessions[n.id]=n;var a=function(e,t){i.hasHeader(e)&&i.getHeader(e).toLowerCase().indexOf("100rel")>=0&&(n.rel100=t)};if(a("require",o.C.supported.REQUIRED),a("supported",o.C.supported.SUPPORTED),n.request.toTag=r.toTag,n.status=c.SessionStatus.STATUS_WAITING_FOR_ANSWER,n.timers.userNoAnswerTimer=setTimeout((function(){r.reject({statusCode:408}),n.failed(i,o.C.causes.NO_ANSWER),n.terminated(i,o.C.causes.NO_ANSWER)}),n.ua.configuration.noAnswerTimeout||60),i.hasHeader("expires")){var u=1e3*Number(i.getHeader("expires")||0);n.timers.expiresTimer=setTimeout((function(){n.status===c.SessionStatus.STATUS_WAITING_FOR_ANSWER&&(r.reject({statusCode:487}),n.failed(i,o.C.causes.EXPIRES),n.terminated(i,o.C.causes.EXPIRES))}),u)}return n.errorListener=n.onTransportError.bind(n),t.transport&&t.transport.on("transportError",n.errorListener),n}return n.__extends(t,e),Object.defineProperty(t.prototype,"autoSendAnInitialProvisionalResponse",{get:function(){return this.rel100!==o.C.supported.REQUIRED},enumerable:!0,configurable:!0}),t.prototype.reply=function(e){return void 0===e&&(e={}),this},t.prototype.reject=function(e){var t=this;if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED)throw new u.Exceptions.InvalidStateError(this.status);this.logger.log("rejecting RTCSession");var r=e.statusCode||480,n=f.Utils.getReasonPhrase(r,e.reasonPhrase),i=e.extraHeaders||[];if(r<300||r>699)throw new TypeError("Invalid statusCode: "+r);var s=e.body?a.fromBodyLegacy(e.body):void 0,o=r<400?this.incomingRequest.redirect([],{statusCode:r,reasonPhrase:n,extraHeaders:i,body:s}):this.incomingRequest.reject({statusCode:r,reasonPhrase:n,extraHeaders:i,body:s});return["rejected","failed"].forEach((function(e){t.emit(e,o.message,n)})),this.terminated()},t.prototype.accept=function(e){var t=this;return void 0===e&&(e={}),this._accept(e).then((function(e){var r=e.message,n=e.session;n.delegate={onAck:function(e){return t.onAck(e)},onAckTimeout:function(){return t.onAckTimeout()},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onMessage:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},t.session=n,t.status=c.SessionStatus.STATUS_WAITING_FOR_ACK,t.accepted(r,f.Utils.getReasonPhrase(200))})).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this},t.prototype.progress=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||180;if(r<100||r>199)throw new TypeError("Invalid statusCode: "+r);if(this.status===c.SessionStatus.STATUS_TERMINATED)return this.logger.warn("Unexpected call for progress while terminated, ignoring"),this;if(this.status===c.SessionStatus.STATUS_ANSWERED)return this.logger.warn("Unexpected call for progress while answered, ignoring"),this;if(this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while answered (waiting for prack), ignoring"),this;if(this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),this;if(100===e.statusCode){try{this.incomingRequest.trying()}catch(e){if(this.onContextError(e),!this._canceled)throw e}return this}return this.rel100===o.C.supported.REQUIRED||this.rel100===o.C.supported.SUPPORTED&&e.rel100||this.rel100===o.C.supported.SUPPORTED&&this.ua.configuration.rel100===o.C.supported.REQUIRED?(this._reliableProgressWaitForPrack(e).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this):(this._progress(e).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this)},t.prototype.terminate=function(e){var t=this;if(void 0===e&&(e={}),!this.session)return this.reject(e),this;switch(this.session.sessionState){case a.SessionState.Initial:case a.SessionState.Early:return this.reject(e),this;case a.SessionState.AckWait:return this.session.delegate={onAck:function(){t.sendRequest(o.C.BYE,e)},onAckTimeout:function(){t.sendRequest(o.C.BYE,e)}},this.emit("bye",this.request),this.terminated(),this;case a.SessionState.Confirmed:return this.bye(e),this;case a.SessionState.Terminated:default:return this}},t.prototype.onCancel=function(e){this.status!==c.SessionStatus.STATUS_WAITING_FOR_ANSWER&&this.status!==c.SessionStatus.STATUS_WAITING_FOR_PRACK&&this.status!==c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&this.status!==c.SessionStatus.STATUS_EARLY_MEDIA&&this.status!==c.SessionStatus.STATUS_ANSWERED||(this.status=c.SessionStatus.STATUS_CANCELED,this.incomingRequest.reject({statusCode:487}),this.canceled(),this.rejected(e,o.C.causes.CANCELED),this.failed(e,o.C.causes.CANCELED),this.terminated(e,o.C.causes.CANCELED))},t.prototype.receiveRequest=function(t){var r=this;switch(t.message.method){case o.C.PRACK:this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK||this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(clearTimeout(this.timers.rel1xxTimer),clearTimeout(this.timers.prackTimer),t.accept(),this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.SessionStatus.STATUS_EARLY_MEDIA,this.accept()),this.status=c.SessionStatus.STATUS_EARLY_MEDIA):(this.sessionDescriptionHandler=this.setupSessionDescriptionHandler(),this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),this.sessionDescriptionHandler.hasDescription(t.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(t.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){clearTimeout(r.timers.rel1xxTimer),clearTimeout(r.timers.prackTimer),t.accept(),r.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(r.status=c.SessionStatus.STATUS_EARLY_MEDIA,r.accept()),r.status=c.SessionStatus.STATUS_EARLY_MEDIA}),(function(e){r.logger.warn(e),r.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),r.failed(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION),r.terminated(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION)}))):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION))):this.status===c.SessionStatus.STATUS_EARLY_MEDIA&&t.accept();break;default:e.prototype.receiveRequest.call(this,t)}},t.prototype.setupSessionDescriptionHandler=function(){return this.sessionDescriptionHandler?this.sessionDescriptionHandler:this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions)},t.prototype.generateResponseOfferAnswer=function(e){if(!this.session){var t=a.getBody(this.incomingRequest.message);return t&&"session"===t.contentDisposition?this.setOfferAndGetAnswer(t,e):this.getOffer(e)}switch(this.session.signalingState){case a.SignalingState.Initial:return this.getOffer(e);case a.SignalingState.Stable:case a.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case a.SignalingState.HaveRemoteOffer:if(!this.session.offer)throw new Error("Session offer undefined");return this.setOfferAndGetAnswer(this.session.offer,e);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.handlePrackOfferAnswer=function(e,t){if(!this.session)throw new Error("Session undefined.");var r=a.getBody(e.message);if(!r||"session"!==r.contentDisposition)return Promise.resolve(void 0);switch(this.session.signalingState){case a.SignalingState.Initial:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.Stable:return this.setAnswer(r,t).then((function(){}));case a.SignalingState.HaveLocalOffer:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.HaveRemoteOffer:return this.setOfferAndGetAnswer(r,t);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.canceled=function(){return this._canceled=!0,e.prototype.canceled.call(this)},t.prototype.terminated=function(t,r){return this.prackNeverArrived(),e.prototype.terminated.call(this,t,r)},t.prototype._accept=function(e){var t=this;return void 0===e&&(e={}),this.onInfo=e.onInfo,this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK?(this.status=c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK,this.waitForArrivalOfPrack().then((function(){t.status=c.SessionStatus.STATUS_ANSWERED,clearTimeout(t.timers.userNoAnswerTimer)})).then((function(){return t.generateResponseOfferAnswer(e)})).then((function(e){return t.incomingRequest.accept({statusCode:200,body:e})}))):this.status!==c.SessionStatus.STATUS_WAITING_FOR_ANSWER?Promise.reject(new u.Exceptions.InvalidStateError(this.status)):(this.status=c.SessionStatus.STATUS_ANSWERED,this.status=c.SessionStatus.STATUS_ANSWERED,clearTimeout(this.timers.userNoAnswerTimer),this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.accept({statusCode:200,body:e})})))},t.prototype._progress=function(e){void 0===e&&(e={});var t=e.statusCode||180,r=e.reasonPhrase,n=(e.extraHeaders||[]).slice(),i=e.body?a.fromBodyLegacy(e.body):void 0;if(183===t&&!i)return this._progressWithSDP(e);try{var s=this.incomingRequest.progress({statusCode:t,reasonPhrase:r,extraHeaders:n,body:i});return this.emit("progress",s.message,r),this.session=s.session,Promise.resolve(s)}catch(e){return Promise.reject(e)}},t.prototype._progressWithSDP=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||183,n=e.reasonPhrase,i=(e.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.progress({statusCode:r,reasonPhrase:n,extraHeaders:i,body:e})})).then((function(e){return t.emit("progress",e.message,n),t.session=e.session,e}))},t.prototype._reliableProgress=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||183,n=e.reasonPhrase,i=(e.extraHeaders||[]).slice();return i.push("Require: 100rel"),i.push("RSeq: "+Math.floor(1e4*Math.random())),this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.progress({statusCode:r,reasonPhrase:n,extraHeaders:i,body:e})})).then((function(e){return t.emit("progress",e.message,n),t.session=e.session,e}))},t.prototype._reliableProgressWaitForPrack=function(e){var t=this;void 0===e&&(e={});var r,n=e.statusCode||183,i=e.reasonPhrase,s=(e.extraHeaders||[]).slice();return s.push("Require: 100rel"),s.push("RSeq: "+this.rseq++),this.status=c.SessionStatus.STATUS_WAITING_FOR_PRACK,new Promise((function(d,l){var p=!0;return t.generateResponseOfferAnswer(e).then((function(e){return r=e,t.incomingRequest.progress({statusCode:n,reasonPhrase:i,extraHeaders:s,body:r})})).then((function(h){var f,g;t.emit("progress",h.message,i),t.session=h.session,h.session.delegate={onPrack:function(r){f=r,clearTimeout(v),clearTimeout(y),p&&(p=!1,t.handlePrackOfferAnswer(f,e).then((function(e){try{g=f.accept({statusCode:200,body:e}),t.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK&&(t.status=c.SessionStatus.STATUS_WAITING_FOR_ANSWER),t.prackArrived(),d({prackRequest:f,prackResponse:g,progressResponse:h})}catch(e){l(e)}})))}};var v=setTimeout((function(){if(p){p=!1,t.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(y);try{t.incomingRequest.reject({statusCode:504}),t.terminated(void 0,o.C.causes.NO_PRACK),l(new u.Exceptions.TerminatedSessionError)}catch(e){l(e)}}}),64*a.Timers.T1),m=function(){try{t.incomingRequest.progress({statusCode:n,reasonPhrase:i,extraHeaders:s,body:r})}catch(e){return p=!1,void l(e)}y=setTimeout(m,S*=2)},S=a.Timers.T1,y=setTimeout(m,S)}))}))},t.prototype.onAckTimeout=function(){if(this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.logger.log("no ACK received for an extended period of time, terminating the call"),!this.session)throw new Error("Session undefined.");this.session.bye(),this.terminated(void 0,o.C.causes.NO_ACK)}},t.prototype.onContextError=function(e){var t=480;e instanceof a.Exception?e instanceof u.Exceptions.SessionDescriptionHandlerError?(this.logger.error(e.message),e.error&&this.logger.error(e.error)):e instanceof u.Exceptions.TerminatedSessionError?this.logger.warn("Incoming session terminated while waiting for PRACK."):e instanceof u.Exceptions.UnsupportedSessionDescriptionContentTypeError?t=415:e instanceof a.Exception&&this.logger.error(e.message):e instanceof Error?this.logger.error(e.message):(this.logger.error("An error occurred in the session description handler."),this.logger.error(e));try{this.incomingRequest.reject({statusCode:t}),this.failed(this.incomingRequest.message,e.message),this.terminated(this.incomingRequest.message,e.message)}catch(e){return}},t.prototype.prackArrived=function(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.prackNeverArrived=function(){this.waitingForPrackReject&&this.waitingForPrackReject(new u.Exceptions.TerminatedSessionError),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.waitForArrivalOfPrack=function(){var e=this;if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise((function(t,r){e.waitingForPrackResolve=t,e.waitingForPrackReject=r})),this.waitingForPrackPromise},t.prototype.getOffer=function(e){return this.hasOffer=!0,this.getSessionDescriptionHandler().getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(e){return f.Utils.fromBodyObj(e)}))},t.prototype.setAnswer=function(e,t){this.hasAnswer=!0;var r=this.getSessionDescriptionHandler();return r.hasDescription(e.contentType)?r.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers):Promise.reject(new u.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.setOfferAndGetAnswer=function(e,t){this.hasOffer=!0,this.hasAnswer=!0;var r=this.getSessionDescriptionHandler();return r.hasDescription(e.contentType)?r.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers).then((function(){return r.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(e){return f.Utils.fromBodyObj(e)})):Promise.reject(new u.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.getSessionDescriptionHandler=function(){var e=this.sessionDescriptionHandler=this.setupSessionDescriptionHandler();return this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),e},t}(g);t.InviteServerContext=v;var m=function(e){function t(t,r,n,i){void 0===n&&(n={}),void 0===i&&(i=[]);var a=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ICC Constructor Failed");n.params=n.params||{};var d=n.anonymous||!1,l=f.Utils.newTag();n.params.fromTag=l;var p=t.contact.toString({anonymous:d,outbound:d?!t.contact.tempGruu:!t.contact.pubGruu}),h=(n.extraHeaders||[]).slice();if(d&&t.configuration.uri&&(n.params.fromDisplayName="Anonymous",n.params.fromUri="sip:anonymous@anonymous.invalid",h.push("P-Preferred-Identity: "+t.configuration.uri.toString()),h.push("Privacy: id")),h.push("Contact: "+p),h.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.configuration.rel100===o.C.supported.REQUIRED&&h.push("Require: 100rel"),t.configuration.replaces===o.C.supported.REQUIRED&&h.push("Require: replaces"),n.extraHeaders=h,a=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this,s.ClientContext.initializer(a,t,o.C.INVITE,r,n),a.earlyMediaSessionDescriptionHandlers=new Map,a.type=c.TypeStrings.InviteClientContext,a.passedOptions=n,a.sessionDescriptionHandlerOptions=n.sessionDescriptionHandlerOptions||{},a.modifiers=i,a.inviteWithoutSdp=n.inviteWithoutSdp||!1,a.anonymous=n.anonymous||!1,a.renderbody=n.renderbody||void 0,a.rendertype=n.rendertype||"text/plain",a.fromTag=l,a.contact=p,a.status!==c.SessionStatus.STATUS_NULL)throw new u.Exceptions.InvalidStateError(a.status);return a.isCanceled=!1,a.received100=!1,a.method=o.C.INVITE,a.logger=t.getLogger("sip.inviteclientcontext"),t.applicants[a.toString()]=a,a.id=a.request.callId+a.fromTag,a.onInfo=n.onInfo,a.errorListener=a.onTransportError.bind(a),t.transport&&t.transport.on("transportError",a.errorListener),a}return n.__extends(t,e),t.prototype.receiveResponse=function(e){throw new Error("Unimplemented.")},t.prototype.send=function(){return this.sendInvite(),this},t.prototype.invite=function(){var e=this;return this.ua.sessions[this.id]=this,Promise.resolve().then((function(){e.isCanceled||e.status===c.SessionStatus.STATUS_TERMINATED||(e.inviteWithoutSdp?(e.renderbody&&e.rendertype&&(e.request.body={body:e.renderbody,contentType:e.rendertype}),e.status=c.SessionStatus.STATUS_INVITE_SENT,e.send()):(e.sessionDescriptionHandler=e.sessionDescriptionHandlerFactory(e,e.ua.configuration.sessionDescriptionHandlerFactoryOptions||{}),e.emit("SessionDescriptionHandler-created",e.sessionDescriptionHandler),e.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(t){e.isCanceled||e.status===c.SessionStatus.STATUS_TERMINATED||(e.hasOffer=!0,e.request.body=t,e.status=c.SessionStatus.STATUS_INVITE_SENT,e.send())}),(function(t){t.type===c.TypeStrings.SessionDescriptionHandlerError&&(e.logger.log(t.message),t.error&&e.logger.log(t.error)),e.status!==c.SessionStatus.STATUS_TERMINATED&&(e.failed(void 0,o.C.causes.WEBRTC_ERROR),e.terminated(void 0,o.C.causes.WEBRTC_ERROR))}))))})),this},t.prototype.cancel=function(e){if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED||this.status===c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);if(this.isCanceled)throw new u.Exceptions.InvalidStateError(c.SessionStatus.STATUS_CANCELED);this.isCanceled=!0,this.logger.log("Canceling session");var t=f.Utils.getCancelReason(e.statusCode,e.reasonPhrase);return e.extraHeaders=(e.extraHeaders||[]).slice(),this.outgoingInviteRequest&&(this.logger.warn("Canceling session before it was created"),this.outgoingInviteRequest.cancel(t,e)),this.canceled()},t.prototype.terminate=function(e){return this.status===c.SessionStatus.STATUS_TERMINATED||(this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK||this.status===c.SessionStatus.STATUS_CONFIRMED?this.bye(e):this.cancel(e)),this},t.prototype.sendInvite=function(){var e=this;this.outgoingInviteRequest=this.ua.userAgentCore.invite(this.request,{onAccept:function(t){return e.onAccept(t)},onProgress:function(t){return e.onProgress(t)},onRedirect:function(t){return e.onRedirect(t)},onReject:function(t){return e.onReject(t)},onTrying:function(t){return e.onTrying(t)}})},t.prototype.ackAndBye=function(e,t,r,n){if(!this.ua.userAgentCore)throw new Error("Method requires user agent core.");var i=[];r&&i.push("Reason: "+f.Utils.getReasonHeaderValue(r,n));var s=e.ack();this.emit("ack",s.message);var o=t.bye(void 0,{extraHeaders:i});this.emit("bye",o.message)},t.prototype.disposeEarlyMedia=function(){if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");this.earlyMediaSessionDescriptionHandlers.forEach((function(e){e.close()}))},t.prototype.onAccept=function(e){var t=this;if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var r=e.message,n=e.session;if(this.session)this.ackAndBye(e,n);else{if(this.isCanceled)return this.ackAndBye(e,n),void this.emit("bye",this.request);switch(r.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(r.getHeader("P-Asserted-Identity"))),this.session=n,this.session.delegate={onAck:function(e){return t.onAck(e)},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onMessage:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},n.signalingState){case a.SignalingState.Initial:case a.SignalingState.HaveLocalOffer:this.ackAndBye(e,n,400,"Missing session description"),this.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION);break;case a.SignalingState.HaveRemoteOffer:var i=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});if(this.sessionDescriptionHandler=i,this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),!i.hasDescription(r.getHeader("Content-Type")||"")){this.ackAndBye(e,n,400,"Missing session description"),this.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION);break}this.hasOffer=!0,i.setDescription(r.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){return i.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(n){if(!t.isCanceled&&t.status!==c.SessionStatus.STATUS_TERMINATED){t.status=c.SessionStatus.STATUS_CONFIRMED,t.hasAnswer=!0;var i={contentDisposition:"session",contentType:n.contentType,content:n.body},s=e.ack({body:i});t.emit("ack",s.message),t.accepted(r)}})).catch((function(i){if(i.type!==c.TypeStrings.SessionDescriptionHandlerError)throw i;t.logger.warn("invalid description"),t.logger.warn(i.toString()),t.ackAndBye(e,n,488,"Invalid session description"),t.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION)}));break;case a.SignalingState.Stable:var s;if(this.renderbody&&this.rendertype&&(s={body:{contentDisposition:"render",contentType:this.rendertype,content:this.renderbody}}),this.hasOffer&&!this.hasAnswer){if(!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");var u=n.answer;if(!u)throw new Error("Answer is undefined.");this.sessionDescriptionHandler.setDescription(u.content,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){t.hasAnswer=!0,t.status=c.SessionStatus.STATUS_CONFIRMED;var n=e.ack(s);t.emit("ack",n.message),t.accepted(r)})).catch((function(i){t.logger.error(i),t.ackAndBye(e,n,488,"Not Acceptable Here"),t.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION)}))}else{if(this.sessionDescriptionHandler=this.earlyMediaSessionDescriptionHandlers.get(n.id),!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");this.earlyMediaSessionDescriptionHandlers.delete(n.id),this.hasOffer=!0,this.hasAnswer=!0,this.status=c.SessionStatus.STATUS_CONFIRMED;var d=e.ack();this.emit("ack",d.message),this.accepted(r)}break;case a.SignalingState.Closed:break;default:throw new Error("Unknown session signaling state.")}this.disposeEarlyMedia()}},t.prototype.onProgress=function(e){var t=this;if(!this.isCanceled){if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var r=e.message,n=e.session;if(this.status=c.SessionStatus.STATUS_1XX_RECEIVED,r.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(r.getHeader("P-Asserted-Identity"))),!n)throw new Error("Session undefined.");var i=r.getHeader("require"),s=r.getHeader("rseq"),u=!!(i&&i.includes("100rel")&&s?Number(s):void 0),d=[];if(u&&d.push("RAck: "+r.getHeader("rseq")+" "+r.getHeader("cseq")),n.signalingState===a.SignalingState.Initial)return u&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),e.prack({extraHeaders:d})),void this.emit("progress",r);if(n.signalingState===a.SignalingState.HaveLocalOffer)return u&&e.prack({extraHeaders:d}),void this.emit("progress",r);if(n.signalingState===a.SignalingState.HaveRemoteOffer){if(!u)return void this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response.");var l=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});return this.emit("SessionDescriptionHandler-created",l),this.earlyMediaSessionDescriptionHandlers.set(n.id,l),void l.setDescription(r.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){return l.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(n){var i={contentDisposition:"session",contentType:n.contentType,content:n.body};e.prack({extraHeaders:d,body:i}),t.status=c.SessionStatus.STATUS_EARLY_MEDIA,t.emit("progress",r)})).catch((function(e){t.status!==c.SessionStatus.STATUS_TERMINATED&&(t.failed(void 0,o.C.causes.WEBRTC_ERROR),t.terminated(void 0,o.C.causes.WEBRTC_ERROR))}))}return n.signalingState===a.SignalingState.Stable?(u&&e.prack({extraHeaders:d}),void this.emit("progress",r)):void 0}},t.prototype.onRedirect=function(e){this.disposeEarlyMedia();var t=e.message,r=t.statusCode,n=f.Utils.sipErrorCause(r||0);this.rejected(t,n),this.failed(t,n),this.terminated(t,n)},t.prototype.onReject=function(e){this.disposeEarlyMedia();var t=e.message,r=t.statusCode,n=f.Utils.sipErrorCause(r||0);this.rejected(t,n),this.failed(t,n),this.terminated(t,n)},t.prototype.onTrying=function(e){this.received100=!0,this.emit("progress",e.message)},t}(g);t.InviteClientContext=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.validate=function(t,r){void 0===r&&(r=!0),"string"==typeof t?t=t.toUpperCase():"number"==typeof t?t=t.toString():e.generateInvalidToneError(t);var n=r?/^[0-9A-D#*,]+$/i:/^[0-9A-D#*]$/i;return t.match(n)||e.generateInvalidToneError(t),t},e.generateInvalidToneError=function(e){var t=e&&"boolean"!=typeof e?e.toString().toLowerCase():e;throw new TypeError("Invalid tone(s): "+t)},e}();t.DTMFValidator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(2),a=r(23),c=r(5),u=r(9),d=function(e){function t(t,r,n,i){void 0===i&&(i={});var o=e.call(this)||this;o.data={},o.method=s.C.SUBSCRIBE,o.body=void 0,o.type=c.TypeStrings.Subscription,o.ua=t,o.logger=t.getLogger("sip.subscription"),i.body&&(o.body={body:i.body,contentType:i.contentType?i.contentType:"application/sdp"});var a=t.normalizeTarget(r);if(!a)throw new TypeError("Invalid target: "+r);if(o.uri=a,o.event=n,void 0===i.expires?o.expires=3600:"number"!=typeof i.expires?(t.logger.warn('Option "expires" must be a number. Using default of 3600.'),o.expires=3600):o.expires=i.expires,o.extraHeaders=(i.extraHeaders||[]).slice(),o.context=o.initContext(),o.disposed=!1,o.request=o.context.message,!o.request.from)throw new Error("From undefined.");if(!o.request.to)throw new Error("From undefined.");return o.localIdentity=o.request.from,o.remoteIdentity=o.request.to,o.id=o.request.callId+o.request.from.parameters.tag+o.event,o.ua.subscriptions[o.id]=o,o}return n.__extends(t,e),t.prototype.dispose=function(){this.disposed||(this.retryAfterTimer&&(clearTimeout(this.retryAfterTimer),this.retryAfterTimer=void 0),this.context.dispose(),this.disposed=!0,delete this.ua.subscriptions[this.id])},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.emit=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e.prototype.emit.apply(this,n.__spreadArrays([t],r))},t.prototype.close=function(){if(!this.disposed)switch(this.dispose(),this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:this.onTerminated();break;case o.SubscriptionState.Pending:case o.SubscriptionState.Active:this.unsubscribe();break;case o.SubscriptionState.Terminated:this.onTerminated()}},t.prototype.refresh=function(){var e=this;switch(this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:case o.SubscriptionState.Pending:break;case o.SubscriptionState.Active:if(this.subscription)this.subscription.refresh().delegate={onAccept:function(t){return e.onAccepted(t)},onRedirect:function(t){return e.onFailed(t)},onReject:function(t){return e.onFailed(t)}};break;case o.SubscriptionState.Terminated:}},t.prototype.subscribe=function(){var e=this;switch(this.context.state){case o.SubscriptionState.Initial:this.context.subscribe().then((function(t){t.success?(t.success.subscription&&(e.subscription=t.success.subscription,e.subscription.delegate={onNotify:function(t){return e.onNotify(t)},onRefresh:function(t){return e.onRefresh(t)},onTerminated:function(){return e.close()}}),e.onNotify(t.success.request)):t.failure&&e.onFailed(t.failure.response)}));break;case o.SubscriptionState.NotifyWait:case o.SubscriptionState.Pending:break;case o.SubscriptionState.Active:this.refresh();break;case o.SubscriptionState.Terminated:}return this},t.prototype.unsubscribe=function(){switch(this.dispose(),this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:break;case o.SubscriptionState.Pending:case o.SubscriptionState.Active:this.subscription&&this.subscription.unsubscribe();break;case o.SubscriptionState.Terminated:}this.onTerminated()},t.prototype.onAccepted=function(e){var t=e.message.statusCode?e.message.statusCode:0,r=u.Utils.getReasonPhrase(t);this.emit("accepted",e.message,r)},t.prototype.onFailed=function(e){if(this.close(),e){var t=e.message.statusCode?e.message.statusCode:0,r=u.Utils.getReasonPhrase(t);this.emit("failed",e.message,r),this.emit("rejected",e.message,r)}},t.prototype.onNotify=function(e){var t=this;if(e.accept(),this.emit("notify",{request:e.message}),!this.disposed){var r=e.message.parseHeader("Subscription-State");if(r&&r.state)switch(r.state){case"terminated":if(r.reason)switch(this.logger.log("Terminated subscription with reason "+r.reason),r.reason){case"deactivated":case"timeout":return this.initContext(),void this.subscribe();case"probation":case"giveup":return this.initContext(),void(r.params&&r.params["retry-after"]?this.retryAfterTimer=setTimeout((function(){return t.subscribe()}),r.params["retry-after"]):this.subscribe())}this.close()}}},t.prototype.onRefresh=function(e){var t=this;e.delegate={onAccept:function(e){return t.onAccepted(e)}}},t.prototype.onTerminated=function(){this.emit("terminated")},t.prototype.initContext=function(){var e=this,t={extraHeaders:this.extraHeaders,body:this.body?u.Utils.fromBodyObj(this.body):void 0};return this.context=new l(this.ua.userAgentCore,this.uri,this.event,this.expires,t),this.context.delegate={onAccept:function(t){return e.onAccepted(t)}},this.context},t}(i.EventEmitter);t.Subscription=d;var l=function(){function e(e,t,r,n,i,o){this.core=e,this.target=t,this.event=r,this.expires=n,this.subscribed=!1,this.logger=e.loggerFactory.getLogger("sip.subscription"),this.delegate=o;var c="Allow: "+a.AllowedMethods.toString(),u=(i&&i.extraHeaders||[]).slice();u.push(c),u.push("Event: "+this.event),u.push("Expires: "+this.expires),u.push("Contact: "+this.core.configuration.contact.toString());var d=i&&i.body;this.message=e.makeOutgoingRequestMessage(s.C.SUBSCRIBE,this.target,this.core.configuration.aor,this.target,{},u,d)}return e.prototype.dispose=function(){this.subscription&&this.subscription.dispose(),this.request&&(this.request.waitNotifyStop(),this.request.dispose())},Object.defineProperty(e.prototype,"state",{get:function(){return this.subscription?this.subscription.subscriptionState:this.subscribed?o.SubscriptionState.NotifyWait:o.SubscriptionState.Initial},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(){var e=this;return this.subscribed?Promise.reject(new Error("Not in initial state. Did you call subscribe more than once?")):(this.subscribed=!0,new Promise((function(t,r){if(!e.message)throw new Error("Message undefined.");e.request=e.core.subscribe(e.message,{onAccept:function(t){e.delegate&&e.delegate.onAccept&&e.delegate.onAccept(t)},onNotify:function(r){e.subscription=r.subscription,e.subscription&&(e.subscription.autoRefresh=!0),t({success:r})},onNotifyTimeout:function(){t({failure:{}})},onRedirect:function(e){t({failure:{response:e}})},onReject:function(e){t({failure:{response:e}})}})})))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r){var n=e.call(this)||this;return n.logger=t,n}return n.__extends(t,e),Object.defineProperty(t.prototype,"protocol",{get:function(){return this.server&&this.server.scheme?this.server.scheme:"WSS"},enumerable:!0,configurable:!0}),t.prototype.connect=function(e){var t=this;return void 0===e&&(e={}),this.connectPromise(e).then((function(e){e.overrideEvent||t.emit("connected")}))},t.prototype.send=function(e,t){var r=this;return void 0===t&&(t={}),this.sendPromise(e).then((function(e){e.overrideEvent||r.emit("messageSent",e.msg)}))},t.prototype.disconnect=function(e){var t=this;return void 0===e&&(e={}),this.disconnectPromise(e).then((function(e){e.overrideEvent||t.emit("disconnected")}))},t.prototype.afterConnected=function(e){this.isConnected()?e():this.once("connected",e)},t.prototype.waitForConnected=function(){var e=this;return console.warn("DEPRECATION WARNING Transport.waitForConnected(): use afterConnected() instead"),new Promise((function(t){e.afterConnected(t)}))},t}(r(7).EventEmitter);t.Transport=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(18),o=r(8),a=r(2),c=r(5),u=r(10),d=r(84),l=r(50),p=r(85),h=r(31),f=r(86),g=r(88),v=r(9),m=r(91),S=r(93),y=function(e){function t(r){var n=e.call(this)||this;if(n.unloadListener=function(){n.stop()},n.type=c.TypeStrings.UA,n.log=new a.LoggerFactory,n.logger=n.getLogger("sip.ua"),n.configuration={},n.applicants={},n.data={},n.sessions={},n.subscriptions={},n.publishers={},n.status=c.UAStatus.STATUS_INIT,void 0===r?r={}:("string"==typeof r||r instanceof String)&&(r={uri:r}),r.log&&(n.log.builtinEnabled=r.log.builtinEnabled,r.log.hasOwnProperty("connector")&&(n.log.connector=r.log.connector),r.log.hasOwnProperty("level"))){var i=r.log.level,s=void 0;if("string"==typeof i)switch(i){case"error":s=a.Levels.error;break;case"warn":s=a.Levels.warn;break;case"log":s=a.Levels.log;break;case"debug":s=a.Levels.debug}else switch(i){case 0:s=a.Levels.error;break;case 1:s=a.Levels.warn;break;case 2:s=a.Levels.log;break;case 3:s=a.Levels.debug}void 0===s?n.logger.error('Invalid "level" parameter value: '+JSON.stringify(i)):n.log.level=s}n.logger.warn("The UA class has been deprecated and will no longer be available starting with SIP.js release 0.16.0. The UA has been replaced by the UserAgent class. Please update accordingly.");try{n.loadConfig(r)}catch(e){throw n.status=c.UAStatus.STATUS_NOT_READY,n.error=t.C.CONFIGURATION_ERROR,e}if(!n.configuration.transportConstructor)throw new a.TransportError("Transport constructor not set");n.transport=new n.configuration.transportConstructor(n.getLogger("sip.transport"),n.configuration.transportOptions);var u=T(n),d={onInvite:function(e){e.trying(),e.delegate={onCancel:function(e){t.onCancel(e)},onTransportError:function(e){t.onTransportError()}};var t=new f.InviteServerContext(n,e);!function(e,t){if(n.configuration.replaces!==o.C.supported.UNSUPPORTED){var r=t.parseHeader("replaces");if(r){var i=n.sessions[r.call_id+r.replaces_from_tag]||n.sessions[r.call_id+r.replaces_to_tag]||void 0;if(!i)return void n.userAgentCore.replyStateless(t,{statusCode:481});if(i.status===c.SessionStatus.STATUS_TERMINATED)return void n.userAgentCore.replyStateless(t,{statusCode:603});var s=r.call_id+r.replaces_to_tag+r.replaces_from_tag,a=n.userAgentCore.dialogs.get(s);if(!a)return void n.userAgentCore.replyStateless(t,{statusCode:481});if(!a.early&&r.early_only)return void n.userAgentCore.replyStateless(t,{statusCode:486});e.replacee=i}}}(t,e.message),t.autoSendAnInitialProvisionalResponse&&t.progress(),n.emit("invite",t)},onMessage:function(e){var t=new h.ServerContext(n,e);t.body=e.message.body,t.contentType=e.message.getHeader("Content-Type")||"text/plain",e.accept(),n.emit("message",t)},onNotify:function(e){n.configuration.allowLegacyNotifications&&n.listeners("notify").length>0?(e.accept(),n.emit("notify",{request:e.message})):e.reject({statusCode:481})},onRefer:function(e){n.logger.log("Received an out of dialog refer"),n.configuration.allowOutOfDialogRefers||e.reject({statusCode:405}),n.logger.log("Allow out of dialog refers is enabled on the UA");var t=new l.ReferServerContext(n,e);n.listeners("outOfDialogReferRequested").length?n.emit("outOfDialogReferRequested",t):(n.logger.log("No outOfDialogReferRequest listeners, automatically accepting and following the out of dialog refer"),t.accept({followRefer:!0}))},onSubscribe:function(e){n.emit("subscribe",e)}};return n.userAgentCore=new a.UserAgentCore(u,d),n.registerContext=new p.RegisterContext(n,r.registerOptions),n.registerContext.on("failed",n.emit.bind(n,"registrationFailed")),n.registerContext.on("registered",n.emit.bind(n,"registered")),n.registerContext.on("unregistered",n.emit.bind(n,"unregistered")),n.configuration.autostart&&n.start(),n}return n.__extends(t,e),t.prototype.register=function(e){return void 0===e&&(e={}),e.register&&(this.configuration.register=!0),this.registerContext.register(e),this},t.prototype.unregister=function(e){var t=this;return this.configuration.register=!1,this.transport.afterConnected((function(){t.registerContext.unregister(e)})),this},t.prototype.isRegistered=function(){return this.registerContext.registered},t.prototype.invite=function(e,t,r){var n=this,i=new f.InviteClientContext(this,e,t,r);return this.transport.afterConnected((function(){i.invite(),n.emit("inviteSent",i)})),i},t.prototype.subscribe=function(e,t,r){var n=new g.Subscription(this,e,t,r);return this.transport.afterConnected((function(){return n.subscribe()})),n},t.prototype.publish=function(e,t,r,n){var i=new d.PublishContext(this,e,t,n);return this.transport.afterConnected((function(){i.publish(r)})),i},t.prototype.message=function(e,t,r){if(void 0===r&&(r={}),void 0===t)throw new TypeError("Not enough arguments");return r.contentType=r.contentType||"text/plain",r.body=t,this.request(o.C.MESSAGE,e,r)},t.prototype.request=function(e,t,r){var n=new s.ClientContext(this,e,t,r);return this.transport.afterConnected((function(){return n.send()})),n},t.prototype.stop=function(){if(this.logger.log("user requested closure..."),this.status===c.UAStatus.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;for(var e in this.logger.log("closing registerContext"),this.registerContext.close(),this.sessions)this.sessions[e]&&(this.logger.log("closing session "+e),this.sessions[e].terminate());for(var t in this.subscriptions)this.subscriptions[t]&&(this.logger.log("unsubscribe "+t),this.subscriptions[t].unsubscribe());for(var r in this.publishers)this.publishers[r]&&(this.logger.log("unpublish "+r),this.publishers[r].close());for(var n in this.applicants)this.applicants[n]&&this.applicants[n].close();if(this.status=c.UAStatus.STATUS_USER_CLOSED,this.transport.disconnect(),this.userAgentCore.reset(),this.configuration.autostop){var i=!("undefined"==typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"==typeof window||"function"!=typeof window.removeEventListener||i||window.removeEventListener("unload",this.unloadListener)}return this},t.prototype.start=function(){if(this.logger.log("user requested startup..."),this.status===c.UAStatus.STATUS_INIT?(this.status=c.UAStatus.STATUS_STARTING,this.setTransportListeners(),this.emit("transportCreated",this.transport),this.transport.connect()):this.status===c.UAStatus.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=c.UAStatus.STATUS_READY,this.transport.connect()):this.status===c.UAStatus.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===c.UAStatus.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this.configuration.autostop){var e=!("undefined"==typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"==typeof window||"function"!=typeof window.addEventListener||e||window.addEventListener("unload",this.unloadListener)}return this},t.prototype.normalizeTarget=function(e){return v.Utils.normalizeTarget(e,this.configuration.hostportParams)},t.prototype.getLogger=function(e,t){return this.log.getLogger(e,t)},t.prototype.getLoggerFactory=function(){return this.log},t.prototype.getSupportedResponseOptions=function(){var e=[];(this.contact.pubGruu||this.contact.tempGruu)&&e.push("gruu"),this.configuration.rel100===o.C.supported.SUPPORTED&&e.push("100rel"),this.configuration.replaces===o.C.supported.SUPPORTED&&e.push("replaces"),e.push("outbound"),e=e.concat(this.configuration.extraSupported||[]);var t=this.configuration.hackAllowUnregisteredOptionTags||!1,r={};return e=e.filter((function(e){var n=o.C.OPTION_TAGS[e],i=!r[e];return r[e]=!0,(n||t)&&i}))},t.prototype.findSession=function(e){return this.sessions[e.callId+e.fromTag]||this.sessions[e.callId+e.toTag]||void 0},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.onTransportError=function(){this.status!==c.UAStatus.STATUS_USER_CLOSED&&(this.error&&this.error===t.C.NETWORK_ERROR||(this.status=c.UAStatus.STATUS_NOT_READY,this.error=t.C.NETWORK_ERROR))},t.prototype.setTransportListeners=function(){var e=this;this.transport.on("connected",(function(){return e.onTransportConnected()})),this.transport.on("message",(function(t){return e.onTransportReceiveMsg(t)})),this.transport.on("transportError",(function(){return e.onTransportError()}))},t.prototype.onTransportConnected=function(){var e=this;this.configuration.register&&Promise.resolve().then((function(){return e.registerContext.register()}))},t.prototype.onTransportReceiveMsg=function(e){var t=this,r=a.Parser.parseMessage(e,this.getLogger("sip.parser"));if(r)if(this.status===c.UAStatus.STATUS_USER_CLOSED&&r instanceof a.IncomingRequestMessage)this.logger.warn("UA received message when status = USER_CLOSED - aborting");else{var n=function(){for(var e=0,n=["from","to","call_id","cseq","via"];e<n.length;e++){var i=n[e];if(!r.hasHeader(i))return t.logger.warn("Missing mandatory header field : "+i+"."),!1}return!0};if(r instanceof a.IncomingRequestMessage){if(!n())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!r.toTag&&r.callId.substr(0,5)===this.configuration.sipjsId)return void this.userAgentCore.replyStateless(r,{statusCode:482});var i=v.Utils.str_utf8_length(r.body);if((s=r.getHeader("content-length"))&&i<Number(s))return void this.userAgentCore.replyStateless(r,{statusCode:400})}if(r instanceof a.IncomingResponseMessage){if(!n())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(r.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(r.via.host!==this.configuration.viaHost||void 0!==r.via.port)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");var s;i=v.Utils.str_utf8_length(r.body);if((s=r.getHeader("content-length"))&&i<Number(s))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(r instanceof a.IncomingRequestMessage)this.userAgentCore.receiveIncomingRequestFromTransport(r);else{if(!(r instanceof a.IncomingResponseMessage))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(r)}}else this.logger.warn("UA failed to parse incoming SIP message - discarding.")},t.prototype.checkAuthenticationFactory=function(e){if(e instanceof Function)return e.initialize||(e.initialize=function(){return Promise.resolve()}),e},t.prototype.loadConfig=function(e){var t=this,r={viaHost:v.Utils.createRandomToken(12)+".invalid",uri:new a.URI("sip","anonymous."+v.Utils.createRandomToken(6),"anonymous.invalid",void 0,void 0),custom:{},displayName:"",password:void 0,register:!0,registerOptions:{},transportConstructor:S.Transport,transportOptions:{},usePreloadedRoute:!1,userAgentString:o.C.USER_AGENT,noAnswerTimeout:60,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,sessionDescriptionHandlerFactoryOptions:{constraints:{},peerConnectionOptions:{}},extraSupported:[],contactName:v.Utils.createRandomToken(8),contactTransport:"ws",forceRport:!1,autostart:!0,autostop:!0,rel100:o.C.supported.UNSUPPORTED,dtmfType:o.C.dtmfType.INFO,replaces:o.C.supported.UNSUPPORTED,sessionDescriptionHandlerFactory:m.SessionDescriptionHandler.defaultFactory,authenticationFactory:this.checkAuthenticationFactory((function(e){return new a.DigestAuthentication(e.getLoggerFactory(),t.configuration.authorizationUser,t.configuration.password)})),allowLegacyNotifications:!1,allowOutOfDialogRefers:!1,experimentalFeatures:!1},n=this.getConfigurationCheck();for(var i in n.mandatory){if(!e.hasOwnProperty(i))throw new u.Exceptions.ConfigurationError(i);var s=e[i];if(void 0===(c=n.mandatory[i](s)))throw new u.Exceptions.ConfigurationError(i,s);r[i]=c}for(var i in n.optional)if(e.hasOwnProperty(i)){var c;if((s=e[i])instanceof Array&&0===s.length||null===s||""===s||void 0===s||"number"==typeof s&&isNaN(s))continue;if(void 0===(c=n.optional[i](s)))throw new u.Exceptions.ConfigurationError(i,s);r[i]=c}0===r.displayName&&(r.displayName="0"),r.sipjsId=v.Utils.createRandomToken(5);var d=r.uri.clone();if(d.user=void 0,r.hostportParams=d.toRaw().replace(/^sip:/i,""),r.authorizationUser||(r.authorizationUser=r.uri.user),r.noAnswerTimeout=1e3*r.noAnswerTimeout,r.hackIpInContact)if("boolean"==typeof r.hackIpInContact){var l=Math.floor(254*Math.random()+1);r.viaHost="192.0.2."+l}else"string"==typeof r.hackIpInContact&&(r.viaHost=r.hackIpInContact);r.hackWssInTransport&&(r.contactTransport="wss"),this.contact={pubGruu:void 0,tempGruu:void 0,uri:new a.URI("sip",r.contactName,r.viaHost,void 0,{transport:r.contactTransport}),toString:function(e){void 0===e&&(e={});var n=e.anonymous||!1,i=e.outbound||!1,s="<";return s+=n?(t.contact.tempGruu||"sip:anonymous@anonymous.invalid;transport="+r.contactTransport).toString():(t.contact.pubGruu||t.contact.uri).toString(),i&&(s+=";ob"),s+=">"}};var p={};for(var i in r)r.hasOwnProperty(i)&&(p[i]=r[i]);for(var i in Object.assign(this.configuration,p),this.logger.log("configuration parameters after validation:"),r)if(r.hasOwnProperty(i))switch(i){case"uri":case"sessionDescriptionHandlerFactory":this.logger.log(" "+i+": "+r[i]);break;case"password":this.logger.log(" "+i+": NOT SHOWN");break;case"transportConstructor":this.logger.log(" "+i+": "+r[i].name);break;default:this.logger.log(" "+i+": "+JSON.stringify(r[i]))}},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{uri:function(e){/^sip:/i.test(e)||(e=o.C.SIP+":"+e);var t=a.Grammar.URIParse(e);return t&&t.user?t:void 0},transportConstructor:function(e){if(e instanceof Function)return e},transportOptions:function(e){if("object"==typeof e)return e},authorizationUser:function(e){return-1===a.Grammar.parse('"'+e+'"',"quoted_string")?void 0:e},displayName:function(e){return-1===a.Grammar.parse('"'+e+'"',"displayName")?void 0:e},dtmfType:function(e){switch(e){case o.C.dtmfType.RTP:return o.C.dtmfType.RTP;case o.C.dtmfType.INFO:default:return o.C.dtmfType.INFO}},hackViaTcp:function(e){if("boolean"==typeof e)return e},hackIpInContact:function(e){return"boolean"==typeof e||"string"==typeof e&&-1!==a.Grammar.parse(e,"host")?e:void 0},hackWssInTransport:function(e){if("boolean"==typeof e)return e},hackAllowUnregisteredOptionTags:function(e){if("boolean"==typeof e)return e},contactTransport:function(e){if("string"==typeof e)return e},extraSupported:function(e){if(e instanceof Array){for(var t=0,r=e;t<r.length;t++){if("string"!=typeof r[t])return}return e}},forceRport:function(e){if("boolean"==typeof e)return e},noAnswerTimeout:function(e){if(v.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},password:function(e){return String(e)},rel100:function(e){return e===o.C.supported.REQUIRED?o.C.supported.REQUIRED:e===o.C.supported.SUPPORTED?o.C.supported.SUPPORTED:o.C.supported.UNSUPPORTED},replaces:function(e){return e===o.C.supported.REQUIRED?o.C.supported.REQUIRED:e===o.C.supported.SUPPORTED?o.C.supported.SUPPORTED:o.C.supported.UNSUPPORTED},register:function(e){if("boolean"==typeof e)return e},registerOptions:function(e){if("object"==typeof e)return e},usePreloadedRoute:function(e){if("boolean"==typeof e)return e},userAgentString:function(e){if("string"==typeof e)return e},autostart:function(e){if("boolean"==typeof e)return e},autostop:function(e){if("boolean"==typeof e)return e},sessionDescriptionHandlerFactory:function(e){if(e instanceof Function)return e},sessionDescriptionHandlerFactoryOptions:function(e){if("object"==typeof e)return e},authenticationFactory:this.checkAuthenticationFactory,allowLegacyNotifications:function(e){if("boolean"==typeof e)return e},custom:function(e){if("object"==typeof e)return e},contactName:function(e){if("string"==typeof e)return e},experimentalFeatures:function(e){if("boolean"==typeof e)return e}}}},t.C={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10},t}(i.EventEmitter);function T(e){if(!(e.configuration.uri instanceof a.URI))throw new Error("Configuration URI not instance of URI.");var t=e.configuration.uri,r=e.contact,n=e.configuration.displayName?e.configuration.displayName:"",i=!!e.configuration.hackViaTcp,s=e.configuration.usePreloadedRoute&&e.transport.server&&e.transport.server.sipUri?[e.transport.server.sipUri]:[],c=e.configuration.sipjsId||v.Utils.createRandomToken(5),u=[];u.push("outbound"),e.configuration.rel100===o.C.supported.SUPPORTED&&u.push("100rel"),e.configuration.replaces===o.C.supported.SUPPORTED&&u.push("replaces"),e.configuration.extraSupported&&u.push.apply(u,e.configuration.extraSupported),e.configuration.hackAllowUnregisteredOptionTags||(u=u.filter((function(e){return o.C.OPTION_TAGS[e]}))),u=Array.from(new Set(u));var d=e.getSupportedResponseOptions(),l=e.configuration.userAgentString||"sipjs";if(!e.configuration.viaHost)throw new Error("Configuration via host undefined");var p=!!e.configuration.forceRport,h=e.configuration.viaHost;return{aor:t,contact:r,displayName:n,hackViaTcp:i,loggerFactory:e.getLoggerFactory(),routeSet:s,sipjsId:c,supportedOptionTags:u,supportedOptionTagsResponse:d,userAgentHeaderFieldValue:l,viaForceRport:p,viaHost:h,authenticationFactory:function(){if(e.configuration.authenticationFactory)return e.configuration.authenticationFactory(e)},transportAccessor:function(){return e.transport}}}t.UA=y,function(e){!function(e){e.RTP="rtp",e.INFO="info"}(e.DtmfType||(e.DtmfType={}))}(y=t.UA||(t.UA={})),t.UA=y,t.makeUserAgentCoreConfigurationFromUA=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(92),o=r(5),a=r(10),c=r(9),u=n.__importStar(r(51)),d=r(151),l=function(e){function t(t,r,n){var i=e.call(this)||this;return i.type=o.TypeStrings.SessionDescriptionHandler,i.options=n||{},i.logger=t,i.observer=r,i.dtmfSender=void 0,i.shouldAcquireMedia=!0,i.CONTENT_TYPE="application/sdp",i.C={DIRECTION:{NULL:null,SENDRECV:"sendrecv",SENDONLY:"sendonly",RECVONLY:"recvonly",INACTIVE:"inactive"}},i.logger.log("SessionDescriptionHandlerOptions: "+JSON.stringify(i.options)),i.direction=i.C.DIRECTION.NULL,i.modifiers=i.options.modifiers||[],Array.isArray(i.modifiers)||(i.modifiers=[i.modifiers]),i.iceGatheringTimeout=!1,i.initPeerConnection(i.options.peerConnectionOptions),i.constraints=i.checkAndDefaultConstraints(i.options.constraints),i}return n.__extends(t,e),t.defaultFactory=function(e,r){return new t(e instanceof s.Session?e.userAgent.getLogger("sip.sessionDescriptionHandler",e.id):e.ua.getLogger("sip.invitecontext.sessionDescriptionHandler",e.id),new d.SessionDescriptionHandlerObserver(e,r),r)},t.prototype.close=function(){this.logger.log("closing PeerConnection"),this.peerConnection&&"closed"!==this.peerConnection.signalingState&&(this.peerConnection.getSenders?this.peerConnection.getSenders().forEach((function(e){e.track&&e.track.stop()})):(this.logger.warn("Using getLocalStreams which is deprecated"),this.peerConnection.getLocalStreams().forEach((function(e){e.getTracks().forEach((function(e){e.stop()}))}))),this.peerConnection.getReceivers?this.peerConnection.getReceivers().forEach((function(e){e.track&&e.track.stop()})):(this.logger.warn("Using getRemoteStreams which is deprecated"),this.peerConnection.getRemoteStreams().forEach((function(e){e.getTracks().forEach((function(e){e.stop()}))}))),this.resetIceGatheringComplete(),this.peerConnection.close())},t.prototype.getDescription=function(e,t){var r=this;void 0===e&&(e={}),void 0===t&&(t=[]),e.peerConnectionOptions&&this.initPeerConnection(e.peerConnectionOptions);var n=Object.assign({},this.constraints,e.constraints);return n=this.checkAndDefaultConstraints(n),JSON.stringify(n)!==JSON.stringify(this.constraints)&&(this.constraints=n,this.shouldAcquireMedia=!0),Array.isArray(t)||(t=[t]),t=t.concat(this.modifiers),Promise.resolve().then((function(){if(r.shouldAcquireMedia)return r.acquire(r.constraints).then((function(){r.shouldAcquireMedia=!1}))})).then((function(){return r.createOfferOrAnswer(e.RTCOfferOptions,t)})).then((function(e){if(void 0===e.sdp)throw new a.Exceptions.SessionDescriptionHandlerError("getDescription",void 0,"SDP undefined");return r.emit("getDescription",e),{body:e.sdp,contentType:r.CONTENT_TYPE}}))},t.prototype.hasDescription=function(e){return e===this.CONTENT_TYPE},t.prototype.holdModifier=function(e){return e.sdp?(/a=(sendrecv|sendonly|recvonly|inactive)/.test(e.sdp)?(e.sdp=e.sdp.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n"),e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n")):e.sdp=e.sdp.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n"),Promise.resolve(e)):Promise.resolve(e)},t.prototype.setDescription=function(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=[]),t.peerConnectionOptions&&this.initPeerConnection(t.peerConnectionOptions),Array.isArray(r)||(r=[r]),r=r.concat(this.modifiers);var i={type:this.hasOffer("local")?"answer":"offer",sdp:e};return Promise.resolve().then((function(){if(n.shouldAcquireMedia&&n.options.alwaysAcquireMediaFirst)return n.acquire(n.constraints).then((function(){n.shouldAcquireMedia=!1}))})).then((function(){return c.Utils.reducePromises(r,i)})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("setDescription",e,"The modifiers did not resolve successfully");throw n.logger.error(t.message),n.emit("peerConnection-setRemoteDescriptionFailed",t),t})).then((function(e){return n.emit("setDescription",e),n.peerConnection.setRemoteDescription(e)})).catch((function(i){if(i.type===o.TypeStrings.SessionDescriptionHandlerError)throw i;if(/^m=video.+$/gm.test(e)&&!t.disableAudioFallback)return t.disableAudioFallback=!0,n.setDescription(e,t,[u.stripVideo].concat(r));var s=new a.Exceptions.SessionDescriptionHandlerError("setDescription",i);throw s.error&&n.logger.error(s.error),n.emit("peerConnection-setRemoteDescriptionFailed",s),s})).then((function(){n.peerConnection.getReceivers?n.emit("setRemoteDescription",n.peerConnection.getReceivers()):n.emit("setRemoteDescription",n.peerConnection.getRemoteStreams()),n.emit("confirmed",n)}))},t.prototype.sendDtmf=function(e,t){if(void 0===t&&(t={}),!this.dtmfSender&&this.hasBrowserGetSenderSupport()){var r=this.peerConnection.getSenders();r.length>0&&(this.dtmfSender=r[0].dtmf)}if(!this.dtmfSender&&this.hasBrowserTrackSupport()){var n=this.peerConnection.getLocalStreams();if(n.length>0){var i=n[0].getAudioTracks();i.length>0&&(this.dtmfSender=this.peerConnection.createDTMFSender(i[0]))}}if(!this.dtmfSender)return!1;try{this.dtmfSender.insertDTMF(e,t.duration,t.interToneGap)}catch(e){if("InvalidStateError"===e.type||"InvalidCharacterError"===e.type)return this.logger.error(e),!1;throw e}return this.logger.log("DTMF sent via RTP: "+e.toString()),!0},t.prototype.getDirection=function(){return this.direction},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.getMediaStream=function(e){return navigator.mediaDevices.getUserMedia(e)},t.prototype.createOfferOrAnswer=function(e,t){var r=this;void 0===e&&(e={}),void 0===t&&(t=[]);var n=this.hasOffer("remote")?"createAnswer":"createOffer",i=this.peerConnection;return this.logger.log(n),(this.hasOffer("remote")?i.createAnswer:i.createOffer).apply(i,e).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-"+n+"Failed");throw r.emit("peerConnection-"+n+"Failed",t),t})).then((function(e){return c.Utils.reducePromises(t,r.createRTCSessionDescriptionInit(e))})).then((function(e){return r.resetIceGatheringComplete(),r.logger.log("Setting local sdp."),r.logger.log("sdp is "+e.sdp||!1),i.setLocalDescription(e)})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-SetLocalDescriptionFailed");throw r.emit("peerConnection-SetLocalDescriptionFailed",t),t})).then((function(){return r.waitForIceGatheringComplete()})).then((function(){if(!r.peerConnection.localDescription)throw new a.Exceptions.SessionDescriptionHandlerError("Missing local description");var e=r.createRTCSessionDescriptionInit(r.peerConnection.localDescription);return c.Utils.reducePromises(t,e)})).then((function(e){return r.setDirection(e.sdp||""),e})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e);throw r.logger.error(t.toString()),t}))},t.prototype.createRTCSessionDescriptionInit=function(e){return{type:e.type,sdp:e.sdp}},t.prototype.addDefaultIceCheckingTimeout=function(e){return void 0===e.iceCheckingTimeout&&(e.iceCheckingTimeout=5e3),e},t.prototype.addDefaultIceServers=function(e){return e.iceServers||(e.iceServers=[{urls:"stun:stun.l.google.com:19302"}]),e},t.prototype.checkAndDefaultConstraints=function(e){var t={audio:!0,video:!this.options.alwaysAcquireMediaFirst};return e=e||t,0===Object.keys(e).length&&e.constructor===Object?t:e},t.prototype.hasBrowserTrackSupport=function(){return Boolean(this.peerConnection.addTrack)},t.prototype.hasBrowserGetSenderSupport=function(){return Boolean(this.peerConnection.getSenders)},t.prototype.initPeerConnection=function(e){var t=this;void 0===e&&(e={}),(e=this.addDefaultIceCheckingTimeout(e)).rtcConfiguration=e.rtcConfiguration||{},e.rtcConfiguration=this.addDefaultIceServers(e.rtcConfiguration),this.logger.log("initPeerConnection"),this.peerConnection&&(this.logger.log("Already have a peer connection for this session. Tearing down."),this.resetIceGatheringComplete(),this.peerConnection.close()),this.peerConnection=new RTCPeerConnection(e.rtcConfiguration),this.logger.log("New peer connection created"),"ontrack"in this.peerConnection?this.peerConnection.addEventListener("track",(function(e){t.logger.log("track added"),t.observer.trackAdded(),t.emit("addTrack",e)})):(this.logger.warn("Using onaddstream which is deprecated"),this.peerConnection.onaddstream=function(e){t.logger.log("stream added"),t.emit("addStream",e)}),this.peerConnection.onicecandidate=function(e){t.emit("iceCandidate",e),e.candidate?t.logger.log("ICE candidate received: "+(null===e.candidate.candidate?null:e.candidate.candidate.trim())):null===e.candidate&&(t.logger.log("ICE candidate gathering complete"),t.triggerIceGatheringComplete())},this.peerConnection.onicegatheringstatechange=function(){switch(t.logger.log("RTCIceGatheringState changed: "+t.peerConnection.iceGatheringState),t.peerConnection.iceGatheringState){case"gathering":t.emit("iceGathering",t),!t.iceGatheringTimer&&e.iceCheckingTimeout&&(t.iceGatheringTimeout=!1,t.iceGatheringTimer=setTimeout((function(){t.logger.log("RTCIceChecking Timeout Triggered after "+e.iceCheckingTimeout+" milliseconds"),t.iceGatheringTimeout=!0,t.triggerIceGatheringComplete()}),e.iceCheckingTimeout));break;case"complete":t.triggerIceGatheringComplete()}},this.peerConnection.oniceconnectionstatechange=function(){var e;switch(t.peerConnection.iceConnectionState){case"new":e="iceConnection";break;case"checking":e="iceConnectionChecking";break;case"connected":e="iceConnectionConnected";break;case"completed":e="iceConnectionCompleted";break;case"failed":e="iceConnectionFailed";break;case"disconnected":e="iceConnectionDisconnected";break;case"closed":e="iceConnectionClosed";break;default:return void t.logger.warn("Unknown iceConnection state: "+t.peerConnection.iceConnectionState)}t.logger.log("ICE Connection State changed to "+e),t.emit(e,t)}},t.prototype.acquire=function(e){var t=this;return e=this.checkAndDefaultConstraints(e),new Promise((function(r,n){t.logger.log("acquiring local media"),t.emit("userMediaRequest",e),e.audio||e.video?t.getMediaStream(e).then((function(e){t.observer.trackAdded(),t.emit("userMedia",e),r(e)})).catch((function(e){t.emit("userMediaFailed",e),n(e)})):r([])})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var r=new a.Exceptions.SessionDescriptionHandlerError("acquire",e,"unable to acquire streams");throw t.logger.error(r.message),r.error&&t.logger.error(r.error),r})).then((function(e){return t.logger.log("acquired local media streams"),t.peerConnection.removeTrack&&t.peerConnection.getSenders().forEach((function(e){t.peerConnection.removeTrack(e)})),e})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var r=new a.Exceptions.SessionDescriptionHandlerError("acquire",e,"error removing streams");throw t.logger.error(r.message),r.error&&t.logger.error(r.error),r})).then((function(e){return[].concat(e).forEach((function(e){t.peerConnection.addTrack?e.getTracks().forEach((function(r){t.peerConnection.addTrack(r,e)})):t.peerConnection.addStream(e)})),Promise.resolve()})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var r=new a.Exceptions.SessionDescriptionHandlerError("acquire",e,"error adding stream");throw t.logger.error(r.message),r.error&&t.logger.error(r.error),r}))},t.prototype.hasOffer=function(e){var t="have-"+e+"-offer";return this.peerConnection.signalingState===t},t.prototype.isIceGatheringComplete=function(){return"complete"===this.peerConnection.iceGatheringState||this.iceGatheringTimeout},t.prototype.resetIceGatheringComplete=function(){this.iceGatheringTimeout=!1,this.logger.log("resetIceGatheringComplete"),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.reject(),this.iceGatheringDeferred=void 0)},t.prototype.setDirection=function(e){var t=e.match(/a=(sendrecv|sendonly|recvonly|inactive)/);if(null===t)return this.direction=this.C.DIRECTION.NULL,void this.observer.directionChanged();var r=t[1];switch(r){case this.C.DIRECTION.SENDRECV:case this.C.DIRECTION.SENDONLY:case this.C.DIRECTION.RECVONLY:case this.C.DIRECTION.INACTIVE:this.direction=r;break;default:this.direction=this.C.DIRECTION.NULL}this.observer.directionChanged()},t.prototype.triggerIceGatheringComplete=function(){this.isIceGatheringComplete()&&(this.emit("iceGatheringComplete",this),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.resolve(),this.iceGatheringDeferred=void 0))},t.prototype.waitForIceGatheringComplete=function(){return this.logger.log("waitForIceGatheringComplete"),this.isIceGatheringComplete()?(this.logger.log("ICE is already complete. Return resolved."),Promise.resolve()):(this.iceGatheringDeferred||(this.iceGatheringDeferred=c.Utils.defer()),this.logger.log("ICE is not complete. Returning promise"),this.iceGatheringDeferred?this.iceGatheringDeferred.promise:Promise.resolve())},t}(i.EventEmitter);t.SessionDescriptionHandler=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=r(2),s=r(17),o=r(23),a=r(138),c=r(139),u=r(140),d=r(146),l=r(147),p=r(148),h=r(149),f=r(150),g=function(){function e(e,t){void 0===t&&(t={}),this.pendingReinvite=!1,this._state=f.SessionState.Initial,this._stateEventEmitter=new n.EventEmitter,this.delegate=t.delegate,this._userAgent=e}return e.prototype.dispose=function(){var e=this;switch(this.logger.log("Session "+this.id+" in state "+this._state+" is being disposed"),delete this.userAgent._sessions[this.id],this._sessionDescriptionHandler&&this._sessionDescriptionHandler.close(),this.state){case f.SessionState.Initial:case f.SessionState.Establishing:break;case f.SessionState.Established:return new Promise((function(t,r){e._bye({onAccept:function(){return t()},onRedirect:function(){return t()},onReject:function(){return t()}})}));case f.SessionState.Terminating:case f.SessionState.Terminated:break;default:throw new Error("Unknown state.")}return Promise.resolve()},Object.defineProperty(e.prototype,"assertedIdentity",{get:function(){return this._assertedIdentity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialog",{get:function(){return this._dialog},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replacee",{get:function(){return this._replacee},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionDescriptionHandler",{get:function(){return this._sessionDescriptionHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionDescriptionHandlerFactory",{get:function(){return this.userAgent.configuration.sessionDescriptionHandlerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateChange",{get:function(){return c._makeEmitter(this._stateEventEmitter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userAgent",{get:function(){return this._userAgent},enumerable:!0,configurable:!0}),e.prototype.bye=function(e){void 0===e&&(e={});var t="Session.bye() may only be called if established session.";switch(this.state){case f.SessionState.Initial:"function"==typeof this.cancel?(t+=" However Inviter.invite() has not yet been called.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"==typeof this.reject&&(t+=" However Invitation.accept() has not yet been called.",t+=" Perhaps you should have called Invitation.reject()?");break;case f.SessionState.Establishing:"function"==typeof this.cancel?(t+=" However a dialog does not yet exist.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"==typeof this.reject&&(t+=" However Invitation.accept() has not yet been called (or not yet resolved).",t+=" Perhaps you should have called Invitation.reject()?");break;case f.SessionState.Established:var r=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._bye(r,n);case f.SessionState.Terminating:t+=" However this session is already terminating.","function"==typeof this.cancel?t+=" Perhaps you have already called Inviter.cancel()?":"function"==typeof this.reject&&(t+=" Perhaps you have already called Session.bye()?");break;case f.SessionState.Terminated:t+=" However this session is already terminated.";break;default:throw new Error("Unknown state")}return this.logger.error(t),Promise.reject(new Error("Invalid session state "+this.state))},e.prototype.info=function(e){if(void 0===e&&(e={}),this.state!==f.SessionState.Established){return this.logger.error("Session.info() may only be called if established session."),Promise.reject(new Error("Invalid session state "+this.state))}var t=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._info(t,r)},e.prototype.invite=function(e){var t=this;if(void 0===e&&(e={}),this.logger.log("Session.invite"),this.state!==f.SessionState.Established)return Promise.reject(new Error("Invalid session state "+this.state));if(this.pendingReinvite)return Promise.reject(new u.RequestPendingError("Reinvite in progress. Please wait until complete, then try again."));this.pendingReinvite=!0;var r={onAccept:function(r){var n=i.getBody(r.message);if(!n)return t.logger.error("Received 2xx response to re-INVITE without a session description"),t.ackAndBye(r,400,"Missing session description"),t.stateTransition(f.SessionState.Terminated),void(t.pendingReinvite=!1);if(e.withoutSdp){var s={sessionDescriptionHandlerOptions:e.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:e.sessionDescriptionHandlerModifiers};t.setOfferAndGetAnswer(n,s).then((function(e){r.ack({body:e})})).catch((function(e){t.logger.error("Failed to handle offer in 2xx response to re-INVITE"),t.logger.error(e.message),t.state===f.SessionState.Terminated?r.ack():(t.ackAndBye(r,488,"Bad Media Description"),t.stateTransition(f.SessionState.Terminated))})).then((function(){t.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(r)}))}else{s={sessionDescriptionHandlerOptions:t._sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:t._sessionDescriptionHandlerModifiers};t.setAnswer(n,s).then((function(){r.ack()})).catch((function(e){t.logger.error("Failed to handle answer in 2xx response to re-INVITE"),t.logger.error(e.message),t.state!==f.SessionState.Terminated?(t.ackAndBye(r,488,"Bad Media Description"),t.stateTransition(f.SessionState.Terminated)):r.ack()})).then((function(){t.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(r)}))}},onProgress:function(e){},onRedirect:function(e){},onReject:function(r){t.logger.warn("Received a non-2xx response to re-INVITE"),t.pendingReinvite=!1,e.withoutSdp?e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(r):t.rollbackOffer().catch((function(e){if(t.logger.error("Failed to rollback offer on non-2xx response to re-INVITE"),t.logger.error(e.message),t.state!==f.SessionState.Terminated){if(!t.dialog)throw new Error("Dialog undefined.");var r=[];r.push("Reason: "+t.getReasonHeaderValue(500,"Internal Server Error")),t.dialog.bye(void 0,{extraHeaders:r}),t.stateTransition(f.SessionState.Terminated)}})).then((function(){e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(r)}))},onTrying:function(e){}},n=e.requestOptions||{};if(n.extraHeaders=(n.extraHeaders||[]).slice(),n.extraHeaders.push("Allow: "+o.AllowedMethods.toString()),n.extraHeaders.push("Contact: "+this._contact),e.withoutSdp){if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return Promise.resolve(this.dialog.invite(r,n))}var s={sessionDescriptionHandlerOptions:e.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:e.sessionDescriptionHandlerModifiers};return this.getOffer(s).then((function(e){if(!t.dialog)throw t.pendingReinvite=!1,new Error("Dialog undefined.");return n.body=e,t.dialog.invite(r,n)})).catch((function(e){throw t.logger.error(e.message),t.logger.error("Failed to send re-INVITE"),t.pendingReinvite=!1,e}))},e.prototype.message=function(e){if(void 0===e&&(e={}),this.state!==f.SessionState.Established){return this.logger.error("Session.message() may only be called if established session."),Promise.reject(new Error("Invalid session state "+this.state))}var t=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._message(t,r)},e.prototype.refer=function(e,t){if(void 0===t&&(t={}),this.state!==f.SessionState.Established){return this.logger.error("Session.refer() may only be called if established session."),Promise.reject(new Error("Invalid session state "+this.state))}var r=t.requestDelegate,n=this.copyRequestOptions(t.requestOptions);return n.extraHeaders=n.extraHeaders?n.extraHeaders.concat(this.referExtraHeaders(this.referToString(e))):this.referExtraHeaders(this.referToString(e)),this._refer(t.onNotify,r,n)},e.prototype._bye=function(e,t){var r=this;if(!this.dialog)return Promise.reject(new Error("Session dialog undefined."));var n=this.dialog;switch(n.sessionState){case i.SessionState.Initial:case i.SessionState.Early:throw new Error("Invalid dialog state "+n.sessionState);case i.SessionState.AckWait:return this.stateTransition(f.SessionState.Terminating),new Promise((function(i,s){n.delegate={onAck:function(){var s=n.bye(e,t);r.stateTransition(f.SessionState.Terminated),i(s)},onAckTimeout:function(){var s=n.bye(e,t);r.stateTransition(f.SessionState.Terminated),i(s)}}}));case i.SessionState.Confirmed:var s=n.bye(e,t);return this.stateTransition(f.SessionState.Terminated),Promise.resolve(s);case i.SessionState.Terminated:throw new Error("Invalid dialog state "+n.sessionState);default:throw new Error("Unrecognized state.")}},e.prototype._info=function(e,t){return this.dialog?Promise.resolve(this.dialog.info(e,t)):Promise.reject(new Error("Session dialog undefined."))},e.prototype._message=function(e,t){return this.dialog?Promise.resolve(this.dialog.message(e,t)):Promise.reject(new Error("Session dialog undefined."))},e.prototype._refer=function(e,t,r){return this.dialog?(this.onNotify=e,Promise.resolve(this.dialog.refer(t,r))):Promise.reject(new Error("Session dialog undefined."))},e.prototype.ackAndBye=function(e,t,r){e.ack();var n=[];t&&n.push("Reason: "+this.getReasonHeaderValue(t,r)),e.session.bye(void 0,{extraHeaders:n})},e.prototype.onAckRequest=function(e){var t=this;if(this.logger.log("Session.onAckRequest"),this.state===f.SessionState.Established||this.state===f.SessionState.Terminating){var r=this.dialog;if(!r)throw new Error("Dialog undefined.");switch(r.signalingState){case i.SignalingState.Initial:this.logger.error("Invalid signaling state "+r.signalingState+".");var n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return r.bye(void 0,{extraHeaders:n}),void this.stateTransition(f.SessionState.Terminated);case i.SignalingState.Stable:var s=i.getBody(e.message);if(!s)return;if("render"===s.contentDisposition)return this._renderbody=s.content,void(this._rendertype=s.contentType);if("session"!==s.contentDisposition)return;var o={sessionDescriptionHandlerOptions:this._sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this._sessionDescriptionHandlerModifiers};return void this.setAnswer(s,o).catch((function(e){t.logger.error(e.message);var n=["Reason: "+t.getReasonHeaderValue(488,"Bad Media Description")];r.bye(void 0,{extraHeaders:n}),t.stateTransition(f.SessionState.Terminated)}));case i.SignalingState.HaveLocalOffer:this.logger.error("Invalid signaling state "+r.signalingState+".");n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return r.bye(void 0,{extraHeaders:n}),void this.stateTransition(f.SessionState.Terminated);case i.SignalingState.HaveRemoteOffer:this.logger.error("Invalid signaling state "+r.signalingState+".");n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return r.bye(void 0,{extraHeaders:n}),void this.stateTransition(f.SessionState.Terminated);case i.SignalingState.Closed:default:throw new Error("Invalid signaling state "+r.signalingState+".")}}else this.logger.error("ACK received while in state "+this.state+", dropping request")},e.prototype.onByeRequest=function(e){if(this.logger.log("Session.onByeRequest"),this.state===f.SessionState.Established){if(this.delegate&&this.delegate.onBye){var t=new a.Bye(e);this.delegate.onBye(t)}else e.accept();this.stateTransition(f.SessionState.Terminated)}else this.logger.error("BYE received while in state "+this.state+", dropping request")},e.prototype.onInfoRequest=function(e){if(this.logger.log("Session.onInfoRequest"),this.state===f.SessionState.Established)if(this.delegate&&this.delegate.onInfo){var t=new d.Info(e);this.delegate.onInfo(t)}else e.accept();else this.logger.error("INFO received while in state "+this.state+", dropping request")},e.prototype.onInviteRequest=function(e){var t=this;if(this.logger.log("Session.onInviteRequest"),this.state===f.SessionState.Established){var r=["Contact: "+this._contact];if(e.message.hasHeader("P-Asserted-Identity")){var n=e.message.getHeader("P-Asserted-Identity");if(!n)throw new Error("Header undefined.");this._assertedIdentity=i.Grammar.nameAddrHeaderParse(n)}var s={sessionDescriptionHandlerOptions:this._sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this._sessionDescriptionHandlerModifiers};this.generateResponseOfferAnswerInDialog(s).then((function(n){var i=e.accept({statusCode:200,extraHeaders:r,body:n});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,i.message,200)})).catch((function(n){if(t.logger.error(n.message),t.logger.error("Failed to handle to re-INVITE request"),!t.dialog)throw new Error("Dialog undefined.");if(t.logger.error(t.dialog.signalingState),t.dialog.signalingState!==i.SignalingState.Stable)t.rollbackOffer().then((function(){var r=e.reject({statusCode:488});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,r.message,488)})).catch((function(n){t.logger.error(n.message),t.logger.error("Failed to rollback offer on re-INVITE request");var i=e.reject({statusCode:488});if(t.state!==f.SessionState.Terminated){if(!t.dialog)throw new Error("Dialog undefined.");[].push("Reason: "+t.getReasonHeaderValue(500,"Internal Server Error")),t.dialog.bye(void 0,{extraHeaders:r}),t.stateTransition(f.SessionState.Terminated)}t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,i.message,488)}));else{var s=e.reject({statusCode:488});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,s.message,488)}}))}else this.logger.error("INVITE received while in state "+this.state+", dropping request")},e.prototype.onMessageRequest=function(e){if(this.logger.log("Session.onMessageRequest"),this.state===f.SessionState.Established)if(this.delegate&&this.delegate.onMessage){var t=new l.Message(e);this.delegate.onMessage(t)}else e.accept();else this.logger.error("MESSAGE received while in state "+this.state+", dropping request")},e.prototype.onNotifyRequest=function(e){if(this.logger.log("Session.onNotifyRequest"),this.state===f.SessionState.Established)if(this.onNotify){var t=new p.Notification(e);this.onNotify(t)}else if(this.delegate&&this.delegate.onNotify){t=new p.Notification(e);this.delegate.onNotify(t)}else e.accept();else this.logger.error("NOTIFY received while in state "+this.state+", dropping request")},e.prototype.onPrackRequest=function(e){if(this.logger.log("Session.onPrackRequest"),this.state===f.SessionState.Established)throw new Error("Unimplemented.");this.logger.error("PRACK received while in state "+this.state+", dropping request")},e.prototype.onReferRequest=function(e){var t=this;if(this.logger.log("Session.onReferRequest"),this.state===f.SessionState.Established){if(!e.message.hasHeader("refer-to"))return this.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting."),void e.reject();var r=new h.Referral(e,this);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(r):(this.logger.log("No delegate available to handle REFER, automatically accepting and following."),r.accept().then((function(){return r.makeInviter(t._referralInviterOptions).invite()})).catch((function(e){t.logger.error(e.message)})))}else this.logger.error("REFER received while in state "+this.state+", dropping request")},e.prototype.generateResponseOfferAnswer=function(e,t){if(this.dialog)return this.generateResponseOfferAnswerInDialog(t);var r=i.getBody(e.message);return r&&"session"===r.contentDisposition?this.setOfferAndGetAnswer(r,t):this.getOffer(t)},e.prototype.generateResponseOfferAnswerInDialog=function(e){if(!this.dialog)throw new Error("Dialog undefined.");switch(this.dialog.signalingState){case i.SignalingState.Initial:return this.getOffer(e);case i.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case i.SignalingState.HaveRemoteOffer:if(!this.dialog.offer)throw new Error("Session offer undefined in signaling state "+this.dialog.signalingState+".");return this.setOfferAndGetAnswer(this.dialog.offer,e);case i.SignalingState.Stable:return this.state!==f.SessionState.Established?Promise.resolve(void 0):this.getOffer(e);case i.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.dialog.signalingState+".")}},e.prototype.getOffer=function(e){var t=this,r=this.setupSessionDescriptionHandler(),n=e.sessionDescriptionHandlerOptions,s=e.sessionDescriptionHandlerModifiers;try{return r.getDescription(n,s).then((function(e){return i.fromBodyLegacy(e)})).catch((function(e){t.logger.error("Session.getOffer: SDH getDescription rejected...");var r=e instanceof Error?e:new Error(e);throw t.logger.error(r.message),r}))}catch(e){this.logger.error("Session.getOffer: SDH getDescription threw...");var o=e instanceof Error?e:new Error(e);return this.logger.error(o.message),Promise.reject(o)}},e.prototype.rollbackOffer=function(){var e=this,t=this.setupSessionDescriptionHandler();if(!t.rollbackDescription)return Promise.resolve();try{return t.rollbackDescription().catch((function(t){e.logger.error("Session.rollbackOffer: SDH rollbackDescription rejected...");var r=t instanceof Error?t:new Error(t);throw e.logger.error(r.message),r}))}catch(e){this.logger.error("Session.rollbackOffer: SDH rollbackDescription threw...");var r=e instanceof Error?e:new Error(e);return this.logger.error(r.message),Promise.reject(r)}},e.prototype.setAnswer=function(e,t){var r=this,n=this.setupSessionDescriptionHandler(),i=t.sessionDescriptionHandlerOptions,s=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new u.ContentTypeUnsupportedError)}catch(e){this.logger.error("Session.setAnswer: SDH hasDescription threw...");var o=e instanceof Error?e:new Error(e);return this.logger.error(o.message),Promise.reject(o)}try{return n.setDescription(e.content,i,s).catch((function(e){r.logger.error("Session.setAnswer: SDH setDescription rejected...");var t=e instanceof Error?e:new Error(e);throw r.logger.error(t.message),t}))}catch(e){this.logger.error("Session.setAnswer: SDH setDescription threw...");o=e instanceof Error?e:new Error(e);return this.logger.error(o.message),Promise.reject(o)}},e.prototype.setOfferAndGetAnswer=function(e,t){var r=this,n=this.setupSessionDescriptionHandler(),s=t.sessionDescriptionHandlerOptions,o=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new u.ContentTypeUnsupportedError)}catch(e){this.logger.error("Session.setOfferAndGetAnswer: SDH hasDescription threw...");var a=e instanceof Error?e:new Error(e);return this.logger.error(a.message),Promise.reject(a)}try{return n.setDescription(e.content,s,o).then((function(){return n.getDescription(s,o)})).then((function(e){return i.fromBodyLegacy(e)})).catch((function(e){r.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription rejected...");var t=e instanceof Error?e:new Error(e);throw r.logger.error(t.message),t}))}catch(e){this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription threw...");a=e instanceof Error?e:new Error(e);return this.logger.error(a.message),Promise.reject(a)}},e.prototype.setSessionDescriptionHandler=function(e){if(this._sessionDescriptionHandler)throw new Error("Session description handler defined.");this._sessionDescriptionHandler=e},e.prototype.setupSessionDescriptionHandler=function(){return this._sessionDescriptionHandler||(this._sessionDescriptionHandler=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions)),this._sessionDescriptionHandler},e.prototype.stateTransition=function(e){var t=this,r=function(){throw new Error("Invalid state transition from "+t._state+" to "+e)};switch(this._state){case f.SessionState.Initial:e!==f.SessionState.Establishing&&e!==f.SessionState.Established&&e!==f.SessionState.Terminating&&e!==f.SessionState.Terminated&&r();break;case f.SessionState.Establishing:e!==f.SessionState.Established&&e!==f.SessionState.Terminating&&e!==f.SessionState.Terminated&&r();break;case f.SessionState.Established:e!==f.SessionState.Terminating&&e!==f.SessionState.Terminated&&r();break;case f.SessionState.Terminating:e!==f.SessionState.Terminated&&r();break;case f.SessionState.Terminated:r();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log("Session "+this.id+" transitioned to state "+this._state),this._stateEventEmitter.emit("event",this._state),e===f.SessionState.Terminated&&this.dispose()},e.prototype.copyRequestOptions=function(e){return void 0===e&&(e={}),{extraHeaders:e.extraHeaders?e.extraHeaders.slice():void 0,body:e.body?{contentDisposition:e.body.contentDisposition||"render",contentType:e.body.contentType||"text/plain",content:e.body.content||""}:void 0}},e.prototype.getReasonHeaderValue=function(e,t){var r=e,n=s.getReasonPhrase(e);return!n&&t&&(n=t),"SIP;cause="+r+';text="'+n+'"'},e.prototype.referExtraHeaders=function(e){var t=[];return t.push("Referred-By: <"+this.userAgent.configuration.uri+">"),t.push("Contact: "+this._contact),t.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.push("Refer-To: "+e),t},e.prototype.referToString=function(e){var t;if(e instanceof i.URI)t=e.toString();else{if(!e.dialog)throw new Error("Dialog undefined.");var r=e.remoteIdentity.friendlyName,n=e.dialog.remoteTarget.toString(),s=e.dialog.callId,o=e.dialog.remoteTag,a=e.dialog.localTag;t='"'+r+'" <'+n+"?Replaces="+encodeURIComponent(s+";to-tag="+o+";from-tag="+a)+">"}return t},e}();t.Session=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),s=r(2),o=r(5),a=r(10),c=r(89),u=r(9);!function(e){e[e.STATUS_CONNECTING=0]="STATUS_CONNECTING",e[e.STATUS_OPEN=1]="STATUS_OPEN",e[e.STATUS_CLOSING=2]="STATUS_CLOSING",e[e.STATUS_CLOSED=3]="STATUS_CLOSED"}(n=t.TransportStatus||(t.TransportStatus={}));var d=function(e){function t(t,r){void 0===r&&(r={});var i=e.call(this,t)||this;return i.type=o.TypeStrings.Transport,i.reconnectionAttempts=0,i.status=n.STATUS_CONNECTING,i.configuration=i.loadConfig(r),i.server=i.configuration.wsServers[0],i}return i.__extends(t,e),t.prototype.isConnected=function(){return this.status===n.STATUS_OPEN},t.prototype.sendPromise=function(e,t){if(void 0===t&&(t={}),void 0===this.ws)return this.onError("unable to send message - WebSocket undefined"),Promise.reject(new Error("WebSocket undefined."));if(!this.statusAssert(n.STATUS_OPEN,t.force))return this.onError("unable to send message - WebSocket not open"),Promise.reject(new Error("WebSocket not open."));!0===this.configuration.traceSip&&this.logger.log("sending WebSocket message:\n\n"+e+"\n");try{this.ws.send(e)}catch(e){return e instanceof e&&Promise.reject(e),Promise.reject(new Error("Failed to send message."))}return Promise.resolve({msg:e})},t.prototype.disconnectPromise=function(e){var t=this;return void 0===e&&(e={}),this.disconnectionPromise?this.disconnectionPromise:(e.code=e.code||1e3,this.statusTransition(n.STATUS_CLOSING,e.force)?(this.emit("disconnecting"),this.disconnectionPromise=new Promise((function(r,n){t.disconnectDeferredResolve=r,t.reconnectTimer&&(clearTimeout(t.reconnectTimer),t.reconnectTimer=void 0),t.ws?(t.stopSendingKeepAlives(),t.logger.log("closing WebSocket "+t.server.wsUri),t.ws.close(e.code,e.reason)):n("Attempted to disconnect but the websocket doesn't exist")})),this.disconnectionPromise):this.status===n.STATUS_CLOSED?Promise.resolve({overrideEvent:!0}):this.connectionPromise?this.connectionPromise.then((function(){return Promise.reject("The websocket did not disconnect")})).catch((function(){return Promise.resolve({overrideEvent:!0})})):Promise.reject("The websocket did not disconnect"))},t.prototype.connectPromise=function(e){var t=this;return void 0===e&&(e={}),this.status!==n.STATUS_CLOSING||e.force?(this.connectionPromise||(this.server=this.server||this.getNextWsServer(e.force),this.connectionPromise=new Promise((function(r,i){if((t.status===n.STATUS_OPEN||t.status===n.STATUS_CLOSING)&&!e.force)return t.logger.warn("WebSocket "+t.server.wsUri+" is already connected"),void i("Failed status check - attempted to open a connection but already open/closing");t.connectDeferredResolve=r,t.connectDeferredReject=i,t.status=n.STATUS_CONNECTING,t.emit("connecting"),t.logger.log("connecting to WebSocket "+t.server.wsUri),t.disposeWs();try{t.ws=new WebSocket(t.server.wsUri,"sip"),t.ws.binaryType="arraybuffer"}catch(e){return t.ws=void 0,t.statusTransition(n.STATUS_CLOSED,!0),t.onError("error connecting to WebSocket "+t.server.wsUri+":"+e),i("Failed to create a websocket"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0)}if(!t.ws)return i("Unexpected instance websocket not set"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0);t.connectionTimeout=setTimeout((function(){t.statusTransition(n.STATUS_CLOSED),t.logger.warn("took too long to connect - exceeded time set in configuration.connectionTimeout: "+t.configuration.connectionTimeout+"s"),t.emit("disconnected",{code:1e3}),t.connectionPromise=void 0,i("Connection timeout"),t.connectDeferredResolve=void 0,t.connectDeferredReject=void 0;var e=t.ws;t.disposeWs(),e&&e.close(1e3)}),1e3*t.configuration.connectionTimeout),t.boundOnOpen=t.onOpen.bind(t),t.boundOnMessage=t.onMessage.bind(t),t.boundOnClose=t.onClose.bind(t),t.boundOnError=t.onWebsocketError.bind(t),t.ws.addEventListener("open",t.boundOnOpen),t.ws.addEventListener("message",t.boundOnMessage),t.ws.addEventListener("close",t.boundOnClose),t.ws.addEventListener("error",t.boundOnError)}))),this.connectionPromise):Promise.reject("WebSocket "+this.server.wsUri+" is closing")},t.prototype.onMessage=function(e){var t,r=e.data;if(/^(\r\n)+$/.test(r))return this.clearKeepAliveTimeout(),void(!0===this.configuration.traceSip&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if(r){if("string"!=typeof r){try{t=String.fromCharCode.apply(null,new Uint8Array(r))}catch(e){return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}!0===this.configuration.traceSip&&this.logger.log("received WebSocket binary message:\n\n"+r+"\n")}else!0===this.configuration.traceSip&&this.logger.log("received WebSocket text message:\n\n"+r+"\n"),t=r;this.emit("message",t)}else this.logger.warn("received empty message, message discarded")},t.prototype.onOpen=function(){if(this.status===n.STATUS_CLOSED){var e=this.ws;return this.disposeWs(),void(e&&e.close(1e3))}this.statusTransition(n.STATUS_OPEN,!0),this.emit("connected"),this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=void 0),this.logger.log("WebSocket "+this.server.wsUri+" connected"),void 0!==this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.reconnectionAttempts=0,this.disconnectionPromise=void 0,this.disconnectDeferredResolve=void 0,this.startSendingKeepAlives(),this.connectDeferredResolve?(this.connectDeferredResolve({overrideEvent:!0}),this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0):this.logger.warn("Unexpected websocket.onOpen with no connectDeferredResolve")},t.prototype.onClose=function(e){if(this.logger.log("WebSocket disconnected (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),this.status!==n.STATUS_CLOSING&&(this.logger.warn("WebSocket closed without SIP.js requesting it"),this.emit("transportError")),this.stopSendingKeepAlives(),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.connectDeferredReject&&this.connectDeferredReject("Websocket Closed"),this.connectionTimeout=void 0,this.connectionPromise=void 0,this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0,this.disconnectDeferredResolve)return this.disconnectDeferredResolve({overrideEvent:!0}),this.statusTransition(n.STATUS_CLOSED),void(this.disconnectDeferredResolve=void 0);this.statusTransition(n.STATUS_CLOSED,!0),this.emit("disconnected",{code:e.code,reason:e.reason}),this.disposeWs(),this.reconnect()},t.prototype.disposeWs=function(){this.ws&&(this.ws.removeEventListener("open",this.boundOnOpen),this.ws.removeEventListener("message",this.boundOnMessage),this.ws.removeEventListener("close",this.boundOnClose),this.ws.removeEventListener("error",this.boundOnError),this.ws=void 0)},t.prototype.onError=function(e){this.logger.warn("Transport error: "+e),this.emit("transportError")},t.prototype.onWebsocketError=function(){this.onError("The Websocket had an error")},t.prototype.reconnect=function(){var e=this;if(this.reconnectionAttempts>0&&this.logger.log("Reconnection attempt "+this.reconnectionAttempts+" failed"),this.noAvailableServers())return this.logger.warn("attempted to get next ws server but there are no available ws servers left"),this.logger.warn("no available ws servers left - going to closed state"),this.statusTransition(n.STATUS_CLOSED,!0),this.emit("closed"),void this.resetServerErrorStatus();this.isConnected()&&(this.logger.warn("attempted to reconnect while connected - forcing disconnect"),this.disconnect({force:!0})),this.reconnectionAttempts+=1,this.reconnectionAttempts>this.configuration.maxReconnectionAttempts?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.wsUri),this.logger.log("transport "+this.server.wsUri+" failed | connection state set to 'error'"),this.server.isError=!0,this.emit("transportError"),this.noAvailableServers()||(this.server=this.getNextWsServer()),this.reconnectionAttempts=0,this.reconnect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.wsUri+" (reconnection attempt "+this.reconnectionAttempts+")"),this.reconnectTimer=setTimeout((function(){e.connect(),e.reconnectTimer=void 0}),1===this.reconnectionAttempts?0:1e3*this.configuration.reconnectionTimeout))},t.prototype.resetServerErrorStatus=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++){t[e].isError=!1}},t.prototype.getNextWsServer=function(e){if(void 0===e&&(e=!1),this.noAvailableServers())throw this.logger.warn("attempted to get next ws server but there are no available ws servers left"),new Error("Attempted to get next ws server, but there are no available ws servers left.");for(var t=[],r=0,n=this.configuration.wsServers;r<n.length;r++){var i=n[r];i.isError&&!e||(0===t.length?t.push(i):i.weight>t[0].weight?t=[i]:i.weight===t[0].weight&&t.push(i))}return t[Math.floor(Math.random()*t.length)]},t.prototype.noAvailableServers=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++){if(!t[e].isError)return!1}return!0},t.prototype.sendKeepAlive=function(){var e=this;if(!this.keepAliveDebounceTimeout)return this.keepAliveDebounceTimeout=setTimeout((function(){e.emit("keepAliveDebounceTimeout"),e.clearKeepAliveTimeout()}),1e3*this.configuration.keepAliveDebounce),this.send("\r\n\r\n")},t.prototype.clearKeepAliveTimeout=function(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0},t.prototype.startSendingKeepAlives=function(){var e,t,r=this;this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval((function(){r.sendKeepAlive(),r.startSendingKeepAlives()}),(e=this.configuration.keepAliveInterval,t=.8*e,1e3*(Math.random()*(e-t)+t))))},t.prototype.stopSendingKeepAlives=function(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0},t.prototype.statusAssert=function(e,t){return e===this.status||(t?(this.logger.warn("Attempted to assert "+Object.keys(n)[this.status]+" as "+Object.keys(n)[e]+"- continuing with option: 'force'"),!0):(this.logger.warn("Tried to assert "+Object.keys(n)[e]+" but is currently "+Object.keys(n)[this.status]),!1))},t.prototype.statusTransition=function(e,t){return void 0===t&&(t=!1),this.logger.log("Attempting to transition status from "+Object.keys(n)[this.status]+" to "+Object.keys(n)[e]),e===n.STATUS_CONNECTING&&this.statusAssert(n.STATUS_CLOSED,t)||e===n.STATUS_OPEN&&this.statusAssert(n.STATUS_CONNECTING,t)||e===n.STATUS_CLOSING&&this.statusAssert(n.STATUS_OPEN,t)||e===n.STATUS_CLOSED?(this.status=e,!0):(this.logger.warn("Status transition failed - result: no-op - reason: either gave an nonexistent status or attempted illegal transition"),!1)},t.prototype.loadConfig=function(e){var t={wsServers:[{scheme:"WSS",sipUri:"<sip:edge.sip.onsip.com;transport=ws;lr>",weight:0,wsUri:"wss://edge.sip.onsip.com",isError:!1}],connectionTimeout:5,maxReconnectionAttempts:3,reconnectionTimeout:4,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!1},r=this.getConfigurationCheck();for(var n in r.mandatory){if(!e.hasOwnProperty(n))throw new a.Exceptions.ConfigurationError(n);var i=e[n];if(void 0===(s=r.mandatory[n](i)))throw new a.Exceptions.ConfigurationError(n,i);t[n]=s}for(var n in r.optional)if(e.hasOwnProperty(n)){var s;if((i=e[n])instanceof Array&&0===i.length||null===i||""===i||void 0===i||"number"==typeof i&&isNaN(i))continue;if(void 0===(s=r.optional[n](i)))throw new a.Exceptions.ConfigurationError(n,i);t[n]=s}var o={};for(var n in t)t.hasOwnProperty(n)&&(o[n]={value:t[n]});var c=Object.defineProperties({},o);for(var n in this.logger.log("configuration parameters after validation:"),t)t.hasOwnProperty(n)&&this.logger.log(" "+n+": "+JSON.stringify(t[n]));return c},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{wsServers:function(e){if("string"==typeof e)e=[{wsUri:e}];else{if(!(e instanceof Array))return;for(var t=0;t<e.length;t++)"string"==typeof e[t]&&(e[t]={wsUri:e[t]})}if(0===e.length)return!1;for(var r=0,n=e;r<n.length;r++){var i=n[r];if(!i.wsUri)return;if(i.weight&&!Number(i.weight))return;var o=s.Grammar.parse(i.wsUri,"absoluteURI");if(-1===o)return;if(["wss","ws","udp"].indexOf(o.scheme)<0)return;i.sipUri="<sip:"+o.host+(o.port?":"+o.port:"")+";transport="+o.scheme.replace(/^wss$/i,"ws")+";lr>",i.weight||(i.weight=0),i.isError=!1,i.scheme=o.scheme.toUpperCase()}return e},keepAliveInterval:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},keepAliveDebounce:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},traceSip:function(e){if("boolean"==typeof e)return e},connectionTimeout:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},maxReconnectionAttempts:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},reconnectionTimeout:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}}}}},t.C=n,t}(c.Transport);t.Transport=d},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(11),i=r(13).document,s=n(i)&&n(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t,r){e.exports=r(15)},function(e,t,r){var n=r(172),i=r(103);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(25),i=r(13),s=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(98)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(15);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(107),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK"}(t.C||(t.C={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(37),i=r(42),s=r(65);function o(e){return!(!e||"string"!=typeof e.content||"string"!=typeof e.contentType||void 0!==e.contentDisposition)||"string"==typeof e.contentDisposition}function a(e){return"application/sdp"===e?"session":"render"}t.fromBodyLegacy=function(e){var t="string"==typeof e?e:e.body,r="string"==typeof e?"application/sdp":e.contentType;return{contentDisposition:a(r),contentType:r,content:t}},t.getBody=function(e){var t,r,c,u;if(e instanceof n.IncomingRequestMessage&&e.body&&(t=(u=e.parseHeader("Content-Disposition"))?u.type:void 0,r=e.parseHeader("Content-Type"),c=e.body),e instanceof i.IncomingResponseMessage&&e.body&&(t=(u=e.parseHeader("Content-Disposition"))?u.type:void 0,r=e.parseHeader("Content-Type"),c=e.body),e instanceof s.OutgoingRequestMessage&&e.body)if(t=e.getHeader("Content-Disposition"),r=e.getHeader("Content-Type"),"string"==typeof e.body){if(!r)throw new Error("Header content type header does not equal body content type.");c=e.body}else{if(r&&r!==e.body.contentType)throw new Error("Header content type header does not equal body content type.");r=e.body.contentType,c=e.body.body}if(o(e)&&(t=e.contentDisposition,r=e.contentType,c=e.content),c){if(r&&!t&&(t=a(r)),!t)throw new Error("Content disposition undefined.");if(!r)throw new Error("Content type undefined.");return{contentDisposition:t,contentType:r,content:c}}},t.isBody=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(39),s=r(41),o=function(e){function t(r,n,i,s){var o=e.call(this)||this;return o.message=r,o.expected=n,o.found=i,o.location=s,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return n.__extends(t,e),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,r,n=e.map(s);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+(((o=t)?'"'+n(o)+'"':"end of input")+" found.");var o},t}(Error);t.SyntaxError=o,t.parse=function(e,t){t=void 0!==t?t:{};var r,n={},a={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231},c=119,u=["\r\n",y("\r\n",!1),/^[0-9]/,T([["0","9"]],!1,!1),/^[a-zA-Z]/,T([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,T([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,T([["\0",""]],!1,!1),/^["]/,T(['"'],!1,!1)," ",y(" ",!1),"\t",y("\t",!1),/^[a-zA-Z0-9]/,T([["a","z"],["A","Z"],["0","9"]],!1,!1),";",y(";",!1),"/",y("/",!1),"?",y("?",!1),":",y(":",!1),"@",y("@",!1),"&",y("&",!1),"=",y("=",!1),"+",y("+",!1),"$",y("$",!1),",",y(",",!1),"-",y("-",!1),"_",y("_",!1),".",y(".",!1),"!",y("!",!1),"~",y("~",!1),"*",y("*",!1),"'",y("'",!1),"(",y("(",!1),")",y(")",!1),"%",y("%",!1),function(){return" "},function(){return":"},/^[!-~]/,T([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,T([["",""]],!1,!1),/^[\x80-\xBF]/,T([["",""]],!1,!1),/^[a-f]/,T([["a","f"]],!1,!1),"`",y("`",!1),"<",y("<",!1),">",y(">",!1),"\\",y("\\",!1),"[",y("[",!1),"]",y("]",!1),"{",y("{",!1),"}",y("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,T([["!","'"]],!1,!1),/^[*-[]/,T([["*","["]],!1,!1),/^[\]-~]/,T([["]","~"]],!1,!1),function(e){return e},/^[#-[]/,T([["#","["]],!1,!1),/^[\0-\t]/,T([["\0","\t"]],!1,!1),/^[\x0B-\f]/,T([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,T([["",""]],!1,!1),function(){(t=t||{data:{}}).data.uri=new s.URI(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){(t=t||{data:{}}).data.uri=new s.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",y("sips",!0),"sip",y("sip",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(){(t=t||{data:{}}).data.user=decodeURIComponent(m().slice(0,-1))},function(){(t=t||{data:{}}).data.password=m()},function(){return(t=t||{data:{}}).data.host=m(),t.data.host},function(){return(t=t||{data:{}}).data.host_type="domain",m()},/^[a-zA-Z0-9_\-]/,T([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,T([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},"::",y("::",!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},function(){return(t=t||{data:{}}).data.host_type="IPv4",m()},"25",y("25",!1),/^[0-5]/,T([["0","5"]],!1,!1),"2",y("2",!1),/^[0-4]/,T([["0","4"]],!1,!1),"1",y("1",!1),/^[1-9]/,T([["1","9"]],!1,!1),function(e){return t=t||{data:{}},e=parseInt(e.join("")),t.data.port=e,e},"transport=",y("transport=",!0),"udp",y("udp",!0),"tcp",y("tcp",!0),"sctp",y("sctp",!0),"tls",y("tls",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",y("user=",!0),"phone",y("phone",!0),"ip",y("ip",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",y("method=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",y("ttl=",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",y("maddr=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",y("lr",!0),function(){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,r){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),r=null===r?void 0:r[1],t.data.uri_params[e.toLowerCase()]=r},function(e,r){e=e.join("").toLowerCase(),r=r.join(""),(t=t||{data:{}}).data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(r):t.data.uri_headers[e]=[r]},function(){"Refer_To"===(t=t||{data:{}}).startRule&&(t.data.uri=new s.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",y("//",!1),function(){(t=t||{data:{}}).data.scheme=m()},y("SIP",!0),function(){(t=t||{data:{}}).data.sip_version=m()},"INVITE",y("INVITE",!1),"ACK",y("ACK",!1),"VXACH",y("VXACH",!1),"OPTIONS",y("OPTIONS",!1),"BYE",y("BYE",!1),"CANCEL",y("CANCEL",!1),"REGISTER",y("REGISTER",!1),"SUBSCRIBE",y("SUBSCRIBE",!1),"NOTIFY",y("NOTIFY",!1),"REFER",y("REFER",!1),"PUBLISH",y("PUBLISH",!1),function(){return(t=t||{data:{}}).data.method=m(),t.data.method},function(e){(t=t||{data:{}}).data.status_code=parseInt(e.join(""))},function(){(t=t||{data:{}}).data.reason_phrase=m()},function(){(t=t||{data:{}}).data=m()},function(){var e,r;for(r=(t=t||{data:{}}).data.multi_header.length,e=0;e<r;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:l,offset:S().start.offset,parsed:e})},function(e){'"'===(e=m().trim())[0]&&(e=e.substring(1,e.length-1)),(t=t||{data:{}}).data.displayName=e},"q",y("q",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.q=e},"expires",y("expires",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",y("0",!1),function(){return parseFloat(m())},function(e,r){(t=t||{data:{}}).data.params||(t.data.params={}),r=null===r?void 0:r[1],t.data.params[e.toLowerCase()]=r},"render",y("render",!0),"session",y("session",!0),"icon",y("icon",!0),"alert",y("alert",!0),function(){"Content_Disposition"===(t=t||{data:{}}).startRule&&(t.data.type=m().toLowerCase())},"handling",y("handling",!0),"optional",y("optional",!0),"required",y("required",!0),function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(){(t=t||{data:{}}).data=m()},"text",y("text",!0),"image",y("image",!0),"audio",y("audio",!0),"video",y("video",!0),"application",y("application",!0),"message",y("message",!0),"multipart",y("multipart",!0),"x-",y("x-",!0),function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(e){(t=t||{data:{}}).data.event=e.toLowerCase()},function(){var e=(t=t||{data:{}}).data.tag;t.data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",y("tag",!0),function(e){(t=t||{data:{}}).data.tag=e},function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(){(t=t||{data:{}}).data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},"digest",y("Digest",!0),"realm",y("realm",!0),function(e){(t=t||{data:{}}).data.realm=e},"domain",y("domain",!0),"nonce",y("nonce",!0),function(e){(t=t||{data:{}}).data.nonce=e},"opaque",y("opaque",!0),function(e){(t=t||{data:{}}).data.opaque=e},"stale",y("stale",!0),"true",y("true",!0),function(){(t=t||{data:{}}).data.stale=!0},"false",y("false",!0),function(){(t=t||{data:{}}).data.stale=!1},"algorithm",y("algorithm",!0),"md5",y("MD5",!0),"md5-sess",y("MD5-sess",!0),function(e){(t=t||{data:{}}).data.algorithm=e.toUpperCase()},"qop",y("qop",!0),"auth-int",y("auth-int",!0),"auth",y("auth",!0),function(e){(t=t||{data:{}}).data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(){var e,r;for(r=(t=t||{data:{}}).data.multi_header.length,e=0;e<r;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:l,offset:S().start.offset,parsed:e})},function(){(t=t||{data:{}}).data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},function(){(t=t||{data:{}}).data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){(t=t||{data:{}}).data={call_id:t.data}},"from-tag",y("from-tag",!0),function(e){(t=t||{data:{}}).data.replaces_from_tag=e},"to-tag",y("to-tag",!0),function(e){(t=t||{data:{}}).data.replaces_to_tag=e},"early-only",y("early-only",!0),function(){(t=t||{data:{}}).data.early_only=!0},function(e,t){return t},function(e,t){return function(e,t){return[e].concat(t)}(e,t)},function(e){"Require"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},"active",y("active",!0),"pending",y("pending",!0),"terminated",y("terminated",!0),function(){(t=t||{data:{}}).data.state=m()},"reason",y("reason",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.reason=e)},function(e){t=t||{data:{}},void 0!==e&&(t.data.expires=e)},"retry_after",y("retry_after",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.retry_after=e)},"deactivated",y("deactivated",!0),"probation",y("probation",!0),"rejected",y("rejected",!0),"timeout",y("timeout",!0),"giveup",y("giveup",!0),"noresource",y("noresource",!0),"invariant",y("invariant",!0),function(e){"Supported"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(){var e=(t=t||{data:{}}).data.tag;t.data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",y("ttl",!0),function(e){(t=t||{data:{}}).data.ttl=e},"maddr",y("maddr",!0),function(e){(t=t||{data:{}}).data.maddr=e},"received",y("received",!0),function(e){(t=t||{data:{}}).data.received=e},"branch",y("branch",!0),function(e){(t=t||{data:{}}).data.branch=e},"rport",y("rport",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.rport=e.join(""))},function(e){(t=t||{data:{}}).data.protocol=e},y("UDP",!0),y("TCP",!0),y("TLS",!0),y("SCTP",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data.host=m()},function(e){(t=t||{data:{}}).data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.deltaSeconds=e)},"refresher",y("refresher",!1),"uas",y("uas",!1),"uac",y("uac",!1),function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.refresher=e)},function(e){"Min_SE"===(t=t||{data:{}}).startRule&&(t.data=e)},"stuns",y("stuns",!0),"stun",y("stun",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(e){(t=t||{data:{}}).data.host=e},"?transport=",y("?transport=",!1),"turns",y("turns",!0),"turn",y("turn",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data=m()},"Referred-By",y("Referred-By",!1),"b",y("b",!1),"cid",y("cid",!1)],d=[R('2 ""6 7!'),R('4"""5!7#'),R('4$""5!7%'),R('4&""5!7\''),R(";'.# &;("),R('4(""5!7)'),R('4*""5!7+'),R('2,""6,7-'),R('2.""6.7/'),R('40""5!71'),R('22""6273. &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),R(";).# &;,"),R('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),R('%%2X""6X7Y/5#;#/,$;#/#$+#)(#\'#("\'#&\'#/"!&,)'),R('%%$;$0#*;$&/,#; /#$+")("\'#&\'#." &"/=#$;$/&#0#*;$&&&#/\'$8":Z" )("\'#&\'#'),R(';.." &"'),R("%$;'.# &;(0)*;'.# &;(&/?#28\"\"6879/0$;//'$8#:[# )(#'#(\"'#&'#"),R('%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("\'#&\'#0=*%$;.0#*;.&/,#;2/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),R('4\\""5!7].# &;3'),R('4^""5!7_'),R('4`""5!7a'),R(';!.) &4b""5!7c'),R('%$;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),R('%$;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),R('2T""6T7U. &2V""6V7W. &2f""6f7g. &2h""6h7i. &2:""6:7;. &2D""6D7E. &22""6273. &28""6879. &2j""6j7k. &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;\'.# &;('),R('%$;). &2F""6F7G. &2J""6J7K. &2L""6L7M. &2X""6X7Y. &2P""6P7Q. &2H""6H7I. &2@""6@7A. &2d""6d7e. &2R""6R7S. &2N""6N7O. &2T""6T7U. &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/#0*;). &2F""6F7G. &2J""6J7K. &2L""6L7M. &2X""6X7Y. &2P""6P7Q. &2H""6H7I. &2@""6@7A. &2d""6d7e. &2R""6R7S. &2N""6N7O. &2T""6T7U. &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),R("%;//?#2P\"\"6P7Q/0$;//'$8#:t# )(#'#(\"'#&'#"),R("%;//?#24\"\"6475/0$;//'$8#:u# )(#'#(\"'#&'#"),R("%;//?#2>\"\"6>7?/0$;//'$8#:v# )(#'#(\"'#&'#"),R("%;//?#2T\"\"6T7U/0$;//'$8#:w# )(#'#(\"'#&'#"),R("%;//?#2V\"\"6V7W/0$;//'$8#:x# )(#'#(\"'#&'#"),R('%2h""6h7i/0#;//\'$8":y" )("\'#&\'#'),R('%;//6#2f""6f7g/\'$8":z" )("\'#&\'#'),R("%;//?#2D\"\"6D7E/0$;//'$8#:{# )(#'#(\"'#&'#"),R("%;//?#22\"\"6273/0$;//'$8#:|# )(#'#(\"'#&'#"),R("%;//?#28\"\"6879/0$;//'$8#:}# )(#'#(\"'#&'#"),R("%;//0#;&/'$8\":~\" )(\"'#&'#"),R("%;&/0#;//'$8\":~\" )(\"'#&'#"),R("%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#(\"'#&'#"),R('4""5!7.A &4""5!7.5 &4""5!7.) &;3.# &;.'),R("%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#(\"'#&'#/\"!&,)"),R("%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/\"!&,)/1$;&/($8$:$!!)($'#(#'#(\"'#&'#"),R(';..G &2L""6L7M.; &4""5!7./ &4""5!7.# &;3'),R('%2j""6j7k/J#4""5!7.5 &4""5!7.) &4""5!7/#$+")("\'#&\'#'),R("%;N/M#28\"\"6879/>$;O.\" &\"/0$;S/'$8$:$ )($'#(#'#(\"'#&'#"),R("%;N/d#28\"\"6879/U$;O.\" &\"/G$;S/>$;_/5$;l.\" &\"/'$8&:& )(&'#(%'#($'#(#'#(\"'#&'#"),R('%3""5$7.) &3""5#7/\' 8!:!! )'),R('%;P/]#%28""6879/,#;R/#$+")("\'#&\'#." &"/6$2:""6:7;/\'$8#:# )(#\'#("\'#&\'#'),R("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),R('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),R('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:! )'),R('%;T/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R("%;U.) &;\\.# &;X/& 8!:! )"),R('%$%;V/2#2J""6J7K/#$+")("\'#&\'#0<*%;V/2#2J""6J7K/#$+")("\'#&\'#&/D#;W/;$2J""6J7K." &"/\'$8#:# )(#\'#("\'#&\'#'),R('$4""5!7/,#0)*4""5!7&&&#'),R('%4$""5!7%/?#$4""5!70)*4""5!7&/#$+")("\'#&\'#'),R('%2l""6l7m/?#;Y/6$2n""6n7o/\'$8#:# )(#\'#("\'#&\'#'),R('%%;Z/#28""6879/$;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/#;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/#;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/D#;Z/;$28""6879/,$;[/#$+$)($\'#(#\'#("\'#&\'#. &%2""67/,#;[/#$+")("\'#&\'#. &%2""67/,#;Z/#$+")("\'#&\'#. &%;Z/#2""67/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$2""67/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/k$2""67/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/z$%28""6879/,#;Z/#$+")("\'#&\'#." &"/S$2""67/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2""67/,$;[/#$+\')(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2""67/,$;Z/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Y$%28""6879/,#;Z/#$+")("\'#&\'#." &"/2$2""67/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:! )'),R('%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($\'#(#\'#("\'#&\'#'),R("%;Z/;#28\"\"6879/,$;Z/#$+#)(#'#(\"'#&'#.# &;\\"),R("%;]/o#2J\"\"6J7K/`$;]/W$2J\"\"6J7K/H$;]/?$2J\"\"6J7K/0$;]/'$8':' )(''#(&'#(%'#($'#(#'#(\"'#&'#"),R('%2""67/2#4""5!7/#$+")("\'#&\'#. &%2""67/;#4""5!7/,$;!/#$+#)(#\'#("\'#&\'#.j &%2""67/5#;!/,$;!/#$+#)(#\'#("\'#&\'#.B &%4""5!7/,#;!/#$+")("\'#&\'#.# &;!'),R('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:!! )'),R('$%22""6273/,#;`/#$+")("\'#&\'#0<*%22""6273/,#;`/#$+")("\'#&\'#&'),R(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),R('%3""5*7/a#3""5#7.G &3""5#7.; &3""5$7./ &3""5#7.# &;6/($8":"! )("\'#&\'#'),R('%3""5%7/I#3""5%7./ &3""5"7.# &;6/($8":"! )("\'#&\'#'),R('%3""5\'7/1#;/($8":"! )("\'#&\'#'),R('%3""5$7/1#;/($8":"! )("\'#&\'#'),R('%3""5&7/1#;T/($8":"! )("\'#&\'#'),R('%3""5"7/N#%2>""6>7?/,#;6/#$+")("\'#&\'#." &"/\'$8":" )("\'#&\'#'),R('%;h/P#%2>""6>7?/,#;i/#$+")("\'#&\'#." &"/)$8":""! )("\'#&\'#'),R('%$;j/&#0#*;j&&&#/"!&,)'),R('%$;j/&#0#*;j&&&#/"!&,)'),R(";k.) &;+.# &;-"),R('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),R('%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("\'#&\'#0<*%2<""6<7=/,#;m/#$+")("\'#&\'#&/#$+#)(#\'#("\'#&\'#'),R('%;n/A#2>""6>7?/2$;o/)$8#:#"" )(#\'#("\'#&\'#'),R("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),R("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),R('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),R(";.# &;r"),R("%;/G#;'/>$;s/5$;'/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R(";M.# &;t"),R("%;/E#28\"\"6879/6$;u.# &;x/'$8#:# )(#'#(\"'#&'#"),R('%;v.# &;w/J#%26""6677/,#;/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R('%2""67/:#;/1$;w." &"/#$+#)(#\'#("\'#&\'#'),R('%24""6475/,#;{/#$+")("\'#&\'#'),R("%;z/3#$;y0#*;y&/#$+\")(\"'#&'#"),R(";*.) &;+.# &;-"),R(';+. &;-. &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),R('%;|/e#$%24""6475/,#;|/#$+")("\'#&\'#0<*%24""6475/,#;|/#$+")("\'#&\'#&/#$+")("\'#&\'#'),R('%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("\'#&\'#0<*%22""6273/,#;}/#$+")("\'#&\'#&/#$+")("\'#&\'#'),R("$;~0#*;~&"),R(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),R('%%;"/#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("\'#&\'#/& 8!:! )'),R(";.# &;"),R('%%;O/2#2:""6:7;/#$+")("\'#&\'#." &"/,#;S/#$+")("\'#&\'#." &"'),R('$;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/#0*;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),R("$;y0#*;y&"),R('%3""5#7/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/\'$8%:% )(%\'#($\'#(#\'#("\'#&\'#'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R("%;.Y &;.S &;.M &;.G &;.A &;.; &;.5 &;./ &;.) &;.# &;6/& 8!:! )"),R("%;/G#;'/>$;/5$;'/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R("%;/' 8!:!! )"),R("%;!/5#;!/,$;!/#$+#)(#'#(\"'#&'#"),R("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:! )"),R("%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R('%;9/N#%2:""6:7;/,#;9/#$+")("\'#&\'#." &"/\'$8":" )("\'#&\'#'),R("%;:.c &%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#/& 8!:! )"),R("%;L.# &;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R("%;.\" &\"/>#;@/5$;M/,$;?/#$+$)($'#(#'#(\"'#&'#"),R("%%;6/Y#$%;./,#;6/#$+\")(\"'#&'#06*%;./,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#.# &;H/' 8!:!! )"),R(";.) &;.# &;"),R("%3\"\"5!7/:#;</1$;/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5'7/:#;</1$;/($8#:#! )(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R('%2""67/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/\'$8":" )("\'#&\'#'),R('%;6/J#%;</,#;/#$+")("\'#&\'#." &"/)$8":""! )("\'#&\'#'),R(";6.) &;T.# &;H"),R("%;/Y#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R('%3""5&7.G &3""5\'7.; &3""5$7./ &3""5%7.# &;6/& 8!:! )'),R(";.# &;"),R('%3""5(7/M#;</D$3""5(7./ &3""5(7.# &;6/#$+#)(#\'#("\'#&\'#'),R("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/& 8!:! )"),R("%;/k#;;/b$;/Y$$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),R(";.# &;"),R('3""5$7.S &3""5%7.G &3""5%7.; &3""5%7./ &3""5+7.# &;'),R('3""5\'7./ &3""5)7.# &;'),R(";6.# &;"),R('%3""5"7/,#;6/#$+")("\'#&\'#'),R(";.# &;6"),R("%;6/5#;</,$;/#$+#)(#'#(\"'#&'#"),R(";6.# &;H"),R("%;/5#;./,$;/#$+#)(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/' 8!:!! )"),R('%;/^#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/($8":"!!)("\'#&\'#'),R('%%;7/e#$%2J""6J7K/,#;7/#$+")("\'#&\'#0<*%2J""6J7K/,#;7/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),R("%;L.# &;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R(";.# &;"),R("%3\"\"5#7/:#;</1$;6/($8#:#! )(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/' 8!:!! )"),R("%$;0#*;&/x#;@/o$;M/f$;?/]$$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8%:% )(%'#($'#(#'#(\"'#&'#"),R(";"),R("%3\"\"5&7/k#;./b$;/Y$$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#.# &;"),R("%;6/k#;./b$;/Y$$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),R("%;6/;#;</2$;6.# &;H/#$+#)(#'#(\"'#&'#"),R(";.G &;.A &;.; &;.5 &;./ &;.) &;.# &;"),R("%3\"\"5%7/5#;</,$;/#$+#)(#'#(\"'#&'#"),R("%;I/' 8!:!! )"),R("%3\"\"5&7/#;</$;D/$;/|$$%$;'/&#0#*;'&&&#/,#;/#$+\")(\"'#&'#0C*%$;'/&#0#*;'&&&#/,#;/#$+\")(\"'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),R(";t.# &;w"),R("%3\"\"5%7/5#;</,$;/#$+#)(#'#(\"'#&'#"),R("%;I/' 8!:!! )"),R("%3\"\"5&7/:#;</1$;I/($8#:#! )(#'#(\"'#&'#"),R('%3""5%7/]#;</T$%3""5$7/& 8!:! ).4 &%3""5%7/& 8!:! )/#$+#)(#\'#("\'#&\'#'),R('%3""5)7/R#;</I$3""5#7./ &3""5(7.# &;6/($8#:#! )(#\'#("\'#&\'#'),R('%3""5#7/#;</$;D/$%;/e#$%2D""6D7E/,#;/#$+")("\'#&\'#0<*%2D""6D7E/,#;/#$+")("\'#&\'#&/#$+")("\'#&\'#/,$;E/#$+%)(%\'#($\'#(#\'#("\'#&\'#'),R('%3""5(7./ &3""5$7.# &;6/\' 8!:!! )'),R("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%;/G#;./>$;/5$;./,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/]#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R("%;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R('%;L.O &;.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#\'#("\'#&\'#/]#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/\'$8":" )("\'#&\'#'),R("%;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R("%;/& 8!:! )"),R('%3""5(7/:#;</1$;6/($8#:#! )(#\'#("\'#&\'#.g &%3""5&7/:#;</1$;6/($8#:#! )(#\'#("\'#&\'#.: &%3""5*7/& 8!:! ).# &;'),R('%%;6/k#$%;A/2#;6/)$8":""$ )("\'#&\'#0<*%;A/2#;6/)$8":""$ )("\'#&\'#&/)$8":""! )("\'#&\'#." &"/\' 8!:!! )'),R("%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%;/Y#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/Y#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R('%3""5&7.; &3""5\'7./ &3""5*7.# &;6/& 8!:! )'),R("%3\"\"5&7/:#;</1$;/($8#:#! )(#'#(\"'#&'#.} &%3\"\"5'7/:#;</1$;/($8#:#! )(#'#(\"'#&'#.P &%3\"\"5+7/:#;</1$;/($8#:#! )(#'#(\"'#&'#.# &;"),R('3""5+7.k &3""5)7._ &3""5(7.S &3""5\'7.G &3""5&7.; &3""5*7./ &3""5)7.# &;6'),R(';1." &"'),R('%%;6/k#$%;A/2#;6/)$8":""$ )("\'#&\'#0<*%;A/2#;6/)$8":""$ )("\'#&\'#&/)$8":""! )("\'#&\'#." &"/\' 8!:!! )'),R("%;L.# &;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R(";.# &;"),R("%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%;/k#;./b$;/Y$$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),R(";.; &;.5 &;./ &;.) &;.# &;"),R("%3\"\"5#7/:#;</1$;/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5%7/:#;</1$;T/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5(7/F#;</=$;\\.) &;Y.# &;X/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5&7/:#;</1$;6/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5%7/A#;</8$$;!0#*;!&/($8#:#! )(#'#(\"'#&'#"),R("%;/G#;;/>$;6/5$;;/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R('%3""5#7.# &;6/\' 8!:!! )'),R('%3""5#7.G &3""5#7.; &3""5#7./ &3""5$7.# &;6/\' 8!:!! )'),R('%;/D#%;C/,#;/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R("%;U.) &;\\.# &;X/& 8!:! )"),R('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:!! )'),R('%%;!/?#;!." &"/1$;!." &"/#$+#)(#\'#("\'#&\'#/\' 8!:!! )'),R(";"),R('%;/^#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/($8":"!!)("\'#&\'#'),R(";.# &;"),R('%2""67/L#;</C$2""67.) &2""67/($8#:#! )(#\'#("\'#&\'#'),R('%;/^#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/($8":"!!)("\'#&\'#'),R("%;6/5#;0/,$;/#$+#)(#'#(\"'#&'#"),R("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),R("$;%0#*;%&"),R("%;/;#28\"\"6879/,$;/#$+#)(#'#(\"'#&'#"),R('%3""5%7.) &3""5$7/\' 8!:!! )'),R('%;/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R("%;\\.) &;X.# &;/' 8!:!! )"),R(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),R('2L""6L7M. &2B""6B7C. &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),R('%;/b#28""6879/S$;/J$%2""67/,#;/#$+")("\'#&\'#." &"/#$+$)($\'#(#\'#("\'#&\'#'),R('%3""5%7.) &3""5$7/\' 8!:!! )'),R('%3""5#7.6 &3""5#7.* &$;+0#*;+&/\' 8!:!! )'),R("%;/#2F\"\"6F7G/x$;/o$2F\"\"6F7G/`$;/W$2F\"\"6F7G/H$;/?$2F\"\"6F7G/0$;/'$8):) )()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),R("%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#(\"'#&'#"),R("%;/,#;/#$+\")(\"'#&'#"),R("%;/5#;/,$;/#$+#)(#'#(\"'#&'#"),R("%;q/T#$;m0#*;m&/D$%; /,#;/#$+\")(\"'#&'#.\" &\"/#$+#)(#'#(\"'#&'#"),R('%2""67.) &2""67/w#;0/n$;/e$$%;B/2#;.# &;/#$+")("\'#&\'#0<*%;B/2#;.# &;/#$+")("\'#&\'#&/#$+$)($\'#(#\'#("\'#&\'#'),R(";.# &;L"),R("%2\"\"67/5#;</,$;/#$+#)(#'#(\"'#&'#"),R("%;D/S#;,/J$2:\"\"6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#(\"'#&'#")],l=0,p=0,h=[{line:1,column:1}],f=0,g=[],v=0;if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=a[t.startRule]}function m(){return e.substring(p,l)}function S(){return E(p,l)}function y(e,t){return{type:"literal",text:e,ignoreCase:t}}function T(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function b(t){var r,n=h[t];if(n)return n;for(r=t-1;!h[r];)r--;for(n={line:(n=h[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return h[t]=n,n}function E(e,t){var r=b(e),n=b(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function _(e){l<f||(l>f&&(f=l,g=[]),g.push(e))}function C(e,t,r){return new o(o.buildMessage(e,t),e,t,r)}function R(e){return e.split("").map((function(e){return e.charCodeAt(0)-32}))}if(t.data={},(r=function t(r){for(var i,s=d[r],o=0,a=[],c=s.length,h=[],f=[];;){for(;o<c;)switch(s[o]){case 0:f.push(u[s[o+1]]),o+=2;break;case 1:f.push(void 0),o++;break;case 2:f.push(null),o++;break;case 3:f.push(n),o++;break;case 4:f.push([]),o++;break;case 5:f.push(l),o++;break;case 6:f.pop(),o++;break;case 7:l=f.pop(),o++;break;case 8:f.length-=s[o+1],o+=2;break;case 9:f.splice(-2,1),o++;break;case 10:f[f.length-2].push(f.pop()),o++;break;case 11:f.push(f.splice(f.length-s[o+1],s[o+1])),o+=2;break;case 12:f.push(e.substring(f.pop(),l)),o++;break;case 13:h.push(c),a.push(o+3+s[o+1]+s[o+2]),f[f.length-1]?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 14:h.push(c),a.push(o+3+s[o+1]+s[o+2]),f[f.length-1]===n?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 15:h.push(c),a.push(o+3+s[o+1]+s[o+2]),f[f.length-1]!==n?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 16:f[f.length-1]!==n?(h.push(c),a.push(o),c=o+2+s[o+1],o+=2):o+=2+s[o+1];break;case 17:h.push(c),a.push(o+3+s[o+1]+s[o+2]),e.length>l?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 18:h.push(c),a.push(o+4+s[o+2]+s[o+3]),e.substr(l,u[s[o+1]].length)===u[s[o+1]]?(c=o+4+s[o+2],o+=4):(c=o+4+s[o+2]+s[o+3],o+=4+s[o+2]);break;case 19:h.push(c),a.push(o+4+s[o+2]+s[o+3]),e.substr(l,u[s[o+1]].length).toLowerCase()===u[s[o+1]]?(c=o+4+s[o+2],o+=4):(c=o+4+s[o+2]+s[o+3],o+=4+s[o+2]);break;case 20:h.push(c),a.push(o+4+s[o+2]+s[o+3]),u[s[o+1]].test(e.charAt(l))?(c=o+4+s[o+2],o+=4):(c=o+4+s[o+2]+s[o+3],o+=4+s[o+2]);break;case 21:f.push(e.substr(l,s[o+1])),l+=s[o+1],o+=2;break;case 22:f.push(u[s[o+1]]),l+=u[s[o+1]].length,o+=2;break;case 23:f.push(n),0===v&&_(u[s[o+1]]),o+=2;break;case 24:p=f[f.length-1-s[o+1]],o+=2;break;case 25:p=l,o++;break;case 26:i=s.slice(o+4,o+4+s[o+3]).map((function(e){return f[f.length-1-e]})),f.splice(f.length-s[o+2],s[o+2],u[s[o+1]].apply(null,i)),o+=4+s[o+3];break;case 27:f.push(t(s[o+1])),o+=2;break;case 28:v++,o++;break;case 29:v--,o++;break;default:throw new Error("Invalid opcode: "+s[o]+".")}if(!(h.length>0))break;c=h.pop(),o=a.pop()}return f[0]}(c))!==n&&l===e.length)return r;throw r!==n&&l<e.length&&_({type:"end"}),C(g,f<e.length?e.charAt(f):null,f<e.length?E(f,f+1):E(f,f))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importDefault(r(111)),i=r(17),s=function(){function e(e,t,r){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=t,this.password=r,this.nc=0,this.ncHex="00000000"}return e.prototype.authenticate=function(e,t,r){if(this.algorithm=t.algorithm,this.realm=t.realm,this.nonce=t.nonce,this.opaque=t.opaque,this.stale=t.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(t.qop)if(t.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(t.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=i.createRandomToken(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(r),!0},e.prototype.toString=function(){var e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")},e.prototype.updateNcHex=function(){var e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e},e.prototype.calculateResponse=function(e){var t,r=n.default(this.username+":"+this.realm+":"+this.password);"auth"===this.qop?(t=n.default(this.method+":"+this.uri),this.response=n.default(r+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+t)):"auth-int"===this.qop?(t=n.default(this.method+":"+this.uri+":"+n.default(e||"")),this.response=n.default(r+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+t)):void 0===this.qop&&(t=n.default(this.method+":"+this.uri),this.response=n.default(r+":"+this.nonce+":"+t))},e}();t.DigestAuthentication=s},function(e,t,r){var n;e.exports=(n=r(112),function(e){var t=n,r=t.lib,i=r.WordArray,s=r.Hasher,o=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,o=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],g=e[t+4],v=e[t+5],m=e[t+6],S=e[t+7],y=e[t+8],T=e[t+9],b=e[t+10],E=e[t+11],_=e[t+12],C=e[t+13],R=e[t+14],w=e[t+15],A=s[0],I=s[1],O=s[2],x=s[3];A=u(A,I,O,x,o,7,a[0]),x=u(x,A,I,O,c,12,a[1]),O=u(O,x,A,I,h,17,a[2]),I=u(I,O,x,A,f,22,a[3]),A=u(A,I,O,x,g,7,a[4]),x=u(x,A,I,O,v,12,a[5]),O=u(O,x,A,I,m,17,a[6]),I=u(I,O,x,A,S,22,a[7]),A=u(A,I,O,x,y,7,a[8]),x=u(x,A,I,O,T,12,a[9]),O=u(O,x,A,I,b,17,a[10]),I=u(I,O,x,A,E,22,a[11]),A=u(A,I,O,x,_,7,a[12]),x=u(x,A,I,O,C,12,a[13]),O=u(O,x,A,I,R,17,a[14]),A=d(A,I=u(I,O,x,A,w,22,a[15]),O,x,c,5,a[16]),x=d(x,A,I,O,m,9,a[17]),O=d(O,x,A,I,E,14,a[18]),I=d(I,O,x,A,o,20,a[19]),A=d(A,I,O,x,v,5,a[20]),x=d(x,A,I,O,b,9,a[21]),O=d(O,x,A,I,w,14,a[22]),I=d(I,O,x,A,g,20,a[23]),A=d(A,I,O,x,T,5,a[24]),x=d(x,A,I,O,R,9,a[25]),O=d(O,x,A,I,f,14,a[26]),I=d(I,O,x,A,y,20,a[27]),A=d(A,I,O,x,C,5,a[28]),x=d(x,A,I,O,h,9,a[29]),O=d(O,x,A,I,S,14,a[30]),A=l(A,I=d(I,O,x,A,_,20,a[31]),O,x,v,4,a[32]),x=l(x,A,I,O,y,11,a[33]),O=l(O,x,A,I,E,16,a[34]),I=l(I,O,x,A,R,23,a[35]),A=l(A,I,O,x,c,4,a[36]),x=l(x,A,I,O,g,11,a[37]),O=l(O,x,A,I,S,16,a[38]),I=l(I,O,x,A,b,23,a[39]),A=l(A,I,O,x,C,4,a[40]),x=l(x,A,I,O,o,11,a[41]),O=l(O,x,A,I,f,16,a[42]),I=l(I,O,x,A,m,23,a[43]),A=l(A,I,O,x,T,4,a[44]),x=l(x,A,I,O,_,11,a[45]),O=l(O,x,A,I,w,16,a[46]),A=p(A,I=l(I,O,x,A,h,23,a[47]),O,x,o,6,a[48]),x=p(x,A,I,O,S,10,a[49]),O=p(O,x,A,I,R,15,a[50]),I=p(I,O,x,A,v,21,a[51]),A=p(A,I,O,x,_,6,a[52]),x=p(x,A,I,O,f,10,a[53]),O=p(O,x,A,I,b,15,a[54]),I=p(I,O,x,A,c,21,a[55]),A=p(A,I,O,x,y,6,a[56]),x=p(x,A,I,O,w,10,a[57]),O=p(O,x,A,I,m,15,a[58]),I=p(I,O,x,A,C,21,a[59]),A=p(A,I,O,x,g,6,a[60]),x=p(x,A,I,O,E,10,a[61]),O=p(O,x,A,I,h,15,a[62]),I=p(I,O,x,A,T,21,a[63]),s[0]=s[0]+A|0,s[1]=s[1]+I|0,s[2]=s[2]+O|0,s[3]=s[3]+x|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var s=e.floor(n/4294967296),o=n;r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return a},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,s,o){var a=e+(t&r|~t&n)+i+o;return(a<<s|a>>>32-s)+t}function d(e,t,r,n,i,s,o){var a=e+(t&n|r&~n)+i+o;return(a<<s|a>>>32-s)+t}function l(e,t,r,n,i,s,o){var a=e+(t^r^n)+i+o;return(a<<s|a>>>32-s)+t}function p(e,t,r,n,i,s,o){var a=e+(r^(t|~n))+i+o;return(a<<s|a>>>32-s)+t}t.MD5=s._createHelper(c),t.HmacMD5=s._createHmacHelper(c)}(Math),n.MD5)},function(e,t,r){var n;e.exports=(n=n||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},s=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},s=0;s<t;s+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new o.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},d=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,i);if(c){for(var d=0;d<c;d+=s)this._doProcessBlock(n,d);var l=n.splice(0,c);r.sigBytes-=u}return new o.init(l,u)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=l.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math),n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17);t.constructOutgoingResponse=function(e,t){if(t.statusCode<100||t.statusCode>699)throw new TypeError("Invalid statusCode: "+t.statusCode);var r=t.reasonPhrase?t.reasonPhrase:n.getReasonPhrase(t.statusCode),i="SIP/2.0 "+t.statusCode+" "+r+"\r\n";t.statusCode>=100&&t.statusCode,t.statusCode;var s="From: "+e.getHeader("From")+"\r\n",o="Call-ID: "+e.callId+"\r\n",a="CSeq: "+e.cseq+" "+e.method+"\r\n",c=e.getHeaders("via").reduce((function(e,t){return e+"Via: "+t+"\r\n"}),""),u="To: "+e.getHeader("to");if(t.statusCode>100&&!e.parseHeader("to").hasParam("tag")){var d=t.toTag;d||(d=n.newTag()),u+=";tag="+d}u+="\r\n";var l="";t.supported&&(l="Supported: "+t.supported.join(", ")+"\r\n");var p="";t.userAgent&&(p="User-Agent: "+t.userAgent+"\r\n");var h="";return t.extraHeaders&&(h=t.extraHeaders.reduce((function(e,t){return e+t.trim()+"\r\n"}),"")),i+=c,i+=s,i+=u,i+=a,i+=o,i+=l,i+=p,i+=h,t.body?(i+="Content-Type: "+t.body.contentType+"\r\n",i+="Content-Length: "+n.str_utf8_length(t.body.content)+"\r\n\r\n",i+=t.body.content):i+="Content-Length: 0\r\n\r\n",{message:i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),i=r(37),s=r(42);!function(e){function t(e,t){var r=t,n=0,i=0;if(e.substring(r,r+2).match(/(^\r\n)/))return-2;for(;0===n;){if(-1===(i=e.indexOf("\r\n",r)))return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?r=i+2:n=i}return n}function r(e,t,r,i){var o,a=t.indexOf(":",r),c=t.substring(r,a).trim(),u=t.substring(a+1,i).trim();switch(c.toLowerCase()){case"via":case"v":e.addHeader("via",u),1===e.getHeaders("via").length?(o=e.parseHeader("Via"))&&(e.via=o,e.viaBranch=o.branch):o=0;break;case"from":case"f":e.setHeader("from",u),(o=e.parseHeader("from"))&&(e.from=o,e.fromTag=o.getParam("tag"));break;case"to":case"t":e.setHeader("to",u),(o=e.parseHeader("to"))&&(e.to=o,e.toTag=o.getParam("tag"));break;case"record-route":if(-1===(o=n.Grammar.parse(u,"Record_Route"))){o=void 0;break}if(!(o instanceof Array)){o=void 0;break}o.forEach((function(t){e.addHeader("record-route",u.substring(t.position,t.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=t.parsed}));break;case"call-id":case"i":e.setHeader("call-id",u),(o=e.parseHeader("call-id"))&&(e.callId=u);break;case"contact":case"m":if(-1===(o=n.Grammar.parse(u,"Contact"))){o=void 0;break}if(!(o instanceof Array)){o=void 0;break}o.forEach((function(t){e.addHeader("contact",u.substring(t.position,t.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=t.parsed}));break;case"content-length":case"l":e.setHeader("content-length",u),o=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",u),o=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",u),(o=e.parseHeader("cseq"))&&(e.cseq=o.value),e instanceof s.IncomingResponseMessage&&(e.method=o.method);break;case"max-forwards":e.setHeader("max-forwards",u),o=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",u),o=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",u),o=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",u),(o=e.parseHeader("refer-to"))&&(e.referTo=o);break;default:e.addHeader(c.toLowerCase(),u),o=0}return void 0!==o||{error:"error parsing header '"+c+"'"}}e.getHeader=t,e.parseHeader=r,e.parseMessage=function(e,o){var a=0,c=e.indexOf("\r\n");if(-1!==c){var u,d=e.substring(0,c),l=n.Grammar.parse(d,"Request_Response");if(-1!==l){var p;for(l.status_code?((u=new s.IncomingResponseMessage).statusCode=l.status_code,u.reasonPhrase=l.reason_phrase):((u=new i.IncomingRequestMessage).method=l.method,u.ruri=l.uri),u.data=e,a=c+2;;){if(-2===(c=t(e,a))){p=a+2;break}if(-1===c)return void o.error("malformed message");if(!0!==r(u,e,a,c))return void o.error(l.error);a=c+2}return u.hasHeader("content-length")?u.body=e.substr(p,Number(u.getHeader("content-length"))):u.body=e.substring(p),u}o.warn('error parsing first line of SIP message: "'+d+'"')}else o.warn("no CRLF found, not a SIP message, discarded")}}(t.Parser||(t.Parser={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(29),o=r(12),a=r(1),c=r(67),u=r(68),d=r(69),l=r(70),p=r(71),h=r(72),f=r(73),g=r(47),v=r(74),m=r(75),S=r(76),y=r(77),T=r(78),b=r(79),E=function(e){function t(t,r,n,i){var o=e.call(this,r,n)||this;return o.initialTransaction=t,o._signalingState=s.SignalingState.Initial,o.ackWait=!1,o.delegate=i,t instanceof a.InviteServerTransaction&&(o.ackWait=!0),o.early||o.start2xxRetransmissionTimer(),o.signalingStateTransition(t.request),o.logger=r.loggerFactory.getLogger("sip.invite-dialog"),o.logger.log("INVITE dialog "+o.id+" constructed"),o}return n.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._signalingState=s.SignalingState.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log("INVITE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"sessionState",{get:function(){return this.early?s.SessionState.Early:this.ackWait?s.SessionState.AckWait:this._signalingState===s.SignalingState.Closed?s.SessionState.Terminated:s.SessionState.Confirmed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._signalingState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offer",{get:function(){return this._offer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"answer",{get:function(){return this._answer},enumerable:!0,configurable:!0}),t.prototype.confirm=function(){this.early&&this.start2xxRetransmissionTimer(),e.prototype.confirm.call(this)},t.prototype.reConfirm=function(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()},t.prototype.ack=function(e){var t;if(void 0===e&&(e={}),this.logger.log("INVITE dialog "+this.id+" sending ACK request"),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof a.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");t=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof a.InviteClientTransaction))throw new Error("Initial transaction not instance of InviteClientTransaction.");t=this.initialTransaction}e.cseq=t.request.cseq;var r=this.createOutgoingRequestMessage(i.C.ACK,e);return t.ackResponse(r),this.signalingStateTransition(r),{message:r}},t.prototype.bye=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending BYE request"),this.initialTransaction instanceof a.InviteServerTransaction){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==a.TransactionState.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new c.ByeUserAgentClient(this,e,t)},t.prototype.info=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INFO request"),this.early)throw new Error("Dialog not confirmed.");return new d.InfoUserAgentClient(this,e,t)},t.prototype.invite=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INVITE request"),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new S.ReInviteUserAgentClient(this,e,t)},t.prototype.message=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending MESSAGE request"),this.early)throw new Error("Dialog not confirmed.");var r=this.createOutgoingRequestMessage(i.C.MESSAGE,t);return new p.MessageUserAgentClient(this.core,r,e)},t.prototype.notify=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending NOTIFY request"),this.early)throw new Error("Dialog not confirmed.");return new f.NotifyUserAgentClient(this,e,t)},t.prototype.prack=function(e,t){return this.logger.log("INVITE dialog "+this.id+" sending PRACK request"),new v.PrackUserAgentClient(this,e,t)},t.prototype.refer=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending REFER request"),this.early)throw new Error("Dialog not confirmed.");return new T.ReferUserAgentClient(this,e,t)},t.prototype.receiveRequest=function(t){if(this.logger.log("INVITE dialog "+this.id+" received "+t.method+" request"),t.method===i.C.ACK){if(this.ackWait){if(this.initialTransaction instanceof a.InviteClientTransaction)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.initialTransaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.reinviteUserAgentServer.transaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.reinviteUserAgentServer=void 0}return this.signalingStateTransition(t),void(this.delegate&&this.delegate.onAck&&this.delegate.onAck({message:t}))}if(this.sequenceGuard(t)){if(t.method===i.C.INVITE){if(this.reinviteUserAgentServer){var r=["Retry-After: "+(Math.floor(10*Math.random())+1)];return void this.core.replyStateless(t,{statusCode:500,extraHeaders:r})}if(this.reinviteUserAgentClient)return void this.core.replyStateless(t,{statusCode:491})}if(e.prototype.receiveRequest.call(this,t),t.method===i.C.INVITE){var n=t.parseHeader("contact");if(!n)throw new Error("Contact undefined.");if(!(n instanceof i.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=n.uri}switch(t.method){case i.C.BYE:var s=new u.ByeUserAgentServer(this,t);this.delegate&&this.delegate.onBye?this.delegate.onBye(s):s.accept(),this.dispose();break;case i.C.INFO:s=new l.InfoUserAgentServer(this,t);this.delegate&&this.delegate.onInfo?this.delegate.onInfo(s):s.reject({statusCode:469,extraHeaders:["Recv-Info :"]});break;case i.C.INVITE:s=new y.ReInviteUserAgentServer(this,t);this.signalingStateTransition(t),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(s):s.reject({statusCode:488});break;case i.C.MESSAGE:s=new h.MessageUserAgentServer(this.core,t);this.delegate&&this.delegate.onMessage?this.delegate.onMessage(s):s.accept();break;case i.C.NOTIFY:s=new g.NotifyUserAgentServer(this,t);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(s):s.accept();break;case i.C.PRACK:s=new m.PrackUserAgentServer(this,t);this.delegate&&this.delegate.onPrack?this.delegate.onPrack(s):s.accept();break;case i.C.REFER:s=new b.ReferUserAgentServer(this,t);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(s):s.reject();break;default:this.logger.log("INVITE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501})}}else this.logger.log("INVITE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.reliableSequenceGuard=function(e){var t=e.statusCode;if(!t)throw new Error("Status code undefined");if(t>100&&t<200){var r=e.getHeader("require"),n=e.getHeader("rseq"),i=r&&r.includes("100rel")&&n?Number(n):void 0;if(i){if(this.rseq&&this.rseq+1!==i)return!1;this.rseq||(this.rseq=i)}}return!0},t.prototype.signalingStateRollback=function(){this._signalingState!==s.SignalingState.HaveLocalOffer&&this.signalingState!==s.SignalingState.HaveRemoteOffer||this._rollbackOffer&&this._rollbackAnswer&&(this._signalingState=s.SignalingState.Stable,this._offer=this._rollbackOffer,this._answer=this._rollbackAnswer)},t.prototype.signalingStateTransition=function(e){var t=i.getBody(e);if(t&&"session"===t.contentDisposition){if(this._signalingState===s.SignalingState.Stable&&(this._rollbackOffer=this._offer,this._rollbackAnswer=this._answer),e instanceof i.IncomingRequestMessage)switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.HaveRemoteOffer:case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof i.IncomingResponseMessage)switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.HaveRemoteOffer:case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof i.OutgoingRequestMessage)switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:break;case s.SignalingState.HaveRemoteOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(i.isBody(e))switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:break;case s.SignalingState.HaveRemoteOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}}},t.prototype.start2xxRetransmissionTimer=function(){var e=this;if(this.initialTransaction instanceof a.InviteServerTransaction){var t=this.initialTransaction,r=o.Timers.T1,n=function(){e.ackWait?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),r=Math.min(2*r,o.Timers.T2),e.invite2xxTimer=setTimeout(n,r)):e.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,r);var i=function(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",i),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.ackWait&&(e.delegate&&e.delegate.onAckTimeout?e.delegate.onAckTimeout():e.bye()))};t.addListener("stateChanged",i)}},t.prototype.startReInvite2xxRetransmissionTimer=function(){var e=this;if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof a.InviteServerTransaction){var t=this.reinviteUserAgentServer.transaction,r=o.Timers.T1,n=function(){e.reinviteUserAgentServer?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),r=Math.min(2*r,o.Timers.T2),e.invite2xxTimer=setTimeout(n,r)):e.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,r);var i=function(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",i),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.reinviteUserAgentServer)};t.addListener("stateChanged",i)}},t}(r(36).Dialog);t.SessionDialog=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.Early="Early",e.AckWait="AckWait",e.Confirmed="Confirmed",e.Terminated="Terminated"}(t.SessionState||(t.SessionState={})),function(e){e.Initial="Initial",e.HaveLocalOffer="HaveLocalOffer",e.HaveRemoteOffer="HaveRemoteOffer",e.Stable="Stable",e.Closed="Closed"}(t.SignalingState||(t.SignalingState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Transaction state error.")||this}return n.__extends(t,e),t}(r(45).Exception);t.TransactionStateError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Unspecified transport error.")||this}return n.__extends(t,e),t}(r(45).Exception);t.TransportError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(12),o=r(46),a=r(22),c=function(e){function t(t,r,n){return e.call(this,t,r,n,a.TransactionState.Proceeding,"sip.transaction.ist")||this}return n.__extends(t,e),t.prototype.dispose=function(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case a.TransactionState.Proceeding:if(e.method===i.C.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")})));break;case a.TransactionState.Accepted:if(e.method===i.C.INVITE)return;break;case a.TransactionState.Completed:if(e.method===i.C.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}))}if(e.method===i.C.ACK)return void this.stateTransition(a.TransactionState.Confirmed);break;case a.TransactionState.Confirmed:case a.TransactionState.Terminated:if(e.method===i.C.INVITE||e.method===i.C.ACK)return;break;default:throw new Error("Invalid state "+this.state)}var r="INVITE server transaction received unexpected "+e.method+" request while in state "+this.state+".";this.logger.warn(r)},t.prototype.receiveResponse=function(e,t){var r=this;if(e<100||e>699)throw new Error("Invalid status code "+e);switch(this.state){case a.TransactionState.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=t,e>100&&this.startProgressExtensionTimer(),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send 1xx response.")}));if(e>=200&&e<=299)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Accepted),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send 2xx response.")}));if(e>=300&&e<=699)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Completed),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send non-2xx final response.")}));break;case a.TransactionState.Accepted:if(e>=200&&e<=299)return void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send 2xx response.")}));break;case a.TransactionState.Completed:case a.TransactionState.Confirmed:case a.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var n="INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(n),new Error(n)},t.prototype.retransmitAcceptedResponse=function(){var e=this;this.state===a.TransactionState.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch((function(t){e.logTransportError(t,"Failed to send 2xx response.")}))},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e)},t.prototype.typeToString=function(){return"INVITE server transaction"},t.prototype.stateTransition=function(e){var t=this,r=function(){throw new Error("Invalid state transition from "+t.state+" to "+e)};switch(e){case a.TransactionState.Proceeding:r();break;case a.TransactionState.Accepted:case a.TransactionState.Completed:this.state!==a.TransactionState.Proceeding&&r();break;case a.TransactionState.Confirmed:this.state!==a.TransactionState.Completed&&r();break;case a.TransactionState.Terminated:this.state!==a.TransactionState.Accepted&&this.state!==a.TransactionState.Completed&&this.state!==a.TransactionState.Confirmed&&r();break;default:r()}this.stopProgressExtensionTimer(),e===a.TransactionState.Accepted&&(this.L=setTimeout((function(){return t.timer_L()}),s.Timers.TIMER_L)),e===a.TransactionState.Completed&&(this.H=setTimeout((function(){return t.timer_H()}),s.Timers.TIMER_H)),e===a.TransactionState.Confirmed&&(this.I=setTimeout((function(){return t.timer_I()}),s.Timers.TIMER_I)),e===a.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.startProgressExtensionTimer=function(){var e=this;void 0===this.progressExtensionTimer&&(this.progressExtensionTimer=setInterval((function(){if(e.logger.debug("Progress extension timer expired for INVITE server transaction "+e.id+"."),!e.lastProvisionalResponse)throw new Error("Last provisional response undefined.");e.send(e.lastProvisionalResponse).catch((function(t){e.logTransportError(t,"Failed to send retransmission of provisional response.")}))}),s.Timers.PROVISIONAL_RESPONSE_INTERVAL))},t.prototype.stopProgressExtensionTimer=function(){void 0!==this.progressExtensionTimer&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)},t.prototype.timer_G=function(){},t.prototype.timer_H=function(){this.logger.debug("Timer H expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(a.TransactionState.Terminated))},t.prototype.timer_I=function(){this.logger.debug("Timer I expired for INVITE server transaction "+this.id+"."),this.stateTransition(a.TransactionState.Terminated)},t.prototype.timer_L=function(){this.logger.debug("Timer L expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Accepted&&this.stateTransition(a.TransactionState.Terminated)},t}(o.ServerTransaction);t.InviteServerTransaction=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),s=r(43),o=r(22),a=function(e){function t(t,r,n){var s=e.call(this,t,r,n,o.TransactionState.Trying,"sip.transaction.nict")||this;return s.F=setTimeout((function(){return s.timer_F()}),i.Timers.TIMER_F),s.send(t.toString()).catch((function(e){s.logTransportError(e,"Failed to send initial outgoing request.")})),s}return n.__extends(t,e),t.prototype.dispose=function(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nict"},enumerable:!0,configurable:!0}),t.prototype.receiveResponse=function(e){var t=e.statusCode;if(!t||t<100||t>699)throw new Error("Invalid status code "+t);switch(this.state){case o.TransactionState.Trying:if(t>=100&&t<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(t>=100&&t<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));case o.TransactionState.Completed:case o.TransactionState.Terminated:return;default:throw new Error("Invalid state "+this.state)}var r="Non-INVITE client transaction received unexpected "+t+" response while in state "+this.state+".";this.logger.warn(r)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE client transaction"},t.prototype.stateTransition=function(e,t){var r=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+r.state+" to "+e)};switch(e){case o.TransactionState.Trying:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&n();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}e===o.TransactionState.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout((function(){return r.timer_K()}),i.Timers.TIMER_K)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_F=function(){this.logger.debug("Timer F expired for non-INVITE client transaction "+this.id+"."),this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding||(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))},t.prototype.timer_K=function(){this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t}(s.ClientTransaction);t.NonInviteClientTransaction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),s=r(46),o=r(22),a=function(e){function t(t,r,n){return e.call(this,t,r,n,o.TransactionState.Trying,"sip.transaction.nist")||this}return n.__extends(t,e),t.prototype.dispose=function(){this.J&&(clearTimeout(this.J),this.J=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case o.TransactionState.Trying:break;case o.TransactionState.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")}));break;case o.TransactionState.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}));break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}},t.prototype.receiveResponse=function(e,t){var r=this;if(e<100||e>699)throw new Error("Invalid status code "+e);if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case o.TransactionState.Trying:if(this.lastResponse=t,e>=100&&e<200)return this.stateTransition(o.TransactionState.Proceeding),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send provisional response.")}));if(e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send final response.")}));break;case o.TransactionState.Proceeding:if(this.lastResponse=t,e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send final response.")}));break;case o.TransactionState.Completed:return;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var n="Non-INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(n),new Error(n)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE server transaction"},t.prototype.stateTransition=function(e,t){var r=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+r.state+" to "+e)};switch(e){case o.TransactionState.Trying:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&n();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}e===o.TransactionState.Completed&&(this.J=setTimeout((function(){return r.timer_J()}),i.Timers.TIMER_J)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_J=function(){this.logger.debug("Timer J expired for NON-INVITE server transaction "+this.id+"."),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t}(s.ServerTransaction);t.NonInviteServerTransaction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.NotifyWait="NotifyWait",e.Pending="Pending",e.Active="Active",e.Terminated="Terminated"}(t.SubscriptionState||(t.SubscriptionState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(49),t),n.__exportStar(r(124),t),n.__exportStar(r(82),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(49),i=r(82),s=function(){function e(){this.builtinEnabled=!0,this._level=n.Levels.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:n.Levels.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connector",{get:function(){return this._connector},set:function(e){e?"function"==typeof e?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0},enumerable:!0,configurable:!0}),e.prototype.getLogger=function(e,t){if(t&&3===this.level)return new i.Logger(this,e,t);if(this.loggers[e])return this.loggers[e];var r=new i.Logger(this,e);return this.loggers[e]=r,r},e.prototype.genericLog=function(e,t,r,i){this.level>=e&&this.builtinEnabled&&this.print(e,t,r,i),this.connector&&this.connector(n.Levels[e],t,r,i)},e.prototype.print=function(e,t,r,i){if("string"==typeof i){var s=[new Date,t];r&&s.push(r),i=s.concat(i).join(" | ")}switch(e){case n.Levels.error:console.error(i);break;case n.Levels.warn:console.warn(i);break;case n.Levels.log:console.log(i);break;case n.Levels.debug:console.debug(i)}},e}();t.LoggerFactory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(126),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=r(83),a=r(23),c=["application/sdp","application/dtmf-relay"],u=function(){function e(e,t){void 0===t&&(t={}),this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=e,this.delegate=t,this.dialogs=new Map,this.subscribers=new Map,this.logger=e.loggerFactory.getLogger("sip.user-agent-core")}return e.prototype.dispose=function(){this.reset()},e.prototype.reset=function(){this.dialogs.forEach((function(e){return e.dispose()})),this.dialogs.clear(),this.subscribers.forEach((function(e){return e.dispose()})),this.subscribers.clear(),this.userAgentClients.forEach((function(e){return e.dispose()})),this.userAgentClients.clear(),this.userAgentServers.forEach((function(e){return e.dispose()})),this.userAgentServers.clear()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.configuration.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transport",{get:function(){var e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e},enumerable:!0,configurable:!0}),e.prototype.invite=function(e,t){return new o.InviteUserAgentClient(this,e,t)},e.prototype.message=function(e,t){return new o.MessageUserAgentClient(this,e,t)},e.prototype.publish=function(e,t){return new o.PublishUserAgentClient(this,e,t)},e.prototype.register=function(e,t){return new o.RegisterUserAgentClient(this,e,t)},e.prototype.subscribe=function(e,t){return new o.SubscribeUserAgentClient(this,e,t)},e.prototype.request=function(e,t){return new o.UserAgentClient(s.NonInviteClientTransaction,this,e,t)},e.prototype.makeOutgoingRequestMessage=function(e,t,r,s,o,a,c){var u=this.configuration.sipjsId,d=this.configuration.displayName,l=this.configuration.viaForceRport,p=this.configuration.hackViaTcp,h=this.configuration.supportedOptionTags.slice();e===i.C.REGISTER&&h.push("path","gruu"),e===i.C.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&h.push("gruu");var f={callIdPrefix:u,forceRport:l,fromDisplayName:d,hackViaTcp:p,optionTags:h,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},g=n.__assign(n.__assign({},f),o);return new i.OutgoingRequestMessage(e,t,r,s,g,a,c)},e.prototype.receiveIncomingRequestFromTransport=function(e){this.receiveRequestFromTransport(e)},e.prototype.receiveIncomingResponseFromTransport=function(e){this.receiveResponseFromTransport(e)},e.prototype.replyStateless=function(e,t){var r=this,s=this.configuration.userAgentHeaderFieldValue,o=this.configuration.supportedOptionTagsResponse;t=n.__assign(n.__assign({},t),{userAgent:s,supported:o});var a=i.constructOutgoingResponse(e,t);return this.transport.send(a.message).catch((function(t){t instanceof Error&&r.logger.error(t.message),r.logger.error("Transport error occurred sending stateless reply to "+e.method+" request.")})),a},e.prototype.receiveRequestFromTransport=function(e){var t=e.viaBranch,r=this.userAgentServers.get(t);e.method===i.C.ACK&&r&&r.transaction.state===s.TransactionState.Accepted&&r instanceof o.InviteUserAgentServer?this.logger.warn("Discarding out of dialog ACK after 2xx response sent on transaction "+t+"."):e.method!==i.C.CANCEL?r?r.transaction.receiveRequest(e):this.receiveRequest(e):r?(this.replyStateless(e,{statusCode:200}),r.transaction instanceof s.InviteServerTransaction&&r.transaction.state===s.TransactionState.Proceeding&&r instanceof o.InviteUserAgentServer&&r.receiveCancel(e)):this.replyStateless(e,{statusCode:481})},e.prototype.receiveRequest=function(e){if(-1!==a.AllowedMethods.indexOf(e.method)){if(!e.ruri)throw new Error("Request-URI undefined.");if("sip"===e.ruri.scheme){var t=e.ruri,r=function(e){return!!e&&e.user===t.user};if(!r(this.configuration.aor)&&!(r(this.configuration.contact.uri)||r(this.configuration.contact.pubGruu)||r(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==i.C.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==i.C.INVITE||e.hasHeader("Contact")){if(!e.toTag){var n=e.viaBranch;if(!this.userAgentServers.has(n))if(Array.from(this.userAgentServers.values()).some((function(t){return t.transaction.request.fromTag===e.fromTag&&t.transaction.request.callId===e.callId&&t.transaction.request.cseq===e.cseq})))return void this.replyStateless(e,{statusCode:482})}e.toTag?this.receiveInsideDialogRequest(e):this.receiveOutsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}else this.replyStateless(e,{statusCode:416})}else{var s="Allow: "+a.AllowedMethods.toString();this.replyStateless(e,{statusCode:405,extraHeaders:[s]})}},e.prototype.receiveInsideDialogRequest=function(e){if(e.method===i.C.NOTIFY){var t=e.parseHeader("Event");if(!t||!t.event)return void this.replyStateless(e,{statusCode:489});var r=e.callId+e.toTag+t.event,n=this.subscribers.get(r);if(n){var s=new o.NotifyUserAgentServer(this,e);return void n.onNotify(s)}}var u=e.callId+e.toTag+e.fromTag,d=this.dialogs.get(u);if(d){if(e.method===i.C.OPTIONS){var l="Allow: "+a.AllowedMethods.toString(),p="Accept: "+c.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[l,p]})}d.receiveRequest(e)}else e.method!==i.C.ACK&&this.replyStateless(e,{statusCode:481})},e.prototype.receiveOutsideDialogRequest=function(e){switch(e.method){case i.C.ACK:break;case i.C.BYE:this.replyStateless(e,{statusCode:481});break;case i.C.CANCEL:throw new Error("Unexpected out of dialog request method "+e.method+".");case i.C.INFO:this.replyStateless(e,{statusCode:405});break;case i.C.INVITE:var t=new o.InviteUserAgentServer(this,e);this.delegate.onInvite?this.delegate.onInvite(t):t.reject();break;case i.C.MESSAGE:t=new o.MessageUserAgentServer(this,e);this.delegate.onMessage?this.delegate.onMessage(t):t.accept();break;case i.C.NOTIFY:t=new o.NotifyUserAgentServer(this,e);this.delegate.onNotify?this.delegate.onNotify(t):t.reject({statusCode:405});break;case i.C.OPTIONS:var r="Allow: "+a.AllowedMethods.toString(),n="Accept: "+c.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[r,n]});break;case i.C.REFER:t=new o.ReferUserAgentServer(this,e);this.delegate.onRefer?this.delegate.onRefer(t):t.reject({statusCode:405});break;case i.C.REGISTER:t=new o.RegisterUserAgentServer(this,e);this.delegate.onRegister?this.delegate.onRegister(t):t.reject({statusCode:405});break;case i.C.SUBSCRIBE:t=new o.SubscribeUserAgentServer(this,e);this.delegate.onSubscribe?this.delegate.onSubscribe(t):t.reject({statusCode:480});break;default:throw new Error("Unexpected out of dialog request method "+e.method+".")}},e.prototype.receiveResponseFromTransport=function(e){if(e.getHeaders("via").length>1)this.logger.warn("More than one Via header field present in the response, dropping");else{var t=e.viaBranch+e.method,r=this.userAgentClients.get(t);r?r.transaction.receiveResponse(e):this.logger.warn("Discarding unmatched "+e.statusCode+" response to "+e.method+" "+t+".")}},e}();t.UserAgentCore=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.CancelUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(35),s=r(29),o=r(1),a=function(e){function t(t,r,n){var i=e.call(this,o.InviteClientTransaction,t,r,n)||this;return i.confirmedDialogAcks=new Map,i.confirmedDialogs=new Map,i.earlyDialogs=new Map,i.delegate=n,i}return n.__extends(t,e),t.prototype.dispose=function(){this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),e.prototype.dispose.call(this)},t.prototype.onTransportError=function(t){if(this.transaction.state===o.TransactionState.Calling)return e.prototype.onTransportError.call(this,t);this.logger.error(t.message),this.logger.error("User agent client request transport error while sending ACK.")},t.prototype.receiveResponse=function(e){var t=this;if(this.authenticationGuard(e)){var r=e.statusCode?e.statusCode.toString():"";if(!r)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(r):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(r):if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");var n=i.Dialog.initialDialogStateForUserAgentClient(this.message,e),a=this.earlyDialogs.get(n.id);if(!a){if(!((d=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");a=new i.SessionDialog(d,this.core,n),this.earlyDialogs.set(a.id,a)}if(!a.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order, dropping.");a.signalingState!==s.SignalingState.Initial&&a.signalingState!==s.SignalingState.HaveLocalOffer||a.signalingStateTransition(e);var c=a;return void(this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:c,prack:function(e){return c.prack(void 0,e)}}));case/^2[0-9]{2}$/.test(r):n=i.Dialog.initialDialogStateForUserAgentClient(this.message,e);var u=this.confirmedDialogs.get(n.id);if(u){if(p=this.confirmedDialogAcks.get(n.id)){if(!((d=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Client transaction not instance of InviteClientTransaction.");d.ackResponse(p.message)}return}if(u=this.earlyDialogs.get(n.id))u.confirm(),u.recomputeRouteSet(e),this.earlyDialogs.delete(u.id),this.confirmedDialogs.set(u.id,u);else{var d;if(!((d=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");u=new i.SessionDialog(d,this.core,n),this.confirmedDialogs.set(u.id,u)}u.signalingState!==s.SignalingState.Initial&&u.signalingState!==s.SignalingState.HaveLocalOffer||u.signalingStateTransition(e);var l=u;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:l,ack:function(e){var r=l.ack(e);return t.confirmedDialogAcks.set(l.id,r),r}});else{var p=l.ack();this.confirmedDialogAcks.set(l.id,p)}return;case/^3[0-9]{2}$/.test(r):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(r):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error("Invalid status code "+r)}throw new Error("Executing what should be an unreachable code path receiving "+r+" response.")}},t}(r(4).UserAgentClient);t.InviteUserAgentClient=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(35),s=r(30),o=r(29),a=r(1),c=r(23),u=function(e){function t(t,r,n){var i=e.call(this,a.InviteServerTransaction,t,r,n)||this;return i.core=t,i}return n.__extends(t,e),t.prototype.dispose=function(){this.earlyDialog&&this.earlyDialog.dispose(),e.prototype.dispose.call(this)},t.prototype.accept=function(t){if(void 0===t&&(t={statusCode:200}),!this.acceptable)throw new s.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{var r=this.transaction;if(!(r instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var u=i.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new i.SessionDialog(r,this.core,u)}var d=this.message.getHeaders("record-route").map((function(e){return"Record-Route: "+e})),l="Contact: "+this.core.configuration.contact.toString(),p="Allow: "+c.AllowedMethods.toString();if(!t.body)if(this.confirmedDialog.signalingState===o.SignalingState.Stable)t.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===o.SignalingState.Initial||this.confirmedDialog.signalingState===o.SignalingState.HaveRemoteOffer)throw new Error("Response must have a body.");t.statusCode=t.statusCode||200,t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(d),t.extraHeaders.push(p),t.extraHeaders.push(l);var h=e.prototype.accept.call(this,t),f=this.confirmedDialog,g=n.__assign(n.__assign({},h),{session:f});return t.body&&this.confirmedDialog.signalingState!==o.SignalingState.Stable&&this.confirmedDialog.signalingStateTransition(t.body),g},t.prototype.progress=function(t){if(void 0===t&&(t={statusCode:180}),!this.progressable)throw new s.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");if(!this.earlyDialog){var r=this.transaction;if(!(r instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var c=i.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new i.SessionDialog(r,this.core,c)}var u=this.message.getHeaders("record-route").map((function(e){return"Record-Route: "+e})),d="Contact: "+this.core.configuration.contact;t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(u),t.extraHeaders.push(d);var l=e.prototype.progress.call(this,t),p=this.earlyDialog,h=n.__assign(n.__assign({},l),{session:p});return t.body&&this.earlyDialog.signalingState!==o.SignalingState.Stable&&this.earlyDialog.signalingStateTransition(t.body),h},t.prototype.redirect=function(t,r){return void 0===r&&(r={statusCode:302}),e.prototype.redirect.call(this,t,r)},t.prototype.reject=function(t){return void 0===t&&(t={statusCode:486}),e.prototype.reject.call(this,t)},t}(r(6).UserAgentServer);t.InviteUserAgentServer=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.PublishUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.ReSubscribeUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.RegisterUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.NonInviteServerTransaction,t,r,n)||this;return s.core=t,s}return n.__extends(t,e),t}(r(6).UserAgentServer);t.RegisterUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(80),s=r(48),o=r(12),a=r(1),c=function(e){function t(t,r,n){var i=this,o=r.getHeader("Event");if(!o)throw new Error("Event undefined");var c=r.getHeader("Expires");if(!c)throw new Error("Expires undefined");return(i=e.call(this,a.NonInviteClientTransaction,t,r,n)||this).delegate=n,i.subscriberId=r.callId+r.fromTag+o,i.subscriptionExpiresRequested=i.subscriptionExpires=Number(c),i.subscriptionEvent=o,i.subscriptionState=s.SubscriptionState.NotifyWait,i.waitNotifyStart(),i}return n.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onNotify=function(e){var t=e.message.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});var r=e.message.parseHeader("Subscription-State");if(!r||!r.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});var n=r.state;switch(n){case"pending":case"active":case"terminated":break;default:return this.logger.warn("Invalid subscription state "+n),void e.reject({statusCode:489})}if("terminated"!==n&&!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489});if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=r.expires?Math.min(this.subscriptionExpires,Math.max(r.expires,0)):this.subscriptionExpires,n){case"pending":this.subscriptionState=s.SubscriptionState.Pending;break;case"active":this.subscriptionState=s.SubscriptionState.Active;break;case"terminated":this.subscriptionState=s.SubscriptionState.Terminated;break;default:throw new Error("Unrecognized state "+n+".")}if(this.subscriptionState!==s.SubscriptionState.Terminated){var o=i.SubscriptionDialog.initialDialogStateForSubscription(this.message,e.message);this.dialog=new i.SubscriptionDialog(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,o)}if(this.delegate&&this.delegate.onNotify){var a=e,c=this.dialog;this.delegate.onNotify({request:a,subscription:c})}else e.accept()},t.prototype.waitNotifyStart=function(){var e=this;this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout((function(){return e.timer_N()}),o.Timers.TIMER_N))},t.prototype.waitNotifyStop=function(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)},t.prototype.receiveResponse=function(t){if(this.authenticationGuard(t)){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var r=t.getHeader("Expires");if(r){var n=Number(r);n>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),n<this.subscriptionExpires&&(this.subscriptionExpires=n)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}t.statusCode&&t.statusCode>=300&&t.statusCode<700&&this.waitNotifyStop(),e.prototype.receiveResponse.call(this,t)}},t.prototype.timer_N=function(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()},t}(r(4).UserAgentClient);t.SubscribeUserAgentClient=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.NonInviteServerTransaction,t,r,n)||this;return s.core=t,s}return n.__extends(t,e),t}(r(6).UserAgentServer);t.SubscribeUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIBRARY_VERSION="0.15.11"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(5),a=r(10),c=r(9),u=r(87),d=function(e){function t(t,r,n){void 0===n&&(n={});var i=e.call(this)||this;if(i.C={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500},i.type=o.TypeStrings.DTMF,void 0===r)throw new TypeError("Not enough arguments");i.logger=t.ua.getLogger("sip.invitecontext.dtmf",t.id),i.owner=t;i.tone=u.DTMFValidator.validate(r,!1);var s=n.duration,a=n.interToneGap;if(s&&!c.Utils.isDecimal(s))throw new TypeError("Invalid tone duration: "+s);if(s?s<i.C.MIN_DURATION?(i.logger.warn("'duration' value is lower than the minimum allowed, setting it to "+i.C.MIN_DURATION+" milliseconds"),s=i.C.MIN_DURATION):s>i.C.MAX_DURATION?(i.logger.warn("'duration' value is greater than the maximum allowed, setting it to "+i.C.MAX_DURATION+" milliseconds"),s=i.C.MAX_DURATION):s=Math.abs(s):s=i.C.DEFAULT_DURATION,i.duration=s,a&&!c.Utils.isDecimal(a))throw new TypeError("Invalid interToneGap: "+a);return a?a<i.C.MIN_INTER_TONE_GAP?(i.logger.warn("'interToneGap' value is lower than the minimum allowed, setting it to "+i.C.MIN_INTER_TONE_GAP+" milliseconds"),a=i.C.MIN_INTER_TONE_GAP):a=Math.abs(a):a=i.C.DEFAULT_INTER_TONE_GAP,i.interToneGap=a,i}return n.__extends(t,e),t.prototype.send=function(e){if(void 0===e&&(e={}),this.owner.status!==o.SessionStatus.STATUS_CONFIRMED&&this.owner.status!==o.SessionStatus.STATUS_WAITING_FOR_ACK)throw new a.Exceptions.InvalidStateError(this.owner.status);var t=e.extraHeaders?e.extraHeaders.slice():[],r={contentType:"application/dtmf-relay",body:"Signal= "+this.tone+"\r\nDuration= "+this.duration};if(this.owner.session){var n=this.owner.session.info(void 0,{extraHeaders:t,body:c.Utils.fromBodyObj(r)});this.owner.emit("dtmf",n.message,this)}else;},t.prototype.init_incoming=function(e){e.accept(),this.tone&&this.duration?this.owner.emit("dtmf",e.message,this):this.logger.warn("invalid INFO DTMF received, discarded")},t.prototype.receiveResponse=function(e){var t=e&&e.statusCode?e.statusCode:0;switch(!0){case/^1[0-9]{2}$/.test(t.toString()):break;case/^2[0-9]{2}$/.test(t.toString()):this.emit("succeeded",{originator:"remote",response:e});break;default:var r=c.Utils.sipErrorCause(t);this.emit("failed",e,r)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,s.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},t.prototype.onTransportError=function(){this.emit("failed",void 0,s.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},t.prototype.onDialogError=function(e){this.emit("failed",e,s.C.causes.DIALOG_ERROR),this.owner.onDialogError(e)},t}(i.EventEmitter);t.DTMF=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingByeRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingByeRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingByeRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingByeRequest.reject(e),Promise.resolve()},e}();t.Bye=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeEmitter=function(e,t){return void 0===t&&(t="event"),{addListener:function(r,n){void 0===n&&(n={}),n.once?e.once(t,r):e.addListener(t,r)},removeListener:function(r){e.removeListener(t,r)},on:function(r){e.on(t,r)},off:function(r){e.removeListener(t,r)},once:function(r){e.once(t,r)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(141),t),n.__exportStar(r(142),t),n.__exportStar(r(143),t),n.__exportStar(r(144),t),n.__exportStar(r(145),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Unsupported content type.")||this}return n.__extends(t,e),t}(r(2).Exception);t.ContentTypeUnsupportedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Request pending.")||this}return n.__extends(t,e),t}(r(2).Exception);t.RequestPendingError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Unspecified session description handler error.")||this}return n.__extends(t,e),t}(r(2).Exception);t.SessionDescriptionHandlerError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(){return e.call(this,"The session has terminated.")||this}return n.__extends(t,e),t}(r(2).Exception);t.SessionTerminatedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"An error occurred during state transition.")||this}return n.__extends(t,e),t}(r(2).Exception);t.StateTransitionError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingInfoRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingInfoRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingInfoRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingInfoRequest.reject(e),Promise.resolve()},e}();t.Info=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingMessageRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingMessageRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingMessageRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingMessageRequest.reject(e),Promise.resolve()},e}();t.Message=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingNotifyRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingNotifyRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingNotifyRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingNotifyRequest.reject(e),Promise.resolve()},e}();t.Notification=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(){function e(e,t){this.incomingReferRequest=e,this.session=t}return Object.defineProperty(e.prototype,"referTo",{get:function(){var e=this.incomingReferRequest.message.parseHeader("refer-to");if(!(e instanceof n.NameAddrHeader))throw new Error("Failed to parse Refer-To header.");return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"referredBy",{get:function(){return this.incomingReferRequest.message.getHeader("referred-by")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replaces",{get:function(){return this.referTo.uri.getHeader("replaces")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingReferRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return void 0===e&&(e={statusCode:202}),this.incomingReferRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingReferRequest.reject(e),Promise.resolve()},e.prototype.makeInviter=function(e){if(this.inviter)return this.inviter;var t=this.referTo.uri.clone();t.clearHeaders();var r=((e=e||{}).extraHeaders||[]).slice(),n=this.replaces;n&&r.push("Replaces: "+decodeURIComponent(n));var i=this.referredBy;return i&&r.push("Referred-By: "+i),e.extraHeaders=r,this.inviter=this.session.userAgent._makeInviter(t,e),this.inviter._referred=this.session,this.session._referral=this.inviter,this.inviter},e}();t.Referral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.Establishing="Establishing",e.Established="Established",e.Terminating="Terminating",e.Terminated="Terminated"}(t.SessionState||(t.SessionState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(92),i=r(5),s=function(){function e(e,t){this.type=i.TypeStrings.SessionDescriptionHandlerObserver,this.session=e,this.options=t}return e.prototype.trackAdded=function(){this.session instanceof n.Session||this.session.emit("trackAdded")},e.prototype.directionChanged=function(){this.session instanceof n.Session||this.session.emit("directionChanged")},e}();t.SessionDescriptionHandlerObserver=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importStar(r(51));t.Modifiers=n;var i=r(153);t.Simple=i.Simple;var s=r(91);t.SessionDescriptionHandler=s.SessionDescriptionHandler;var o=r(93);t.Transport=o.Transport},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),s=r(7),o=r(90),a=i.__importStar(r(51));!function(e){e[e.STATUS_NULL=0]="STATUS_NULL",e[e.STATUS_NEW=1]="STATUS_NEW",e[e.STATUS_CONNECTING=2]="STATUS_CONNECTING",e[e.STATUS_CONNECTED=3]="STATUS_CONNECTED",e[e.STATUS_COMPLETED=4]="STATUS_COMPLETED"}(n=t.SimpleStatus||(t.SimpleStatus={}));var c=function(e){function t(t){var r=e.call(this)||this;if(t.media.remote.video?r.video=!0:r.video=!1,t.media.remote.audio?r.audio=!0:r.audio=!1,!r.audio&&!r.video)throw new Error("At least one remote audio or video element is required for Simple.");r.options=t;var i=navigator.userAgent.toLowerCase(),s=!1,c=!1;i.indexOf("safari")>-1&&i.indexOf("chrome")<0?s=!0:i.indexOf("firefox")>-1&&i.indexOf("chrome")<0&&(c=!0);var u={};return s&&(u.modifiers=[a.stripG722]),c&&(u.alwaysAcquireMediaFirst=!0),r.options.ua.uri?r.anonymous=!1:r.anonymous=!0,r.ua=new o.UA({uri:r.options.ua.uri,authorizationUser:r.options.ua.authorizationUser,password:r.options.ua.password,displayName:r.options.ua.displayName,userAgentString:r.options.ua.userAgentString,register:!0,sessionDescriptionHandlerFactoryOptions:u,transportOptions:{traceSip:r.options.ua.traceSip,wsServers:r.options.ua.wsServers}}),r.state=n.STATUS_NULL,r.logger=r.ua.getLogger("sip.simple"),r.ua.on("registered",(function(){r.emit("registered",r.ua)})),r.ua.on("unregistered",(function(){r.emit("unregistered",r.ua)})),r.ua.on("registrationFailed",(function(){r.emit("unregistered",r.ua)})),r.ua.on("invite",(function(e){if(r.state!==n.STATUS_NULL&&r.state!==n.STATUS_COMPLETED)return r.logger.warn("Rejecting incoming call. Simple only supports 1 call at a time"),void e.reject();r.session=e,r.setupSession(),r.emit("ringing",r.session)})),r.ua.on("message",(function(e){r.emit("message",e)})),r}return i.__extends(t,e),t.prototype.call=function(e){if(this.ua&&this.checkRegistration()){if(this.state===n.STATUS_NULL||this.state===n.STATUS_COMPLETED)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.autoplay=!0,this.options.media.local.video.volume=0),this.session=this.ua.invite(e,{sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}}),this.setupSession(),this.session;this.logger.warn("Cannot make more than a single call with Simple")}else this.logger.warn("A registered UA is required for calling")},t.prototype.answer=function(){if(this.state===n.STATUS_NEW||this.state===n.STATUS_CONNECTING)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.session.accept({sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}});this.logger.warn("No call to answer")},t.prototype.reject=function(){if(this.state===n.STATUS_NEW||this.state===n.STATUS_CONNECTING)return this.session.reject();this.logger.warn("Call is already answered")},t.prototype.hangup=function(){if(this.state===n.STATUS_CONNECTED||this.state===n.STATUS_CONNECTING||this.state===n.STATUS_NEW)return this.state!==n.STATUS_CONNECTED?this.session.cancel():this.session?this.session.bye():void 0;this.logger.warn("No active call to hang up on")},t.prototype.hold=function(){if(this.state===n.STATUS_CONNECTED&&this.session&&!this.session.localHold)return this.mute(),this.logger.log("Placing session on hold"),this.session.hold();this.logger.warn("Cannot put call on hold")},t.prototype.unhold=function(){if(this.state===n.STATUS_CONNECTED&&this.session&&this.session.localHold)return this.unmute(),this.logger.log("Placing call off hold"),this.session.unhold();this.logger.warn("Cannot unhold a call that is not on hold")},t.prototype.mute=function(){this.state===n.STATUS_CONNECTED?(this.logger.log("Muting Audio"),this.toggleMute(!0),this.emit("mute",this)):this.logger.warn("An acitve call is required to mute audio")},t.prototype.unmute=function(){this.state===n.STATUS_CONNECTED?(this.logger.log("Unmuting Audio"),this.toggleMute(!1),this.emit("unmute",this)):this.logger.warn("An active call is required to unmute audio")},t.prototype.sendDTMF=function(e){this.state===n.STATUS_CONNECTED&&this.session?(this.logger.log("Sending DTMF tone: "+e),this.session.dtmf(e)):this.logger.warn("An active call is required to send a DTMF tone")},t.prototype.message=function(e,t){this.ua&&this.checkRegistration()?e&&t?this.ua.message(e,t):this.logger.warn("A destination and message are required to send a message"):this.logger.warn("A registered UA is required to send a message")},t.prototype.checkRegistration=function(){return this.anonymous||this.ua&&this.ua.isRegistered()},t.prototype.setupRemoteMedia=function(){var e=this;if(this.session){var t,r=this.session.sessionDescriptionHandler.peerConnection;r.getReceivers?(t=new MediaStream,r.getReceivers().forEach((function(e){var r=e.track;r&&t.addTrack(r)}))):t=r.getRemoteStreams()[0],this.video?(this.options.media.remote.video.srcObject=t,this.options.media.remote.video.play().catch((function(){e.logger.log("play was rejected")}))):this.audio&&(this.options.media.remote.audio.srcObject=t,this.options.media.remote.audio.play().catch((function(){e.logger.log("play was rejected")})))}else this.logger.warn("No session to set remote media on")},t.prototype.setupLocalMedia=function(){if(this.session){if(this.video&&this.options.media.local&&this.options.media.local.video){var e,t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?(e=new MediaStream,t.getSenders().forEach((function(t){var r=t.track;r&&"video"===r.kind&&e.addTrack(r)}))):e=t.getLocalStreams()[0],this.options.media.local.video.srcObject=e,this.options.media.local.video.volume=0,this.options.media.local.video.play()}}else this.logger.warn("No session to set local media on")},t.prototype.cleanupMedia=function(){this.video&&(this.options.media.remote.video.srcObject=null,this.options.media.remote.video.pause(),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.srcObject=null,this.options.media.local.video.pause())),this.audio&&(this.options.media.remote.audio.srcObject=null,this.options.media.remote.audio.pause())},t.prototype.setupSession=function(){var e=this;this.session?(this.state=n.STATUS_NEW,this.emit("new",this.session),this.session.on("progress",(function(){return e.onProgress()})),this.session.on("accepted",(function(){return e.onAccepted()})),this.session.on("rejected",(function(){return e.onEnded()})),this.session.on("failed",(function(){return e.onFailed()})),this.session.on("terminated",(function(){return e.onEnded()}))):this.logger.warn("No session to set up")},t.prototype.destroyMedia=function(){this.session&&this.session.sessionDescriptionHandler&&this.session.sessionDescriptionHandler.close()},t.prototype.toggleMute=function(e){if(this.session){var t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?t.getSenders().forEach((function(t){t.track&&(t.track.enabled=!e)})):t.getLocalStreams().forEach((function(t){t.getAudioTracks().forEach((function(t){t.enabled=!e})),t.getVideoTracks().forEach((function(t){t.enabled=!e}))}))}else this.logger.warn("No session to toggle mute")},t.prototype.onAccepted=function(){var e=this;this.session?(this.state=n.STATUS_CONNECTED,this.emit("connected",this.session),this.setupLocalMedia(),this.setupRemoteMedia(),this.session.sessionDescriptionHandler&&(this.session.sessionDescriptionHandler.on("addTrack",(function(){e.logger.log("A track has been added, triggering new remoteMedia setup"),e.setupRemoteMedia()})),this.session.sessionDescriptionHandler.on("addStream",(function(){e.logger.log("A stream has been added, trigger new remoteMedia setup"),e.setupRemoteMedia()}))),this.session.on("dtmf",(function(t,r){e.emit("dtmf",r.tone)})),this.session.on("bye",(function(){return e.onEnded()}))):this.logger.warn("No session for accepting")},t.prototype.onProgress=function(){this.state=n.STATUS_CONNECTING,this.emit("connecting",this.session)},t.prototype.onFailed=function(){this.onEnded()},t.prototype.onEnded=function(){this.state=n.STATUS_COMPLETED,this.emit("ended",this.session),this.cleanupMedia()},t.C=n,t}(s.EventEmitter);t.Simple=c},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(156),s=(n=i)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={default:r(157),__esModule:!0}},function(e,t,r){r(158);var n=r(25).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(24);n(n.S+n.F*!r(16),"Object",{defineProperty:r(19).f})},function(e,t,r){e.exports=!r(16)&&!r(26)((function(){return 7!=Object.defineProperty(r(95)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(11);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){e.exports={default:r(162),__esModule:!0}},function(e,t,r){r(163),r(164),r(177),r(190),r(192),e.exports=r(25).WeakMap},function(e,t){},function(e,t,r){r(165);for(var n=r(13),i=r(15),s=r(27),o=r(14)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],d=n[u],l=d&&d.prototype;l&&!l[o]&&i(l,o,u),s[u]=s.Array}},function(e,t,r){"use strict";var n=r(166),i=r(167),s=r(27),o=r(52);e.exports=r(168)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(98),i=r(24),s=r(99),o=r(15),a=r(27),c=r(169),u=r(58),d=r(176),l=r(14)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,f,g,v,m){c(r,t,f);var S,y,T,b=function(e){if(!p&&e in R)return R[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},E=t+" Iterator",_="values"==g,C=!1,R=e.prototype,w=R[l]||R["@@iterator"]||g&&R[g],A=w||b(g),I=g?_?b("entries"):A:void 0,O="Array"==t&&R.entries||w;if(O&&(T=d(O.call(new e)))!==Object.prototype&&T.next&&(u(T,E,!0),n||"function"==typeof T[l]||o(T,l,h)),_&&w&&"values"!==w.name&&(C=!0,A=function(){return w.call(this)}),n&&!m||!p&&!C&&R[l]||o(R,l,A),a[t]=A,a[E]=h,g)if(S={values:_?A:b("values"),keys:v?A:b("keys"),entries:I},m)for(y in S)y in R||s(R,y,S[y]);else i(i.P+i.F*(p||C),t,S);return S}},function(e,t,r){"use strict";var n=r(170),i=r(96),s=r(58),o={};r(15)(o,r(14)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),s(e,t+" Iterator")}},function(e,t,r){var n=r(20),i=r(171),s=r(103),o=r(56)("IE_PROTO"),a=function(){},c=function(){var e,t=r(95)("iframe"),n=s.length;for(t.style.display="none",r(175).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[s[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[o]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(19),i=r(20),s=r(100);e.exports=r(16)?Object.defineProperties:function(e,t){i(e);for(var r,o=s(t),a=o.length,c=0;a>c;)n.f(e,r=o[c++],t[r]);return e}},function(e,t,r){var n=r(21),i=r(52),s=r(173)(!1),o=r(56)("IE_PROTO");e.exports=function(e,t){var r,a=i(e),c=0,u=[];for(r in a)r!=o&&n(a,r)&&u.push(r);for(;t.length>c;)n(a,r=t[c++])&&(~s(u,r)||u.push(r));return u}},function(e,t,r){var n=r(52),i=r(55),s=r(174);e.exports=function(e){return function(t,r,o){var a,c=n(t),u=i(c.length),d=s(o,u);if(e&&r!=r){for(;u>d;)if((a=c[d++])!=a)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}}},function(e,t,r){var n=r(101),i=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):s(e,t)}},function(e,t,r){var n=r(13).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(21),i=r(59),s=r(56)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){"use strict";var n,i=r(13),s=r(60)(0),o=r(99),a=r(61),c=r(181),u=r(184),d=r(11),l=r(63),p=r(63),h=!i.ActiveXObject&&"ActiveXObject"in i,f=a.getWeak,g=Object.isExtensible,v=u.ufstore,m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},S={get:function(e){if(d(e)){var t=f(e);return!0===t?v(l(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(l(this,"WeakMap"),e,t)}},y=e.exports=r(189)("WeakMap",m,S,u,!0,!0);p&&h&&(c((n=u.getConstructor(m,"WeakMap")).prototype,S),a.NEED=!0,s(["delete","has","get","set"],(function(e){var t=y.prototype,r=t[e];o(t,e,(function(t,i){if(d(t)&&!g(t)){this._f||(this._f=new n);var s=this._f[e](t,i);return"set"==e?this:s}return r.call(this,t,i)}))})))},function(e,t,r){var n=r(179);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(11),i=r(180),s=r(14)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(54);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(16),i=r(100),s=r(182),o=r(183),a=r(59),c=r(53),u=Object.assign;e.exports=!u||r(26)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=a(e),u=arguments.length,d=1,l=s.f,p=o.f;u>d;)for(var h,f=c(arguments[d++]),g=l?i(f).concat(l(f)):i(f),v=g.length,m=0;v>m;)h=g[m++],n&&!p.call(f,h)||(r[h]=f[h]);return r}:u},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(104),i=r(61).getWeak,s=r(20),o=r(11),a=r(105),c=r(62),u=r(60),d=r(21),l=r(63),p=u(5),h=u(6),f=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},m=function(e,t){return p(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,s){var u=e((function(e,n){a(e,u,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=n&&c(n,r,e[s],e)}));return n(u.prototype,{delete:function(e){if(!o(e))return!1;var r=i(e);return!0===r?g(l(this,t)).delete(e):r&&d(r,this._i)&&delete r[this._i]},has:function(e){if(!o(e))return!1;var r=i(e);return!0===r?g(l(this,t)).has(e):r&&d(r,this._i)}}),u},def:function(e,t,r){var n=i(s(t),!0);return!0===n?g(e).set(t,r):n[e._i]=r,e},ufstore:g}},function(e,t,r){var n=r(20);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},function(e,t,r){var n=r(27),i=r(14)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[i]===e)}},function(e,t,r){var n=r(188),i=r(14)("iterator"),s=r(27);e.exports=r(25).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[n(e)]}},function(e,t,r){var n=r(54),i=r(14)("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:s?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){"use strict";var n=r(13),i=r(24),s=r(61),o=r(26),a=r(15),c=r(104),u=r(62),d=r(105),l=r(11),p=r(58),h=r(19).f,f=r(60)(0),g=r(16);e.exports=function(e,t,r,v,m,S){var y=n[e],T=y,b=m?"set":"add",E=T&&T.prototype,_={};return g&&"function"==typeof T&&(S||E.forEach&&!o((function(){(new T).entries().next()})))?(T=t((function(t,r){d(t,T,e,"_c"),t._c=new y,null!=r&&u(r,m,t[b],t)})),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in E)||S&&"clear"==e||a(T.prototype,e,(function(r,n){if(d(this,T,e),!t&&S&&!l(r))return"get"==e&&void 0;var i=this._c[e](0===r?0:r,n);return t?this:i}))})),S||h(T.prototype,"size",{get:function(){return this._c.size}})):(T=v.getConstructor(t,e,m,b),c(T.prototype,r),s.NEED=!0),p(T,e),_[e]=T,i(i.G+i.W+i.F,_),S||v.setStrong(T,e,m),T}},function(e,t,r){r(191)("WeakMap")},function(e,t,r){"use strict";var n=r(24);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){r(193)("WeakMap")},function(e,t,r){"use strict";var n=r(24),i=r(94),s=r(32),o=r(62);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,a,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(r=[],t?(n=0,a=s(c,arguments[2],2),o(e,!1,(function(e){r.push(a(e,n++))}))):o(e,!1,r.push,r),new this(r))}})}},function(e,t,r){"use strict";r.r(t),r.d(t,"CdctsDevice",(function(){return h}));var n=r(33),i=r(34),s=r.n(i),o=r(64);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,r,i,s=d(l);function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=s.call(this),!e||"object"!==a(e))throw new TypeError("CdctsDevice: Missing config");if(!e.host)throw new TypeError("CdctsDevice: Missing 'host' parameter");if(!e.port)throw new TypeError("CdctsDevice: Missing 'port' parameter");t.config=e,t.host=e.host,t.port=e.port,t.uri="sip:".concat(e.username,"@").concat(e.host),t.path=e.path||"",t.wsServers=f(e.wsServers),t.username=e.username,t.password=e.password,t.displayName=e.displayName||e.username,t.stunServers=f(e.stunServers),t.turnServers=e.turnServers,t.registrarServer=e.registrarServer,t._userAgent=null,t._ensureConnectivityWithSipServer();var r={uri:"sip:".concat(t.username,"@").concat(t.host),transportOptions:{wsServers:["wss://".concat(t.host,":").concat(t.port).concat(t.path)]},authorizationUsersip:t.username,password:t.password,displayName:t.displayName,sessionDescriptionHandlerOptions:{constraints:{audio:!0,video:!1}}};return e.traceSip&&(r.traceSip=!0),e.logLevel&&("off"===e.logLevel?r.log={builtinEnabled:!1}:r.log={level:e.logLevel}),t._userAgent=new n.UA(r),t._userAgent.on("connecting",(function(e){t.trigger("wsConnecting",{attempts:e.attempts})})),t._userAgent.on("connected",(function(){t.trigger("wsConnected")})),t._userAgent.on("disconnected",(function(){t.trigger("wsDisconnected")})),t._userAgent.on("registered",(function(){t.trigger("registered")})),t._userAgent.on("unregistered",(function(e,r){t.trigger("unregistered",{cause:r,response:e})})),t._userAgent.on("registrationFailed",(function(e,r){t.trigger("registrationFailed",{cause:e,response:r})})),t._userAgent.on("invite",(function(e){t._activeCall=new o.a(t._userAgent),t._activeCall.incomingCall(e),t.trigger("invite",{id:e.id,phoneNumber:e.remoteIdentity._displayName,status:e.status,type:"incoming"})})),t._userAgent.on("message",(function(e){t.trigger("message",{message:e})})),t}return t=l,(r=[{key:"startWS",value:function(){this._userAgent.start()}},{key:"stopWS",value:function(){this._userAgent.stop()}},{key:"isWSConnected",value:function(){return this._userAgent.isConnected()}},{key:"register",value:function(e){this._userAgent.register(e)}},{key:"unregister",value:function(e){this._userAgent.register(e)}},{key:"isRegistered",value:function(){return this._userAgent.isRegistered()}},{key:"initiateCall",value:function(e){var t=this;return this._activeCall=new o.a(this._userAgent),this._activeCall.makeCall(e),this._activeCall._session.on("cancel",(function(e){t.trigger("cancel",e)})),this._activeCall._session.on("bye",(function(e){t.trigger("bye",e)})),this._activeCall._session.on("replaced",(function(e){t.trigger("replaced",e)})),this._activeCall._session.on("failed",(function(e,r){t.trigger("failed",e,r)})),this._activeCall._session.on("rejected",(function(e,r){t.trigger("rejected",e,r)})),this._activeCall}},{key:"accept",value:function(){var e=this;this._activeCall._session.accept(),this._activeCall._session.on("trackAdded",(function(){var e=this.sessionDescriptionHandler.peerConnection,t=document.getElementsByClassName("cdcts-sipjs-remote-audio")[0],r=new MediaStream;return e.getReceivers().forEach((function(e){r.addTrack(e.track)})),void 0!==t.srcObject?t.srcObject=r:void 0!==t.mozSrcObject?t.mozSrcObject=r:void 0!==t.src?t.src=URL.createObjectURL(r):console.log("Error attaching stream to element."),t.play(),this._activeCall})),this._activeCall._session.on("cancel",(function(t){e.trigger("cancel",t)})),this._activeCall._session.on("bye",(function(t){e.trigger("bye",t)})),this._activeCall._session.on("replaced",(function(t){e.trigger("replaced",t)})),this._activeCall._session.on("failed",(function(t,r){e.trigger("failed",t,r)})),this._activeCall._session.on("rejected",(function(t,r){e.trigger("rejected",t,r)})),this.trigger("accepted",{id:this._activeCall._session.id,phoneNumber:this._activeCall._session.remoteIdentity.displayName,startTime:this._activeCall._session.startTime?this._activeCall._session.startTime:new Date,status:this._activeCall._session.status})}},{key:"activeCall",value:function(){return this._activeCall}},{key:"referNumber",value:function(e){return this._refer=new n.ReferClientContext(this._userAgent,this._activeCall._session,e),this._refer.refer(),this._refer}},{key:"mute",value:function(e){var t=this._activeCall._session.sessionDescriptionHandler.peerConnection,r=t.getLocalStreams()[0].getAudioTracks();return r[0]&&(r[0].enabled=!e),t}},{key:"hold",value:function(e){return e?(this._activeCall._session.hold(),this._activeCall._session):(this._activeCall._session.unhold(),this._activeCall._session)}},{key:"reject",value:function(){this._activeCall._session.terminate()}},{key:"_ensureConnectivityWithSipServer",value:function(){try{var e=new XMLHttpRequest;e.addEventListener("error",(function(){console.info("Failed http connection to SIP server is expected. It is related to a chrome bug.")})),e.open("GET","https://".concat(this.host,":").concat(this.port),!0),e.send()}catch(e){}}}])&&c(t.prototype,r),i&&c(t,i),l}(s.a);function f(e){if(Array.isArray(e))return e.slice(0);var t=[];return t.push(e),t}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9tZXNzYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9FbnVtcy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL0NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1V0aWxzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvRXhjZXB0aW9ucy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90aW1lcnMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9DbGllbnRDb250ZXh0LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvdHJhbnNhY3Rpb24tc3RhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnQtY29yZS9hbGxvd2VkLW1ldGhvZHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvZ3JhbW1hci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvc2Vzc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZXhjZXB0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1NlcnZlckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2VzNi1ldmVudC1lbWl0dGVyL2Rpc3QvZW1pdHRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZGlhbG9ncy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZGlhbG9ncy9kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL21lc3NhZ2VzL2luY29taW5nLXJlcXVlc3QtbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvaW5jb21pbmctbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvbmFtZS1hZGRyLWhlYWRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvcGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvdXJpLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9tZXNzYWdlcy9pbmNvbWluZy1yZXNwb25zZS1tZXNzYWdlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvY2xpZW50LXRyYW5zYWN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvdHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL2V4Y2VwdGlvbnMvZXhjZXB0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvc2VydmVyLXRyYW5zYWN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9ub3RpZnktdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3N1YnNjcmlwdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbG9nL2xldmVscy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1JlZmVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1dlYi9Nb2RpZmllcnMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LW1ldGhvZHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdmFsaWRhdGUtY29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL3NyYy9saWIvY2RjdHMtY2FsbC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvb3V0Z29pbmctcmVxdWVzdC1tZXNzYWdlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvaW52aXRlLWNsaWVudC10cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvYnllLXVzZXItYWdlbnQtY2xpZW50LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9ieWUtdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL2luZm8tdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL2luZm8tdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL21lc3NhZ2UtdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL21lc3NhZ2UtdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL25vdGlmeS11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcHJhY2stdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3ByYWNrLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9yZS1pbnZpdGUtdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3JlLWludml0ZS11c2VyLWFnZW50LXNlcnZlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcmVmZXItdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3JlZmVyLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9kaWFsb2dzL3N1YnNjcmlwdGlvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3JlLXN1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbG9nL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9QdWJsaXNoQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1JlZ2lzdGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1Nlc3Npb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9TZXNzaW9uL0RUTUZWYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9UcmFuc3BvcnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9VQS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1dlYi9TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL3Nlc3Npb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9XZWIvVHJhbnNwb3J0LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvbWV0aG9kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvbWV0aG9kcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL21lc3NhZ2VzL2JvZHkuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9ncmFtbWFyL2Rpc3QvZ3JhbW1hci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvZGlnZXN0LWF1dGhlbnRpY2F0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2NyeXB0by1qcy9tZDUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvY3J5cHRvLWpzL2NvcmUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL21lc3NhZ2VzL291dGdvaW5nLXJlc3BvbnNlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9tZXNzYWdlcy9wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL2RpYWxvZ3Mvc2Vzc2lvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3Nlc3Npb24vc2Vzc2lvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZXhjZXB0aW9ucy90cmFuc2FjdGlvbi1zdGF0ZS1lcnJvci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZXhjZXB0aW9ucy90cmFuc3BvcnQtZXJyb3IuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3RyYW5zYWN0aW9ucy9pbnZpdGUtc2VydmVyLXRyYW5zYWN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvbm9uLWludml0ZS1jbGllbnQtdHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3RyYW5zYWN0aW9ucy9ub24taW52aXRlLXNlcnZlci10cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvc3Vic2NyaXB0aW9uL3N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbG9nL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9sb2cvbG9nZ2VyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnQtY29yZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudC1jb3JlL3VzZXItYWdlbnQtY29yZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvY2FuY2VsLXVzZXItYWdlbnQtY2xpZW50LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9pbnZpdGUtdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL2ludml0ZS11c2VyLWFnZW50LXNlcnZlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcHVibGlzaC11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcmUtc3Vic2NyaWJlLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9yZWdpc3Rlci11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcmVnaXN0ZXItdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3N1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvc3Vic2NyaWJlLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1Nlc3Npb24vRFRNRi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2FwaS9ieWUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9hcGkvZW1pdHRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2FwaS9leGNlcHRpb25zL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvY29udGVudC10eXBlLXVuc3VwcG9ydGVkLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvcmVxdWVzdC1wZW5kaW5nLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvc2Vzc2lvbi1kZXNjcmlwdGlvbi1oYW5kbGVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvc2Vzc2lvbi10ZXJtaW5hdGVkLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvc3RhdGUtdHJhbnNpdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2FwaS9pbmZvLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL21lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9hcGkvbm90aWZpY2F0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL3JlZmVycmFsLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL3Nlc3Npb24tc3RhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9XZWIvU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvV2ViL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvV2ViL1NpbXBsZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy93ZWFrLW1hcC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vd2Vhay1tYXAuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tYWJzb2x1dGUtaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LndlYWstbWFwLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1zcGVjaWVzLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2xsZWN0aW9uLXdlYWsuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LndlYWstbWFwLm9mLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtY29sbGVjdGlvbi1vZi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcud2Vhay1tYXAuZnJvbS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LWNvbGxlY3Rpb24tZnJvbS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL3NyYy9saWIvY2RjdHMtZGV2aWNlLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJleHRlbmRTdGF0aWNzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfX2V4dGVuZHMiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsIl9fYXNzaWduIiwiYXNzaWduIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJfX3Jlc3QiLCJlIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsIl9fY3JlYXRlQmluZGluZyIsImsiLCJrMiIsInVuZGVmaW5lZCIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiX19yZWFkIiwiYXIiLCJlcnJvciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImEiLCJqIiwiamwiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsInJhdyIsIl9faW1wb3J0U3RhciIsIm1vZCIsImRlZmF1bHQiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJwcml2YXRlTWFwIiwiaGFzIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInNldCIsInRzbGliXzEiLCJtZXNzYWdlc18xIiwidHJhbnNhY3Rpb25zXzEiLCJVc2VyQWdlbnRDbGllbnQiLCJ0cmFuc2FjdGlvbkNvbnN0cnVjdG9yIiwiY29yZSIsIm1lc3NhZ2UiLCJkZWxlZ2F0ZSIsImNoYWxsZW5nZWQiLCJzdGFsZSIsImxvZ2dlciIsImxvZ2dlckZhY3RvcnkiLCJnZXRMb2dnZXIiLCJpbml0IiwiZGlzcG9zZSIsInRyYW5zYWN0aW9uIiwiY29uZmlndXJhYmxlIiwiX3RyYW5zYWN0aW9uIiwiRXJyb3IiLCJjYW5jZWwiLCJyZWFzb24iLCJvcHRpb25zIiwiX3RoaXMiLCJ0byIsImZyb20iLCJtYWtlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZSIsIkMiLCJDQU5DRUwiLCJydXJpIiwidXJpIiwidG9UYWciLCJmcm9tVGFnIiwiY2FsbElkIiwiY3NlcSIsImV4dHJhSGVhZGVycyIsImJyYW5jaCIsImhlYWRlcnMiLCJSb3V0ZSIsInNldEhlYWRlciIsInN0YXRlIiwiVHJhbnNhY3Rpb25TdGF0ZSIsIlByb2NlZWRpbmciLCJOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiIsIm9uY2UiLCJhdXRoZW50aWNhdGlvbkd1YXJkIiwiZGlhbG9nIiwiY2hhbGxlbmdlIiwiYXV0aG9yaXphdGlvbkhlYWRlck5hbWUiLCJzdGF0dXNDb2RlIiwicGFyc2VIZWFkZXIiLCJ3YXJuIiwiY3JlZGVudGlhbHMiLCJjb25maWd1cmF0aW9uIiwiYXV0aGVudGljYXRpb25GYWN0b3J5IiwiYXV0aGVudGljYXRlIiwibG9jYWxTZXF1ZW5jZU51bWJlciIsImluY3JlbWVudExvY2FsU2VxdWVuY2VOdW1iZXIiLCJtZXRob2QiLCJ0b1N0cmluZyIsIm9uUmVxdWVzdFRpbWVvdXQiLCJJbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSIsInJlYXNvblBocmFzZSIsInJlY2VpdmVSZXNwb25zZSIsIm9uVHJhbnNwb3J0RXJyb3IiLCJ0ZXN0Iiwib25UcnlpbmciLCJvblByb2dyZXNzIiwib25BY2NlcHQiLCJvblJlZGlyZWN0Iiwib25SZWplY3QiLCJ1c2VyIiwib25TdGF0ZUNoYW5nZSIsIm5ld1N0YXRlIiwiVGVybWluYXRlZCIsInVzZXJBZ2VudENsaWVudHMiLCJkZWxldGUiLCJ1c2VyQWdlbnRDbGllbnRJZCIsInRyYW5zcG9ydCIsImlkIiwicmVxdWVzdCIsIkRpYWxvZ1N0YXR1cyIsIlNlc3Npb25TdGF0dXMiLCJUeXBlU3RyaW5ncyIsIlVBU3RhdHVzIiwiZXhjZXB0aW9uc18xIiwidXRpbHNfMSIsIlVzZXJBZ2VudFNlcnZlciIsIm5ld1RhZyIsImFjY2VwdCIsImFjY2VwdGFibGUiLCJUcmFuc2FjdGlvblN0YXRlRXJyb3IiLCJyZXBseSIsInByb2dyZXNzIiwicHJvZ3Jlc3NhYmxlIiwicmVkaXJlY3QiLCJjb250YWN0cyIsInJlZGlyZWN0YWJsZSIsImNvbnRhY3RIZWFkZXJzIiwiZm9yRWFjaCIsImNvbnRhY3QiLCJyZWplY3RhYmxlIiwidHJ5aW5nIiwidHJ5aW5nYWJsZSIsInJlY2VpdmVDYW5jZWwiLCJvbkNhbmNlbCIsIkludml0ZVNlcnZlclRyYW5zYWN0aW9uIiwiQWNjZXB0ZWQiLCJOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiIsIlRyeWluZyIsInVzZXJBZ2VudCIsInVzZXJBZ2VudEhlYWRlckZpZWxkVmFsdWUiLCJzdXBwb3J0ZWQiLCJzdXBwb3J0ZWRPcHRpb25UYWdzUmVzcG9uc2UiLCJyZXNwb25zZSIsImNvbnN0cnVjdE91dGdvaW5nUmVzcG9uc2UiLCJ1c2VyQWdlbnRTZXJ2ZXJzIiwidXNlckFnZW50U2VydmVySWQiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0QXBwbHkiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJFdmVudEVtaXR0ZXIiLCJlbWl0dGVyIiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsIndhcm5lZCIsInciLCJTdHJpbmciLCJjb3VudCIsImNvbnNvbGUiLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndyYXBMaXN0ZW5lciIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXIiLCJjb250ZXh0IiwibGVuIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdCIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsImluZGV4Iiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwia2V5cyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJ2ZXJzaW9uXzEiLCJ2ZXJzaW9uIiwiTElCUkFSWV9WRVJTSU9OIiwiVVNFUl9BR0VOVCIsIlNJUCIsIlNJUFMiLCJjYXVzZXMiLCJTSVBfRVJST1JfQ0FVU0VTIiwiQUREUkVTU19JTkNPTVBMRVRFIiwiQVVUSEVOVElDQVRJT05fRVJST1IiLCJCVVNZIiwiSU5DT01QQVRJQkxFX1NEUCIsIk5PVF9GT1VORCIsIlJFRElSRUNURUQiLCJSRUpFQ1RFRCIsIlVOQVZBSUxBQkxFIiwiQUNLIiwiQllFIiwiSU5GTyIsIklOVklURSIsIk1FU1NBR0UiLCJOT1RJRlkiLCJPUFRJT05TIiwiUkVHSVNURVIiLCJVUERBVEUiLCJTVUJTQ1JJQkUiLCJQVUJMSVNIIiwiUkVGRVIiLCJQUkFDSyIsIlJFQVNPTl9QSFJBU0UiLCIxMDAiLCIxODAiLCIxODEiLCIxODIiLCIxODMiLCIxOTkiLCIyMDAiLCIyMDIiLCIyMDQiLCIzMDAiLCIzMDEiLCIzMDIiLCIzMDUiLCIzODAiLCI0MDAiLCI0MDEiLCI0MDIiLCI0MDMiLCI0MDQiLCI0MDUiLCI0MDYiLCI0MDciLCI0MDgiLCI0MTAiLCI0MTIiLCI0MTMiLCI0MTQiLCI0MTUiLCI0MTYiLCI0MTciLCI0MjAiLCI0MjEiLCI0MjIiLCI0MjMiLCI0MjgiLCI0MjkiLCI0MzAiLCI0MzMiLCI0MzYiLCI0MzciLCI0MzgiLCI0MzkiLCI0NDAiLCI0NjkiLCI0NzAiLCI0NzgiLCI0ODAiLCI0ODEiLCI0ODIiLCI0ODMiLCI0ODQiLCI0ODUiLCI0ODYiLCI0ODciLCI0ODgiLCI0ODkiLCI0OTEiLCI0OTMiLCI0OTQiLCI1MDAiLCI1MDEiLCI1MDIiLCI1MDMiLCI1MDQiLCI1MDUiLCI1MTMiLCI1ODAiLCI2MDAiLCI2MDMiLCI2MDQiLCI2MDYiLCJPUFRJT05fVEFHUyIsImR0bWZUeXBlIiwiQ29uc3RhbnRzXzEiLCJncmFtbWFyXzEiLCJ1cmlfMSIsIlV0aWxzIiwiZGVmZXIiLCJkZWZlcnJlZCIsInByb21pc2UiLCJyZWR1Y2VQcm9taXNlcyIsInZhbCIsInJlZHVjZSIsImFjYyIsImZuIiwic3RyX3V0ZjhfbGVuZ3RoIiwic3RyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsImdlbmVyYXRlRmFrZVNEUCIsInN0YXJ0IiwiZW5kIiwiaXNEZWNpbWFsIiwibnVtIiwibnVtQXNOdW0iLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJjcmVhdGVSYW5kb21Ub2tlbiIsInNpemUiLCJiYXNlIiwidG9rZW4iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJuZXdVVUlEIiwibm9ybWFsaXplVGFyZ2V0IiwiZG9tYWluIiwiVVJJIiwidGFyZ2V0QXJyYXkiLCJzcGxpdCIsInRhcmdldFVzZXIiLCJ0YXJnZXREb21haW4iLCJqb2luIiwiZXNjYXBlVXNlciIsIkdyYW1tYXIiLCJVUklQYXJzZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImhlYWRlcml6ZSIsImV4Y2VwdGlvbnMiLCJ0b0xvd2VyQ2FzZSIsInBhcnRzIiwiaG5hbWUiLCJwYXJ0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJzaXBFcnJvckNhdXNlIiwiY2F1c2UiLCJTSVBfRkFJTFVSRV9DT0RFIiwiZ2V0UmVhc29uUGhyYXNlIiwiY29kZSIsInNwZWNpZmljIiwiZ2V0UmVhc29uSGVhZGVyVmFsdWUiLCJnZXRDYW5jZWxSZWFzb24iLCJidWlsZFN0YXR1c0xpbmUiLCJmcm9tQm9keU9iaiIsImJvZHlPYmoiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJjb250ZW50RGlzcG9zaXRpb24iLCJjb250ZW50VHlwZVRvQ29udGVudERpc3Bvc2l0aW9uIiwidG9Cb2R5T2JqIiwiY29yZV8xIiwiRW51bXNfMSIsIkV4Y2VwdGlvbnMiLCJDbG9zZWRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IiLCJfc3VwZXIiLCJFeGNlcHRpb24iLCJUZXJtaW5hdGVkU2Vzc2lvbkVycm9yIiwiVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yIiwiTGVnYWN5RXhjZXB0aW9uIiwiQ29uZmlndXJhdGlvbkVycm9yIiwicGFyYW1ldGVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIkludmFsaWRTdGF0ZUVycm9yIiwic3RhdHVzIiwiTm90U3VwcG9ydGVkRXJyb3IiLCJSZW5lZ290aWF0aW9uRXJyb3IiLCJNZXRob2RQYXJhbWV0ZXJFcnJvciIsIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciIsIml0IiwiVDEiLCJUaW1lcnMiLCJUMiIsIlQ0IiwiVElNRVJfQiIsIlRJTUVSX0QiLCJUSU1FUl9GIiwiVElNRVJfSCIsIlRJTUVSX0kiLCJUSU1FUl9KIiwiVElNRVJfSyIsIlRJTUVSX0wiLCJUSU1FUl9NIiwiVElNRVJfTiIsIlBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMIiwiZ2xvYmFsIiwic2VsZiIsIl9fZyIsInN0b3JlIiwidWlkIiwiVVNFX1NZTUJPTCIsImRQIiwiY3JlYXRlRGVzYyIsImV2ZW50c18xIiwiVXRpbHNfMSIsIkNsaWVudENvbnRleHQiLCJ1YSIsImRhdGEiLCJpbml0aWFsaXplciIsIm9ialRvQ29uc3RydWN0Iiwib3JpZ2luYWxUYXJnZXQiLCJmcm9tVVJJIiwidXNlckFnZW50Q29yZSIsImFvciIsInBhcmFtcyIsImZyb21VcmkiLCJ0b1VSSSIsInRvVXJpIiwibG9jYWxJZGVudGl0eSIsInJlbW90ZUlkZW50aXR5Iiwic2VuZCIsImFwcGxpY2FudHMiLCJSRVFVRVNUX1RJTUVPVVQiLCJDT05ORUNUSU9OX0VSUk9SIiwiYW5PYmplY3QiLCJJRThfRE9NX0RFRklORSIsInRvUHJpbWl0aXZlIiwiTyIsIkF0dHJpYnV0ZXMiLCJpc09iamVjdCIsIkFsbG93ZWRNZXRob2RzIiwiY3R4IiwiaGlkZSIsIiRleHBvcnQiLCJzb3VyY2UiLCJvd24iLCJvdXQiLCJJU19GT1JDRUQiLCJGIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIlMiLCJJU19QUk9UTyIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsInZpcnR1YWwiLCJVIiwiX19lIiwiZXhlYyIsInBlZ0dyYW1tYXIiLCJwYXJzZSIsImlucHV0Iiwic3RhcnRSdWxlIiwibmFtZUFkZHJIZWFkZXJQYXJzZSIsIm5hbWVBZGRySGVhZGVyIiwicGFyc2VkTmFtZUFkZHJIZWFkZXIiLCJwYXJzZWRVcmkiLCJTZXJ2ZXJDb250ZXh0IiwiaW5jb21pbmdSZXF1ZXN0Iiwib2JqZWN0VG9Db25zdHJ1Y3QiLCJoYXNIZWFkZXIiLCJnZXRIZWFkZXIiLCJhc3NlcnRlZElkZW50aXR5IiwibWluQ29kZSIsIm1heENvZGUiLCJmcm9tQm9keUxlZ2FjeSIsInJlc3BvbnNlT3B0aW9ucyIsInN0YXR1c0NvZGVTdHJpbmciLCJldmVudCIsImFGdW5jdGlvbiIsIkRpZ2VzdEF1dGhlbnRpY2F0aW9uIiwiSW5jb21pbmdSZXF1ZXN0IiwiSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSIsIkluY29taW5nUmVzcG9uc2UiLCJMb2dnZXJGYWN0b3J5IiwiTmFtZUFkZHJIZWFkZXIiLCJPdXRnb2luZ1JlcXVlc3QiLCJPdXRnb2luZ1JlcXVlc3RNZXNzYWdlIiwiUGFyc2VyIiwiQ2xpZW50Q29udGV4dF8xIiwiRXhjZXB0aW9uc18xIiwiUHVibGlzaENvbnRleHRfMSIsIlB1Ymxpc2hDb250ZXh0IiwiUmVmZXJDb250ZXh0XzEiLCJSZWZlckNsaWVudENvbnRleHQiLCJSZWZlclNlcnZlckNvbnRleHQiLCJSZWdpc3RlckNvbnRleHRfMSIsIlJlZ2lzdGVyQ29udGV4dCIsIlNlcnZlckNvbnRleHRfMSIsIlNlc3Npb25fMSIsIkludml0ZUNsaWVudENvbnRleHQiLCJJbnZpdGVTZXJ2ZXJDb250ZXh0IiwiU2Vzc2lvbiIsIlN1YnNjcmlwdGlvbl8xIiwiU3Vic2NyaXB0aW9uIiwiVHJhbnNwb3J0XzEiLCJUcmFuc3BvcnQiLCJUcmFuc2FjdGlvbnMiLCJJbnZpdGVDbGllbnRUcmFuc2FjdGlvbiIsIlVBXzEiLCJtYWtlVXNlckFnZW50Q29yZUNvbmZpZ3VyYXRpb25Gcm9tVUEiLCJVQSIsIldlYiIsIkNvcmUiLCJfY2xhc3NDYWxsQ2hlY2szIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jcmVhdGVDbGFzczMiLCJvYmoiLCJFbWl0dGVyIiwiZXZlbnRMZW5ndGgiLCJjYiIsInNwbGljZSIsIl9sZW4iLCJfa2V5Iiwib25jZUxpc3RlbmVycyIsIkRpYWxvZyIsImRpYWxvZ1N0YXRlIiwiZGlhbG9ncyIsImluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudENsaWVudCIsIm91dGdvaW5nUmVxdWVzdE1lc3NhZ2UiLCJpbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSIsInJvdXRlU2V0IiwiZ2V0SGVhZGVycyIsInJldmVyc2UiLCJyZW1vdGVUYXJnZXQiLCJsb2NhbFRhZyIsInJlbW90ZVRhZyIsImxvY2FsVVJJIiwicmVtb3RlVVJJIiwiZWFybHkiLCJyZW1vdGVTZXF1ZW5jZU51bWJlciIsInNlY3VyZSIsImluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudFNlcnZlciIsImluY29taW5nUmVxdWVzdE1lc3NhZ2UiLCJjb25maXJtIiwicmVjZWl2ZVJlcXVlc3QiLCJyZWNvbXB1dGVSb3V0ZVNldCIsImNyZWF0ZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UiLCJzZXF1ZW5jZUd1YXJkIiwicmVwbHlTdGF0ZWxlc3MiLCJJbmNvbWluZ01lc3NhZ2UiLCJhZGRIZWFkZXIiLCJoZWFkZXIiLCJfaSIsImhlYWRlcl8xIiwiaGVhZGVyUGFydCIsImlkeCIsInBhcnNlZCIsImRpc3BsYXlOYW1lIiwicGFyYW1ldGVycyIsIl9kaXNwbGF5TmFtZSIsImNsb25lIiwiUGFyYW1ldGVycyIsInBhcmFtIiwic2V0UGFyYW0iLCJnZXRQYXJhbSIsImhhc1BhcmFtIiwiZGVsZXRlUGFyYW0iLCJjbGVhclBhcmFtcyIsInNjaGVtZSIsImhvc3QiLCJwb3J0Iiwibm9ybWFsIiwiZGVsZXRlSGVhZGVyIiwiY2xlYXJIZWFkZXJzIiwiX3JhdyIsInRvUmF3IiwiX3RvU3RyaW5nIiwiX25vcm1hbCIsInVyaVN0cmluZyIsIm1hdGNoIiwiZGVjb2RlZFVzZXIiLCJDbGllbnRUcmFuc2FjdGlvbiIsIl9yZXF1ZXN0IiwibG9nZ2VyQ2F0ZWdvcnkiLCJtYWtlSWQiLCJzZXRWaWFIZWFkZXIiLCJwcm90b2NvbCIsIlRyYW5zYWN0aW9uIiwiX3RyYW5zcG9ydCIsIl91c2VyIiwiX2lkIiwiX3N0YXRlIiwiZGVidWciLCJ0eXBlVG9TdHJpbmciLCJjYWxsYmFjayIsImxvZ1RyYW5zcG9ydEVycm9yIiwiY2F0Y2giLCJUcmFuc3BvcnRFcnJvciIsInRyYW5zcG9ydEVycm9yIiwic2V0U3RhdGUiLCJfbmV3VGFyZ2V0IiwiU2VydmVyVHJhbnNhY3Rpb24iLCJ2aWFCcmFuY2giLCJOb3RpZnlVc2VyQWdlbnRTZXJ2ZXIiLCJkaWFsb2dPckNvcmUiLCJMZXZlbHMiLCJhcHBsaWNhbnQiLCJpbml0UmVmZXJUbyIsInJlZmVyIiwic2VuZFJlcXVlc3QiLCJyZWNlaXZlTm90aWZ5Iiwic2VhcmNoIiwibWVzc2FnZUJvZHkiLCJzdGF0dXNfY29kZSIsImFjdGl2ZUFmdGVyVHJhbnNmZXIiLCJ0ZXJtaW5hdGUiLCJzdHJpbmdPclVSSSIsInRhcmdldFN0cmluZyIsInRhcmdldFVyaSIsInNlc3Npb24iLCJmcmllbmRseU5hbWUiLCJTVEFUVVNfSU5WSVRFX1JFQ0VJVkVEIiwidGFnIiwiQ29udGFjdCIsInJlZmVyVG8iLCJyZWZlcnJlZFNlc3Npb24iLCJmaW5kU2Vzc2lvbiIsInJlZmVycmVkQnkiLCJyZXBsYWNlcyIsIlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIiLCJTVEFUVVNfVEVSTUlOQVRFRCIsImxvZyIsIm1vZGlmaWVycyIsIlNUQVRVU19BTlNXRVJFRCIsImZvbGxvd1JlZmVyIiwiaW52aXRlT3B0aW9ucyIsInRhcmdldFNlc3Npb24iLCJpbnZpdGUiLCJzZW5kTm90aWZ5IiwidHJpbSIsInJlZmVyRmFpbGVkIiwiYm9keVN0ciIsIm5vdGlmeSIsImdldExvZ2dlckZhY3RvcnkiLCJzdHJpcFBheWxvYWQiLCJzZHAiLCJwYXlsb2FkIiwiY3VycmVudE1lZGlhRGVzYyIsIm1lZGlhRGVzY3MiLCJsaW5lcyIsImxpbmUiLCJzdHJpcHBlZCIsInJ0cG1hcCIsIm1lZGlhRGVzY3NfMSIsIm1lZGlhRGVzYyIsIm1saW5lIiwic3RyaXBUY3BDYW5kaWRhdGVzIiwiZGVzY3JpcHRpb24iLCJzdHJpcFRlbGVwaG9uZUV2ZW50IiwiY2xlYW5KaXRzaVNkcEltYWdlYXR0ciIsInN0cmlwRzcyMiIsInN0cmlwUnRwUGF5bG9hZCIsInN0cmlwVmlkZW8iLCJkZXNjcmlwdGlvblJlZ0V4cCIsIlJlZ0V4cCIsImdyb3VwUmVnRXhwIiwibWlkTGluZVRvUmVtb3ZlXzEiLCJncm91cExpbmUiLCJmaWx0ZXIiLCJzZWN0aW9uIiwic3Vic3RyIiwiZ3JvdXBMaW5lUG9ydGlvbiIsImdyb3VwUmVnRXhwUmVwbGFjZSIsInN0cmlwTWVkaWFEZXNjcmlwdGlvbiIsImFkZE1pZExpbmVzIiwibWxpbmVzXzEiLCJzZHBBcnJheV8xIiwiZWxlbSIsIklPYmplY3QiLCJkZWZpbmVkIiwiY29mIiwidG9JbnRlZ2VyIiwibWluIiwic2hhcmVkIiwicHgiLCJkZWYiLCJUQUciLCJzdGF0IiwidG9PYmplY3QiLCJ0b0xlbmd0aCIsImFzYyIsIlRZUEUiLCIkY3JlYXRlIiwiSVNfTUFQIiwiSVNfRklMVEVSIiwiSVNfU09NRSIsIklTX0VWRVJZIiwiSVNfRklORF9JTkRFWCIsIk5PX0hPTEVTIiwiJHRoaXMiLCJjYWxsYmFja2ZuIiwicmVzIiwiTUVUQSIsInNldERlc2MiLCJpc0V4dGVuc2libGUiLCJGUkVFWkUiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInNldE1ldGEiLCJtZXRhIiwiS0VZIiwiTkVFRCIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJpc0FycmF5SXRlciIsImdldEl0ZXJGbiIsIkJSRUFLIiwiUkVUVVJOIiwiaXRlcmFibGUiLCJlbnRyaWVzIiwiSVRFUkFUT1IiLCJpdGVyRm4iLCJfdCIsIkNkY3RzQ2FsbCIsIl9tdXRlIiwiX3N0YXR1cyIsIl9jYWxsVHlwZSIsIl9kb2NCb2R5IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImF1ZGlvRWxlbWVudCIsImludml0ZVVyaSIsIl9zZXNzaW9uIiwiX2dldEF1ZGlvRWxlbWVudCIsIl9hdHRhdGNoU2Vzc2lvbkV2ZW50cyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsInRyaWdnZXIiLCJoYXNPZmZlciIsInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIiLCJoYXNEZXNjcmlwdGlvbiIsIlNUQVRVU19FQVJMWV9NRURJQSIsImR0bWYiLCJuZXdTZXNzaW9uIiwicGMiLCJwZWVyQ29ubmVjdGlvbiIsInJlbW90ZVN0cmVhbSIsIk1lZGlhU3RyZWFtIiwiZ2V0UmVjZWl2ZXJzIiwiYWRkVHJhY2siLCJ0cmFjayIsInBhc3NlZE9wdGlvbnMiLCJzcmNPYmplY3QiLCJtb3pTcmNPYmplY3QiLCJzcmMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJwbGF5IiwibWVkaWEiLCJjb25zdHJhaW50cyIsImF1ZGlvIiwidmlkZW8iLCJyZW5kZXIiLCJyZW1vdGUiLCJzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyIsInN0b3AiLCJpc011dGUiLCJtdXRlIiwidW5tdXRlIiwiaXNIb2xkIiwiaG9sZCIsInVuaG9sZCIsImRpZ2l0cyIsImNsZWFyVGltZXIiLCJzZXRUaW1lb3V0IiwiY2hlY2siLCJoYXNBbnN3ZXIiLCJjbGVhclRpbWVvdXQiLCJzZXREZXNjcmlwdGlvbiIsImZhaWxlZCIsIkJBRF9NRURJQV9ERVNDUklQVElPTiIsInJlYXNvbl9waHJhc2UiLCJuYW1lX2FkZHJfaGVhZGVyXzEiLCJnZXREZWZhdWx0T3B0aW9ucyIsIm9wdGlvblRhZ3MiLCJtYWtlTmFtZUFkZHJIZWFkZXIiLCJmcm9tRGlzcGxheU5hbWUiLCJ0b0Rpc3BsYXlOYW1lIiwiY2FsbElkUHJlZml4IiwiZm9yY2VScG9ydCIsImhhY2tWaWFUY3AiLCJ1c2VyQWdlbnRTdHJpbmciLCJ2aWFIb3N0IiwicmVnZXhwIiwiX2EiLCJleEhlYWRlciIsImhlYWRlckFycmF5IiwiaGVhZGVyQXJyYXlfMSIsIl9iIiwiZXh0cmFIZWFkZXIiLCJ2aWEiLCJtc2ciLCJfYyIsInRpbWVyc18xIiwiY2xpZW50X3RyYW5zYWN0aW9uXzEiLCJ0cmFuc2FjdGlvbl9zdGF0ZV8xIiwiQ2FsbGluZyIsImFja1JldHJhbnNtaXNzaW9uQ2FjaGUiLCJNYXAiLCJ0aW1lcl9CIiwiRCIsIk0iLCJhY2tSZXNwb25zZSIsImFjayIsInN0YXRlVHJhbnNpdGlvbiIsIkNvbXBsZXRlZCIsInJvdXRlIiwiZHVlVG9UcmFuc3BvcnRFcnJvciIsImludmFsaWRTdGF0ZVRyYW5zaXRpb24iLCJ0aW1lcl9EIiwidGltZXJfTSIsInRpbWVyX0EiLCJCeWVVc2VyQWdlbnRDbGllbnQiLCJCeWVVc2VyQWdlbnRTZXJ2ZXIiLCJJbmZvVXNlckFnZW50Q2xpZW50IiwiSW5mb1VzZXJBZ2VudFNlcnZlciIsIk1lc3NhZ2VVc2VyQWdlbnRDbGllbnQiLCJNZXNzYWdlVXNlckFnZW50U2VydmVyIiwiTm90aWZ5VXNlckFnZW50Q2xpZW50IiwiUHJhY2tVc2VyQWdlbnRDbGllbnQiLCJzaWduYWxpbmdTdGF0ZVRyYW5zaXRpb24iLCJQcmFja1VzZXJBZ2VudFNlcnZlciIsIlJlSW52aXRlVXNlckFnZW50Q2xpZW50IiwicmVpbnZpdGVVc2VyQWdlbnRDbGllbnQiLCJwcmFjayIsInNpZ25hbGluZ1N0YXRlUm9sbGJhY2siLCJSZUludml0ZVVzZXJBZ2VudFNlcnZlciIsInJlaW52aXRlVXNlckFnZW50U2VydmVyIiwibWFwIiwicmVDb25maXJtIiwiUmVmZXJVc2VyQWdlbnRDbGllbnQiLCJSZWZlclVzZXJBZ2VudFNlcnZlciIsInN1YnNjcmlwdGlvbl8xIiwiYWxsb3dlZF9tZXRob2RzXzEiLCJub3RpZnlfdXNlcl9hZ2VudF9zZXJ2ZXJfMSIsInJlX3N1YnNjcmliZV91c2VyX2FnZW50X2NsaWVudF8xIiwiU3Vic2NyaXB0aW9uRGlhbG9nIiwic3Vic2NyaXB0aW9uRXZlbnQiLCJzdWJzY3JpcHRpb25FeHBpcmVzIiwic3Vic2NyaXB0aW9uU3RhdGUiLCJfYXV0b1JlZnJlc2giLCJfc3Vic2NyaXB0aW9uRXZlbnQiLCJfc3Vic2NyaXB0aW9uRXhwaXJlcyIsIl9zdWJzY3JpcHRpb25FeHBpcmVzSW5pdGlhbCIsIl9zdWJzY3JpcHRpb25FeHBpcmVzTGFzdFNldCIsIkRhdGUiLCJub3ciLCJfc3Vic2NyaXB0aW9uUmVmcmVzaCIsIl9zdWJzY3JpcHRpb25SZWZyZXNoTGFzdFNldCIsIl9zdWJzY3JpcHRpb25TdGF0ZSIsImluaXRpYWxEaWFsb2dTdGF0ZUZvclN1YnNjcmlwdGlvbiIsIm91dGdvaW5nU3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UiLCJpbmNvbWluZ05vdGlmeVJlcXVlc3RNZXNzYWdlIiwiTiIsInJlZnJlc2hUaW1lckNsZWFyIiwiYXV0b1JlZnJlc2giLCJyZWZyZXNoVGltZXJTZXQiLCJzZWNvbmRzU2luY2VMYXN0U2V0Iiwic2Vjb25kc1VudGlsRXhwaXJlcyIsIm1heCIsImV4cGlyZXMiLCJyZWZyZXNoIiwic3Vic2NyaXB0aW9uUmVmcmVzaCIsIm9uTm90aWZ5IiwiYWxsb3dIZWFkZXIiLCJzdWJzY3JpcHRpb25FeHBpcmVzSW5pdGlhbCIsInN1YnNjcmliZSIsIlN1YnNjcmlwdGlvblN0YXRlIiwiUGVuZGluZyIsIkFjdGl2ZSIsInVhYyIsIlJlU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50IiwidGltZXJfTiIsIm9uVGVybWluYXRlZCIsInVuc3Vic2NyaWJlIiwidWFzIiwib25SZWZyZXNoIiwicmVmcmVzaFRpbWVyIiwibmV3RXhwaXJlcyIsIkluaXRpYWwiLCJOb3RpZnlXYWl0Iiwid2FpdE5vdGlmeVN0b3AiLCJzdWJzY3JpcHRpb25FeHBpcmVzUmVjZWl2ZWQiLCJsZXZlbHNfMSIsIkxvZ2dlciIsImNhdGVnb3J5IiwiZ2VuZXJpY0xvZyIsImxldmVsIiwidW5wdWJsaXNoT25DbG9zZSIsInB1YlJlcXVlc3RFeHBpcmVzIiwicHVibGlzaCIsInB1Ymxpc2hSZWZyZXNoVGltZXIiLCJwdWJSZXF1ZXN0Qm9keSIsInB1YlJlcXVlc3RFdGFnIiwicHVibGlzaGVycyIsInNlbmRQdWJsaXNoUmVxdWVzdCIsInVucHVibGlzaCIsImNsb3NlIiwicmVmcmVzaFJlcXVlc3QiLCJtaW5FeHBpcmVzIiwicmVxT3B0aW9ucyIsImxvYWRDb25maWciLCJzZXR0aW5ncyIsImV4dHJhQ29udGFjdEhlYWRlclBhcmFtcyIsImluc3RhbmNlSWQiLCJyZWdJZCIsInJlZ2lzdHJhciIsImNvbmZpZ0NoZWNrIiwibWFuZGF0b3J5Iiwib3B0aW9uYWwiLCJjb250YWN0SGVhZGVyUGFyYW0iLCJjaGVja2VkVmFsdWUiLCJyZWdpc3RyYXJTZXJ2ZXIiLCJyZWdpc3RlcmVkIiwib25UcmFuc3BvcnREaXNjb25uZWN0ZWQiLCJyZWdpc3RlciIsImdlbmVyYXRlQ29udGFjdEhlYWRlciIsImNsb3NlSGVhZGVycyIsImNsb3NlV2l0aEhlYWRlcnMiLCJyZWdpc3RyYXRpb25UaW1lciIsInJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lciIsInVucmVnaXN0ZXJlZCIsIkVYUElSRVMiLCJ0ZW1wR3J1dSIsInB1YkdydXUiLCJyZWdpc3RyYXRpb25GYWlsdXJlIiwiYWxsIiwicmVnaXN0ZXJlZEJlZm9yZSIsInVucmVnaXN0ZXIiLCJEVE1GXzEiLCJEVE1GVmFsaWRhdG9yXzEiLCJzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSIsIlNUQVRVU19OVUxMIiwicGVuZGluZ1JlaW52aXRlIiwidGltZXJzIiwiYWNrVGltZXIiLCJleHBpcmVzVGltZXIiLCJpbnZpdGUyeHhUaW1lciIsInVzZXJOb0Fuc3dlclRpbWVyIiwicmVsMXh4VGltZXIiLCJwcmFja1RpbWVyIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRvbmVzIiwibG9jYWxIb2xkIiwiZWFybHlTZHAiLCJyZWwxMDAiLCJVTlNVUFBPUlRFRCIsIlNUQVRVU19DT05GSVJNRUQiLCJTVEFUVVNfV0FJVElOR19GT1JfQUNLIiwiRFRNRlZhbGlkYXRvciIsInZhbGlkYXRlIiwic2VuZERUTUYiLCJ0aW1lb3V0IiwidG9uZSIsImR1cmF0aW9uIiwiaW50ZXJUb25lR2FwIiwiUlRQIiwic2VuZER0bWYiLCJkdG1mcyIsInRvbmVzQXJyYXkiLCJEVE1GIiwiaXNBcnJheSIsImJ5ZSIsInRlcm1pbmF0ZWQiLCJyZWZlckNvbnRleHQiLCJyZXF1ZXN0T3B0aW9ucyIsInRpbWVyIiwic2Vzc2lvbnMiLCJob2xkTW9kaWZpZXIiLCJzZW5kUmVpbnZpdGUiLCJyZWludml0ZSIsIm9uRGlhbG9nRXJyb3IiLCJESUFMT0dfRVJST1IiLCJvbkFjayIsImNvbmZpcm1TZXNzaW9uIiwiY29udGVudERpc3AiLCJyZW5kZXJib2R5IiwicmVuZGVydHlwZSIsInJlY2VpdmVSZWludml0ZSIsIm9uSW5mbyIsInJlZ1RvbmUiLCJyZWdEdXJhdGlvbiIsImluaXRfaW5jb21pbmciLCJnZXREZXNjcmlwdGlvbiIsImNhbmNlbGVkIiwiYWNjZXB0ZWQiLCJyZXBsYWNlZSIsImNvbm5lY3RpbmciLCJpbmNvbWluZ0ludml0ZVJlcXVlc3QiLCJfY2FuY2VsZWQiLCJyc2VxIiwic2V0MTAwcmVsIiwicmVsU2V0dGluZyIsIlJFUVVJUkVEIiwiU1VQUE9SVEVEIiwiTk9fQU5TV0VSIiwibm9BbnN3ZXJUaW1lb3V0IiwiX2FjY2VwdCIsImFja1JlcXVlc3QiLCJvbkFja1RpbWVvdXQiLCJvbkJ5ZSIsImJ5ZVJlcXVlc3QiLCJpbmZvUmVxdWVzdCIsIm9uSW52aXRlIiwiaW52aXRlUmVxdWVzdCIsIm9uTWVzc2FnZSIsIm1lc3NhZ2VSZXF1ZXN0Iiwibm90aWZ5UmVxdWVzdCIsIm9uUHJhY2siLCJwcmFja1JlcXVlc3QiLCJvblJlZmVyIiwicmVmZXJSZXF1ZXN0Iiwib25Db250ZXh0RXJyb3IiLCJTVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0siLCJTVEFUVVNfV0FJVElOR19GT1JfUFJBQ0siLCJfcmVsaWFibGVQcm9ncmVzc1dhaXRGb3JQcmFjayIsIl9wcm9ncmVzcyIsInNlc3Npb25TdGF0ZSIsIlNlc3Npb25TdGF0ZSIsIkVhcmx5IiwiQWNrV2FpdCIsIkNvbmZpcm1lZCIsIlNUQVRVU19DQU5DRUxFRCIsIkNBTkNFTEVEIiwic2V0dXBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyIiwic2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zIiwiZ2VuZXJhdGVSZXNwb25zZU9mZmVyQW5zd2VyIiwiZ2V0Qm9keSIsInNldE9mZmVyQW5kR2V0QW5zd2VyIiwiZ2V0T2ZmZXIiLCJzaWduYWxpbmdTdGF0ZSIsIlNpZ25hbGluZ1N0YXRlIiwiU3RhYmxlIiwiSGF2ZUxvY2FsT2ZmZXIiLCJIYXZlUmVtb3RlT2ZmZXIiLCJvZmZlciIsIkNsb3NlZCIsImhhbmRsZVByYWNrT2ZmZXJBbnN3ZXIiLCJzZXRBbnN3ZXIiLCJwcmFja05ldmVyQXJyaXZlZCIsIndhaXRGb3JBcnJpdmFsT2ZQcmFjayIsIl9wcm9ncmVzc1dpdGhTRFAiLCJwcm9ncmVzc1Jlc3BvbnNlIiwiX3JlbGlhYmxlUHJvZ3Jlc3MiLCJ3YWl0aW5nRm9yUHJhY2siLCJvZmZlckFuc3dlciIsInByYWNrUmVzcG9uc2UiLCJwcmFja1dhaXRUaW1lb3V0VGltZXIiLCJyZWwxeHhSZXRyYW5zbWlzc2lvblRpbWVyIiwicHJhY2tSZXNwb25zZUJvZHkiLCJwcmFja0Fycml2ZWQiLCJOT19QUkFDSyIsInJlbDF4eFJldHJhbnNtaXNzaW9uIiwiTk9fQUNLIiwid2FpdGluZ0ZvclByYWNrUmVzb2x2ZSIsIndhaXRpbmdGb3JQcmFja1Byb21pc2UiLCJ3YWl0aW5nRm9yUHJhY2tSZWplY3QiLCJnZXRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyIiwiYW5zd2VyIiwic2RoIiwiYW5vbnltb3VzIiwib3V0Ym91bmQiLCJlYXJseU1lZGlhU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcnMiLCJpbnZpdGVXaXRob3V0U2RwIiwiaXNDYW5jZWxlZCIsInJlY2VpdmVkMTAwIiwic2VuZEludml0ZSIsIlNUQVRVU19JTlZJVEVfU0VOVCIsIldFQlJUQ19FUlJPUiIsImNhbmNlbFJlYXNvbiIsIm91dGdvaW5nSW52aXRlUmVxdWVzdCIsImludml0ZVJlc3BvbnNlIiwiYWNrQW5kQnllIiwib3V0Z29pbmdBY2tSZXF1ZXN0Iiwib3V0Z29pbmdCeWVSZXF1ZXN0IiwiZGlzcG9zZUVhcmx5TWVkaWEiLCJzZGhfMSIsIm9wdGlvbnNfMSIsIlNUQVRVU18xWFhfUkVDRUlWRUQiLCJyZXF1aXJlSGVhZGVyIiwicnNlcUhlYWRlciIsInJlc3BvbnNlUmVsaWFibGUiLCJpbmNsdWRlcyIsInNkaF8yIiwibW9yZVRoYW5PbmVUb25lIiwiZ2VuZXJhdGVJbnZhbGlkVG9uZUVycm9yIiwicmVnZXgiLCJ0b25lRm9yTXNnIiwiaW5pdENvbnRleHQiLCJkaXNwb3NlZCIsInN1YnNjcmlwdGlvbnMiLCJyZXRyeUFmdGVyVGltZXIiLCJzdWJzY3JpcHRpb24iLCJvbkFjY2VwdGVkIiwib25GYWlsZWQiLCJzdWNjZXNzIiwiZmFpbHVyZSIsIlN1YnNjcmliZUNsaWVudENvbnRleHQiLCJzdWJzY3JpYmVkIiwicmVxdWVzdFdpdGhTdWJzY3JpcHRpb24iLCJvbk5vdGlmeVRpbWVvdXQiLCJzZXJ2ZXIiLCJjb25uZWN0IiwiY29ubmVjdFByb21pc2UiLCJvdmVycmlkZUV2ZW50Iiwic2VuZFByb21pc2UiLCJkaXNjb25uZWN0IiwiZGlzY29ubmVjdFByb21pc2UiLCJhZnRlckNvbm5lY3RlZCIsImlzQ29ubmVjdGVkIiwid2FpdEZvckNvbm5lY3RlZCIsIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJfMSIsInVubG9hZExpc3RlbmVyIiwiU1RBVFVTX0lOSVQiLCJidWlsdGluRW5hYmxlZCIsImNvbm5lY3RvciIsIm5vcm1hbGl6ZWQiLCJTVEFUVVNfTk9UX1JFQURZIiwiQ09ORklHVVJBVElPTl9FUlJPUiIsInRyYW5zcG9ydENvbnN0cnVjdG9yIiwidHJhbnNwb3J0T3B0aW9ucyIsInVzZXJBZ2VudENvcmVDb25maWd1cmF0aW9uIiwidXNlckFnZW50Q29yZURlbGVnYXRlIiwiY2FsbF9pZCIsInJlcGxhY2VzX2Zyb21fdGFnIiwicmVwbGFjZXNfdG9fdGFnIiwidGFyZ2V0RGlhbG9nSWQiLCJ0YXJnZXREaWFsb2ciLCJlYXJseV9vbmx5IiwiaGFuZGxlSW52aXRlV2l0aFJlcGxhY2VzSGVhZGVyIiwiYXV0b1NlbmRBbkluaXRpYWxQcm92aXNpb25hbFJlc3BvbnNlIiwiaW5jb21pbmdNZXNzYWdlUmVxdWVzdCIsInNlcnZlckNvbnRleHQiLCJpbmNvbWluZ05vdGlmeVJlcXVlc3QiLCJhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnMiLCJpbmNvbWluZ1JlZmVyUmVxdWVzdCIsImFsbG93T3V0T2ZEaWFsb2dSZWZlcnMiLCJvblN1YnNjcmliZSIsImluY29taW5nU3Vic2NyaWJlUmVxdWVzdCIsIlVzZXJBZ2VudENvcmUiLCJyZWdpc3RlckNvbnRleHQiLCJyZWdpc3Rlck9wdGlvbnMiLCJhdXRvc3RhcnQiLCJpc1JlZ2lzdGVyZWQiLCJzdWIiLCJwdWIiLCJyZXEiLCJTVEFUVVNfVVNFUl9DTE9TRUQiLCJwdWJsaXNoZXIiLCJyZXNldCIsImF1dG9zdG9wIiwiZ29vZ2xlQ2hyb21lUGFja2FnZWRBcHAiLCJjaHJvbWUiLCJhcHAiLCJydW50aW1lIiwiU1RBVFVTX1NUQVJUSU5HIiwic2V0VHJhbnNwb3J0TGlzdGVuZXJzIiwiU1RBVFVTX1JFQURZIiwiaG9zdHBvcnRQYXJhbXMiLCJnZXRTdXBwb3J0ZWRSZXNwb25zZU9wdGlvbnMiLCJleHRyYVN1cHBvcnRlZCIsImFsbG93VW5yZWdpc3RlcmVkIiwiaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncyIsIm9wdGlvblRhZ1NldCIsIm9wdGlvblRhZyIsInVuaXF1ZSIsIk5FVFdPUktfRVJST1IiLCJvblRyYW5zcG9ydENvbm5lY3RlZCIsIm9uVHJhbnNwb3J0UmVjZWl2ZU1zZyIsIm1lc3NhZ2VTdHJpbmciLCJwYXJzZU1lc3NhZ2UiLCJoYXNNaW5pbXVtSGVhZGVycyIsIm1hbmRhdG9yeUhlYWRlcnNfMSIsInNpcGpzSWQiLCJjb250ZW50TGVuZ3RoIiwicmVjZWl2ZUluY29taW5nUmVxdWVzdEZyb21UcmFuc3BvcnQiLCJyZWNlaXZlSW5jb21pbmdSZXNwb25zZUZyb21UcmFuc3BvcnQiLCJjaGVja0F1dGhlbnRpY2F0aW9uRmFjdG9yeSIsImluaXRpYWxpemUiLCJjdXN0b20iLCJwYXNzd29yZCIsInVzZVByZWxvYWRlZFJvdXRlIiwiaGFja0lwSW5Db250YWN0IiwiaGFja1dzc0luVHJhbnNwb3J0IiwicGVlckNvbm5lY3Rpb25PcHRpb25zIiwiY29udGFjdE5hbWUiLCJjb250YWN0VHJhbnNwb3J0IiwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciIsImRlZmF1bHRGYWN0b3J5IiwiYXV0aG9yaXphdGlvblVzZXIiLCJleHBlcmltZW50YWxGZWF0dXJlcyIsImdldENvbmZpZ3VyYXRpb25DaGVjayIsIm9jdGV0Iiwic2tlbGV0b24iLCJvcHRpb25UYWdzXzEiLCJBTExPV0VEX01FVEhPRFMiLCJBQ0NFUFRFRF9CT0RZX1RZUEVTIiwiTUFYX0ZPUldBUkRTIiwiVEFHX0xFTkdUSCIsInNpcFVyaSIsInN1cHBvcnRlZE9wdGlvblRhZ3MiLCJTZXQiLCJ2aWFGb3JjZVJwb3J0IiwidHJhbnNwb3J0QWNjZXNzb3IiLCJEdG1mVHlwZSIsInNlc3Npb25fMSIsIk1vZGlmaWVycyIsIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlcl8xIiwib2JzZXJ2ZXIiLCJkdG1mU2VuZGVyIiwic2hvdWxkQWNxdWlyZU1lZGlhIiwiQ09OVEVOVF9UWVBFIiwiRElSRUNUSU9OIiwiTlVMTCIsIlNFTkRSRUNWIiwiU0VORE9OTFkiLCJSRUNWT05MWSIsIklOQUNUSVZFIiwiZGlyZWN0aW9uIiwiaWNlR2F0aGVyaW5nVGltZW91dCIsImluaXRQZWVyQ29ubmVjdGlvbiIsImNoZWNrQW5kRGVmYXVsdENvbnN0cmFpbnRzIiwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyIiwiZ2V0U2VuZGVycyIsInNlbmRlciIsImdldExvY2FsU3RyZWFtcyIsInN0cmVhbSIsImdldFRyYWNrcyIsImdldFJlbW90ZVN0cmVhbXMiLCJyZXNldEljZUdhdGhlcmluZ0NvbXBsZXRlIiwibmV3Q29uc3RyYWludHMiLCJhY3F1aXJlIiwiY3JlYXRlT2ZmZXJPckFuc3dlciIsIlJUQ09mZmVyT3B0aW9ucyIsInNlc3Npb25EZXNjcmlwdGlvbiIsImFsd2F5c0FjcXVpcmVNZWRpYUZpcnN0IiwibW9kaWZpZWREZXNjcmlwdGlvbiIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiZGlzYWJsZUF1ZGlvRmFsbGJhY2siLCJoYXNCcm93c2VyR2V0U2VuZGVyU3VwcG9ydCIsInNlbmRlcnMiLCJoYXNCcm93c2VyVHJhY2tTdXBwb3J0Iiwic3RyZWFtcyIsImF1ZGlvVHJhY2tzIiwiZ2V0QXVkaW9UcmFja3MiLCJjcmVhdGVEVE1GU2VuZGVyIiwiaW5zZXJ0RFRNRiIsImdldERpcmVjdGlvbiIsImdldE1lZGlhU3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwibWV0aG9kTmFtZSIsImNyZWF0ZUFuc3dlciIsImNyZWF0ZU9mZmVyIiwiY3JlYXRlUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCIsInNldExvY2FsRGVzY3JpcHRpb24iLCJ3YWl0Rm9ySWNlR2F0aGVyaW5nQ29tcGxldGUiLCJsb2NhbERlc2NyaXB0aW9uIiwic2V0RGlyZWN0aW9uIiwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIiwiYWRkRGVmYXVsdEljZUNoZWNraW5nVGltZW91dCIsImljZUNoZWNraW5nVGltZW91dCIsImFkZERlZmF1bHRJY2VTZXJ2ZXJzIiwicnRjQ29uZmlndXJhdGlvbiIsImljZVNlcnZlcnMiLCJ1cmxzIiwiZGVmYXVsdENvbnN0cmFpbnRzIiwiQm9vbGVhbiIsIlJUQ1BlZXJDb25uZWN0aW9uIiwidHJhY2tBZGRlZCIsIm9uYWRkc3RyZWFtIiwib25pY2VjYW5kaWRhdGUiLCJjYW5kaWRhdGUiLCJ0cmlnZ2VySWNlR2F0aGVyaW5nQ29tcGxldGUiLCJvbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlIiwiaWNlR2F0aGVyaW5nU3RhdGUiLCJpY2VHYXRoZXJpbmdUaW1lciIsIm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlIiwic3RhdGVFdmVudCIsImljZUNvbm5lY3Rpb25TdGF0ZSIsInJlbW92ZVRyYWNrIiwiYWRkU3RyZWFtIiwid2hlcmUiLCJvZmZlclN0YXRlIiwiaXNJY2VHYXRoZXJpbmdDb21wbGV0ZSIsImljZUdhdGhlcmluZ0RlZmVycmVkIiwiZGlyZWN0aW9uQ2hhbmdlZCIsImJ5ZV8xIiwiZW1pdHRlcl8xIiwiaW5mb18xIiwibWVzc2FnZV8xIiwibm90aWZpY2F0aW9uXzEiLCJyZWZlcnJhbF8xIiwic2Vzc2lvbl9zdGF0ZV8xIiwiX3N0YXRlRXZlbnRFbWl0dGVyIiwiX3VzZXJBZ2VudCIsIl9zZXNzaW9ucyIsIl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyIiwiRXN0YWJsaXNoaW5nIiwiRXN0YWJsaXNoZWQiLCJfYnllIiwiVGVybWluYXRpbmciLCJfYXNzZXJ0ZWRJZGVudGl0eSIsIl9kaWFsb2ciLCJfcmVwbGFjZWUiLCJfbWFrZUVtaXR0ZXIiLCJyZXF1ZXN0RGVsZWdhdGUiLCJjb3B5UmVxdWVzdE9wdGlvbnMiLCJpbmZvIiwiX2luZm8iLCJSZXF1ZXN0UGVuZGluZ0Vycm9yIiwid2l0aG91dFNkcCIsImFuc3dlck9wdGlvbnMiLCJzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzIiwiYW5zd2VyQm9keSIsIl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyIsIl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzIiwicm9sbGJhY2tPZmZlciIsIl9jb250YWN0Iiwib2ZmZXJPcHRpb25zIiwib2ZmZXJCb2R5IiwiX21lc3NhZ2UiLCJyZWZlckV4dHJhSGVhZGVycyIsInJlZmVyVG9TdHJpbmciLCJfcmVmZXIiLCJvbkFja1JlcXVlc3QiLCJfcmVuZGVyYm9keSIsIl9yZW5kZXJ0eXBlIiwib25CeWVSZXF1ZXN0IiwiQnllIiwib25JbmZvUmVxdWVzdCIsIkluZm8iLCJvbkludml0ZVJlcXVlc3QiLCJnZW5lcmF0ZVJlc3BvbnNlT2ZmZXJBbnN3ZXJJbkRpYWxvZyIsIm91dGdvaW5nUmVzcG9uc2UiLCJlcnJvclJvbGxiYWNrIiwib25NZXNzYWdlUmVxdWVzdCIsIk1lc3NhZ2UiLCJvbk5vdGlmeVJlcXVlc3QiLCJub3RpZmljYXRpb24iLCJOb3RpZmljYXRpb24iLCJvblByYWNrUmVxdWVzdCIsIm9uUmVmZXJSZXF1ZXN0IiwicmVmZXJyYWwiLCJSZWZlcnJhbCIsIm1ha2VJbnZpdGVyIiwiX3JlZmVycmFsSW52aXRlck9wdGlvbnMiLCJzZGhPcHRpb25zIiwic2RoTW9kaWZpZXJzIiwiYm9keUFuZENvbnRlbnRUeXBlIiwicm9sbGJhY2tEZXNjcmlwdGlvbiIsIkNvbnRlbnRUeXBlVW5zdXBwb3J0ZWRFcnJvciIsInNldFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIiLCJpbnZhbGlkVHJhbnNpdGlvbiIsInRleHQiLCJUcmFuc3BvcnRTdGF0dXMiLCJyZWNvbm5lY3Rpb25BdHRlbXB0cyIsIlNUQVRVU19DT05ORUNUSU5HIiwid3NTZXJ2ZXJzIiwiU1RBVFVTX09QRU4iLCJ3cyIsIm9uRXJyb3IiLCJzdGF0dXNBc3NlcnQiLCJmb3JjZSIsInRyYWNlU2lwIiwiZGlzY29ubmVjdGlvblByb21pc2UiLCJzdGF0dXNUcmFuc2l0aW9uIiwiU1RBVFVTX0NMT1NJTkciLCJkaXNjb25uZWN0RGVmZXJyZWRSZXNvbHZlIiwicmVjb25uZWN0VGltZXIiLCJzdG9wU2VuZGluZ0tlZXBBbGl2ZXMiLCJ3c1VyaSIsIlNUQVRVU19DTE9TRUQiLCJjb25uZWN0aW9uUHJvbWlzZSIsImdldE5leHRXc1NlcnZlciIsImNvbm5lY3REZWZlcnJlZFJlc29sdmUiLCJjb25uZWN0RGVmZXJyZWRSZWplY3QiLCJkaXNwb3NlV3MiLCJXZWJTb2NrZXQiLCJiaW5hcnlUeXBlIiwiY29ubmVjdGlvblRpbWVvdXQiLCJib3VuZE9uT3BlbiIsIm9uT3BlbiIsImJvdW5kT25NZXNzYWdlIiwiYm91bmRPbkNsb3NlIiwib25DbG9zZSIsImJvdW5kT25FcnJvciIsIm9uV2Vic29ja2V0RXJyb3IiLCJmaW5pc2hlZERhdGEiLCJjbGVhcktlZXBBbGl2ZVRpbWVvdXQiLCJmcm9tQ2hhckNvZGUiLCJVaW50OEFycmF5Iiwic3RhcnRTZW5kaW5nS2VlcEFsaXZlcyIsInJlY29ubmVjdCIsIm5vQXZhaWxhYmxlU2VydmVycyIsInJlc2V0U2VydmVyRXJyb3JTdGF0dXMiLCJtYXhSZWNvbm5lY3Rpb25BdHRlbXB0cyIsImlzRXJyb3IiLCJyZWNvbm5lY3Rpb25UaW1lb3V0IiwiY2FuZGlkYXRlcyIsIndzU2VydmVyIiwid2VpZ2h0Iiwic2VuZEtlZXBBbGl2ZSIsImtlZXBBbGl2ZURlYm91bmNlVGltZW91dCIsImtlZXBBbGl2ZURlYm91bmNlIiwidXBwZXJCb3VuZCIsImxvd2VyQm91bmQiLCJrZWVwQWxpdmVJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInJldHVybkNvbmZpZ3VyYXRpb24iLCJkZWZpbmVQcm9wZXJ0aWVzIiwid3NTZXJ2ZXJzXzEiLCJ1cmwiLCJpcyIsImJpdG1hcCIsIndyaXRhYmxlIiwiJGtleXMiLCJlbnVtQnVnS2V5cyIsImNlaWwiLCJjb3B5cmlnaHQiLCJzYWZlIiwiQ29uc3RydWN0b3IiLCJmb3JiaWRkZW5GaWVsZCIsImluY29taW5nX3JlcXVlc3RfbWVzc2FnZV8xIiwiaW5jb21pbmdfcmVzcG9uc2VfbWVzc2FnZV8xIiwib3V0Z29pbmdfcmVxdWVzdF9tZXNzYWdlXzEiLCJpc0JvZHkiLCJib2R5TGVnYWN5IiwiU3ludGF4RXJyb3IiLCJleHBlY3RlZCIsImZvdW5kIiwibG9jYXRpb24iLCJjYXB0dXJlU3RhY2tUcmFjZSIsImJ1aWxkTWVzc2FnZSIsImhleCIsImNoIiwiY2hhckNvZGVBdCIsImxpdGVyYWxFc2NhcGUiLCJjbGFzc0VzY2FwZSIsImRlc2NyaWJlRXhwZWN0YXRpb24iLCJleHBlY3RhdGlvbiIsImVzY2FwZWRQYXJ0cyIsImludmVydGVkIiwiZXhwZWN0ZWQxIiwiZGVzY3JpcHRpb25zIiwic29ydCIsImRlc2NyaWJlRXhwZWN0ZWQiLCJmb3VuZDEiLCJwZWckcmVzdWx0IiwicGVnJEZBSUxFRCIsInBlZyRzdGFydFJ1bGVJbmRpY2VzIiwiTmFtZV9BZGRyX0hlYWRlciIsIlJlY29yZF9Sb3V0ZSIsIlJlcXVlc3RfUmVzcG9uc2UiLCJTSVBfVVJJIiwiU3Vic2NyaXB0aW9uX1N0YXRlIiwiU3VwcG9ydGVkIiwiUmVxdWlyZSIsIlZpYSIsImFic29sdXRlVVJJIiwiQ2FsbF9JRCIsIkNvbnRlbnRfRGlzcG9zaXRpb24iLCJDb250ZW50X0xlbmd0aCIsIkNvbnRlbnRfVHlwZSIsIkNTZXEiLCJFdmVudCIsIkZyb20iLCJNYXhfRm9yd2FyZHMiLCJNaW5fU0UiLCJQcm94eV9BdXRoZW50aWNhdGUiLCJxdW90ZWRfc3RyaW5nIiwiUmVmZXJfVG8iLCJSZXBsYWNlcyIsIlNlc3Npb25fRXhwaXJlcyIsInN0dW5fVVJJIiwiVG8iLCJ0dXJuX1VSSSIsInV1aWQiLCJXV1dfQXV0aGVudGljYXRlIiwic2lwZnJhZyIsIlJlZmVycmVkX0J5IiwicGVnJHN0YXJ0UnVsZUluZGV4IiwicGVnJGNvbnN0cyIsInBlZyRsaXRlcmFsRXhwZWN0YXRpb24iLCJwZWckY2xhc3NFeHBlY3RhdGlvbiIsImNvbnRlbnRzIiwiaG9zdF90eXBlIiwidXJpX3BhcmFtcyIsInVyaV9oZWFkZXJzIiwidXJpX3NjaGVtZSIsInR0bCIsIm1hZGRyIiwiaHZhbHVlIiwic2lwX3ZlcnNpb24iLCJtdWx0aV9oZWFkZXIiLCJwZWckY3VyclBvcyIsIm9mZnNldCIsImRlbHRhX3NlY29uZHMiLCJjc2VxX3ZhbHVlIiwiZXZlbnRfdHlwZSIsImZvcndhcmRzIiwibWluX2V4cGlyZXMiLCJyZWFsbSIsIm5vbmNlIiwib3BhcXVlIiwiYWxnb3JpdGhtIiwicW9wX3ZhbHVlIiwicW9wIiwicmFja192YWx1ZSIsImZyb21fdGFnIiwidG9fdGFnIiwiaGVhZCIsInRhaWwiLCJyc2VxX3ZhbHVlIiwicmV0cnlfYWZ0ZXIiLCJ2aWFfdHRsX3ZhbHVlIiwidmlhX21hZGRyIiwidmlhX3JlY2VpdmVkIiwicmVjZWl2ZWQiLCJ2aWFfYnJhbmNoIiwicmVzcG9uc2VfcG9ydCIsInJwb3J0IiwidmlhX3Byb3RvY29sIiwidmlhX3RyYW5zcG9ydCIsInZpYV9zZW50X2J5X3BvcnQiLCJkZWx0YVNlY29uZHMiLCJlbmRwb2ludCIsInJlZnJlc2hlciIsInBlZyRieXRlY29kZSIsInBlZyRkZWNvZGUiLCJwZWckc2F2ZWRQb3MiLCJwZWckcG9zRGV0YWlsc0NhY2hlIiwiY29sdW1uIiwicGVnJG1heEZhaWxQb3MiLCJwZWckbWF4RmFpbEV4cGVjdGVkIiwicGVnJHNpbGVudEZhaWxzIiwicGVnJGNvbXB1dGVMb2NhdGlvbiIsInRleHQxIiwiaWdub3JlQ2FzZSIsInBlZyRjb21wdXRlUG9zRGV0YWlscyIsInBvcyIsImRldGFpbHMiLCJzdGFydFBvcyIsImVuZFBvcyIsInN0YXJ0UG9zRGV0YWlscyIsImVuZFBvc0RldGFpbHMiLCJwZWckZmFpbCIsInBlZyRidWlsZFN0cnVjdHVyZWRFcnJvciIsImxvY2F0aW9uMSIsInBlZyRwYXJzZVJ1bGUiLCJiYyIsImlwIiwiaXBzIiwiZW5kcyIsInN0YWNrIiwibWQ1XzEiLCJ1c2VybmFtZSIsIm5jIiwibmNIZXgiLCJjbm9uY2UiLCJ1cGRhdGVOY0hleCIsImNhbGN1bGF0ZVJlc3BvbnNlIiwiYXV0aFBhcmFtcyIsImhhMiIsImhhMSIsIkNyeXB0b0pTIiwiQ19saWIiLCJsaWIiLCJXb3JkQXJyYXkiLCJIYXNoZXIiLCJDX2FsZ28iLCJhbGdvIiwiVCIsImFicyIsInNpbiIsIk1ENSIsImV4dGVuZCIsIl9kb1Jlc2V0IiwiX2hhc2giLCJfZG9Qcm9jZXNzQmxvY2siLCJvZmZzZXRfaSIsIk1fb2Zmc2V0X2kiLCJIIiwid29yZHMiLCJNX29mZnNldF8wIiwiTV9vZmZzZXRfMSIsIk1fb2Zmc2V0XzIiLCJNX29mZnNldF8zIiwiTV9vZmZzZXRfNCIsIk1fb2Zmc2V0XzUiLCJNX29mZnNldF82IiwiTV9vZmZzZXRfNyIsIk1fb2Zmc2V0XzgiLCJNX29mZnNldF85IiwiTV9vZmZzZXRfMTAiLCJNX29mZnNldF8xMSIsIk1fb2Zmc2V0XzEyIiwiTV9vZmZzZXRfMTMiLCJNX29mZnNldF8xNCIsIk1fb2Zmc2V0XzE1IiwiRkYiLCJHRyIsIkhIIiwiSUkiLCJfZG9GaW5hbGl6ZSIsIl9kYXRhIiwiZGF0YVdvcmRzIiwibkJpdHNUb3RhbCIsIl9uRGF0YUJ5dGVzIiwibkJpdHNMZWZ0Iiwic2lnQnl0ZXMiLCJuQml0c1RvdGFsSCIsIm5CaXRzVG90YWxMIiwiX3Byb2Nlc3MiLCJoYXNoIiwiSF9pIiwieCIsIl9jcmVhdGVIZWxwZXIiLCJIbWFjTUQ1IiwiX2NyZWF0ZUhtYWNIZWxwZXIiLCJzdWJ0eXBlIiwiQmFzZSIsIm92ZXJyaWRlcyIsIm1peEluIiwiJHN1cGVyIiwiaW5zdGFuY2UiLCJwcm9wZXJ0aWVzIiwicHJvcGVydHlOYW1lIiwiZW5jb2RlciIsIkhleCIsIndvcmRBcnJheSIsInRoaXNXb3JkcyIsInRoYXRXb3JkcyIsInRoaXNTaWdCeXRlcyIsInRoYXRTaWdCeXRlcyIsImNsYW1wIiwidGhhdEJ5dGUiLCJuQnl0ZXMiLCJyY2FjaGUiLCJtX3ciLCJtX3oiLCJtYXNrIiwiX3IiLCJDX2VuYyIsImVuYyIsImhleENoYXJzIiwiYml0ZSIsImhleFN0ciIsImhleFN0ckxlbmd0aCIsIkxhdGluMSIsImxhdGluMUNoYXJzIiwibGF0aW4xU3RyIiwibGF0aW4xU3RyTGVuZ3RoIiwiVXRmOCIsImVzY2FwZSIsInV0ZjhTdHIiLCJ1bmVzY2FwZSIsIkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0iLCJfYXBwZW5kIiwiZG9GbHVzaCIsImRhdGFTaWdCeXRlcyIsImJsb2NrU2l6ZSIsIm5CbG9ja3NSZWFkeSIsIm5Xb3Jkc1JlYWR5IiwiX21pbkJ1ZmZlclNpemUiLCJuQnl0ZXNSZWFkeSIsInByb2Nlc3NlZFdvcmRzIiwiY2ZnIiwidXBkYXRlIiwibWVzc2FnZVVwZGF0ZSIsImZpbmFsaXplIiwiaGFzaGVyIiwiSE1BQyIsImZyb21IZWFkZXIiLCJjYWxsSWRIZWFkZXIiLCJjU2VxSGVhZGVyIiwidmlhSGVhZGVycyIsInByZXZpb3VzIiwiY3VycmVudCIsInRvSGVhZGVyIiwic3VwcG9ydGVkSGVhZGVyIiwidXNlckFnZW50SGVhZGVyIiwiZXh0ZW5zaW9uSGVhZGVycyIsImhlYWRlclN0YXJ0IiwicGFydGlhbEVuZCIsImhlYWRlckVuZCIsImhjb2xvbkluZGV4IiwiaGVhZGVyTmFtZSIsImhlYWRlclZhbHVlIiwiZmlyc3RMaW5lIiwiYm9keVN0YXJ0IiwiYnllX3VzZXJfYWdlbnRfY2xpZW50XzEiLCJieWVfdXNlcl9hZ2VudF9zZXJ2ZXJfMSIsImluZm9fdXNlcl9hZ2VudF9jbGllbnRfMSIsImluZm9fdXNlcl9hZ2VudF9zZXJ2ZXJfMSIsIm1lc3NhZ2VfdXNlcl9hZ2VudF9jbGllbnRfMSIsIm1lc3NhZ2VfdXNlcl9hZ2VudF9zZXJ2ZXJfMSIsIm5vdGlmeV91c2VyX2FnZW50X2NsaWVudF8xIiwicHJhY2tfdXNlcl9hZ2VudF9jbGllbnRfMSIsInByYWNrX3VzZXJfYWdlbnRfc2VydmVyXzEiLCJyZV9pbnZpdGVfdXNlcl9hZ2VudF9jbGllbnRfMSIsInJlX2ludml0ZV91c2VyX2FnZW50X3NlcnZlcl8xIiwicmVmZXJfdXNlcl9hZ2VudF9jbGllbnRfMSIsInJlZmVyX3VzZXJfYWdlbnRfc2VydmVyXzEiLCJTZXNzaW9uRGlhbG9nIiwiaW5pdGlhbFRyYW5zYWN0aW9uIiwiX3NpZ25hbGluZ1N0YXRlIiwiYWNrV2FpdCIsInN0YXJ0Mnh4UmV0cmFuc21pc3Npb25UaW1lciIsIl9vZmZlciIsIl9hbnN3ZXIiLCJzdGFydFJlSW52aXRlMnh4UmV0cmFuc21pc3Npb25UaW1lciIsInJlbGlhYmxlU2VxdWVuY2VHdWFyZCIsIl9yb2xsYmFja09mZmVyIiwiX3JvbGxiYWNrQW5zd2VyIiwidHJhbnNhY3Rpb25fMSIsInRpbWVvdXRfMSIsInJldHJhbnNtaXNzaW9uXzEiLCJyZXRyYW5zbWl0QWNjZXB0ZWRSZXNwb25zZSIsInN0YXRlQ2hhbmdlZF8xIiwidHJhbnNhY3Rpb25fMiIsInRpbWVvdXRfMiIsInJldHJhbnNtaXNzaW9uXzIiLCJzdGF0ZUNoYW5nZWRfMiIsInNlcnZlcl90cmFuc2FjdGlvbl8xIiwic3RvcFByb2dyZXNzRXh0ZW5zaW9uVGltZXIiLCJJIiwiTCIsImxhc3RQcm92aXNpb25hbFJlc3BvbnNlIiwibGFzdEZpbmFsUmVzcG9uc2UiLCJzdGFydFByb2dyZXNzRXh0ZW5zaW9uVGltZXIiLCJ0aW1lcl9MIiwidGltZXJfSCIsInRpbWVyX0kiLCJwcm9ncmVzc0V4dGVuc2lvblRpbWVyIiwidGltZXJfRyIsInRpbWVyX0YiLCJLIiwidGltZXJfSyIsIkoiLCJsYXN0UmVzcG9uc2UiLCJ0aW1lcl9KIiwibG9nZ2VyXzEiLCJfbGV2ZWwiLCJsb2dnZXJzIiwibmV3TGV2ZWwiLCJfY29ubmVjdG9yIiwibGV2ZWxUb0xvZyIsInByaW50IiwicHJlZml4IiwidXNlcl9hZ2VudHNfMSIsImFjY2VwdGVkQm9keVR5cGVzIiwic3Vic2NyaWJlcnMiLCJjbGVhciIsInN1YnNjcmliZXIiLCJJbnZpdGVVc2VyQWdlbnRDbGllbnQiLCJQdWJsaXNoVXNlckFnZW50Q2xpZW50IiwiUmVnaXN0ZXJVc2VyQWdlbnRDbGllbnQiLCJTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQiLCJyZXF1ZXN0VVJJIiwiZGVmYXVsdE9wdGlvbnMiLCJyZWNlaXZlUmVxdWVzdEZyb21UcmFuc3BvcnQiLCJyZWNlaXZlUmVzcG9uc2VGcm9tVHJhbnNwb3J0IiwidHJhbnNhY3Rpb25JZCIsIkludml0ZVVzZXJBZ2VudFNlcnZlciIsInJ1cmlNYXRjaGVzIiwidmFsdWVzIiwic29tZSIsInJlY2VpdmVJbnNpZGVEaWFsb2dSZXF1ZXN0IiwicmVjZWl2ZU91dHNpZGVEaWFsb2dSZXF1ZXN0IiwiZXZlbnRfMSIsInN1YnNjcmliZXJJZCIsImRpYWxvZ0lkIiwiYWNjZXB0SGVhZGVyIiwiUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIiLCJvblJlZ2lzdGVyIiwiU3Vic2NyaWJlVXNlckFnZW50U2VydmVyIiwidXNlckFnZW50Q2xpZW50IiwiQ2FuY2VsVXNlckFnZW50Q2xpZW50IiwiZGlhbG9nc18xIiwiY29uZmlybWVkRGlhbG9nQWNrcyIsImNvbmZpcm1lZERpYWxvZ3MiLCJlYXJseURpYWxvZ3MiLCJlYXJseURpYWxvZyIsInNlc3Npb25fMiIsInNlc3Npb25fMyIsImNvbmZpcm1lZERpYWxvZyIsInJlY29yZFJvdXRlSGVhZGVyIiwiY29udGFjdEhlYWRlciIsIlJlU3Vic2NyaWJlVXNlckFnZW50U2VydmVyIiwic3Vic2NyaXB0aW9uX2RpYWxvZ18xIiwic3Vic2NyaXB0aW9uRXhwaXJlc1JlcXVlc3RlZCIsIndhaXROb3RpZnlTdGFydCIsIk1JTl9EVVJBVElPTiIsIk1BWF9EVVJBVElPTiIsIkRFRkFVTFRfRFVSQVRJT04iLCJNSU5fSU5URVJfVE9ORV9HQVAiLCJERUZBVUxUX0lOVEVSX1RPTkVfR0FQIiwib3duZXIiLCJvcmlnaW5hdG9yIiwiaW5jb21pbmdCeWVSZXF1ZXN0IiwiZXZlbnRFbWl0dGVyIiwiZXZlbnROYW1lIiwiU2Vzc2lvblRlcm1pbmF0ZWRFcnJvciIsIlN0YXRlVHJhbnNpdGlvbkVycm9yIiwiaW5jb21pbmdJbmZvUmVxdWVzdCIsImludml0ZXIiLCJ0YXJnZXRVUkkiLCJfbWFrZUludml0ZXIiLCJfcmVmZXJyZWQiLCJfcmVmZXJyYWwiLCJTaW1wbGVfMSIsIlNpbXBsZSIsIlNpbXBsZVN0YXR1cyIsImJyb3dzZXJVYSIsImlzU2FmYXJpIiwiaXNGaXJlZm94IiwiU1RBVFVTX0NPTVBMRVRFRCIsInNldHVwU2Vzc2lvbiIsImRlc3RpbmF0aW9uIiwiY2hlY2tSZWdpc3RyYXRpb24iLCJhdXRvcGxheSIsImxvY2FsIiwidm9sdW1lIiwiU1RBVFVTX05FVyIsImhhbmd1cCIsIlNUQVRVU19DT05ORUNURUQiLCJ0b2dnbGVNdXRlIiwic2V0dXBSZW1vdGVNZWRpYSIsInNldHVwTG9jYWxNZWRpYSIsImxvY2FsU3RyZWFtXzEiLCJraW5kIiwiY2xlYW51cE1lZGlhIiwicGF1c2UiLCJvbkVuZGVkIiwiZGVzdHJveU1lZGlhIiwiZW5hYmxlZCIsImdldFZpZGVvVHJhY2tzIiwiX2RlZmluZVByb3BlcnR5IiwiX2RlZmluZVByb3BlcnR5MiIsInByb3BzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIiRPYmplY3QiLCJ2YWx1ZU9mIiwiV2Vha01hcCIsIkl0ZXJhdG9ycyIsIlRPX1NUUklOR19UQUciLCJET01JdGVyYWJsZXMiLCJOQU1FIiwiQ29sbGVjdGlvbiIsInByb3RvIiwiYWRkVG9VbnNjb3BhYmxlcyIsInRvSU9iamVjdCIsIml0ZXJhdGVkIiwiX2siLCJBcmd1bWVudHMiLCJMSUJSQVJZIiwicmVkZWZpbmUiLCIkaXRlckNyZWF0ZSIsInNldFRvU3RyaW5nVGFnIiwiQlVHR1kiLCJyZXR1cm5UaGlzIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldE1ldGhvZCIsIkRFRl9WQUxVRVMiLCJWQUxVRVNfQlVHIiwiJG5hdGl2ZSIsIiRkZWZhdWx0IiwiJGVudHJpZXMiLCIkYW55TmF0aXZlIiwiZFBzIiwiSUVfUFJPVE8iLCJFbXB0eSIsImNyZWF0ZURpY3QiLCJpZnJhbWVEb2N1bWVudCIsImlmcmFtZSIsInN0eWxlIiwiZGlzcGxheSIsImNvbnRlbnRXaW5kb3ciLCJvcGVuIiwid3JpdGUiLCJsdCIsIlByb3BlcnRpZXMiLCJnZXRLZXlzIiwiYXJyYXlJbmRleE9mIiwibmFtZXMiLCJ0b0Fic29sdXRlSW5kZXgiLCJJU19JTkNMVURFUyIsImVsIiwiZnJvbUluZGV4IiwiZG9jdW1lbnRFbGVtZW50IiwiT2JqZWN0UHJvdG8iLCJJbnRlcm5hbE1hcCIsImVhY2giLCJ3ZWFrIiwiTkFUSVZFX1dFQUtfTUFQIiwiSVNfSUUxMSIsIkFjdGl2ZVhPYmplY3QiLCJ1bmNhdWdodEZyb3plblN0b3JlIiwidWZzdG9yZSIsIndyYXBwZXIiLCIkV2Vha01hcCIsImdldENvbnN0cnVjdG9yIiwiX2YiLCJzcGVjaWVzQ29uc3RydWN0b3IiLCJvcmlnaW5hbCIsIlNQRUNJRVMiLCJERVNDUklQVE9SUyIsImdPUFMiLCJwSUUiLCIkYXNzaWduIiwiQSIsImFMZW4iLCJnZXRTeW1ib2xzIiwiaXNFbnVtIiwicmVkZWZpbmVBbGwiLCJhbkluc3RhbmNlIiwiZm9yT2YiLCJjcmVhdGVBcnJheU1ldGhvZCIsIiRoYXMiLCJhcnJheUZpbmQiLCJhcnJheUZpbmRJbmRleCIsIl9sIiwiVW5jYXVnaHRGcm96ZW5TdG9yZSIsImZpbmRVbmNhdWdodEZyb3plbiIsImVudHJ5IiwiQURERVIiLCJBcnJheVByb3RvIiwiY2xhc3NvZiIsImdldEl0ZXJhdG9yTWV0aG9kIiwiQVJHIiwidHJ5R2V0IiwiY2FsbGVlIiwiZmFpbHMiLCJjb21tb24iLCJJU19XRUFLIiwiSVNfQURERVIiLCJzZXRTdHJvbmciLCJDT0xMRUNUSU9OIiwib2YiLCJtYXBwaW5nIiwibWFwRm4iLCJuZXh0SXRlbSIsIkNkY3RzRGV2aWNlIiwiY29uZmlnIiwicGF0aCIsImFycmF5aWZ5Iiwic3R1blNlcnZlcnMiLCJ0dXJuU2VydmVycyIsIl9lbnN1cmVDb25uZWN0aXZpdHlXaXRoU2lwU2VydmVyIiwic2lwVUFDb25maWciLCJhdXRob3JpemF0aW9uVXNlcnNpcCIsImxvZ0xldmVsIiwiYXR0ZW1wdHMiLCJfYWN0aXZlQ2FsbCIsImluY29taW5nQ2FsbCIsInBob25lTnVtYmVyIiwibWFrZUNhbGwiLCJwbGF5ZXIiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJpdGVtIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxP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T3BlLEtBQUsraEUsYyx5QkFNM0IsU0FBWUUsR0FHVixPQUZBamlFLEtBQUtrNkMsT0FBUyxJQUFJNTBCLHFCQUFtQnRsQixLQUFLcTRDLFdBQVlyNEMsS0FBSytoRSxZQUFZMXRDLFNBQVU0dEMsR0FDakZqaUUsS0FBS2s2QyxPQUFPenRCLFFBQ0x6c0IsS0FBS2s2QyxTLGtCQU9kLFNBQUsxakIsR0FDSCxJQUFJdEIsRUFBS2wxQixLQUFLK2hFLFlBQVkxdEMsU0FBU1EsMEJBQTBCTSxlQUN6RDZmLEVBQWM5ZixFQUFHNGUsa0JBQWtCLEdBQUdtQixpQkFNMUMsT0FISUQsRUFBWSxLQUNkQSxFQUFZLEdBQUdtbEIsU0FBVzNqQyxHQUVyQnRCLEksa0JBT1QsU0FBS3lCLEdBQ0gsT0FBSUEsR0FDRjMyQixLQUFLK2hFLFlBQVkxdEMsU0FBU3VDLE9BQ25CNTJCLEtBQUsraEUsWUFBWTF0QyxXQUV4QnIwQixLQUFLK2hFLFlBQVkxdEMsU0FBU3dDLFNBQ25CNzJCLEtBQUsraEUsWUFBWTF0QyxZLG9CQVM1QixXQUNFcjBCLEtBQUsraEUsWUFBWTF0QyxTQUFTckgsYyw4Q0FTNUIsV0FDRSxJQUNFLElBQUlxMUMsRUFBTSxJQUFJQyxlQUNkRCxFQUFJcnhELGlCQUFpQixTQUFTLFdBQzVCZixRQUFRaXBDLEtBQUssdUZBRWZtcEIsRUFBSWpGLEtBQUssTUFBVCxrQkFBMkJwOUQsS0FBS2txQixLQUFoQyxZQUF3Q2xxQixLQUFLbXFCLE9BQVEsR0FDckRrNEMsRUFBSW5oRCxPQUNKLE1BQU8xZ0IsVSw4QkF0V2F3TixLQTRXMUIsU0FBU3V6RCxFQUFTZ0IsR0FDaEIsR0FBSTFpRSxNQUFNeWpDLFFBQVFpL0IsR0FDaEIsT0FBT0EsRUFBS2owRCxNQUFNLEdBRWxCLElBQUlvQyxFQUFNLEdBRVYsT0FEQUEsRUFBSWpOLEtBQUs4K0QsR0FDRjd4RCIsImZpbGUiOiJjZGN0cy1zaXBqcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImNkY3RzLXNpcGpzXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImNkY3RzLXNpcGpzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImNkY3RzLXNpcGpzXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTk0KTtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jbGllbnQtdHJhbnNhY3Rpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW52aXRlLWNsaWVudC10cmFuc2FjdGlvblwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbnZpdGUtc2VydmVyLXRyYW5zYWN0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL25vbi1pbnZpdGUtY2xpZW50LXRyYW5zYWN0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL25vbi1pbnZpdGUtc2VydmVyLXRyYW5zYWN0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2ludml0ZS1jbGllbnQtdHJhbnNhY3Rpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2VydmVyLXRyYW5zYWN0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uLXN0YXRlXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBBIGNvcmUgbGlicmFyeSBpbXBsZW1lbnRpbmcgbG93IGxldmVsIFNJUCBwcm90b2NvbCBlbGVtZW50cy5cbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbi8vIERpcmVjdG9yaWVzXG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9kaWFsb2dzXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2V4Y2VwdGlvbnNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbG9nXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21lc3NhZ2VzXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3Nlc3Npb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3Vic2NyaXB0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uc1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91c2VyLWFnZW50LWNvcmVcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXNlci1hZ2VudHNcIiksIGV4cG9ydHMpO1xuLy8gRmlsZXNcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RpbWVyc1wiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuLy8gRGlyZWN0b3JpZXNcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21ldGhvZHNcIiksIGV4cG9ydHMpO1xuLy8gRmlsZXNcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2JvZHlcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZGlnZXN0LWF1dGhlbnRpY2F0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2dyYW1tYXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW5jb21pbmctbWVzc2FnZVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbmNvbWluZy1yZXF1ZXN0LW1lc3NhZ2VcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW5jb21pbmctcmVzcG9uc2UtbWVzc2FnZVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9uYW1lLWFkZHItaGVhZGVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL291dGdvaW5nLXJlcXVlc3QtbWVzc2FnZVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9vdXRnb2luZy1yZXNwb25zZVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9wYXJhbWV0ZXJzXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhcnNlclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91cmlcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG4vKipcbiAqIFVzZXIgQWdlbnQgQ2xpZW50IChVQUMpLlxuICogQHJlbWFya3NcbiAqIEEgdXNlciBhZ2VudCBjbGllbnQgaXMgYSBsb2dpY2FsIGVudGl0eVxuICogdGhhdCBjcmVhdGVzIGEgbmV3IHJlcXVlc3QsIGFuZCB0aGVuIHVzZXMgdGhlIGNsaWVudFxuICogdHJhbnNhY3Rpb24gc3RhdGUgbWFjaGluZXJ5IHRvIHNlbmQgaXQuICBUaGUgcm9sZSBvZiBVQUMgbGFzdHNcbiAqIG9ubHkgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGF0IHRyYW5zYWN0aW9uLiAgSW4gb3RoZXIgd29yZHMsIGlmXG4gKiBhIHBpZWNlIG9mIHNvZnR3YXJlIGluaXRpYXRlcyBhIHJlcXVlc3QsIGl0IGFjdHMgYXMgYSBVQUMgZm9yXG4gKiB0aGUgZHVyYXRpb24gb2YgdGhhdCB0cmFuc2FjdGlvbi4gIElmIGl0IHJlY2VpdmVzIGEgcmVxdWVzdFxuICogbGF0ZXIsIGl0IGFzc3VtZXMgdGhlIHJvbGUgb2YgYSB1c2VyIGFnZW50IHNlcnZlciBmb3IgdGhlXG4gKiBwcm9jZXNzaW5nIG9mIHRoYXQgdHJhbnNhY3Rpb24uXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTZcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVc2VyQWdlbnRDbGllbnQodHJhbnNhY3Rpb25Db25zdHJ1Y3RvciwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbkNvbnN0cnVjdG9yID0gdHJhbnNhY3Rpb25Db25zdHJ1Y3RvcjtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLmNoYWxsZW5nZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMubG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoXCJzaXAudXNlci1hZ2VudC1jbGllbnRcIik7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb24uZGlzcG9zZSgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUsIFwibG9nZ2VyRmFjdG9yeVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29yZS5sb2dnZXJGYWN0b3J5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZSwgXCJ0cmFuc2FjdGlvblwiLCB7XG4gICAgICAgIC8qKiBUaGUgdHJhbnNhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVxdWVzdC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2FjdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2luY2UgcmVxdWVzdHMgb3RoZXIgdGhhbiBJTlZJVEUgYXJlIHJlc3BvbmRlZCB0byBpbW1lZGlhdGVseSwgc2VuZGluZyBhXG4gICAgICogQ0FOQ0VMIGZvciBhIG5vbi1JTlZJVEUgcmVxdWVzdCB3b3VsZCBhbHdheXMgY3JlYXRlIGEgcmFjZSBjb25kaXRpb24uXG4gICAgICogQSBDQU5DRUwgcmVxdWVzdCBTSE9VTEQgTk9UIGJlIHNlbnQgdG8gY2FuY2VsIGEgcmVxdWVzdCBvdGhlciB0aGFuIElOVklURS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQ2FuY2VsIG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKHJlYXNvbiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoIXRoaXMudHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2UudG8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2UuZnJvbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgcHJvY2VkdXJlcyBhcmUgdXNlZCB0byBjb25zdHJ1Y3QgYSBDQU5DRUwgcmVxdWVzdC4gIFRoZVxuICAgICAgICAvLyBSZXF1ZXN0LVVSSSwgQ2FsbC1JRCwgVG8sIHRoZSBudW1lcmljIHBhcnQgb2YgQ1NlcSwgYW5kIEZyb20gaGVhZGVyXG4gICAgICAgIC8vIGZpZWxkcyBpbiB0aGUgQ0FOQ0VMIHJlcXVlc3QgTVVTVCBiZSBpZGVudGljYWwgdG8gdGhvc2UgaW4gdGhlXG4gICAgICAgIC8vIHJlcXVlc3QgYmVpbmcgY2FuY2VsbGVkLCBpbmNsdWRpbmcgdGFncy4gIEEgQ0FOQ0VMIGNvbnN0cnVjdGVkIGJ5IGFcbiAgICAgICAgLy8gY2xpZW50IE1VU1QgaGF2ZSBvbmx5IGEgc2luZ2xlIFZpYSBoZWFkZXIgZmllbGQgdmFsdWUgbWF0Y2hpbmcgdGhlXG4gICAgICAgIC8vIHRvcCBWaWEgdmFsdWUgaW4gdGhlIHJlcXVlc3QgYmVpbmcgY2FuY2VsbGVkLiAgVXNpbmcgdGhlIHNhbWUgdmFsdWVzXG4gICAgICAgIC8vIGZvciB0aGVzZSBoZWFkZXIgZmllbGRzIGFsbG93cyB0aGUgQ0FOQ0VMIHRvIGJlIG1hdGNoZWQgd2l0aCB0aGVcbiAgICAgICAgLy8gcmVxdWVzdCBpdCBjYW5jZWxzIChTZWN0aW9uIDkuMiBpbmRpY2F0ZXMgaG93IHN1Y2ggbWF0Y2hpbmcgb2NjdXJzKS5cbiAgICAgICAgLy8gSG93ZXZlciwgdGhlIG1ldGhvZCBwYXJ0IG9mIHRoZSBDU2VxIGhlYWRlciBmaWVsZCBNVVNUIGhhdmUgYSB2YWx1ZVxuICAgICAgICAvLyBvZiBDQU5DRUwuICBUaGlzIGFsbG93cyBpdCB0byBiZSBpZGVudGlmaWVkIGFuZCBwcm9jZXNzZWQgYXMgYVxuICAgICAgICAvLyB0cmFuc2FjdGlvbiBpbiBpdHMgb3duIHJpZ2h0IChTZWUgU2VjdGlvbiAxNykuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOS4xXG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5jb3JlLm1ha2VPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5DQU5DRUwsIHRoaXMubWVzc2FnZS5ydXJpLCB0aGlzLm1lc3NhZ2UuZnJvbS51cmksIHRoaXMubWVzc2FnZS50by51cmksIHtcbiAgICAgICAgICAgIHRvVGFnOiB0aGlzLm1lc3NhZ2UudG9UYWcsXG4gICAgICAgICAgICBmcm9tVGFnOiB0aGlzLm1lc3NhZ2UuZnJvbVRhZyxcbiAgICAgICAgICAgIGNhbGxJZDogdGhpcy5tZXNzYWdlLmNhbGxJZCxcbiAgICAgICAgICAgIGNzZXE6IHRoaXMubWVzc2FnZS5jc2VxXG4gICAgICAgIH0sIG9wdGlvbnMuZXh0cmFIZWFkZXJzKTtcbiAgICAgICAgLy8gVE9ETzogUmV2aXNpdCB0aGlzLlxuICAgICAgICAvLyBUaGUgQ0FOQ0VMIG5lZWRzIHRvIHVzZSB0aGUgc2FtZSBicmFuY2ggcGFyYW1ldGVyIHNvIHRoYXRcbiAgICAgICAgLy8gaXQgbWF0Y2hlcyB0aGUgSU5WSVRFIHRyYW5zYWN0aW9uLCBidXQgdGhpcyBpcyBhIGhhY2t5IHdheSB0byBkbyB0aGlzLlxuICAgICAgICAvLyBPciBhdCB0aGUgdmVyeSBsZWFzdCBub3Qgd2VsbCBkb2N1bWVudGVkLiBJZiB0aGUgdGhlIGJyYW5jaCBwYXJhbWV0ZXJcbiAgICAgICAgLy8gaXMgc2V0IG9uIHRoZSBvdXRnb2luZyByZXF1ZXN0LCB0aGUgdHJhbnNhY3Rpb24gd2lsbCB1c2UgaXQuXG4gICAgICAgIC8vIE90aGVyd2lzZSB0aGUgdHJhbnNhY3Rpb24gd2lsbCBtYWtlIGEgbmV3IG9uZS5cbiAgICAgICAgbWVzc2FnZS5icmFuY2ggPSB0aGlzLm1lc3NhZ2UuYnJhbmNoO1xuICAgICAgICBpZiAodGhpcy5tZXNzYWdlLmhlYWRlcnMuUm91dGUpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaGVhZGVycy5Sb3V0ZSA9IHRoaXMubWVzc2FnZS5oZWFkZXJzLlJvdXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWFzb24pIHtcbiAgICAgICAgICAgIG1lc3NhZ2Uuc2V0SGVhZGVyKFwiUmVhc29uXCIsIHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgbm8gcHJvdmlzaW9uYWwgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQsIHRoZSBDQU5DRUwgcmVxdWVzdCBNVVNUXG4gICAgICAgIC8vIE5PVCBiZSBzZW50OyByYXRoZXIsIHRoZSBjbGllbnQgTVVTVCB3YWl0IGZvciB0aGUgYXJyaXZhbCBvZiBhXG4gICAgICAgIC8vIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGJlZm9yZSBzZW5kaW5nIHRoZSByZXF1ZXN0LiBJZiB0aGUgb3JpZ2luYWxcbiAgICAgICAgLy8gcmVxdWVzdCBoYXMgZ2VuZXJhdGVkIGEgZmluYWwgcmVzcG9uc2UsIHRoZSBDQU5DRUwgU0hPVUxEIE5PVCBiZVxuICAgICAgICAvLyBzZW50LCBhcyBpdCBpcyBhbiBlZmZlY3RpdmUgbm8tb3AsIHNpbmNlIENBTkNFTCBoYXMgbm8gZWZmZWN0IG9uXG4gICAgICAgIC8vIHJlcXVlc3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGdlbmVyYXRlZCBhIGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMVxuICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKSB7XG4gICAgICAgICAgICB2YXIgdWFjID0gbmV3IFVzZXJBZ2VudENsaWVudCh0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgdGhpcy5jb3JlLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb24ub25jZShcInN0YXRlQ2hhbmdlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnRyYW5zYWN0aW9uICYmIF90aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVhYyA9IG5ldyBVc2VyQWdlbnRDbGllbnQodHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sIF90aGlzLmNvcmUsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgYSA0MDEgKFVuYXV0aG9yaXplZCkgb3IgNDA3IChQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZClcbiAgICAgKiByZXNwb25zZSBpcyByZWNlaXZlZCwgdGhlIFVBQyBTSE9VTEQgZm9sbG93IHRoZSBhdXRob3JpemF0aW9uXG4gICAgICogcHJvY2VkdXJlcyBvZiBTZWN0aW9uIDIyLjIgYW5kIFNlY3Rpb24gMjIuMyB0byByZXRyeSB0aGUgcmVxdWVzdCB3aXRoXG4gICAgICogY3JlZGVudGlhbHMuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMy41XG4gICAgICogMjIgVXNhZ2Ugb2YgSFRUUCBBdXRoZW50aWNhdGlvblxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMjJcbiAgICAgKiAyMi4xIEZyYW1ld29ya1xuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMjIuMVxuICAgICAqIDIyLjIgVXNlci10by1Vc2VyIEF1dGhlbnRpY2F0aW9uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0yMi4yXG4gICAgICogMjIuMyBQcm94eS10by1Vc2VyIEF1dGhlbnRpY2F0aW9uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0yMi4zXG4gICAgICpcbiAgICAgKiBGSVhNRTogVGhpcyBcImd1YXJkIGZvciBhbmQgcmV0cnkgdGhlIHJlcXVlc3Qgd2l0aCBjcmVkZW50aWFsc1wiXG4gICAgICogaW1wbGVtZW50YXRpb24gaXMgbm90IGNvbXBsZXRlIGFuZCBhdCBiZXN0IG1pbmltYWxseSBwYXNzYWJsZS5cbiAgICAgKiBAcGFyYW0gcmVzcG9uc2UgLSBUaGUgaW5jb21pbmcgcmVzcG9uc2UgdG8gZ3VhcmQuXG4gICAgICogQHBhcmFtIGRpYWxvZyAtIElmIGRlZmluZWQsIHRoZSBkaWFsb2cgd2l0aGluIHdoaWNoIHRoZSByZXNwb25zZSB3YXMgcmVjZWl2ZWQuXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcHJvZ3JhbSBleGVjdXRpb24gaXMgdG8gY29udGludWUgaW4gdGhlIGJyYW5jaCBpbiBxdWVzdGlvbi5cbiAgICAgKiAgICAgICAgICBPdGhlcndpc2UgdGhlIHJlcXVlc3QgaXMgcmV0cmllZCB3aXRoIGNyZWRlbnRpYWxzIGFuZCBjdXJyZW50IHJlcXVlc3QgcHJvY2Vzc2luZyBtdXN0IHN0b3AuXG4gICAgICovXG4gICAgVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS5hdXRoZW50aWNhdGlvbkd1YXJkID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGRpYWxvZykge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG1lc3NhZ2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKCFzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zZSBzdGF0dXMgY29kZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgNDAxIChVbmF1dGhvcml6ZWQpIG9yIDQwNyAoUHJveHkgQXV0aGVudGljYXRpb24gUmVxdWlyZWQpXG4gICAgICAgIC8vIHJlc3BvbnNlIGlzIHJlY2VpdmVkLCB0aGUgVUFDIFNIT1VMRCBmb2xsb3cgdGhlIGF1dGhvcml6YXRpb25cbiAgICAgICAgLy8gcHJvY2VkdXJlcyBvZiBTZWN0aW9uIDIyLjIgYW5kIFNlY3Rpb24gMjIuMyB0byByZXRyeSB0aGUgcmVxdWVzdCB3aXRoXG4gICAgICAgIC8vIGNyZWRlbnRpYWxzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMS4zLjVcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgIT09IDQwMSAmJiBzdGF0dXNDb2RlICE9PSA0MDcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCBhbmQgcGFyc2UgdGhlIGFwcHJvcHJpYXRlIFdXVy1BdXRoZW50aWNhdGUgb3IgUHJveHktQXV0aGVudGljYXRlIGhlYWRlci5cbiAgICAgICAgdmFyIGNoYWxsZW5nZTtcbiAgICAgICAgdmFyIGF1dGhvcml6YXRpb25IZWFkZXJOYW1lO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PT0gNDAxKSB7XG4gICAgICAgICAgICBjaGFsbGVuZ2UgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwid3d3LWF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25IZWFkZXJOYW1lID0gXCJhdXRob3JpemF0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFsbGVuZ2UgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwicHJveHktYXV0aGVudGljYXRlXCIpO1xuICAgICAgICAgICAgYXV0aG9yaXphdGlvbkhlYWRlck5hbWUgPSBcInByb3h5LWF1dGhvcml6YXRpb25cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBWZXJpZnkgaXQgc2VlbXMgYSB2YWxpZCBjaGFsbGVuZ2UuXG4gICAgICAgIGlmICghY2hhbGxlbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKHN0YXR1c0NvZGUgKyBcIiB3aXRoIHdyb25nIG9yIG1pc3NpbmcgY2hhbGxlbmdlLCBjYW5ub3QgYXV0aGVudGljYXRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXZvaWQgaW5maW5pdGUgYXV0aGVudGljYXRpb25zLlxuICAgICAgICBpZiAodGhpcy5jaGFsbGVuZ2VkICYmICh0aGlzLnN0YWxlIHx8IGNoYWxsZW5nZS5zdGFsZSAhPT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oc3RhdHVzQ29kZSArIFwiIGFwcGFyZW50bHkgaW4gYXV0aGVudGljYXRpb24gbG9vcCwgY2Fubm90IGF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCBjcmVkZW50aWFscy5cbiAgICAgICAgaWYgKCF0aGlzLmNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uYXV0aGVudGljYXRpb25GYWN0b3J5KCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVW5hYmxlIHRvIG9idGFpbiBjcmVkZW50aWFscywgY2Fubm90IGF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY2hhbGxlbmdlIGlzIHJlYWxseSB2YWxpZC5cbiAgICAgICAgaWYgKCF0aGlzLmNyZWRlbnRpYWxzLmF1dGhlbnRpY2F0ZSh0aGlzLm1lc3NhZ2UsIGNoYWxsZW5nZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbGxlbmdlZCA9IHRydWU7XG4gICAgICAgIGlmIChjaGFsbGVuZ2Uuc3RhbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhbGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHJlc3BvbnNlIHRvIG91dCBvZiBkaWFsb2cgcmVxdWVzdCwgYXNzdW1lIGluY3JlbWVudGluZyB0aGUgQ1NlcSB3aWxsIHN1ZmZpY2UuXG4gICAgICAgIHZhciBjc2VxID0gdGhpcy5tZXNzYWdlLmNzZXEgKz0gMTtcbiAgICAgICAgLy8gSWYgcmVzcG9uc2UgdG8gaW4gZGlhbG9nIHJlcXVlc3QsIGdldCBhIHZhbGlkIG5leHQgQ1NlcSBudW1iZXIuXG4gICAgICAgIGlmIChkaWFsb2cgJiYgZGlhbG9nLmxvY2FsU2VxdWVuY2VOdW1iZXIpIHtcbiAgICAgICAgICAgIGRpYWxvZy5pbmNyZW1lbnRMb2NhbFNlcXVlbmNlTnVtYmVyKCk7XG4gICAgICAgICAgICBjc2VxID0gdGhpcy5tZXNzYWdlLmNzZXEgPSBkaWFsb2cubG9jYWxTZXF1ZW5jZU51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc3NhZ2Uuc2V0SGVhZGVyKFwiY3NlcVwiLCBjc2VxICsgXCIgXCIgKyB0aGlzLm1lc3NhZ2UubWV0aG9kKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlLnNldEhlYWRlcihhdXRob3JpemF0aW9uSGVhZGVyTmFtZSwgdGhpcy5jcmVkZW50aWFscy50b1N0cmluZygpKTtcbiAgICAgICAgLy8gQ2FsbGluZyBpbml0IChhZ2Fpbikgd2lsbCBzd2FwIG91dCBvdXIgZXhpc3RpbmcgY2xpZW50IHRyYW5zYWN0aW9uIHdpdGggYSBuZXcgb25lLlxuICAgICAgICAvLyBGSVhNRTogSEFDSzogQW4gYXNzdW1wdGlvbiBpcyBiZWluZyBtYWRlIGhlcmUgdGhhdCB0aGVyZSBpcyBub3RoaW5nIHRoYXQgbmVlZHMgdG9cbiAgICAgICAgLy8gYmUgY2xlYW5lZCB1cCBiZXlvbmQgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiB3aGljaCBpcyBiZWluZyByZXBsYWNlZC4gRm9yIGV4YW1wbGUsXG4gICAgICAgIC8vIGl0IGlzIGFzc3VtZWQgdGhhdCBubyBlYXJseSBkaWFsb2dzIGhhdmUgYmVlbiBjcmVhdGVkLlxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogOC4xLjMuMSBUcmFuc2FjdGlvbiBMYXllciBFcnJvcnNcbiAgICAgKiBJbiBzb21lIGNhc2VzLCB0aGUgcmVzcG9uc2UgcmV0dXJuZWQgYnkgdGhlIHRyYW5zYWN0aW9uIGxheWVyIHdpbGxcbiAgICAgKiBub3QgYmUgYSBTSVAgbWVzc2FnZSwgYnV0IHJhdGhlciBhIHRyYW5zYWN0aW9uIGxheWVyIGVycm9yLiAgV2hlbiBhXG4gICAgICogdGltZW91dCBlcnJvciBpcyByZWNlaXZlZCBmcm9tIHRoZSB0cmFuc2FjdGlvbiBsYXllciwgaXQgTVVTVCBiZVxuICAgICAqIHRyZWF0ZWQgYXMgaWYgYSA0MDggKFJlcXVlc3QgVGltZW91dCkgc3RhdHVzIGNvZGUgaGFzIGJlZW4gcmVjZWl2ZWQuXG4gICAgICogSWYgYSBmYXRhbCB0cmFuc3BvcnQgZXJyb3IgaXMgcmVwb3J0ZWQgYnkgdGhlIHRyYW5zcG9ydCBsYXllclxuICAgICAqIChnZW5lcmFsbHksIGR1ZSB0byBmYXRhbCBJQ01QIGVycm9ycyBpbiBVRFAgb3IgY29ubmVjdGlvbiBmYWlsdXJlcyBpblxuICAgICAqIFRDUCksIHRoZSBjb25kaXRpb24gTVVTVCBiZSB0cmVhdGVkIGFzIGEgNTAzIChTZXJ2aWNlIFVuYXZhaWxhYmxlKVxuICAgICAqIHN0YXR1cyBjb2RlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuMVxuICAgICAqL1xuICAgIFVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUub25SZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlVzZXIgYWdlbnQgY2xpZW50IHJlcXVlc3QgdGltZWQgb3V0LiBHZW5lcmF0aW5nIGludGVybmFsIDQwOCBSZXF1ZXN0IFRpbWVvdXQuXCIpO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyBtZXNzYWdlc18xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlKCk7XG4gICAgICAgIG1lc3NhZ2Uuc3RhdHVzQ29kZSA9IDQwODtcbiAgICAgICAgbWVzc2FnZS5yZWFzb25QaHJhc2UgPSBcIlJlcXVlc3QgVGltZW91dFwiO1xuICAgICAgICB0aGlzLnJlY2VpdmVSZXNwb25zZShtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogOC4xLjMuMSBUcmFuc2FjdGlvbiBMYXllciBFcnJvcnNcbiAgICAgKiBJbiBzb21lIGNhc2VzLCB0aGUgcmVzcG9uc2UgcmV0dXJuZWQgYnkgdGhlIHRyYW5zYWN0aW9uIGxheWVyIHdpbGxcbiAgICAgKiBub3QgYmUgYSBTSVAgbWVzc2FnZSwgYnV0IHJhdGhlciBhIHRyYW5zYWN0aW9uIGxheWVyIGVycm9yLiAgV2hlbiBhXG4gICAgICogdGltZW91dCBlcnJvciBpcyByZWNlaXZlZCBmcm9tIHRoZSB0cmFuc2FjdGlvbiBsYXllciwgaXQgTVVTVCBiZVxuICAgICAqIHRyZWF0ZWQgYXMgaWYgYSA0MDggKFJlcXVlc3QgVGltZW91dCkgc3RhdHVzIGNvZGUgaGFzIGJlZW4gcmVjZWl2ZWQuXG4gICAgICogSWYgYSBmYXRhbCB0cmFuc3BvcnQgZXJyb3IgaXMgcmVwb3J0ZWQgYnkgdGhlIHRyYW5zcG9ydCBsYXllclxuICAgICAqIChnZW5lcmFsbHksIGR1ZSB0byBmYXRhbCBJQ01QIGVycm9ycyBpbiBVRFAgb3IgY29ubmVjdGlvbiBmYWlsdXJlcyBpblxuICAgICAqIFRDUCksIHRoZSBjb25kaXRpb24gTVVTVCBiZSB0cmVhdGVkIGFzIGEgNTAzIChTZXJ2aWNlIFVuYXZhaWxhYmxlKVxuICAgICAqIHN0YXR1cyBjb2RlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuMVxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRyYW5zcG9ydCBlcnJvclxuICAgICAqL1xuICAgIFVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJVc2VyIGFnZW50IGNsaWVudCByZXF1ZXN0IHRyYW5zcG9ydCBlcnJvci4gR2VuZXJhdGluZyBpbnRlcm5hbCA1MDMgU2VydmljZSBVbmF2YWlsYWJsZS5cIik7XG4gICAgICAgIHZhciBtZXNzYWdlID0gbmV3IG1lc3NhZ2VzXzEuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UoKTtcbiAgICAgICAgbWVzc2FnZS5zdGF0dXNDb2RlID0gNTAzO1xuICAgICAgICBtZXNzYWdlLnJlYXNvblBocmFzZSA9IFwiU2VydmljZSBVbmF2YWlsYWJsZVwiO1xuICAgICAgICB0aGlzLnJlY2VpdmVSZXNwb25zZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgYSByZXNwb25zZSBmcm9tIHRoZSB0cmFuc2FjdGlvbiBsYXllci5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuYXV0aGVudGljYXRpb25HdWFyZChtZXNzYWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gbWVzc2FnZS5zdGF0dXNDb2RlID8gbWVzc2FnZS5zdGF0dXNDb2RlLnRvU3RyaW5nKCkgOiBcIlwiO1xuICAgICAgICBpZiAoIXN0YXR1c0NvZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc3BvbnNlIHN0YXR1cyBjb2RlIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIC9eMTAwJC8udGVzdChzdGF0dXNDb2RlKTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uVHJ5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25UcnlpbmcoeyBtZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUHJvZ3Jlc3MoeyBtZXNzYWdlOiBtZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25BY2NlcHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdCh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjNbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWRpcmVjdCh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXls0LTZdWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25SZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlamVjdCh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXR1cyBjb2RlIFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gV2UgYXJlIHRoZSB0cmFuc2FjdGlvbiB1c2VyLlxuICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIGxvZ2dlckZhY3Rvcnk6IHRoaXMubG9nZ2VyRmFjdG9yeSxcbiAgICAgICAgICAgIG9uUmVxdWVzdFRpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uUmVxdWVzdFRpbWVvdXQoKTsgfSxcbiAgICAgICAgICAgIG9uU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdGVybWluYXRlZCB0cmFuc2FjdGlvbiBmcm9tIHRoZSBjb3JlLlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLnVzZXJBZ2VudENsaWVudHMuZGVsZXRlKHVzZXJBZ2VudENsaWVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IEhBQ0s6IE91ciB0cmFuc2FjdGlvbiBtYXkgaGF2ZSBiZWVuIHN3YXBwZWQgb3V0IHdpdGggYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYXV0aGVudGljYXRpb24gKHNlZSBhYm92ZSksIHNvIG1ha2Ugc3VyZSB0byBvbmx5IHRvIGRpc3Bvc2Ugb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gb3Vyc2VsdmVzIGlmIHRoaXMgdGVybWluYXRpbmcgdHJhbnNhY3Rpb24gaXMgb3VyIGN1cnJlbnQgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbiA9PT0gX3RoaXMuX3RyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25UcmFuc3BvcnRFcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5vblRyYW5zcG9ydEVycm9yKGVycm9yKTsgfSxcbiAgICAgICAgICAgIHJlY2VpdmVSZXNwb25zZTogZnVuY3Rpb24gKG1lc3NhZ2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShtZXNzYWdlKTsgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gd2l0aCB1cyBhcyB0aGUgdXNlci5cbiAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gbmV3IHRoaXMudHJhbnNhY3Rpb25Db25zdHJ1Y3Rvcih0aGlzLm1lc3NhZ2UsIHRoaXMuY29yZS50cmFuc3BvcnQsIHVzZXIpO1xuICAgICAgICB0aGlzLl90cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uO1xuICAgICAgICAvLyBBZGQgdGhlIG5ldyB0cmFuc2FjdGlvbiB0byB0aGUgY29yZS5cbiAgICAgICAgdmFyIHVzZXJBZ2VudENsaWVudElkID0gdHJhbnNhY3Rpb24uaWQgKyB0cmFuc2FjdGlvbi5yZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgdGhpcy5jb3JlLnVzZXJBZ2VudENsaWVudHMuc2V0KHVzZXJBZ2VudENsaWVudElkLCB0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBVc2VyQWdlbnRDbGllbnQ7XG59KCkpO1xuZXhwb3J0cy5Vc2VyQWdlbnRDbGllbnQgPSBVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8vIGVudW1zIGNhbid0IHJlYWxseSBiZSBkZWNsYXJlZCwgc28gdGhleSBhcmUgc2V0IGhlcmUuXG4vLyBwdWxsZWQgb3V0IG9mIGluZGl2aWR1YWwgZmlsZXMgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRGlhbG9nU3RhdHVzO1xuKGZ1bmN0aW9uIChEaWFsb2dTdGF0dXMpIHtcbiAgICBEaWFsb2dTdGF0dXNbRGlhbG9nU3RhdHVzW1wiU1RBVFVTX0VBUkxZXCJdID0gMV0gPSBcIlNUQVRVU19FQVJMWVwiO1xuICAgIERpYWxvZ1N0YXR1c1tEaWFsb2dTdGF0dXNbXCJTVEFUVVNfQ09ORklSTUVEXCJdID0gMl0gPSBcIlNUQVRVU19DT05GSVJNRURcIjtcbn0pKERpYWxvZ1N0YXR1cyA9IGV4cG9ydHMuRGlhbG9nU3RhdHVzIHx8IChleHBvcnRzLkRpYWxvZ1N0YXR1cyA9IHt9KSk7XG52YXIgU2Vzc2lvblN0YXR1cztcbihmdW5jdGlvbiAoU2Vzc2lvblN0YXR1cykge1xuICAgIC8vIFNlc3Npb24gc3RhdGVzXG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX05VTExcIl0gPSAwXSA9IFwiU1RBVFVTX05VTExcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfSU5WSVRFX1NFTlRcIl0gPSAxXSA9IFwiU1RBVFVTX0lOVklURV9TRU5UXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTXzFYWF9SRUNFSVZFRFwiXSA9IDJdID0gXCJTVEFUVVNfMVhYX1JFQ0VJVkVEXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX0lOVklURV9SRUNFSVZFRFwiXSA9IDNdID0gXCJTVEFUVVNfSU5WSVRFX1JFQ0VJVkVEXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUlwiXSA9IDRdID0gXCJTVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX0FOU1dFUkVEXCJdID0gNV0gPSBcIlNUQVRVU19BTlNXRVJFRFwiO1xuICAgIFNlc3Npb25TdGF0dXNbU2Vzc2lvblN0YXR1c1tcIlNUQVRVU19XQUlUSU5HX0ZPUl9QUkFDS1wiXSA9IDZdID0gXCJTVEFUVVNfV0FJVElOR19GT1JfUFJBQ0tcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfV0FJVElOR19GT1JfQUNLXCJdID0gN10gPSBcIlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0tcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfQ0FOQ0VMRURcIl0gPSA4XSA9IFwiU1RBVFVTX0NBTkNFTEVEXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX1RFUk1JTkFURURcIl0gPSA5XSA9IFwiU1RBVFVTX1RFUk1JTkFURURcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0tcIl0gPSAxMF0gPSBcIlNUQVRVU19BTlNXRVJFRF9XQUlUSU5HX0ZPUl9QUkFDS1wiO1xuICAgIFNlc3Npb25TdGF0dXNbU2Vzc2lvblN0YXR1c1tcIlNUQVRVU19FQVJMWV9NRURJQVwiXSA9IDExXSA9IFwiU1RBVFVTX0VBUkxZX01FRElBXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX0NPTkZJUk1FRFwiXSA9IDEyXSA9IFwiU1RBVFVTX0NPTkZJUk1FRFwiO1xufSkoU2Vzc2lvblN0YXR1cyA9IGV4cG9ydHMuU2Vzc2lvblN0YXR1cyB8fCAoZXhwb3J0cy5TZXNzaW9uU3RhdHVzID0ge30pKTtcbnZhciBUeXBlU3RyaW5ncztcbihmdW5jdGlvbiAoVHlwZVN0cmluZ3MpIHtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIkNsaWVudENvbnRleHRcIl0gPSAwXSA9IFwiQ2xpZW50Q29udGV4dFwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiQ29uZmlndXJhdGlvbkVycm9yXCJdID0gMV0gPSBcIkNvbmZpZ3VyYXRpb25FcnJvclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiRGlhbG9nXCJdID0gMl0gPSBcIkRpYWxvZ1wiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiRGlnZXN0QXV0aGVudGljYXRpb25cIl0gPSAzXSA9IFwiRGlnZXN0QXV0aGVudGljYXRpb25cIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIkRUTUZcIl0gPSA0XSA9IFwiRFRNRlwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiSW5jb21pbmdNZXNzYWdlXCJdID0gNV0gPSBcIkluY29taW5nTWVzc2FnZVwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiSW5jb21pbmdSZXF1ZXN0XCJdID0gNl0gPSBcIkluY29taW5nUmVxdWVzdFwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiSW5jb21pbmdSZXNwb25zZVwiXSA9IDddID0gXCJJbmNvbWluZ1Jlc3BvbnNlXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJJbnZhbGlkU3RhdGVFcnJvclwiXSA9IDhdID0gXCJJbnZhbGlkU3RhdGVFcnJvclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiSW52aXRlQ2xpZW50Q29udGV4dFwiXSA9IDldID0gXCJJbnZpdGVDbGllbnRDb250ZXh0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJJbnZpdGVTZXJ2ZXJDb250ZXh0XCJdID0gMTBdID0gXCJJbnZpdGVTZXJ2ZXJDb250ZXh0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJMb2dnZXJcIl0gPSAxMV0gPSBcIkxvZ2dlclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiTG9nZ2VyRmFjdG9yeVwiXSA9IDEyXSA9IFwiTG9nZ2VyRmFjdG9yeVwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiTWV0aG9kUGFyYW1ldGVyRXJyb3JcIl0gPSAxM10gPSBcIk1ldGhvZFBhcmFtZXRlckVycm9yXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJOYW1lQWRkckhlYWRlclwiXSA9IDE0XSA9IFwiTmFtZUFkZHJIZWFkZXJcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIk5vdFN1cHBvcnRlZEVycm9yXCJdID0gMTVdID0gXCJOb3RTdXBwb3J0ZWRFcnJvclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiT3V0Z29pbmdSZXF1ZXN0XCJdID0gMTZdID0gXCJPdXRnb2luZ1JlcXVlc3RcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlBhcmFtZXRlcnNcIl0gPSAxN10gPSBcIlBhcmFtZXRlcnNcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlB1Ymxpc2hDb250ZXh0XCJdID0gMThdID0gXCJQdWJsaXNoQ29udGV4dFwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiUmVmZXJDbGllbnRDb250ZXh0XCJdID0gMTldID0gXCJSZWZlckNsaWVudENvbnRleHRcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlJlZmVyU2VydmVyQ29udGV4dFwiXSA9IDIwXSA9IFwiUmVmZXJTZXJ2ZXJDb250ZXh0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJSZWdpc3RlckNvbnRleHRcIl0gPSAyMV0gPSBcIlJlZ2lzdGVyQ29udGV4dFwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiUmVuZWdvdGlhdGlvbkVycm9yXCJdID0gMjJdID0gXCJSZW5lZ290aWF0aW9uRXJyb3JcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlJlcXVlc3RTZW5kZXJcIl0gPSAyM10gPSBcIlJlcXVlc3RTZW5kZXJcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlNlcnZlckNvbnRleHRcIl0gPSAyNF0gPSBcIlNlcnZlckNvbnRleHRcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlNlc3Npb25cIl0gPSAyNV0gPSBcIlNlc3Npb25cIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcIl0gPSAyNl0gPSBcIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvclwiXSA9IDI3XSA9IFwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXJcIl0gPSAyOF0gPSBcIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiU3Vic2NyaXB0aW9uXCJdID0gMjldID0gXCJTdWJzY3JpcHRpb25cIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlRyYW5zcG9ydFwiXSA9IDMwXSA9IFwiVHJhbnNwb3J0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJVQVwiXSA9IDMxXSA9IFwiVUFcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlVSSVwiXSA9IDMyXSA9IFwiVVJJXCI7XG59KShUeXBlU3RyaW5ncyA9IGV4cG9ydHMuVHlwZVN0cmluZ3MgfHwgKGV4cG9ydHMuVHlwZVN0cmluZ3MgPSB7fSkpO1xuLy8gVUEgc3RhdHVzIGNvZGVzXG52YXIgVUFTdGF0dXM7XG4oZnVuY3Rpb24gKFVBU3RhdHVzKSB7XG4gICAgVUFTdGF0dXNbVUFTdGF0dXNbXCJTVEFUVVNfSU5JVFwiXSA9IDBdID0gXCJTVEFUVVNfSU5JVFwiO1xuICAgIFVBU3RhdHVzW1VBU3RhdHVzW1wiU1RBVFVTX1NUQVJUSU5HXCJdID0gMV0gPSBcIlNUQVRVU19TVEFSVElOR1wiO1xuICAgIFVBU3RhdHVzW1VBU3RhdHVzW1wiU1RBVFVTX1JFQURZXCJdID0gMl0gPSBcIlNUQVRVU19SRUFEWVwiO1xuICAgIFVBU3RhdHVzW1VBU3RhdHVzW1wiU1RBVFVTX1VTRVJfQ0xPU0VEXCJdID0gM10gPSBcIlNUQVRVU19VU0VSX0NMT1NFRFwiO1xuICAgIFVBU3RhdHVzW1VBU3RhdHVzW1wiU1RBVFVTX05PVF9SRUFEWVwiXSA9IDRdID0gXCJTVEFUVVNfTk9UX1JFQURZXCI7XG59KShVQVN0YXR1cyA9IGV4cG9ydHMuVUFTdGF0dXMgfHwgKGV4cG9ydHMuVUFTdGF0dXMgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZShcIi4uL2V4Y2VwdGlvbnNcIik7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzL3V0aWxzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbi8qKlxuICogVXNlciBBZ2VudCBTZXJ2ZXIgKFVBUykuXG4gKiBAcmVtYXJrc1xuICogQSB1c2VyIGFnZW50IHNlcnZlciBpcyBhIGxvZ2ljYWwgZW50aXR5XG4gKiB0aGF0IGdlbmVyYXRlcyBhIHJlc3BvbnNlIHRvIGEgU0lQIHJlcXVlc3QuICBUaGUgcmVzcG9uc2VcbiAqIGFjY2VwdHMsIHJlamVjdHMsIG9yIHJlZGlyZWN0cyB0aGUgcmVxdWVzdC4gIFRoaXMgcm9sZSBsYXN0c1xuICogb25seSBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoYXQgdHJhbnNhY3Rpb24uICBJbiBvdGhlciB3b3JkcywgaWZcbiAqIGEgcGllY2Ugb2Ygc29mdHdhcmUgcmVzcG9uZHMgdG8gYSByZXF1ZXN0LCBpdCBhY3RzIGFzIGEgVUFTIGZvclxuICogdGhlIGR1cmF0aW9uIG9mIHRoYXQgdHJhbnNhY3Rpb24uICBJZiBpdCBnZW5lcmF0ZXMgYSByZXF1ZXN0XG4gKiBsYXRlciwgaXQgYXNzdW1lcyB0aGUgcm9sZSBvZiBhIHVzZXIgYWdlbnQgY2xpZW50IGZvciB0aGVcbiAqIHByb2Nlc3Npbmcgb2YgdGhhdCB0cmFuc2FjdGlvbi5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tNlxuICogQHB1YmxpY1xuICovXG52YXIgVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVzZXJBZ2VudFNlcnZlcih0cmFuc2FjdGlvbkNvbnN0cnVjdG9yLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ29uc3RydWN0b3IgPSB0cmFuc2FjdGlvbkNvbnN0cnVjdG9yO1xuICAgICAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gdGhpcy5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC51c2VyLWFnZW50LXNlcnZlclwiKTtcbiAgICAgICAgdGhpcy50b1RhZyA9IG1lc3NhZ2UudG9UYWcgPyBtZXNzYWdlLnRvVGFnIDogdXRpbHNfMS5uZXdUYWcoKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5kaXNwb3NlKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50U2VydmVyLnByb3RvdHlwZSwgXCJsb2dnZXJGYWN0b3J5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb3JlLmxvZ2dlckZhY3Rvcnk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLCBcInRyYW5zYWN0aW9uXCIsIHtcbiAgICAgICAgLyoqIFRoZSB0cmFuc2FjdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhpcyByZXF1ZXN0LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc3RhdHVzQ29kZTogMjAwIH07IH1cbiAgICAgICAgaWYgKCF0aGlzLmFjY2VwdGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgYWNjZXB0YWJsZSBpbiBzdGF0ZSBcIiArIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGU7XG4gICAgICAgIGlmIChzdGF0dXNDb2RlIDwgMjAwIHx8IHN0YXR1c0NvZGUgPiAyOTkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXR1c0NvZGU6IFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gdGhpcy5yZXBseShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc3RhdHVzQ29kZTogMTgwIH07IH1cbiAgICAgICAgaWYgKCF0aGlzLnByb2dyZXNzYWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlRXJyb3IodGhpcy5tZXNzYWdlLm1ldGhvZCArIFwiIG5vdCBwcm9ncmVzc2FibGUgaW4gc3RhdGUgXCIgKyB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDEwMSB8fCBzdGF0dXNDb2RlID4gMTk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNwb25zZSA9IHRoaXMucmVwbHkob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuICAgIFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucmVkaXJlY3QgPSBmdW5jdGlvbiAoY29udGFjdHMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiAzMDIgfTsgfVxuICAgICAgICBpZiAoIXRoaXMucmVkaXJlY3RhYmxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGVFcnJvcih0aGlzLm1lc3NhZ2UubWV0aG9kICsgXCIgbm90IHJlZGlyZWN0YWJsZSBpbiBzdGF0ZSBcIiArIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGU7XG4gICAgICAgIGlmIChzdGF0dXNDb2RlIDwgMzAwIHx8IHN0YXR1c0NvZGUgPiAzOTkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXR1c0NvZGU6IFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRhY3RIZWFkZXJzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGNvbnRhY3RzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRhY3QpIHsgcmV0dXJuIGNvbnRhY3RIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIGNvbnRhY3QudG9TdHJpbmcoKSk7IH0pO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuY29uY2F0KGNvbnRhY3RIZWFkZXJzKTtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gdGhpcy5yZXBseShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDQ4MCB9OyB9XG4gICAgICAgIGlmICghdGhpcy5yZWplY3RhYmxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGVFcnJvcih0aGlzLm1lc3NhZ2UubWV0aG9kICsgXCIgbm90IHJlamVjdGFibGUgaW4gc3RhdGUgXCIgKyB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDQwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNwb25zZSA9IHRoaXMucmVwbHkob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuICAgIFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUudHJ5aW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyeWluZ2FibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgdHJ5aW5nYWJsZSBpbiBzdGF0ZSBcIiArIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gdGhpcy5yZXBseSh7IHN0YXR1c0NvZGU6IDEwMCB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlIFVBUyBkaWQgbm90IGZpbmQgYSBtYXRjaGluZyB0cmFuc2FjdGlvbiBmb3IgdGhlIENBTkNFTFxuICAgICAqIGFjY29yZGluZyB0byB0aGUgcHJvY2VkdXJlIGFib3ZlLCBpdCBTSE9VTEQgcmVzcG9uZCB0byB0aGUgQ0FOQ0VMXG4gICAgICogd2l0aCBhIDQ4MSAoQ2FsbCBMZWcvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3QpLiAgSWYgdGhlIHRyYW5zYWN0aW9uXG4gICAgICogZm9yIHRoZSBvcmlnaW5hbCByZXF1ZXN0IHN0aWxsIGV4aXN0cywgdGhlIGJlaGF2aW9yIG9mIHRoZSBVQVMgb25cbiAgICAgKiByZWNlaXZpbmcgYSBDQU5DRUwgcmVxdWVzdCBkZXBlbmRzIG9uIHdoZXRoZXIgaXQgaGFzIGFscmVhZHkgc2VudCBhXG4gICAgICogZmluYWwgcmVzcG9uc2UgZm9yIHRoZSBvcmlnaW5hbCByZXF1ZXN0LiAgSWYgaXQgaGFzLCB0aGUgQ0FOQ0VMXG4gICAgICogcmVxdWVzdCBoYXMgbm8gZWZmZWN0IG9uIHRoZSBwcm9jZXNzaW5nIG9mIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBub1xuICAgICAqIGVmZmVjdCBvbiBhbnkgc2Vzc2lvbiBzdGF0ZSwgYW5kIG5vIGVmZmVjdCBvbiB0aGUgcmVzcG9uc2VzIGdlbmVyYXRlZFxuICAgICAqIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdC4gIElmIHRoZSBVQVMgaGFzIG5vdCBpc3N1ZWQgYSBmaW5hbCByZXNwb25zZVxuICAgICAqIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdCwgaXRzIGJlaGF2aW9yIGRlcGVuZHMgb24gdGhlIG1ldGhvZCBvZiB0aGVcbiAgICAgKiBvcmlnaW5hbCByZXF1ZXN0LiAgSWYgdGhlIG9yaWdpbmFsIHJlcXVlc3Qgd2FzIGFuIElOVklURSwgdGhlIFVBU1xuICAgICAqIFNIT1VMRCBpbW1lZGlhdGVseSByZXNwb25kIHRvIHRoZSBJTlZJVEUgd2l0aCBhIDQ4NyAoUmVxdWVzdFxuICAgICAqIFRlcm1pbmF0ZWQpLiAgQSBDQU5DRUwgcmVxdWVzdCBoYXMgbm8gaW1wYWN0IG9uIHRoZSBwcm9jZXNzaW5nIG9mXG4gICAgICogdHJhbnNhY3Rpb25zIHdpdGggYW55IG90aGVyIG1ldGhvZCBkZWZpbmVkIGluIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gSW5jb21pbmcgQ0FOQ0VMIHJlcXVlc3QuXG4gICAgICovXG4gICAgVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5yZWNlaXZlQ2FuY2VsID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gTm90ZTogQ3VycmVudGx5IENBTkNFTCBpcyBiZWluZyBoYW5kbGVkIGFzIGEgc3BlY2lhbCBjYXNlLlxuICAgICAgICAvLyBObyBVQVMgaXMgY3JlYXRlZCB0byBoYW5kbGUgdGhlIENBTkNFTCBhbmQgdGhlIHJlc3BvbnNlIHRvXG4gICAgICAgIC8vIGl0IENBTkNFTCBpcyBiZWluZyBoYW5kbGVkIHN0YXRlbGVzc2x5IGJ5IHRoZSB1c2VyIGFnZW50IGNvcmUuXG4gICAgICAgIC8vIEFzIHN1Y2gsIHRoZXJlIGlzIGN1cnJlbnRseSBubyB3YXkgdG8gZXh0ZXJuYWxseSBpbXBhY3QgdGhlXG4gICAgICAgIC8vIHJlc3BvbnNlIHRvIHRoZSBhIENBTkNFTCByZXF1ZXN0LlxuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uQ2FuY2VsKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uQ2FuY2VsKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50U2VydmVyLnByb3RvdHlwZSwgXCJhY2NlcHRhYmxlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc2FjdGlvbiB0eXBlLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUsIFwicHJvZ3Jlc3NhYmxlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MzIwI3NlY3Rpb24tNC4xXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHRyYW5zYWN0aW9uIHR5cGUuXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50U2VydmVyLnByb3RvdHlwZSwgXCJyZWRpcmVjdGFibGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5UcnlpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNhY3Rpb24gdHlwZS5cIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLCBcInJlamVjdGFibGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5UcnlpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNhY3Rpb24gdHlwZS5cIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLCBcInRyeWluZ2FibGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNhY3Rpb24gdHlwZS5cIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFdoZW4gYSBVQVMgd2lzaGVzIHRvIGNvbnN0cnVjdCBhIHJlc3BvbnNlIHRvIGEgcmVxdWVzdCwgaXQgZm9sbG93c1xuICAgICAqIHRoZSBnZW5lcmFsIHByb2NlZHVyZXMgZGV0YWlsZWQgaW4gdGhlIGZvbGxvd2luZyBzdWJzZWN0aW9ucy5cbiAgICAgKiBBZGRpdGlvbmFsIGJlaGF2aW9ycyBzcGVjaWZpYyB0byB0aGUgcmVzcG9uc2UgY29kZSBpbiBxdWVzdGlvbiwgd2hpY2hcbiAgICAgKiBhcmUgbm90IGRldGFpbGVkIGluIHRoaXMgc2VjdGlvbiwgbWF5IGFsc28gYmUgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiBPbmNlIGFsbCBwcm9jZWR1cmVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3JlYXRpb24gb2YgYSByZXNwb25zZSBoYXZlXG4gICAgICogYmVlbiBjb21wbGV0ZWQsIHRoZSBVQVMgaGFuZHMgdGhlIHJlc3BvbnNlIGJhY2sgdG8gdGhlIHNlcnZlclxuICAgICAqIHRyYW5zYWN0aW9uIGZyb20gd2hpY2ggaXQgcmVjZWl2ZWQgdGhlIHJlcXVlc3QuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuNlxuICAgICAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gU3RhdHVzIGNvZGUgdG8gcmVwbHkgd2l0aC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcGx5IG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucmVwbHkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMudG9UYWcgJiYgb3B0aW9ucy5zdGF0dXNDb2RlICE9PSAxMDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMudG9UYWcgPSB0aGlzLnRvVGFnO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudXNlckFnZW50ID0gb3B0aW9ucy51c2VyQWdlbnQgfHwgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24udXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZTtcbiAgICAgICAgb3B0aW9ucy5zdXBwb3J0ZWQgPSBvcHRpb25zLnN1cHBvcnRlZCB8fCB0aGlzLmNvcmUuY29uZmlndXJhdGlvbi5zdXBwb3J0ZWRPcHRpb25UYWdzUmVzcG9uc2U7XG4gICAgICAgIHZhciByZXNwb25zZSA9IG1lc3NhZ2VzXzEuY29uc3RydWN0T3V0Z29pbmdSZXNwb25zZSh0aGlzLm1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLnJlY2VpdmVSZXNwb25zZShvcHRpb25zLnN0YXR1c0NvZGUsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcbiAgICBVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFdlIGFyZSB0aGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgICAgdmFyIHVzZXIgPSB7XG4gICAgICAgICAgICBsb2dnZXJGYWN0b3J5OiB0aGlzLmxvZ2dlckZhY3RvcnksXG4gICAgICAgICAgICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHRlcm1pbmF0ZWQgdHJhbnNhY3Rpb24gZnJvbSB0aGUgY29yZS5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29yZS51c2VyQWdlbnRTZXJ2ZXJzLmRlbGV0ZSh1c2VyQWdlbnRTZXJ2ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25UcmFuc3BvcnRFcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZWxlZ2F0ZSAmJiBfdGhpcy5kZWxlZ2F0ZS5vblRyYW5zcG9ydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbGVnYXRlLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKFwiVXNlciBhZ2VudCBzZXJ2ZXIgcmVzcG9uc2UgdHJhbnNwb3J0IGVycm9yLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiB3aXRoIHVzIGFzIHRoZSB1c2VyLlxuICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBuZXcgdGhpcy50cmFuc2FjdGlvbkNvbnN0cnVjdG9yKHRoaXMubWVzc2FnZSwgdGhpcy5jb3JlLnRyYW5zcG9ydCwgdXNlcik7XG4gICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb247XG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IHRyYW5zYWN0aW9uIHRvIHRoZSBjb3JlLlxuICAgICAgICB2YXIgdXNlckFnZW50U2VydmVySWQgPSB0cmFuc2FjdGlvbi5pZDtcbiAgICAgICAgdGhpcy5jb3JlLnVzZXJBZ2VudFNlcnZlcnMuc2V0KHRyYW5zYWN0aW9uLmlkLCB0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBVc2VyQWdlbnRTZXJ2ZXI7XG59KCkpO1xuZXhwb3J0cy5Vc2VyQWdlbnRTZXJ2ZXIgPSBVc2VyQWdlbnRTZXJ2ZXI7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdmVyc2lvbl8xID0gcmVxdWlyZShcIi4vdmVyc2lvblwiKTtcbnZhciBDO1xuKGZ1bmN0aW9uIChDKSB7XG4gICAgQy52ZXJzaW9uID0gdmVyc2lvbl8xLkxJQlJBUllfVkVSU0lPTjtcbiAgICBDLlVTRVJfQUdFTlQgPSBcIlNJUC5qcy9cIiArIHZlcnNpb25fMS5MSUJSQVJZX1ZFUlNJT047XG4gICAgLy8gU0lQIHNjaGVtZVxuICAgIEMuU0lQID0gXCJzaXBcIjtcbiAgICBDLlNJUFMgPSBcInNpcHNcIjtcbiAgICAvLyBFbmQgYW5kIEZhaWx1cmUgY2F1c2VzXG4gICAgdmFyIGNhdXNlcztcbiAgICAoZnVuY3Rpb24gKGNhdXNlcykge1xuICAgICAgICAvLyBHZW5lcmljIGVycm9yIGNhdXNlc1xuICAgICAgICBjYXVzZXNbXCJDT05ORUNUSU9OX0VSUk9SXCJdID0gXCJDb25uZWN0aW9uIEVycm9yXCI7XG4gICAgICAgIGNhdXNlc1tcIklOVEVSTkFMX0VSUk9SXCJdID0gXCJJbnRlcm5hbCBFcnJvclwiO1xuICAgICAgICBjYXVzZXNbXCJSRVFVRVNUX1RJTUVPVVRcIl0gPSBcIlJlcXVlc3QgVGltZW91dFwiO1xuICAgICAgICBjYXVzZXNbXCJTSVBfRkFJTFVSRV9DT0RFXCJdID0gXCJTSVAgRmFpbHVyZSBDb2RlXCI7XG4gICAgICAgIC8vIFNJUCBlcnJvciBjYXVzZXNcbiAgICAgICAgY2F1c2VzW1wiQUREUkVTU19JTkNPTVBMRVRFXCJdID0gXCJBZGRyZXNzIEluY29tcGxldGVcIjtcbiAgICAgICAgY2F1c2VzW1wiQVVUSEVOVElDQVRJT05fRVJST1JcIl0gPSBcIkF1dGhlbnRpY2F0aW9uIEVycm9yXCI7XG4gICAgICAgIGNhdXNlc1tcIkJVU1lcIl0gPSBcIkJ1c3lcIjtcbiAgICAgICAgY2F1c2VzW1wiRElBTE9HX0VSUk9SXCJdID0gXCJEaWFsb2cgRXJyb3JcIjtcbiAgICAgICAgY2F1c2VzW1wiSU5DT01QQVRJQkxFX1NEUFwiXSA9IFwiSW5jb21wYXRpYmxlIFNEUFwiO1xuICAgICAgICBjYXVzZXNbXCJOT1RfRk9VTkRcIl0gPSBcIk5vdCBGb3VuZFwiO1xuICAgICAgICBjYXVzZXNbXCJSRURJUkVDVEVEXCJdID0gXCJSZWRpcmVjdGVkXCI7XG4gICAgICAgIGNhdXNlc1tcIlJFSkVDVEVEXCJdID0gXCJSZWplY3RlZFwiO1xuICAgICAgICBjYXVzZXNbXCJVTkFWQUlMQUJMRVwiXSA9IFwiVW5hdmFpbGFibGVcIjtcbiAgICAgICAgLy8gU2Vzc2lvbiBlcnJvciBjYXVzZXNcbiAgICAgICAgY2F1c2VzW1wiQkFEX01FRElBX0RFU0NSSVBUSU9OXCJdID0gXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIjtcbiAgICAgICAgY2F1c2VzW1wiQ0FOQ0VMRURcIl0gPSBcIkNhbmNlbGVkXCI7XG4gICAgICAgIGNhdXNlc1tcIkVYUElSRVNcIl0gPSBcIkV4cGlyZXNcIjtcbiAgICAgICAgY2F1c2VzW1wiTk9fQUNLXCJdID0gXCJObyBBQ0tcIjtcbiAgICAgICAgY2F1c2VzW1wiTk9fQU5TV0VSXCJdID0gXCJObyBBbnN3ZXJcIjtcbiAgICAgICAgY2F1c2VzW1wiTk9fUFJBQ0tcIl0gPSBcIk5vIFBSQUNLXCI7XG4gICAgICAgIGNhdXNlc1tcIlJUUF9USU1FT1VUXCJdID0gXCJSVFAgVGltZW91dFwiO1xuICAgICAgICBjYXVzZXNbXCJVU0VSX0RFTklFRF9NRURJQV9BQ0NFU1NcIl0gPSBcIlVzZXIgRGVuaWVkIE1lZGlhIEFjY2Vzc1wiO1xuICAgICAgICBjYXVzZXNbXCJXRUJSVENfRVJST1JcIl0gPSBcIldlYlJUQyBFcnJvclwiO1xuICAgICAgICBjYXVzZXNbXCJXRUJSVENfTk9UX1NVUFBPUlRFRFwiXSA9IFwiV2ViUlRDIE5vdCBTdXBwb3J0ZWRcIjtcbiAgICB9KShjYXVzZXMgPSBDLmNhdXNlcyB8fCAoQy5jYXVzZXMgPSB7fSkpO1xuICAgIHZhciBzdXBwb3J0ZWQ7XG4gICAgKGZ1bmN0aW9uIChzdXBwb3J0ZWQpIHtcbiAgICAgICAgc3VwcG9ydGVkW1wiUkVRVUlSRURcIl0gPSBcInJlcXVpcmVkXCI7XG4gICAgICAgIHN1cHBvcnRlZFtcIlNVUFBPUlRFRFwiXSA9IFwic3VwcG9ydGVkXCI7XG4gICAgICAgIHN1cHBvcnRlZFtcIlVOU1VQUE9SVEVEXCJdID0gXCJub25lXCI7XG4gICAgfSkoc3VwcG9ydGVkID0gQy5zdXBwb3J0ZWQgfHwgKEMuc3VwcG9ydGVkID0ge30pKTtcbiAgICBDLlNJUF9FUlJPUl9DQVVTRVMgPSB7XG4gICAgICAgIEFERFJFU1NfSU5DT01QTEVURTogWzQ4NF0sXG4gICAgICAgIEFVVEhFTlRJQ0FUSU9OX0VSUk9SOiBbNDAxLCA0MDddLFxuICAgICAgICBCVVNZOiBbNDg2LCA2MDBdLFxuICAgICAgICBJTkNPTVBBVElCTEVfU0RQOiBbNDg4LCA2MDZdLFxuICAgICAgICBOT1RfRk9VTkQ6IFs0MDQsIDYwNF0sXG4gICAgICAgIFJFRElSRUNURUQ6IFszMDAsIDMwMSwgMzAyLCAzMDUsIDM4MF0sXG4gICAgICAgIFJFSkVDVEVEOiBbNDAzLCA2MDNdLFxuICAgICAgICBVTkFWQUlMQUJMRTogWzQ4MCwgNDEwLCA0MDgsIDQzMF1cbiAgICB9O1xuICAgIC8vIFNJUCBNZXRob2RzXG4gICAgQy5BQ0sgPSBcIkFDS1wiO1xuICAgIEMuQllFID0gXCJCWUVcIjtcbiAgICBDLkNBTkNFTCA9IFwiQ0FOQ0VMXCI7XG4gICAgQy5JTkZPID0gXCJJTkZPXCI7XG4gICAgQy5JTlZJVEUgPSBcIklOVklURVwiO1xuICAgIEMuTUVTU0FHRSA9IFwiTUVTU0FHRVwiO1xuICAgIEMuTk9USUZZID0gXCJOT1RJRllcIjtcbiAgICBDLk9QVElPTlMgPSBcIk9QVElPTlNcIjtcbiAgICBDLlJFR0lTVEVSID0gXCJSRUdJU1RFUlwiO1xuICAgIEMuVVBEQVRFID0gXCJVUERBVEVcIjtcbiAgICBDLlNVQlNDUklCRSA9IFwiU1VCU0NSSUJFXCI7XG4gICAgQy5QVUJMSVNIID0gXCJQVUJMSVNIXCI7XG4gICAgQy5SRUZFUiA9IFwiUkVGRVJcIjtcbiAgICBDLlBSQUNLID0gXCJQUkFDS1wiO1xuICAgIC8qIFNJUCBSZXNwb25zZSBSZWFzb25zXG4gICAgICogRE9DOiBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3NpcC1wYXJhbWV0ZXJzXG4gICAgICogQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3ZlcnNhdGljYS9PdmVyU0lQL2Jsb2IvbWFzdGVyL2xpYi9vdmVyc2lwL3NpcC9jb25zdGFudHMucmIjTDdcbiAgICAgKi9cbiAgICBDLlJFQVNPTl9QSFJBU0UgPSB7XG4gICAgICAgIDEwMDogXCJUcnlpbmdcIixcbiAgICAgICAgMTgwOiBcIlJpbmdpbmdcIixcbiAgICAgICAgMTgxOiBcIkNhbGwgSXMgQmVpbmcgRm9yd2FyZGVkXCIsXG4gICAgICAgIDE4MjogXCJRdWV1ZWRcIixcbiAgICAgICAgMTgzOiBcIlNlc3Npb24gUHJvZ3Jlc3NcIixcbiAgICAgICAgMTk5OiBcIkVhcmx5IERpYWxvZyBUZXJtaW5hdGVkXCIsXG4gICAgICAgIDIwMDogXCJPS1wiLFxuICAgICAgICAyMDI6IFwiQWNjZXB0ZWRcIixcbiAgICAgICAgMjA0OiBcIk5vIE5vdGlmaWNhdGlvblwiLFxuICAgICAgICAzMDA6IFwiTXVsdGlwbGUgQ2hvaWNlc1wiLFxuICAgICAgICAzMDE6IFwiTW92ZWQgUGVybWFuZW50bHlcIixcbiAgICAgICAgMzAyOiBcIk1vdmVkIFRlbXBvcmFyaWx5XCIsXG4gICAgICAgIDMwNTogXCJVc2UgUHJveHlcIixcbiAgICAgICAgMzgwOiBcIkFsdGVybmF0aXZlIFNlcnZpY2VcIixcbiAgICAgICAgNDAwOiBcIkJhZCBSZXF1ZXN0XCIsXG4gICAgICAgIDQwMTogXCJVbmF1dGhvcml6ZWRcIixcbiAgICAgICAgNDAyOiBcIlBheW1lbnQgUmVxdWlyZWRcIixcbiAgICAgICAgNDAzOiBcIkZvcmJpZGRlblwiLFxuICAgICAgICA0MDQ6IFwiTm90IEZvdW5kXCIsXG4gICAgICAgIDQwNTogXCJNZXRob2QgTm90IEFsbG93ZWRcIixcbiAgICAgICAgNDA2OiBcIk5vdCBBY2NlcHRhYmxlXCIsXG4gICAgICAgIDQwNzogXCJQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZFwiLFxuICAgICAgICA0MDg6IFwiUmVxdWVzdCBUaW1lb3V0XCIsXG4gICAgICAgIDQxMDogXCJHb25lXCIsXG4gICAgICAgIDQxMjogXCJDb25kaXRpb25hbCBSZXF1ZXN0IEZhaWxlZFwiLFxuICAgICAgICA0MTM6IFwiUmVxdWVzdCBFbnRpdHkgVG9vIExhcmdlXCIsXG4gICAgICAgIDQxNDogXCJSZXF1ZXN0LVVSSSBUb28gTG9uZ1wiLFxuICAgICAgICA0MTU6IFwiVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZVwiLFxuICAgICAgICA0MTY6IFwiVW5zdXBwb3J0ZWQgVVJJIFNjaGVtZVwiLFxuICAgICAgICA0MTc6IFwiVW5rbm93biBSZXNvdXJjZS1Qcmlvcml0eVwiLFxuICAgICAgICA0MjA6IFwiQmFkIEV4dGVuc2lvblwiLFxuICAgICAgICA0MjE6IFwiRXh0ZW5zaW9uIFJlcXVpcmVkXCIsXG4gICAgICAgIDQyMjogXCJTZXNzaW9uIEludGVydmFsIFRvbyBTbWFsbFwiLFxuICAgICAgICA0MjM6IFwiSW50ZXJ2YWwgVG9vIEJyaWVmXCIsXG4gICAgICAgIDQyODogXCJVc2UgSWRlbnRpdHkgSGVhZGVyXCIsXG4gICAgICAgIDQyOTogXCJQcm92aWRlIFJlZmVycmVyIElkZW50aXR5XCIsXG4gICAgICAgIDQzMDogXCJGbG93IEZhaWxlZFwiLFxuICAgICAgICA0MzM6IFwiQW5vbnltaXR5IERpc2FsbG93ZWRcIixcbiAgICAgICAgNDM2OiBcIkJhZCBJZGVudGl0eS1JbmZvXCIsXG4gICAgICAgIDQzNzogXCJVbnN1cHBvcnRlZCBDZXJ0aWZpY2F0ZVwiLFxuICAgICAgICA0Mzg6IFwiSW52YWxpZCBJZGVudGl0eSBIZWFkZXJcIixcbiAgICAgICAgNDM5OiBcIkZpcnN0IEhvcCBMYWNrcyBPdXRib3VuZCBTdXBwb3J0XCIsXG4gICAgICAgIDQ0MDogXCJNYXgtQnJlYWR0aCBFeGNlZWRlZFwiLFxuICAgICAgICA0Njk6IFwiQmFkIEluZm8gUGFja2FnZVwiLFxuICAgICAgICA0NzA6IFwiQ29uc2VudCBOZWVkZWRcIixcbiAgICAgICAgNDc4OiBcIlVucmVzb2x2YWJsZSBEZXN0aW5hdGlvblwiLFxuICAgICAgICA0ODA6IFwiVGVtcG9yYXJpbHkgVW5hdmFpbGFibGVcIixcbiAgICAgICAgNDgxOiBcIkNhbGwvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3RcIixcbiAgICAgICAgNDgyOiBcIkxvb3AgRGV0ZWN0ZWRcIixcbiAgICAgICAgNDgzOiBcIlRvbyBNYW55IEhvcHNcIixcbiAgICAgICAgNDg0OiBcIkFkZHJlc3MgSW5jb21wbGV0ZVwiLFxuICAgICAgICA0ODU6IFwiQW1iaWd1b3VzXCIsXG4gICAgICAgIDQ4NjogXCJCdXN5IEhlcmVcIixcbiAgICAgICAgNDg3OiBcIlJlcXVlc3QgVGVybWluYXRlZFwiLFxuICAgICAgICA0ODg6IFwiTm90IEFjY2VwdGFibGUgSGVyZVwiLFxuICAgICAgICA0ODk6IFwiQmFkIEV2ZW50XCIsXG4gICAgICAgIDQ5MTogXCJSZXF1ZXN0IFBlbmRpbmdcIixcbiAgICAgICAgNDkzOiBcIlVuZGVjaXBoZXJhYmxlXCIsXG4gICAgICAgIDQ5NDogXCJTZWN1cml0eSBBZ3JlZW1lbnQgUmVxdWlyZWRcIixcbiAgICAgICAgNTAwOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwiLFxuICAgICAgICA1MDE6IFwiTm90IEltcGxlbWVudGVkXCIsXG4gICAgICAgIDUwMjogXCJCYWQgR2F0ZXdheVwiLFxuICAgICAgICA1MDM6IFwiU2VydmljZSBVbmF2YWlsYWJsZVwiLFxuICAgICAgICA1MDQ6IFwiU2VydmVyIFRpbWUtb3V0XCIsXG4gICAgICAgIDUwNTogXCJWZXJzaW9uIE5vdCBTdXBwb3J0ZWRcIixcbiAgICAgICAgNTEzOiBcIk1lc3NhZ2UgVG9vIExhcmdlXCIsXG4gICAgICAgIDU4MDogXCJQcmVjb25kaXRpb24gRmFpbHVyZVwiLFxuICAgICAgICA2MDA6IFwiQnVzeSBFdmVyeXdoZXJlXCIsXG4gICAgICAgIDYwMzogXCJEZWNsaW5lXCIsXG4gICAgICAgIDYwNDogXCJEb2VzIE5vdCBFeGlzdCBBbnl3aGVyZVwiLFxuICAgICAgICA2MDY6IFwiTm90IEFjY2VwdGFibGVcIlxuICAgIH07XG4gICAgLyogU0lQIE9wdGlvbiBUYWdzXG4gICAgICogRE9DOiBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3NpcC1wYXJhbWV0ZXJzL3NpcC1wYXJhbWV0ZXJzLnhodG1sI3NpcC1wYXJhbWV0ZXJzLTRcbiAgICAgKi9cbiAgICBDLk9QVElPTl9UQUdTID0ge1xuICAgICAgICBcIjEwMHJlbFwiOiB0cnVlLFxuICAgICAgICBcIjE5OVwiOiB0cnVlLFxuICAgICAgICBcImFuc3dlcm1vZGVcIjogdHJ1ZSxcbiAgICAgICAgXCJlYXJseS1zZXNzaW9uXCI6IHRydWUsXG4gICAgICAgIFwiZXZlbnRsaXN0XCI6IHRydWUsXG4gICAgICAgIFwiZXhwbGljaXRzdWJcIjogdHJ1ZSxcbiAgICAgICAgXCJmcm9tLWNoYW5nZVwiOiB0cnVlLFxuICAgICAgICBcImdlb2xvY2F0aW9uLWh0dHBcIjogdHJ1ZSxcbiAgICAgICAgXCJnZW9sb2NhdGlvbi1zaXBcIjogdHJ1ZSxcbiAgICAgICAgXCJnaW5cIjogdHJ1ZSxcbiAgICAgICAgXCJncnV1XCI6IHRydWUsXG4gICAgICAgIFwiaGlzdGluZm9cIjogdHJ1ZSxcbiAgICAgICAgXCJpY2VcIjogdHJ1ZSxcbiAgICAgICAgXCJqb2luXCI6IHRydWUsXG4gICAgICAgIFwibXVsdGlwbGUtcmVmZXJcIjogdHJ1ZSxcbiAgICAgICAgXCJub3JlZmVyc3ViXCI6IHRydWUsXG4gICAgICAgIFwibm9zdWJcIjogdHJ1ZSxcbiAgICAgICAgXCJvdXRib3VuZFwiOiB0cnVlLFxuICAgICAgICBcInBhdGhcIjogdHJ1ZSxcbiAgICAgICAgXCJwb2xpY3lcIjogdHJ1ZSxcbiAgICAgICAgXCJwcmVjb25kaXRpb25cIjogdHJ1ZSxcbiAgICAgICAgXCJwcmVmXCI6IHRydWUsXG4gICAgICAgIFwicHJpdmFjeVwiOiB0cnVlLFxuICAgICAgICBcInJlY2lwaWVudC1saXN0LWludml0ZVwiOiB0cnVlLFxuICAgICAgICBcInJlY2lwaWVudC1saXN0LW1lc3NhZ2VcIjogdHJ1ZSxcbiAgICAgICAgXCJyZWNpcGllbnQtbGlzdC1zdWJzY3JpYmVcIjogdHJ1ZSxcbiAgICAgICAgXCJyZXBsYWNlc1wiOiB0cnVlLFxuICAgICAgICBcInJlc291cmNlLXByaW9yaXR5XCI6IHRydWUsXG4gICAgICAgIFwic2RwLWFuYXRcIjogdHJ1ZSxcbiAgICAgICAgXCJzZWMtYWdyZWVcIjogdHJ1ZSxcbiAgICAgICAgXCJ0ZGlhbG9nXCI6IHRydWUsXG4gICAgICAgIFwidGltZXJcIjogdHJ1ZSxcbiAgICAgICAgXCJ1dWlcIjogdHJ1ZSAvLyBSRkMgNzQzM1xuICAgIH07XG4gICAgdmFyIGR0bWZUeXBlO1xuICAgIChmdW5jdGlvbiAoZHRtZlR5cGUpIHtcbiAgICAgICAgZHRtZlR5cGVbXCJJTkZPXCJdID0gXCJpbmZvXCI7XG4gICAgICAgIGR0bWZUeXBlW1wiUlRQXCJdID0gXCJydHBcIjtcbiAgICB9KShkdG1mVHlwZSA9IEMuZHRtZlR5cGUgfHwgKEMuZHRtZlR5cGUgPSB7fSkpO1xufSkoQyA9IGV4cG9ydHMuQyB8fCAoZXhwb3J0cy5DID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGdyYW1tYXJfMSA9IHJlcXVpcmUoXCIuL2NvcmUvbWVzc2FnZXMvZ3JhbW1hclwiKTtcbnZhciB1cmlfMSA9IHJlcXVpcmUoXCIuL2NvcmUvbWVzc2FnZXMvdXJpXCIpO1xudmFyIFV0aWxzO1xuKGZ1bmN0aW9uIChVdGlscykge1xuICAgIGZ1bmN0aW9uIGRlZmVyKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSB7fTtcbiAgICAgICAgZGVmZXJyZWQucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgIH1cbiAgICBVdGlscy5kZWZlciA9IGRlZmVyO1xuICAgIGZ1bmN0aW9uIHJlZHVjZVByb21pc2VzKGFyciwgdmFsKSB7XG4gICAgICAgIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGZuKSB7XG4gICAgICAgICAgICBhY2MgPSBhY2MudGhlbihmbik7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCBQcm9taXNlLnJlc29sdmUodmFsKSk7XG4gICAgfVxuICAgIFV0aWxzLnJlZHVjZVByb21pc2VzID0gcmVkdWNlUHJvbWlzZXM7XG4gICAgZnVuY3Rpb24gc3RyX3V0ZjhfbGVuZ3RoKHN0cikge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvJVtBLUZcXGRdezJ9L2csIFwiVVwiKS5sZW5ndGg7XG4gICAgfVxuICAgIFV0aWxzLnN0cl91dGY4X2xlbmd0aCA9IHN0cl91dGY4X2xlbmd0aDtcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUZha2VTRFAoYm9keSkge1xuICAgICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnQgPSBib2R5LmluZGV4T2YoXCJvPVwiKTtcbiAgICAgICAgdmFyIGVuZCA9IGJvZHkuaW5kZXhPZihcIlxcclxcblwiLCBzdGFydCk7XG4gICAgICAgIHJldHVybiBcInY9MFxcclxcblwiICsgYm9keS5zbGljZShzdGFydCwgZW5kKSArIFwiXFxyXFxucz0tXFxyXFxudD0wIDBcXHJcXG5jPUlOIElQNCAwLjAuMC4wXCI7XG4gICAgfVxuICAgIFV0aWxzLmdlbmVyYXRlRmFrZVNEUCA9IGdlbmVyYXRlRmFrZVNEUDtcbiAgICBmdW5jdGlvbiBpc0RlY2ltYWwobnVtKSB7XG4gICAgICAgIHZhciBudW1Bc051bSA9IHBhcnNlSW50KG51bSwgMTApO1xuICAgICAgICByZXR1cm4gIWlzTmFOKG51bUFzTnVtKSAmJiAocGFyc2VGbG9hdChudW0pID09PSBudW1Bc051bSk7XG4gICAgfVxuICAgIFV0aWxzLmlzRGVjaW1hbCA9IGlzRGVjaW1hbDtcbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5kb21Ub2tlbihzaXplLCBiYXNlKSB7XG4gICAgICAgIGlmIChiYXNlID09PSB2b2lkIDApIHsgYmFzZSA9IDMyOyB9XG4gICAgICAgIHZhciB0b2tlbiA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJhc2UpO1xuICAgICAgICAgICAgdG9rZW4gKz0gci50b1N0cmluZyhiYXNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIFV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuID0gY3JlYXRlUmFuZG9tVG9rZW47XG4gICAgZnVuY3Rpb24gbmV3VGFnKCkge1xuICAgICAgICAvLyB1c2VkIHRvIHVzZSB0aGUgY29uc3RhbnQgaW4gVUFcbiAgICAgICAgcmV0dXJuIFV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDEwKTtcbiAgICB9XG4gICAgVXRpbHMubmV3VGFnID0gbmV3VGFnO1xuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy8xMDk1MzgvYnJvb2ZhXG4gICAgZnVuY3Rpb24gbmV3VVVJRCgpIHtcbiAgICAgICAgdmFyIFVVSUQgPSBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpO1xuICAgICAgICAgICAgdmFyIHYgPSBjID09PSBcInhcIiA/IHIgOiAociAlIDQgKyA4KTtcbiAgICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBVVUlEO1xuICAgIH1cbiAgICBVdGlscy5uZXdVVUlEID0gbmV3VVVJRDtcbiAgICAvKlxuICAgICAqIE5vcm1hbGl6ZSBTSVAgVVJJLlxuICAgICAqIE5PVEU6IEl0IGRvZXMgbm90IGFsbG93IGEgU0lQIFVSSSB3aXRob3V0IHVzZXJuYW1lLlxuICAgICAqIEFjY2VwdHMgJ3NpcCcsICdzaXBzJyBhbmQgJ3RlbCcgVVJJcyBhbmQgY29udmVydCB0aGVtIGludG8gJ3NpcCcuXG4gICAgICogRGV0ZWN0cyB0aGUgZG9tYWluIHBhcnQgKGlmIGdpdmVuKSBhbmQgcHJvcGVybHkgaGV4LWVzY2FwZXMgdGhlIHVzZXIgcG9ydGlvbi5cbiAgICAgKiBJZiB0aGUgdXNlciBwb3J0aW9uIGhhcyBvbmx5ICd0ZWwnIG51bWJlciBzeW1ib2xzIHRoZSB1c2VyIHBvcnRpb24gaXMgY2xlYW4gb2YgJ3RlbCcgdmlzdWFsIHNlcGFyYXRvcnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGFyZ2V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtkb21haW5dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplVGFyZ2V0KHRhcmdldCwgZG9tYWluKSB7XG4gICAgICAgIC8vIElmIG5vIHRhcmdldCBpcyBnaXZlbiB0aGVuIHJhaXNlIGFuIGVycm9yLlxuICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gSWYgYSBTSVAuVVJJIGluc3RhbmNlIGlzIGdpdmVuIHRoZW4gcmV0dXJuIGl0LlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIHVyaV8xLlVSSSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIC8vIElmIGEgc3RyaW5nIGlzIGdpdmVuIHNwbGl0IGl0IGJ5ICdAJzpcbiAgICAgICAgICAgIC8vIC0gTGFzdCBmcmFnbWVudCBpcyB0aGUgZGVzaXJlZCBkb21haW4uXG4gICAgICAgICAgICAvLyAtIE90aGVyd2lzZSBhcHBlbmQgdGhlIGdpdmVuIGRvbWFpbiBhcmd1bWVudC5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0QXJyYXkgPSB0YXJnZXQuc3BsaXQoXCJAXCIpO1xuICAgICAgICAgICAgdmFyIHRhcmdldFVzZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RG9tYWluID0gdm9pZCAwO1xuICAgICAgICAgICAgc3dpdGNoICh0YXJnZXRBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VXNlciA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RG9tYWluID0gZG9tYWluO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFVzZXIgPSB0YXJnZXRBcnJheVswXTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RG9tYWluID0gdGFyZ2V0QXJyYXlbMV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFVzZXIgPSB0YXJnZXRBcnJheS5zbGljZSgwLCB0YXJnZXRBcnJheS5sZW5ndGggLSAxKS5qb2luKFwiQFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RG9tYWluID0gdGFyZ2V0QXJyYXlbdGFyZ2V0QXJyYXkubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIFVSSSBzY2hlbWUgKGlmIHByZXNlbnQpLlxuICAgICAgICAgICAgdGFyZ2V0VXNlciA9IHRhcmdldFVzZXIucmVwbGFjZSgvXihzaXBzP3x0ZWwpOi9pLCBcIlwiKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSAndGVsJyB2aXN1YWwgc2VwYXJhdG9ycyBpZiB0aGUgdXNlciBwb3J0aW9uIGp1c3QgY29udGFpbnMgJ3RlbCcgbnVtYmVyIHN5bWJvbHMuXG4gICAgICAgICAgICBpZiAoL15bXFwtXFwuXFwoXFwpXSpcXCs/WzAtOVxcLVxcLlxcKFxcKV0rJC8udGVzdCh0YXJnZXRVc2VyKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFVzZXIgPSB0YXJnZXRVc2VyLnJlcGxhY2UoL1tcXC1cXC5cXChcXCldL2csIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVpbGQgdGhlIGNvbXBsZXRlIFNJUCBVUkkuXG4gICAgICAgICAgICB0YXJnZXQgPSBDb25zdGFudHNfMS5DLlNJUCArIFwiOlwiICsgVXRpbHMuZXNjYXBlVXNlcih0YXJnZXRVc2VyKSArIFwiQFwiICsgdGFyZ2V0RG9tYWluO1xuICAgICAgICAgICAgLy8gRmluYWxseSBwYXJzZSB0aGUgcmVzdWx0aW5nIFVSSS5cbiAgICAgICAgICAgIHJldHVybiBncmFtbWFyXzEuR3JhbW1hci5VUklQYXJzZSh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIFV0aWxzLm5vcm1hbGl6ZVRhcmdldCA9IG5vcm1hbGl6ZVRhcmdldDtcbiAgICAvKlxuICAgICAqIEhleC1lc2NhcGUgYSBTSVAgVVJJIHVzZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZVVzZXIodXNlcikge1xuICAgICAgICAvLyBEb24ndCBoZXgtZXNjYXBlICc6JyAoJTNBKSwgJysnICglMkIpLCAnPycgKCUzRlwiKSwgJy8nICglMkYpLlxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudCh1c2VyKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lM0EvaWcsIFwiOlwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyUyQi9pZywgXCIrXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJTNGL2lnLCBcIj9cIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lMkYvaWcsIFwiL1wiKTtcbiAgICB9XG4gICAgVXRpbHMuZXNjYXBlVXNlciA9IGVzY2FwZVVzZXI7XG4gICAgZnVuY3Rpb24gaGVhZGVyaXplKHN0cikge1xuICAgICAgICB2YXIgZXhjZXB0aW9ucyA9IHtcbiAgICAgICAgICAgIFwiQ2FsbC1JZFwiOiBcIkNhbGwtSURcIixcbiAgICAgICAgICAgIFwiQ3NlcVwiOiBcIkNTZXFcIixcbiAgICAgICAgICAgIFwiTWluLVNlXCI6IFwiTWluLVNFXCIsXG4gICAgICAgICAgICBcIlJhY2tcIjogXCJSQWNrXCIsXG4gICAgICAgICAgICBcIlJzZXFcIjogXCJSU2VxXCIsXG4gICAgICAgICAgICBcIld3dy1BdXRoZW50aWNhdGVcIjogXCJXV1ctQXV0aGVudGljYXRlXCIsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBuYW1lID0gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCBcIi1cIikuc3BsaXQoXCItXCIpO1xuICAgICAgICB2YXIgcGFydHMgPSBuYW1lLmxlbmd0aDtcbiAgICAgICAgdmFyIGhuYW1lID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgcGFydCA9IDA7IHBhcnQgPCBwYXJ0czsgcGFydCsrKSB7XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGhuYW1lICs9IFwiLVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaG5hbWUgKz0gbmFtZVtwYXJ0XS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWVbcGFydF0uc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleGNlcHRpb25zW2huYW1lXSkge1xuICAgICAgICAgICAgaG5hbWUgPSBleGNlcHRpb25zW2huYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG5hbWU7XG4gICAgfVxuICAgIFV0aWxzLmhlYWRlcml6ZSA9IGhlYWRlcml6ZTtcbiAgICBmdW5jdGlvbiBzaXBFcnJvckNhdXNlKHN0YXR1c0NvZGUpIHtcbiAgICAgICAgZm9yICh2YXIgY2F1c2UgaW4gQ29uc3RhbnRzXzEuQy5TSVBfRVJST1JfQ0FVU0VTKSB7XG4gICAgICAgICAgICBpZiAoQ29uc3RhbnRzXzEuQy5TSVBfRVJST1JfQ0FVU0VTW2NhdXNlXS5pbmRleE9mKHN0YXR1c0NvZGUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNfMS5DLmNhdXNlc1tjYXVzZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuY2F1c2VzLlNJUF9GQUlMVVJFX0NPREU7XG4gICAgfVxuICAgIFV0aWxzLnNpcEVycm9yQ2F1c2UgPSBzaXBFcnJvckNhdXNlO1xuICAgIGZ1bmN0aW9uIGdldFJlYXNvblBocmFzZShjb2RlLCBzcGVjaWZpYykge1xuICAgICAgICByZXR1cm4gc3BlY2lmaWMgfHwgQ29uc3RhbnRzXzEuQy5SRUFTT05fUEhSQVNFW2NvZGVdIHx8IFwiXCI7XG4gICAgfVxuICAgIFV0aWxzLmdldFJlYXNvblBocmFzZSA9IGdldFJlYXNvblBocmFzZTtcbiAgICBmdW5jdGlvbiBnZXRSZWFzb25IZWFkZXJWYWx1ZShjb2RlLCByZWFzb24pIHtcbiAgICAgICAgcmVhc29uID0gVXRpbHMuZ2V0UmVhc29uUGhyYXNlKGNvZGUsIHJlYXNvbik7XG4gICAgICAgIHJldHVybiBcIlNJUDtjYXVzZT1cIiArIGNvZGUgKyAnO3RleHQ9XCInICsgcmVhc29uICsgJ1wiJztcbiAgICB9XG4gICAgVXRpbHMuZ2V0UmVhc29uSGVhZGVyVmFsdWUgPSBnZXRSZWFzb25IZWFkZXJWYWx1ZTtcbiAgICBmdW5jdGlvbiBnZXRDYW5jZWxSZWFzb24oY29kZSwgcmVhc29uKSB7XG4gICAgICAgIGlmIChjb2RlICYmIGNvZGUgPCAyMDAgfHwgY29kZSA+IDY5OSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgc3RhdHVzQ29kZTogXCIgKyBjb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gVXRpbHMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoY29kZSwgcmVhc29uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBVdGlscy5nZXRDYW5jZWxSZWFzb24gPSBnZXRDYW5jZWxSZWFzb247XG4gICAgZnVuY3Rpb24gYnVpbGRTdGF0dXNMaW5lKGNvZGUsIHJlYXNvbikge1xuICAgICAgICAvLyBWYWxpZGF0ZSBjb2RlIGFuZCByZWFzb24gdmFsdWVzXG4gICAgICAgIGlmICghY29kZSB8fCAoY29kZSA8IDEwMCB8fCBjb2RlID4gNjk5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgc3RhdHVzQ29kZTogXCIgKyBjb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWFzb24gJiYgdHlwZW9mIHJlYXNvbiAhPT0gXCJzdHJpbmdcIiAmJiAhKHJlYXNvbiBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHJlYXNvbjogXCIgKyByZWFzb24pO1xuICAgICAgICB9XG4gICAgICAgIHJlYXNvbiA9IFV0aWxzLmdldFJlYXNvblBocmFzZShjb2RlLCByZWFzb24pO1xuICAgICAgICByZXR1cm4gXCJTSVAvMi4wIFwiICsgY29kZSArIFwiIFwiICsgcmVhc29uICsgXCJcXHJcXG5cIjtcbiAgICB9XG4gICAgVXRpbHMuYnVpbGRTdGF0dXNMaW5lID0gYnVpbGRTdGF0dXNMaW5lO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEJvZHkgZ2l2ZW4gYSBCb2R5T2JqLlxuICAgICAqIEBwYXJhbSBib2R5T2JqIEJvZHkgT2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUJvZHlPYmooYm9keU9iaikge1xuICAgICAgICB2YXIgY29udGVudCA9IGJvZHlPYmouYm9keTtcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlID0gYm9keU9iai5jb250ZW50VHlwZTtcbiAgICAgICAgdmFyIGNvbnRlbnREaXNwb3NpdGlvbiA9IGNvbnRlbnRUeXBlVG9Db250ZW50RGlzcG9zaXRpb24oY29udGVudFR5cGUpO1xuICAgICAgICB2YXIgYm9keSA9IHsgY29udGVudERpc3Bvc2l0aW9uOiBjb250ZW50RGlzcG9zaXRpb24sIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSwgY29udGVudDogY29udGVudCB9O1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9XG4gICAgVXRpbHMuZnJvbUJvZHlPYmogPSBmcm9tQm9keU9iajtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBCb2R5T2JqIGdpdmVuIGEgQm9keS5cbiAgICAgKiBAcGFyYW0gYm9keU9iaiBCb2R5IE9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQm9keU9iaihib2R5KSB7XG4gICAgICAgIHZhciBib2R5T2JqID0ge1xuICAgICAgICAgICAgYm9keTogYm9keS5jb250ZW50LFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGJvZHkuY29udGVudFR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJvZHlPYmo7XG4gICAgfVxuICAgIFV0aWxzLnRvQm9keU9iaiA9IHRvQm9keU9iajtcbiAgICAvLyBJZiB0aGUgQ29udGVudC1EaXNwb3NpdGlvbiBoZWFkZXIgZmllbGQgaXMgbWlzc2luZywgYm9kaWVzIG9mXG4gICAgLy8gQ29udGVudC1UeXBlIGFwcGxpY2F0aW9uL3NkcCBpbXBseSB0aGUgZGlzcG9zaXRpb24gXCJzZXNzaW9uXCIsIHdoaWxlXG4gICAgLy8gb3RoZXIgY29udGVudCB0eXBlcyBpbXBseSBcInJlbmRlclwiLlxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgZnVuY3Rpb24gY29udGVudFR5cGVUb0NvbnRlbnREaXNwb3NpdGlvbihjb250ZW50VHlwZSkge1xuICAgICAgICBpZiAoY29udGVudFR5cGUgPT09IFwiYXBwbGljYXRpb24vc2RwXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcInNlc3Npb25cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcInJlbmRlclwiO1xuICAgICAgICB9XG4gICAgfVxufSkoVXRpbHMgPSBleHBvcnRzLlV0aWxzIHx8IChleHBvcnRzLlV0aWxzID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4vY29yZVwiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4vRW51bXNcIik7XG4vLyB0c2xpbnQ6ZGlzYWJsZTptYXgtY2xhc3Nlcy1wZXItZmlsZVxudmFyIEV4Y2VwdGlvbnM7XG4oZnVuY3Rpb24gKEV4Y2VwdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBoYXMgY2xvc2VkLlxuICAgICAqIE9jY3VycyB3aGVuIGdldERlc2NyaXB0aW9uKCkgb3Igc2V0RGVzY3JpcHRpb24oKSBhcmUgY2FsbGVkIGFmdGVyIGNsb3NlKCkgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqIE9jY3VycyB3aGVuIGNsb3NlKCkgaXMgY2FsbGVkIHdoaWxlIGdldERlc2NyaXB0aW9uKCkgb3Igc2V0RGVzY3JpcHRpb24oKSBhcmUgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgdmFyIENsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgdHNsaWJfMS5fX2V4dGVuZHMoQ2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBDbG9zZWRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgXCJUaGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGhhcyBjbG9zZWQuXCIpIHx8IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcjtcbiAgICB9KGNvcmVfMS5FeGNlcHRpb24pKTtcbiAgICBFeGNlcHRpb25zLkNsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciA9IENsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIHNlc3Npb24gdGVybWluYXRlZCBiZWZvcmUgdGhlIGFjdGlvbiBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgdmFyIFRlcm1pbmF0ZWRTZXNzaW9uRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIHRzbGliXzEuX19leHRlbmRzKFRlcm1pbmF0ZWRTZXNzaW9uRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIFRlcm1pbmF0ZWRTZXNzaW9uRXJyb3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgXCJUaGUgc2Vzc2lvbiBoYXMgdGVybWluYXRlZC5cIikgfHwgdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGVybWluYXRlZFNlc3Npb25FcnJvcjtcbiAgICB9KGNvcmVfMS5FeGNlcHRpb24pKTtcbiAgICBFeGNlcHRpb25zLlRlcm1pbmF0ZWRTZXNzaW9uRXJyb3IgPSBUZXJtaW5hdGVkU2Vzc2lvbkVycm9yO1xuICAgIC8qKlxuICAgICAqIFVuc3VwcG9ydGVkIHNlc3Npb24gZGVzY3JpcHRpb24gY29udGVudCB0eXBlLlxuICAgICAqL1xuICAgIHZhciBVbnN1cHBvcnRlZFNlc3Npb25EZXNjcmlwdGlvbkNvbnRlbnRUeXBlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIHRzbGliXzEuX19leHRlbmRzKFVuc3VwcG9ydGVkU2Vzc2lvbkRlc2NyaXB0aW9uQ29udGVudFR5cGVFcnJvciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID8gbWVzc2FnZSA6IFwiVW5zdXBwb3J0ZWQgc2Vzc2lvbiBkZXNjcmlwdGlvbiBjb250ZW50IHR5cGUuXCIpIHx8IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVuc3VwcG9ydGVkU2Vzc2lvbkRlc2NyaXB0aW9uQ29udGVudFR5cGVFcnJvcjtcbiAgICB9KGNvcmVfMS5FeGNlcHRpb24pKTtcbiAgICBFeGNlcHRpb25zLlVuc3VwcG9ydGVkU2Vzc2lvbkRlc2NyaXB0aW9uQ29udGVudFR5cGVFcnJvciA9IFVuc3VwcG9ydGVkU2Vzc2lvbkRlc2NyaXB0aW9uQ29udGVudFR5cGVFcnJvcjtcbn0pKEV4Y2VwdGlvbnMgPSBleHBvcnRzLkV4Y2VwdGlvbnMgfHwgKGV4cG9ydHMuRXhjZXB0aW9ucyA9IHt9KSk7XG4vKipcbiAqIERFUFJFQ0FURUQ6IFRoZSBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvbiBvZiBleGNlcHRpb25zIGluIHRoaXMgbGlicmFyeSBhdHRlbXB0ZWQgdG9cbiAqIGRlYWwgd2l0aCB0aGUgbGFjayBvZiB0eXBlIGNoZWNraW5nIGluIEphdmFTY3JpcHQgYnkgYWRkaW5nIGEgXCJ0eXBlXCIgYXR0cmlidXRlXG4gKiB0byBvYmplY3RzIGFuZCB1c2luZyB0aGF0IHRvIGRpc2NyaW1pbmF0ZS4gT24gdG9wIG9mIHRoYXQgaXQgbGF5ZXJlZCBhbGxjb2F0ZWRcbiAqIFwiY29kZVwiIG51bWJlcnMgYW5kIGNvbnN0YW50IFwibmFtZVwiIHN0cmluZ3MuIEFsbCBvZiB0aGF0IGlzIHVubmVjZXNzYXJ5IHdoZW4gdXNpbmdcbiAqIFR5cGVTY3JpcHQsIGluaGVyaXRpbmcgZnJvbSBFcnJvciBhbmQgcHJvcGVybHkgc2V0dGluZyB1cCB0aGUgcHJvdG90eXBlIGNoYWluLi4uXG4gKi9cbnZhciBMZWdhY3lFeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTGVnYWN5RXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExlZ2FjeUV4Y2VwdGlvbihjb2RlLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgX3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIExlZ2FjeUV4Y2VwdGlvbjtcbn0oY29yZV8xLkV4Y2VwdGlvbikpO1xuKGZ1bmN0aW9uIChFeGNlcHRpb25zKSB7XG4gICAgdmFyIENvbmZpZ3VyYXRpb25FcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29uZmlndXJhdGlvbkVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBDb25maWd1cmF0aW9uRXJyb3IocGFyYW1ldGVyLCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgMSwgXCJDT05GSUdVUkFUSU9OX0VSUk9SXCIsICghdmFsdWUpID8gXCJNaXNzaW5nIHBhcmFtZXRlcjogXCIgKyBwYXJhbWV0ZXIgOlxuICAgICAgICAgICAgICAgIFwiSW52YWxpZCB2YWx1ZSBcIiArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArIFwiIGZvciBwYXJhbWV0ZXIgJ1wiICsgcGFyYW1ldGVyICsgXCInXCIpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5Db25maWd1cmF0aW9uRXJyb3I7XG4gICAgICAgICAgICBfdGhpcy5wYXJhbWV0ZXIgPSBwYXJhbWV0ZXI7XG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25maWd1cmF0aW9uRXJyb3I7XG4gICAgfShMZWdhY3lFeGNlcHRpb24pKTtcbiAgICBFeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvciA9IENvbmZpZ3VyYXRpb25FcnJvcjtcbiAgICB2YXIgSW52YWxpZFN0YXRlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIHRzbGliXzEuX19leHRlbmRzKEludmFsaWRTdGF0ZUVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBJbnZhbGlkU3RhdGVFcnJvcihzdGF0dXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIDIsIFwiSU5WQUxJRF9TVEFURV9FUlJPUlwiLCBcIkludmFsaWQgc3RhdHVzOiBcIiArIHN0YXR1cykgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLkludmFsaWRTdGF0ZUVycm9yO1xuICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJbnZhbGlkU3RhdGVFcnJvcjtcbiAgICB9KExlZ2FjeUV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IgPSBJbnZhbGlkU3RhdGVFcnJvcjtcbiAgICB2YXIgTm90U3VwcG9ydGVkRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIHRzbGliXzEuX19leHRlbmRzKE5vdFN1cHBvcnRlZEVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBOb3RTdXBwb3J0ZWRFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAzLCBcIk5PVF9TVVBQT1JURURfRVJST1JcIiwgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLk5vdFN1cHBvcnRlZEVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOb3RTdXBwb3J0ZWRFcnJvcjtcbiAgICB9KExlZ2FjeUV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuTm90U3VwcG9ydGVkRXJyb3IgPSBOb3RTdXBwb3J0ZWRFcnJvcjtcbiAgICAvLyA0IHdhcyBHZXREZXNjcmlwdGlvbkVycm9yLCB3aGljaCB3YXMgZGVwcmVjYXRlZCBhbmQgbm93IHJlbW92ZWRcbiAgICB2YXIgUmVuZWdvdGlhdGlvbkVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZW5lZ290aWF0aW9uRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIFJlbmVnb3RpYXRpb25FcnJvcihtZXNzYWdlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCA1LCBcIlJFTkVHT1RJQVRJT05fRVJST1JcIiwgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlJlbmVnb3RpYXRpb25FcnJvcjtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVuZWdvdGlhdGlvbkVycm9yO1xuICAgIH0oTGVnYWN5RXhjZXB0aW9uKSk7XG4gICAgRXhjZXB0aW9ucy5SZW5lZ290aWF0aW9uRXJyb3IgPSBSZW5lZ290aWF0aW9uRXJyb3I7XG4gICAgdmFyIE1ldGhvZFBhcmFtZXRlckVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXRob2RQYXJhbWV0ZXJFcnJvciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gTWV0aG9kUGFyYW1ldGVyRXJyb3IobWV0aG9kLCBwYXJhbWV0ZXIsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCA2LCBcIk1FVEhPRF9QQVJBTUVURVJfRVJST1JcIiwgKCF2YWx1ZSkgP1xuICAgICAgICAgICAgICAgIFwiTWlzc2luZyBwYXJhbWV0ZXI6IFwiICsgcGFyYW1ldGVyIDpcbiAgICAgICAgICAgICAgICBcIkludmFsaWQgdmFsdWUgXCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyBcIiBmb3IgcGFyYW1ldGVyICdcIiArIHBhcmFtZXRlciArIFwiJ1wiKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuTWV0aG9kUGFyYW1ldGVyRXJyb3I7XG4gICAgICAgICAgICBfdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgICAgICBfdGhpcy5wYXJhbWV0ZXIgPSBwYXJhbWV0ZXI7XG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNZXRob2RQYXJhbWV0ZXJFcnJvcjtcbiAgICB9KExlZ2FjeUV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3IgPSBNZXRob2RQYXJhbWV0ZXJFcnJvcjtcbiAgICAvLyA3IHdhcyBUcmFuc3BvcnRFcnJvciwgd2hpY2ggd2FzIHJlcGxhY2VkXG4gICAgdmFyIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgdHNsaWJfMS5fX2V4dGVuZHMoU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IobWV0aG9kLCBlcnJvciwgbWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgOCwgXCJTRVNTSU9OX0RFU0NSSVBUSU9OX0hBTkRMRVJfRVJST1JcIiwgbWVzc2FnZSB8fCBcIkVycm9yIHdpdGggU2Vzc2lvbiBEZXNjcmlwdGlvbiBIYW5kbGVyXCIpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3I7XG4gICAgICAgICAgICBfdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgICAgICBfdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3I7XG4gICAgfShMZWdhY3lFeGNlcHRpb24pKTtcbiAgICBFeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciA9IFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcjtcbn0pKEV4Y2VwdGlvbnMgPSBleHBvcnRzLkV4Y2VwdGlvbnMgfHwgKGV4cG9ydHMuRXhjZXB0aW9ucyA9IHt9KSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFQxID0gNTAwO1xudmFyIFQyID0gNDAwMDtcbnZhciBUNCA9IDUwMDA7XG4vKipcbiAqIFRpbWVycy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0cy5UaW1lcnMgPSB7XG4gICAgVDE6IFQxLFxuICAgIFQyOiBUMixcbiAgICBUNDogVDQsXG4gICAgVElNRVJfQjogNjQgKiBUMSxcbiAgICBUSU1FUl9EOiAwICogVDEsXG4gICAgVElNRVJfRjogNjQgKiBUMSxcbiAgICBUSU1FUl9IOiA2NCAqIFQxLFxuICAgIFRJTUVSX0k6IDAgKiBUNCxcbiAgICBUSU1FUl9KOiAwICogVDEsXG4gICAgVElNRVJfSzogMCAqIFQ0LFxuICAgIFRJTUVSX0w6IDY0ICogVDEsXG4gICAgVElNRVJfTTogNjQgKiBUMSxcbiAgICBUSU1FUl9OOiA2NCAqIFQxLFxuICAgIFBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMOiA2MDAwMCAvLyBTZWUgUkZDIDMyNjEgU2VjdGlvbiAxMy4zLjEuMVxufTtcbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiIsInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiIsInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBwYXJhbSBzaXplIC1cbiAqIEBwYXJhbSBiYXNlIC1cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBjcmVhdGVSYW5kb21Ub2tlbihzaXplLCBiYXNlKSB7XG4gICAgaWYgKGJhc2UgPT09IHZvaWQgMCkgeyBiYXNlID0gMzI7IH1cbiAgICB2YXIgdG9rZW4gPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmFzZSk7XG4gICAgICAgIHRva2VuICs9IHIudG9TdHJpbmcoYmFzZSk7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbjtcbn1cbmV4cG9ydHMuY3JlYXRlUmFuZG9tVG9rZW4gPSBjcmVhdGVSYW5kb21Ub2tlbjtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldFJlYXNvblBocmFzZShjb2RlKSB7XG4gICAgcmV0dXJuIFJFQVNPTl9QSFJBU0VbY29kZV0gfHwgXCJcIjtcbn1cbmV4cG9ydHMuZ2V0UmVhc29uUGhyYXNlID0gZ2V0UmVhc29uUGhyYXNlO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gbmV3VGFnKCkge1xuICAgIHJldHVybiBjcmVhdGVSYW5kb21Ub2tlbigxMCk7XG59XG5leHBvcnRzLm5ld1RhZyA9IG5ld1RhZztcbi8qKlxuICogQHBhcmFtIHN0ciAtXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaGVhZGVyaXplKHN0cikge1xuICAgIHZhciBleGNlcHRpb25zID0ge1xuICAgICAgICBcIkNhbGwtSWRcIjogXCJDYWxsLUlEXCIsXG4gICAgICAgIFwiQ3NlcVwiOiBcIkNTZXFcIixcbiAgICAgICAgXCJNaW4tU2VcIjogXCJNaW4tU0VcIixcbiAgICAgICAgXCJSYWNrXCI6IFwiUkFja1wiLFxuICAgICAgICBcIlJzZXFcIjogXCJSU2VxXCIsXG4gICAgICAgIFwiV3d3LUF1dGhlbnRpY2F0ZVwiOiBcIldXVy1BdXRoZW50aWNhdGVcIixcbiAgICB9O1xuICAgIHZhciBuYW1lID0gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCBcIi1cIikuc3BsaXQoXCItXCIpO1xuICAgIHZhciBwYXJ0cyA9IG5hbWUubGVuZ3RoO1xuICAgIHZhciBobmFtZSA9IFwiXCI7XG4gICAgZm9yICh2YXIgcGFydCA9IDA7IHBhcnQgPCBwYXJ0czsgcGFydCsrKSB7XG4gICAgICAgIGlmIChwYXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICBobmFtZSArPSBcIi1cIjtcbiAgICAgICAgfVxuICAgICAgICBobmFtZSArPSBuYW1lW3BhcnRdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZVtwYXJ0XS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIGlmIChleGNlcHRpb25zW2huYW1lXSkge1xuICAgICAgICBobmFtZSA9IGV4Y2VwdGlvbnNbaG5hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gaG5hbWU7XG59XG5leHBvcnRzLmhlYWRlcml6ZSA9IGhlYWRlcml6ZTtcbi8qKlxuICogQHBhcmFtIHN0ciAtXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gc3RyX3V0ZjhfbGVuZ3RoKHN0cikge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC8lW0EtRlxcZF17Mn0vZywgXCJVXCIpLmxlbmd0aDtcbn1cbmV4cG9ydHMuc3RyX3V0ZjhfbGVuZ3RoID0gc3RyX3V0ZjhfbGVuZ3RoO1xuLyoqXG4gKiBTSVAgUmVzcG9uc2UgUmVhc29uc1xuICogRE9DOiBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3NpcC1wYXJhbWV0ZXJzXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJFQVNPTl9QSFJBU0UgPSB7XG4gICAgMTAwOiBcIlRyeWluZ1wiLFxuICAgIDE4MDogXCJSaW5naW5nXCIsXG4gICAgMTgxOiBcIkNhbGwgSXMgQmVpbmcgRm9yd2FyZGVkXCIsXG4gICAgMTgyOiBcIlF1ZXVlZFwiLFxuICAgIDE4MzogXCJTZXNzaW9uIFByb2dyZXNzXCIsXG4gICAgMTk5OiBcIkVhcmx5IERpYWxvZyBUZXJtaW5hdGVkXCIsXG4gICAgMjAwOiBcIk9LXCIsXG4gICAgMjAyOiBcIkFjY2VwdGVkXCIsXG4gICAgMjA0OiBcIk5vIE5vdGlmaWNhdGlvblwiLFxuICAgIDMwMDogXCJNdWx0aXBsZSBDaG9pY2VzXCIsXG4gICAgMzAxOiBcIk1vdmVkIFBlcm1hbmVudGx5XCIsXG4gICAgMzAyOiBcIk1vdmVkIFRlbXBvcmFyaWx5XCIsXG4gICAgMzA1OiBcIlVzZSBQcm94eVwiLFxuICAgIDM4MDogXCJBbHRlcm5hdGl2ZSBTZXJ2aWNlXCIsXG4gICAgNDAwOiBcIkJhZCBSZXF1ZXN0XCIsXG4gICAgNDAxOiBcIlVuYXV0aG9yaXplZFwiLFxuICAgIDQwMjogXCJQYXltZW50IFJlcXVpcmVkXCIsXG4gICAgNDAzOiBcIkZvcmJpZGRlblwiLFxuICAgIDQwNDogXCJOb3QgRm91bmRcIixcbiAgICA0MDU6IFwiTWV0aG9kIE5vdCBBbGxvd2VkXCIsXG4gICAgNDA2OiBcIk5vdCBBY2NlcHRhYmxlXCIsXG4gICAgNDA3OiBcIlByb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkXCIsXG4gICAgNDA4OiBcIlJlcXVlc3QgVGltZW91dFwiLFxuICAgIDQxMDogXCJHb25lXCIsXG4gICAgNDEyOiBcIkNvbmRpdGlvbmFsIFJlcXVlc3QgRmFpbGVkXCIsXG4gICAgNDEzOiBcIlJlcXVlc3QgRW50aXR5IFRvbyBMYXJnZVwiLFxuICAgIDQxNDogXCJSZXF1ZXN0LVVSSSBUb28gTG9uZ1wiLFxuICAgIDQxNTogXCJVbnN1cHBvcnRlZCBNZWRpYSBUeXBlXCIsXG4gICAgNDE2OiBcIlVuc3VwcG9ydGVkIFVSSSBTY2hlbWVcIixcbiAgICA0MTc6IFwiVW5rbm93biBSZXNvdXJjZS1Qcmlvcml0eVwiLFxuICAgIDQyMDogXCJCYWQgRXh0ZW5zaW9uXCIsXG4gICAgNDIxOiBcIkV4dGVuc2lvbiBSZXF1aXJlZFwiLFxuICAgIDQyMjogXCJTZXNzaW9uIEludGVydmFsIFRvbyBTbWFsbFwiLFxuICAgIDQyMzogXCJJbnRlcnZhbCBUb28gQnJpZWZcIixcbiAgICA0Mjg6IFwiVXNlIElkZW50aXR5IEhlYWRlclwiLFxuICAgIDQyOTogXCJQcm92aWRlIFJlZmVycmVyIElkZW50aXR5XCIsXG4gICAgNDMwOiBcIkZsb3cgRmFpbGVkXCIsXG4gICAgNDMzOiBcIkFub255bWl0eSBEaXNhbGxvd2VkXCIsXG4gICAgNDM2OiBcIkJhZCBJZGVudGl0eS1JbmZvXCIsXG4gICAgNDM3OiBcIlVuc3VwcG9ydGVkIENlcnRpZmljYXRlXCIsXG4gICAgNDM4OiBcIkludmFsaWQgSWRlbnRpdHkgSGVhZGVyXCIsXG4gICAgNDM5OiBcIkZpcnN0IEhvcCBMYWNrcyBPdXRib3VuZCBTdXBwb3J0XCIsXG4gICAgNDQwOiBcIk1heC1CcmVhZHRoIEV4Y2VlZGVkXCIsXG4gICAgNDY5OiBcIkJhZCBJbmZvIFBhY2thZ2VcIixcbiAgICA0NzA6IFwiQ29uc2VudCBOZWVkZWRcIixcbiAgICA0Nzg6IFwiVW5yZXNvbHZhYmxlIERlc3RpbmF0aW9uXCIsXG4gICAgNDgwOiBcIlRlbXBvcmFyaWx5IFVuYXZhaWxhYmxlXCIsXG4gICAgNDgxOiBcIkNhbGwvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3RcIixcbiAgICA0ODI6IFwiTG9vcCBEZXRlY3RlZFwiLFxuICAgIDQ4MzogXCJUb28gTWFueSBIb3BzXCIsXG4gICAgNDg0OiBcIkFkZHJlc3MgSW5jb21wbGV0ZVwiLFxuICAgIDQ4NTogXCJBbWJpZ3VvdXNcIixcbiAgICA0ODY6IFwiQnVzeSBIZXJlXCIsXG4gICAgNDg3OiBcIlJlcXVlc3QgVGVybWluYXRlZFwiLFxuICAgIDQ4ODogXCJOb3QgQWNjZXB0YWJsZSBIZXJlXCIsXG4gICAgNDg5OiBcIkJhZCBFdmVudFwiLFxuICAgIDQ5MTogXCJSZXF1ZXN0IFBlbmRpbmdcIixcbiAgICA0OTM6IFwiVW5kZWNpcGhlcmFibGVcIixcbiAgICA0OTQ6IFwiU2VjdXJpdHkgQWdyZWVtZW50IFJlcXVpcmVkXCIsXG4gICAgNTAwOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwiLFxuICAgIDUwMTogXCJOb3QgSW1wbGVtZW50ZWRcIixcbiAgICA1MDI6IFwiQmFkIEdhdGV3YXlcIixcbiAgICA1MDM6IFwiU2VydmljZSBVbmF2YWlsYWJsZVwiLFxuICAgIDUwNDogXCJTZXJ2ZXIgVGltZS1vdXRcIixcbiAgICA1MDU6IFwiVmVyc2lvbiBOb3QgU3VwcG9ydGVkXCIsXG4gICAgNTEzOiBcIk1lc3NhZ2UgVG9vIExhcmdlXCIsXG4gICAgNTgwOiBcIlByZWNvbmRpdGlvbiBGYWlsdXJlXCIsXG4gICAgNjAwOiBcIkJ1c3kgRXZlcnl3aGVyZVwiLFxuICAgIDYwMzogXCJEZWNsaW5lXCIsXG4gICAgNjA0OiBcIkRvZXMgTm90IEV4aXN0IEFueXdoZXJlXCIsXG4gICAgNjA2OiBcIk5vdCBBY2NlcHRhYmxlXCJcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xudmFyIEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG52YXIgQ2xpZW50Q29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDbGllbnRDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENsaWVudENvbnRleHQodWEsIG1ldGhvZCwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgQ2xpZW50Q29udGV4dC5pbml0aWFsaXplcihfdGhpcywgdWEsIG1ldGhvZCwgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDbGllbnRDb250ZXh0LmluaXRpYWxpemVyID0gZnVuY3Rpb24gKG9ialRvQ29uc3RydWN0LCB1YSwgbWV0aG9kLCBvcmlnaW5hbFRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICBvYmpUb0NvbnN0cnVjdC50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5DbGllbnRDb250ZXh0O1xuICAgICAgICAvLyBWYWxpZGF0ZSBhcmd1bWVudHNcbiAgICAgICAgaWYgKG9yaWdpbmFsVGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgZW5vdWdoIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBvYmpUb0NvbnN0cnVjdC51YSA9IHVhO1xuICAgICAgICBvYmpUb0NvbnN0cnVjdC5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoXCJzaXAuY2xpZW50Y29udGV4dFwiKTtcbiAgICAgICAgb2JqVG9Db25zdHJ1Y3QubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdWEubm9ybWFsaXplVGFyZ2V0KG9yaWdpbmFsVGFyZ2V0KTtcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRhcmdldDogXCIgKyBvcmlnaW5hbFRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyb21VUkkgPSB1YS51c2VyQWdlbnRDb3JlLmNvbmZpZ3VyYXRpb24uYW9yO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtcy5mcm9tVXJpKSB7XG4gICAgICAgICAgICBmcm9tVVJJID1cbiAgICAgICAgICAgICAgICAodHlwZW9mIG9wdGlvbnMucGFyYW1zLmZyb21VcmkgPT09IFwic3RyaW5nXCIpID9cbiAgICAgICAgICAgICAgICAgICAgY29yZV8xLkdyYW1tYXIuVVJJUGFyc2Uob3B0aW9ucy5wYXJhbXMuZnJvbVVyaSkgOlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtcy5mcm9tVXJpO1xuICAgICAgICAgICAgaWYgKCFmcm9tVVJJKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgZnJvbSBVUkk6IFwiICsgb3B0aW9ucy5wYXJhbXMuZnJvbVVyaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvVVJJID0gdGFyZ2V0O1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtcy50b1VyaSkge1xuICAgICAgICAgICAgdG9VUkkgPVxuICAgICAgICAgICAgICAgICh0eXBlb2Ygb3B0aW9ucy5wYXJhbXMudG9VcmkgPT09IFwic3RyaW5nXCIpID9cbiAgICAgICAgICAgICAgICAgICAgY29yZV8xLkdyYW1tYXIuVVJJUGFyc2Uob3B0aW9ucy5wYXJhbXMudG9VcmkpIDpcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXJhbXMudG9Vcmk7XG4gICAgICAgICAgICBpZiAoIXRvVVJJKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdG8gVVJJOiBcIiArIG9wdGlvbnMucGFyYW1zLnRvVXJpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBPcHRpb25zXG4gICAgICAgICogLSBleHRyYUhlYWRlcnNcbiAgICAgICAgKiAtIHBhcmFtc1xuICAgICAgICAqIC0gY29udGVudFR5cGVcbiAgICAgICAgKiAtIGJvZHlcbiAgICAgICAgKi9cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyB8fCBPYmplY3QucHJvdG90eXBlKTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIHZhciBwYXJhbXMgPSBvcHRpb25zLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgdmFyIGJvZHlPYmo7XG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIGJvZHlPYmogPSB7XG4gICAgICAgICAgICAgICAgYm9keTogb3B0aW9ucy5ib2R5LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBvcHRpb25zLmNvbnRlbnRUeXBlID8gb3B0aW9ucy5jb250ZW50VHlwZSA6IFwiYXBwbGljYXRpb24vc2RwXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBvYmpUb0NvbnN0cnVjdC5ib2R5ID0gYm9keU9iajtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9keTtcbiAgICAgICAgaWYgKGJvZHlPYmopIHtcbiAgICAgICAgICAgIGJvZHkgPSBVdGlsc18xLlV0aWxzLmZyb21Cb2R5T2JqKGJvZHlPYmopO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1aWxkIHRoZSByZXF1ZXN0XG4gICAgICAgIG9ialRvQ29uc3RydWN0LnJlcXVlc3QgPSB1YS51c2VyQWdlbnRDb3JlLm1ha2VPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1ldGhvZCwgdGFyZ2V0LCBmcm9tVVJJLCB0b1VSSSwgcGFyYW1zLCBleHRyYUhlYWRlcnMsIGJvZHkpO1xuICAgICAgICAvKiBTZXQgb3RoZXIgcHJvcGVydGllcyBmcm9tIHRoZSByZXF1ZXN0ICovXG4gICAgICAgIGlmIChvYmpUb0NvbnN0cnVjdC5yZXF1ZXN0LmZyb20pIHtcbiAgICAgICAgICAgIG9ialRvQ29uc3RydWN0LmxvY2FsSWRlbnRpdHkgPSBvYmpUb0NvbnN0cnVjdC5yZXF1ZXN0LmZyb207XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9ialRvQ29uc3RydWN0LnJlcXVlc3QudG8pIHtcbiAgICAgICAgICAgIG9ialRvQ29uc3RydWN0LnJlbW90ZUlkZW50aXR5ID0gb2JqVG9Db25zdHJ1Y3QucmVxdWVzdC50bztcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy51YS51c2VyQWdlbnRDb3JlLnJlcXVlc3QodGhpcy5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBvbkFjY2VwdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIENsaWVudENvbnRleHQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMDtcbiAgICAgICAgdmFyIGNhdXNlID0gVXRpbHNfMS5VdGlscy5nZXRSZWFzb25QaHJhc2Uoc3RhdHVzQ29kZSk7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZS50b1N0cmluZygpKTpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjJbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZS50b1N0cmluZygpKTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51YS5hcHBsaWNhbnRzW3RoaXMudG9TdHJpbmcoKV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudWEuYXBwbGljYW50c1t0aGlzLnRvU3RyaW5nKCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhY2NlcHRlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51YS5hcHBsaWNhbnRzW3RoaXMudG9TdHJpbmcoKV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudWEuYXBwbGljYW50c1t0aGlzLnRvU3RyaW5nKCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWplY3RlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDbGllbnRDb250ZXh0LnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgdW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH07XG4gICAgQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUik7XG4gICAgfTtcbiAgICByZXR1cm4gQ2xpZW50Q29udGV4dDtcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLkNsaWVudENvbnRleHQgPSBDbGllbnRDb250ZXh0O1xuIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgZFAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogVHJhbnNhY3Rpb24gc3RhdGUuXG4gKiBAcHVibGljXG4gKi9cbnZhciBUcmFuc2FjdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChUcmFuc2FjdGlvblN0YXRlKSB7XG4gICAgVHJhbnNhY3Rpb25TdGF0ZVtcIkFjY2VwdGVkXCJdID0gXCJBY2NlcHRlZFwiO1xuICAgIFRyYW5zYWN0aW9uU3RhdGVbXCJDYWxsaW5nXCJdID0gXCJDYWxsaW5nXCI7XG4gICAgVHJhbnNhY3Rpb25TdGF0ZVtcIkNvbXBsZXRlZFwiXSA9IFwiQ29tcGxldGVkXCI7XG4gICAgVHJhbnNhY3Rpb25TdGF0ZVtcIkNvbmZpcm1lZFwiXSA9IFwiQ29uZmlybWVkXCI7XG4gICAgVHJhbnNhY3Rpb25TdGF0ZVtcIlByb2NlZWRpbmdcIl0gPSBcIlByb2NlZWRpbmdcIjtcbiAgICBUcmFuc2FjdGlvblN0YXRlW1wiVGVybWluYXRlZFwiXSA9IFwiVGVybWluYXRlZFwiO1xuICAgIFRyYW5zYWN0aW9uU3RhdGVbXCJUcnlpbmdcIl0gPSBcIlRyeWluZ1wiO1xufSkoVHJhbnNhY3Rpb25TdGF0ZSA9IGV4cG9ydHMuVHJhbnNhY3Rpb25TdGF0ZSB8fCAoZXhwb3J0cy5UcmFuc2FjdGlvblN0YXRlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vbWVzc2FnZXNcIik7XG4vKipcbiAqIEZJWE1FOiBUT0RPOiBTaG91bGQgYmUgY29uZmlndXJhYmxlL3ZhcmlhYmxlLlxuICovXG5leHBvcnRzLkFsbG93ZWRNZXRob2RzID0gW1xuICAgIG1lc3NhZ2VzXzEuQy5BQ0ssXG4gICAgbWVzc2FnZXNfMS5DLkJZRSxcbiAgICBtZXNzYWdlc18xLkMuQ0FOQ0VMLFxuICAgIG1lc3NhZ2VzXzEuQy5JTkZPLFxuICAgIG1lc3NhZ2VzXzEuQy5JTlZJVEUsXG4gICAgbWVzc2FnZXNfMS5DLk1FU1NBR0UsXG4gICAgbWVzc2FnZXNfMS5DLk5PVElGWSxcbiAgICBtZXNzYWdlc18xLkMuT1BUSU9OUyxcbiAgICBtZXNzYWdlc18xLkMuUFJBQ0ssXG4gICAgbWVzc2FnZXNfMS5DLlJFRkVSLFxuICAgIG1lc3NhZ2VzXzEuQy5SRUdJU1RFUixcbiAgICBtZXNzYWdlc18xLkMuU1VCU0NSSUJFXG5dO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV07XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIga2V5LCBvd24sIG91dDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZiAob3duICYmIGhhcyhleHBvcnRzLCBrZXkpKSBjb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uIChDKSB7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQykge1xuICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEMoKTtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYgKElTX1BST1RPKSB7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYgKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0pIGhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi42LjEyJyB9O1xuaWYgKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpIF9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHBlZ0dyYW1tYXIgPSB0c2xpYl8xLl9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vLi4vZ3JhbW1hci9kaXN0L2dyYW1tYXJcIikpO1xuLyoqXG4gKiBHcmFtbWFyLlxuICogQGludGVybmFsXG4gKi9cbnZhciBHcmFtbWFyO1xuKGZ1bmN0aW9uIChHcmFtbWFyKSB7XG4gICAgLyoqXG4gICAgICogUGFyc2UuXG4gICAgICogQHBhcmFtIGlucHV0IC1cbiAgICAgKiBAcGFyYW0gc3RhcnRSdWxlIC1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZShpbnB1dCwgc3RhcnRSdWxlKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0geyBzdGFydFJ1bGU6IHN0YXJ0UnVsZSB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGVnR3JhbW1hci5wYXJzZShpbnB1dCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25zLmRhdGE7XG4gICAgfVxuICAgIEdyYW1tYXIucGFyc2UgPSBwYXJzZTtcbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aGUgZ2l2ZW4gc3RyaW5nIGFuZCByZXR1cm5zIGEgU0lQLk5hbWVBZGRySGVhZGVyIGluc3RhbmNlIG9yIHVuZGVmaW5lZCBpZlxuICAgICAqIGl0IGlzIGFuIGludmFsaWQgTmFtZUFkZHJIZWFkZXIuXG4gICAgICogQHBhcmFtIG5hbWVfYWRkcl9oZWFkZXIgLVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hbWVBZGRySGVhZGVyUGFyc2UobmFtZUFkZHJIZWFkZXIpIHtcbiAgICAgICAgdmFyIHBhcnNlZE5hbWVBZGRySGVhZGVyID0gR3JhbW1hci5wYXJzZShuYW1lQWRkckhlYWRlciwgXCJOYW1lX0FkZHJfSGVhZGVyXCIpO1xuICAgICAgICByZXR1cm4gcGFyc2VkTmFtZUFkZHJIZWFkZXIgIT09IC0xID8gcGFyc2VkTmFtZUFkZHJIZWFkZXIgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIEdyYW1tYXIubmFtZUFkZHJIZWFkZXJQYXJzZSA9IG5hbWVBZGRySGVhZGVyUGFyc2U7XG4gICAgLyoqXG4gICAgICogUGFyc2UgdGhlIGdpdmVuIHN0cmluZyBhbmQgcmV0dXJucyBhIFNJUC5VUkkgaW5zdGFuY2Ugb3IgdW5kZWZpbmVkIGlmXG4gICAgICogaXQgaXMgYW4gaW52YWxpZCBVUkkuXG4gICAgICogQHBhcmFtIHVyaSAtXG4gICAgICovXG4gICAgZnVuY3Rpb24gVVJJUGFyc2UodXJpKSB7XG4gICAgICAgIHZhciBwYXJzZWRVcmkgPSBHcmFtbWFyLnBhcnNlKHVyaSwgXCJTSVBfVVJJXCIpO1xuICAgICAgICByZXR1cm4gcGFyc2VkVXJpICE9PSAtMSA/IHBhcnNlZFVyaSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgR3JhbW1hci5VUklQYXJzZSA9IFVSSVBhcnNlO1xufSkoR3JhbW1hciA9IGV4cG9ydHMuR3JhbW1hciB8fCAoZXhwb3J0cy5HcmFtbWFyID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zZXNzaW9uXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9leGNlcHRpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHJhbnNhY3Rpb24tc3RhdGUtZXJyb3JcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHJhbnNwb3J0LWVycm9yXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi9VdGlsc1wiKTtcbnZhciBTZXJ2ZXJDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlcnZlckNvbnRleHQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VydmVyQ29udGV4dCh1YSwgaW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmluY29taW5nUmVxdWVzdCA9IGluY29taW5nUmVxdWVzdDtcbiAgICAgICAgX3RoaXMuZGF0YSA9IHt9O1xuICAgICAgICBTZXJ2ZXJDb250ZXh0LmluaXRpYWxpemVyKF90aGlzLCB1YSwgaW5jb21pbmdSZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvLyBoYWNrIHRvIGdldCBhcm91bmQgb3VyIG11bHRpcGxlIGluaGVyaXRhbmNlIGlzc3Vlc1xuICAgIFNlcnZlckNvbnRleHQuaW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAob2JqZWN0VG9Db25zdHJ1Y3QsIHVhLCBpbmNvbWluZ1JlcXVlc3QpIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBpbmNvbWluZ1JlcXVlc3QubWVzc2FnZTtcbiAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuU2VydmVyQ29udGV4dDtcbiAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QudWEgPSB1YTtcbiAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLnNlcnZlcmNvbnRleHRcIik7XG4gICAgICAgIG9iamVjdFRvQ29uc3RydWN0LnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICBpZiAocmVxdWVzdC5ib2R5KSB7XG4gICAgICAgICAgICBvYmplY3RUb0NvbnN0cnVjdC5ib2R5ID0gcmVxdWVzdC5ib2R5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1ZXN0Lmhhc0hlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSkge1xuICAgICAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QuY29udGVudFR5cGUgPSByZXF1ZXN0LmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3RUb0NvbnN0cnVjdC5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QubG9jYWxJZGVudGl0eSA9IHJlcXVlc3QudG87XG4gICAgICAgIG9iamVjdFRvQ29uc3RydWN0LnJlbW90ZUlkZW50aXR5ID0gcmVxdWVzdC5mcm9tO1xuICAgICAgICB2YXIgaGFzQXNzZXJ0ZWRJZGVudGl0eSA9IHJlcXVlc3QuaGFzSGVhZGVyKFwiUC1Bc3NlcnRlZC1JZGVudGl0eVwiKTtcbiAgICAgICAgaWYgKGhhc0Fzc2VydGVkSWRlbnRpdHkpIHtcbiAgICAgICAgICAgIHZhciBhc3NlcnRlZElkZW50aXR5ID0gcmVxdWVzdC5nZXRIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpO1xuICAgICAgICAgICAgaWYgKGFzc2VydGVkSWRlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RUb0NvbnN0cnVjdC5hc3NlcnRlZElkZW50aXR5ID0gY29yZV8xLkdyYW1tYXIubmFtZUFkZHJIZWFkZXJQYXJzZShhc3NlcnRlZElkZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2VydmVyQ29udGV4dC5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgwO1xuICAgICAgICBvcHRpb25zLm1pbkNvZGUgPSAxMDA7XG4gICAgICAgIG9wdGlvbnMubWF4Q29kZSA9IDE5OTtcbiAgICAgICAgb3B0aW9ucy5ldmVudHMgPSBbXCJwcm9ncmVzc1wiXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbHkob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMjAwO1xuICAgICAgICBvcHRpb25zLm1pbkNvZGUgPSAyMDA7XG4gICAgICAgIG9wdGlvbnMubWF4Q29kZSA9IDI5OTtcbiAgICAgICAgb3B0aW9ucy5ldmVudHMgPSBbXCJhY2NlcHRlZFwiXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbHkob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgNDgwO1xuICAgICAgICBvcHRpb25zLm1pbkNvZGUgPSAzMDA7XG4gICAgICAgIG9wdGlvbnMubWF4Q29kZSA9IDY5OTtcbiAgICAgICAgb3B0aW9ucy5ldmVudHMgPSBbXCJyZWplY3RlZFwiLCBcImZhaWxlZFwiXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbHkob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5yZXBseSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDEwMDtcbiAgICAgICAgdmFyIG1pbkNvZGUgPSBvcHRpb25zLm1pbkNvZGUgfHwgMTAwO1xuICAgICAgICB2YXIgbWF4Q29kZSA9IG9wdGlvbnMubWF4Q29kZSB8fCA2OTk7XG4gICAgICAgIHZhciByZWFzb25QaHJhc2UgPSBVdGlsc18xLlV0aWxzLmdldFJlYXNvblBocmFzZShzdGF0dXNDb2RlLCBvcHRpb25zLnJlYXNvblBocmFzZSk7XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSBvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXTtcbiAgICAgICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHkgPyBjb3JlXzEuZnJvbUJvZHlMZWdhY3kob3B0aW9ucy5ib2R5KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzIHx8IFtdO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IG1pbkNvZGUgfHwgc3RhdHVzQ29kZSA+IG1heENvZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXR1c0NvZGU6IFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3BvbnNlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUsXG4gICAgICAgICAgICByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSxcbiAgICAgICAgICAgIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keVxuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlU3RyaW5nID0gc3RhdHVzQ29kZS50b1N0cmluZygpO1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xMDAkLy50ZXN0KHN0YXR1c0NvZGVTdHJpbmcpOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5pbmNvbWluZ1JlcXVlc3QudHJ5aW5nKHJlc3BvbnNlT3B0aW9ucykubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGVTdHJpbmcpOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MocmVzcG9uc2VPcHRpb25zKS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjJbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZVN0cmluZyk6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLmluY29taW5nUmVxdWVzdC5hY2NlcHQocmVzcG9uc2VPcHRpb25zKS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjNbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZVN0cmluZyk6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLmluY29taW5nUmVxdWVzdC5yZWRpcmVjdChbXSwgcmVzcG9uc2VPcHRpb25zKS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXls0LTZdWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGVTdHJpbmcpOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5pbmNvbWluZ1JlcXVlc3QucmVqZWN0KHJlc3BvbnNlT3B0aW9ucykubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZSBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChldmVudCwgcmVzcG9uc2UsIHJlYXNvblBocmFzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlcnZlckNvbnRleHQucHJvdG90eXBlLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCB1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgfTtcbiAgICBTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgdW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICB9O1xuICAgIHJldHVybiBTZXJ2ZXJDb250ZXh0O1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuU2VydmVyQ29udGV4dCA9IFNlcnZlckNvbnRleHQ7XG4iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG5leHBvcnRzLkRpZ2VzdEF1dGhlbnRpY2F0aW9uID0gY29yZV8xLkRpZ2VzdEF1dGhlbnRpY2F0aW9uO1xuZXhwb3J0cy5HcmFtbWFyID0gY29yZV8xLkdyYW1tYXI7XG5leHBvcnRzLkluY29taW5nUmVxdWVzdCA9IGNvcmVfMS5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlO1xuZXhwb3J0cy5JbmNvbWluZ1Jlc3BvbnNlID0gY29yZV8xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlO1xuZXhwb3J0cy5Mb2dnZXJGYWN0b3J5ID0gY29yZV8xLkxvZ2dlckZhY3Rvcnk7XG5leHBvcnRzLk5hbWVBZGRySGVhZGVyID0gY29yZV8xLk5hbWVBZGRySGVhZGVyO1xuZXhwb3J0cy5PdXRnb2luZ1JlcXVlc3QgPSBjb3JlXzEuT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZTtcbmV4cG9ydHMuUGFyc2VyID0gY29yZV8xLlBhcnNlcjtcbmV4cG9ydHMuVGltZXJzID0gY29yZV8xLlRpbWVycztcbmV4cG9ydHMuVVJJID0gY29yZV8xLlVSSTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xuZXhwb3J0cy5DbGllbnRDb250ZXh0ID0gQ2xpZW50Q29udGV4dF8xLkNsaWVudENvbnRleHQ7XG52YXIgQ29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9Db25zdGFudHNcIik7XG5leHBvcnRzLkMgPSBDb25zdGFudHNfMS5DO1xudmFyIEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbmV4cG9ydHMuRGlhbG9nU3RhdHVzID0gRW51bXNfMS5EaWFsb2dTdGF0dXM7XG5leHBvcnRzLlNlc3Npb25TdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXM7XG5leHBvcnRzLlR5cGVTdHJpbmdzID0gRW51bXNfMS5UeXBlU3RyaW5ncztcbmV4cG9ydHMuVUFTdGF0dXMgPSBFbnVtc18xLlVBU3RhdHVzO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG5leHBvcnRzLkV4Y2VwdGlvbnMgPSBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucztcbnZhciBQdWJsaXNoQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUHVibGlzaENvbnRleHRcIik7XG5leHBvcnRzLlB1Ymxpc2hDb250ZXh0ID0gUHVibGlzaENvbnRleHRfMS5QdWJsaXNoQ29udGV4dDtcbnZhciBSZWZlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1JlZmVyQ29udGV4dFwiKTtcbmV4cG9ydHMuUmVmZXJDbGllbnRDb250ZXh0ID0gUmVmZXJDb250ZXh0XzEuUmVmZXJDbGllbnRDb250ZXh0O1xuZXhwb3J0cy5SZWZlclNlcnZlckNvbnRleHQgPSBSZWZlckNvbnRleHRfMS5SZWZlclNlcnZlckNvbnRleHQ7XG52YXIgUmVnaXN0ZXJDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9SZWdpc3RlckNvbnRleHRcIik7XG5leHBvcnRzLlJlZ2lzdGVyQ29udGV4dCA9IFJlZ2lzdGVyQ29udGV4dF8xLlJlZ2lzdGVyQ29udGV4dDtcbnZhciBTZXJ2ZXJDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9TZXJ2ZXJDb250ZXh0XCIpO1xuZXhwb3J0cy5TZXJ2ZXJDb250ZXh0ID0gU2VydmVyQ29udGV4dF8xLlNlcnZlckNvbnRleHQ7XG52YXIgU2Vzc2lvbl8xID0gcmVxdWlyZShcIi4vU2Vzc2lvblwiKTtcbmV4cG9ydHMuSW52aXRlQ2xpZW50Q29udGV4dCA9IFNlc3Npb25fMS5JbnZpdGVDbGllbnRDb250ZXh0O1xuZXhwb3J0cy5JbnZpdGVTZXJ2ZXJDb250ZXh0ID0gU2Vzc2lvbl8xLkludml0ZVNlcnZlckNvbnRleHQ7XG5leHBvcnRzLlNlc3Npb24gPSBTZXNzaW9uXzEuU2Vzc2lvbjtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbmV4cG9ydHMuU3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uO1xudmFyIFRyYW5zcG9ydF8xID0gcmVxdWlyZShcIi4vVHJhbnNwb3J0XCIpO1xuZXhwb3J0cy5UcmFuc3BvcnQgPSBUcmFuc3BvcnRfMS5UcmFuc3BvcnQ7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi9jb3JlL3RyYW5zYWN0aW9uc1wiKTtcbnZhciBUcmFuc2FjdGlvbnMgPSB7XG4gICAgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uc18xLkludml0ZUNsaWVudFRyYW5zYWN0aW9uLFxuICAgIEludml0ZVNlcnZlclRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbixcbiAgICBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbjogdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sXG4gICAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uXG59O1xuZXhwb3J0cy5UcmFuc2FjdGlvbnMgPSBUcmFuc2FjdGlvbnM7XG52YXIgVUFfMSA9IHJlcXVpcmUoXCIuL1VBXCIpO1xuZXhwb3J0cy5tYWtlVXNlckFnZW50Q29yZUNvbmZpZ3VyYXRpb25Gcm9tVUEgPSBVQV8xLm1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQTtcbmV4cG9ydHMuVUEgPSBVQV8xLlVBO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi9VdGlsc1wiKTtcbmV4cG9ydHMuVXRpbHMgPSBVdGlsc18xLlV0aWxzO1xudmFyIFdlYiA9IHRzbGliXzEuX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL1dlYi9pbmRleFwiKSk7XG5leHBvcnRzLldlYiA9IFdlYjtcbnZhciB2ZXJzaW9uID0gQ29uc3RhbnRzXzEuQy52ZXJzaW9uO1xuZXhwb3J0cy52ZXJzaW9uID0gdmVyc2lvbjtcbnZhciBuYW1lID0gXCJzaXAuanNcIjtcbmV4cG9ydHMubmFtZSA9IG5hbWU7XG52YXIgQ29yZSA9IHRzbGliXzEuX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvcmUvaW5kZXhcIikpO1xuZXhwb3J0cy5Db3JlID0gQ29yZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfd2Vha01hcCA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy93ZWFrLW1hcCcpO1xuXG52YXIgX3dlYWtNYXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2Vha01hcCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBlbWl0dGVyID0gbmV3IF93ZWFrTWFwMi5kZWZhdWx0KCk7XG5cbnZhciBFbWl0dGVyID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFbWl0dGVyKCkge1xuXHRcdCgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEVtaXR0ZXIpO1xuXG5cdFx0ZW1pdHRlci5zZXQodGhpcywge1xuXHRcdFx0ZXZlbnRzOiB7fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5ldmVudExlbmd0aCA9IDA7XG5cdH1cblxuXHQoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShFbWl0dGVyLCBbe1xuXHRcdGtleTogJ29uJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnQsIGNiKSB7XG5cdFx0XHR2YXIgb25jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cblx0XHRcdGlmICh0eXBlb2YgY2IgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIGNhbGxiYWNrIG1ldGhvZC4nKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdMaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnRdID0gdGhpcy5ldmVudHNbZXZlbnRdIHx8IFtdO1xuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnRdLnB1c2goe1xuXHRcdFx0XHRjYjogY2IsXG5cdFx0XHRcdG9uY2U6IG9uY2Vcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmV2ZW50TGVuZ3RoKys7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ29mZicsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudCwgY2IpIHtcblx0XHRcdGlmICh0eXBlb2YgY2IgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIGNhbGxiYWNrIG1ldGhvZC4nKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdMaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLmV2ZW50c1tldmVudF0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRXZlbnQgbm90IGZvdW5kIC0gdGhlIGV2ZW50IHlvdSBwcm92aWRlZCBpczogJyArIGV2ZW50KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcblxuXHRcdFx0bGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHtcblx0XHRcdFx0aWYgKHYuY2IgPT09IGNiKSB7XG5cdFx0XHRcdFx0bGlzdGVuZXJzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmV2ZW50c1tldmVudF07XG5cblx0XHRcdFx0dGhpcy5ldmVudExlbmd0aC0tO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICd0cmlnZ2VyJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihldmVudCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRcdGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIGV2ZW50ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgYW4gZXZlbnQgdG8gdHJpZ2dlci4nKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XTtcblx0XHRcdHZhciBvbmNlTGlzdGVuZXJzID0gW107XG5cblx0XHRcdGlmICh0eXBlb2YgbGlzdGVuZXJzICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xuXHRcdFx0XHRcdHYuY2IuYXBwbHkoX3RoaXMsIGFyZ3MpO1xuXG5cdFx0XHRcdFx0aWYgKHYub25jZSkgb25jZUxpc3RlbmVycy51bnNoaWZ0KGspO1xuXG5cdFx0XHRcdFx0b25jZUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnMuc3BsaWNlKGssIDEpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnb25jZScsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGNiKSB7XG5cdFx0XHR0aGlzLm9uKGV2ZW50LCBjYiwgdHJ1ZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnZGVzdHJveScsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0XHRlbWl0dGVyLmRlbGV0ZSh0aGlzKTtcblxuXHRcdFx0dGhpcy5ldmVudExlbmd0aCA9IDA7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnZXZlbnRzJyxcblx0XHRnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XHRcdHJldHVybiBlbWl0dGVyLmdldCh0aGlzKS5ldmVudHM7XG5cdFx0fVxuXHR9XSk7XG5cdHJldHVybiBFbWl0dGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBFbWl0dGVyOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9kaWFsb2dcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2Vzc2lvbi1kaWFsb2dcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3Vic2NyaXB0aW9uLWRpYWxvZ1wiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xuLyoqXG4gKiBEaWFsb2cuXG4gKiBAcmVtYXJrc1xuICogQSBrZXkgY29uY2VwdCBmb3IgYSB1c2VyIGFnZW50IGlzIHRoYXQgb2YgYSBkaWFsb2cuICBBIGRpYWxvZ1xuICogcmVwcmVzZW50cyBhIHBlZXItdG8tcGVlciBTSVAgcmVsYXRpb25zaGlwIGJldHdlZW4gdHdvIHVzZXIgYWdlbnRzXG4gKiB0aGF0IHBlcnNpc3RzIGZvciBzb21lIHRpbWUuICBUaGUgZGlhbG9nIGZhY2lsaXRhdGVzIHNlcXVlbmNpbmcgb2ZcbiAqIG1lc3NhZ2VzIGJldHdlZW4gdGhlIHVzZXIgYWdlbnRzIGFuZCBwcm9wZXIgcm91dGluZyBvZiByZXF1ZXN0c1xuICogYmV0d2VlbiBib3RoIG9mIHRoZW0uICBUaGUgZGlhbG9nIHJlcHJlc2VudHMgYSBjb250ZXh0IGluIHdoaWNoIHRvXG4gKiBpbnRlcnByZXQgU0lQIG1lc3NhZ2VzLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMlxuICogQHB1YmxpY1xuICovXG52YXIgRGlhbG9nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIERpYWxvZyBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gY29yZSAtIFVzZXIgYWdlbnQgY29yZS5cbiAgICAgKiBAcGFyYW0gZGlhbG9nU3RhdGUgLSBJbml0aWFsIGRpYWxvZyBzdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaWFsb2coY29yZSwgZGlhbG9nU3RhdGUpIHtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy5kaWFsb2dTdGF0ZSA9IGRpYWxvZ1N0YXRlO1xuICAgICAgICB0aGlzLmNvcmUuZGlhbG9ncy5zZXQodGhpcy5pZCwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gYSBVQUMgcmVjZWl2ZXMgYSByZXNwb25zZSB0aGF0IGVzdGFibGlzaGVzIGEgZGlhbG9nLCBpdFxuICAgICAqIGNvbnN0cnVjdHMgdGhlIHN0YXRlIG9mIHRoZSBkaWFsb2cuICBUaGlzIHN0YXRlIE1VU1QgYmUgbWFpbnRhaW5lZFxuICAgICAqIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGRpYWxvZy5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMlxuICAgICAqIEBwYXJhbSBvdXRnb2luZ1JlcXVlc3RNZXNzYWdlIC0gT3V0Z29pbmcgcmVxdWVzdCBtZXNzYWdlIGZvciBkaWFsb2cuXG4gICAgICogQHBhcmFtIGluY29taW5nUmVzcG9uc2VNZXNzYWdlIC0gSW5jb21pbmcgcmVzcG9uc2UgbWVzc2FnZSBjcmVhdGluZyBkaWFsb2cuXG4gICAgICovXG4gICAgRGlhbG9nLmluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudENsaWVudCA9IGZ1bmN0aW9uIChvdXRnb2luZ1JlcXVlc3RNZXNzYWdlLCBpbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSkge1xuICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCB3YXMgc2VudCBvdmVyIFRMUywgYW5kIHRoZSBSZXF1ZXN0LVVSSSBjb250YWluZWQgYVxuICAgICAgICAvLyBTSVBTIFVSSSwgdGhlIFwic2VjdXJlXCIgZmxhZyBpcyBzZXQgdG8gVFJVRS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjJcbiAgICAgICAgdmFyIHNlY3VyZSA9IGZhbHNlOyAvLyBGSVhNRTogQ3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIFRMUy5cbiAgICAgICAgLy8gVGhlIHJvdXRlIHNldCBNVVNUIGJlIHNldCB0byB0aGUgbGlzdCBvZiBVUklzIGluIHRoZSBSZWNvcmQtUm91dGVcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIGZyb20gdGhlIHJlc3BvbnNlLCB0YWtlbiBpbiByZXZlcnNlIG9yZGVyIGFuZCBwcmVzZXJ2aW5nXG4gICAgICAgIC8vIGFsbCBVUkkgcGFyYW1ldGVycy4gIElmIG5vIFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGQgaXMgcHJlc2VudCBpblxuICAgICAgICAvLyB0aGUgcmVzcG9uc2UsIHRoZSByb3V0ZSBzZXQgTVVTVCBiZSBzZXQgdG8gdGhlIGVtcHR5IHNldC4gIFRoaXMgcm91dGVcbiAgICAgICAgLy8gc2V0LCBldmVuIGlmIGVtcHR5LCBvdmVycmlkZXMgYW55IHByZS1leGlzdGluZyByb3V0ZSBzZXQgZm9yIGZ1dHVyZVxuICAgICAgICAvLyByZXF1ZXN0cyBpbiB0aGlzIGRpYWxvZy4gIFRoZSByZW1vdGUgdGFyZ2V0IE1VU1QgYmUgc2V0IHRvIHRoZSBVUklcbiAgICAgICAgLy8gZnJvbSB0aGUgQ29udGFjdCBoZWFkZXIgZmllbGQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMlxuICAgICAgICB2YXIgcm91dGVTZXQgPSBpbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZS5nZXRIZWFkZXJzKFwicmVjb3JkLXJvdXRlXCIpLnJldmVyc2UoKTtcbiAgICAgICAgdmFyIGNvbnRhY3QgPSBpbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZS5wYXJzZUhlYWRlcihcImNvbnRhY3RcIik7XG4gICAgICAgIGlmICghY29udGFjdCkgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhY3QgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjb250YWN0IGluc3RhbmNlb2YgbWVzc2FnZXNfMS5OYW1lQWRkckhlYWRlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhY3Qgbm90IGluc3RhbmNlIG9mIE5hbWVBZGRySGVhZGVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVtb3RlVGFyZ2V0ID0gY29udGFjdC51cmk7XG4gICAgICAgIC8vIFRoZSBsb2NhbCBzZXF1ZW5jZSBudW1iZXIgTVVTVCBiZSBzZXQgdG8gdGhlIHZhbHVlIG9mIHRoZSBzZXF1ZW5jZVxuICAgICAgICAvLyBudW1iZXIgaW4gdGhlIENTZXEgaGVhZGVyIGZpZWxkIG9mIHRoZSByZXF1ZXN0LiAgVGhlIHJlbW90ZSBzZXF1ZW5jZVxuICAgICAgICAvLyBudW1iZXIgTVVTVCBiZSBlbXB0eSAoaXQgaXMgZXN0YWJsaXNoZWQgd2hlbiB0aGUgcmVtb3RlIFVBIHNlbmRzIGFcbiAgICAgICAgLy8gcmVxdWVzdCB3aXRoaW4gdGhlIGRpYWxvZykuICBUaGUgY2FsbCBpZGVudGlmaWVyIGNvbXBvbmVudCBvZiB0aGVcbiAgICAgICAgLy8gZGlhbG9nIElEIE1VU1QgYmUgc2V0IHRvIHRoZSB2YWx1ZSBvZiB0aGUgQ2FsbC1JRCBpbiB0aGUgcmVxdWVzdC5cbiAgICAgICAgLy8gVGhlIGxvY2FsIHRhZyBjb21wb25lbnQgb2YgdGhlIGRpYWxvZyBJRCBNVVNUIGJlIHNldCB0byB0aGUgdGFnIGluXG4gICAgICAgIC8vIHRoZSBGcm9tIGZpZWxkIGluIHRoZSByZXF1ZXN0LCBhbmQgdGhlIHJlbW90ZSB0YWcgY29tcG9uZW50IG9mIHRoZVxuICAgICAgICAvLyBkaWFsb2cgSUQgTVVTVCBiZSBzZXQgdG8gdGhlIHRhZyBpbiB0aGUgVG8gZmllbGQgb2YgdGhlIHJlc3BvbnNlLiAgQVxuICAgICAgICAvLyBVQUMgTVVTVCBiZSBwcmVwYXJlZCB0byByZWNlaXZlIGEgcmVzcG9uc2Ugd2l0aG91dCBhIHRhZyBpbiB0aGUgVG9cbiAgICAgICAgLy8gZmllbGQsIGluIHdoaWNoIGNhc2UgdGhlIHRhZyBpcyBjb25zaWRlcmVkIHRvIGhhdmUgYSB2YWx1ZSBvZiBudWxsLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICBUaGlzIGlzIHRvIG1haW50YWluIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggUkZDIDI1NDMsIHdoaWNoXG4gICAgICAgIC8vICAgIGRpZCBub3QgbWFuZGF0ZSBUbyB0YWdzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMlxuICAgICAgICB2YXIgbG9jYWxTZXF1ZW5jZU51bWJlciA9IG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UuY3NlcTtcbiAgICAgICAgdmFyIHJlbW90ZVNlcXVlbmNlTnVtYmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgY2FsbElkID0gb3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5jYWxsSWQ7XG4gICAgICAgIHZhciBsb2NhbFRhZyA9IG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UuZnJvbVRhZztcbiAgICAgICAgdmFyIHJlbW90ZVRhZyA9IGluY29taW5nUmVzcG9uc2VNZXNzYWdlLnRvVGFnO1xuICAgICAgICBpZiAoIWNhbGxJZCkgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGwgaWQgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxvY2FsVGFnKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB0YWcgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlbW90ZVRhZykgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvIHRhZyB1bmRlZmluZWQuXCIpOyAvLyBGSVhNRTogTm8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBSRkMgMjU0M1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSByZW1vdGUgVVJJIE1VU1QgYmUgc2V0IHRvIHRoZSBVUkkgaW4gdGhlIFRvIGZpZWxkLCBhbmQgdGhlIGxvY2FsXG4gICAgICAgIC8vIFVSSSBNVVNUIGJlIHNldCB0byB0aGUgVVJJIGluIHRoZSBGcm9tIGZpZWxkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMlxuICAgICAgICBpZiAoIW91dGdvaW5nUmVxdWVzdE1lc3NhZ2UuZnJvbSkgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZyb20gdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW91dGdvaW5nUmVxdWVzdE1lc3NhZ2UudG8pIHsgLy8gVE9ETzogUmV2aWV3IHRvIG1ha2Ugc3VyZSB0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUbyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2NhbFVSSSA9IG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UuZnJvbS51cmk7XG4gICAgICAgIHZhciByZW1vdGVVUkkgPSBvdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnRvLnVyaTtcbiAgICAgICAgLy8gQSBkaWFsb2cgY2FuIGFsc28gYmUgaW4gdGhlIFwiZWFybHlcIiBzdGF0ZSwgd2hpY2ggb2NjdXJzIHdoZW4gaXQgaXNcbiAgICAgICAgLy8gY3JlYXRlZCB3aXRoIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UsIGFuZCB0aGVuIHRyYW5zaXRpb24gdG8gdGhlXG4gICAgICAgIC8vIFwiY29uZmlybWVkXCIgc3RhdGUgd2hlbiBhIDJ4eCBmaW5hbCByZXNwb25zZSBhcnJpdmVzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyXG4gICAgICAgIGlmICghaW5jb21pbmdSZXNwb25zZU1lc3NhZ2Uuc3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb21pbmcgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWFybHkgPSBpbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZS5zdGF0dXNDb2RlIDwgMjAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB2YXIgZGlhbG9nU3RhdGUgPSB7XG4gICAgICAgICAgICBpZDogY2FsbElkICsgbG9jYWxUYWcgKyByZW1vdGVUYWcsXG4gICAgICAgICAgICBlYXJseTogZWFybHksXG4gICAgICAgICAgICBjYWxsSWQ6IGNhbGxJZCxcbiAgICAgICAgICAgIGxvY2FsVGFnOiBsb2NhbFRhZyxcbiAgICAgICAgICAgIHJlbW90ZVRhZzogcmVtb3RlVGFnLFxuICAgICAgICAgICAgbG9jYWxTZXF1ZW5jZU51bWJlcjogbG9jYWxTZXF1ZW5jZU51bWJlcixcbiAgICAgICAgICAgIHJlbW90ZVNlcXVlbmNlTnVtYmVyOiByZW1vdGVTZXF1ZW5jZU51bWJlcixcbiAgICAgICAgICAgIGxvY2FsVVJJOiBsb2NhbFVSSSxcbiAgICAgICAgICAgIHJlbW90ZVVSSTogcmVtb3RlVVJJLFxuICAgICAgICAgICAgcmVtb3RlVGFyZ2V0OiByZW1vdGVUYXJnZXQsXG4gICAgICAgICAgICByb3V0ZVNldDogcm91dGVTZXQsXG4gICAgICAgICAgICBzZWN1cmU6IHNlY3VyZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlhbG9nU3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgVUFTIHRoZW4gY29uc3RydWN0cyB0aGUgc3RhdGUgb2YgdGhlIGRpYWxvZy4gIFRoaXMgc3RhdGUgTVVTVCBiZVxuICAgICAqIG1haW50YWluZWQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgZGlhbG9nLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4xXG4gICAgICogQHBhcmFtIGluY29taW5nUmVxdWVzdE1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2UgY3JlYXRpbmcgZGlhbG9nLlxuICAgICAqIEBwYXJhbSB0b1RhZyAtIFRhZyBpbiB0aGUgVG8gZmllbGQgaW4gdGhlIHJlc3BvbnNlIHRvIHRoZSBpbmNvbWluZyByZXF1ZXN0LlxuICAgICAqL1xuICAgIERpYWxvZy5pbml0aWFsRGlhbG9nU3RhdGVGb3JVc2VyQWdlbnRTZXJ2ZXIgPSBmdW5jdGlvbiAoaW5jb21pbmdSZXF1ZXN0TWVzc2FnZSwgdG9UYWcsIGVhcmx5KSB7XG4gICAgICAgIGlmIChlYXJseSA9PT0gdm9pZCAwKSB7IGVhcmx5ID0gZmFsc2U7IH1cbiAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgYXJyaXZlZCBvdmVyIFRMUywgYW5kIHRoZSBSZXF1ZXN0LVVSSSBjb250YWluZWQgYSBTSVBTXG4gICAgICAgIC8vIFVSSSwgdGhlIFwic2VjdXJlXCIgZmxhZyBpcyBzZXQgdG8gVFJVRS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjFcbiAgICAgICAgdmFyIHNlY3VyZSA9IGZhbHNlOyAvLyBGSVhNRTogQ3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIFRMUy5cbiAgICAgICAgLy8gVGhlIHJvdXRlIHNldCBNVVNUIGJlIHNldCB0byB0aGUgbGlzdCBvZiBVUklzIGluIHRoZSBSZWNvcmQtUm91dGVcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIGZyb20gdGhlIHJlcXVlc3QsIHRha2VuIGluIG9yZGVyIGFuZCBwcmVzZXJ2aW5nIGFsbCBVUklcbiAgICAgICAgLy8gcGFyYW1ldGVycy4gIElmIG5vIFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGQgaXMgcHJlc2VudCBpbiB0aGVcbiAgICAgICAgLy8gcmVxdWVzdCwgdGhlIHJvdXRlIHNldCBNVVNUIGJlIHNldCB0byB0aGUgZW1wdHkgc2V0LiAgVGhpcyByb3V0ZSBzZXQsXG4gICAgICAgIC8vIGV2ZW4gaWYgZW1wdHksIG92ZXJyaWRlcyBhbnkgcHJlLWV4aXN0aW5nIHJvdXRlIHNldCBmb3IgZnV0dXJlXG4gICAgICAgIC8vIHJlcXVlc3RzIGluIHRoaXMgZGlhbG9nLiAgVGhlIHJlbW90ZSB0YXJnZXQgTVVTVCBiZSBzZXQgdG8gdGhlIFVSSVxuICAgICAgICAvLyBmcm9tIHRoZSBDb250YWN0IGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjFcbiAgICAgICAgdmFyIHJvdXRlU2V0ID0gaW5jb21pbmdSZXF1ZXN0TWVzc2FnZS5nZXRIZWFkZXJzKFwicmVjb3JkLXJvdXRlXCIpO1xuICAgICAgICB2YXIgY29udGFjdCA9IGluY29taW5nUmVxdWVzdE1lc3NhZ2UucGFyc2VIZWFkZXIoXCJjb250YWN0XCIpO1xuICAgICAgICBpZiAoIWNvbnRhY3QpIHsgLy8gVE9ETzogUmV2aWV3IHRvIG1ha2Ugc3VyZSB0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY29udGFjdCBpbnN0YW5jZW9mIG1lc3NhZ2VzXzEuTmFtZUFkZHJIZWFkZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IG5vdCBpbnN0YW5jZSBvZiBOYW1lQWRkckhlYWRlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbW90ZVRhcmdldCA9IGNvbnRhY3QudXJpO1xuICAgICAgICAvLyBUaGUgcmVtb3RlIHNlcXVlbmNlIG51bWJlciBNVVNUIGJlIHNldCB0byB0aGUgdmFsdWUgb2YgdGhlIHNlcXVlbmNlXG4gICAgICAgIC8vIG51bWJlciBpbiB0aGUgQ1NlcSBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3QuICBUaGUgbG9jYWwgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVyIE1VU1QgYmUgZW1wdHkuICBUaGUgY2FsbCBpZGVudGlmaWVyIGNvbXBvbmVudCBvZiB0aGUgZGlhbG9nIElEXG4gICAgICAgIC8vIE1VU1QgYmUgc2V0IHRvIHRoZSB2YWx1ZSBvZiB0aGUgQ2FsbC1JRCBpbiB0aGUgcmVxdWVzdC4gIFRoZSBsb2NhbFxuICAgICAgICAvLyB0YWcgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgSUQgTVVTVCBiZSBzZXQgdG8gdGhlIHRhZyBpbiB0aGUgVG8gZmllbGRcbiAgICAgICAgLy8gaW4gdGhlIHJlc3BvbnNlIHRvIHRoZSByZXF1ZXN0ICh3aGljaCBhbHdheXMgaW5jbHVkZXMgYSB0YWcpLCBhbmQgdGhlXG4gICAgICAgIC8vIHJlbW90ZSB0YWcgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgSUQgTVVTVCBiZSBzZXQgdG8gdGhlIHRhZyBmcm9tIHRoZVxuICAgICAgICAvLyBGcm9tIGZpZWxkIGluIHRoZSByZXF1ZXN0LiAgQSBVQVMgTVVTVCBiZSBwcmVwYXJlZCB0byByZWNlaXZlIGFcbiAgICAgICAgLy8gcmVxdWVzdCB3aXRob3V0IGEgdGFnIGluIHRoZSBGcm9tIGZpZWxkLCBpbiB3aGljaCBjYXNlIHRoZSB0YWcgaXNcbiAgICAgICAgLy8gY29uc2lkZXJlZCB0byBoYXZlIGEgdmFsdWUgb2YgbnVsbC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgVGhpcyBpcyB0byBtYWludGFpbiBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJGQyAyNTQzLCB3aGljaFxuICAgICAgICAvLyAgICBkaWQgbm90IG1hbmRhdGUgRnJvbSB0YWdzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMVxuICAgICAgICB2YXIgcmVtb3RlU2VxdWVuY2VOdW1iZXIgPSBpbmNvbWluZ1JlcXVlc3RNZXNzYWdlLmNzZXE7XG4gICAgICAgIHZhciBsb2NhbFNlcXVlbmNlTnVtYmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgY2FsbElkID0gaW5jb21pbmdSZXF1ZXN0TWVzc2FnZS5jYWxsSWQ7XG4gICAgICAgIHZhciBsb2NhbFRhZyA9IHRvVGFnO1xuICAgICAgICB2YXIgcmVtb3RlVGFnID0gaW5jb21pbmdSZXF1ZXN0TWVzc2FnZS5mcm9tVGFnO1xuICAgICAgICAvLyBUaGUgcmVtb3RlIFVSSSBNVVNUIGJlIHNldCB0byB0aGUgVVJJIGluIHRoZSBGcm9tIGZpZWxkLCBhbmQgdGhlXG4gICAgICAgIC8vIGxvY2FsIFVSSSBNVVNUIGJlIHNldCB0byB0aGUgVVJJIGluIHRoZSBUbyBmaWVsZC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjFcbiAgICAgICAgdmFyIHJlbW90ZVVSSSA9IGluY29taW5nUmVxdWVzdE1lc3NhZ2UuZnJvbS51cmk7XG4gICAgICAgIHZhciBsb2NhbFVSSSA9IGluY29taW5nUmVxdWVzdE1lc3NhZ2UudG8udXJpO1xuICAgICAgICB2YXIgZGlhbG9nU3RhdGUgPSB7XG4gICAgICAgICAgICBpZDogY2FsbElkICsgbG9jYWxUYWcgKyByZW1vdGVUYWcsXG4gICAgICAgICAgICBlYXJseTogZWFybHksXG4gICAgICAgICAgICBjYWxsSWQ6IGNhbGxJZCxcbiAgICAgICAgICAgIGxvY2FsVGFnOiBsb2NhbFRhZyxcbiAgICAgICAgICAgIHJlbW90ZVRhZzogcmVtb3RlVGFnLFxuICAgICAgICAgICAgbG9jYWxTZXF1ZW5jZU51bWJlcjogbG9jYWxTZXF1ZW5jZU51bWJlcixcbiAgICAgICAgICAgIHJlbW90ZVNlcXVlbmNlTnVtYmVyOiByZW1vdGVTZXF1ZW5jZU51bWJlcixcbiAgICAgICAgICAgIGxvY2FsVVJJOiBsb2NhbFVSSSxcbiAgICAgICAgICAgIHJlbW90ZVVSSTogcmVtb3RlVVJJLFxuICAgICAgICAgICAgcmVtb3RlVGFyZ2V0OiByZW1vdGVUYXJnZXQsXG4gICAgICAgICAgICByb3V0ZVNldDogcm91dGVTZXQsXG4gICAgICAgICAgICBzZWN1cmU6IHNlY3VyZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlhbG9nU3RhdGU7XG4gICAgfTtcbiAgICAvKiogRGVzdHJ1Y3Rvci4gKi9cbiAgICBEaWFsb2cucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29yZS5kaWFsb2dzLmRlbGV0ZSh0aGlzLmlkKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcImlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGlhbG9nIGlzIGlkZW50aWZpZWQgYXQgZWFjaCBVQSB3aXRoIGEgZGlhbG9nIElELCB3aGljaCBjb25zaXN0cyBvZlxuICAgICAgICAgKiBhIENhbGwtSUQgdmFsdWUsIGEgbG9jYWwgdGFnIGFuZCBhIHJlbW90ZSB0YWcuICBUaGUgZGlhbG9nIElEIGF0IGVhY2hcbiAgICAgICAgICogVUEgaW52b2x2ZWQgaW4gdGhlIGRpYWxvZyBpcyBub3QgdGhlIHNhbWUuICBTcGVjaWZpY2FsbHksIHRoZSBsb2NhbFxuICAgICAgICAgKiB0YWcgYXQgb25lIFVBIGlzIGlkZW50aWNhbCB0byB0aGUgcmVtb3RlIHRhZyBhdCB0aGUgcGVlciBVQS4gIFRoZVxuICAgICAgICAgKiB0YWdzIGFyZSBvcGFxdWUgdG9rZW5zIHRoYXQgZmFjaWxpdGF0ZSB0aGUgZ2VuZXJhdGlvbiBvZiB1bmlxdWVcbiAgICAgICAgICogZGlhbG9nIElEcy5cbiAgICAgICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5pZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwiZWFybHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkaWFsb2cgY2FuIGFsc28gYmUgaW4gdGhlIFwiZWFybHlcIiBzdGF0ZSwgd2hpY2ggb2NjdXJzIHdoZW4gaXQgaXNcbiAgICAgICAgICogY3JlYXRlZCB3aXRoIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UsIGFuZCB0aGVuIGl0IHRyYW5zaXRpb24gdG8gdGhlXG4gICAgICAgICAqIFwiY29uZmlybWVkXCIgc3RhdGUgd2hlbiBhIDJ4eCBmaW5hbCByZXNwb25zZSByZWNlaXZlZCBvciBpcyBzZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBSRkMgMzI2MSBpcyBjb25jaXNlIG9uIHdoZW4gYSBkaWFsb2cgaXMgXCJjb25maXJtZWRcIiwgYnV0IGl0XG4gICAgICAgICAqIGNhbiBiZSBhIHBvaW50IG9mIGNvbmZ1c2lvbiBpZiBhbiBJTlZJVEUgZGlhbG9nIGlzIFwiY29uZmlybWVkXCIgYWZ0ZXJcbiAgICAgICAgICogYSAyeHggaXMgc2VudCBvciBhZnRlciByZWNlaXZpbmcgdGhlIEFDSyBmb3IgdGhlIDJ4eCByZXNwb25zZS5cbiAgICAgICAgICogV2l0aCBjYXJlZnVsIHJlYWRpbmcgaXQgY2FuIGJlIGluZmVycmVkIGEgZGlhbG9nIGlzIGFsd2F5cyBpc1xuICAgICAgICAgKiBcImNvbmZpcm1lZFwiIHdoZW4gdGhlIDJ4eCBpcyBzZW50IChyZWdhcmRsZXNzIG9mIHR5cGUgb2YgZGlhbG9nKS5cbiAgICAgICAgICogSG93ZXZlciBhIElOVklURSBkaWFsb2cgZG9lcyBoYXZlIGFkZGl0aW9uYWwgY29uc2lkZXJhdGlvbnNcbiAgICAgICAgICogd2hlbiBpdCBpcyBjb25maXJtZWQgYnV0IGFuIEFDSyBoYXMgbm90IHlldCBiZWVuIHJlY2VpdmVkIChpblxuICAgICAgICAgKiBwYXJ0aWN1bGFyIHdpdGggcmVnYXJkIHRvIGEgY2FsbGVlIHNlbmRpbmcgQllFIHJlcXVlc3RzKS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUuZWFybHk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcImNhbGxJZFwiLCB7XG4gICAgICAgIC8qKiBDYWxsIGlkZW50aWZpZXIgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgaWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUuY2FsbElkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlhbG9nLnByb3RvdHlwZSwgXCJsb2NhbFRhZ1wiLCB7XG4gICAgICAgIC8qKiBMb2NhbCB0YWcgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgaWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUubG9jYWxUYWc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcInJlbW90ZVRhZ1wiLCB7XG4gICAgICAgIC8qKiBSZW1vdGUgdGFnIGNvbXBvbmVudCBvZiB0aGUgZGlhbG9nIGlkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpYWxvZ1N0YXRlLnJlbW90ZVRhZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwibG9jYWxTZXF1ZW5jZU51bWJlclwiLCB7XG4gICAgICAgIC8qKiBMb2NhbCBzZXF1ZW5jZSBudW1iZXIgKHVzZWQgdG8gb3JkZXIgcmVxdWVzdHMgZnJvbSB0aGUgVUEgdG8gaXRzIHBlZXIpLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpYWxvZ1N0YXRlLmxvY2FsU2VxdWVuY2VOdW1iZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcInJlbW90ZVNlcXVlbmNlTnVtYmVyXCIsIHtcbiAgICAgICAgLyoqIFJlbW90ZSBzZXF1ZW5jZSBudW1iZXIgKHVzZWQgdG8gb3JkZXIgcmVxdWVzdHMgZnJvbSBpdHMgcGVlciB0byB0aGUgVUEpLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpYWxvZ1N0YXRlLnJlbW90ZVNlcXVlbmNlTnVtYmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlhbG9nLnByb3RvdHlwZSwgXCJsb2NhbFVSSVwiLCB7XG4gICAgICAgIC8qKiBMb2NhbCBVUkkuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUubG9jYWxVUkk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcInJlbW90ZVVSSVwiLCB7XG4gICAgICAgIC8qKiBSZW1vdGUgVVJJLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpYWxvZ1N0YXRlLnJlbW90ZVVSSTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwicmVtb3RlVGFyZ2V0XCIsIHtcbiAgICAgICAgLyoqIFJlbW90ZSB0YXJnZXQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUucmVtb3RlVGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlhbG9nLnByb3RvdHlwZSwgXCJyb3V0ZVNldFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3V0ZSBzZXQsIHdoaWNoIGlzIGFuIG9yZGVyZWQgbGlzdCBvZiBVUklzLiBUaGUgcm91dGUgc2V0IGlzIHRoZVxuICAgICAgICAgKiBsaXN0IG9mIHNlcnZlcnMgdGhhdCBuZWVkIHRvIGJlIHRyYXZlcnNlZCB0byBzZW5kIGEgcmVxdWVzdCB0byB0aGUgcGVlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUucm91dGVTZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcInNlY3VyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgcmVxdWVzdCB3YXMgc2VudCBvdmVyIFRMUywgYW5kIHRoZSBSZXF1ZXN0LVVSSSBjb250YWluZWRcbiAgICAgICAgICogYSBTSVBTIFVSSSwgdGhlIFwic2VjdXJlXCIgZmxhZyBpcyBzZXQgdG8gdHJ1ZS4gKk5PVCBJTVBMRU1FTlRFRCpcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUuc2VjdXJlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlhbG9nLnByb3RvdHlwZSwgXCJ1c2VyQWdlbnRDb3JlXCIsIHtcbiAgICAgICAgLyoqIFRoZSB1c2VyIGFnZW50IGNvcmUgc2VydmljaW5nIHRoaXMgZGlhbG9nLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvcmU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBDb25maXJtIHRoZSBkaWFsb2cuIE9ubHkgbWF0dGVycyBpZiBkaWFsb2cgaXMgY3VycmVudGx5IGVhcmx5LiAqL1xuICAgIERpYWxvZy5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaWFsb2dTdGF0ZS5lYXJseSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgc2VudCB3aXRoaW4gYSBkaWFsb2csIGFzIGFueSBvdGhlciByZXF1ZXN0cywgYXJlIGF0b21pYy4gIElmXG4gICAgICogYSBwYXJ0aWN1bGFyIHJlcXVlc3QgaXMgYWNjZXB0ZWQgYnkgdGhlIFVBUywgYWxsIHRoZSBzdGF0ZSBjaGFuZ2VzXG4gICAgICogYXNzb2NpYXRlZCB3aXRoIGl0IGFyZSBwZXJmb3JtZWQuICBJZiB0aGUgcmVxdWVzdCBpcyByZWplY3RlZCwgbm9uZVxuICAgICAqIG9mIHRoZSBzdGF0ZSBjaGFuZ2VzIGFyZSBwZXJmb3JtZWQuXG4gICAgICpcbiAgICAgKiAgICBOb3RlIHRoYXQgc29tZSByZXF1ZXN0cywgc3VjaCBhcyBJTlZJVEVzLCBhZmZlY3Qgc2V2ZXJhbCBwaWVjZXMgb2ZcbiAgICAgKiAgICBzdGF0ZS5cbiAgICAgKlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2Ugd2l0aGluIHRoaXMgZGlhbG9nLlxuICAgICAqL1xuICAgIERpYWxvZy5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyBBQ0sgZ3VhcmQuXG4gICAgICAgIC8vIEJ5IGNvbnZlbnRpb24sIHRoZSBoYW5kbGluZyBvZiBBQ0tzIGlzIHRoZSByZXNwb25zaWJpbGl0eVxuICAgICAgICAvLyB0aGUgcGFydGljdWxhciBkaWFsb2cgaW1wbGVtZW50YXRpb24uIEZvciBleGFtcGxlLCBzZWUgU2Vzc2lvbkRpYWxvZy5cbiAgICAgICAgLy8gRnVydGhlcm1vcmUsIEFDS3MgaGF2ZSBzYW1lIHNlcXVlbmNlIG51bWJlciBhcyB0aGUgYXNzb2NpYXRlZCBJTlZJVEUuXG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLkFDSykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSByZW1vdGUgc2VxdWVuY2UgbnVtYmVyIHdhcyBub3QgZW1wdHksIGJ1dCB0aGUgc2VxdWVuY2UgbnVtYmVyXG4gICAgICAgIC8vIG9mIHRoZSByZXF1ZXN0IGlzIGxvd2VyIHRoYW4gdGhlIHJlbW90ZSBzZXF1ZW5jZSBudW1iZXIsIHRoZSByZXF1ZXN0XG4gICAgICAgIC8vIGlzIG91dCBvZiBvcmRlciBhbmQgTVVTVCBiZSByZWplY3RlZCB3aXRoIGEgNTAwIChTZXJ2ZXIgSW50ZXJuYWxcbiAgICAgICAgLy8gRXJyb3IpIHJlc3BvbnNlLiAgSWYgdGhlIHJlbW90ZSBzZXF1ZW5jZSBudW1iZXIgd2FzIG5vdCBlbXB0eSwgYW5kXG4gICAgICAgIC8vIHRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhlIHJlcXVlc3QgaXMgZ3JlYXRlciB0aGFuIHRoZSByZW1vdGVcbiAgICAgICAgLy8gc2VxdWVuY2UgbnVtYmVyLCB0aGUgcmVxdWVzdCBpcyBpbiBvcmRlci4gIEl0IGlzIHBvc3NpYmxlIGZvciB0aGVcbiAgICAgICAgLy8gQ1NlcSBzZXF1ZW5jZSBudW1iZXIgdG8gYmUgaGlnaGVyIHRoYW4gdGhlIHJlbW90ZSBzZXF1ZW5jZSBudW1iZXIgYnlcbiAgICAgICAgLy8gbW9yZSB0aGFuIG9uZS4gIFRoaXMgaXMgbm90IGFuIGVycm9yIGNvbmRpdGlvbiwgYW5kIGEgVUFTIFNIT1VMRCBiZVxuICAgICAgICAvLyBwcmVwYXJlZCB0byByZWNlaXZlIGFuZCBwcm9jZXNzIHJlcXVlc3RzIHdpdGggQ1NlcSB2YWx1ZXMgbW9yZSB0aGFuXG4gICAgICAgIC8vIG9uZSBoaWdoZXIgdGhhbiB0aGUgcHJldmlvdXMgcmVjZWl2ZWQgcmVxdWVzdC4gIFRoZSBVQVMgTVVTVCB0aGVuIHNldFxuICAgICAgICAvLyB0aGUgcmVtb3RlIHNlcXVlbmNlIG51bWJlciB0byB0aGUgdmFsdWUgb2YgdGhlIHNlcXVlbmNlIG51bWJlciBpbiB0aGVcbiAgICAgICAgLy8gQ1NlcSBoZWFkZXIgZmllbGQgdmFsdWUgaW4gdGhlIHJlcXVlc3QuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIElmIGEgcHJveHkgY2hhbGxlbmdlcyBhIHJlcXVlc3QgZ2VuZXJhdGVkIGJ5IHRoZSBVQUMsIHRoZSBVQUMgaGFzXG4gICAgICAgIC8vICAgIHRvIHJlc3VibWl0IHRoZSByZXF1ZXN0IHdpdGggY3JlZGVudGlhbHMuICBUaGUgcmVzdWJtaXR0ZWQgcmVxdWVzdFxuICAgICAgICAvLyAgICB3aWxsIGhhdmUgYSBuZXcgQ1NlcSBudW1iZXIuICBUaGUgVUFTIHdpbGwgbmV2ZXIgc2VlIHRoZSBmaXJzdFxuICAgICAgICAvLyAgICByZXF1ZXN0LCBhbmQgdGh1cywgaXQgd2lsbCBub3RpY2UgYSBnYXAgaW4gdGhlIENTZXEgbnVtYmVyIHNwYWNlLlxuICAgICAgICAvLyAgICBTdWNoIGEgZ2FwIGRvZXMgbm90IHJlcHJlc2VudCBhbnkgZXJyb3IgY29uZGl0aW9uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICBpZiAodGhpcy5yZW1vdGVTZXF1ZW5jZU51bWJlcikge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY3NlcSA8PSB0aGlzLnJlbW90ZVNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3V0IG9mIHNlcXVlbmNlIGluIGRpYWxvZyByZXF1ZXN0LiBEaWQgeW91IGZvcmdldCB0byBjYWxsIHNlcXVlbmNlR3VhcmQoKT9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1N0YXRlLnJlbW90ZVNlcXVlbmNlTnVtYmVyID0gbWVzc2FnZS5jc2VxO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSByZW1vdGUgc2VxdWVuY2UgbnVtYmVyIGlzIGVtcHR5LCBpdCBNVVNUIGJlIHNldCB0byB0aGUgdmFsdWVcbiAgICAgICAgLy8gb2YgdGhlIHNlcXVlbmNlIG51bWJlciBpbiB0aGUgQ1NlcSBoZWFkZXIgZmllbGQgdmFsdWUgaW4gdGhlIHJlcXVlc3QuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICAgIGlmICghdGhpcy5yZW1vdGVTZXF1ZW5jZU51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2dTdGF0ZS5yZW1vdGVTZXF1ZW5jZU51bWJlciA9IG1lc3NhZ2UuY3NlcTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIGEgVUFTIHJlY2VpdmVzIGEgdGFyZ2V0IHJlZnJlc2ggcmVxdWVzdCwgaXQgTVVTVCByZXBsYWNlIHRoZVxuICAgICAgICAvLyBkaWFsb2cncyByZW1vdGUgdGFyZ2V0IFVSSSB3aXRoIHRoZSBVUkkgZnJvbSB0aGUgQ29udGFjdCBoZWFkZXIgZmllbGRcbiAgICAgICAgLy8gaW4gdGhhdCByZXF1ZXN0LCBpZiBwcmVzZW50LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICAvLyBOb3RlOiBcInRhcmdldCByZWZyZXNoIHJlcXVlc3RcIiBwcm9jZXNzaW5nIGRlbGVnYXRlZCB0byBzdWItY2xhc3MuXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZGlhbG9nIGlkZW50aWZpZXIgaW4gdGhlIDJ4eCByZXNwb25zZSBtYXRjaGVzIHRoZSBkaWFsb2dcbiAgICAgKiBpZGVudGlmaWVyIG9mIGFuIGV4aXN0aW5nIGRpYWxvZywgdGhlIGRpYWxvZyBNVVNUIGJlIHRyYW5zaXRpb25lZCB0b1xuICAgICAqIHRoZSBcImNvbmZpcm1lZFwiIHN0YXRlLCBhbmQgdGhlIHJvdXRlIHNldCBmb3IgdGhlIGRpYWxvZyBNVVNUIGJlXG4gICAgICogcmVjb21wdXRlZCBiYXNlZCBvbiB0aGUgMnh4IHJlc3BvbnNlIHVzaW5nIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb25cbiAgICAgKiAxMi4yLjEuMi4gIE90aGVyd2lzZSwgYSBuZXcgZGlhbG9nIGluIHRoZSBcImNvbmZpcm1lZFwiIHN0YXRlIE1VU1QgYmVcbiAgICAgKiBjb25zdHJ1Y3RlZCB1c2luZyB0aGUgcHJvY2VkdXJlcyBvZiBTZWN0aW9uIDEyLjEuMi5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSBwaWVjZSBvZiBzdGF0ZSB0aGF0IGlzIHJlY29tcHV0ZWQgaXMgdGhlIHJvdXRlXG4gICAgICogc2V0LiAgT3RoZXIgcGllY2VzIG9mIHN0YXRlIHN1Y2ggYXMgdGhlIGhpZ2hlc3Qgc2VxdWVuY2UgbnVtYmVyc1xuICAgICAqIChyZW1vdGUgYW5kIGxvY2FsKSBzZW50IHdpdGhpbiB0aGUgZGlhbG9nIGFyZSBub3QgcmVjb21wdXRlZC4gIFRoZVxuICAgICAqIHJvdXRlIHNldCBvbmx5IGlzIHJlY29tcHV0ZWQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiAgUkZDXG4gICAgICogMjU0MyBkaWQgbm90IG1hbmRhdGUgbWlycm9yaW5nIG9mIHRoZSBSZWNvcmQtUm91dGUgaGVhZGVyIGZpZWxkIGluXG4gICAgICogYSAxeHgsIG9ubHkgMnh4LiAgSG93ZXZlciwgd2UgY2Fubm90IHVwZGF0ZSB0aGUgZW50aXJlIHN0YXRlIG9mXG4gICAgICogdGhlIGRpYWxvZywgc2luY2UgbWlkLWRpYWxvZyByZXF1ZXN0cyBtYXkgaGF2ZSBiZWVuIHNlbnQgd2l0aGluXG4gICAgICogdGhlIGVhcmx5IGRpYWxvZywgbW9kaWZ5aW5nIHRoZSBzZXF1ZW5jZSBudW1iZXJzLCBmb3IgZXhhbXBsZS5cbiAgICAgKlxuICAgICAqICBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMi40XG4gICAgICovXG4gICAgRGlhbG9nLnByb3RvdHlwZS5yZWNvbXB1dGVSb3V0ZVNldCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nU3RhdGUucm91dGVTZXQgPSBtZXNzYWdlLmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIikucmV2ZXJzZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSByZXF1ZXN0IHdpdGhpbiBhIGRpYWxvZyBpcyBjb25zdHJ1Y3RlZCBieSB1c2luZyBtYW55IG9mIHRoZVxuICAgICAqIGNvbXBvbmVudHMgb2YgdGhlIHN0YXRlIHN0b3JlZCBhcyBwYXJ0IG9mIHRoZSBkaWFsb2cuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjEuMVxuICAgICAqIEBwYXJhbSBtZXRob2QgLSBPdXRnb2luZyByZXF1ZXN0IG1ldGhvZC5cbiAgICAgKi9cbiAgICBEaWFsb2cucHJvdG90eXBlLmNyZWF0ZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgPSBmdW5jdGlvbiAobWV0aG9kLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFRoZSBVUkkgaW4gdGhlIFRvIGZpZWxkIG9mIHRoZSByZXF1ZXN0IE1VU1QgYmUgc2V0IHRvIHRoZSByZW1vdGUgVVJJXG4gICAgICAgIC8vIGZyb20gdGhlIGRpYWxvZyBzdGF0ZS4gIFRoZSB0YWcgaW4gdGhlIFRvIGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdFxuICAgICAgICAvLyBNVVNUIGJlIHNldCB0byB0aGUgcmVtb3RlIHRhZyBvZiB0aGUgZGlhbG9nIElELiAgVGhlIEZyb20gVVJJIG9mIHRoZVxuICAgICAgICAvLyByZXF1ZXN0IE1VU1QgYmUgc2V0IHRvIHRoZSBsb2NhbCBVUkkgZnJvbSB0aGUgZGlhbG9nIHN0YXRlLiAgVGhlIHRhZ1xuICAgICAgICAvLyBpbiB0aGUgRnJvbSBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3QgTVVTVCBiZSBzZXQgdG8gdGhlIGxvY2FsIHRhZ1xuICAgICAgICAvLyBvZiB0aGUgZGlhbG9nIElELiAgSWYgdGhlIHZhbHVlIG9mIHRoZSByZW1vdGUgb3IgbG9jYWwgdGFncyBpcyBudWxsLFxuICAgICAgICAvLyB0aGUgdGFnIHBhcmFtZXRlciBNVVNUIGJlIG9taXR0ZWQgZnJvbSB0aGUgVG8gb3IgRnJvbSBoZWFkZXIgZmllbGRzLFxuICAgICAgICAvLyByZXNwZWN0aXZlbHkuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIFVzYWdlIG9mIHRoZSBVUkkgZnJvbSB0aGUgVG8gYW5kIEZyb20gZmllbGRzIGluIHRoZSBvcmlnaW5hbFxuICAgICAgICAvLyAgICByZXF1ZXN0IHdpdGhpbiBzdWJzZXF1ZW50IHJlcXVlc3RzIGlzIGRvbmUgZm9yIGJhY2t3YXJkc1xuICAgICAgICAvLyAgICBjb21wYXRpYmlsaXR5IHdpdGggUkZDIDI1NDMsIHdoaWNoIHVzZWQgdGhlIFVSSSBmb3IgZGlhbG9nXG4gICAgICAgIC8vICAgIGlkZW50aWZpY2F0aW9uLiAgSW4gdGhpcyBzcGVjaWZpY2F0aW9uLCBvbmx5IHRoZSB0YWdzIGFyZSB1c2VkIGZvclxuICAgICAgICAvLyAgICBkaWFsb2cgaWRlbnRpZmljYXRpb24uICBJdCBpcyBleHBlY3RlZCB0aGF0IG1hbmRhdG9yeSByZWZsZWN0aW9uXG4gICAgICAgIC8vICAgIG9mIHRoZSBvcmlnaW5hbCBUbyBhbmQgRnJvbSBVUkkgaW4gbWlkLWRpYWxvZyByZXF1ZXN0cyB3aWxsIGJlXG4gICAgICAgIC8vICAgIGRlcHJlY2F0ZWQgaW4gYSBzdWJzZXF1ZW50IHJldmlzaW9uIG9mIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjEuMVxuICAgICAgICB2YXIgdG9VcmkgPSB0aGlzLnJlbW90ZVVSSTtcbiAgICAgICAgdmFyIHRvVGFnID0gdGhpcy5yZW1vdGVUYWc7XG4gICAgICAgIHZhciBmcm9tVXJpID0gdGhpcy5sb2NhbFVSSTtcbiAgICAgICAgdmFyIGZyb21UYWcgPSB0aGlzLmxvY2FsVGFnO1xuICAgICAgICAvLyBUaGUgQ2FsbC1JRCBvZiB0aGUgcmVxdWVzdCBNVVNUIGJlIHNldCB0byB0aGUgQ2FsbC1JRCBvZiB0aGUgZGlhbG9nLlxuICAgICAgICAvLyBSZXF1ZXN0cyB3aXRoaW4gYSBkaWFsb2cgTVVTVCBjb250YWluIHN0cmljdGx5IG1vbm90b25pY2FsbHlcbiAgICAgICAgLy8gaW5jcmVhc2luZyBhbmQgY29udGlndW91cyBDU2VxIHNlcXVlbmNlIG51bWJlcnMgKGluY3JlYXNpbmctYnktb25lKVxuICAgICAgICAvLyBpbiBlYWNoIGRpcmVjdGlvbiAoZXhjZXB0aW5nIEFDSyBhbmQgQ0FOQ0VMIG9mIGNvdXJzZSwgd2hvc2UgbnVtYmVyc1xuICAgICAgICAvLyBlcXVhbCB0aGUgcmVxdWVzdHMgYmVpbmcgYWNrbm93bGVkZ2VkIG9yIGNhbmNlbGxlZCkuICBUaGVyZWZvcmUsIGlmXG4gICAgICAgIC8vIHRoZSBsb2NhbCBzZXF1ZW5jZSBudW1iZXIgaXMgbm90IGVtcHR5LCB0aGUgdmFsdWUgb2YgdGhlIGxvY2FsXG4gICAgICAgIC8vIHNlcXVlbmNlIG51bWJlciBNVVNUIGJlIGluY3JlbWVudGVkIGJ5IG9uZSwgYW5kIHRoaXMgdmFsdWUgTVVTVCBiZVxuICAgICAgICAvLyBwbGFjZWQgaW50byB0aGUgQ1NlcSBoZWFkZXIgZmllbGQuICBJZiB0aGUgbG9jYWwgc2VxdWVuY2UgbnVtYmVyIGlzXG4gICAgICAgIC8vIGVtcHR5LCBhbiBpbml0aWFsIHZhbHVlIE1VU1QgYmUgY2hvc2VuIHVzaW5nIHRoZSBndWlkZWxpbmVzIG9mXG4gICAgICAgIC8vIFNlY3Rpb24gOC4xLjEuNS4gIFRoZSBtZXRob2QgZmllbGQgaW4gdGhlIENTZXEgaGVhZGVyIGZpZWxkIHZhbHVlXG4gICAgICAgIC8vIE1VU1QgbWF0Y2ggdGhlIG1ldGhvZCBvZiB0aGUgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjEuMVxuICAgICAgICB2YXIgY2FsbElkID0gdGhpcy5jYWxsSWQ7XG4gICAgICAgIHZhciBjc2VxO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNzZXEpIHtcbiAgICAgICAgICAgIGNzZXEgPSBvcHRpb25zLmNzZXE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuZGlhbG9nU3RhdGUubG9jYWxTZXF1ZW5jZU51bWJlcikge1xuICAgICAgICAgICAgY3NlcSA9IHRoaXMuZGlhbG9nU3RhdGUubG9jYWxTZXF1ZW5jZU51bWJlciA9IDE7IC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjEuNVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3NlcSA9IHRoaXMuZGlhbG9nU3RhdGUubG9jYWxTZXF1ZW5jZU51bWJlciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBVQUMgdXNlcyB0aGUgcmVtb3RlIHRhcmdldCBhbmQgcm91dGUgc2V0IHRvIGJ1aWxkIHRoZSBSZXF1ZXN0LVVSSVxuICAgICAgICAvLyBhbmQgUm91dGUgaGVhZGVyIGZpZWxkIG9mIHRoZSByZXF1ZXN0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgcm91dGUgc2V0IGlzIGVtcHR5LCB0aGUgVUFDIE1VU1QgcGxhY2UgdGhlIHJlbW90ZSB0YXJnZXQgVVJJXG4gICAgICAgIC8vIGludG8gdGhlIFJlcXVlc3QtVVJJLiAgVGhlIFVBQyBNVVNUIE5PVCBhZGQgYSBSb3V0ZSBoZWFkZXIgZmllbGQgdG9cbiAgICAgICAgLy8gdGhlIHJlcXVlc3QuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZSByb3V0ZSBzZXQgaXMgbm90IGVtcHR5LCBhbmQgdGhlIGZpcnN0IFVSSSBpbiB0aGUgcm91dGUgc2V0XG4gICAgICAgIC8vIGNvbnRhaW5zIHRoZSBsciBwYXJhbWV0ZXIgKHNlZSBTZWN0aW9uIDE5LjEuMSksIHRoZSBVQUMgTVVTVCBwbGFjZVxuICAgICAgICAvLyB0aGUgcmVtb3RlIHRhcmdldCBVUkkgaW50byB0aGUgUmVxdWVzdC1VUkkgYW5kIE1VU1QgaW5jbHVkZSBhIFJvdXRlXG4gICAgICAgIC8vIGhlYWRlciBmaWVsZCBjb250YWluaW5nIHRoZSByb3V0ZSBzZXQgdmFsdWVzIGluIG9yZGVyLCBpbmNsdWRpbmcgYWxsXG4gICAgICAgIC8vIHBhcmFtZXRlcnMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZSByb3V0ZSBzZXQgaXMgbm90IGVtcHR5LCBhbmQgaXRzIGZpcnN0IFVSSSBkb2VzIG5vdCBjb250YWluIHRoZVxuICAgICAgICAvLyBsciBwYXJhbWV0ZXIsIHRoZSBVQUMgTVVTVCBwbGFjZSB0aGUgZmlyc3QgVVJJIGZyb20gdGhlIHJvdXRlIHNldFxuICAgICAgICAvLyBpbnRvIHRoZSBSZXF1ZXN0LVVSSSwgc3RyaXBwaW5nIGFueSBwYXJhbWV0ZXJzIHRoYXQgYXJlIG5vdCBhbGxvd2VkXG4gICAgICAgIC8vIGluIGEgUmVxdWVzdC1VUkkuICBUaGUgVUFDIE1VU1QgYWRkIGEgUm91dGUgaGVhZGVyIGZpZWxkIGNvbnRhaW5pbmdcbiAgICAgICAgLy8gdGhlIHJlbWFpbmRlciBvZiB0aGUgcm91dGUgc2V0IHZhbHVlcyBpbiBvcmRlciwgaW5jbHVkaW5nIGFsbFxuICAgICAgICAvLyBwYXJhbWV0ZXJzLiAgVGhlIFVBQyBNVVNUIHRoZW4gcGxhY2UgdGhlIHJlbW90ZSB0YXJnZXQgVVJJIGludG8gdGhlXG4gICAgICAgIC8vIFJvdXRlIGhlYWRlciBmaWVsZCBhcyB0aGUgbGFzdCB2YWx1ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjEuMVxuICAgICAgICAvLyBUaGUgbHIgcGFyYW1ldGVyLCB3aGVuIHByZXNlbnQsIGluZGljYXRlcyB0aGF0IHRoZSBlbGVtZW50XG4gICAgICAgIC8vIHJlc3BvbnNpYmxlIGZvciB0aGlzIHJlc291cmNlIGltcGxlbWVudHMgdGhlIHJvdXRpbmcgbWVjaGFuaXNtc1xuICAgICAgICAvLyBzcGVjaWZpZWQgaW4gdGhpcyBkb2N1bWVudC4gIFRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgdXNlZCBpbiB0aGVcbiAgICAgICAgLy8gVVJJcyBwcm94aWVzIHBsYWNlIGludG8gUmVjb3JkLVJvdXRlIGhlYWRlciBmaWVsZCB2YWx1ZXMsIGFuZFxuICAgICAgICAvLyBtYXkgYXBwZWFyIGluIHRoZSBVUklzIGluIGEgcHJlLWV4aXN0aW5nIHJvdXRlIHNldC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBwYXJhbWV0ZXIgaXMgdXNlZCB0byBhY2hpZXZlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGhcbiAgICAgICAgLy8gc3lzdGVtcyBpbXBsZW1lbnRpbmcgdGhlIHN0cmljdC1yb3V0aW5nIG1lY2hhbmlzbXMgb2YgUkZDIDI1NDNcbiAgICAgICAgLy8gYW5kIHRoZSByZmMyNTQzYmlzIGRyYWZ0cyB1cCB0byBiaXMtMDUuICBBbiBlbGVtZW50IHByZXBhcmluZ1xuICAgICAgICAvLyB0byBzZW5kIGEgcmVxdWVzdCBiYXNlZCBvbiBhIFVSSSBub3QgY29udGFpbmluZyB0aGlzIHBhcmFtZXRlclxuICAgICAgICAvLyBjYW4gYXNzdW1lIHRoZSByZWNlaXZpbmcgZWxlbWVudCBpbXBsZW1lbnRzIHN0cmljdC1yb3V0aW5nIGFuZFxuICAgICAgICAvLyByZWZvcm1hdCB0aGUgbWVzc2FnZSB0byBwcmVzZXJ2ZSB0aGUgaW5mb3JtYXRpb24gaW4gdGhlXG4gICAgICAgIC8vIFJlcXVlc3QtVVJJLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE5LjEuMVxuICAgICAgICAvLyBOT1RFOiBOb3QgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCBSRkMgMjU0MyAobm8gc3VwcG9ydCBmb3Igc3RyaWN0LXJvdXRpbmcpLlxuICAgICAgICB2YXIgcnVyaSA9IHRoaXMucmVtb3RlVGFyZ2V0O1xuICAgICAgICB2YXIgcm91dGVTZXQgPSB0aGlzLnJvdXRlU2V0O1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gb3B0aW9ucyAmJiBvcHRpb25zLmV4dHJhSGVhZGVycztcbiAgICAgICAgdmFyIGJvZHkgPSBvcHRpb25zICYmIG9wdGlvbnMuYm9keTtcbiAgICAgICAgLy8gVGhlIHJlbGF0aXZlIG9yZGVyIG9mIGhlYWRlciBmaWVsZHMgd2l0aCBkaWZmZXJlbnQgZmllbGQgbmFtZXMgaXMgbm90XG4gICAgICAgIC8vIHNpZ25pZmljYW50LiAgSG93ZXZlciwgaXQgaXMgUkVDT01NRU5ERUQgdGhhdCBoZWFkZXIgZmllbGRzIHdoaWNoIGFyZVxuICAgICAgICAvLyBuZWVkZWQgZm9yIHByb3h5IHByb2Nlc3NpbmcgKFZpYSwgUm91dGUsIFJlY29yZC1Sb3V0ZSwgUHJveHktUmVxdWlyZSxcbiAgICAgICAgLy8gTWF4LUZvcndhcmRzLCBhbmQgUHJveHktQXV0aG9yaXphdGlvbiwgZm9yIGV4YW1wbGUpIGFwcGVhciB0b3dhcmRzXG4gICAgICAgIC8vIHRoZSB0b3Agb2YgdGhlIG1lc3NhZ2UgdG8gZmFjaWxpdGF0ZSByYXBpZCBwYXJzaW5nLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTcuMy4xXG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy51c2VyQWdlbnRDb3JlLm1ha2VPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1ldGhvZCwgcnVyaSwgZnJvbVVyaSwgdG9VcmksIHtcbiAgICAgICAgICAgIGNhbGxJZDogY2FsbElkLFxuICAgICAgICAgICAgY3NlcTogY3NlcSxcbiAgICAgICAgICAgIGZyb21UYWc6IGZyb21UYWcsXG4gICAgICAgICAgICB0b1RhZzogdG9UYWcsXG4gICAgICAgICAgICByb3V0ZVNldDogcm91dGVTZXRcbiAgICAgICAgfSwgZXh0cmFIZWFkZXJzLCBib2R5KTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgdGhlIGxvY2FsIHNlcXVlbmNlIG51bWJlciBieSBvbmUuXG4gICAgICogSXQgZmVlbHMgbGlrZSB0aGlzIHNob3VsZCBiZSBwcm90ZWN0ZWQsIGJ1dCB0aGUgY3VycmVudCBhdXRoZW50aWNhdGlvbiBoYW5kbGluZyBjdXJyZW50bHlcbiAgICAgKiBuZWVkcyB0aGlzIHRvIGtlZXAgdGhlIGRpYWxvZyBpbiBzeW5jIHdoZW4gXCJhdXRvIHJlLXNlbmRzXCIgcmVxdWVzdCBtZXNzYWdlcy5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBEaWFsb2cucHJvdG90eXBlLmluY3JlbWVudExvY2FsU2VxdWVuY2VOdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5kaWFsb2dTdGF0ZS5sb2NhbFNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2NhbCBzZXF1ZW5jZSBudW1iZXIgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpYWxvZ1N0YXRlLmxvY2FsU2VxdWVuY2VOdW1iZXIgKz0gMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZSByZW1vdGUgc2VxdWVuY2UgbnVtYmVyIHdhcyBub3QgZW1wdHksIGJ1dCB0aGUgc2VxdWVuY2UgbnVtYmVyXG4gICAgICogb2YgdGhlIHJlcXVlc3QgaXMgbG93ZXIgdGhhbiB0aGUgcmVtb3RlIHNlcXVlbmNlIG51bWJlciwgdGhlIHJlcXVlc3RcbiAgICAgKiBpcyBvdXQgb2Ygb3JkZXIgYW5kIE1VU1QgYmUgcmVqZWN0ZWQgd2l0aCBhIDUwMCAoU2VydmVyIEludGVybmFsXG4gICAgICogRXJyb3IpIHJlc3BvbnNlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBJbmNvbWluZyByZXF1ZXN0IHRvIGd1YXJkLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHByb2dyYW0gZXhlY3V0aW9uIGlzIHRvIGNvbnRpbnVlIGluIHRoZSBicmFuY2ggaW4gcXVlc3Rpb24uXG4gICAgICogICAgICAgICAgT3RoZXJ3aXNlIGEgNTAwIFNlcnZlciBJbnRlcm5hbCBFcnJvciB3YXMgc3RhdGVsZXNzIHNlbnQgYW5kIHJlcXVlc3QgcHJvY2Vzc2luZyBtdXN0IHN0b3AuXG4gICAgICovXG4gICAgRGlhbG9nLnByb3RvdHlwZS5zZXF1ZW5jZUd1YXJkID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gQUNLIGd1YXJkLlxuICAgICAgICAvLyBCeSBjb252ZW50aW9uLCBoYW5kbGluZyBvZiB1bmV4cGVjdGVkIEFDS3MgaXMgcmVzcG9uc2liaWxpdHlcbiAgICAgICAgLy8gdGhlIHBhcnRpY3VsYXIgZGlhbG9nIGltcGxlbWVudGF0aW9uLiBGb3IgZXhhbXBsZSwgc2VlIFNlc3Npb25EaWFsb2cuXG4gICAgICAgIC8vIEZ1cnRoZXJtb3JlLCB3ZSBjYW5ub3QgcmVwbHkgdG8gYW4gXCJvdXQgb2Ygc2VxdWVuY2VcIiBBQ0suXG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLkFDSykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogV2UgYXJlIHJlamVjdGluZyBvbiBcImxlc3MgdGhhbiBvciBlcXVhbCB0b1wiIHRoZSByZW1vdGVcbiAgICAgICAgLy8gc2VxdWVuY2UgbnVtYmVyIChleGNlcHRpbmcgQUNLIHdob3NlIG51bWJlcnMgZXF1YWwgdGhlIHJlcXVlc3RzXG4gICAgICAgIC8vIGJlaW5nIGFja25vd2xlZGdlZCBvciBjYW5jZWxsZWQpLCB3aGljaCBpcyB0aGUgY29ycmVjdCB0aGluZyB0b1xuICAgICAgICAvLyBkbyBpbiBvdXIgY2FzZS4gVGhlIG9ubHkgdGltZSBhIHJlcXVlc3Qgd2l0aCB0aGUgc2FtZSBzZXF1ZW5jZSBudW1iZXJcbiAgICAgICAgLy8gd2lsbCBzaG93IHVwIGhlcmUgaWYgaXMgYSkgaXQgaXMgYSB2ZXJ5IGxhdGUgcmV0cmFuc21pc3Npb24gb2YgYVxuICAgICAgICAvLyByZXF1ZXN0IHdlIGFscmVhZHkgaGFuZGxlZCBvciBiKSBpdCBpcyBhIGRpZmZlcmVudCByZXF1ZXN0IHdpdGggdGhlXG4gICAgICAgIC8vIHNhbWUgc2VxdWVuY2UgbnVtYmVyIHdoaWNoIHdvdWxkIGJlIHZpb2xhdGlvbiBvZiB0aGUgc3RhbmRhcmQuXG4gICAgICAgIC8vIFJlcXVlc3QgcmV0cmFuc21pc3Npb25zIGFyZSBhYnNvcmJlZCBieSB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIsXG4gICAgICAgIC8vIHNvIGFueSByZXF1ZXN0IHdpdGggYSBkdXBsaWNhdGUgc2VxdWVuY2UgbnVtYmVyIGdldHRpbmcgaGVyZVxuICAgICAgICAvLyB3b3VsZCBoYXZlIHRvIGJlIGEgcmV0cmFuc21pc3Npb24gYWZ0ZXIgdGhlIHRyYW5zYWN0aW9uIHRlcm1pbmF0ZWRcbiAgICAgICAgLy8gb3IgYSBicm9rZW4gcmVxdWVzdCAod2l0aCB1bmlxdWUgdmlhIGJyYW5jaCB2YWx1ZSkuXG4gICAgICAgIC8vIFJlcXVlc3RzIHdpdGhpbiBhIGRpYWxvZyBNVVNUIGNvbnRhaW4gc3RyaWN0bHkgbW9ub3RvbmljYWxseVxuICAgICAgICAvLyBpbmNyZWFzaW5nIGFuZCBjb250aWd1b3VzIENTZXEgc2VxdWVuY2UgbnVtYmVycyAoaW5jcmVhc2luZy1ieS1vbmUpXG4gICAgICAgIC8vIGluIGVhY2ggZGlyZWN0aW9uIChleGNlcHRpbmcgQUNLIGFuZCBDQU5DRUwgb2YgY291cnNlLCB3aG9zZSBudW1iZXJzXG4gICAgICAgIC8vIGVxdWFsIHRoZSByZXF1ZXN0cyBiZWluZyBhY2tub3dsZWRnZWQgb3IgY2FuY2VsbGVkKS4gIFRoZXJlZm9yZSwgaWZcbiAgICAgICAgLy8gdGhlIGxvY2FsIHNlcXVlbmNlIG51bWJlciBpcyBub3QgZW1wdHksIHRoZSB2YWx1ZSBvZiB0aGUgbG9jYWxcbiAgICAgICAgLy8gc2VxdWVuY2UgbnVtYmVyIE1VU1QgYmUgaW5jcmVtZW50ZWQgYnkgb25lLCBhbmQgdGhpcyB2YWx1ZSBNVVNUIGJlXG4gICAgICAgIC8vIHBsYWNlZCBpbnRvIHRoZSBDU2VxIGhlYWRlciBmaWVsZC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjEuMVxuICAgICAgICBpZiAodGhpcy5yZW1vdGVTZXF1ZW5jZU51bWJlciAmJiBtZXNzYWdlLmNzZXEgPD0gdGhpcy5yZW1vdGVTZXF1ZW5jZU51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5jb3JlLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNTAwIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIERpYWxvZztcbn0oKSk7XG5leHBvcnRzLkRpYWxvZyA9IERpYWxvZztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgaW5jb21pbmdfbWVzc2FnZV8xID0gcmVxdWlyZShcIi4vaW5jb21pbmctbWVzc2FnZVwiKTtcbi8qKlxuICogSW5jb21pbmcgcmVxdWVzdCBtZXNzYWdlLlxuICogQHB1YmxpY1xuICovXG52YXIgSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbmNvbWluZ1JlcXVlc3RNZXNzYWdlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluY29taW5nUmVxdWVzdE1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gSW5jb21pbmdSZXF1ZXN0TWVzc2FnZTtcbn0oaW5jb21pbmdfbWVzc2FnZV8xLkluY29taW5nTWVzc2FnZSkpO1xuZXhwb3J0cy5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlID0gSW5jb21pbmdSZXF1ZXN0TWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdyYW1tYXJfMSA9IHJlcXVpcmUoXCIuL2dyYW1tYXJcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuLyoqXG4gKiBJbmNvbWluZyBtZXNzYWdlLlxuICogQHB1YmxpY1xuICovXG52YXIgSW5jb21pbmdNZXNzYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEluY29taW5nTWVzc2FnZSgpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydCBhIGhlYWRlciBvZiB0aGUgZ2l2ZW4gbmFtZSBhbmQgdmFsdWUgaW50byB0aGUgbGFzdCBwb3NpdGlvbiBvZiB0aGVcbiAgICAgKiBoZWFkZXIgYXJyYXkuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIGhlYWRlciB2YWx1ZVxuICAgICAqL1xuICAgIEluY29taW5nTWVzc2FnZS5wcm90b3R5cGUuYWRkSGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHZhciBoZWFkZXIgPSB7IHJhdzogdmFsdWUgfTtcbiAgICAgICAgbmFtZSA9IHV0aWxzXzEuaGVhZGVyaXplKG5hbWUpO1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJzW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbbmFtZV0ucHVzaChoZWFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJzW25hbWVdID0gW2hlYWRlcl07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGhlYWRlciBuYW1lIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIGhlYWRlciBuYW1lXG4gICAgICogQHJldHVybnMgUmV0dXJucyB0aGUgc3BlY2lmaWVkIGhlYWRlciwgdW5kZWZpbmVkIGlmIGhlYWRlciBkb2Vzbid0IGV4aXN0LlxuICAgICAqL1xuICAgIEluY29taW5nTWVzc2FnZS5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMuaGVhZGVyc1t1dGlsc18xLmhlYWRlcml6ZShuYW1lKV07XG4gICAgICAgIGlmIChoZWFkZXIpIHtcbiAgICAgICAgICAgIGlmIChoZWFkZXJbMF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVhZGVyWzBdLnJhdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBoZWFkZXIvcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIGhlYWRlciBuYW1lXG4gICAgICogQHJldHVybnMgQXJyYXkgLSB3aXRoIGFsbCB0aGUgaGVhZGVycyBvZiB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gICAgICovXG4gICAgSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS5nZXRIZWFkZXJzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMuaGVhZGVyc1t1dGlsc18xLmhlYWRlcml6ZShuYW1lKV07XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGhlYWRlcl8xID0gaGVhZGVyOyBfaSA8IGhlYWRlcl8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGhlYWRlclBhcnQgPSBoZWFkZXJfMVtfaV07XG4gICAgICAgICAgICByZXN1bHQucHVzaChoZWFkZXJQYXJ0LnJhdyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZlcmlmeSB0aGUgZXhpc3RlbmNlIG9mIHRoZSBnaXZlbiBoZWFkZXIuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgaGVhZGVyIHdpdGggZ2l2ZW4gbmFtZSBleGlzdHMsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIEluY29taW5nTWVzc2FnZS5wcm90b3R5cGUuaGFzSGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5oZWFkZXJzW3V0aWxzXzEuaGVhZGVyaXplKG5hbWUpXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlIHRoZSBnaXZlbiBoZWFkZXIgb24gdGhlIGdpdmVuIGluZGV4LlxuICAgICAqIEBwYXJhbSBuYW1lIC0gaGVhZGVyIG5hbWVcbiAgICAgKiBAcGFyYW0gaWR4IC0gaGVhZGVyIGluZGV4XG4gICAgICogQHJldHVybnMgUGFyc2VkIGhlYWRlciBvYmplY3QsIHVuZGVmaW5lZCBpZiB0aGVcbiAgICAgKiAgIGhlYWRlciBpcyBub3QgcHJlc2VudCBvciBpbiBjYXNlIG9mIGEgcGFyc2luZyBlcnJvci5cbiAgICAgKi9cbiAgICBJbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLnBhcnNlSGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIGlkeCkge1xuICAgICAgICBpZiAoaWR4ID09PSB2b2lkIDApIHsgaWR4ID0gMDsgfVxuICAgICAgICBuYW1lID0gdXRpbHNfMS5oZWFkZXJpemUobmFtZSk7XG4gICAgICAgIGlmICghdGhpcy5oZWFkZXJzW25hbWVdKSB7XG4gICAgICAgICAgICAvLyB0aGlzLmxvZ2dlci5sb2coXCJoZWFkZXIgJ1wiICsgbmFtZSArIFwiJyBub3QgcHJlc2VudFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpZHggPj0gdGhpcy5oZWFkZXJzW25hbWVdLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gdGhpcy5sb2dnZXIubG9nKFwibm90IHNvIG1hbnkgJ1wiICsgbmFtZSArIFwiJyBoZWFkZXJzIHByZXNlbnRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMuaGVhZGVyc1tuYW1lXVtpZHhdO1xuICAgICAgICB2YXIgdmFsdWUgPSBoZWFkZXIucmF3O1xuICAgICAgICBpZiAoaGVhZGVyLnBhcnNlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlci5wYXJzZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3Vic3RpdHV0ZSAnLScgYnkgJ18nIGZvciBncmFtbWFyIHJ1bGUgbWF0Y2hpbmcuXG4gICAgICAgIHZhciBwYXJzZWQgPSBncmFtbWFyXzEuR3JhbW1hci5wYXJzZSh2YWx1ZSwgbmFtZS5yZXBsYWNlKC8tL2csIFwiX1wiKSk7XG4gICAgICAgIGlmIChwYXJzZWQgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbbmFtZV0uc3BsaWNlKGlkeCwgMSk7IC8vIGRlbGV0ZSBmcm9tIGhlYWRlcnNcbiAgICAgICAgICAgIC8vIHRoaXMubG9nZ2VyLndhcm4oJ2Vycm9yIHBhcnNpbmcgXCInICsgbmFtZSArICdcIiBoZWFkZXIgZmllbGQgd2l0aCB2YWx1ZSBcIicgKyB2YWx1ZSArICdcIicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVyLnBhcnNlZCA9IHBhcnNlZDtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1lc3NhZ2UgSGVhZGVyIGF0dHJpYnV0ZSBzZWxlY3Rvci4gQWxpYXMgb2YgcGFyc2VIZWFkZXIuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEBwYXJhbSBpZHggLSBoZWFkZXIgaW5kZXhcbiAgICAgKiBAcmV0dXJucyBQYXJzZWQgaGVhZGVyIG9iamVjdCwgdW5kZWZpbmVkIGlmIHRoZVxuICAgICAqICAgaGVhZGVyIGlzIG5vdCBwcmVzZW50IG9yIGluIGNhc2Ugb2YgYSBwYXJzaW5nIGVycm9yLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtZXNzYWdlLnMoJ3ZpYScsMykucG9ydFxuICAgICAqL1xuICAgIEluY29taW5nTWVzc2FnZS5wcm90b3R5cGUucyA9IGZ1bmN0aW9uIChuYW1lLCBpZHgpIHtcbiAgICAgICAgaWYgKGlkeCA9PT0gdm9pZCAwKSB7IGlkeCA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VIZWFkZXIobmFtZSwgaWR4KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBoZWFkZXIgYnkgdGhlIHZhbHVlLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gaGVhZGVyIG5hbWVcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBoZWFkZXIgdmFsdWVcbiAgICAgKi9cbiAgICBJbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLnNldEhlYWRlciA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnNbdXRpbHNfMS5oZWFkZXJpemUobmFtZSldID0gW3sgcmF3OiB2YWx1ZSB9XTtcbiAgICB9O1xuICAgIEluY29taW5nTWVzc2FnZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gSW5jb21pbmdNZXNzYWdlO1xufSgpKTtcbmV4cG9ydHMuSW5jb21pbmdNZXNzYWdlID0gSW5jb21pbmdNZXNzYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBwYXJhbWV0ZXJzXzEgPSByZXF1aXJlKFwiLi9wYXJhbWV0ZXJzXCIpO1xuLyoqXG4gKiBOYW1lIEFkZHJlc3MgU0lQIGhlYWRlci5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE5hbWVBZGRySGVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE5hbWVBZGRySGVhZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHVyaSAtXG4gICAgICogQHBhcmFtIGRpc3BsYXlOYW1lIC1cbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmFtZUFkZHJIZWFkZXIodXJpLCBkaXNwbGF5TmFtZSwgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJhbWV0ZXJzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIF90aGlzLl9kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOYW1lQWRkckhlYWRlci5wcm90b3R5cGUsIFwiZnJpZW5kbHlOYW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TmFtZSB8fCB0aGlzLnVyaS5hb3I7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOYW1lQWRkckhlYWRlci5wcm90b3R5cGUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2Rpc3BsYXlOYW1lOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheU5hbWUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTmFtZUFkZHJIZWFkZXIucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IE5hbWVBZGRySGVhZGVyKHRoaXMudXJpLmNsb25lKCksIHRoaXMuX2Rpc3BsYXlOYW1lLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGFyYW1ldGVycykpKTtcbiAgICB9O1xuICAgIE5hbWVBZGRySGVhZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAodGhpcy5kaXNwbGF5TmFtZSB8fCB0aGlzLmRpc3BsYXlOYW1lID09PSBcIjBcIikgPyAnXCInICsgdGhpcy5kaXNwbGF5TmFtZSArICdcIiAnIDogXCJcIjtcbiAgICAgICAgYm9keSArPSBcIjxcIiArIHRoaXMudXJpLnRvU3RyaW5nKCkgKyBcIj5cIjtcbiAgICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHRoaXMucGFyYW1ldGVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICAgICAgICAgICAgYm9keSArPSBcIjtcIiArIHBhcmFtZXRlcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keSArPSBcIj1cIiArIHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9O1xuICAgIHJldHVybiBOYW1lQWRkckhlYWRlcjtcbn0ocGFyYW1ldGVyc18xLlBhcmFtZXRlcnMpKTtcbmV4cG9ydHMuTmFtZUFkZHJIZWFkZXIgPSBOYW1lQWRkckhlYWRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFBhcmFtZXRlcnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwYXJhbSBpbiBwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShwYXJhbSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFBhcmFtKHBhcmFtLCBwYXJhbWV0ZXJzW3BhcmFtXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUGFyYW1ldGVycy5wcm90b3R5cGUuc2V0UGFyYW0gPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnNba2V5LnRvTG93ZXJDYXNlKCldID0gKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB2YWx1ZSA9PT0gbnVsbCkgPyBudWxsIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFyYW1ldGVycy5wcm90b3R5cGUuZ2V0UGFyYW0gPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnNba2V5LnRvTG93ZXJDYXNlKCldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYXJhbWV0ZXJzLnByb3RvdHlwZS5oYXNQYXJhbSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5wYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBQYXJhbWV0ZXJzLnByb3RvdHlwZS5kZWxldGVQYXJhbSA9IGZ1bmN0aW9uIChwYXJhbWV0ZXIpIHtcbiAgICAgICAgcGFyYW1ldGVyID0gcGFyYW1ldGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhcmFtZXRlcnMucHJvdG90eXBlLmNsZWFyUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSB7fTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJhbWV0ZXJzO1xufSgpKTtcbmV4cG9ydHMuUGFyYW1ldGVycyA9IFBhcmFtZXRlcnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHBhcmFtZXRlcnNfMSA9IHJlcXVpcmUoXCIuL3BhcmFtZXRlcnNcIik7XG4vKipcbiAqIFVSSS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFVSSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhVUkksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gc2NoZW1lIC1cbiAgICAgKiBAcGFyYW0gdXNlciAtXG4gICAgICogQHBhcmFtIGhvc3QgLVxuICAgICAqIEBwYXJhbSBwb3J0IC1cbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtXG4gICAgICogQHBhcmFtIGhlYWRlcnMgLVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVSSShzY2hlbWUsIHVzZXIsIGhvc3QsIHBvcnQsIHBhcmFtZXRlcnMsIGhlYWRlcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGFyYW1ldGVycykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGVhZGVycyA9IHt9O1xuICAgICAgICAvLyBDaGVja3NcbiAgICAgICAgaWYgKCFob3N0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtaXNzaW5nIG9yIGludmFsaWQgXCJob3N0XCIgcGFyYW1ldGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBwYXJhbWV0ZXJzXG4gICAgICAgIHNjaGVtZSA9IHNjaGVtZSB8fCBcInNpcFwiO1xuICAgICAgICBmb3IgKHZhciBoZWFkZXIgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEhlYWRlcihoZWFkZXIsIGhlYWRlcnNbaGVhZGVyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmF3IFVSSVxuICAgICAgICBfdGhpcy5yYXcgPSB7XG4gICAgICAgICAgICBzY2hlbWU6IHNjaGVtZSxcbiAgICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgICBob3N0OiBob3N0LFxuICAgICAgICAgICAgcG9ydDogcG9ydFxuICAgICAgICB9O1xuICAgICAgICAvLyBOb3JtYWxpemVkIFVSSVxuICAgICAgICBfdGhpcy5ub3JtYWwgPSB7XG4gICAgICAgICAgICBzY2hlbWU6IHNjaGVtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgdXNlcjogdXNlcixcbiAgICAgICAgICAgIGhvc3Q6IGhvc3QudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHBvcnQ6IHBvcnRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVVJJLnByb3RvdHlwZSwgXCJzY2hlbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubm9ybWFsLnNjaGVtZTsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmF3LnNjaGVtZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5ub3JtYWwuc2NoZW1lID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSSS5wcm90b3R5cGUsIFwidXNlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5ub3JtYWwudXNlcjsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsLnVzZXIgPSB0aGlzLnJhdy51c2VyID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcImhvc3RcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubm9ybWFsLmhvc3Q7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnJhdy5ob3N0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbC5ob3N0ID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSSS5wcm90b3R5cGUsIFwiYW9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5vcm1hbC51c2VyICsgXCJAXCIgKyB0aGlzLm5vcm1hbC5ob3N0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVVJJLnByb3RvdHlwZSwgXCJwb3J0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5vcm1hbC5wb3J0OyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3JtYWwucG9ydCA9IHRoaXMucmF3LnBvcnQgPSB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFVSSS5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1t0aGlzLmhlYWRlcml6ZShuYW1lKV0gPSAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJzW3RoaXMuaGVhZGVyaXplKG5hbWUpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVVJJLnByb3RvdHlwZS5oYXNIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gISFuYW1lICYmICEhdGhpcy5oZWFkZXJzLmhhc093blByb3BlcnR5KHRoaXMuaGVhZGVyaXplKG5hbWUpKTtcbiAgICB9O1xuICAgIFVSSS5wcm90b3R5cGUuZGVsZXRlSGVhZGVyID0gZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICBoZWFkZXIgPSB0aGlzLmhlYWRlcml6ZShoZWFkZXIpO1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJzLmhhc093blByb3BlcnR5KGhlYWRlcikpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuaGVhZGVyc1toZWFkZXJdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaGVhZGVyc1toZWFkZXJdO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLmNsZWFySGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0ge307XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFVSSSh0aGlzLl9yYXcuc2NoZW1lLCB0aGlzLl9yYXcudXNlciB8fCBcIlwiLCB0aGlzLl9yYXcuaG9zdCwgdGhpcy5fcmF3LnBvcnQsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbWV0ZXJzKSksIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5oZWFkZXJzKSkpO1xuICAgIH07XG4gICAgVVJJLnByb3RvdHlwZS50b1JhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvU3RyaW5nKHRoaXMuX3Jhdyk7XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9TdHJpbmcodGhpcy5fbm9ybWFsKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcIl9ub3JtYWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubm9ybWFsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVVJJLnByb3RvdHlwZSwgXCJfcmF3XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnJhdzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgVVJJLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHZhciB1cmlTdHJpbmcgPSB1cmkuc2NoZW1lICsgXCI6XCI7XG4gICAgICAgIC8vIGFkZCBzbGFzaGVzIGlmIGl0J3Mgbm90IGEgc2lwKHMpIFVSSVxuICAgICAgICBpZiAoIXVyaS5zY2hlbWUudG9Mb3dlckNhc2UoKS5tYXRjaChcIl5zaXBzPyRcIikpIHtcbiAgICAgICAgICAgIHVyaVN0cmluZyArPSBcIi8vXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVyaS51c2VyKSB7XG4gICAgICAgICAgICB1cmlTdHJpbmcgKz0gdGhpcy5lc2NhcGVVc2VyKHVyaS51c2VyKSArIFwiQFwiO1xuICAgICAgICB9XG4gICAgICAgIHVyaVN0cmluZyArPSB1cmkuaG9zdDtcbiAgICAgICAgaWYgKHVyaS5wb3J0IHx8IHVyaS5wb3J0ID09PSAwKSB7XG4gICAgICAgICAgICB1cmlTdHJpbmcgKz0gXCI6XCIgKyB1cmkucG9ydDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICB1cmlTdHJpbmcgKz0gXCI7XCIgKyBwYXJhbWV0ZXI7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHVyaVN0cmluZyArPSBcIj1cIiArIHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaGVhZGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBoZWFkZXIgaW4gdGhpcy5oZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzLmhhc093blByb3BlcnR5KGhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpZHggaW4gdGhpcy5oZWFkZXJzW2hlYWRlcl0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGVhZGVyc1toZWFkZXJdLmhhc093blByb3BlcnR5KGlkeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMucHVzaChoZWFkZXIgKyBcIj1cIiArIHRoaXMuaGVhZGVyc1toZWFkZXJdW2lkeF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHVyaVN0cmluZyArPSBcIj9cIiArIGhlYWRlcnMuam9pbihcIiZcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVyaVN0cmluZztcbiAgICB9O1xuICAgIC8qXG4gICAgICogSGV4LWVzY2FwZSBhIFNJUCBVUkkgdXNlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyXG4gICAgICovXG4gICAgVVJJLnByb3RvdHlwZS5lc2NhcGVVc2VyID0gZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdmFyIGRlY29kZWRVc2VyO1xuICAgICAgICAvLyBGSVhNRTogVGhpcyBpcyBjYWxsZWQgYnkgdG9TdHJpbmcgYWJvdmUgd2hpY2ggc2hvdWxkIG5ldmVyIHRocm93LCBidXRcbiAgICAgICAgLy8gZGVjb2RlVVJJQ29tcG9uZW50IGNhbiB0aHJvdyBhbmQgSSd2ZSBzZWVuIG9uZSBjYXNlIGluIHByb2R1Y3Rpb24gd2hlcmVcbiAgICAgICAgLy8gaXQgZGlkIHRocm93IHJlc3VsdGluZyBpbiBhIGNhc2NhZGluZyBmYWlsdXJlLiBUaGlzIGNsYXNzIHNob3VsZCBiZVxuICAgICAgICAvLyBmaXhlZCBzbyB0aGF0IGRlY29kZVVSSUNvbXBvbmVudCBpcyBub3QgY2FsbGVkIGF0IHRoaXMgcG9pbnQgKGluIHRvU3RyaW5nKS5cbiAgICAgICAgLy8gVGhlIHVzZXIgc2hvdWxkIGJlIGRlY29kZWQgd2hlbiB0aGUgVVJJIGlzIGNvbnN0cnVjdG9yIG9yIHNvbWUgb3RoZXJcbiAgICAgICAgLy8gcGxhY2Ugd2hlcmUgd2UgY2FuIGNhdGNoIHRoZSBlcnJvciBiZWZvcmUgdGhlIFVSSSBpcyBjcmVhdGVkIG9yIHNvbWVzdWNoLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVjb2RlZFVzZXIgPSBkZWNvZGVVUklDb21wb25lbnQodXNlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb24ndCBoZXgtZXNjYXBlICc6JyAoJTNBKSwgJysnICglMkIpLCAnPycgKCUzRlwiKSwgJy8nICglMkYpLlxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZWRVc2VyKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyUzQS9pZywgXCI6XCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJTJCL2lnLCBcIitcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lM0YvaWcsIFwiP1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyUyRi9pZywgXCIvXCIpO1xuICAgIH07XG4gICAgVVJJLnByb3RvdHlwZS5oZWFkZXJpemUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHZhciBleGNlcHRpb25zID0ge1xuICAgICAgICAgICAgXCJDYWxsLUlkXCI6IFwiQ2FsbC1JRFwiLFxuICAgICAgICAgICAgXCJDc2VxXCI6IFwiQ1NlcVwiLFxuICAgICAgICAgICAgXCJNaW4tU2VcIjogXCJNaW4tU0VcIixcbiAgICAgICAgICAgIFwiUmFja1wiOiBcIlJBY2tcIixcbiAgICAgICAgICAgIFwiUnNlcVwiOiBcIlJTZXFcIixcbiAgICAgICAgICAgIFwiV3d3LUF1dGhlbnRpY2F0ZVwiOiBcIldXVy1BdXRoZW50aWNhdGVcIixcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIFwiLVwiKS5zcGxpdChcIi1cIik7XG4gICAgICAgIHZhciBwYXJ0cyA9IG5hbWUubGVuZ3RoO1xuICAgICAgICB2YXIgaG5hbWUgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciBwYXJ0ID0gMDsgcGFydCA8IHBhcnRzOyBwYXJ0KyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaG5hbWUgKz0gXCItXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBobmFtZSArPSBuYW1lW3BhcnRdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZVtwYXJ0XS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4Y2VwdGlvbnNbaG5hbWVdKSB7XG4gICAgICAgICAgICBobmFtZSA9IGV4Y2VwdGlvbnNbaG5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBobmFtZTtcbiAgICB9O1xuICAgIHJldHVybiBVUkk7XG59KHBhcmFtZXRlcnNfMS5QYXJhbWV0ZXJzKSk7XG5leHBvcnRzLlVSSSA9IFVSSTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgaW5jb21pbmdfbWVzc2FnZV8xID0gcmVxdWlyZShcIi4vaW5jb21pbmctbWVzc2FnZVwiKTtcbi8qKlxuICogSW5jb21pbmcgcmVzcG9uc2UgbWVzc2FnZS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIEluY29taW5nUmVzcG9uc2VNZXNzYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEluY29taW5nUmVzcG9uc2VNZXNzYWdlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluY29taW5nUmVzcG9uc2VNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEluY29taW5nUmVzcG9uc2VNZXNzYWdlO1xufShpbmNvbWluZ19tZXNzYWdlXzEuSW5jb21pbmdNZXNzYWdlKSk7XG5leHBvcnRzLkluY29taW5nUmVzcG9uc2VNZXNzYWdlID0gSW5jb21pbmdSZXNwb25zZU1lc3NhZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvblwiKTtcbi8qKlxuICogQ2xpZW50IFRyYW5zYWN0aW9uLlxuICogQHJlbWFya3NcbiAqIFRoZSBjbGllbnQgdHJhbnNhY3Rpb24gcHJvdmlkZXMgaXRzIGZ1bmN0aW9uYWxpdHkgdGhyb3VnaCB0aGVcbiAqIG1haW50ZW5hbmNlIG9mIGEgc3RhdGUgbWFjaGluZS5cbiAqXG4gKiBUaGUgVFUgY29tbXVuaWNhdGVzIHdpdGggdGhlIGNsaWVudCB0cmFuc2FjdGlvbiB0aHJvdWdoIGEgc2ltcGxlXG4gKiBpbnRlcmZhY2UuICBXaGVuIHRoZSBUVSB3aXNoZXMgdG8gaW5pdGlhdGUgYSBuZXcgdHJhbnNhY3Rpb24sIGl0XG4gKiBjcmVhdGVzIGEgY2xpZW50IHRyYW5zYWN0aW9uIGFuZCBwYXNzZXMgaXQgdGhlIFNJUCByZXF1ZXN0IHRvIHNlbmRcbiAqIGFuZCBhbiBJUCBhZGRyZXNzLCBwb3J0LCBhbmQgdHJhbnNwb3J0IHRvIHdoaWNoIHRvIHNlbmQgaXQuICBUaGVcbiAqIGNsaWVudCB0cmFuc2FjdGlvbiBiZWdpbnMgZXhlY3V0aW9uIG9mIGl0cyBzdGF0ZSBtYWNoaW5lLiAgVmFsaWRcbiAqIHJlc3BvbnNlcyBhcmUgcGFzc2VkIHVwIHRvIHRoZSBUVSBmcm9tIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24uXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjFcbiAqIEBwdWJsaWNcbiAqL1xudmFyIENsaWVudFRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENsaWVudFRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENsaWVudFRyYW5zYWN0aW9uKF9yZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIsIHN0YXRlLCBsb2dnZXJDYXRlZ29yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc3BvcnQsIHVzZXIsIENsaWVudFRyYW5zYWN0aW9uLm1ha2VJZChfcmVxdWVzdCksIHN0YXRlLCBsb2dnZXJDYXRlZ29yeSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3JlcXVlc3QgPSBfcmVxdWVzdDtcbiAgICAgICAgX3RoaXMudXNlciA9IHVzZXI7XG4gICAgICAgIC8vIFRoZSBWaWEgaGVhZGVyIGZpZWxkIGluZGljYXRlcyB0aGUgdHJhbnNwb3J0IHVzZWQgZm9yIHRoZSB0cmFuc2FjdGlvblxuICAgICAgICAvLyBhbmQgaWRlbnRpZmllcyB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIHJlc3BvbnNlIGlzIHRvIGJlIHNlbnQuICBBIFZpYVxuICAgICAgICAvLyBoZWFkZXIgZmllbGQgdmFsdWUgaXMgYWRkZWQgb25seSBhZnRlciB0aGUgdHJhbnNwb3J0IHRoYXQgd2lsbCBiZVxuICAgICAgICAvLyB1c2VkIHRvIHJlYWNoIHRoZSBuZXh0IGhvcCBoYXMgYmVlbiBzZWxlY3RlZCAod2hpY2ggbWF5IGludm9sdmUgdGhlXG4gICAgICAgIC8vIHVzYWdlIG9mIHRoZSBwcm9jZWR1cmVzIGluIFs0XSkuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjEuN1xuICAgICAgICBfcmVxdWVzdC5zZXRWaWFIZWFkZXIoX3RoaXMuaWQsIHRyYW5zcG9ydC5wcm90b2NvbCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2xpZW50VHJhbnNhY3Rpb24ubWFrZUlkID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBcIkNBTkNFTFwiKSB7XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3QuYnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3V0Z29pbmcgQ0FOQ0VMIHJlcXVlc3Qgd2l0aG91dCBhIGJyYW5jaC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5icmFuY2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ6OWhHNGJLXCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwicmVxdWVzdFwiLCB7XG4gICAgICAgIC8qKiBUaGUgb3V0Z29pbmcgcmVxdWVzdCB0aGUgdHJhbnNhY3Rpb24gaGFuZGxpbmcuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgNDA4IHRvIG5vbi1JTlZJVEUgd2lsbCBhbHdheXMgYXJyaXZlIHRvbyBsYXRlIHRvIGJlIHVzZWZ1bCAoWzNdKSxcbiAgICAgKiBUaGUgY2xpZW50IGFscmVhZHkgaGFzIGZ1bGwga25vd2xlZGdlIG9mIHRoZSB0aW1lb3V0LiBUaGUgb25seVxuICAgICAqIGluZm9ybWF0aW9uIHRoaXMgbWVzc2FnZSB3b3VsZCBjb252ZXkgaXMgd2hldGhlciBvciBub3QgdGhlIHNlcnZlclxuICAgICAqIGJlbGlldmVkIHRoZSB0cmFuc2FjdGlvbiB0aW1lZCBvdXQuIEhvd2V2ZXIsIHdpdGggdGhlIGN1cnJlbnQgZGVzaWduXG4gICAgICogb2YgdGhlIE5JVCwgYSBjbGllbnQgY2Fubm90IGRvIGFueXRoaW5nIHdpdGggdGhpcyBrbm93bGVkZ2UuIFRodXMsXG4gICAgICogdGhlIDQwOCBpcyBzaW1wbHkgd2FzdGluZyBuZXR3b3JrIHJlc291cmNlcyBhbmQgY29udHJpYnV0ZXMgdG8gdGhlXG4gICAgICogcmVzcG9uc2UgYm9tYmFyZG1lbnQgaWxsdXN0cmF0ZWQgaW4gWzNdLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MzIwI3NlY3Rpb24tNC4xXG4gICAgICovXG4gICAgQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZXIub25SZXF1ZXN0VGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy51c2VyLm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENsaWVudFRyYW5zYWN0aW9uO1xufSh0cmFuc2FjdGlvbl8xLlRyYW5zYWN0aW9uKSk7XG5leHBvcnRzLkNsaWVudFRyYW5zYWN0aW9uID0gQ2xpZW50VHJhbnNhY3Rpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vZXhjZXB0aW9uc1wiKTtcbi8qKlxuICogVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogU0lQIGlzIGEgdHJhbnNhY3Rpb25hbCBwcm90b2NvbDogaW50ZXJhY3Rpb25zIGJldHdlZW4gY29tcG9uZW50cyB0YWtlXG4gKiBwbGFjZSBpbiBhIHNlcmllcyBvZiBpbmRlcGVuZGVudCBtZXNzYWdlIGV4Y2hhbmdlcy4gIFNwZWNpZmljYWxseSwgYVxuICogU0lQIHRyYW5zYWN0aW9uIGNvbnNpc3RzIG9mIGEgc2luZ2xlIHJlcXVlc3QgYW5kIGFueSByZXNwb25zZXMgdG9cbiAqIHRoYXQgcmVxdWVzdCwgd2hpY2ggaW5jbHVkZSB6ZXJvIG9yIG1vcmUgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIGFuZFxuICogb25lIG9yIG1vcmUgZmluYWwgcmVzcG9uc2VzLiAgSW4gdGhlIGNhc2Ugb2YgYSB0cmFuc2FjdGlvbiB3aGVyZSB0aGVcbiAqIHJlcXVlc3Qgd2FzIGFuIElOVklURSAoa25vd24gYXMgYW4gSU5WSVRFIHRyYW5zYWN0aW9uKSwgdGhlXG4gKiB0cmFuc2FjdGlvbiBhbHNvIGluY2x1ZGVzIHRoZSBBQ0sgb25seSBpZiB0aGUgZmluYWwgcmVzcG9uc2Ugd2FzIG5vdFxuICogYSAyeHggcmVzcG9uc2UuICBJZiB0aGUgcmVzcG9uc2Ugd2FzIGEgMnh4LCB0aGUgQUNLIGlzIG5vdCBjb25zaWRlcmVkXG4gKiBwYXJ0IG9mIHRoZSB0cmFuc2FjdGlvbi5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTdcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uKF90cmFuc3BvcnQsIF91c2VyLCBfaWQsIF9zdGF0ZSwgbG9nZ2VyQ2F0ZWdvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3RyYW5zcG9ydCA9IF90cmFuc3BvcnQ7XG4gICAgICAgIF90aGlzLl91c2VyID0gX3VzZXI7XG4gICAgICAgIF90aGlzLl9pZCA9IF9pZDtcbiAgICAgICAgX3RoaXMuX3N0YXRlID0gX3N0YXRlO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBfdXNlci5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihsb2dnZXJDYXRlZ29yeSwgX2lkKTtcbiAgICAgICAgX3RoaXMubG9nZ2VyLmRlYnVnKFwiQ29uc3RydWN0aW5nIFwiICsgX3RoaXMudHlwZVRvU3RyaW5nKCkgKyBcIiB3aXRoIGlkIFwiICsgX3RoaXMuaWQgKyBcIi5cIik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJ1Y3Rvci5cbiAgICAgKiBPbmNlIHRoZSB0cmFuc2FjdGlvbiBpcyBpbiB0aGUgXCJ0ZXJtaW5hdGVkXCIgc3RhdGUsIGl0IGlzIGRlc3Ryb3llZFxuICAgICAqIGltbWVkaWF0ZWx5IGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgYGRpc3Bvc2VgLiBIb3dldmVyLCBpZiBhXG4gICAgICogdHJhbnNhY3Rpb24gbmVlZHMgdG8gYmUgZW5kZWQgcHJlbWF0dXJlbHksIHRoZSB0cmFuc2FjdGlvbiB1c2VyIG1heVxuICAgICAqIGRvIHNvIGJ5IGNhbGxpbmcgdGhpcyBtZXRob2QgKGZvciBleGFtcGxlLCBwZXJoYXBzIHRoZSBVQSBpcyBzaHV0dGluZyBkb3duKS5cbiAgICAgKiBObyBzdGF0ZSB0cmFuc2l0aW9uIHdpbGwgb2NjdXIgdXBvbiBjYWxsaW5nIHRoaXMgbWV0aG9kLCBhbGwgb3V0c3RhbmRpbmdcbiAgICAgKiB0cmFuc21pc3Npb24gdGltZXJzIHdpbGwgYmUgY2FuY2VsbGVkLCBhbmQgdXNlIG9mIHRoZSB0cmFuc2FjdGlvbiBhZnRlclxuICAgICAqIGNhbGxpbmcgYGRpc3Bvc2VgIGlzIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJEZXN0cm95ZWQgXCIgKyB0aGlzLnR5cGVUb1N0cmluZygpICsgXCIgd2l0aCBpZCBcIiArIHRoaXMuaWQgKyBcIi5cIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBcImlkXCIsIHtcbiAgICAgICAgLyoqIFRyYW5zYWN0aW9uIGlkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgXCJraW5kXCIsIHtcbiAgICAgICAgLyoqIFRyYW5zYWN0aW9uIGtpbmQuIERlcHJlY2F0ZWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBraW5kLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIC8qKiBUcmFuc2FjdGlvbiBzdGF0ZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwidHJhbnNwb3J0XCIsIHtcbiAgICAgICAgLyoqIFRyYW5zYWN0aW9uIHRyYW5zcG9ydC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7IH07XG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLmxvZ1RyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlRyYW5zcG9ydCBlcnJvciBvY2N1cnJlZCBpbiBcIiArIHRoaXMudHlwZVRvU3RyaW5nKCkgKyBcIiB3aXRoIGlkIFwiICsgdGhpcy5pZCArIFwiLlwiKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IobWVzc2FnZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXNzIG1lc3NhZ2UgdG8gdHJhbnNwb3J0IGZvciB0cmFuc21pc3Npb24uIElmIHRyYW5zcG9ydCBmYWlscyxcbiAgICAgKiB0aGUgdHJhbnNhY3Rpb24gdXNlciBpcyBub3RpZmllZCBieSBjYWxsYmFjayB0byBvblRyYW5zcG9ydEVycm9yKCkuXG4gICAgICogQHJldHVybnNcbiAgICAgKiBSZWplY3RzIHdpdGggYFRyYW5zcG9ydEVycm9yYCBpZiB0cmFuc3BvcnQgZmFpbHMuXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuc2VuZChtZXNzYWdlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSB0cmFuc3BvcnQgcmVqZWN0cywgaXQgU0hPVUxEIHJlamVjdCB3aXRoIGEgVHJhbnNwb3J0RXJyb3IuXG4gICAgICAgICAgICAvLyBCdXQgdGhlIHRyYW5zcG9ydCBtYXkgYmUgZXh0ZXJuYWwgY29kZSwgc28gd2UgYXJlIGNhcmVmdWxcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBjb252ZXJ0IGl0IHRvIGEgVHJhbnNwb3J0RXJyb3IgaWYgbmVlZCBiZS5cbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIGV4Y2VwdGlvbnNfMS5UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRyYW5zcG9ydEVycm9yO1xuICAgICAgICAgICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0RXJyb3IgPSBuZXcgZXhjZXB0aW9uc18xLlRyYW5zcG9ydEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0RXJyb3IgPSBuZXcgZXhjZXB0aW9uc18xLlRyYW5zcG9ydEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5vblRyYW5zcG9ydEVycm9yKHRyYW5zcG9ydEVycm9yKTtcbiAgICAgICAgICAgIHRocm93IHRyYW5zcG9ydEVycm9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN0YXRlIGNoYW5nZSB0byBcXFwiXCIgKyBzdGF0ZSArIFwiXFxcIiBvbiBcIiArIHRoaXMudHlwZVRvU3RyaW5nKCkgKyBcIiB3aXRoIGlkIFwiICsgdGhpcy5pZCArIFwiLlwiKTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgaWYgKHRoaXMuX3VzZXIub25TdGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5fdXNlci5vblN0YXRlQ2hhbmdlKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJzdGF0ZUNoYW5nZWRcIik7XG4gICAgfTtcbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUudHlwZVRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJVbmtub3duVHlwZVwiO1xuICAgIH07XG4gICAgcmV0dXJuIFRyYW5zYWN0aW9uO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuVHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG4vKipcbiAqIEFuIEV4Y2VwdGlvbiBpcyBjb25zaWRlcmVkIGEgY29uZGl0aW9uIHRoYXQgYSByZWFzb25hYmxlIGFwcGxpY2F0aW9uIG1heSB3aXNoIHRvIGNhdGNoLlxuICogQW4gRXJyb3IgaW5kaWNhdGVzIHNlcmlvdXMgcHJvYmxlbXMgdGhhdCBhIHJlYXNvbmFibGUgYXBwbGljYXRpb24gc2hvdWxkIG5vdCB0cnkgdG8gY2F0Y2guXG4gKiBAcHVibGljXG4gKi9cbnZhciBFeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfbmV3VGFyZ2V0ID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBfbmV3VGFyZ2V0LnByb3RvdHlwZSk7IC8vIHJlc3RvcmUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEV4Y2VwdGlvbjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuRXhjZXB0aW9uID0gRXhjZXB0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vdHJhbnNhY3Rpb25cIik7XG4vKipcbiAqIFNlcnZlciBUcmFuc2FjdGlvbi5cbiAqIEByZW1hcmtzXG4gKiBUaGUgc2VydmVyIHRyYW5zYWN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgZGVsaXZlcnkgb2YgcmVxdWVzdHMgdG9cbiAqIHRoZSBUVSBhbmQgdGhlIHJlbGlhYmxlIHRyYW5zbWlzc2lvbiBvZiByZXNwb25zZXMuICBJdCBhY2NvbXBsaXNoZXNcbiAqIHRoaXMgdGhyb3VnaCBhIHN0YXRlIG1hY2hpbmUuICBTZXJ2ZXIgdHJhbnNhY3Rpb25zIGFyZSBjcmVhdGVkIGJ5IHRoZVxuICogY29yZSB3aGVuIGEgcmVxdWVzdCBpcyByZWNlaXZlZCwgYW5kIHRyYW5zYWN0aW9uIGhhbmRsaW5nIGlzIGRlc2lyZWRcbiAqIGZvciB0aGF0IHJlcXVlc3QgKHRoaXMgaXMgbm90IGFsd2F5cyB0aGUgY2FzZSkuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjJcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFNlcnZlclRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlcnZlclRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNlcnZlclRyYW5zYWN0aW9uKF9yZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIsIHN0YXRlLCBsb2dnZXJDYXRlZ29yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc3BvcnQsIHVzZXIsIF9yZXF1ZXN0LnZpYUJyYW5jaCwgc3RhdGUsIGxvZ2dlckNhdGVnb3J5KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcmVxdWVzdCA9IF9yZXF1ZXN0O1xuICAgICAgICBfdGhpcy51c2VyID0gdXNlcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBcInJlcXVlc3RcIiwge1xuICAgICAgICAvKiogVGhlIGluY29taW5nIHJlcXVlc3QgdGhlIHRyYW5zYWN0aW9uIGhhbmRsaW5nLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU2VydmVyVHJhbnNhY3Rpb247XG59KHRyYW5zYWN0aW9uXzEuVHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuU2VydmVyVHJhbnNhY3Rpb24gPSBTZXJ2ZXJUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LXNlcnZlclwiKTtcbi8qKlxuICogTk9USUZZIFVBUy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE5vdGlmeVVzZXJBZ2VudFNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhOb3RpZnlVc2VyQWdlbnRTZXJ2ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogTk9USUZZIFVBUyBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gZGlhbG9nT3JDb3JlIC0gRGlhbG9nIGZvciBpbiBkaWFsb2cgTk9USUZZLCBVc2VyQWdlbnRDb3JlIGZvciBvdXQgb2YgZGlhbG9nIE5PVElGWSAoZGVwcmVjYXRlZCkuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyBOT1RJRlkgcmVxdWVzdCBtZXNzYWdlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5vdGlmeVVzZXJBZ2VudFNlcnZlcihkaWFsb2dPckNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1c2VyQWdlbnRDb3JlID0gaW5zdGFuY2VPZkRpYWxvZyhkaWFsb2dPckNvcmUpID9cbiAgICAgICAgICAgIGRpYWxvZ09yQ29yZS51c2VyQWdlbnRDb3JlIDpcbiAgICAgICAgICAgIGRpYWxvZ09yQ29yZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgdXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE5vdGlmeVVzZXJBZ2VudFNlcnZlcjtcbn0odXNlcl9hZ2VudF9zZXJ2ZXJfMS5Vc2VyQWdlbnRTZXJ2ZXIpKTtcbmV4cG9ydHMuTm90aWZ5VXNlckFnZW50U2VydmVyID0gTm90aWZ5VXNlckFnZW50U2VydmVyO1xuZnVuY3Rpb24gaW5zdGFuY2VPZkRpYWxvZyhvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0LnVzZXJBZ2VudENvcmUgIT09IHVuZGVmaW5lZDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdWJzY3JpcHRpb25cIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIExvZyBsZXZlbHMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBMZXZlbHM7XG4oZnVuY3Rpb24gKExldmVscykge1xuICAgIExldmVsc1tMZXZlbHNbXCJlcnJvclwiXSA9IDBdID0gXCJlcnJvclwiO1xuICAgIExldmVsc1tMZXZlbHNbXCJ3YXJuXCJdID0gMV0gPSBcIndhcm5cIjtcbiAgICBMZXZlbHNbTGV2ZWxzW1wibG9nXCJdID0gMl0gPSBcImxvZ1wiO1xuICAgIExldmVsc1tMZXZlbHNbXCJkZWJ1Z1wiXSA9IDNdID0gXCJkZWJ1Z1wiO1xufSkoTGV2ZWxzID0gZXhwb3J0cy5MZXZlbHMgfHwgKGV4cG9ydHMuTGV2ZWxzID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgQ2xpZW50Q29udGV4dF8xID0gcmVxdWlyZShcIi4vQ2xpZW50Q29udGV4dFwiKTtcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xudmFyIEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbnZhciBFeGNlcHRpb25zXzEgPSByZXF1aXJlKFwiLi9FeGNlcHRpb25zXCIpO1xudmFyIFNlcnZlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1NlcnZlckNvbnRleHRcIik7XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWNsYXNzZXMtcGVyLWZpbGVcbnZhciBSZWZlckNsaWVudENvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmZXJDbGllbnRDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZmVyQ2xpZW50Q29udGV4dCh1YSwgYXBwbGljYW50LCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHVhID09PSB1bmRlZmluZWQgfHwgYXBwbGljYW50ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgZW5vdWdoIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHVhLCBDb25zdGFudHNfMS5DLlJFRkVSLCBhcHBsaWNhbnQucmVtb3RlSWRlbnRpdHkudXJpLnRvU3RyaW5nKCksIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlJlZmVyQ2xpZW50Q29udGV4dDtcbiAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIF90aGlzLmV4dHJhSGVhZGVycyA9IChfdGhpcy5vcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgX3RoaXMuYXBwbGljYW50ID0gYXBwbGljYW50O1xuICAgICAgICBfdGhpcy50YXJnZXQgPSBfdGhpcy5pbml0UmVmZXJUbyh0YXJnZXQpO1xuICAgICAgICBpZiAoX3RoaXMudWEpIHtcbiAgICAgICAgICAgIF90aGlzLmV4dHJhSGVhZGVycy5wdXNoKFwiUmVmZXJyZWQtQnk6IDxcIiArIF90aGlzLnVhLmNvbmZpZ3VyYXRpb24udXJpICsgXCI+XCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IENoZWNrIHRoYXQgdGhpcyBpcyBjb3JyZWN0IGlzYy9pY2NcbiAgICAgICAgX3RoaXMuZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIGFwcGxpY2FudC5jb250YWN0KTtcbiAgICAgICAgLy8gdGhpcyBpcyBVQS5DLkFMTE9XRURfTUVUSE9EUywgcmVtb3ZlZCB0byBnZXQgYXJvdW5kIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICAgICAgX3RoaXMuZXh0cmFIZWFkZXJzLnB1c2goXCJBbGxvdzogXCIgKyBbXG4gICAgICAgICAgICBcIkFDS1wiLFxuICAgICAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgICAgICBcIk1FU1NBR0VcIixcbiAgICAgICAgICAgIFwiQllFXCIsXG4gICAgICAgICAgICBcIk9QVElPTlNcIixcbiAgICAgICAgICAgIFwiSU5GT1wiLFxuICAgICAgICAgICAgXCJOT1RJRllcIixcbiAgICAgICAgICAgIFwiUkVGRVJcIlxuICAgICAgICBdLnRvU3RyaW5nKCkpO1xuICAgICAgICBfdGhpcy5leHRyYUhlYWRlcnMucHVzaChcIlJlZmVyLVRvOiBcIiArIF90aGlzLnRhcmdldCk7XG4gICAgICAgIF90aGlzLmVycm9yTGlzdGVuZXIgPSBfdGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB1YS50cmFuc3BvcnQub24oXCJ0cmFuc3BvcnRFcnJvclwiLCBfdGhpcy5lcnJvckxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZmVyQ2xpZW50Q29udGV4dC5wcm90b3R5cGUucmVmZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKHRoaXMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBpZiAob3B0aW9ucy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5jb25jYXQob3B0aW9ucy5leHRyYUhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXBwbGljYW50LnNlbmRSZXF1ZXN0KENvbnN0YW50c18xLkMuUkVGRVIsIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVyczogdGhpcy5leHRyYUhlYWRlcnMsXG4gICAgICAgICAgICByZWNlaXZlUmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA/IHJlc3BvbnNlLnN0YXR1c0NvZGUudG9TdHJpbmcoKSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKC9eMVswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVmZXJSZXF1ZXN0UHJvZ3Jlc3NcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvXjJbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlZmVyUmVxdWVzdEFjY2VwdGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoL15bNC02XVswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVmZXJSZXF1ZXN0UmVqZWN0ZWRcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUmVmZXJDbGllbnRDb250ZXh0LnByb3RvdHlwZS5yZWNlaXZlTm90aWZ5ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgLy8gSWYgd2UgY2FuIGNvcnJlY3RseSBoYW5kbGUgdGhpcywgdGhlbiB3ZSBuZWVkIHRvIHNlbmQgYSAyMDAgT0shXG4gICAgICAgIHZhciBjb250ZW50VHlwZSA9IHJlcXVlc3QubWVzc2FnZS5oYXNIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgP1xuICAgICAgICAgICAgcmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIGNvbnRlbnRUeXBlLnNlYXJjaCgvXm1lc3NhZ2VcXC9zaXBmcmFnLykgIT09IC0xKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZUJvZHkgPSBjb3JlXzEuR3JhbW1hci5wYXJzZShyZXF1ZXN0Lm1lc3NhZ2UuYm9keSwgXCJzaXBmcmFnXCIpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VCb2R5ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QucmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogNDg5LFxuICAgICAgICAgICAgICAgICAgICByZWFzb25QaHJhc2U6IFwiQmFkIEV2ZW50XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICgvXjFbMC05XXsyfSQvLnRlc3QobWVzc2FnZUJvZHkuc3RhdHVzX2NvZGUpKTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVmZXJQcm9ncmVzc1wiLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAoL14yWzAtOV17Mn0kLy50ZXN0KG1lc3NhZ2VCb2R5LnN0YXR1c19jb2RlKSk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJlZmVyQWNjZXB0ZWRcIiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmFjdGl2ZUFmdGVyVHJhbnNmZXIgJiYgdGhpcy5hcHBsaWNhbnQudGVybWluYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGxpY2FudC50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWZlclJlamVjdGVkXCIsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3QuYWNjZXB0KCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJub3RpZnlcIiwgcmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0LnJlamVjdCh7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA0ODksXG4gICAgICAgICAgICByZWFzb25QaHJhc2U6IFwiQmFkIEV2ZW50XCJcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWZlckNsaWVudENvbnRleHQucHJvdG90eXBlLmluaXRSZWZlclRvID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgc3RyaW5nT3JVUkk7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBSRUZFUiB3aXRob3V0IFJlcGxhY2VzIChCbGluZCBUcmFuc2ZlcilcbiAgICAgICAgICAgIHZhciB0YXJnZXRTdHJpbmcgPSBjb3JlXzEuR3JhbW1hci5wYXJzZSh0YXJnZXQsIFwiUmVmZXJfVG9cIik7XG4gICAgICAgICAgICBzdHJpbmdPclVSSSA9IHRhcmdldFN0cmluZyAmJiB0YXJnZXRTdHJpbmcudXJpID8gdGFyZ2V0U3RyaW5nLnVyaSA6IHRhcmdldDtcbiAgICAgICAgICAgIC8vIENoZWNrIHRhcmdldCB2YWxpZGl0eVxuICAgICAgICAgICAgdmFyIHRhcmdldFVyaSA9IHRoaXMudWEubm9ybWFsaXplVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICBpZiAoIXRhcmdldFVyaSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRhcmdldDogXCIgKyB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyaW5nT3JVUkkgPSB0YXJnZXRVcmk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSRUZFUiB3aXRoIFJlcGxhY2VzIChBdHRlbmRlZCBUcmFuc2ZlcilcbiAgICAgICAgICAgIGlmICghdGFyZ2V0LnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIHVuZGVmaW5lZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSB0YXJnZXQucmVtb3RlSWRlbnRpdHkuZnJpZW5kbHlOYW1lO1xuICAgICAgICAgICAgdmFyIHJlbW90ZVRhcmdldCA9IHRhcmdldC5zZXNzaW9uLnJlbW90ZVRhcmdldC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGNhbGxJZCA9IHRhcmdldC5zZXNzaW9uLmNhbGxJZDtcbiAgICAgICAgICAgIHZhciByZW1vdGVUYWcgPSB0YXJnZXQuc2Vzc2lvbi5yZW1vdGVUYWc7XG4gICAgICAgICAgICB2YXIgbG9jYWxUYWcgPSB0YXJnZXQuc2Vzc2lvbi5sb2NhbFRhZztcbiAgICAgICAgICAgIHZhciByZXBsYWNlcyA9IGVuY29kZVVSSUNvbXBvbmVudChjYWxsSWQgKyBcIjt0by10YWc9XCIgKyByZW1vdGVUYWcgKyBcIjtmcm9tLXRhZz1cIiArIGxvY2FsVGFnKTtcbiAgICAgICAgICAgIHN0cmluZ09yVVJJID0gXCJcXFwiXCIgKyBkaXNwbGF5TmFtZSArIFwiXFxcIiA8XCIgKyByZW1vdGVUYXJnZXQgKyBcIj9SZXBsYWNlcz1cIiArIHJlcGxhY2VzICsgXCI+XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ09yVVJJO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZmVyQ2xpZW50Q29udGV4dDtcbn0oQ2xpZW50Q29udGV4dF8xLkNsaWVudENvbnRleHQpKTtcbmV4cG9ydHMuUmVmZXJDbGllbnRDb250ZXh0ID0gUmVmZXJDbGllbnRDb250ZXh0O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1jbGFzc2VzLXBlci1maWxlXG52YXIgUmVmZXJTZXJ2ZXJDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZmVyU2VydmVyQ29udGV4dCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWZlclNlcnZlckNvbnRleHQodWEsIGluY29taW5nUmVxdWVzdCwgc2Vzc2lvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB1YSwgaW5jb21pbmdSZXF1ZXN0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuUmVmZXJTZXJ2ZXJDb250ZXh0O1xuICAgICAgICBfdGhpcy51YSA9IHVhO1xuICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0lOVklURV9SRUNFSVZFRDtcbiAgICAgICAgX3RoaXMuZnJvbVRhZyA9IF90aGlzLnJlcXVlc3QuZnJvbVRhZztcbiAgICAgICAgX3RoaXMuaWQgPSBfdGhpcy5yZXF1ZXN0LmNhbGxJZCArIF90aGlzLmZyb21UYWc7XG4gICAgICAgIF90aGlzLmNvbnRhY3QgPSBfdGhpcy51YS5jb250YWN0LnRvU3RyaW5nKCk7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IHVhLmdldExvZ2dlcihcInNpcC5yZWZlcnNlcnZlcmNvbnRleHRcIiwgX3RoaXMuaWQpO1xuICAgICAgICAvLyBOZWVkZWQgdG8gc2VuZCB0aGUgTk9USUZZJ3NcbiAgICAgICAgX3RoaXMuY3NlcSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgICAgICAgX3RoaXMuY2FsbElkID0gX3RoaXMucmVxdWVzdC5jYWxsSWQ7XG4gICAgICAgIF90aGlzLmZyb21VcmkgPSBfdGhpcy5yZXF1ZXN0LnRvLnVyaTtcbiAgICAgICAgX3RoaXMuZnJvbVRhZyA9IF90aGlzLnJlcXVlc3QudG8ucGFyYW1ldGVycy50YWc7XG4gICAgICAgIF90aGlzLnJlbW90ZVRhcmdldCA9IF90aGlzLnJlcXVlc3QuaGVhZGVycy5Db250YWN0WzBdLnBhcnNlZC51cmk7XG4gICAgICAgIF90aGlzLnRvVXJpID0gX3RoaXMucmVxdWVzdC5mcm9tLnVyaTtcbiAgICAgICAgX3RoaXMudG9UYWcgPSBfdGhpcy5yZXF1ZXN0LmZyb21UYWc7XG4gICAgICAgIF90aGlzLnJvdXRlU2V0ID0gX3RoaXMucmVxdWVzdC5nZXRIZWFkZXJzKFwicmVjb3JkLXJvdXRlXCIpO1xuICAgICAgICAvLyBSRkMgMzUxNSAyLjQuMVxuICAgICAgICBpZiAoIV90aGlzLnJlcXVlc3QuaGFzSGVhZGVyKFwicmVmZXItdG9cIikpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiSW52YWxpZCBSRUZFUiBwYWNrZXQuIEEgcmVmZXItdG8gaGVhZGVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcgcmVmZXIuXCIpO1xuICAgICAgICAgICAgX3RoaXMucmVqZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMucmVmZXJUbyA9IF90aGlzLnJlcXVlc3QucGFyc2VIZWFkZXIoXCJyZWZlci10b1wiKTtcbiAgICAgICAgLy8gVE9ETzogTXVzdCBzZXQgZXhwaXJhdGlvbiB0aW1lciBhbmQgc2VuZCAyMDIgaWYgdGhlcmUgaXMgbm8gcmVzcG9uc2UgYnkgdGhlblxuICAgICAgICBfdGhpcy5yZWZlcnJlZFNlc3Npb24gPSBfdGhpcy51YS5maW5kU2Vzc2lvbihfdGhpcy5yZXF1ZXN0KTtcbiAgICAgICAgaWYgKF90aGlzLnJlcXVlc3QuaGFzSGVhZGVyKFwicmVmZXJyZWQtYnlcIikpIHtcbiAgICAgICAgICAgIF90aGlzLnJlZmVycmVkQnkgPSBfdGhpcy5yZXF1ZXN0LmdldEhlYWRlcihcInJlZmVycmVkLWJ5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfdGhpcy5yZWZlclRvLnVyaS5oYXNIZWFkZXIoXCJyZXBsYWNlc1wiKSkge1xuICAgICAgICAgICAgX3RoaXMucmVwbGFjZXMgPSBfdGhpcy5yZWZlclRvLnVyaS5nZXRIZWFkZXIoXCJyZXBsYWNlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lcnJvckxpc3RlbmVyID0gX3RoaXMub25UcmFuc3BvcnRFcnJvci5iaW5kKF90aGlzKTtcbiAgICAgICAgaWYgKHVhLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdWEudHJhbnNwb3J0Lm9uKFwidHJhbnNwb3J0RXJyb3JcIiwgX3RoaXMuZXJyb3JMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVmZXJTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzICE9PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluY29taW5nUmVxdWVzdC50cnlpbmcoKTtcbiAgICB9O1xuICAgIFJlZmVyU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiUmVqZWN0aW5nIHJlZmVyXCIpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWplY3QuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5lbWl0KFwicmVmZXJSZXF1ZXN0UmVqZWN0ZWRcIiwgdGhpcyk7XG4gICAgfTtcbiAgICBSZWZlclNlcnZlckNvbnRleHQucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChvcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUikge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluY29taW5nUmVxdWVzdC5hY2NlcHQoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAyLFxuICAgICAgICAgICAgcmVhc29uUGhyYXNlOiBcIkFjY2VwdGVkXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1pdChcInJlZmVyUmVxdWVzdEFjY2VwdGVkXCIsIHRoaXMpO1xuICAgICAgICBpZiAob3B0aW9ucy5mb2xsb3dSZWZlcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiQWNjZXB0ZWQgcmVmZXIsIGF0dGVtcHRpbmcgdG8gYXV0b21hdGljYWxseSBmb2xsb3cgaXRcIik7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5yZWZlclRvLnVyaTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0LnNjaGVtZSB8fCAhdGFyZ2V0LnNjaGVtZS5tYXRjaChcIl5zaXBzPyRcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlNJUC5qcyBjYW4gb25seSBhdXRvbWF0aWNhbGx5IGZvbGxvdyBTSVAgcmVmZXIgdGFyZ2V0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGludml0ZU9wdGlvbnMgPSBvcHRpb25zLmludml0ZU9wdGlvbnMgfHwge307XG4gICAgICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKGludml0ZU9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVwbGFjZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWNvZGVVUklDb21wb25lbnQgaXMgYSBob2xkb3ZlciBmcm9tIDJjMDg2ZWI0LiBOb3Qgc3VyZSB0aGF0IGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVwbGFjZXM6IFwiICsgZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucmVwbGFjZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmVycmVkQnkpIHtcbiAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlZmVycmVkLUJ5OiBcIiArIHRoaXMucmVmZXJyZWRCeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnZpdGVPcHRpb25zLmV4dHJhSGVhZGVycyA9IGV4dHJhSGVhZGVycztcbiAgICAgICAgICAgIHRhcmdldC5jbGVhckhlYWRlcnMoKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0U2Vzc2lvbiA9IHRoaXMudWEuaW52aXRlKHRhcmdldC50b1N0cmluZygpLCBpbnZpdGVPcHRpb25zLCBtb2RpZmllcnMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVmZXJJbnZpdGVTZW50XCIsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0U2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0U2Vzc2lvbi5vbmNlKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZSB8fCAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFzb25QaHJhc2UgPSByZXNwb25zZS5yZWFzb25QaHJhc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbmROb3RpZnkoKFwiU0lQLzIuMCBcIiArIHN0YXR1c0NvZGUgKyBcIiBcIiArIHJlYXNvblBocmFzZSkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlZmVyUHJvZ3Jlc3NcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVmZXJyZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZlcnJlZFNlc3Npb24uZW1pdChcInJlZmVyUHJvZ3Jlc3NcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRTZXNzaW9uLm9uY2UoXCJhY2NlcHRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJTdWNjZXNzZnVsbHkgZm9sbG93ZWQgdGhlIHJlZmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZW5kTm90aWZ5KFwiU0lQLzIuMCAyMDAgT0tcIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWZlckFjY2VwdGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlZmVycmVkU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmZXJyZWRTZXNzaW9uLmVtaXQoXCJyZWZlckFjY2VwdGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciByZWZlckZhaWxlZCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gTm8gdGhyb3cgaGVyZSBiZWNhdXNlIGl0IGlzIHBvc3NpYmxlIHRoaXMgZ2V0cyBjYWxsZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiUmVmZXIgd2FzIG5vdCBzdWNjZXNzZnVsLiBSZXN1bWluZyBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiQWxlcnRpbmcgcmVmZXJyZXIgdGhhdCBpZGVudGl0eSBpcyByZXF1aXJlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZW5kTm90aWZ5KFwiU0lQLzIuMCA0MjkgUHJvdmlkZSBSZWZlcnJlciBJZGVudGl0eVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZW5kTm90aWZ5KFwiU0lQLzIuMCA2MDMgRGVjbGluZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIE11c3QgY2hhbmdlIHRoZSBzdGF0dXMgYWZ0ZXIgc2VuZGluZyB0aGUgZmluYWwgTm90aWZ5IG9yIGl0IHdpbGwgbm90IHNlbmQgZHVlIHRvIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlZmVyUmVqZWN0ZWRcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVmZXJyZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZlcnJlZFNlc3Npb24uZW1pdChcInJlZmVyUmVqZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0U2Vzc2lvbi5vbmNlKFwicmVqZWN0ZWRcIiwgcmVmZXJGYWlsZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0U2Vzc2lvbi5vbmNlKFwiZmFpbGVkXCIsIHJlZmVyRmFpbGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkFjY2VwdGVkIHJlZmVyLCBidXQgZGlkIG5vdCBhdXRvbWF0aWNhbGx5IGZvbGxvdyBpdFwiKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE5vdGlmeShcIlNJUC8yLjAgMjAwIE9LXCIpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVmZXJBY2NlcHRlZFwiLCB0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmVycmVkU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmZXJyZWRTZXNzaW9uLmVtaXQoXCJyZWZlckFjY2VwdGVkXCIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWZlclNlcnZlckNvbnRleHQucHJvdG90eXBlLnNlbmROb3RpZnkgPSBmdW5jdGlvbiAoYm9keVN0cikge1xuICAgICAgICAvLyBGSVhNRTogUG9ydGVkIHRoaXMuIENsZWFuIGl0IHVwLiBTZXNzaW9uIGtub3dzIGl0cyBzdGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzICE9PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3JlXzEuR3JhbW1hci5wYXJzZShib2R5U3RyLCBcInNpcGZyYWdcIikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaXBmcmFnIGJvZHkgaXMgcmVxdWlyZWQgdG8gc2VuZCBub3RpZnkgZm9yIHJlZmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgICAgY29udGVudERpc3Bvc2l0aW9uOiBcInJlbmRlclwiLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwibWVzc2FnZS9zaXBmcmFnXCIsXG4gICAgICAgICAgICBjb250ZW50OiBib2R5U3RyXG4gICAgICAgIH07XG4gICAgICAgIC8vIE5PVElGWSByZXF1ZXN0cyBzZW50IGluIHNhbWUgZGlhbG9nIGFzIGluIGRpYWxvZyBSRUZFUi5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm5vdGlmeSh1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJFdmVudDogcmVmZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJTdWJzY3JpcHRpb24tU3RhdGU6IHRlcm1pbmF0ZWRcIixcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBpbXBsaWNpdCBzdWJzY3JpcHRpb24gY3JlYXRlZCBieSBhIFJFRkVSIGlzIHRoZSBzYW1lIGFzIGFcbiAgICAgICAgLy8gc3Vic2NyaXB0aW9uIGNyZWF0ZWQgd2l0aCBhIFNVQlNDUklCRSByZXF1ZXN0LiAgVGhlIGFnZW50IGlzc3VpbmcgdGhlXG4gICAgICAgIC8vIFJFRkVSIGNhbiB0ZXJtaW5hdGUgdGhpcyBzdWJzY3JpcHRpb24gcHJlbWF0dXJlbHkgYnkgdW5zdWJzY3JpYmluZ1xuICAgICAgICAvLyB1c2luZyB0aGUgbWVjaGFuaXNtcyBkZXNjcmliZWQgaW4gWzJdLiAgVGVybWluYXRpbmcgYSBzdWJzY3JpcHRpb24sXG4gICAgICAgIC8vIGVpdGhlciBieSBleHBsaWNpdGx5IHVuc3Vic2NyaWJpbmcgb3IgcmVqZWN0aW5nIE5PVElGWSwgaXMgbm90IGFuXG4gICAgICAgIC8vIGluZGljYXRpb24gdGhhdCB0aGUgcmVmZXJlbmNlZCByZXF1ZXN0IHNob3VsZCBiZSB3aXRoZHJhd24gb3JcbiAgICAgICAgLy8gYWJhbmRvbmVkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC40XG4gICAgICAgIC8vIE5PVElGWSByZXF1ZXN0cyBzZW50IGluIG5ldyBkaWFsb2cgZm9yIG91dCBvZiBkaWFsb2cgUkVGRVIuXG4gICAgICAgIC8vIEZJWE1FOiBUT0RPOiBUaGlzIHNob3VsZCBiZSBkb25lIGluIGEgc3Vic2NyaWJlIGRpYWxvZyB0byBzYXRpc2Z5IHRoZSBhYm92ZS5cbiAgICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLnVhLnVzZXJBZ2VudENvcmUubWFrZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UoQ29uc3RhbnRzXzEuQy5OT1RJRlksIHRoaXMucmVtb3RlVGFyZ2V0LCB0aGlzLmZyb21VcmksIHRoaXMudG9VcmksIHtcbiAgICAgICAgICAgIGNzZXE6IHRoaXMuY3NlcSArPSAxLFxuICAgICAgICAgICAgY2FsbElkOiB0aGlzLmNhbGxJZCxcbiAgICAgICAgICAgIGZyb21UYWc6IHRoaXMuZnJvbVRhZyxcbiAgICAgICAgICAgIHRvVGFnOiB0aGlzLnRvVGFnLFxuICAgICAgICAgICAgcm91dGVTZXQ6IHRoaXMucm91dGVTZXRcbiAgICAgICAgfSwgW1xuICAgICAgICAgICAgXCJFdmVudDogcmVmZXJcIixcbiAgICAgICAgICAgIFwiU3Vic2NyaXB0aW9uLVN0YXRlOiB0ZXJtaW5hdGVkXCIsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZTogbWVzc2FnZS9zaXBmcmFnXCJcbiAgICAgICAgXSwgYm9keSk7XG4gICAgICAgIHZhciB0cmFuc3BvcnQgPSB0aGlzLnVhLnRyYW5zcG9ydDtcbiAgICAgICAgaWYgKCF0cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VyID0ge1xuICAgICAgICAgICAgbG9nZ2VyRmFjdG9yeTogdGhpcy51YS5nZXRMb2dnZXJGYWN0b3J5KClcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG5pYyA9IG5ldyBjb3JlXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ocmVxdWVzdCwgdHJhbnNwb3J0LCB1c2VyKTtcbiAgICB9O1xuICAgIFJlZmVyU2VydmVyQ29udGV4dC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7IH07XG4gICAgcmV0dXJuIFJlZmVyU2VydmVyQ29udGV4dDtcbn0oU2VydmVyQ29udGV4dF8xLlNlcnZlckNvbnRleHQpKTtcbmV4cG9ydHMuUmVmZXJTZXJ2ZXJDb250ZXh0ID0gUmVmZXJTZXJ2ZXJDb250ZXh0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgc3RyaXBQYXlsb2FkID0gZnVuY3Rpb24gKHNkcCwgcGF5bG9hZCkge1xuICAgIHZhciBtZWRpYURlc2NzID0gW107XG4gICAgdmFyIGxpbmVzID0gc2RwLnNwbGl0KC9cXHJcXG4vKTtcbiAgICB2YXIgY3VycmVudE1lZGlhRGVzYztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDspIHtcbiAgICAgICAgdmFyIGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgICAgaWYgKC9ebT0oPzphdWRpb3x2aWRlbykvLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRNZWRpYURlc2MgPSB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgc3RyaXBwZWQ6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbWVkaWFEZXNjcy5wdXNoKGN1cnJlbnRNZWRpYURlc2MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRNZWRpYURlc2MpIHtcbiAgICAgICAgICAgIHZhciBydHBtYXAgPSAvXmE9cnRwbWFwOihcXGQrKSAoW14vXSspXFwvLy5leGVjKGxpbmUpO1xuICAgICAgICAgICAgaWYgKHJ0cG1hcCAmJiBwYXlsb2FkID09PSBydHBtYXBbMl0pIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgY3VycmVudE1lZGlhRGVzYy5zdHJpcHBlZC5wdXNoKHJ0cG1hcFsxXSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIERvbid0IGluY3JlbWVudCAnaSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMCwgbWVkaWFEZXNjc18xID0gbWVkaWFEZXNjczsgX2kgPCBtZWRpYURlc2NzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBtZWRpYURlc2MgPSBtZWRpYURlc2NzXzFbX2ldO1xuICAgICAgICB2YXIgbWxpbmUgPSBsaW5lc1ttZWRpYURlc2MuaW5kZXhdLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaXJzdCAzIHBhcmFtZXRlcnMgb2YgdGhlIG1saW5lLiBUaGUgY29kZWMgaW5mb3JtYXRpb24gaXMgYWZ0ZXIgdGhhdFxuICAgICAgICBmb3IgKHZhciBqID0gMzsgaiA8IG1saW5lLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGlmIChtZWRpYURlc2Muc3RyaXBwZWQuaW5kZXhPZihtbGluZVtqXSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWxpbmUuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGxpbmVzW21lZGlhRGVzYy5pbmRleF0gPSBtbGluZS5qb2luKFwiIFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzLmpvaW4oXCJcXHJcXG5cIik7XG59O1xudmFyIHN0cmlwTWVkaWFEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzZHAsIGRlc2NyaXB0aW9uKSB7XG4gICAgdmFyIGRlc2NyaXB0aW9uUmVnRXhwID0gbmV3IFJlZ0V4cChcIm09XCIgKyBkZXNjcmlwdGlvbiArIFwiLiokXCIsIFwiZ21cIik7XG4gICAgdmFyIGdyb3VwUmVnRXhwID0gbmV3IFJlZ0V4cChcIl5hPWdyb3VwOi4qJFwiLCBcImdtXCIpO1xuICAgIGlmIChkZXNjcmlwdGlvblJlZ0V4cC50ZXN0KHNkcCkpIHtcbiAgICAgICAgdmFyIG1pZExpbmVUb1JlbW92ZV8xO1xuICAgICAgICBzZHAgPSBzZHAuc3BsaXQoL15tPS9nbSkuZmlsdGVyKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoc2VjdGlvbi5zdWJzdHIoMCwgZGVzY3JpcHRpb24ubGVuZ3RoKSA9PT0gZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBtaWRMaW5lVG9SZW1vdmVfMSA9IHNlY3Rpb24ubWF0Y2goL15hPW1pZDouKiQvZ20pO1xuICAgICAgICAgICAgICAgIGlmIChtaWRMaW5lVG9SZW1vdmVfMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IG1pZExpbmVUb1JlbW92ZV8xWzBdLm1hdGNoKC86LiskL2cpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkTGluZVRvUmVtb3ZlXzEgPSBzdGVwWzBdLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSkuam9pbihcIm09XCIpO1xuICAgICAgICB2YXIgZ3JvdXBMaW5lID0gc2RwLm1hdGNoKGdyb3VwUmVnRXhwKTtcbiAgICAgICAgaWYgKGdyb3VwTGluZSAmJiBncm91cExpbmUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXBMaW5lUG9ydGlvbiA9IGdyb3VwTGluZVswXTtcbiAgICAgICAgICAgIHZhciBncm91cFJlZ0V4cFJlcGxhY2UgPSBuZXcgUmVnRXhwKFwiXFwgKlwiICsgbWlkTGluZVRvUmVtb3ZlXzEgKyBcIlteXFwgXSpcIiwgXCJnXCIpO1xuICAgICAgICAgICAgZ3JvdXBMaW5lUG9ydGlvbiA9IGdyb3VwTGluZVBvcnRpb24ucmVwbGFjZShncm91cFJlZ0V4cFJlcGxhY2UsIFwiXCIpO1xuICAgICAgICAgICAgc2RwID0gc2RwLnNwbGl0KGdyb3VwUmVnRXhwKS5qb2luKGdyb3VwTGluZVBvcnRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZHA7XG59O1xuZnVuY3Rpb24gc3RyaXBUY3BDYW5kaWRhdGVzKGRlc2NyaXB0aW9uKSB7XG4gICAgZGVzY3JpcHRpb24uc2RwID0gKGRlc2NyaXB0aW9uLnNkcCB8fCBcIlwiKS5yZXBsYWNlKC9eYT1jYW5kaWRhdGU6XFxkKyBcXGQrIHRjcCAuKj9cXHJcXG4vaW1nLCBcIlwiKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2NyaXB0aW9uKTtcbn1cbmV4cG9ydHMuc3RyaXBUY3BDYW5kaWRhdGVzID0gc3RyaXBUY3BDYW5kaWRhdGVzO1xuZnVuY3Rpb24gc3RyaXBUZWxlcGhvbmVFdmVudChkZXNjcmlwdGlvbikge1xuICAgIGRlc2NyaXB0aW9uLnNkcCA9IHN0cmlwUGF5bG9hZChkZXNjcmlwdGlvbi5zZHAgfHwgXCJcIiwgXCJ0ZWxlcGhvbmUtZXZlbnRcIik7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjcmlwdGlvbik7XG59XG5leHBvcnRzLnN0cmlwVGVsZXBob25lRXZlbnQgPSBzdHJpcFRlbGVwaG9uZUV2ZW50O1xuZnVuY3Rpb24gY2xlYW5KaXRzaVNkcEltYWdlYXR0cihkZXNjcmlwdGlvbikge1xuICAgIGRlc2NyaXB0aW9uLnNkcCA9IChkZXNjcmlwdGlvbi5zZHAgfHwgXCJcIikucmVwbGFjZSgvXihhPWltYWdlYXR0cjouKj8pKHh8eSk9XFxbMC0vZ20sIFwiJDEkMj1bMTpcIik7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjcmlwdGlvbik7XG59XG5leHBvcnRzLmNsZWFuSml0c2lTZHBJbWFnZWF0dHIgPSBjbGVhbkppdHNpU2RwSW1hZ2VhdHRyO1xuZnVuY3Rpb24gc3RyaXBHNzIyKGRlc2NyaXB0aW9uKSB7XG4gICAgZGVzY3JpcHRpb24uc2RwID0gc3RyaXBQYXlsb2FkKGRlc2NyaXB0aW9uLnNkcCB8fCBcIlwiLCBcIkc3MjJcIik7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjcmlwdGlvbik7XG59XG5leHBvcnRzLnN0cmlwRzcyMiA9IHN0cmlwRzcyMjtcbmZ1bmN0aW9uIHN0cmlwUnRwUGF5bG9hZChwYXlsb2FkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICBkZXNjcmlwdGlvbi5zZHAgPSBzdHJpcFBheWxvYWQoZGVzY3JpcHRpb24uc2RwIHx8IFwiXCIsIHBheWxvYWQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2NyaXB0aW9uKTtcbiAgICB9O1xufVxuZXhwb3J0cy5zdHJpcFJ0cFBheWxvYWQgPSBzdHJpcFJ0cFBheWxvYWQ7XG5mdW5jdGlvbiBzdHJpcFZpZGVvKGRlc2NyaXB0aW9uKSB7XG4gICAgZGVzY3JpcHRpb24uc2RwID0gc3RyaXBNZWRpYURlc2NyaXB0aW9uKGRlc2NyaXB0aW9uLnNkcCB8fCBcIlwiLCBcInZpZGVvXCIpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzY3JpcHRpb24pO1xufVxuZXhwb3J0cy5zdHJpcFZpZGVvID0gc3RyaXBWaWRlbztcbmZ1bmN0aW9uIGFkZE1pZExpbmVzKGRlc2NyaXB0aW9uKSB7XG4gICAgdmFyIHNkcCA9IGRlc2NyaXB0aW9uLnNkcCB8fCBcIlwiO1xuICAgIGlmIChzZHAuc2VhcmNoKC9eYT1taWQuKiQvZ20pID09PSAtMSkge1xuICAgICAgICB2YXIgbWxpbmVzXzEgPSBzZHAubWF0Y2goL15tPS4qJC9nbSk7XG4gICAgICAgIHZhciBzZHBBcnJheV8xID0gc2RwLnNwbGl0KC9ebT0uKiQvZ20pO1xuICAgICAgICBpZiAobWxpbmVzXzEpIHtcbiAgICAgICAgICAgIG1saW5lc18xLmZvckVhY2goZnVuY3Rpb24gKGVsZW0sIGlkeCkge1xuICAgICAgICAgICAgICAgIG1saW5lc18xW2lkeF0gPSBlbGVtICsgXCJcXG5hPW1pZDpcIiArIGlkeDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNkcEFycmF5XzEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSwgaWR4KSB7XG4gICAgICAgICAgICBpZiAobWxpbmVzXzEgJiYgbWxpbmVzXzFbaWR4XSkge1xuICAgICAgICAgICAgICAgIHNkcEFycmF5XzFbaWR4XSA9IGVsZW0gKyBtbGluZXNfMVtpZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2RwID0gc2RwQXJyYXlfMS5qb2luKFwiXCIpO1xuICAgICAgICBkZXNjcmlwdGlvbi5zZHAgPSBzZHA7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzY3JpcHRpb24pO1xufVxuZXhwb3J0cy5hZGRNaWRMaW5lcyA9IGFkZE1pZExpbmVzO1xuIiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuIiwidmFyIGlkID0gMDtcbnZhciBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG4iLCJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIHRhZywgc3RhdCkge1xuICBpZiAoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSkgZGVmKGl0LCBUQUcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnIH0pO1xufTtcbiIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwiLy8gMCAtPiBBcnJheSNmb3JFYWNoXG4vLyAxIC0+IEFycmF5I21hcFxuLy8gMiAtPiBBcnJheSNmaWx0ZXJcbi8vIDMgLT4gQXJyYXkjc29tZVxuLy8gNCAtPiBBcnJheSNldmVyeVxuLy8gNSAtPiBBcnJheSNmaW5kXG4vLyA2IC0+IEFycmF5I2ZpbmRJbmRleFxudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGFzYyA9IHJlcXVpcmUoJy4vX2FycmF5LXNwZWNpZXMtY3JlYXRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUWVBFLCAkY3JlYXRlKSB7XG4gIHZhciBJU19NQVAgPSBUWVBFID09IDE7XG4gIHZhciBJU19GSUxURVIgPSBUWVBFID09IDI7XG4gIHZhciBJU19TT01FID0gVFlQRSA9PSAzO1xuICB2YXIgSVNfRVZFUlkgPSBUWVBFID09IDQ7XG4gIHZhciBJU19GSU5EX0lOREVYID0gVFlQRSA9PSA2O1xuICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgdmFyIGNyZWF0ZSA9ICRjcmVhdGUgfHwgYXNjO1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0KSB7XG4gICAgdmFyIE8gPSB0b09iamVjdCgkdGhpcyk7XG4gICAgdmFyIHNlbGYgPSBJT2JqZWN0KE8pO1xuICAgIHZhciBmID0gY3R4KGNhbGxiYWNrZm4sIHRoYXQsIDMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChzZWxmLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgcmVzdWx0ID0gSVNfTUFQID8gY3JlYXRlKCR0aGlzLCBsZW5ndGgpIDogSVNfRklMVEVSID8gY3JlYXRlKCR0aGlzLCAwKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdmFsLCByZXM7XG4gICAgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChOT19IT0xFUyB8fCBpbmRleCBpbiBzZWxmKSB7XG4gICAgICB2YWwgPSBzZWxmW2luZGV4XTtcbiAgICAgIHJlcyA9IGYodmFsLCBpbmRleCwgTyk7XG4gICAgICBpZiAoVFlQRSkge1xuICAgICAgICBpZiAoSVNfTUFQKSByZXN1bHRbaW5kZXhdID0gcmVzOyAgIC8vIG1hcFxuICAgICAgICBlbHNlIGlmIChyZXMpIHN3aXRjaCAoVFlQRSkge1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIHRydWU7ICAgICAgICAgICAgIC8vIHNvbWVcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiB2YWw7ICAgICAgICAgICAgICAvLyBmaW5kXG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gaW5kZXg7ICAgICAgICAgICAgLy8gZmluZEluZGV4XG4gICAgICAgICAgY2FzZSAyOiByZXN1bHQucHVzaCh2YWwpOyAgICAgICAgLy8gZmlsdGVyXG4gICAgICAgIH0gZWxzZSBpZiAoSVNfRVZFUlkpIHJldHVybiBmYWxzZTsgLy8gZXZlcnlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIElTX0ZJTkRfSU5ERVggPyAtMSA6IElTX1NPTUUgfHwgSVNfRVZFUlkgPyBJU19FVkVSWSA6IHJlc3VsdDtcbiAgfTtcbn07XG4iLCJ2YXIgTUVUQSA9IHJlcXVpcmUoJy4vX3VpZCcpKCdtZXRhJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBzZXREZXNjID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBpZCA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG59KTtcbnZhciBzZXRNZXRhID0gZnVuY3Rpb24gKGl0KSB7XG4gIHNldERlc2MoaXQsIE1FVEEsIHsgdmFsdWU6IHtcbiAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcbiAgICB3OiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IH0pO1xufTtcbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiAnRic7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFdLmk7XG59O1xudmFyIGdldFdlYWsgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFdLnc7XG59O1xuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKEZSRUVaRSAmJiBtZXRhLk5FRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBKSkgc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6IE1FVEEsXG4gIE5FRUQ6IGZhbHNlLFxuICBmYXN0S2V5OiBmYXN0S2V5LFxuICBnZXRXZWFrOiBnZXRXZWFrLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07XG4iLCJ2YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpO1xudmFyIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBnZXRJdGVyRm4gPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIEJSRUFLID0ge307XG52YXIgUkVUVVJOID0ge307XG52YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1IpIHtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpO1xuICB2YXIgZiA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuICBpZiAoaXNBcnJheUl0ZXIoaXRlckZuKSkgZm9yIChsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTspIHtcbiAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbmV4cG9ydHMuQlJFQUsgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgVFlQRSkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSB8fCBpdC5fdCAhPT0gVFlQRSkgdGhyb3cgVHlwZUVycm9yKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXM2LWV2ZW50LWVtaXR0ZXInO1xuXG5leHBvcnQgY2xhc3MgQ2RjdHNDYWxsIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcblxuICAvKipcbiAgKiBDcmVhdGUgYSBDZGN0c0NhbGwuIE5vcm1hbGx5IGNyZWF0ZWQgYnkgQ2RjdHNEZXZpY2UuXG4gICpcbiAgKiBPbmNlIGEgY2FsbCBpcyBjcmVhdGVkLCB5b3UgY2FuIGVpdGhlciBtYWtlIGEgY2FsbCB3aXRoIGBtYWtlQ2FsbCgpYFxuICAqIG9yIHNldCB5b3Vyc2VsZiB1cCB0byByZWNpZXZlIGFuIGluY29taW5nIGNhbGwgd2l0aCBgaW5jb21pbmdDYWxsKClgXG4gICpcbiAgKiBAcGFyYW0ge1VBfSBVQSAtIEEgU0lQLmpzIFVzZXIgQWdlbnRcbiAgKiBAcGFyYW0ge1N0cmluZ30gaW52aXRlVXJpIC0gQSBQcm9wZXJseSBmb3JtYXR0ZWQgU0lQLmpzIGludml0ZSBVUkkgKGNyZWF0ZSB3aXRoIFNJUC5VUkkpXG4gICpcbiAgKiBAZW1pdHMgQ2RjdHNDYWxsI2Nvbm5lY3RpbmdcbiAgKi9cbiAgY29uc3RydWN0b3IoVUEpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX211dGUgPSBmYWxzZTtcbiAgICB0aGlzLl9zdGF0dXMgPSAnc3RhcnRpbmcnO1xuICAgIHRoaXMuX2NhbGxUeXBlID0gJyc7XG4gICAgdGhpcy5VQSA9IFVBO1xuICAgIHRoaXMuX2RvY0JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuICAgIHRoaXMuYXVkaW9FbGVtZW50ID0gZmFsc2U7XG5cbiAgICB0aGlzLlVBLnN0YXJ0KCk7XG5cbiAgfVxuXG4gIC8qKlxuICAqIE1ha2UgYSBjYWxsIHRvIGEgcGhvbmUgbnVtYmVyXG4gICpcbiAgKiBAcGFyYW0ge1VSSX0gaW52aXRlVXJpIC0gQSBTSVAuanMgVVJJIHRoYXQgaW5jbHVkZXMgdGhlIHBob25lIG51bWJlciB0byBjb25uZWN0IHRvXG4gICovXG4gIG1ha2VDYWxsKGludml0ZVVyaSkge1xuICAgIHRoaXMuX2NhbGxUeXBlID0gJ291dGdvaW5nJztcbiAgICB0aGlzLl9zZXNzaW9uID0gdGhpcy5VQS5pbnZpdGUoaW52aXRlVXJpLCB0aGlzLl9nZXRBdWRpb0VsZW1lbnQoKSk7XG4gICAgdGhpcy5fYXR0YXRjaFNlc3Npb25FdmVudHModGhpcy5fc2Vzc2lvbik7XG4gIH1cblxuICAvKipcbiAgKiBTZXQgdXAgdG8gaGFuZGxlIGFuIGluY29taW5nIGNhbGwuXG4gICogVGhlIGNhbGxpbmcgZnVuY3Rpb24gd2lsbCB0aGVuIGJlIGFibGUgdG8gYWNjZXB0IG9yIHJlamVjdCB0aGUgY2FsbC5cbiAgKlxuICAqIEBwYXJhbSB7U2Vzc2lvbn0gc2Vzc2lvbiAtIEEgU0lQLmpzIFNlc3Npb24sIHNwZWNpZmljYWxseSBvZiB0aGUgU0lQLlNlcnZlckNvbnRleHQgdHlwZVxuICAqL1xuICBpbmNvbWluZ0NhbGwoc2Vzc2lvbikge1xuICAgIHRoaXMuX2NhbGxUeXBlID0gJ2luY29taW5nJztcbiAgICB0aGlzLl9zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB0aGlzLl9hdHRhdGNoU2Vzc2lvbkV2ZW50cygpO1xuICB9XG5cblxuICBfZ2V0QXVkaW9FbGVtZW50KCkge1xuICAgIGlmICghdGhpcy5hdWRpb0VsZW1lbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcy5hdWRpb0VsZW1lbnRcIiwgdGhpcy5hdWRpb0VsZW1lbnQpXG4gICAgICB0aGlzLmF1ZGlvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICB0aGlzLmF1ZGlvRWxlbWVudC5jbGFzc05hbWUgPSAnY2RjdHMtc2lwanMtcmVtb3RlLWF1ZGlvJztcbiAgICAgIHRoaXMuX2RvY0JvZHkuYXBwZW5kQ2hpbGQodGhpcy5hdWRpb0VsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hdWRpb0VsZW1lbnQ7XG4gIH1cblxuICBfYXR0YXRjaFNlc3Npb25FdmVudHMoc2Vzc2lvbikge1xuICAgIC8qKlxuICAgICogY29ubmVjdGluZyBldmVudDpcbiAgICAqXG4gICAgKiBGaXJlZCBhcyB0aGUgc3lzdGVtIHN0YXJ0cyB0byBtYWtlIHRoZSBjb25uZWN0aW9uLlxuICAgICogVGhpcyBpcyBhZnRlciB0aGUgdXNlck1lZGlhIChtaWNyb3Bob25lKSBoYXMgYmVlbiBhcXVpcmVkLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjY29ubmVjdGluZ1xuICAgICogQHR5cGUge29iamVjdH1cbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJjb25uZWN0aW5nXCIsICgpID0+IHsgdGhpcy50cmlnZ2VyKFwiY29ubmVjdGluZ1wiKTsgdGhpcy5fc3RhdHVzID0gJ2luaXRpYXRpbmcnOyB9KTtcblxuICAgIC8qKlxuICAgICogcHJvZ3Jlc3MgZXZlbnQ6XG4gICAgKlxuICAgICogVXN1YWxseSBmaXJlZCB0d2ljZSBkdXJpbmcgY2FsbCBpbnRpYWxpemF0aW9uLCBvbmNlIGZvciBUUllJTkcgYW5kIG9uY2UgZm9yIFJJTkdJTkcuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzQ2FsbCNwcm9ncmVzc1xuICAgICogQHR5cGUge29iamVjdH1cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZSAtIERldGFpbHMgb2YgdGhlIHJlc3BvbnNlXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwicHJvZ3Jlc3NcIiwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PSAxODMgJiYgcmVzcG9uc2UuYm9keSAmJiB0aGlzLl9zZXNzaW9uLmhhc09mZmVyICYmICF0aGlzLl9zZXNzaW9uLmRpYWxvZykge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLmhhc0hlYWRlcigncmVxdWlyZScpIHx8IHJlc3BvbnNlLmdldEhlYWRlcigncmVxdWlyZScpLmluZGV4T2YoJzEwMHJlbCcpID09PSAtMSkge1xuICAgICAgICAgIGlmICh0aGlzLl9zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24ocmVzcG9uc2UuZ2V0SGVhZGVyKCdDb250ZW50LVR5cGUnKSkpIHtcbiAgICAgICAgICAgIC8vIEBoYWNrOiBodHRwczovL2dpdGh1Yi5jb20vb25zaXAvU0lQLmpzL2lzc3Vlcy8yNDJcbiAgICAgICAgICAgIHRoaXMuX3Nlc3Npb24uc3RhdHVzID0gU0lQLlNlc3Npb24uQy5TVEFUVVNfRUFSTFlfTUVESUFcbiAgICAgICAgICAgIC8vIHRoaXMuX3dhaXRpbmdGb3JBcHBseWluZ0Fuc3dlcihzZXNzaW9uLCByZXNwb25zZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMudHJpZ2dlcihcInByb2dyZXNzXCIsIHJlc3BvbnNlKVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgKiBhY2NlcHRlZCBldmVudDpcbiAgICAqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBjYWxsIHdhcyBhY2NlcHRlZCBieSB0aGUgY2FsbGVlLiBUaGUgY2FsbCBpcyBub3cgY29ubmVjdGVkLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjYWNjZXB0ZWRcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gZGF0YSAtIERldGFpbHMgb2YgdGhlIHJlc3BvbnNlXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwiYWNjZXB0ZWRcIiwgKGRhdGEpID0+IHsgdGhpcy50cmlnZ2VyKFwiYWNjZXB0ZWRcIiwgZGF0YSksIHRoaXMuX3N0YXR1cyA9ICdjb25uZWN0ZWQnOyB9KTtcblxuICAgIC8qKlxuICAgICogZHRtZiBldmVudDpcbiAgICAqXG4gICAgKiBTZW50IHdoZW4gdGhlIHVzZXIgaGFzIHN1Y2Nlc3NmdWxseSBzZW50IGEgRFRNRiAoa2V5cGFkKSBzaWduYWwuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzQ2FsbCNkdG1mXG4gICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IHJlcXVlc3QgLSBEZXRhaWxzIG9mIHRoZSByZXF1ZXN0XG4gICAgKiBAcHJvcGVydHkge3N0cmluZ30gZHRtZiAtIHRoZSBrZXkocykgdGhhdCB3ZXJlIHN1Ym1pdHRlZFxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcImR0bWZcIiwgKHJlcXVlc3QsIGR0bWYpID0+IHRoaXMudHJpZ2dlcihcImR0bWZcIiwgcmVxdWVzdCwgZHRtZikpO1xuXG4gICAgLyoqXG4gICAgKiBtdXRlZCBldmVudDpcbiAgICAqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBzeXN0ZW0gaGFzIHN1Y2Nlc3NmdWxseSByZXNwb25kZWQgdG8gYSBtdXRlIHJlcXVlc3QuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzQ2FsbCNtdXRlZFxuICAgICogQHR5cGUge29iamVjdH1cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBkYXRhIC0gRGV0YWlscyBvZiB0aGUgcmVzcG9uc2VcbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJtdXRlZFwiLCAoZGF0YSkgPT4gdGhpcy50cmlnZ2VyKFwibXV0ZWRcIiwgZGF0YSkpO1xuXG4gICAgLyoqXG4gICAgKiB1bm11dGVkIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgc3lzdGVtIGhhcyBzdWNjZXNzZnVsbHkgcmVzcG9uZGVkIHRvIGFuIHVubXV0ZSByZXF1ZXN0LlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjdW5tdXRlZFxuICAgICogQHR5cGUge29iamVjdH1cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBkYXRhIC0gRGV0YWlscyBvZiB0aGUgcmVzcG9uc2VcbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJ1bm11dGVkXCIsIChkYXRhKSA9PiB0aGlzLnRyaWdnZXIoXCJ1bm11dGVkXCIsIGRhdGEpKTtcblxuICAgIC8qKlxuICAgICogY2FuY2VsIGV2ZW50OlxuICAgICpcbiAgICAqIEZpcmVkIHdoZW4gdGhlIGNhbGwgd2FzIHRlcm1pbmF0ZWQgYmVmb3JlIGVuZCB0byBlbmQgY29ubmVjdGlvbiB3YXMgZXN0YWJsaXNoZWQsXG4gICAgKiB1c3VhbGx5IGJ5IHRoZSB1c2VyJ3MgcmVxdWVzdC5cbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI2NhbmNlbFxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcImNhbmNlbFwiLCAoKSA9PiB7IHRoaXMudHJpZ2dlcihcImNhbmNlbFwiKTsgdGhpcy5fc3RhdHVzID0gJ2VuZGVkJyB9KTtcblxuICAgIC8qKlxuICAgICogcmVmZXIgZXZlbnRcbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI3JlZmVyXG4gICAgKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICogQHByb3BlcnR5IHtvYmplY3R9IHJlc3BvbnNlXG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gbmV3U2Vzc2lvblxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcInJlZmVyXCIsIChjYWxsYmFjaywgcmVzcG9uc2UsIG5ld1Nlc3Npb24pID0+IHsgdGhpcy50cmlnZ2VyKFwicmVqZWN0ZWRcIik7IH0pO1xuXG4gICAgLyoqXG4gICAgKiByZXBsYWNlZCBldmVudFxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjcmVwbGFjZWRcbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBuZXdTZXNzaW9uXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwicmVwbGFjZWRcIiwgKG5ld1Nlc3Npb24pID0+IHsgdGhpcy50cmlnZ2VyKFwicmVqZWN0ZWRcIiwgbmV3U2Vzc2lvbik7IH0pO1xuXG4gICAgLyoqXG4gICAgKiByZWplY3RlZCBldmVudFxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjcmVqZWN0ZWRcbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZVxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNhdXNlXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwicmVqZWN0ZWRcIiwgKHJlc3BvbnNlLCBjYXVzZSkgPT4geyB0aGlzLnRyaWdnZXIoXCJyZWplY3RlZFwiLCByZXNwb25zZSwgY2F1c2UpOyB0aGlzLl9zdGF0dXMgPSAnZW5kZWQnIH0pO1xuXG4gICAgLyoqXG4gICAgKiBmYWlsZWQgZXZlbnRcbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI2ZhaWxlZFxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IHJlc3BvbnNlXG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gY2F1c2VcbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJmYWlsZWRcIiwgKHJlc3BvbnNlLCBjYXVzZSkgPT4geyB0aGlzLnRyaWdnZXIoXCJmYWlsZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTsgdGhpcy5fc3RhdHVzID0gJ2VuZGVkJyB9KTtcblxuICAgIC8qKlxuICAgICogdGVybWluYXRlZCBldmVudFxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjdGVybWluYXRlZFxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IHJlc3BvbnNlXG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gY2F1c2VcbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJ0ZXJtaW5hdGVkXCIsIChtZXNzYWdlLCBjYXVzZSkgPT4geyB0aGlzLnRyaWdnZXIoXCJ0ZXJtaW5hdGVkXCIsIG1lc3NhZ2UsIGNhdXNlKTsgdGhpcy5fc3RhdHVzID0gJ2VuZGVkJzsgfSk7XG5cbiAgICAvKipcbiAgICAqIGJ5ZSBldmVudFxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjYnllXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwiYnllXCIsICgpID0+IHsgdGhpcy50cmlnZ2VyKFwiYnllXCIpOyB0aGlzLl9zdGF0dXMgPSAnZW5kZWQnIH0pO1xuXG4gICAgLyoqXG4gICAgKiB1c2VyTWVkaWFSZXF1ZXN0IGV2ZW50OlxuICAgICpcbiAgICAqIEZpcmVkIHdoZW4gdGhlIGV2ZXJ5IHRpbWUgdGhlIHN5c3RlbSBjaGVja3MgdG8gc2VlIGlmIGl0IGhhcyBtaWNyb3Bob25lIHBlcm1pc3Npb24gZnJvbSB0aGUgdXNlci5cbiAgICAqIFlvdSBjYW4gdXNlIHRoaXMgdG8gZGV0ZWN0IHdoZW4gdGhlIGJyb3dzZXIncyBcIkFsbG93IHdlYnNpdGUgdG8gdXNlIG1pY3JvcGhvbmVcIiBkaWFsb2cgaXMgb3BlbixcbiAgICAqIGJ1dCB5b3Ugd2lsbCBuZWVkIHRvIGJlIHNvbWV3aGF0IGNhcmVmdWwuIFRoaXMgZXZlbnQgd2lsbCBmaXJlIGV2ZW4gaWYgdGhlIHVzZXIgYWxyZWFkeSBoYXNcbiAgICAqIGdpdmVuIHBlcm1pc3Npb24sIHRoZW4gd2lsbCBiZSBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhIHtAbGluayBDZGN0c0NhbGwjdXNlck1lZGlhfSBldmVudC5cbiAgICAqIElmIHlvdSB3aXNoIHRvIGhhdmUgeW91ciBVSSBkaXNwbGF5IHNvbWUgc29ydCBvZiBcImFza2luZyBmb3IgcGVybWlzc2lvblwiIGVsZW1lbnQsIHlvdSBtYXkgbmVlZCB0b1xuICAgICogZGVib3VuY2UgdGhpcyBldmVudDsgbGlzdGVuaW5nIGZvciB7QGxpbmsgQ2RjdHNDYWxsI3VzZXJNZWRpYX0gdG8gY2FuY2VsIHlvdXIgVUkgdXBkYXRlLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjdXNlck1lZGlhUmVxdWVzdFxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNvbnN0cmFpbnRzXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKCd0cmFja0FkZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgdmFyIHBjID0gc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICAvLyB2YXIgdGhpcy5hdWRpb0VsZW1lbnQgPSB0aGlzLmF1ZGlvRWxlbWVudDtcbiAgICAgICAgLy8gdGhpcy5hdWRpb0VsZW1lbnQuY2xhc3NOYW1lID0gJ2NkY3RzLXNpcGpzLXJlbW90ZS1hdWRpbyc7XG4gICAgICAgIHZhciByZW1vdGVTdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oKTtcbiAgICAgICAgcGMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAocmVjZWl2ZXIpIHtcbiAgICAgICAgICByZW1vdGVTdHJlYW0uYWRkVHJhY2socmVjZWl2ZXIudHJhY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXNzaW9uLnBhc3NlZE9wdGlvbnMuc3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlc3Npb24ucGFzc2VkT3B0aW9ucy5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlc3Npb24ucGFzc2VkT3B0aW9ucy5tb3pTcmNPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2Vzc2lvbi5wYXNzZWRPcHRpb25zLm1velNyY09iamVjdCA9IHJlbW90ZVN0cmVhbTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2Vzc2lvbi5wYXNzZWRPcHRpb25zLnNyYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZXNzaW9uLnBhc3NlZE9wdGlvbnMuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChyZW1vdGVTdHJlYW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2Vzc2lvbi5wYXNzZWRPcHRpb25zLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcInVzZXJNZWRpYVJlcXVlc3RcIiwgKGNvbnN0cmFpbnRzKSA9PiB7dGhpcy50cmlnZ2VyKFwidXNlck1lZGlhUmVxdWVzdFwiLCBjb25zdHJhaW50cyk7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIHVzZXJNZWRpYSBldmVudDpcbiAgICAvLyAqXG4gICAgLy8gKiBGaXJlZCB3aGVuIHRoZSBzeXN0ZW0gaGFzIGFxdWlyZWQgcGVybWlzc2lvbiB0byB1c2UgdGhlIG1pY3JvcGhvbmUuIFRoaXMgd2lsbCBoYXBwZW4gZWl0aGVyXG4gICAgLy8gKiBpbW1lZGlhdGVseSBhZnRlciB7QGxpbmsgQ2RjdHNDYWxsI3VzZXJNZWRpYVJlcXVlc3R9IGlmIHRoZSB1c2VyIGhhcyBwcmV2aW91c2x5IGdpdmVuIHBlcm1pc3Npb25cbiAgICAvLyAqIG9yIGFmdGVyIHRoZSB1c2VyIGFwcHJvdmVzIHRoZSByZXF1ZXN0LlxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjdXNlck1lZGlhXG4gICAgLy8gKiBAcHJvcGVydHkge29iamVjdH0gc3RyZWFtXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcInVzZXJNZWRpYVwiLCAoc3RyZWFtKSA9PiB7dGhpcy50cmlnZ2VyKFwidXNlck1lZGlhXCIsIHN0cmVhbSk7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIHVzZXJNZWRpYUZhaWxlZCBldmVudDpcbiAgICAvLyAqXG4gICAgLy8gKiBGaXJlZCB3aGVuIHRoZSB1c2VyIHJlZnVzZXMgcGVybWlzc2lvbiB0byB1c2UgdGhlIG1pY3JvcGhvbmUuIFRoZXJlIGlzIG5vIHdheSBiYWNrIGZyb20gdGhpc1xuICAgIC8vICogZXhjZXB0IGZvciB0aGUgdXNlciB0byBnbyBpbnRvIGJyb3dzZXIgc2V0dGluZ3MgYW5kIHJlbW92ZSB0aGUgZXhjZXB0aW9uIGZvciB5b3VyIHNpdGUuXG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCN1c2VyTWVkaWFGYWlsZWRcbiAgICAvLyAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBlcnJvclxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJ1c2VyTWVkaWFGYWlsZWRcIiwgKGVycm9yKSA9PiB7dGhpcy50cmlnZ2VyKFwidXNlck1lZGlhRmFpbGVkXCIsIGVycm9yKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogaWNlR2F0aGVyaW5nIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNpY2VHYXRoZXJpbmdcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlR2F0aGVyaW5nXCIsICgpID0+IHt0aGlzLnRyaWdnZXIoXCJpY2VHYXRoZXJpbmdcIik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUNhbmRpZGF0ZSBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjaWNlQ2FuZGlkYXRlXG4gICAgLy8gKiBAcHJvcGVydHkge29iamVjdH0gY2FuZGlkYXRlXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImljZUNhbmRpZGF0ZVwiLCAoY2FuZGlkYXRlKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlQ2FuZGlkYXRlXCIsIGNhbmRpZGF0ZSk7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUdhdGhlcmluZ0NvbXBsZXRlIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNpY2VHYXRoZXJpbmdDb21wbGV0ZVxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJpY2VHYXRoZXJpbmdDb21wbGV0ZVwiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlR2F0aGVyaW5nQ29tcGxldGVcIik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUNvbm5lY3Rpb24gZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2ljZUNvbm5lY3Rpb25cbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlQ29ubmVjdGlvblwiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlQ29ubmVjdGlvblwiKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogaWNlQ29ubmVjdGlvbkNoZWNraW5nIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNpY2VDb25uZWN0aW9uQ2hlY2tpbmdcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlQ29ubmVjdGlvbkNoZWNraW5nXCIsICgpID0+IHt0aGlzLnRyaWdnZXIoXCJpY2VDb25uZWN0aW9uQ2hlY2tpbmdcIik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUNvbm5lY3Rpb25Db25uZWN0ZWQgZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2ljZUNvbm5lY3Rpb25Db25uZWN0ZWRcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlQ29ubmVjdGlvbkNvbm5lY3RlZFwiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlQ29ubmVjdGlvbkNvbm5lY3RlZFwiKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogaWNlQ29ubmVjdGlvbkNvbXBsZXRlZCBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjaWNlQ29ubmVjdGlvbkNvbXBsZXRlZFxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJpY2VDb25uZWN0aW9uQ29tcGxldGVkXCIsICgpID0+IHt0aGlzLnRyaWdnZXIoXCJpY2VDb25uZWN0aW9uQ29tcGxldGVkXCIpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBpY2VDb25uZWN0aW9uRmFpbGVkIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNpY2VDb25uZWN0aW9uRmFpbGVkXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImljZUNvbm5lY3Rpb25GYWlsZWRcIiwgKCkgPT4ge3RoaXMudHJpZ2dlcihcImljZUNvbm5lY3Rpb25GYWlsZWRcIik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUNvbm5lY3Rpb25EaXNjb25uZWN0ZWQgZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2ljZUNvbm5lY3Rpb25EaXNjb25uZWN0ZWRcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZFwiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZFwiKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogaWNlQ29ubmVjdGlvbkNsb3NlZCBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjaWNlQ29ubmVjdGlvbkNsb3NlZFxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJpY2VDb25uZWN0aW9uQ2xvc2VkXCIsICgpID0+IHt0aGlzLnRyaWdnZXIoXCJpY2VDb25uZWN0aW9uQ2xvc2VkXCIpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBnZXREZXNjcmlwdGlvbiBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjZ2V0RGVzY3JpcHRpb25cbiAgICAvLyAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBzZHBXcmFwcGVyXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImdldERlc2NyaXB0aW9uXCIsIChzZHBXcmFwcGVyKSA9PiB7dGhpcy50cmlnZ2VyKFwiZ2V0RGVzY3JpcHRpb25cIiwgc2RwV3JhcHBlcik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIHNldERlc2NyaXB0aW9uIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNzZXREZXNjcmlwdGlvblxuICAgIC8vICogQHByb3BlcnR5IHtvYmplY3R9IHNkcFdyYXBwZXJcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwic2V0RGVzY3JpcHRpb25cIiwgKHNkcFdyYXBwZXIpID0+IHt0aGlzLnRyaWdnZXIoXCJzZXREZXNjcmlwdGlvblwiLCBzZHBXcmFwcGVyKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogZGF0YUNoYW5uZWwgZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2RhdGFDaGFubmVsXG4gICAgLy8gKiBAcHJvcGVydHkge29iamVjdH0gZGF0YUNoYW5uZWxcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiZGF0YUNoYW5uZWxcIiwgKGRhdGFDaGFubmVsKSA9PiB7dGhpcy50cmlnZ2VyKFwiZGF0YUNoYW5uZWxcIiwgZGF0YUNoYW5uZWwpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBhZGRTdHJlYW0gZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2FkZFN0cmVhbVxuICAgIC8vICogQHByb3BlcnR5IHtvYmplY3R9IHN0cmVhbVxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJhZGRTdHJlYW1cIiwgKHN0cmVhbSkgPT4geyB0aGlzLnRyaWdnZXIoXCJhZGRTdHJlYW1cIiwgc3RyZWFtKTsgfSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBBY2NlcHQgYW4gaW5jb21pbmcgY2FsbC5cbiAgICogV2hlbiBhIGNhbGwgaXMgcmVjZWl2ZWQgYENkY3RzRGV2aWNlYCB3aWxsIGNyZWF0ZSBhIG5ldyBgQ2RjdHNDYWxsYCBmb3IgdGhlIHNlc3Npb25cbiAgICogYW5kIGVtaXQgYSBgaW5jb21pbmdJbnZpdGVgIGV2ZW50LlxuICAgKiBUaGUgbmV3IGBDZGN0c0NhbGxgIGlzIHBhc3NlZCBhbG9uZyB3aXRoIHRoZSBldmVudC4gQ2FsbCBgYWNjZXB0KClgIHRvIGFjY2VwdCB0aGUgY2FsbC5cbiAgICovXG4gIGFuc3dlcigpIHtcbiAgICBpZiAodGhpcy5fY2FsbFR5cGUgIT09ICdpbmNvbWluZycpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJhY2NlcHQoKSBtZXRob2QgaXMgb25seSB2YWxpZCBvbiBpbmNvbWluZyBjYWxsc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXNzaW9uLmFjY2VwdCh7XG4gICAgICBtZWRpYToge1xuICAgICAgICBjb25zdHJhaW50czogeyBhdWRpbzogdHJ1ZSwgdmlkZW86IGZhbHNlIH0sXG4gICAgICAgIHJlbmRlcjogeyByZW1vdGU6IHRoaXMuX2dldEF1ZGlvRWxlbWVudCgpIH1cbiAgICAgIH0sXG4gICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczoge1xuICAgICAgICBjb25zdHJhaW50czoge1xuICAgICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICAgIHZpZGVvOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IHsgcmVtb3RlOiB0aGlzLl9nZXRBdWRpb0VsZW1lbnQoKSB9XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLl9hdHRhdGNoU2Vzc2lvbkV2ZW50cyh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWplY3QgYW4gaW5jb21pbmcgY2FsbC5cbiAgICogV2hlbiBhIGNhbGwgaXMgcmVjZWl2ZWQgYENkY3RzRGV2aWNlYCB3aWxsIGNyZWF0ZSBhIG5ldyBgQ2RjdHNDYWxsYCBmb3IgdGhlIHNlc3Npb25cbiAgICogYW5kIGVtaXQgYSBgaW5jb21pbmdJbnZpdGVgIGV2ZW50LlxuICAgKiBUaGUgbmV3IGBDZGN0c0NhbGxgIGlzIHBhc3NlZCBhbG9uZyB3aXRoIHRoZSBldmVudC4gQ2FsbCBgcmVqZWN0KClgIHRvIHJlamVjdCB0aGUgY2FsbC5cbiAgICovXG4gIHJlamVjdCgpIHtcbiAgICBpZiAodGhpcy5fY2FsbFR5cGUgIT09ICdpbmNvbWluZycpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJyZWplY3QoKSBtZXRob2QgaXMgb25seSB2YWxpZCBvbiBpbmNvbWluZyBjYWxsc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc2Vzc2lvbi5yZWplY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVxdWVzdCBvYmplY3QgY29udGFpbnMgbWV0YWRhdGEgYWJvdXQgdGhlIGN1cnJlbnQgc2Vzc2lvbixcbiAgICogaW5jbHVkaW5nIHRoZSB3aG8gdGhlIGNhbGwgaXMgZ29pbmcgYHRvYCBhbmQgaW4gdGhlIGNhc2Ugb2YgaW5jb21pbmcgY2FsbHMsXG4gICAqIHdobyB0aGUgY2FsbCBpcyBjb21pbmcgYGZyb21gLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IHJlcXVlc3RcbiAgICovXG4gIGdldCByZXF1ZXN0KCkge1xuICAgIGlmICghdGhpcy5fc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jYWxsVHlwZSA9PT0gJ2luY29taW5nJykge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nlc3Npb24udHJhbnNhY3Rpb24ucmVxdWVzdDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NhbGxUeXBlID09PSAnb3V0Z29pbmcnKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbi5yZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogSXMgdGhlIGNhbGwgc3RpbGwgaW5pdGlhdGluZz9cbiAgKlxuICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzSW5pdGlhdGluZ1xuICAqL1xuICBpc0luaXRpYXRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gJ2luaXRpYXRpbmcnO1xuICB9XG5cbiAgLyoqXG4gICogSGFzIHRoZSBjYWxsIGNvbm5lY3RlZD9cbiAgKlxuICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzQ29ubmVjdGVkXG4gICovXG4gIGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09ICdjb25uZWN0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICogSGFzIHRoZSBjYWxsIGVuZGVkP1xuICAqXG4gICogQHJldHVybiB7Qm9vbGVhbn0gaXNFbmRlZFxuICAqL1xuICBpc0VuZGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09ICdlbmRlZCc7XG4gIH1cblxuICAvKipcbiAgKiBJcyB0aGlzIGFuIGluY29taW5nIGNhbGw/XG4gICpcbiAgKiBAcmV0dXJuIHtCb29sZWFufSBpc0luY29taW5nXG4gICovXG4gIGlzSW5jb21pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGxUeXBlID09PSAnaW5jb21pbmcnO1xuICB9XG5cbiAgLyoqXG4gICogSXMgdGhpcyBhbiBvdXRnb2luZyBjYWxsP1xuICAqXG4gICogQHJldHVybiB7Qm9vbGVhbn0gaXNPdXRnb2luZ1xuICAqL1xuICBpc091dGdvaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxsVHlwZSA9PT0gJ291dGdvaW5nJztcbiAgfVxuXG4gIC8qKlxuICAqIEVuZCB0aGUgc2Vzc2lvblxuICAqXG4gICogQGVtaXRzIENkY3RzQ2FsbCN0ZXJtaW5hdGVkXG4gICovXG4gIHRlcm1pbmF0ZSgpIHtcbiAgICB0aGlzLl9zZXNzaW9uLnRlcm1pbmF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICogU2h1dGRvd24gdGhlIGNvbm5lY3Rpb24gdG8gdGhlIFdlYlJUQyBzZXJ2ZXJzXG4gICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBDZGN0c0RldmljZS5zdG9wV1MgaW5zdGVhZC5cbiAgKi9cbiAgc2h1dGRvd24oKSB7XG4gICAgdGhpcy5VQS5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgKiBUb2dnbGUgbXV0ZVxuICAqXG4gICogQHBhcmFtIHtib29sZWFufSBpc011dGUgLSBpZiB0cnVlIHlvdSB3YW50IG11dGUgdG8gYmUgT05cbiAgKi9cbiAgbXV0ZShpc011dGUgLypib29sKi8pIHtcbiAgICB0aGlzLl9tdXRlID0gaXNNdXRlO1xuICAgIGlmICh0aGlzLl9tdXRlKSB7XG4gICAgICB0aGlzLl9zZXNzaW9uLm11dGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Vzc2lvbi51bm11dGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBUb2dnbGUgaG9sZFxuICAqXG4gICogQHBhcmFtIHtib29sZWFufSBpc0hvbGQgLSBpZiB0cnVlIHlvdSB3YW50IG11dGUgdG8gYmUgT05cbiAgKi9cbiAgaG9sZChpc0hvbGQgLypib29sKi8pIHtcbiAgICBpZiAoaXNIb2xkKSB7XG4gICAgICB0aGlzLl9zZXNzaW9uLmhvbGQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Vzc2lvbi51bmhvbGQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBDdXJyZW50IG11dGUgc3RhdGVcbiAgKlxuICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgY2FsbCBpcyBvbiBtdXRlXG4gICovXG4gIGlzTXV0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX211dGU7XG4gIH1cblxuICAvKipcbiAgKiBTZW5kIHBob25lIGtleXBhZCBwcmVzc2VzIChEVE1GIHRvbmVzKVxuICAqXG4gICogVXNlZCBhZnRlciB0aGUgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAgKlxuICAqIEBwYXJhbSB7c3RyaW5nfSBkaWdpdHMgLSBhIHN0cmluZyBjb250YWluZyBkaWdpdHMgMC05LCAqLCAjXG4gICogQGVtaXRzIENkY3RzQ2FsbCNkdG1mXG4gICovXG4gIHNlbmREaWdpdHMoZGlnaXRzKSB7XG4gICAgdGhpcy5fc2Vzc2lvbi5kdG1mKGRpZ2l0cyk7XG4gIH1cblxuICAvKipcbiAgKiBTZW5kIHBob25lIGtleXBhZCBwcmVzc2VzIChEVE1GIHRvbmVzKVxuICAqXG4gICogVXNlZCBhZnRlciB0aGUgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAgKlxuICAqIEBwYXJhbSB7c3RyaW5nfSBkaWdpdHMgLSBhIHN0cmluZyBjb250YWluZyBkaWdpdHMgMC05LCAqLCAjXG4gICogQGVtaXRzIENkY3RzQ2FsbCNkdG1mXG4gICovXG4gIHJlZmVyKGRpZ2l0cykge1xuICAgIHRoaXMuX3Nlc3Npb24ucmVmZXIoZGlnaXRzKTtcbiAgfVxuXG4gIC8qKlxuICAqIFRoZSBcInNpbXBsZVwiIHN0YXR1cy5cbiAgKlxuICAqIEFsbCBvZiB0aGUgbWFueSBwaGFzZXMgb2YgdGhlIGNhbGwgYm9pbGVkIGRvd24gaW50byAzIHN0YXRlczogSW5pdGlhdGluZywgQ29ubmVjdGVkIGFuZCBFbmRlZC5cbiAgKlxuICAqIEByZXR1cm4ge3N0cmluZ30gb25lIG9mIGluaXRpYXRpbmcsIGNvbm5lY3RlZCwgZW5kZWRcbiAgKi9cbiAgc3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gIH1cblxuICBfd2FpdGluZ0ZvckFwcGx5aW5nQW5zd2VyKHNlc3Npb24sIHJlc3BvbnNlKSB7XG4gICAgbGV0IGkgPSAxLFxuICAgICAgY2xlYXJUaW1lclxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiBjaGVjaygpIHtcbiAgICAgIGkrK1xuICAgICAgY2xlYXJUaW1lciA9IHNldFRpbWVvdXQoY2hlY2ssIDEwKVxuICAgICAgaWYgKHNlc3Npb24gJiYgc2Vzc2lvbi5oYXNBbnN3ZXIgfHwgaSA+IDE0KSB7XG4gICAgICAgIGlmIChzZXNzaW9uLmhhc0Fuc3dlcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dChjbGVhclRpbWVyKVxuICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDE1KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGNsZWFyVGltZXIpXG4gICAgICAgICAgc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHkpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgc2Vzc2lvbi5sb2dnZXIud2FybihlcnJvcilcbiAgICAgICAgICAgIHNlc3Npb24uZmFpbGVkKHJlc3BvbnNlLCBDLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pXG4gICAgICAgICAgICBzZXNzaW9uLnRlcm1pbmF0ZSh7IHN0YXR1c0NvZGU6IDQ4OCwgcmVhc29uX3BocmFzZTogJ0JhZCBNZWRpYSBEZXNjcmlwdGlvbicgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTApXG4gIH1cblxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBuYW1lX2FkZHJfaGVhZGVyXzEgPSByZXF1aXJlKFwiLi9uYW1lLWFkZHItaGVhZGVyXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbi8qKlxuICogT3V0Z29pbmcgU0lQIHJlcXVlc3QgbWVzc2FnZS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZShtZXRob2QsIHJ1cmksIGZyb21VUkksIHRvVVJJLCBvcHRpb25zLCBleHRyYUhlYWRlcnMsIGJvZHkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0ge307XG4gICAgICAgIHRoaXMuZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE91dGdvaW5nUmVxdWVzdE1lc3NhZ2UuZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgICAgICAgLy8gT3B0aW9ucyAtIG1lcmdlIGEgZGVlcCBjb3B5XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vcHRpb25UYWdzICYmIHRoaXMub3B0aW9ucy5vcHRpb25UYWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vcHRpb25UYWdzID0gdGhpcy5vcHRpb25zLm9wdGlvblRhZ3Muc2xpY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucm91dGVTZXQgJiYgdGhpcy5vcHRpb25zLnJvdXRlU2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yb3V0ZVNldCA9IHRoaXMub3B0aW9ucy5yb3V0ZVNldC5zbGljZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhIGhlYWRlcnMgLSBkZWVwIGNvcHlcbiAgICAgICAgaWYgKGV4dHJhSGVhZGVycyAmJiBleHRyYUhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmV4dHJhSGVhZGVycyA9IGV4dHJhSGVhZGVycy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJvZHkgLSBkZWVwIGNvcHlcbiAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGludGVybmFsIHJlcHJlc2VudGF0aW9uIHNob3VsZCBiZSBCb2R5XG4gICAgICAgICAgICAvLyB0aGlzLmJvZHkgPSB7IC4uLmJvZHkgfTtcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiBib2R5LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGJvZHkuY29udGVudFR5cGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWV0aG9kXG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAvLyBSVVJJXG4gICAgICAgIHRoaXMucnVyaSA9IHJ1cmkuY2xvbmUoKTtcbiAgICAgICAgLy8gRnJvbVxuICAgICAgICB0aGlzLmZyb21VUkkgPSBmcm9tVVJJLmNsb25lKCk7XG4gICAgICAgIHRoaXMuZnJvbVRhZyA9IHRoaXMub3B0aW9ucy5mcm9tVGFnID8gdGhpcy5vcHRpb25zLmZyb21UYWcgOiB1dGlsc18xLm5ld1RhZygpO1xuICAgICAgICB0aGlzLmZyb20gPSBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLm1ha2VOYW1lQWRkckhlYWRlcih0aGlzLmZyb21VUkksIHRoaXMub3B0aW9ucy5mcm9tRGlzcGxheU5hbWUsIHRoaXMuZnJvbVRhZyk7XG4gICAgICAgIC8vIFRvXG4gICAgICAgIHRoaXMudG9VUkkgPSB0b1VSSS5jbG9uZSgpO1xuICAgICAgICB0aGlzLnRvVGFnID0gdGhpcy5vcHRpb25zLnRvVGFnO1xuICAgICAgICB0aGlzLnRvID0gT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5tYWtlTmFtZUFkZHJIZWFkZXIodGhpcy50b1VSSSwgdGhpcy5vcHRpb25zLnRvRGlzcGxheU5hbWUsIHRoaXMudG9UYWcpO1xuICAgICAgICAvLyBDYWxsLUlEXG4gICAgICAgIHRoaXMuY2FsbElkID0gdGhpcy5vcHRpb25zLmNhbGxJZCA/IHRoaXMub3B0aW9ucy5jYWxsSWQgOiB0aGlzLm9wdGlvbnMuY2FsbElkUHJlZml4ICsgdXRpbHNfMS5jcmVhdGVSYW5kb21Ub2tlbigxNSk7XG4gICAgICAgIC8vIENTZXFcbiAgICAgICAgdGhpcy5jc2VxID0gdGhpcy5vcHRpb25zLmNzZXE7XG4gICAgICAgIC8vIFRoZSByZWxhdGl2ZSBvcmRlciBvZiBoZWFkZXIgZmllbGRzIHdpdGggZGlmZmVyZW50IGZpZWxkIG5hbWVzIGlzIG5vdFxuICAgICAgICAvLyBzaWduaWZpY2FudC4gIEhvd2V2ZXIsIGl0IGlzIFJFQ09NTUVOREVEIHRoYXQgaGVhZGVyIGZpZWxkcyB3aGljaCBhcmVcbiAgICAgICAgLy8gbmVlZGVkIGZvciBwcm94eSBwcm9jZXNzaW5nIChWaWEsIFJvdXRlLCBSZWNvcmQtUm91dGUsIFByb3h5LVJlcXVpcmUsXG4gICAgICAgIC8vIE1heC1Gb3J3YXJkcywgYW5kIFByb3h5LUF1dGhvcml6YXRpb24sIGZvciBleGFtcGxlKSBhcHBlYXIgdG93YXJkc1xuICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBtZXNzYWdlIHRvIGZhY2lsaXRhdGUgcmFwaWQgcGFyc2luZy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi03LjMuMVxuICAgICAgICB0aGlzLnNldEhlYWRlcihcInJvdXRlXCIsIHRoaXMub3B0aW9ucy5yb3V0ZVNldCk7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwidmlhXCIsIFwiXCIpO1xuICAgICAgICB0aGlzLnNldEhlYWRlcihcInRvXCIsIHRoaXMudG8udG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwiZnJvbVwiLCB0aGlzLmZyb20udG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwiY3NlcVwiLCB0aGlzLmNzZXEgKyBcIiBcIiArIHRoaXMubWV0aG9kKTtcbiAgICAgICAgdGhpcy5zZXRIZWFkZXIoXCJjYWxsLWlkXCIsIHRoaXMuY2FsbElkKTtcbiAgICAgICAgdGhpcy5zZXRIZWFkZXIoXCJtYXgtZm9yd2FyZHNcIiwgXCI3MFwiKTtcbiAgICB9XG4gICAgLyoqIEdldCBhIGNvcHkgb2YgdGhlIGRlZmF1bHQgb3B0aW9ucy4gKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLmdldERlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbElkOiBcIlwiLFxuICAgICAgICAgICAgY2FsbElkUHJlZml4OiBcIlwiLFxuICAgICAgICAgICAgY3NlcTogMSxcbiAgICAgICAgICAgIHRvRGlzcGxheU5hbWU6IFwiXCIsXG4gICAgICAgICAgICB0b1RhZzogXCJcIixcbiAgICAgICAgICAgIGZyb21EaXNwbGF5TmFtZTogXCJcIixcbiAgICAgICAgICAgIGZyb21UYWc6IFwiXCIsXG4gICAgICAgICAgICBmb3JjZVJwb3J0OiBmYWxzZSxcbiAgICAgICAgICAgIGhhY2tWaWFUY3A6IGZhbHNlLFxuICAgICAgICAgICAgb3B0aW9uVGFnczogW1wib3V0Ym91bmRcIl0sXG4gICAgICAgICAgICByb3V0ZVNldDogW10sXG4gICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IFwic2lwLmpzXCIsXG4gICAgICAgICAgICB2aWFIb3N0OiBcIlwiXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLm1ha2VOYW1lQWRkckhlYWRlciA9IGZ1bmN0aW9uICh1cmksIGRpc3BsYXlOYW1lLCB0YWcpIHtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7fTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgcGFyYW1ldGVycy50YWcgPSB0YWc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBuYW1lX2FkZHJfaGVhZGVyXzEuTmFtZUFkZHJIZWFkZXIodXJpLCBkaXNwbGF5TmFtZSwgcGFyYW1ldGVycyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBoZWFkZXIgbmFtZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEByZXR1cm5zIFJldHVybnMgdGhlIHNwZWNpZmllZCBoZWFkZXIsIHVuZGVmaW5lZCBpZiBoZWFkZXIgZG9lc24ndCBleGlzdC5cbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5oZWFkZXJzW3V0aWxzXzEuaGVhZGVyaXplKG5hbWUpXTtcbiAgICAgICAgaWYgKGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGhlYWRlclswXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXJbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChcIl5cXFxccypcIiArIG5hbWUgKyBcIlxcXFxzKjpcIiwgXCJpXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZXh0cmFIZWFkZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBleEhlYWRlciA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpZiAocmVnZXhwLnRlc3QoZXhIZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleEhlYWRlci5zdWJzdHJpbmcoZXhIZWFkZXIuaW5kZXhPZihcIjpcIikgKyAxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaGVhZGVyL3Mgb2YgdGhlIGdpdmVuIG5hbWUuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEByZXR1cm5zIEFycmF5IHdpdGggYWxsIHRoZSBoZWFkZXJzIG9mIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5nZXRIZWFkZXJzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaGVhZGVyQXJyYXkgPSB0aGlzLmhlYWRlcnNbdXRpbHNfMS5oZWFkZXJpemUobmFtZSldO1xuICAgICAgICBpZiAoaGVhZGVyQXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgaGVhZGVyQXJyYXlfMSA9IGhlYWRlckFycmF5OyBfaSA8IGhlYWRlckFycmF5XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlclBhcnQgPSBoZWFkZXJBcnJheV8xW19pXTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChoZWFkZXJQYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKFwiXlxcXFxzKlwiICsgbmFtZSArIFwiXFxcXHMqOlwiLCBcImlcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gdGhpcy5leHRyYUhlYWRlcnM7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4SGVhZGVyID0gX2JbX2FdO1xuICAgICAgICAgICAgICAgIGlmIChyZWdleHAudGVzdChleEhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZXhIZWFkZXIuc3Vic3RyaW5nKGV4SGVhZGVyLmluZGV4T2YoXCI6XCIpICsgMSkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZlcmlmeSB0aGUgZXhpc3RlbmNlIG9mIHRoZSBnaXZlbiBoZWFkZXIuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgaGVhZGVyIHdpdGggZ2l2ZW4gbmFtZSBleGlzdHMsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIE91dGdvaW5nUmVxdWVzdE1lc3NhZ2UucHJvdG90eXBlLmhhc0hlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnNbdXRpbHNfMS5oZWFkZXJpemUobmFtZSldKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKFwiXlxcXFxzKlwiICsgbmFtZSArIFwiXFxcXHMqOlwiLCBcImlcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5leHRyYUhlYWRlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVyID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChyZWdleHAudGVzdChleHRyYUhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgdGhlIHRoZSBnaXZlbiBoZWFkZXIgYnkgdGhlIGdpdmVuIHZhbHVlLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gaGVhZGVyIG5hbWVcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBoZWFkZXIgdmFsdWVcbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5zZXRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzW3V0aWxzXzEuaGVhZGVyaXplKG5hbWUpXSA9ICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBWaWEgaGVhZGVyIGZpZWxkIGluZGljYXRlcyB0aGUgdHJhbnNwb3J0IHVzZWQgZm9yIHRoZSB0cmFuc2FjdGlvblxuICAgICAqIGFuZCBpZGVudGlmaWVzIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgcmVzcG9uc2UgaXMgdG8gYmUgc2VudC4gIEEgVmlhXG4gICAgICogaGVhZGVyIGZpZWxkIHZhbHVlIGlzIGFkZGVkIG9ubHkgYWZ0ZXIgdGhlIHRyYW5zcG9ydCB0aGF0IHdpbGwgYmVcbiAgICAgKiB1c2VkIHRvIHJlYWNoIHRoZSBuZXh0IGhvcCBoYXMgYmVlbiBzZWxlY3RlZCAod2hpY2ggbWF5IGludm9sdmUgdGhlXG4gICAgICogdXNhZ2Ugb2YgdGhlIHByb2NlZHVyZXMgaW4gWzRdKS5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIFVBQyBjcmVhdGVzIGEgcmVxdWVzdCwgaXQgTVVTVCBpbnNlcnQgYSBWaWEgaW50byB0aGF0XG4gICAgICogcmVxdWVzdC4gIFRoZSBwcm90b2NvbCBuYW1lIGFuZCBwcm90b2NvbCB2ZXJzaW9uIGluIHRoZSBoZWFkZXIgZmllbGRcbiAgICAgKiBNVVNUIGJlIFNJUCBhbmQgMi4wLCByZXNwZWN0aXZlbHkuICBUaGUgVmlhIGhlYWRlciBmaWVsZCB2YWx1ZSBNVVNUXG4gICAgICogY29udGFpbiBhIGJyYW5jaCBwYXJhbWV0ZXIuICBUaGlzIHBhcmFtZXRlciBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZVxuICAgICAqIHRyYW5zYWN0aW9uIGNyZWF0ZWQgYnkgdGhhdCByZXF1ZXN0LiAgVGhpcyBwYXJhbWV0ZXIgaXMgdXNlZCBieSBib3RoXG4gICAgICogdGhlIGNsaWVudCBhbmQgdGhlIHNlcnZlci5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMS4xLjdcbiAgICAgKiBAcGFyYW0gYnJhbmNoUGFyYW1ldGVyIC0gVGhlIGJyYW5jaCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSBzZW50IHByb3RvY29sIHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5zZXRWaWFIZWFkZXIgPSBmdW5jdGlvbiAoYnJhbmNoLCB0cmFuc3BvcnQpIHtcbiAgICAgICAgLy8gRklYTUU6IEhhY2tcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oYWNrVmlhVGNwKSB7XG4gICAgICAgICAgICB0cmFuc3BvcnQgPSBcIlRDUFwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aWEgPSBcIlNJUC8yLjAvXCIgKyB0cmFuc3BvcnQ7XG4gICAgICAgIHZpYSArPSBcIiBcIiArIHRoaXMub3B0aW9ucy52aWFIb3N0ICsgXCI7YnJhbmNoPVwiICsgYnJhbmNoO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlUnBvcnQpIHtcbiAgICAgICAgICAgIHZpYSArPSBcIjtycG9ydFwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwidmlhXCIsIHZpYSk7XG4gICAgICAgIHRoaXMuYnJhbmNoID0gYnJhbmNoO1xuICAgIH07XG4gICAgT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtc2cgPSBcIlwiO1xuICAgICAgICBtc2cgKz0gdGhpcy5tZXRob2QgKyBcIiBcIiArIHRoaXMucnVyaS50b1JhdygpICsgXCIgU0lQLzIuMFxcclxcblwiO1xuICAgICAgICBmb3IgKHZhciBoZWFkZXIgaW4gdGhpcy5oZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzW2hlYWRlcl0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5oZWFkZXJzW2hlYWRlcl07IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXJQYXJ0ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICBtc2cgKz0gaGVhZGVyICsgXCI6IFwiICsgaGVhZGVyUGFydCArIFwiXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0aGlzLmV4dHJhSGVhZGVyczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgIHZhciBoZWFkZXIgPSBfY1tfYl07XG4gICAgICAgICAgICBtc2cgKz0gaGVhZGVyLnRyaW0oKSArIFwiXFxyXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgbXNnICs9IFwiU3VwcG9ydGVkOiBcIiArIHRoaXMub3B0aW9ucy5vcHRpb25UYWdzLmpvaW4oXCIsIFwiKSArIFwiXFxyXFxuXCI7XG4gICAgICAgIG1zZyArPSBcIlVzZXItQWdlbnQ6IFwiICsgdGhpcy5vcHRpb25zLnVzZXJBZ2VudFN0cmluZyArIFwiXFxyXFxuXCI7XG4gICAgICAgIGlmICh0aGlzLmJvZHkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5ib2R5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbXNnICs9IFwiQ29udGVudC1MZW5ndGg6IFwiICsgdXRpbHNfMS5zdHJfdXRmOF9sZW5ndGgodGhpcy5ib2R5KSArIFwiXFxyXFxuXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgbXNnICs9IHRoaXMuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHkuYm9keSAmJiB0aGlzLmJvZHkuY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnICs9IFwiQ29udGVudC1UeXBlOiBcIiArIHRoaXMuYm9keS5jb250ZW50VHlwZSArIFwiXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIHV0aWxzXzEuc3RyX3V0ZjhfbGVuZ3RoKHRoaXMuYm9keS5ib2R5KSArIFwiXFxyXFxuXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSB0aGlzLmJvZHkuYm9keTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIDAgKyBcIlxcclxcblxcclxcblwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1zZyArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIDAgKyBcIlxcclxcblxcclxcblwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZTtcbn0oKSk7XG5leHBvcnRzLk91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgPSBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0aW1lcnNfMSA9IHJlcXVpcmUoXCIuLi90aW1lcnNcIik7XG52YXIgY2xpZW50X3RyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9jbGllbnQtdHJhbnNhY3Rpb25cIik7XG52YXIgdHJhbnNhY3Rpb25fc3RhdGVfMSA9IHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uLXN0YXRlXCIpO1xuLyoqXG4gKiBJTlZJVEUgQ2xpZW50IFRyYW5zYWN0aW9uLlxuICogQHJlbWFya3NcbiAqIFRoZSBJTlZJVEUgdHJhbnNhY3Rpb24gY29uc2lzdHMgb2YgYSB0aHJlZS13YXkgaGFuZHNoYWtlLiAgVGhlIGNsaWVudFxuICogdHJhbnNhY3Rpb24gc2VuZHMgYW4gSU5WSVRFLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIHNlbmRzIHJlc3BvbnNlcyxcbiAqIGFuZCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHNlbmRzIGFuIEFDSy5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4xXG4gKiBAcHVibGljXG4gKi9cbnZhciBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci5cbiAgICAgKiBVcG9uIGNvbnN0cnVjdGlvbiwgdGhlIG91dGdvaW5nIHJlcXVlc3QncyBWaWEgaGVhZGVyIGlzIHVwZGF0ZWQgYnkgY2FsbGluZyBgc2V0VmlhSGVhZGVyYC5cbiAgICAgKiBUaGVuIGB0b1N0cmluZ2AgaXMgY2FsbGVkIG9uIHRoZSBvdXRnb2luZyByZXF1ZXN0IGFuZCB0aGUgbWVzc2FnZSBpcyBzZW50IHZpYSB0aGUgdHJhbnNwb3J0LlxuICAgICAqIEFmdGVyIGNvbnN0cnVjdGlvbiB0aGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBpbiB0aGUgXCJjYWxsaW5nXCIgc3RhdGUgYW5kIHRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIHdpbGwgZXF1YWwgdGhlIGJyYW5jaCBwYXJhbWV0ZXIgc2V0IGluIHRoZSBWaWEgaGVhZGVyIG9mIHRoZSBvdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4xXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgb3V0Z29pbmcgSU5WSVRFIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdCwgdHJhbnNwb3J0LCB1c2VyLCB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ2FsbGluZywgXCJzaXAudHJhbnNhY3Rpb24uaWN0XCIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2YgMnh4IHRvLXRhZyB0byBBQ0suXG4gICAgICAgICAqIElmIHZhbHVlIGlzIG5vdCB1bmRlZmluZWQsIHZhbHVlIGlzIHRoZSBBQ0sgd2hpY2ggd2FzIHNlbnQuXG4gICAgICAgICAqIElmIGtleSBleGlzdHMgYnV0IHZhbHVlIGlzIHVuZGVmaW5lZCwgYSAyeHggd2FzIHJlY2VpdmVkIGJ1dCB0aGUgQUNLIG5vdCB5ZXQgc2VudC5cbiAgICAgICAgICogT3RoZXJ3aXNlLCBhIDJ4eCB3YXMgbm90ICh5ZXQpIHJlY2VpdmVkIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWNrUmV0cmFuc21pc3Npb25DYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gRklYTUU6IFRpbWVyIEEgZm9yIHVucmVsaWFibGUgdHJhbnNwb3J0IG5vdCBpbXBsZW1lbnRlZFxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiBhbiB1bnJlbGlhYmxlIHRyYW5zcG9ydCBpcyBiZWluZyB1c2VkLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uXG4gICAgICAgIC8vIE1VU1Qgc3RhcnQgdGltZXIgQSB3aXRoIGEgdmFsdWUgb2YgVDEuIElmIGEgcmVsaWFibGUgdHJhbnNwb3J0IGlzIGJlaW5nIHVzZWQsXG4gICAgICAgIC8vIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIE5PVCBzdGFydCB0aW1lciBBIChUaW1lciBBIGNvbnRyb2xzIHJlcXVlc3QgcmV0cmFuc21pc3Npb25zKS5cbiAgICAgICAgLy8gRm9yIGFueSB0cmFuc3BvcnQsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCBzdGFydCB0aW1lciBCIHdpdGggYSB2YWx1ZVxuICAgICAgICAvLyBvZiA2NCpUMSBzZWNvbmRzIChUaW1lciBCIGNvbnRyb2xzIHRyYW5zYWN0aW9uIHRpbWVvdXRzKS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAgICAvL1xuICAgICAgICAvLyBXaGlsZSBub3Qgc3BlbGxlZCBvdXQgaW4gdGhlIFJGQywgVGltZXIgQiBpcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGF0IGEgc2VuZGVyXG4gICAgICAgIC8vIHdpbGwgd2FpdCBmb3IgYW4gSU5WSVRFIG1lc3NhZ2UgdG8gYmUgYWNrbm93bGVkZ2VkIChhIFNJUCByZXNwb25zZSBtZXNzYWdlIGlzIHJlY2VpdmVkKS5cbiAgICAgICAgLy8gU28gVGltZXIgQiBzaG91bGQgYmUgY2xlYXJlZCB3aGVuIHRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBwcm9jZWVkcyBmcm9tIFwiQ2FsbGluZ1wiLlxuICAgICAgICBfdGhpcy5CID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9CKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9CKTtcbiAgICAgICAgX3RoaXMuc2VuZChyZXF1ZXN0LnRvU3RyaW5nKCkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgaW5pdGlhbCBvdXRnb2luZyByZXF1ZXN0LlwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuQikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuQik7XG4gICAgICAgICAgICB0aGlzLkIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuRCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuRCk7XG4gICAgICAgICAgICB0aGlzLkQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuTSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuTSk7XG4gICAgICAgICAgICB0aGlzLk0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLCBcImtpbmRcIiwge1xuICAgICAgICAvKiogVHJhbnNhY3Rpb24ga2luZC4gRGVwcmVjYXRlZC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJpY3RcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQUNLIGEgMnh4IGZpbmFsIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogVGhlIHRyYW5zYWN0aW9uIGluY2x1ZGVzIHRoZSBBQ0sgb25seSBpZiB0aGUgZmluYWwgcmVzcG9uc2Ugd2FzIG5vdCBhIDJ4eCByZXNwb25zZSAodGhlXG4gICAgICogdHJhbnNhY3Rpb24gd2lsbCBnZW5lcmF0ZSBhbmQgc2VuZCB0aGUgQUNLIHRvIHRoZSB0cmFuc3BvcnQgYXV0b21hZ2ljYWxseSkuIElmIHRoZVxuICAgICAqIGZpbmFsIHJlc3BvbnNlIHdhcyBhIDJ4eCwgdGhlIEFDSyBpcyBub3QgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSB0cmFuc2FjdGlvbiAodGhlXG4gICAgICogdHJhbnNhY3Rpb24gdXNlciBuZWVkcyB0byBnZW5lcmF0ZSBhbmQgc2VuZCB0aGUgQUNLKS5cbiAgICAgKlxuICAgICAqIFRoaXMgbGlicmFyeSBpcyBub3Qgc3RyaWN0bHkgUkZDIGNvbXBsaWFudCB3aXRoIHJlZ2FyZCB0byBBQ0sgaGFuZGxpbmcgZm9yIDJ4eCBmaW5hbFxuICAgICAqIHJlc3BvbnNlcy4gU3BlY2lmaWNhbGx5LCByZXRyYW5zbWlzc2lvbnMgb2YgQUNLcyB0byBhIDJ4eCBmaW5hbCByZXNwb25zZXMgaXMgaGFuZGxlZFxuICAgICAqIGJ5IHRoZSB0cmFuc2FjdGlvbiBsYXllciAoaW5zdGVhZCBvZiB0aGUgVUFDIGNvcmUpLiBUaGUgXCJzdGFuZGFyZFwiIGFwcHJvYWNoIGlzIGZvclxuICAgICAqIHRoZSBVQUMgY29yZSB0byByZWNlaXZlIGFsbCAyeHggcmVzcG9uc2VzIGFuZCBtYW5hZ2Ugc2VuZGluZyBBQ0sgcmV0cmFuc21pc3Npb25zIHRvXG4gICAgICogdGhlIHRyYW5zcG9ydCBkaXJlY3RseS4gSGVyZWluIHRoZSB0cmFuc2FjdGlvbiBsYXllciBtYW5hZ2VzIHNlbmRpbmcgQUNLcyB0byAyeHggcmVzcG9uc2VzXG4gICAgICogYW5kIGFueSByZXRyYW5zbWlzc2lvbnMgb2YgdGhvc2UgQUNLcyBhcyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWNrIC0gVGhlIG91dGdvaW5nIEFDSyByZXF1ZXN0LlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5hY2tSZXNwb25zZSA9IGZ1bmN0aW9uIChhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRvVGFnID0gYWNrLnRvVGFnO1xuICAgICAgICBpZiAoIXRvVGFnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUbyB0YWcgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWQgPSBcIno5aEc0YktcIiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKTtcbiAgICAgICAgYWNrLnNldFZpYUhlYWRlcihpZCwgdGhpcy50cmFuc3BvcnQucHJvdG9jb2wpO1xuICAgICAgICB0aGlzLmFja1JldHJhbnNtaXNzaW9uQ2FjaGUuc2V0KHRvVGFnLCBhY2spOyAvLyBBZGQgdG8gQUNLIHJldHJhbnNtaXNzaW9uIGNhY2hlXG4gICAgICAgIHRoaXMuc2VuZChhY2sudG9TdHJpbmcoKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCBBQ0sgdG8gMnh4IHJlc3BvbnNlLlwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBpbmNvbWluZyByZXNwb25zZXMgZnJvbSB0aGUgdHJhbnNwb3J0IHdoaWNoIG1hdGNoIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgICogQHBhcmFtIHJlc3BvbnNlIC0gVGhlIGluY29taW5nIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgICBpZiAoIXN0YXR1c0NvZGUgfHwgc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXR1cyBjb2RlIFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5DYWxsaW5nOlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gcmVjZWl2ZXMgYSBwcm92aXNpb25hbCByZXNwb25zZSB3aGlsZSBpblxuICAgICAgICAgICAgICAgIC8vIHRoZSBcIkNhbGxpbmdcIiBzdGF0ZSwgaXQgdHJhbnNpdGlvbnMgdG8gdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlLiBJbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBcIlByb2NlZWRpbmdcIiBzdGF0ZSwgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiBTSE9VTEQgTk9UIHJldHJhbnNtaXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gcmVxdWVzdCBhbnkgbG9uZ2VyLiBGdXJ0aGVybW9yZSwgdGhlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAvLyBwYXNzZWQgdG8gdGhlIFRVLiAgQW55IGZ1cnRoZXIgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIE1VU1QgYmUgcGFzc2VkXG4gICAgICAgICAgICAgICAgLy8gdXAgdG8gdGhlIFRVIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMS4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBhIDJ4eCByZXNwb25zZSBpcyByZWNlaXZlZCB3aGlsZSBpbiBlaXRoZXIgdGhlIFwiQ2FsbGluZ1wiIG9yXG4gICAgICAgICAgICAgICAgLy8gXCJQcm9jZWVkaW5nXCIgc3RhdGVzLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUuLi4gVGhlIDJ4eCByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB1cCB0byB0aGUgVFUuXG4gICAgICAgICAgICAgICAgLy8gVGhlIGNsaWVudCB0cmFuc2FjdGlvbiBNVVNUIE5PVCBnZW5lcmF0ZSBhbiBBQ0sgdG8gdGhlIDJ4eCByZXNwb25zZSAtLSBpdHNcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGluZyBpcyBkZWxlZ2F0ZWQgdG8gdGhlIFRVLiBBIFVBQyBjb3JlIHdpbGwgc2VuZCBhbiBBQ0sgdG9cbiAgICAgICAgICAgICAgICAvLyB0aGUgMnh4IHJlc3BvbnNlIHVzaW5nIGEgbmV3IHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC40XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gMjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWNrUmV0cmFuc21pc3Npb25DYWNoZS5zZXQocmVzcG9uc2UudG9UYWcsIHVuZGVmaW5lZCk7IC8vIFByaW1lIHRoZSBBQ0sgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBpbiBlaXRoZXIgdGhlIFwiQ2FsbGluZ1wiIG9yIFwiUHJvY2VlZGluZ1wiIHN0YXRlcywgcmVjZXB0aW9uIG9mXG4gICAgICAgICAgICAgICAgLy8gYSByZXNwb25zZSB3aXRoIHN0YXR1cyBjb2RlIGZyb20gMzAwLTY5OSBNVVNUIGNhdXNlIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbiB0byB0cmFuc2l0aW9uIHRvIFwiQ29tcGxldGVkXCIuIFRoZSBjbGllbnQgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICAvLyBNVVNUIHBhc3MgdGhlIHJlY2VpdmVkIHJlc3BvbnNlIHVwIHRvIHRoZSBUVSwgYW5kIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbiBNVVNUIGdlbmVyYXRlIGFuIEFDSyByZXF1ZXN0LCBldmVuIGlmIHRoZSB0cmFuc3BvcnQgaXNcbiAgICAgICAgICAgICAgICAvLyByZWxpYWJsZSAoZ3VpZGVsaW5lcyBmb3IgY29uc3RydWN0aW5nIHRoZSBBQ0sgZnJvbSB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyBhcmUgZ2l2ZW4gaW4gU2VjdGlvbiAxNy4xLjEuMyksIGFuZCB0aGVuIHBhc3MgdGhlIEFDSyB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbi4gVGhlIEFDSyBNVVNUIGJlIHNlbnQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gc2FtZSBhZGRyZXNzLCBwb3J0LCBhbmQgdHJhbnNwb3J0IHRvIHdoaWNoIHRoZSBvcmlnaW5hbCByZXF1ZXN0IHdhcyBzZW50LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC40XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMzAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIE5PVCByZXRyYW5zbWl0IHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgYW55IGxvbmdlci4gRnVydGhlcm1vcmUsIHRoZSBwcm92aXNpb25hbCByZXNwb25zZSBNVVNUIGJlXG4gICAgICAgICAgICAgICAgLy8gcGFzc2VkIHRvIHRoZSBUVS4gIEFueSBmdXJ0aGVyIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBNVVNUIGJlIHBhc3NlZFxuICAgICAgICAgICAgICAgIC8vIHVwIHRvIHRoZSBUVSB3aGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDEwMCAmJiBzdGF0dXNDb2RlIDw9IDE5OSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGEgMnh4IHJlc3BvbnNlIGlzIHJlY2VpdmVkIHdoaWxlIGluIGVpdGhlciB0aGUgXCJDYWxsaW5nXCIgb3IgXCJQcm9jZWVkaW5nXCIgc3RhdGVzLFxuICAgICAgICAgICAgICAgIC8vIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUuLi5cbiAgICAgICAgICAgICAgICAvLyBUaGUgMnh4IHJlc3BvbnNlIE1VU1QgYmUgcGFzc2VkIHVwIHRvIHRoZSBUVS4gVGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIE1VU1QgTk9UIGdlbmVyYXRlIGFuIEFDSyB0byB0aGUgMnh4IHJlc3BvbnNlIC0tIGl0c1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nIGlzIGRlbGVnYXRlZCB0byB0aGUgVFUuIEEgVUFDIGNvcmUgd2lsbCBzZW5kIGFuIEFDSyB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZSAyeHggcmVzcG9uc2UgdXNpbmcgYSBuZXcgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAyMDAgJiYgc3RhdHVzQ29kZSA8PSAyOTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2tSZXRyYW5zbWlzc2lvbkNhY2hlLnNldChyZXNwb25zZS50b1RhZywgdW5kZWZpbmVkKTsgLy8gUHJpbWUgdGhlIEFDSyBjYWNoZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQWNjZXB0ZWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGluIGVpdGhlciB0aGUgXCJDYWxsaW5nXCIgb3IgXCJQcm9jZWVkaW5nXCIgc3RhdGVzLCByZWNlcHRpb24gb2ZcbiAgICAgICAgICAgICAgICAvLyBhIHJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGUgZnJvbSAzMDAtNjk5IE1VU1QgY2F1c2UgdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIHRvIHRyYW5zaXRpb24gdG8gXCJDb21wbGV0ZWRcIi4gVGhlIGNsaWVudCB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgIC8vIE1VU1QgcGFzcyB0aGUgcmVjZWl2ZWQgcmVzcG9uc2UgdXAgdG8gdGhlIFRVLCBhbmQgdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIE1VU1QgZ2VuZXJhdGUgYW4gQUNLIHJlcXVlc3QsIGV2ZW4gaWYgdGhlIHRyYW5zcG9ydCBpc1xuICAgICAgICAgICAgICAgIC8vIHJlbGlhYmxlIChndWlkZWxpbmVzIGZvciBjb25zdHJ1Y3RpbmcgdGhlIEFDSyBmcm9tIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIGFyZSBnaXZlbiBpbiBTZWN0aW9uIDE3LjEuMS4zKSwgYW5kIHRoZW4gcGFzcyB0aGUgQUNLIHRvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLiBUaGUgQUNLIE1VU1QgYmUgc2VudCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyBzYW1lIGFkZHJlc3MsIHBvcnQsIGFuZCB0cmFuc3BvcnQgdG8gd2hpY2ggdGhlIG9yaWdpbmFsIHJlcXVlc3Qgd2FzIHNlbnQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAzMDAgJiYgc3RhdHVzQ29kZSA8PSA2OTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZDpcbiAgICAgICAgICAgICAgICAvLyBUaGUgcHVycG9zZSBvZiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlIGlzIHRvIGFsbG93IHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbiB0byBjb250aW51ZSB0byBleGlzdCB0byByZWNlaXZlLCBhbmQgcGFzcyB0byB0aGUgVFUsXG4gICAgICAgICAgICAgICAgLy8gYW55IHJldHJhbnNtaXNzaW9ucyBvZiB0aGUgMnh4IHJlc3BvbnNlIGFuZCBhbnkgYWRkaXRpb25hbCAyeHhcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgZnJvbSBvdGhlciBicmFuY2hlcyBvZiB0aGUgSU5WSVRFIGlmIGl0IGZvcmtlZFxuICAgICAgICAgICAgICAgIC8vIGRvd25zdHJlYW0uIFRpbWVyIE0gcmVmbGVjdHMgdGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gdXNlciB3aWxsIHdhaXQgZm9yIHN1Y2ggbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBBbnkgMnh4IHJlc3BvbnNlcyB0aGF0IG1hdGNoIHRoaXMgY2xpZW50IHRyYW5zYWN0aW9uIGFuZCB0aGF0IGFyZVxuICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUgTVVTVCBiZSBwYXNzZWQgdXAgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gVFUuIFRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCBOT1QgZ2VuZXJhdGUgYW4gQUNLIHRvIHRoZSAyeHhcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZS4gVGhlIGNsaWVudCB0cmFuc2FjdGlvbiB0YWtlcyBubyBmdXJ0aGVyIGFjdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguNFxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDIwMCAmJiBzdGF0dXNDb2RlIDw9IDI5OSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGhlcmVpbiBpcyBpbnRlbnRpb25hbGx5IG5vdCBSRkMgY29tcGxpYW50LlxuICAgICAgICAgICAgICAgICAgICAvLyBXaGlsZSB0aGUgZmlyc3QgMnh4IHJlc3BvbnNlIGZvciBhIGdpdmVuIGJyYW5jaCBpcyBwYXNzZWQgdXAgdG8gdGhlIFRVLFxuICAgICAgICAgICAgICAgICAgICAvLyByZXRyYW5zbWlzc2lvbnMgb2YgMnh4IHJlc3BvbnNlcyBhcmUgYWJzb3JiZWQgYW5kIHRoZSBBQ0sgYXNzb2NpYXRlZFxuICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIHRoZSBvcmlnaW5hbCByZXNwb25zZSBpcyByZXNlbnQuIFRoaXMgYXBwcm9hY2ggaXMgdGFrZW4gYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAvLyBvdXIgY3VycmVudCB0cmFuc2FjdGlvbiB1c2VycyBhcmUgbm90IGN1cnJlbnRseSBpbiBhIGdvb2QgcG9zaXRpb24gdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVhbCB3aXRoIDJ4eCByZXRyYW5zbWlzc2lvbi4gVGhpcyBTSE9VTEQgTk9UIGNhdXNlIGFueSBjb21wbGlhbmNlIGlzc3VlcyAtIDspXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjYWNoZSBoaXQsIHBhc3MgdGhlIHJlc3BvbnNlIHRvIHRoZSBUVS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFja1JldHJhbnNtaXNzaW9uQ2FjaGUuaGFzKHJlc3BvbnNlLnRvVGFnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2tSZXRyYW5zbWlzc2lvbkNhY2hlLnNldChyZXNwb25zZS50b1RhZywgdW5kZWZpbmVkKTsgLy8gUHJpbWUgdGhlIEFDSyBjYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgY2FjaGUgaGl0LCB0cnkgcHVsbGluZyB0aGUgQUNLIGZyb20gY2FjaGUgYW5kIHJldHJhbnNtaXR0aW5nIGl0LlxuICAgICAgICAgICAgICAgICAgICB2YXIgYWNrID0gdGhpcy5hY2tSZXRyYW5zbWlzc2lvbkNhY2hlLmdldChyZXNwb25zZS50b1RhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChhY2sudG9TdHJpbmcoKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgcmV0cmFuc21pc3Npb24gb2YgQUNLIHRvIDJ4eCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbiBBQ0sgd2FzIG5vdCBmb3VuZCBpbiBjYWNoZSB0aGVuIHdlIGhhdmUgcmVjZWl2ZWQgYSByZXRyYW5zbWl0dGVkIDJ4eFxuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZSBiZWZvcmUgdGhlIFRVIHJlc3BvbmRlZCB0byB0aGUgb3JpZ2luYWwgcmVzcG9uc2UgKHdlIGRvbid0IGhhdmUgYW4gQUNLIHlldCkuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvIGRpc2NhcmQgdGhpcyByZXNwb25zZSB1bmRlciB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoZSBUVSB3aWxsIGV2ZW50dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHVzIGEgQUNLIGZvciB0aGUgb3JpZ2luYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQ6XG4gICAgICAgICAgICAgICAgLy8gQW55IHJldHJhbnNtaXNzaW9ucyBvZiBhIHJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGUgMzAwLTY5OSB0aGF0XG4gICAgICAgICAgICAgICAgLy8gYXJlIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlIE1VU1QgY2F1c2UgdGhlIEFDSyB0b1xuICAgICAgICAgICAgICAgIC8vIGJlIHJlLXBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGZvciByZXRyYW5zbWlzc2lvbiwgYnV0IHRoZVxuICAgICAgICAgICAgICAgIC8vIG5ld2x5IHJlY2VpdmVkIHJlc3BvbnNlIE1VU1QgTk9UIGJlIHBhc3NlZCB1cCB0byB0aGUgVFUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAzMDAgJiYgc3RhdHVzQ29kZSA8PSA2OTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2socmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFueSByZXNwb25zZSByZWNlaXZlZCB0aGF0IGRvZXMgbm90IG1hdGNoIGFuIGV4aXN0aW5nIGNsaWVudFxuICAgICAgICAvLyB0cmFuc2FjdGlvbiBzdGF0ZSBtYWNoaW5lIGlzIHNpbXBseSBkcm9wcGVkLiAoSW1wbGVtZW50YXRpb25zIGFyZSxcbiAgICAgICAgLy8gb2YgY291cnNlLCBmcmVlIHRvIGxvZyBvciBkbyBvdGhlciBpbXBsZW1lbnRhdGlvbi1zcGVjaWZpYyB0aGluZ3NcbiAgICAgICAgLy8gd2l0aCBzdWNoIHJlc3BvbnNlcywgYnV0IHRoZSBpbXBsZW1lbnRlciBzaG91bGQgYmUgc3VyZSB0byBjb25zaWRlclxuICAgICAgICAvLyB0aGUgaW1wYWN0IG9mIGxhcmdlIG51bWJlcnMgb2YgbWFsaWNpb3VzIHN0cmF5IHJlc3BvbnNlcy4pXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tNy4yXG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJSZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLlwiO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHRyYW5zYWN0aW9uIFNIT1VMRCBpbmZvcm0gdGhlIFRVIHRoYXQgYSB0cmFuc3BvcnQgZmFpbHVyZVxuICAgICAqIGhhcyBvY2N1cnJlZCwgYW5kIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIHRyYW5zaXRpb24gZGlyZWN0bHlcbiAgICAgKiB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuICBUaGUgVFUgd2lsbCBoYW5kbGUgdGhlIGZhaWxvdmVyXG4gICAgICogbWVjaGFuaXNtcyBkZXNjcmliZWQgaW4gWzRdLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS40XG4gICAgICogQHBhcmFtIGVycm9yIC0gVGhlIGVycm9yLlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZXIub25UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkLCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKiBGb3IgbG9nZ2luZy4gKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudHlwZVRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJJTlZJVEUgY2xpZW50IHRyYW5zYWN0aW9uXCI7XG4gICAgfTtcbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuYWNrID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFRoZSBBQ0sgcmVxdWVzdCBjb25zdHJ1Y3RlZCBieSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgY29udGFpblxuICAgICAgICAvLyB2YWx1ZXMgZm9yIHRoZSBDYWxsLUlELCBGcm9tLCBhbmQgUmVxdWVzdC1VUkkgdGhhdCBhcmUgZXF1YWwgdG8gdGhlXG4gICAgICAgIC8vIHZhbHVlcyBvZiB0aG9zZSBoZWFkZXIgZmllbGRzIGluIHRoZSByZXF1ZXN0IHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0XG4gICAgICAgIC8vIGJ5IHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gKGNhbGwgdGhpcyB0aGUgXCJvcmlnaW5hbCByZXF1ZXN0XCIpLiBUaGUgVG9cbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIGluIHRoZSBBQ0sgTVVTVCBlcXVhbCB0aGUgVG8gaGVhZGVyIGZpZWxkIGluIHRoZVxuICAgICAgICAvLyByZXNwb25zZSBiZWluZyBhY2tub3dsZWRnZWQsIGFuZCB0aGVyZWZvcmUgd2lsbCB1c3VhbGx5IGRpZmZlciBmcm9tXG4gICAgICAgIC8vIHRoZSBUbyBoZWFkZXIgZmllbGQgaW4gdGhlIG9yaWdpbmFsIHJlcXVlc3QgYnkgdGhlIGFkZGl0aW9uIG9mIHRoZVxuICAgICAgICAvLyB0YWcgcGFyYW1ldGVyLiBUaGUgQUNLIE1VU1QgY29udGFpbiBhIHNpbmdsZSBWaWEgaGVhZGVyIGZpZWxkLCBhbmRcbiAgICAgICAgLy8gdGhpcyBNVVNUIGJlIGVxdWFsIHRvIHRoZSB0b3AgVmlhIGhlYWRlciBmaWVsZCBvZiB0aGUgb3JpZ2luYWxcbiAgICAgICAgLy8gcmVxdWVzdC4gVGhlIENTZXEgaGVhZGVyIGZpZWxkIGluIHRoZSBBQ0sgTVVTVCBjb250YWluIHRoZSBzYW1lXG4gICAgICAgIC8vIHZhbHVlIGZvciB0aGUgc2VxdWVuY2UgbnVtYmVyIGFzIHdhcyBwcmVzZW50IGluIHRoZSBvcmlnaW5hbCByZXF1ZXN0LFxuICAgICAgICAvLyBidXQgdGhlIG1ldGhvZCBwYXJhbWV0ZXIgTVVTVCBiZSBlcXVhbCB0byBcIkFDS1wiLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgSU5WSVRFIHJlcXVlc3Qgd2hvc2UgcmVzcG9uc2UgaXMgYmVpbmcgYWNrbm93bGVkZ2VkIGhhZCBSb3V0ZVxuICAgICAgICAvLyBoZWFkZXIgZmllbGRzLCB0aG9zZSBoZWFkZXIgZmllbGRzIE1VU1QgYXBwZWFyIGluIHRoZSBBQ0suIFRoaXMgaXNcbiAgICAgICAgLy8gdG8gZW5zdXJlIHRoYXQgdGhlIEFDSyBjYW4gYmUgcm91dGVkIHByb3Blcmx5IHRocm91Z2ggYW55IGRvd25zdHJlYW1cbiAgICAgICAgLy8gc3RhdGVsZXNzIHByb3hpZXMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4xLjNcbiAgICAgICAgdmFyIHJ1cmkgPSB0aGlzLnJlcXVlc3QucnVyaTtcbiAgICAgICAgdmFyIGNhbGxJZCA9IHRoaXMucmVxdWVzdC5jYWxsSWQ7XG4gICAgICAgIHZhciBjc2VxID0gdGhpcy5yZXF1ZXN0LmNzZXE7XG4gICAgICAgIHZhciBmcm9tID0gdGhpcy5yZXF1ZXN0LmdldEhlYWRlcihcImZyb21cIik7XG4gICAgICAgIHZhciB0byA9IHJlc3BvbnNlLmdldEhlYWRlcihcInRvXCIpO1xuICAgICAgICB2YXIgdmlhID0gdGhpcy5yZXF1ZXN0LmdldEhlYWRlcihcInZpYVwiKTtcbiAgICAgICAgdmFyIHJvdXRlID0gdGhpcy5yZXF1ZXN0LmdldEhlYWRlcihcInJvdXRlXCIpO1xuICAgICAgICBpZiAoIWZyb20pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZyb20gdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRvKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUbyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmlhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWaWEgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWNrID0gXCJBQ0sgXCIgKyBydXJpICsgXCIgU0lQLzIuMFxcclxcblwiO1xuICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgIGFjayArPSBcIlJvdXRlOiBcIiArIHJvdXRlICsgXCJcXHJcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBhY2sgKz0gXCJWaWE6IFwiICsgdmlhICsgXCJcXHJcXG5cIjtcbiAgICAgICAgYWNrICs9IFwiVG86IFwiICsgdG8gKyBcIlxcclxcblwiO1xuICAgICAgICBhY2sgKz0gXCJGcm9tOiBcIiArIGZyb20gKyBcIlxcclxcblwiO1xuICAgICAgICBhY2sgKz0gXCJDYWxsLUlEOiBcIiArIGNhbGxJZCArIFwiXFxyXFxuXCI7XG4gICAgICAgIGFjayArPSBcIkNTZXE6IFwiICsgY3NlcSArIFwiIEFDS1xcclxcblwiO1xuICAgICAgICBhY2sgKz0gXCJNYXgtRm9yd2FyZHM6IDcwXFxyXFxuXCI7XG4gICAgICAgIGFjayArPSBcIkNvbnRlbnQtTGVuZ3RoOiAwXFxyXFxuXFxyXFxuXCI7XG4gICAgICAgIC8vIFRPT086IFwiVXNlci1BZ2VudFwiIGhlYWRlclxuICAgICAgICB0aGlzLnNlbmQoYWNrKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIEFDSyB0byBub24tMnh4IHJlc3BvbnNlLlwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYSBzdGF0ZSB0cmFuc2l0aW9uLlxuICAgICAqIEBwYXJhbSBuZXdTdGF0ZSAtIE5ldyBzdGF0ZS5cbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuc3RhdGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBkdWVUb1RyYW5zcG9ydEVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChkdWVUb1RyYW5zcG9ydEVycm9yID09PSB2b2lkIDApIHsgZHVlVG9UcmFuc3BvcnRFcnJvciA9IGZhbHNlOyB9XG4gICAgICAgIC8vIEFzc2VydCB2YWxpZCBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgICAgdmFyIGludmFsaWRTdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBcIiArIF90aGlzLnN0YXRlICsgXCIgdG8gXCIgKyBuZXdTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNhbGxpbmc6XG4gICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNhbGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkOlxuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ2FsbGluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNhbGxpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkdWVUb1RyYW5zcG9ydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGlsZSBub3Qgc3BlbGxlZCBvdXQgaW4gdGhlIFJGQywgVGltZXIgQiBpcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGF0IGEgc2VuZGVyXG4gICAgICAgIC8vIHdpbGwgd2FpdCBmb3IgYW4gSU5WSVRFIG1lc3NhZ2UgdG8gYmUgYWNrbm93bGVkZ2VkIChhIFNJUCByZXNwb25zZSBtZXNzYWdlIGlzIHJlY2VpdmVkKS5cbiAgICAgICAgLy8gU28gVGltZXIgQiBzaG91bGQgYmUgY2xlYXJlZCB3aGVuIHRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBwcm9jZWVkcyBmcm9tIFwiQ2FsbGluZ1wiLlxuICAgICAgICBpZiAodGhpcy5CKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5CKTtcbiAgICAgICAgICAgIHRoaXMuQiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKSB7XG4gICAgICAgICAgICAvLyBUaW1lcnMgaGF2ZSBubyBlZmZlY3Qgb24gXCJQcm9jZWVkaW5nXCIgc3RhdGUuXG4gICAgICAgICAgICAvLyBJbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgIC8vIFNIT1VMRCBOT1QgcmV0cmFuc21pdCB0aGUgcmVxdWVzdCBhbnkgbG9uZ2VyLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCBzdGFydCBUaW1lciBEIHdoZW4gaXQgZW50ZXJzIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlXG4gICAgICAgIC8vIGZvciBhbnkgcmVhc29uLCB3aXRoIGEgdmFsdWUgb2YgYXQgbGVhc3QgMzIgc2Vjb25kcyBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzLFxuICAgICAgICAvLyBhbmQgYSB2YWx1ZSBvZiB6ZXJvIHNlY29uZHMgZm9yIHJlbGlhYmxlIHRyYW5zcG9ydHMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC40XG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5EID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9EKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9EKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlLFxuICAgICAgICAvLyBhbmQgVGltZXIgTSBNVVNUIGJlIHN0YXJ0ZWQgd2l0aCBhIHZhbHVlIG9mIDY0KlQxLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguNFxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZCkge1xuICAgICAgICAgICAgdGhpcy5NID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9NKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9NKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmNlIHRoZSB0cmFuc2FjdGlvbiBpcyBpbiB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUsIGl0IE1VU1QgYmUgZGVzdHJveWVkIGltbWVkaWF0ZWx5LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguN1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiB0aW1lciBBIGZpcmVzLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgcmV0cmFuc21pdCB0aGVcbiAgICAgKiByZXF1ZXN0IGJ5IHBhc3NpbmcgaXQgdG8gdGhlIHRyYW5zcG9ydCBsYXllciwgYW5kIE1VU1QgcmVzZXQgdGhlXG4gICAgICogdGltZXIgd2l0aCBhIHZhbHVlIG9mIDIqVDEuXG4gICAgICogV2hlbiB0aW1lciBBIGZpcmVzIDIqVDEgc2Vjb25kcyBsYXRlciwgdGhlIHJlcXVlc3QgTVVTVCBiZVxuICAgICAqIHJldHJhbnNtaXR0ZWQgYWdhaW4gKGFzc3VtaW5nIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gaXMgc3RpbGwgaW4gdGhpc1xuICAgICAqIHN0YXRlKS4gVGhpcyBwcm9jZXNzIE1VU1QgY29udGludWUgc28gdGhhdCB0aGUgcmVxdWVzdCBpc1xuICAgICAqIHJldHJhbnNtaXR0ZWQgd2l0aCBpbnRlcnZhbHMgdGhhdCBkb3VibGUgYWZ0ZXIgZWFjaCB0cmFuc21pc3Npb24uXG4gICAgICogVGhlc2UgcmV0cmFuc21pc3Npb25zIFNIT1VMRCBvbmx5IGJlIGRvbmUgd2hpbGUgdGhlIGNsaWVudFxuICAgICAqIHRyYW5zYWN0aW9uIGlzIGluIHRoZSBcIkNhbGxpbmdcIiBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMS4yXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0EgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gaXMgc3RpbGwgaW4gdGhlIFwiQ2FsbGluZ1wiIHN0YXRlIHdoZW4gdGltZXJcbiAgICAgKiBCIGZpcmVzLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIFNIT1VMRCBpbmZvcm0gdGhlIFRVIHRoYXQgYSB0aW1lb3V0XG4gICAgICogaGFzIG9jY3VycmVkLiAgVGhlIGNsaWVudCB0cmFuc2FjdGlvbiBNVVNUIE5PVCBnZW5lcmF0ZSBhbiBBQ0suXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9CID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlRpbWVyIEIgZXhwaXJlZCBmb3IgSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiBcIiArIHRoaXMuaWQgKyBcIi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ2FsbGluZykge1xuICAgICAgICAgICAgdGhpcy5vblJlcXVlc3RUaW1lb3V0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIFRpbWVyIEQgZmlyZXMgd2hpbGUgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiBpcyBpbiB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSxcbiAgICAgKiB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgbW92ZSB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudGltZXJfRCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJUaW1lciBEIGV4cGlyZWQgZm9yIElOVklURSBjbGllbnQgdHJhbnNhY3Rpb24gXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBUaW1lciBNIGZpcmVzIHdoaWxlIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gaXMgaW4gdGhlIFwiQWNjZXB0ZWRcIlxuICAgICAqIHN0YXRlLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgbW92ZSB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudGltZXJfTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJUaW1lciBNIGV4cGlyZWQgZm9yIElOVklURSBjbGllbnQgdHJhbnNhY3Rpb24gXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbn0oY2xpZW50X3RyYW5zYWN0aW9uXzEuQ2xpZW50VHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24gPSBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtY2xpZW50XCIpO1xuLyoqXG4gKiBCWUUgVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgQnllVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJ5ZVVzZXJBZ2VudENsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCeWVVc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5CWUUsIG9wdGlvbnMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIGRpYWxvZy5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJ5ZVVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuQnllVXNlckFnZW50Q2xpZW50ID0gQnllVXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBCWUUgVUFTLlxuICogQHB1YmxpY1xuICovXG52YXIgQnllVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJ5ZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCeWVVc2VyQWdlbnRTZXJ2ZXIoZGlhbG9nLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJ5ZVVzZXJBZ2VudFNlcnZlcjtcbn0odXNlcl9hZ2VudF9zZXJ2ZXJfMS5Vc2VyQWdlbnRTZXJ2ZXIpKTtcbmV4cG9ydHMuQnllVXNlckFnZW50U2VydmVyID0gQnllVXNlckFnZW50U2VydmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIElORk8gVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgSW5mb1VzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbmZvVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluZm9Vc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5JTkZPLCBvcHRpb25zKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBJbmZvVXNlckFnZW50Q2xpZW50O1xufSh1c2VyX2FnZW50X2NsaWVudF8xLlVzZXJBZ2VudENsaWVudCkpO1xuZXhwb3J0cy5JbmZvVXNlckFnZW50Q2xpZW50ID0gSW5mb1VzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LXNlcnZlclwiKTtcbi8qKlxuICogSU5GTyBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBJbmZvVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEluZm9Vc2VyQWdlbnRTZXJ2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5mb1VzZXJBZ2VudFNlcnZlcihkaWFsb2csIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gSW5mb1VzZXJBZ2VudFNlcnZlcjtcbn0odXNlcl9hZ2VudF9zZXJ2ZXJfMS5Vc2VyQWdlbnRTZXJ2ZXIpKTtcbmV4cG9ydHMuSW5mb1VzZXJBZ2VudFNlcnZlciA9IEluZm9Vc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIE1FU1NBR0UgVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgTWVzc2FnZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXNzYWdlVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lc3NhZ2VVc2VyQWdlbnRDbGllbnQoY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE1lc3NhZ2VVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLk1lc3NhZ2VVc2VyQWdlbnRDbGllbnQgPSBNZXNzYWdlVXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBNRVNTQUdFIFVBUy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE1lc3NhZ2VVc2VyQWdlbnRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWVzc2FnZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZXNzYWdlVXNlckFnZW50U2VydmVyKGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBNZXNzYWdlVXNlckFnZW50U2VydmVyO1xufSh1c2VyX2FnZW50X3NlcnZlcl8xLlVzZXJBZ2VudFNlcnZlcikpO1xuZXhwb3J0cy5NZXNzYWdlVXNlckFnZW50U2VydmVyID0gTWVzc2FnZVVzZXJBZ2VudFNlcnZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtY2xpZW50XCIpO1xuLyoqXG4gKiBOT1RJRlkgVUFTLlxuICogQHB1YmxpY1xuICovXG52YXIgTm90aWZ5VXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE5vdGlmeVVzZXJBZ2VudENsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOb3RpZnlVc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5OT1RJRlksIG9wdGlvbnMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE5vdGlmeVVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuTm90aWZ5VXNlckFnZW50Q2xpZW50ID0gTm90aWZ5VXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFBSQUNLIFVBQy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFByYWNrVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFByYWNrVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByYWNrVXNlckFnZW50Q2xpZW50KGRpYWxvZywgZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkaWFsb2cuY3JlYXRlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZShtZXNzYWdlc18xLkMuUFJBQ0ssIG9wdGlvbnMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIGRpYWxvZy5zaWduYWxpbmdTdGF0ZVRyYW5zaXRpb24obWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFByYWNrVXNlckFnZW50Q2xpZW50O1xufSh1c2VyX2FnZW50X2NsaWVudF8xLlVzZXJBZ2VudENsaWVudCkpO1xuZXhwb3J0cy5QcmFja1VzZXJBZ2VudENsaWVudCA9IFByYWNrVXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBQUkFDSyBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBQcmFja1VzZXJBZ2VudFNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhQcmFja1VzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcmFja1VzZXJBZ2VudFNlcnZlcihkaWFsb2csIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlIHdpdGggb2ZmZXIvYW5zd2VyIGluIGJvZHlcbiAgICAgICAgZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgX3RoaXMuZGlhbG9nID0gZGlhbG9nO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZGlhbG9nIHNpZ25hbGluZyBzdGF0ZSBvbiBhIDJ4eCByZXNwb25zZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFByYWNrVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDIwMCB9OyB9XG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlIHdpdGggb2ZmZXIvYW5zd2VyIGluIGJvZHlcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihvcHRpb25zLmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmFjY2VwdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIFByYWNrVXNlckFnZW50U2VydmVyO1xufSh1c2VyX2FnZW50X3NlcnZlcl8xLlVzZXJBZ2VudFNlcnZlcikpO1xuZXhwb3J0cy5QcmFja1VzZXJBZ2VudFNlcnZlciA9IFByYWNrVXNlckFnZW50U2VydmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFJlLUlOVklURSBVQUMuXG4gKiBAcmVtYXJrc1xuICogMTQgTW9kaWZ5aW5nIGFuIEV4aXN0aW5nIFNlc3Npb25cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTRcbiAqIDE0LjEgVUFDIEJlaGF2aW9yXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjFcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlSW52aXRlVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlSW52aXRlVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlSW52aXRlVXNlckFnZW50Q2xpZW50KGRpYWxvZywgZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkaWFsb2cuY3JlYXRlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZShtZXNzYWdlc18xLkMuSU5WSVRFLCBvcHRpb25zKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICBkaWFsb2cuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG1lc3NhZ2UpO1xuICAgICAgICAvLyBGSVhNRTogVE9ETzogbmV4dCBsaW5lIG9idmlvdXNseSBuZWVkcyB0byBiZSBpbXByb3ZlZC4uLlxuICAgICAgICBkaWFsb2cucmVpbnZpdGVVc2VyQWdlbnRDbGllbnQgPSBfdGhpczsgLy8gbGV0IHRoZSBkaWFsb2cga25vdyByZS1pbnZpdGUgcmVxdWVzdCBzZW50XG4gICAgICAgIF90aGlzLmRpYWxvZyA9IGRpYWxvZztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZUludml0ZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmF1dGhlbnRpY2F0aW9uR3VhcmQobWVzc2FnZSwgdGhpcy5kaWFsb2cpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBtZXNzYWdlLnN0YXR1c0NvZGUgPyBtZXNzYWdlLnN0YXR1c0NvZGUudG9TdHJpbmcoKSA6IFwiXCI7XG4gICAgICAgIGlmICghc3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2Ugc3RhdHVzIGNvZGUgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xMDAkLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblRyeWluZyh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Qcm9ncmVzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5kaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmFjazogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjJbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGUgd2l0aCBvZmZlci9hbnN3ZXIgaW4gYm9keVxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uQWNjZXB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25BY2NlcHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb246IHRoaXMuZGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNrOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRnb2luZ0Fja1JlcXVlc3QgPSBfdGhpcy5kaWFsb2cuYWNrKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRnb2luZ0Fja1JlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14zWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5yZWludml0ZVVzZXJBZ2VudENsaWVudCA9IHVuZGVmaW5lZDsgLy8gQUNLIHdhcyBoYW5kbGVkIGJ5IHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWRpcmVjdCh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXls0LTZdWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5yZWludml0ZVVzZXJBZ2VudENsaWVudCA9IHVuZGVmaW5lZDsgLy8gQUNLIHdhcyBoYW5kbGVkIGJ5IHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVqZWN0KHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgVUEgcmVjZWl2ZXMgYSBub24tMnh4IGZpbmFsIHJlc3BvbnNlIHRvIGEgcmUtSU5WSVRFLCB0aGUgc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICAvLyBwYXJhbWV0ZXJzIE1VU1QgcmVtYWluIHVuY2hhbmdlZCwgYXMgaWYgbm8gcmUtSU5WSVRFIGhhZCBiZWVuIGlzc3VlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0LCBhcyBzdGF0ZWQgaW4gU2VjdGlvbiAxMi4yLjEuMiwgaWYgdGhlIG5vbi0yeHggZmluYWxcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaXMgYSA0ODEgKENhbGwvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3QpLCBvciBhIDQwOFxuICAgICAgICAgICAgICAgICAgICAvLyAoUmVxdWVzdCBUaW1lb3V0KSwgb3Igbm8gcmVzcG9uc2UgYXQgYWxsIGlzIHJlY2VpdmVkIGZvciB0aGUgcmUtXG4gICAgICAgICAgICAgICAgICAgIC8vIElOVklURSAodGhhdCBpcywgYSB0aW1lb3V0IGlzIHJldHVybmVkIGJ5IHRoZSBJTlZJVEUgY2xpZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uKSwgdGhlIFVBQyB3aWxsIHRlcm1pbmF0ZSB0aGUgZGlhbG9nLlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIFVBQyByZWNlaXZlcyBhIDQ5MSByZXNwb25zZSB0byBhIHJlLUlOVklURSwgaXQgU0hPVUxEIHN0YXJ0IGFcbiAgICAgICAgICAgICAgICAgICAgLy8gdGltZXIgd2l0aCBhIHZhbHVlIFQgY2hvc2VuIGFzIGZvbGxvd3M6XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDEuIElmIHRoZSBVQUMgaXMgdGhlIG93bmVyIG9mIHRoZSBDYWxsLUlEIG9mIHRoZSBkaWFsb2cgSURcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgKG1lYW5pbmcgaXQgZ2VuZXJhdGVkIHRoZSB2YWx1ZSksIFQgaGFzIGEgcmFuZG9tbHkgY2hvc2VuIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGJldHdlZW4gMi4xIGFuZCA0IHNlY29uZHMgaW4gdW5pdHMgb2YgMTAgbXMuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDIuIElmIHRoZSBVQUMgaXMgbm90IHRoZSBvd25lciBvZiB0aGUgQ2FsbC1JRCBvZiB0aGUgZGlhbG9nIElELCBUXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGhhcyBhIHJhbmRvbWx5IGNob3NlbiB2YWx1ZSBvZiBiZXR3ZWVuIDAgYW5kIDIgc2Vjb25kcyBpbiB1bml0c1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBvZiAxMCBtcy5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgdGltZXIgZmlyZXMsIHRoZSBVQUMgU0hPVUxEIGF0dGVtcHQgdGhlIHJlLUlOVklURSBvbmNlIG1vcmUsXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IHN0aWxsIGRlc2lyZXMgZm9yIHRoYXQgc2Vzc2lvbiBtb2RpZmljYXRpb24gdG8gdGFrZSBwbGFjZS4gIEZvclxuICAgICAgICAgICAgICAgICAgICAvLyBleGFtcGxlLCBpZiB0aGUgY2FsbCB3YXMgYWxyZWFkeSBodW5nIHVwIHdpdGggYSBCWUUsIHRoZSByZS1JTlZJVEVcbiAgICAgICAgICAgICAgICAgICAgLy8gd291bGQgbm90IHRha2UgcGxhY2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTQuMVxuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhlIGFib3ZlLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZSBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVJbnZpdGVVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLlJlSW52aXRlVXNlckFnZW50Q2xpZW50ID0gUmVJbnZpdGVVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFJlLUlOVklURSBVQVMuXG4gKiBAcmVtYXJrc1xuICogMTQgTW9kaWZ5aW5nIGFuIEV4aXN0aW5nIFNlc3Npb25cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTRcbiAqIDE0LjIgVUFTIEJlaGF2aW9yXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjJcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlSW52aXRlVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlSW52aXRlVXNlckFnZW50U2VydmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlSW52aXRlVXNlckFnZW50U2VydmVyKGRpYWxvZywgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgZGlhbG9nLnJlaW52aXRlVXNlckFnZW50U2VydmVyID0gX3RoaXM7XG4gICAgICAgIF90aGlzLmRpYWxvZyA9IGRpYWxvZztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGUgb24gYSAyeHggcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBSZUludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiAyMDAgfTsgfVxuICAgICAgICAvLyBGSVhNRTogVGhlIG5leHQgdHdvIGxpbmVzIFNIT1VMRCBnbyBhd2F5LCBidXQgSSBzdXBwb3NlIGl0J3MgdGVjaG5pY2FsbHkgaGFybWxlc3MuLi5cbiAgICAgICAgLy8gVGhlc2UgYXJlIGhlcmUgYmVjYXVzZSBzb21lIHZlcnNpb25zIG9mIFNJUC5qcyBwcmlvciB0byAwLjEzLjggc2V0IHRoZSByb3V0ZSBzZXRcbiAgICAgICAgLy8gb2YgYWxsIGluIGRpYWxvZyBBQ0tzIGJhc2VkIG9uIHRoZSBSZWNvcmQtUm91dGUgaGVhZGVycyBpbiB0aGUgYXNzb2NpYXRlZCAyeHhcbiAgICAgICAgLy8gcmVzcG9uc2UuIFdoaWxlIHRoaXMgd29ya2VkIGZvciBkaWFsb2cgZm9ybWluZyAyeHggcmVzcG9uc2VzLCBpdCB3YXMgdGVjaG5pY2FsbHlcbiAgICAgICAgLy8gYnJva2VuIGZvciByZS1JTlZJVEUgQUNLUyBhcyBpdCBvbmx5IHdvcmtlZCBpZiB0aGUgVUFTIHBvcHVsYXRlZCB0aGUgUmVjb3JkLVJvdXRlXG4gICAgICAgIC8vIGhlYWRlcnMgaW4gdGhlIHJlLUlOVklURSAyeHggcmVzcG9uc2UgKHdoaWNoIGlzIG5vdCByZXF1aXJlZCBhbmQgYSB3YXN0ZSBvZiBiYW5kd2lkdGhcbiAgICAgICAgLy8gYXMgdGhlIHNob3VsZCBiZSBpZ25vcmVkIGlmIHByZXNlbnQgaW4gcmUtSU5WSVRFIEFDS1MpIGFuZCB0aGUgVUFTIHBvcHVsYXRlZFxuICAgICAgICAvLyB0aGUgUmVjb3JkLVJvdXRlIGhlYWRlcnMgd2l0aCB0aGUgY29ycmVjdCB2YWx1ZXMgKHdvdWxkIGJlIHdlaXJkIG5vdCB0b28sIGJ1dC4uLikuXG4gICAgICAgIC8vIEFueXdheSwgZm9yIG5vdyB0aGUgdGVjaG5pY2FsbHkgdXNlbGVzcyBSZWNvcmQtUm91dGUgaGVhZGVycyBhcmUgYmVpbmcgYWRkZWRcbiAgICAgICAgLy8gdG8gbWFpbnRhaW4gXCJiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVwiIHdpdGggdGhlIG9sZGVyIGJyb2tlbiB2ZXJzaW9ucyBvZiBTSVAuanMuXG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW107XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMuY29uY2F0KHRoaXMuZGlhbG9nLnJvdXRlU2V0Lm1hcChmdW5jdGlvbiAocm91dGUpIHsgcmV0dXJuIFwiUmVjb3JkLVJvdXRlOiBcIiArIHJvdXRlOyB9KSk7XG4gICAgICAgIC8vIFNlbmQgYW5kIHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3N1cGVyLnByb3RvdHlwZS5hY2NlcHQuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLmRpYWxvZztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRzbGliXzEuX19hc3NpZ24odHNsaWJfMS5fX2Fzc2lnbih7fSwgcmVzcG9uc2UpLCB7IHNlc3Npb246IHNlc3Npb24gfSk7XG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlIHdpdGggb2ZmZXIvYW5zd2VyIGluIGJvZHlcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihvcHRpb25zLmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBkaWFsb2dcbiAgICAgICAgdGhpcy5kaWFsb2cucmVDb25maXJtKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGUgb24gYSAxeHggcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBQcm9ncmVzcyBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBSZUludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDE4MCB9OyB9XG4gICAgICAgIC8vIFNlbmQgYW5kIHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3N1cGVyLnByb3RvdHlwZS5wcm9ncmVzcy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZGlhbG9nO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHNsaWJfMS5fX2Fzc2lnbih0c2xpYl8xLl9fYXNzaWduKHt9LCByZXNwb25zZSksIHsgc2Vzc2lvbjogc2Vzc2lvbiB9KTtcbiAgICAgICAgLy8gVXBkYXRlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGVcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2cuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG9wdGlvbnMuYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRPRE86IE5vdCBZZXQgU3VwcG9ydGVkXG4gICAgICogQHBhcmFtIGNvbnRhY3RzIC0gQ29udGFjdHMgdG8gcmVkaXJlY3QgdG8uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZWRpcmVjdCBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBSZUludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucmVkaXJlY3QgPSBmdW5jdGlvbiAoY29udGFjdHMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiAzMDIgfTsgfVxuICAgICAgICB0aGlzLmRpYWxvZy5zaWduYWxpbmdTdGF0ZVJvbGxiYWNrKCk7XG4gICAgICAgIHRoaXMuZGlhbG9nLnJlaW52aXRlVXNlckFnZW50U2VydmVyID0gdW5kZWZpbmVkOyAvLyBBQ0sgd2lsbCBiZSBoYW5kbGVkIGJ5IHRyYW5zYWN0aW9uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogMy4xIEJhY2tncm91bmQgb24gUmUtSU5WSVRFIEhhbmRsaW5nIGJ5IFVBU3NcbiAgICAgKiBBbiBlcnJvciByZXNwb25zZSB0byBhIHJlLUlOVklURSBoYXMgdGhlIGZvbGxvd2luZyBzZW1hbnRpY3MuICBBc1xuICAgICAqIHNwZWNpZmllZCBpbiBTZWN0aW9uIDEyLjIuMiBvZiBSRkMgMzI2MSBbUkZDMzI2MV0sIGlmIGEgcmUtSU5WSVRFIGlzXG4gICAgICogcmVqZWN0ZWQsIG5vIHN0YXRlIGNoYW5nZXMgYXJlIHBlcmZvcm1lZC5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjE0MSNzZWN0aW9uLTMuMVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVqZWN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFJlSW52aXRlVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDQ4OCB9OyB9XG4gICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2soKTtcbiAgICAgICAgdGhpcy5kaWFsb2cucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIgPSB1bmRlZmluZWQ7IC8vIEFDSyB3aWxsIGJlIGhhbmRsZWQgYnkgdHJhbnNhY3Rpb25cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVqZWN0LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVJbnZpdGVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlSW52aXRlVXNlckFnZW50U2VydmVyID0gUmVJbnZpdGVVc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIG1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vbWVzc2FnZXNcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogUkVGRVIgVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgUmVmZXJVc2VyQWdlbnRDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmZXJVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmZXJVc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5SRUZFUiwgb3B0aW9ucyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVmZXJVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLlJlZmVyVXNlckFnZW50Q2xpZW50ID0gUmVmZXJVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFJFRkVSIFVBUy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlZmVyVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZmVyVXNlckFnZW50U2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIFJFRkVSIFVBUyBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gZGlhbG9nT3JDb3JlIC0gRGlhbG9nIGZvciBpbiBkaWFsb2cgUkVGRVIsIFVzZXJBZ2VudENvcmUgZm9yIG91dCBvZiBkaWFsb2cgUkVGRVIuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyBSRUZFUiByZXF1ZXN0IG1lc3NhZ2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVmZXJVc2VyQWdlbnRTZXJ2ZXIoZGlhbG9nT3JDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdXNlckFnZW50Q29yZSA9IGluc3RhbmNlT2ZTZXNzaW9uRGlhbG9nKGRpYWxvZ09yQ29yZSkgP1xuICAgICAgICAgICAgZGlhbG9nT3JDb3JlLnVzZXJBZ2VudENvcmUgOlxuICAgICAgICAgICAgZGlhbG9nT3JDb3JlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLCB1c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVmZXJVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlZmVyVXNlckFnZW50U2VydmVyID0gUmVmZXJVc2VyQWdlbnRTZXJ2ZXI7XG5mdW5jdGlvbiBpbnN0YW5jZU9mU2Vzc2lvbkRpYWxvZyhvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0LnVzZXJBZ2VudENvcmUgIT09IHVuZGVmaW5lZDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciBzdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9zdWJzY3JpcHRpb25cIik7XG52YXIgdGltZXJzXzEgPSByZXF1aXJlKFwiLi4vdGltZXJzXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnQtY29yZS9hbGxvd2VkLW1ldGhvZHNcIik7XG52YXIgbm90aWZ5X3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbm90aWZ5LXVzZXItYWdlbnQtc2VydmVyXCIpO1xudmFyIHJlX3N1YnNjcmliZV91c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnRzL3JlLXN1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudFwiKTtcbnZhciBkaWFsb2dfMSA9IHJlcXVpcmUoXCIuL2RpYWxvZ1wiKTtcbi8qKlxuICogU3Vic2NyaXB0aW9uIERpYWxvZy5cbiAqIEByZW1hcmtzXG4gKiBTSVAtU3BlY2lmaWMgRXZlbnQgTm90aWZpY2F0aW9uXG4gKlxuICogQWJzdHJhY3RcbiAqXG4gKiAgICBUaGlzIGRvY3VtZW50IGRlc2NyaWJlcyBhbiBleHRlbnNpb24gdG8gdGhlIFNlc3Npb24gSW5pdGlhdGlvblxuICogICAgUHJvdG9jb2wgKFNJUCkgZGVmaW5lZCBieSBSRkMgMzI2MS4gIFRoZSBwdXJwb3NlIG9mIHRoaXMgZXh0ZW5zaW9uIGlzXG4gKiAgICB0byBwcm92aWRlIGFuIGV4dGVuc2libGUgZnJhbWV3b3JrIGJ5IHdoaWNoIFNJUCBub2RlcyBjYW4gcmVxdWVzdFxuICogICAgbm90aWZpY2F0aW9uIGZyb20gcmVtb3RlIG5vZGVzIGluZGljYXRpbmcgdGhhdCBjZXJ0YWluIGV2ZW50cyBoYXZlXG4gKiAgICBvY2N1cnJlZC5cbiAqXG4gKiAgICBOb3RlIHRoYXQgdGhlIGV2ZW50IG5vdGlmaWNhdGlvbiBtZWNoYW5pc21zIGRlZmluZWQgaGVyZWluIGFyZSBOT1RcbiAqICAgIGludGVuZGVkIHRvIGJlIGEgZ2VuZXJhbC1wdXJwb3NlIGluZnJhc3RydWN0dXJlIGZvciBhbGwgY2xhc3NlcyBvZlxuICogICAgZXZlbnQgc3Vic2NyaXB0aW9uIGFuZCBub3RpZmljYXRpb24uXG4gKlxuICogICAgVGhpcyBkb2N1bWVudCByZXByZXNlbnRzIGEgYmFja3dhcmRzLWNvbXBhdGlibGUgaW1wcm92ZW1lbnQgb24gdGhlXG4gKiAgICBvcmlnaW5hbCBtZWNoYW5pc20gZGVzY3JpYmVkIGJ5IFJGQyAzMjY1LCB0YWtpbmcgaW50byBhY2NvdW50IHNldmVyYWxcbiAqICAgIHllYXJzIG9mIGltcGxlbWVudGF0aW9uIGV4cGVyaWVuY2UuICBBY2NvcmRpbmdseSwgdGhpcyBkb2N1bWVudFxuICogICAgb2Jzb2xldGVzIFJGQyAzMjY1LiAgVGhpcyBkb2N1bWVudCBhbHNvIHVwZGF0ZXMgUkZDIDQ2NjAgc2xpZ2h0bHkgdG9cbiAqICAgIGFjY29tbW9kYXRlIHNvbWUgc21hbGwgY2hhbmdlcyB0byB0aGUgbWVjaGFuaXNtIHRoYXQgd2VyZSBkaXNjdXNzZWRcbiAqICAgIGluIHRoYXQgZG9jdW1lbnQuXG4gKlxuICogIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1XG4gKiBAcHVibGljXG4gKi9cbnZhciBTdWJzY3JpcHRpb25EaWFsb2cgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaXB0aW9uRGlhbG9nLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbkRpYWxvZyhzdWJzY3JpcHRpb25FdmVudCwgc3Vic2NyaXB0aW9uRXhwaXJlcywgc3Vic2NyaXB0aW9uU3RhdGUsIGNvcmUsIHN0YXRlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb3JlLCBzdGF0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgX3RoaXMuX2F1dG9SZWZyZXNoID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25FdmVudCA9IHN1YnNjcmlwdGlvbkV2ZW50O1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHN1YnNjcmlwdGlvbkV4cGlyZXM7XG4gICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzSW5pdGlhbCA9IHN1YnNjcmlwdGlvbkV4cGlyZXM7XG4gICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uUmVmcmVzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2hMYXN0U2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uU3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gY29yZS5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC5zdWJzY3JpYmUtZGlhbG9nXCIpO1xuICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIF90aGlzLmlkICsgXCIgY29uc3RydWN0ZWRcIik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBhIFVBQyByZWNlaXZlcyBhIHJlc3BvbnNlIHRoYXQgZXN0YWJsaXNoZXMgYSBkaWFsb2csIGl0XG4gICAgICogY29uc3RydWN0cyB0aGUgc3RhdGUgb2YgdGhlIGRpYWxvZy4gIFRoaXMgc3RhdGUgTVVTVCBiZSBtYWludGFpbmVkXG4gICAgICogZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgZGlhbG9nLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICogQHBhcmFtIG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgLSBPdXRnb2luZyByZXF1ZXN0IG1lc3NhZ2UgZm9yIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gaW5jb21pbmdSZXNwb25zZU1lc3NhZ2UgLSBJbmNvbWluZyByZXNwb25zZSBtZXNzYWdlIGNyZWF0aW5nIGRpYWxvZy5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cuaW5pdGlhbERpYWxvZ1N0YXRlRm9yU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG91dGdvaW5nU3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UsIGluY29taW5nTm90aWZ5UmVxdWVzdE1lc3NhZ2UpIHtcbiAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3Qgd2FzIHNlbnQgb3ZlciBUTFMsIGFuZCB0aGUgUmVxdWVzdC1VUkkgY29udGFpbmVkIGFcbiAgICAgICAgLy8gU0lQUyBVUkksIHRoZSBcInNlY3VyZVwiIGZsYWcgaXMgc2V0IHRvIFRSVUUuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICAgIHZhciBzZWN1cmUgPSBmYWxzZTsgLy8gRklYTUU6IEN1cnJlbnRseSBubyBzdXBwb3J0IGZvciBUTFMuXG4gICAgICAgIC8vIFRoZSByb3V0ZSBzZXQgTVVTVCBiZSBzZXQgdG8gdGhlIGxpc3Qgb2YgVVJJcyBpbiB0aGUgUmVjb3JkLVJvdXRlXG4gICAgICAgIC8vIGhlYWRlciBmaWVsZCBmcm9tIHRoZSByZXNwb25zZSwgdGFrZW4gaW4gcmV2ZXJzZSBvcmRlciBhbmQgcHJlc2VydmluZ1xuICAgICAgICAvLyBhbGwgVVJJIHBhcmFtZXRlcnMuICBJZiBubyBSZWNvcmQtUm91dGUgaGVhZGVyIGZpZWxkIGlzIHByZXNlbnQgaW5cbiAgICAgICAgLy8gdGhlIHJlc3BvbnNlLCB0aGUgcm91dGUgc2V0IE1VU1QgYmUgc2V0IHRvIHRoZSBlbXB0eSBzZXQuICBUaGlzIHJvdXRlXG4gICAgICAgIC8vIHNldCwgZXZlbiBpZiBlbXB0eSwgb3ZlcnJpZGVzIGFueSBwcmUtZXhpc3Rpbmcgcm91dGUgc2V0IGZvciBmdXR1cmVcbiAgICAgICAgLy8gcmVxdWVzdHMgaW4gdGhpcyBkaWFsb2cuICBUaGUgcmVtb3RlIHRhcmdldCBNVVNUIGJlIHNldCB0byB0aGUgVVJJXG4gICAgICAgIC8vIGZyb20gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIG9mIHRoZSByZXNwb25zZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjJcbiAgICAgICAgdmFyIHJvdXRlU2V0ID0gaW5jb21pbmdOb3RpZnlSZXF1ZXN0TWVzc2FnZS5nZXRIZWFkZXJzKFwicmVjb3JkLXJvdXRlXCIpO1xuICAgICAgICB2YXIgY29udGFjdCA9IGluY29taW5nTm90aWZ5UmVxdWVzdE1lc3NhZ2UucGFyc2VIZWFkZXIoXCJjb250YWN0XCIpO1xuICAgICAgICBpZiAoIWNvbnRhY3QpIHsgLy8gVE9ETzogUmV2aWV3IHRvIG1ha2Ugc3VyZSB0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY29udGFjdCBpbnN0YW5jZW9mIG1lc3NhZ2VzXzEuTmFtZUFkZHJIZWFkZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IG5vdCBpbnN0YW5jZSBvZiBOYW1lQWRkckhlYWRlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbW90ZVRhcmdldCA9IGNvbnRhY3QudXJpO1xuICAgICAgICAvLyBUaGUgbG9jYWwgc2VxdWVuY2UgbnVtYmVyIE1VU1QgYmUgc2V0IHRvIHRoZSB2YWx1ZSBvZiB0aGUgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVyIGluIHRoZSBDU2VxIGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdC4gIFRoZSByZW1vdGUgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVyIE1VU1QgYmUgZW1wdHkgKGl0IGlzIGVzdGFibGlzaGVkIHdoZW4gdGhlIHJlbW90ZSBVQSBzZW5kcyBhXG4gICAgICAgIC8vIHJlcXVlc3Qgd2l0aGluIHRoZSBkaWFsb2cpLiAgVGhlIGNhbGwgaWRlbnRpZmllciBjb21wb25lbnQgb2YgdGhlXG4gICAgICAgIC8vIGRpYWxvZyBJRCBNVVNUIGJlIHNldCB0byB0aGUgdmFsdWUgb2YgdGhlIENhbGwtSUQgaW4gdGhlIHJlcXVlc3QuXG4gICAgICAgIC8vIFRoZSBsb2NhbCB0YWcgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgSUQgTVVTVCBiZSBzZXQgdG8gdGhlIHRhZyBpblxuICAgICAgICAvLyB0aGUgRnJvbSBmaWVsZCBpbiB0aGUgcmVxdWVzdCwgYW5kIHRoZSByZW1vdGUgdGFnIGNvbXBvbmVudCBvZiB0aGVcbiAgICAgICAgLy8gZGlhbG9nIElEIE1VU1QgYmUgc2V0IHRvIHRoZSB0YWcgaW4gdGhlIFRvIGZpZWxkIG9mIHRoZSByZXNwb25zZS4gIEFcbiAgICAgICAgLy8gVUFDIE1VU1QgYmUgcHJlcGFyZWQgdG8gcmVjZWl2ZSBhIHJlc3BvbnNlIHdpdGhvdXQgYSB0YWcgaW4gdGhlIFRvXG4gICAgICAgIC8vIGZpZWxkLCBpbiB3aGljaCBjYXNlIHRoZSB0YWcgaXMgY29uc2lkZXJlZCB0byBoYXZlIGEgdmFsdWUgb2YgbnVsbC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgVGhpcyBpcyB0byBtYWludGFpbiBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJGQyAyNTQzLCB3aGljaFxuICAgICAgICAvLyAgICBkaWQgbm90IG1hbmRhdGUgVG8gdGFncy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjJcbiAgICAgICAgdmFyIGxvY2FsU2VxdWVuY2VOdW1iZXIgPSBvdXRnb2luZ1N1YnNjcmliZVJlcXVlc3RNZXNzYWdlLmNzZXE7XG4gICAgICAgIHZhciByZW1vdGVTZXF1ZW5jZU51bWJlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGNhbGxJZCA9IG91dGdvaW5nU3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UuY2FsbElkO1xuICAgICAgICB2YXIgbG9jYWxUYWcgPSBvdXRnb2luZ1N1YnNjcmliZVJlcXVlc3RNZXNzYWdlLmZyb21UYWc7XG4gICAgICAgIHZhciByZW1vdGVUYWcgPSBpbmNvbWluZ05vdGlmeVJlcXVlc3RNZXNzYWdlLmZyb21UYWc7XG4gICAgICAgIGlmICghY2FsbElkKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbCBpZCB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbG9jYWxUYWcpIHsgLy8gVE9ETzogUmV2aWV3IHRvIG1ha2Ugc3VyZSB0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGcm9tIHRhZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVtb3RlVGFnKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG8gdGFnIHVuZGVmaW5lZC5cIik7IC8vIEZJWE1FOiBObyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJGQyAyNTQzXG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHJlbW90ZSBVUkkgTVVTVCBiZSBzZXQgdG8gdGhlIFVSSSBpbiB0aGUgVG8gZmllbGQsIGFuZCB0aGUgbG9jYWxcbiAgICAgICAgLy8gVVJJIE1VU1QgYmUgc2V0IHRvIHRoZSBVUkkgaW4gdGhlIEZyb20gZmllbGQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICAgIGlmICghb3V0Z29pbmdTdWJzY3JpYmVSZXF1ZXN0TWVzc2FnZS5mcm9tKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3V0Z29pbmdTdWJzY3JpYmVSZXF1ZXN0TWVzc2FnZS50bykgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvY2FsVVJJID0gb3V0Z29pbmdTdWJzY3JpYmVSZXF1ZXN0TWVzc2FnZS5mcm9tLnVyaTtcbiAgICAgICAgdmFyIHJlbW90ZVVSSSA9IG91dGdvaW5nU3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UudG8udXJpO1xuICAgICAgICAvLyBBIGRpYWxvZyBjYW4gYWxzbyBiZSBpbiB0aGUgXCJlYXJseVwiIHN0YXRlLCB3aGljaCBvY2N1cnMgd2hlbiBpdCBpc1xuICAgICAgICAvLyBjcmVhdGVkIHdpdGggYSBwcm92aXNpb25hbCByZXNwb25zZSwgYW5kIHRoZW4gdHJhbnNpdGlvbiB0byB0aGVcbiAgICAgICAgLy8gXCJjb25maXJtZWRcIiBzdGF0ZSB3aGVuIGEgMnh4IGZpbmFsIHJlc3BvbnNlIGFycml2ZXMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTJcbiAgICAgICAgdmFyIGVhcmx5ID0gZmFsc2U7XG4gICAgICAgIHZhciBkaWFsb2dTdGF0ZSA9IHtcbiAgICAgICAgICAgIGlkOiBjYWxsSWQgKyBsb2NhbFRhZyArIHJlbW90ZVRhZyxcbiAgICAgICAgICAgIGVhcmx5OiBlYXJseSxcbiAgICAgICAgICAgIGNhbGxJZDogY2FsbElkLFxuICAgICAgICAgICAgbG9jYWxUYWc6IGxvY2FsVGFnLFxuICAgICAgICAgICAgcmVtb3RlVGFnOiByZW1vdGVUYWcsXG4gICAgICAgICAgICBsb2NhbFNlcXVlbmNlTnVtYmVyOiBsb2NhbFNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgcmVtb3RlU2VxdWVuY2VOdW1iZXI6IHJlbW90ZVNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgbG9jYWxVUkk6IGxvY2FsVVJJLFxuICAgICAgICAgICAgcmVtb3RlVVJJOiByZW1vdGVVUkksXG4gICAgICAgICAgICByZW1vdGVUYXJnZXQ6IHJlbW90ZVRhcmdldCxcbiAgICAgICAgICAgIHJvdXRlU2V0OiByb3V0ZVNldCxcbiAgICAgICAgICAgIHNlY3VyZTogc2VjdXJlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaWFsb2dTdGF0ZTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLk4pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLk4pO1xuICAgICAgICAgICAgdGhpcy5OID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcmVzaFRpbWVyQ2xlYXIoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiBkZXN0cm95ZWRcIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZSwgXCJhdXRvUmVmcmVzaFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9SZWZyZXNoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhdXRvUmVmcmVzaCkge1xuICAgICAgICAgICAgdGhpcy5fYXV0b1JlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGltZXJTZXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uRXZlbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25FdmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uRXhwaXJlc1wiLCB7XG4gICAgICAgIC8qKiBOdW1iZXIgb2Ygc2Vjb25kcyB1bnRpbCBzdWJzY3JpcHRpb24gZXhwaXJlcy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1NpbmNlTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIC0gdGhpcy5fc3Vic2NyaXB0aW9uRXhwaXJlc0xhc3RTZXQ7XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1VudGlsRXhwaXJlcyA9IHRoaXMuX3N1YnNjcmlwdGlvbkV4cGlyZXMgLSBzZWNvbmRzU2luY2VMYXN0U2V0O1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHNlY29uZHNVbnRpbEV4cGlyZXMsIDApO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChleHBpcmVzKSB7XG4gICAgICAgICAgICBpZiAoZXhwaXJlcyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBpcmVzIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHplcm8uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uRXhwaXJlcyA9IGV4cGlyZXM7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b1JlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHRoaXMuc3Vic2NyaXB0aW9uUmVmcmVzaDtcbiAgICAgICAgICAgICAgICBpZiAocmVmcmVzaCA9PT0gdW5kZWZpbmVkIHx8IHJlZnJlc2ggPj0gZXhwaXJlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hUaW1lclNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uRXhwaXJlc0luaXRpYWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzSW5pdGlhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uUmVmcmVzaFwiLCB7XG4gICAgICAgIC8qKiBOdW1iZXIgb2Ygc2Vjb25kcyB1bnRpbCBzdWJzY3JpcHRpb24gYXV0byByZWZyZXNoLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25SZWZyZXNoID09PSB1bmRlZmluZWQgfHwgdGhpcy5fc3Vic2NyaXB0aW9uUmVmcmVzaExhc3RTZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1NpbmNlTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIC0gdGhpcy5fc3Vic2NyaXB0aW9uUmVmcmVzaExhc3RTZXQ7XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1VudGlsRXhwaXJlcyA9IHRoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2ggLSBzZWNvbmRzU2luY2VMYXN0U2V0O1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHNlY29uZHNVbnRpbEV4cGlyZXMsIDApO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZSwgXCJzdWJzY3JpcHRpb25TdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIGluIGRpYWxvZyByZXF1ZXN0IG1lc3NhZ2UgZnJvbSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSAgVGhlIGluY29taW5nIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdFwiKTtcbiAgICAgICAgLy8gUmVxdWVzdCB3aXRoaW4gYSBkaWFsb2cgb3V0IG9mIHNlcXVlbmNlIGd1YXJkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICBpZiAoIXRoaXMuc2VxdWVuY2VHdWFyZChtZXNzYWdlKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWplY3RlZCBvdXQgb2Ygb3JkZXIgXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3QuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlcXVlc3Qgd2l0aGluIGEgZGlhbG9nIGNvbW1vbiBwcm9jZXNzaW5nLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0LmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIC8vIFN3aXRjaCBvbiBtZXRob2QgYW5kIHRoZW4gZGVsZWdhdGUuXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk5PVElGWTpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTm90aWZ5KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTVUJTQ1JJQkUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHJlY2VpdmVkIHVuaW1wbGVtZW50ZWQgXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3RcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3JlLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNTAxIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA0LjEuMi4yLiAgUmVmcmVzaGluZyBvZiBTdWJzY3JpcHRpb25zXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBvcHRpb25zID0ge307XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGFsbG93SGVhZGVyKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkV2ZW50OiBcIiArIHRoaXMuc3Vic2NyaXB0aW9uRXZlbnQpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiRXhwaXJlczogXCIgKyB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXNJbml0aWFsKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdC50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlKHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA0LjEuMi4yLiAgUmVmcmVzaGluZyBvZiBTdWJzY3JpcHRpb25zXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICogQHBhcmFtIGRlbGVnYXRlIC0gRGVsZWdhdGUgdG8gaGFuZGxlIHJlc3BvbnNlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvblN0YXRlICE9PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5QZW5kaW5nICYmIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRoaXMgbmVlZHMgdG8gYmUgYSBwcm9wZXIgZXhjZXB0aW9uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIFwiICsgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSArIFwiLiBNYXkgb25seSByZS1zdWJzY3JpYmUgd2hpbGUgaW4gc3RhdGUgXFxcInBlbmRpbmdcXFwiIG9yIFxcXCJhY3RpdmVcXFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTVUJTQ1JJQkUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgU1VCU0NSSUJFIHJlcXVlc3RcIik7XG4gICAgICAgIHZhciB1YWMgPSBuZXcgcmVfc3Vic2NyaWJlX3VzZXJfYWdlbnRfY2xpZW50XzEuUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQodGhpcywgZGVsZWdhdGUsIG9wdGlvbnMpO1xuICAgICAgICAvLyBXaGVuIHJlZnJlc2hpbmcgYSBzdWJzY3JpcHRpb24sIGEgc3Vic2NyaWJlciBzdGFydHMgVGltZXIgTiwgc2V0IHRvXG4gICAgICAgIC8vIDY0KlQxLCB3aGVuIGl0IHNlbmRzIHRoZSBTVUJTQ1JJQkUgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICAgIHRoaXMuTiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudGltZXJfTigpOyB9LCB0aW1lcnNfMS5UaW1lcnMuVElNRVJfTik7XG4gICAgICAgIHJldHVybiB1YWM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA0LjQuMS4gIERpYWxvZyBDcmVhdGlvbiBhbmQgVGVybWluYXRpb25cbiAgICAgKiBBIHN1YnNjcmlwdGlvbiBpcyBkZXN0cm95ZWQgYWZ0ZXIgYSBub3RpZmllciBzZW5kcyBhIE5PVElGWSByZXF1ZXN0XG4gICAgICogd2l0aCBhIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgb2YgXCJ0ZXJtaW5hdGVkXCIsIG9yIGluIGNlcnRhaW4gZXJyb3JcbiAgICAgKiBzaXR1YXRpb25zIGRlc2NyaWJlZCBlbHNld2hlcmUgaW4gdGhpcyBkb2N1bWVudC5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuNC4xXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICB0aGlzLm9uVGVybWluYXRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogNC4xLjIuMy4gIFVuc3Vic2NyaWJpbmdcbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4yLjNcbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBvcHRpb25zID0ge307XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGFsbG93SGVhZGVyKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkV2ZW50OiBcIiArIHRoaXMuc3Vic2NyaXB0aW9uRXZlbnQpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiRXhwaXJlczogMFwiKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdC50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlKHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIE5PVElGWSByZXF1ZXN0cy5cbiAgICAgKiBUaGlzIGRvZXMgbm90IGluY2x1ZGUgdGhlIGZpcnN0IE5PVElGWSB3aGljaCBjcmVhdGVkIHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgaW5jb21pbmcgTk9USUZZIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLm9uTm90aWZ5ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gSWYsIGZvciBzb21lIHJlYXNvbiwgdGhlIGV2ZW50IHBhY2thZ2UgZGVzaWduYXRlZCBpbiB0aGUgXCJFdmVudFwiXG4gICAgICAgIC8vIGhlYWRlciBmaWVsZCBvZiB0aGUgTk9USUZZIHJlcXVlc3QgaXMgbm90IHN1cHBvcnRlZCwgdGhlIHN1YnNjcmliZXJcbiAgICAgICAgLy8gd2lsbCByZXNwb25kIHdpdGggYSA0ODkgKEJhZCBFdmVudCkgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjNcbiAgICAgICAgdmFyIGV2ZW50ID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIkV2ZW50XCIpLmV2ZW50O1xuICAgICAgICBpZiAoIWV2ZW50IHx8IGV2ZW50ICE9PSB0aGlzLnN1YnNjcmlwdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0ODkgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW4gdGhlIHN0YXRlIGRpYWdyYW0sIFwiUmUtc3Vic2NyaXB0aW9uIHRpbWVzIG91dFwiIG1lYW5zIHRoYXQgYW5cbiAgICAgICAgLy8gYXR0ZW1wdCB0byByZWZyZXNoIG9yIHVwZGF0ZSB0aGUgc3Vic2NyaXB0aW9uIHVzaW5nIGEgbmV3IFNVQlNDUklCRVxuICAgICAgICAvLyByZXF1ZXN0IGRvZXMgbm90IHJlc3VsdCBpbiBhIE5PVElGWSByZXF1ZXN0IGJlZm9yZSB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAgICAvLyBUaW1lciBOIGV4cGlyZXMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjJcbiAgICAgICAgaWYgKHRoaXMuTikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuTik7XG4gICAgICAgICAgICB0aGlzLk4gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTk9USUZZIHJlcXVlc3RzIE1VU1QgY29udGFpbiBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIGhlYWRlciBmaWVsZHMgdGhhdFxuICAgICAgICAvLyBpbmRpY2F0ZSB0aGUgc3RhdHVzIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjNcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvblN0YXRlID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFzdWJzY3JpcHRpb25TdGF0ZSB8fCAhc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29yZS5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQ4OSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZS5zdGF0ZTtcbiAgICAgICAgdmFyIGV4cGlyZXMgPSBzdWJzY3JpcHRpb25TdGF0ZS5leHBpcmVzID8gTWF0aC5tYXgoc3Vic2NyaXB0aW9uU3RhdGUuZXhwaXJlcywgMCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFVwZGF0ZSBvdXIgc3RhdGUgYW5kIGV4cGlyYXRpb24uXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwZW5kaW5nXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuUGVuZGluZywgZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWN0aXZlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlLCBleHBpcmVzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCwgZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVbnJlY29nbml6ZWQgc3Vic2NyaXB0aW9uIHN0YXRlLlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxlZ2F0ZSByZW1haW5kZXIgb2YgTk9USUZZIGhhbmRsaW5nLlxuICAgICAgICB2YXIgdWFzID0gbmV3IG5vdGlmeV91c2VyX2FnZW50X3NlcnZlcl8xLk5vdGlmeVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbk5vdGlmeSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbk5vdGlmeSh1YXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdWFzLmFjY2VwdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLm9uUmVmcmVzaCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25SZWZyZXNoKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVmcmVzaChyZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS5vblRlcm1pbmF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uVGVybWluYXRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLnJlZnJlc2hUaW1lckNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZWZyZXNoVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS5yZWZyZXNoVGltZXJTZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVmcmVzaFRpbWVyQ2xlYXIoKTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1JlZnJlc2ggJiYgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID4gMCkge1xuICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXMgKiA5MDA7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25SZWZyZXNoID0gTWF0aC5mbG9vcihyZWZyZXNoIC8gMTAwMCk7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25SZWZyZXNoTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2hMYXN0U2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uUmVmcmVzaChfdGhpcy5yZWZyZXNoKCkpO1xuICAgICAgICAgICAgfSwgcmVmcmVzaCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUuc3RhdGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBuZXdFeHBpcmVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEFzc2VydCB2YWxpZCBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgICAgdmFyIGludmFsaWRTdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIkludmFsaWQgc3Vic2NyaXB0aW9uIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBcIiArIF90aGlzLnN1YnNjcmlwdGlvblN0YXRlICsgXCIgdG8gXCIgKyBuZXdTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2Ugc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5Ob3RpZnlXYWl0OlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuTm90aWZ5V2FpdCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvblN0YXRlICE9PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5QZW5kaW5nICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuUGVuZGluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvblN0YXRlICE9PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIHZhbHVlIGlzIFwicGVuZGluZ1wiLCB0aGUgc3Vic2NyaXB0aW9uIGhhc1xuICAgICAgICAvLyBiZWVuIHJlY2VpdmVkIGJ5IHRoZSBub3RpZmllciwgYnV0IHRoZXJlIGlzIGluc3VmZmljaWVudCBwb2xpY3lcbiAgICAgICAgLy8gaW5mb3JtYXRpb24gdG8gZ3JhbnQgb3IgZGVueSB0aGUgc3Vic2NyaXB0aW9uIHlldC4gIElmIHRoZSBoZWFkZXJcbiAgICAgICAgLy8gZmllbGQgYWxzbyBjb250YWlucyBhbiBcImV4cGlyZXNcIiBwYXJhbWV0ZXIsIHRoZSBzdWJzY3JpYmVyIFNIT1VMRFxuICAgICAgICAvLyB0YWtlIGl0IGFzIHRoZSBhdXRob3JpdGF0aXZlIHN1YnNjcmlwdGlvbiBkdXJhdGlvbiBhbmQgYWRqdXN0XG4gICAgICAgIC8vIGFjY29yZGluZ2x5LiAgTm8gZnVydGhlciBhY3Rpb24gaXMgbmVjZXNzYXJ5IG9uIHRoZSBwYXJ0IG9mIHRoZVxuICAgICAgICAvLyBzdWJzY3JpYmVyLiAgVGhlIFwicmV0cnktYWZ0ZXJcIiBhbmQgXCJyZWFzb25cIiBwYXJhbWV0ZXJzIGhhdmUgbm9cbiAgICAgICAgLy8gc2VtYW50aWNzIGZvciBcInBlbmRpbmdcIi5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuM1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmcpIHtcbiAgICAgICAgICAgIGlmIChuZXdFeHBpcmVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID0gbmV3RXhwaXJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgXCJTdWJzY3JpcHRpb24tU3RhdGVcIiBoZWFkZXIgZmllbGQgdmFsdWUgaXMgXCJhY3RpdmVcIiwgaXQgbWVhbnNcbiAgICAgICAgLy8gdGhhdCB0aGUgc3Vic2NyaXB0aW9uIGhhcyBiZWVuIGFjY2VwdGVkIGFuZCAoaW4gZ2VuZXJhbCkgaGFzIGJlZW5cbiAgICAgICAgLy8gYXV0aG9yaXplZC4gIElmIHRoZSBoZWFkZXIgZmllbGQgYWxzbyBjb250YWlucyBhbiBcImV4cGlyZXNcIlxuICAgICAgICAvLyBwYXJhbWV0ZXIsIHRoZSBzdWJzY3JpYmVyIFNIT1VMRCB0YWtlIGl0IGFzIHRoZSBhdXRob3JpdGF0aXZlXG4gICAgICAgIC8vIHN1YnNjcmlwdGlvbiBkdXJhdGlvbiBhbmQgYWRqdXN0IGFjY29yZGluZ2x5LiAgVGhlIFwicmV0cnktYWZ0ZXJcIiBhbmRcbiAgICAgICAgLy8gXCJyZWFzb25cIiBwYXJhbWV0ZXJzIGhhdmUgbm8gc2VtYW50aWNzIGZvciBcImFjdGl2ZVwiLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4zXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAobmV3RXhwaXJlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IG5ld0V4cGlyZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgdmFsdWUgaXMgXCJ0ZXJtaW5hdGVkXCIsIHRoZSBzdWJzY3JpYmVyXG4gICAgICAgIC8vIE1VU1QgY29uc2lkZXIgdGhlIHN1YnNjcmlwdGlvbiB0ZXJtaW5hdGVkLiAgVGhlIFwiZXhwaXJlc1wiIHBhcmFtZXRlclxuICAgICAgICAvLyBoYXMgbm8gc2VtYW50aWNzIGZvciBcInRlcm1pbmF0ZWRcIiAtLSBub3RpZmllcnMgU0hPVUxEIE5PVCBpbmNsdWRlIGFuXG4gICAgICAgIC8vIFwiZXhwaXJlc1wiIHBhcmFtZXRlciBvbiBhIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgaGVhZGVyIGZpZWxkIHdpdGggYVxuICAgICAgICAvLyB2YWx1ZSBvZiBcInRlcm1pbmF0ZWRcIiwgYW5kIHN1YnNjcmliZXJzIE1VU1QgaWdub3JlIGFueSBzdWNoXG4gICAgICAgIC8vIHBhcmFtZXRlciwgaWYgcHJlc2VudC5cbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TdGF0ZSA9IG5ld1N0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiByZWZyZXNoaW5nIGEgc3Vic2NyaXB0aW9uLCBhIHN1YnNjcmliZXIgc3RhcnRzIFRpbWVyIE4sIHNldCB0b1xuICAgICAqIDY0KlQxLCB3aGVuIGl0IHNlbmRzIHRoZSBTVUJTQ1JJQkUgcmVxdWVzdC4gIElmIHRoaXMgVGltZXIgTiBleHBpcmVzXG4gICAgICogcHJpb3IgdG8gdGhlIHJlY2VpcHQgb2YgYSBOT1RJRlkgcmVxdWVzdCwgdGhlIHN1YnNjcmliZXIgY29uc2lkZXJzXG4gICAgICogdGhlIHN1YnNjcmlwdGlvbiB0ZXJtaW5hdGVkLiAgSWYgdGhlIHN1YnNjcmliZXIgcmVjZWl2ZXMgYSBzdWNjZXNzXG4gICAgICogcmVzcG9uc2UgdG8gdGhlIFNVQlNDUklCRSByZXF1ZXN0IHRoYXQgaW5kaWNhdGVzIHRoYXQgbm8gTk9USUZZXG4gICAgICogcmVxdWVzdCB3aWxsIGJlIGdlbmVyYXRlZCAtLSBzdWNoIGFzIHRoZSAyMDQgcmVzcG9uc2UgZGVmaW5lZCBmb3IgdXNlXG4gICAgICogd2l0aCB0aGUgb3B0aW9uYWwgZXh0ZW5zaW9uIGRlc2NyaWJlZCBpbiBbUkZDNTgzOV0gLS0gdGhlbiBpdCBNVVNUXG4gICAgICogY2FuY2VsIFRpbWVyIE4uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS50aW1lcl9OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICB0aGlzLm9uVGVybWluYXRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uRGlhbG9nO1xufShkaWFsb2dfMS5EaWFsb2cpKTtcbmV4cG9ydHMuU3Vic2NyaXB0aW9uRGlhbG9nID0gU3Vic2NyaXB0aW9uRGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFJlLVNVQlNDUklCRSBVQUMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZVN1YnNjcmliZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZVN1YnNjcmliZVVzZXJBZ2VudENsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZVN1YnNjcmliZVVzZXJBZ2VudENsaWVudChkaWFsb2csIGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtZXNzYWdlID0gZGlhbG9nLmNyZWF0ZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UobWVzc2FnZXNfMS5DLlNVQlNDUklCRSwgb3B0aW9ucyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGlhbG9nID0gZGlhbG9nO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS53YWl0Tm90aWZ5U3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETzogUGxhY2Vob2xkZXIuIE5vdCB1dGlsaXplZCBjdXJyZW50bHkuXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgYSByZXNwb25zZSBmcm9tIHRoZSB0cmFuc2FjdGlvbiBsYXllci5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXR1c0NvZGUgJiYgbWVzc2FnZS5zdGF0dXNDb2RlID49IDIwMCAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPCAzMDApIHtcbiAgICAgICAgICAgIC8vICBUaGUgXCJFeHBpcmVzXCIgaGVhZGVyIGZpZWxkIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRVxuICAgICAgICAgICAgLy8gIHJlcXVlc3QgaW5kaWNhdGVzIHRoZSBhY3R1YWwgZHVyYXRpb24gZm9yIHdoaWNoIHRoZSBzdWJzY3JpcHRpb24gd2lsbFxuICAgICAgICAgICAgLy8gIHJlbWFpbiBhY3RpdmUgKHVubGVzcyByZWZyZXNoZWQpLiAgVGhlIHJlY2VpdmVkIHZhbHVlIG1pZ2h0IGJlXG4gICAgICAgICAgICAvLyAgc21hbGxlciB0aGFuIHRoZSB2YWx1ZSBpbmRpY2F0ZWQgaW4gdGhlIFNVQlNDUklCRSByZXF1ZXN0IGJ1dCBjYW5ub3RcbiAgICAgICAgICAgIC8vICBiZSBsYXJnZXI7IHNlZSBTZWN0aW9uIDQuMi4xIGZvciBkZXRhaWxzLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4xXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKTtcbiAgICAgICAgICAgIGlmICghZXhwaXJlcykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJFeHBpcmVzIGhlYWRlciBtaXNzaW5nIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25FeHBpcmVzUmVjZWl2ZWQgPSBOdW1iZXIoZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nLnN1YnNjcmlwdGlvbkV4cGlyZXMgPiBzdWJzY3JpcHRpb25FeHBpcmVzUmVjZWl2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHN1YnNjcmlwdGlvbkV4cGlyZXNSZWNlaXZlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzQ29kZSAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPj0gNDAwICYmIG1lc3NhZ2Uuc3RhdHVzQ29kZSA8IDcwMCkge1xuICAgICAgICAgICAgLy8gSWYgYSBTVUJTQ1JJQkUgcmVxdWVzdCB0byByZWZyZXNoIGEgc3Vic2NyaXB0aW9uIHJlY2VpdmVzIGEgNDA0LCA0MDUsXG4gICAgICAgICAgICAvLyA0MTAsIDQxNiwgNDgwLTQ4NSwgNDg5LCA1MDEsIG9yIDYwNCByZXNwb25zZSwgdGhlIHN1YnNjcmliZXIgTVVTVFxuICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIHN1YnNjcmlwdGlvbiB0ZXJtaW5hdGVkLiAgKFNlZSBbUkZDNTA1N10gZm9yIGZ1cnRoZXJcbiAgICAgICAgICAgIC8vIGRldGFpbHMgYW5kIG5vdGVzIGFib3V0IHRoZSBlZmZlY3Qgb2YgZXJyb3IgY29kZXMgb24gZGlhbG9ncyBhbmRcbiAgICAgICAgICAgIC8vIHVzYWdlcyB3aXRoaW4gZGlhbG9nLCBzdWNoIGFzIHN1YnNjcmlwdGlvbnMpLiAgSWYgdGhlIHN1YnNjcmliZXJcbiAgICAgICAgICAgIC8vIHdpc2hlcyB0byByZS1zdWJzY3JpYmUgdG8gdGhlIHN0YXRlLCBoZSBkb2VzIHNvIGJ5IGNvbXBvc2luZyBhblxuICAgICAgICAgICAgLy8gdW5yZWxhdGVkIGluaXRpYWwgU1VCU0NSSUJFIHJlcXVlc3Qgd2l0aCBhIGZyZXNobHkgZ2VuZXJhdGVkIENhbGwtSURcbiAgICAgICAgICAgIC8vIGFuZCBhIG5ldywgdW5pcXVlIFwiRnJvbVwiIHRhZyAoc2VlIFNlY3Rpb24gNC4xLjIuMSkuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4yLjJcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGVzID0gWzQwNCwgNDA1LCA0MTAsIDQxNiwgNDgwLCA0ODEsIDQ4MiwgNDgzLCA0ODQsIDQ4NSwgNDg5LCA1MDEsIDYwNF07XG4gICAgICAgICAgICBpZiAoZXJyb3JDb2Rlcy5pbmRleE9mKG1lc3NhZ2Uuc3RhdHVzQ29kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cudGVybWluYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhIFNVQlNDUklCRSByZXF1ZXN0IHRvIHJlZnJlc2ggYSBzdWJzY3JpcHRpb24gZmFpbHMgd2l0aCBhbnkgZXJyb3JcbiAgICAgICAgICAgIC8vIGNvZGUgb3RoZXIgdGhhbiB0aG9zZSBsaXN0ZWQgYWJvdmUsIHRoZSBvcmlnaW5hbCBzdWJzY3JpcHRpb24gaXNcbiAgICAgICAgICAgIC8vIHN0aWxsIGNvbnNpZGVyZWQgdmFsaWQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgbW9zdCByZWNlbnRseSBrbm93blxuICAgICAgICAgICAgLy8gXCJFeHBpcmVzXCIgdmFsdWUgYXMgbmVnb3RpYXRlZCBieSB0aGUgbW9zdCByZWNlbnQgc3VjY2Vzc2Z1bCBTVUJTQ1JJQkVcbiAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uLCBvciBhcyBjb21tdW5pY2F0ZWQgYnkgYSBOT1RJRlkgcmVxdWVzdCBpbiBpdHNcbiAgICAgICAgICAgIC8vIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgaGVhZGVyIGZpZWxkIFwiZXhwaXJlc1wiIHBhcmFtZXRlci5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMlxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLlJlU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50ID0gUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsZXZlbHNfMSA9IHJlcXVpcmUoXCIuL2xldmVsc1wiKTtcbi8qKlxuICogTG9nZ2VyLlxuICogQHB1YmxpY1xuICovXG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvZ2dlcihsb2dnZXIsIGNhdGVnb3J5LCBsYWJlbCkge1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgfVxuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoY29udGVudCkgeyB0aGlzLmdlbmVyaWNMb2cobGV2ZWxzXzEuTGV2ZWxzLmVycm9yLCBjb250ZW50KTsgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAoY29udGVudCkgeyB0aGlzLmdlbmVyaWNMb2cobGV2ZWxzXzEuTGV2ZWxzLndhcm4sIGNvbnRlbnQpOyB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGNvbnRlbnQpIHsgdGhpcy5nZW5lcmljTG9nKGxldmVsc18xLkxldmVscy5sb2csIGNvbnRlbnQpOyB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoY29udGVudCkgeyB0aGlzLmdlbmVyaWNMb2cobGV2ZWxzXzEuTGV2ZWxzLmRlYnVnLCBjb250ZW50KTsgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmdlbmVyaWNMb2cgPSBmdW5jdGlvbiAobGV2ZWwsIGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZ2VuZXJpY0xvZyhsZXZlbCwgdGhpcy5jYXRlZ29yeSwgdGhpcy5sYWJlbCwgY29udGVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gTG9nZ2VyO1xufSgpKTtcbmV4cG9ydHMuTG9nZ2VyID0gTG9nZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2J5ZS11c2VyLWFnZW50LWNsaWVudFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ieWUtdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY2FuY2VsLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2luZm8tdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW5mby11c2VyLWFnZW50LXNlcnZlclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbnZpdGUtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW52aXRlLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21lc3NhZ2UtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbWVzc2FnZS11c2VyLWFnZW50LXNlcnZlclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ub3RpZnktdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbm90aWZ5LXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3B1Ymxpc2gtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcHJhY2stdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcHJhY2stdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcmUtaW52aXRlLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlLWludml0ZS11c2VyLWFnZW50LXNlcnZlclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9yZS1zdWJzY3JpYmUtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcmUtc3Vic2NyaWJlLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZmVyLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZmVyLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZ2lzdGVyLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZ2lzdGVyLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3N1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdWJzY3JpYmUtdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuLyoqXG4gKiBTSVAgUHVibGlzaCAoU0lQIEV4dGVuc2lvbiBmb3IgRXZlbnQgU3RhdGUgUHVibGljYXRpb24gUkZDMzkwMylcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBQdWJsaXNoQ29udGV4dC5cbiAqL1xudmFyIFB1Ymxpc2hDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFB1Ymxpc2hDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFB1Ymxpc2hDb250ZXh0KHVhLCB0YXJnZXQsIGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBvcHRpb25zLmNvbnRlbnRUeXBlID0gKG9wdGlvbnMuY29udGVudFR5cGUgfHwgXCJ0ZXh0L3BsYWluXCIpO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZXhwaXJlcyAhPT0gXCJudW1iZXJcIiB8fCAob3B0aW9ucy5leHBpcmVzICUgMSkgIT09IDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZXhwaXJlcyA9IDM2MDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLmV4cGlyZXMgPSBOdW1iZXIob3B0aW9ucy5leHBpcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIChvcHRpb25zLnVucHVibGlzaE9uQ2xvc2UpICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgb3B0aW9ucy51bnB1Ymxpc2hPbkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gXCJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLk1ldGhvZFBhcmFtZXRlckVycm9yKFwiUHVibGlzaFwiLCBcIlRhcmdldFwiLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdWEubm9ybWFsaXplVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3IoXCJQdWJsaXNoXCIsIFwiVGFyZ2V0XCIsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB1YSwgQ29uc3RhbnRzXzEuQy5QVUJMSVNILCB0YXJnZXQsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlB1Ymxpc2hDb250ZXh0O1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgX3RoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBpZiAoZXZlbnQgPT09IHVuZGVmaW5lZCB8fCBldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gXCJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLk1ldGhvZFBhcmFtZXRlckVycm9yKFwiUHVibGlzaFwiLCBcIkV2ZW50XCIsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLnB1Ymxpc2hcIik7XG4gICAgICAgIF90aGlzLnB1YlJlcXVlc3RFeHBpcmVzID0gX3RoaXMub3B0aW9ucy5leHBpcmVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gRXZlbnQgYm9keSB0byBwdWJsaXNoLCBvcHRpb25hbFxuICAgICAqL1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5wdWJsaXNoID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYmVmb3JlIHRoZSBydW5cbiAgICAgICAgaWYgKHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXMgSW5pdGFsIG9yIE1vZGlmeSByZXF1ZXN0XG4gICAgICAgIHRoaXMub3B0aW9ucy5ib2R5ID0gYm9keTtcbiAgICAgICAgdGhpcy5wdWJSZXF1ZXN0Qm9keSA9IHRoaXMub3B0aW9ucy5ib2R5O1xuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBJbml0aWFsIHJlcXVlc3QgYWZ0ZXIgdW5wdWJsaXNoXG4gICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFeHBpcmVzID0gdGhpcy5vcHRpb25zLmV4cGlyZXM7XG4gICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFdGFnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpICsgXCI6XCIgKyB0aGlzLmV2ZW50XSkpIHtcbiAgICAgICAgICAgIHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpICsgXCI6XCIgKyB0aGlzLmV2ZW50XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW5kUHVibGlzaFJlcXVlc3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucHVibGlzaFxuICAgICAqL1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS51bnB1Ymxpc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIENsZWFuIHVwIGJlZm9yZSB0aGUgcnVuXG4gICAgICAgIGlmICh0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoUmVmcmVzaFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHViUmVxdWVzdEJvZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRQdWJsaXNoUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZVxuICAgICAqL1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU2VuZCB1bnB1Ymxpc2gsIGlmIHJlcXVlc3RlZFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnVucHVibGlzaE9uQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMudW5wdWJsaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wdWJsaXNoUmVmcmVzaFRpbWVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoUmVmcmVzaFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0Qm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXRhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51YS5wdWJsaXNoZXJzW3RoaXMudGFyZ2V0LnRvU3RyaW5nKCkgKyBcIjpcIiArIHRoaXMuZXZlbnRdKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy51YS5wdWJsaXNoZXJzW3RoaXMudGFyZ2V0LnRvU3RyaW5nKCkgKyBcIjpcIiArIHRoaXMuZXZlbnRdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdWJsaXNoQ29udGV4dC5wcm90b3R5cGUub25SZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdChcInVucHVibGlzaGVkXCIsIHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKTtcbiAgICB9O1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KFwidW5wdWJsaXNoZWRcIiwgdW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICB9O1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlIHx8IDA7XG4gICAgICAgIHZhciBjYXVzZSA9IFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHN0YXR1c0NvZGUpO1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUudG9TdHJpbmcoKSk6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUudG9TdHJpbmcoKSk6XG4gICAgICAgICAgICAgICAgLy8gU2V0IFNJUC1FdGFnXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc0hlYWRlcihcIlNJUC1FVGFnXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV0YWcgPSByZXNwb25zZS5nZXRIZWFkZXIoXCJTSVAtRVRhZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJTSVAtRVRhZyBoZWFkZXIgbWlzc2luZyBpbiBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBQVUJMSVNIXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgRXhwaXJlXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc0hlYWRlcihcIkV4cGlyZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSBOdW1iZXIocmVzcG9uc2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwaXJlcyA9PT0gXCJudW1iZXJcIiAmJiBleHBpcmVzID49IDAgJiYgZXhwaXJlcyA8PSB0aGlzLnB1YlJlcXVlc3RFeHBpcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFeHBpcmVzID0gZXhwaXJlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJCYWQgRXhwaXJlcyBoZWFkZXIgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gUFVCTElTSFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkV4cGlyZXMgaGVhZGVyIG1pc3NpbmcgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gUFVCTElTSFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV4cGlyZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgcmVmcmVzaFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlZnJlc2hSZXF1ZXN0KCk7IH0sIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgKiA5MDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwdWJsaXNoZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInVucHVibGlzaGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjQxMiQvLnRlc3Qoc3RhdHVzQ29kZS50b1N0cmluZygpKTpcbiAgICAgICAgICAgICAgICAvLyA0MTIgY29kZSBtZWFucyBubyBtYXRjaGluZyBFVGFnIC0gcG9zc2libHkgdGhlIFBVQkxJU0ggZXhwaXJlZFxuICAgICAgICAgICAgICAgIC8vIFJlc3VibWl0IGFzIG5ldyByZXF1ZXN0LCBpZiB0aGUgY3VycmVudCByZXF1ZXN0IGlzIG5vdCBhIFwicmVtb3ZlXCJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXRhZyAhPT0gdW5kZWZpbmVkICYmIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIjQxMiByZXNwb25zZSB0byBQVUJMSVNILCByZWNvdmVyaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFdGFnID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2godGhpcy5vcHRpb25zLmJvZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIjQxMiByZXNwb25zZSB0byBQVUJMSVNILCByZWNvdmVyeSBmYWlsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidW5wdWJsaXNoZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eNDIzJC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIC8vIDQyMyBjb2RlIG1lYW5zIHdlIG5lZWQgdG8gYWRqdXN0IHRoZSBFeHBpcmVzIGludGVydmFsIHVwXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV4cGlyZXMgIT09IDAgJiYgcmVzcG9uc2UuaGFzSGVhZGVyKFwiTWluLUV4cGlyZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbkV4cGlyZXMgPSBOdW1iZXIocmVzcG9uc2UuZ2V0SGVhZGVyKFwiTWluLUV4cGlyZXNcIikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbkV4cGlyZXMgPT09IFwibnVtYmVyXCIgfHwgbWluRXhwaXJlcyA+IHRoaXMucHViUmVxdWVzdEV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCI0MjMgY29kZSBpbiByZXNwb25zZSB0byBQVUJMSVNILCBhZGp1c3RpbmcgdGhlIEV4cGlyZXMgdmFsdWUgYW5kIHRyeWluZyB0byByZWNvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9IG1pbkV4cGlyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKHRoaXMub3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJCYWQgNDIzIHJlc3BvbnNlIE1pbi1FeHBpcmVzIGhlYWRlciByZWNlaXZlZCBmb3IgUFVCTElTSFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJ1bnB1Ymxpc2hlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiNDIzIHJlc3BvbnNlIHRvIFBVQkxJU0gsIHJlY292ZXJ5IGZhaWxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJ1bnB1Ymxpc2hlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidW5wdWJsaXNoZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB0aGUgY2xlYW51cFxuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaFJlZnJlc2hUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEJvZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFdGFnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdWJsaXNoQ29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy51YS51c2VyQWdlbnRDb3JlLnB1Ymxpc2godGhpcy5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBvbkFjY2VwdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5yZWZyZXNoUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYmVmb3JlIHRoZSBydW5cbiAgICAgICAgaWYgKHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyBSZWZyZXNoIHJlcXVlc3RcbiAgICAgICAgdGhpcy5wdWJSZXF1ZXN0Qm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV0YWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gUmVxdWVzdCBub3QgdmFsaWRcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5NZXRob2RQYXJhbWV0ZXJFcnJvcihcIlB1Ymxpc2hcIiwgXCJCb2R5XCIsIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFJlcXVlc3Qgbm90IHZhbGlkXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3IoXCJQdWJsaXNoXCIsIFwiRXhwaXJlXCIsIHRoaXMucHViUmVxdWVzdEV4cGlyZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VuZFB1Ymxpc2hSZXF1ZXN0KCk7XG4gICAgfTtcbiAgICBQdWJsaXNoQ29udGV4dC5wcm90b3R5cGUuc2VuZFB1Ymxpc2hSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxT3B0aW9ucyA9IE9iamVjdC5jcmVhdGUodGhpcy5vcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICAgICAgICByZXFPcHRpb25zLmV4dHJhSGVhZGVycyA9ICh0aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICByZXFPcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiRXZlbnQ6IFwiICsgdGhpcy5ldmVudCk7XG4gICAgICAgIHJlcU9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goXCJFeHBpcmVzOiBcIiArIHRoaXMucHViUmVxdWVzdEV4cGlyZXMpO1xuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXFPcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiU0lQLUlmLU1hdGNoOiBcIiArIHRoaXMucHViUmVxdWVzdEV0YWcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBydXJpID0gdGhpcy50YXJnZXQgaW5zdGFuY2VvZiBjb3JlXzEuVVJJID8gdGhpcy50YXJnZXQgOiB0aGlzLnVhLm5vcm1hbGl6ZVRhcmdldCh0aGlzLnRhcmdldCk7XG4gICAgICAgIGlmICghcnVyaSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicnVyaSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLm9wdGlvbnMucGFyYW1zIHx8IHt9O1xuICAgICAgICB2YXIgYm9keU9iajtcbiAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm9keU9iaiA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiB0aGlzLnB1YlJlcXVlc3RCb2R5LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0aGlzLm9wdGlvbnMuY29udGVudFR5cGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHk7XG4gICAgICAgIGlmIChib2R5T2JqKSB7XG4gICAgICAgICAgICBib2R5ID0gVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihib2R5T2JqKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcXVlc3QgPSB0aGlzLnVhLnVzZXJBZ2VudENvcmUubWFrZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UoQ29uc3RhbnRzXzEuQy5QVUJMSVNILCBydXJpLCBwYXJhbXMuZnJvbVVyaSA/IHBhcmFtcy5mcm9tVXJpIDogdGhpcy51YS51c2VyQWdlbnRDb3JlLmNvbmZpZ3VyYXRpb24uYW9yLCBwYXJhbXMudG9VcmkgPyBwYXJhbXMudG9VcmkgOiB0aGlzLnRhcmdldCwgcGFyYW1zLCByZXFPcHRpb25zLmV4dHJhSGVhZGVycywgYm9keSk7XG4gICAgICAgIHRoaXMuc2VuZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1Ymxpc2hDb250ZXh0O1xufShDbGllbnRDb250ZXh0XzEuQ2xpZW50Q29udGV4dCkpO1xuZXhwb3J0cy5QdWJsaXNoQ29udGV4dCA9IFB1Ymxpc2hDb250ZXh0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuLyoqXG4gKiBDb25maWd1cmF0aW9uIGxvYWQuXG4gKiBAcHJpdmF0ZVxuICogcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBsb2FkQ29uZmlnKGNvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgIGV4cGlyZXM6IDYwMCxcbiAgICAgICAgZXh0cmFDb250YWN0SGVhZGVyUGFyYW1zOiBbXSxcbiAgICAgICAgaW5zdGFuY2VJZDogdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICByZWdJZDogdW5kZWZpbmVkLFxuICAgICAgICByZWdpc3RyYXI6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIHZhciBjb25maWdDaGVjayA9IGdldENvbmZpZ3VyYXRpb25DaGVjaygpO1xuICAgIC8vIENoZWNrIE1hbmRhdG9yeSBwYXJhbWV0ZXJzXG4gICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIGNvbmZpZ0NoZWNrLm1hbmRhdG9yeSkge1xuICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlndXJhdGlvbltwYXJhbWV0ZXJdO1xuICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGNvbmZpZ0NoZWNrLm1hbmRhdG9yeVtwYXJhbWV0ZXJdKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2sub3B0aW9uYWwpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlndXJhdGlvbltwYXJhbWV0ZXJdO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSwgYnV0IHNob3VsZG4ndCBiZSwgYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgdmFsdWUgaXMgbnVsbCwgZW1wdHkgc3RyaW5nLCBvciB1bmRlZmluZWQgdGhlbiBhcHBseSBpdHMgZGVmYXVsdCB2YWx1ZS5cbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSBudW1iZXIgd2l0aCBOYU4gdmFsdWUgdGhlbiBhbHNvIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgLy8gTk9URTogSlMgZG9lcyBub3QgYWxsb3cgXCJ2YWx1ZSA9PT0gTmFOXCIsIHRoZSBmb2xsb3dpbmcgZG9lcyB0aGUgd29yazpcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiAodmFsdWUpID09PSBcIm51bWJlclwiICYmIGlzTmFOKHZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGVja2VkVmFsdWUgPSBjb25maWdDaGVjay5vcHRpb25hbFtwYXJhbWV0ZXJdKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZXR0aW5ncztcbn1cbmZ1bmN0aW9uIGdldENvbmZpZ3VyYXRpb25DaGVjaygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtYW5kYXRvcnk6IHt9LFxuICAgICAgICBvcHRpb25hbDoge1xuICAgICAgICAgICAgZXhwaXJlczogZnVuY3Rpb24gKGV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwoZXhwaXJlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGV4cGlyZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4dHJhQ29udGFjdEhlYWRlclBhcmFtczogZnVuY3Rpb24gKGV4dHJhQ29udGFjdEhlYWRlclBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUNvbnRhY3RIZWFkZXJQYXJhbXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFDb250YWN0SGVhZGVyUGFyYW1zLmZpbHRlcihmdW5jdGlvbiAoY29udGFjdEhlYWRlclBhcmFtKSB7IHJldHVybiAodHlwZW9mIGNvbnRhY3RIZWFkZXJQYXJhbSA9PT0gXCJzdHJpbmdcIik7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnN0YW5jZUlkOiBmdW5jdGlvbiAoaW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoL151dWlkOi9pLnRlc3QoaW5zdGFuY2VJZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWQgPSBpbnN0YW5jZUlkLnN1YnN0cig1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvcmVfMS5HcmFtbWFyLnBhcnNlKGluc3RhbmNlSWQsIFwidXVpZFwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlSWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtczogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ0lkOiBmdW5jdGlvbiAocmVnSWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwocmVnSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IE51bWJlcihyZWdJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnaXN0cmFyOiBmdW5jdGlvbiAocmVnaXN0cmFyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWdpc3RyYXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIS9ec2lwOi9pLnRlc3QocmVnaXN0cmFyKSkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXIgPSBDb25zdGFudHNfMS5DLlNJUCArIFwiOlwiICsgcmVnaXN0cmFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UocmVnaXN0cmFyKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbnZhciBSZWdpc3RlckNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVnaXN0ZXJDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZ2lzdGVyQ29udGV4dCh1YSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSBsb2FkQ29uZmlnKG9wdGlvbnMpO1xuICAgICAgICBpZiAoc2V0dGluZ3MucmVnSWQgJiYgIXNldHRpbmdzLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmluc3RhbmNlSWQgPSBVdGlsc18xLlV0aWxzLm5ld1VVSUQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghc2V0dGluZ3MucmVnSWQgJiYgc2V0dGluZ3MuaW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgc2V0dGluZ3MucmVnSWQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLnBhcmFtcy50b1VyaSA9IHNldHRpbmdzLnBhcmFtcy50b1VyaSB8fCB1YS5jb25maWd1cmF0aW9uLnVyaTtcbiAgICAgICAgc2V0dGluZ3MucGFyYW1zLnRvRGlzcGxheU5hbWUgPSBzZXR0aW5ncy5wYXJhbXMudG9EaXNwbGF5TmFtZSB8fCB1YS5jb25maWd1cmF0aW9uLmRpc3BsYXlOYW1lO1xuICAgICAgICBzZXR0aW5ncy5wYXJhbXMuY2FsbElkID0gc2V0dGluZ3MucGFyYW1zLmNhbGxJZCB8fCBVdGlsc18xLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDIyKTtcbiAgICAgICAgc2V0dGluZ3MucGFyYW1zLmNzZXEgPSBzZXR0aW5ncy5wYXJhbXMuY3NlcSB8fCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICAgIC8qIElmIG5vICdyZWdpc3RyYXJTZXJ2ZXInIGlzIHNldCB1c2UgdGhlICd1cmknIHZhbHVlIHdpdGhvdXQgdXNlciBwb3J0aW9uLiAqL1xuICAgICAgICBpZiAoIXNldHRpbmdzLnJlZ2lzdHJhcikge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdHJhclNlcnZlciA9IHt9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1YS5jb25maWd1cmF0aW9uLnVyaSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHJlZ2lzdHJhclNlcnZlciA9IHVhLmNvbmZpZ3VyYXRpb24udXJpLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgcmVnaXN0cmFyU2VydmVyLnVzZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWdpc3RyYXJTZXJ2ZXIgPSB1YS5jb25maWd1cmF0aW9uLnVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzLnJlZ2lzdHJhciA9IHJlZ2lzdHJhclNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHVhLCBDb25zdGFudHNfMS5DLlJFR0lTVEVSLCBzZXR0aW5ncy5yZWdpc3RyYXIsIHNldHRpbmdzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5SZWdpc3RlckNvbnRleHQ7XG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBzZXR0aW5ncztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLnJlZ2lzdGVyY29udGV4dFwiKTtcbiAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcImNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBmb3IgUmVnaXN0ZXJDb250ZXh0IGFmdGVyIHZhbGlkYXRpb246XCIpO1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIsK3IFwiICsgcGFyYW1ldGVyICsgXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3NbcGFyYW1ldGVyXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlZ2lzdHJhdGlvbiBleHBpcmVzXG4gICAgICAgIF90aGlzLmV4cGlyZXMgPSBzZXR0aW5ncy5leHBpcmVzO1xuICAgICAgICAvLyBDb250YWN0IGhlYWRlclxuICAgICAgICBfdGhpcy5jb250YWN0ID0gdWEuY29udGFjdC50b1N0cmluZygpO1xuICAgICAgICAvLyBTZXQgc3RhdHVzXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgdWEudHJhbnNwb3J0Lm9uKFwiZGlzY29ubmVjdGVkXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uVHJhbnNwb3J0RGlzY29ubmVjdGVkKCk7IH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBIYW5kbGUgT3B0aW9uc1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKHRoaXMub3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQ29udGFjdDogXCIgKyB0aGlzLmdlbmVyYXRlQ29udGFjdEhlYWRlcih0aGlzLmV4cGlyZXMpKTtcbiAgICAgICAgLy8gdGhpcyBpcyBVQS5DLkFMTE9XRURfTUVUSE9EUywgcmVtb3ZlZCB0byBnZXQgYXJvdW5kIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJBbGxvdzogXCIgKyBbXG4gICAgICAgICAgICBcIkFDS1wiLFxuICAgICAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgICAgICBcIk1FU1NBR0VcIixcbiAgICAgICAgICAgIFwiQllFXCIsXG4gICAgICAgICAgICBcIk9QVElPTlNcIixcbiAgICAgICAgICAgIFwiSU5GT1wiLFxuICAgICAgICAgICAgXCJOT1RJRllcIixcbiAgICAgICAgICAgIFwiUkVGRVJcIlxuICAgICAgICBdLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyBTYXZlIG9yaWdpbmFsIGV4dHJhSGVhZGVycyB0byBiZSB1c2VkIGluIC5jbG9zZVxuICAgICAgICB0aGlzLmNsb3NlSGVhZGVycyA9IHRoaXMub3B0aW9ucy5jbG9zZVdpdGhIZWFkZXJzID9cbiAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpIDogW107XG4gICAgICAgIHRoaXMucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBEaXNjYXJkIHJlc3BvbnNlcyB0byBvbGRlciBSRUdJU1RFUi91bi1SRUdJU1RFUiByZXF1ZXN0cy5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jc2VxICE9PSBfdGhpcy5yZXF1ZXN0LmNzZXEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDbGVhciByZWdpc3RyYXRpb24gdGltZXJcbiAgICAgICAgICAgIGlmIChfdGhpcy5yZWdpc3RyYXRpb25UaW1lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnJlZ2lzdHJhdGlvblRpbWVyKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RyYXRpb25UaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGF0dXNDb2RlID0gKHJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC9eMlswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlKTpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFjY2VwdGVkXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNIZWFkZXIoXCJleHBpcmVzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gTnVtYmVyKHJlc3BvbnNlLmdldEhlYWRlcihcImV4cGlyZXNcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2VhcmNoIHRoZSBDb250YWN0IHBvaW50aW5nIHRvIHVzIGFuZCB1cGRhdGUgdGhlIGV4cGlyZXMgdmFsdWUgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWN0cyA9IHJlc3BvbnNlLmdldEhlYWRlcnMoXCJjb250YWN0XCIpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJubyBDb250YWN0IGhlYWRlciBpbiByZXNwb25zZSB0byBSRUdJU1RFUiwgcmVzcG9uc2UgaWdub3JlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWN0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY29udGFjdHMtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9IHJlc3BvbnNlLnBhcnNlSGVhZGVyKFwiY29udGFjdFwiLCBjb250YWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdC51cmkudXNlciA9PT0gX3RoaXMudWEuY29udGFjdC51cmkudXNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMgPSBjb250YWN0LmdldFBhcmFtKFwiZXhwaXJlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIm5vIENvbnRhY3QgaGVhZGVyIHBvaW50aW5nIHRvIHVzLCByZXNwb25zZSBpZ25vcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGlyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9IF90aGlzLmV4cGlyZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmUtUmVnaXN0ZXIgYmVmb3JlIHRoZSBleHBpcmF0aW9uIGludGVydmFsIGhhcyBlbGFwc2VkLlxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgdGhhdCwgZGVjcmVhc2UgdGhlIGV4cGlyZXMgdmFsdWUuIGllOiAzIHNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZ2lzdHJhdGlvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0ZXIoX3RoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIChleHBpcmVzICogMTAwMCkgLSAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcInJlZ2lzdHJhdGlvbiBleHBpcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51bnJlZ2lzdGVyZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5FWFBJUkVTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZXhwaXJlcyAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGdydXUgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0Lmhhc1BhcmFtKFwidGVtcC1ncnV1XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51YS5jb250YWN0LnRlbXBHcnV1ID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UoY29udGFjdC5nZXRQYXJhbShcInRlbXAtZ3J1dVwiKS5yZXBsYWNlKC9cIi9nLCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QuaGFzUGFyYW0oXCJwdWItZ3J1dVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWEuY29udGFjdC5wdWJHcnV1ID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UoY29udGFjdC5nZXRQYXJhbShcInB1Yi1ncnV1XCIpLnJlcGxhY2UoL1wiL2csIFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlZ2lzdGVyZWRcIiwgcmVzcG9uc2UgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gSW50ZXJ2YWwgdG9vIGJyaWVmIFJGQzMyNjEgMTAuMi44XG4gICAgICAgICAgICAgICAgY2FzZSAvXjQyMyQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNIZWFkZXIoXCJtaW4tZXhwaXJlc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVhc2Ugb3VyIHJlZ2lzdHJhdGlvbiBpbnRlcnZhbCB0byB0aGUgc3VnZ2VzdGVkIG1pbmltdW1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmV4cGlyZXMgPSBOdW1iZXIocmVzcG9uc2UuZ2V0SGVhZGVyKFwibWluLWV4cGlyZXNcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0aGUgcmVnaXN0cmF0aW9uIGFnYWluIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RlcihfdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gVGhpcyByZXNwb25zZSBNVVNUIGNvbnRhaW4gYSBNaW4tRXhwaXJlcyBoZWFkZXIgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiNDIzIHJlc3BvbnNlIHJlY2VpdmVkIGZvciBSRUdJU1RFUiB3aXRob3V0IE1pbi1FeHBpcmVzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRmFpbHVyZShyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuU0lQX0ZBSUxVUkVfQ09ERSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRmFpbHVyZShyZXNwb25zZSwgVXRpbHNfMS5VdGlscy5zaXBFcnJvckNhdXNlKHJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5yZWdpc3RyYXRpb25GYWlsdXJlKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRmFpbHVyZSh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlcXVlc3QuY3NlcSsrO1xuICAgICAgICB0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKFwiY3NlcVwiLCB0aGlzLnJlcXVlc3QuY3NlcSArIFwiIFJFR0lTVEVSXCIpO1xuICAgICAgICB0aGlzLnJlcXVlc3QuZXh0cmFIZWFkZXJzID0gZXh0cmFIZWFkZXJzO1xuICAgICAgICB0aGlzLnNlbmQoKTtcbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgYWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGV4dHJhSGVhZGVyczogdGhpcy5jbG9zZUhlYWRlcnNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkQmVmb3JlID0gdGhpcy5yZWdpc3RlcmVkO1xuICAgICAgICBpZiAodGhpcy5yZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXIob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICghdGhpcy5yZWdpc3RlcmVkICYmICFvcHRpb25zLmFsbCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkFscmVhZHkgdW5yZWdpc3RlcmVkLCBidXQgc2VuZGluZyBhbiB1bnJlZ2lzdGVyIGFueXdheXMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZCA9IGZhbHNlO1xuICAgICAgICAvLyBDbGVhciB0aGUgcmVnaXN0cmF0aW9uIHRpbWVyLlxuICAgICAgICBpZiAodGhpcy5yZWdpc3RyYXRpb25UaW1lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWdpc3RyYXRpb25UaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFsbCkge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiAqXCIpO1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJFeHBpcmVzOiAwXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuZ2VuZXJhdGVDb250YWN0SGVhZGVyKDApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSkgPyByZXNwb25zZS5zdGF0dXNDb2RlLnRvU3RyaW5nKCkgOiBcIlwiO1xuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwiYWNjZXB0ZWRcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVucmVnaXN0ZXJlZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVucmVnaXN0ZXJlZChyZXNwb25zZSwgVXRpbHNfMS5VdGlscy5zaXBFcnJvckNhdXNlKHJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBOb3QgYWN0dWFsbHkgdW5yZWdpc3RlcmVkLi4uXG4gICAgICAgICAgICAvLyB0aGlzLnVucmVnaXN0ZXJlZCh1bmRlZmluZWQsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlcXVlc3QuY3NlcSsrO1xuICAgICAgICB0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKFwiY3NlcVwiLCB0aGlzLnJlcXVlc3QuY3NlcSArIFwiIFJFR0lTVEVSXCIpO1xuICAgICAgICB0aGlzLnJlcXVlc3QuZXh0cmFIZWFkZXJzID0gZXh0cmFIZWFkZXJzO1xuICAgICAgICB0aGlzLnNlbmQoKTtcbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUudW5yZWdpc3RlcmVkID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjYXVzZSkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbWl0KFwidW5yZWdpc3RlcmVkXCIsIHJlc3BvbnNlIHx8IHVuZGVmaW5lZCwgY2F1c2UgfHwgdW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy51YS51c2VyQWdlbnRDb3JlLnJlZ2lzdGVyKHRoaXMucmVxdWVzdCwge1xuICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICBvblJlZGlyZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uVHJ5aW5nOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSZWdpc3RlckNvbnRleHQucHJvdG90eXBlLnJlZ2lzdHJhdGlvbkZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNhdXNlKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZSB8fCB1bmRlZmluZWQsIGNhdXNlIHx8IHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICBSZWdpc3RlckNvbnRleHQucHJvdG90eXBlLm9uVHJhbnNwb3J0RGlzY29ubmVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRCZWZvcmUgPSB0aGlzLnJlZ2lzdGVyZWQ7XG4gICAgICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cmF0aW9uVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJlZCh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgRnVuY3Rpb24gdG8gZ2VuZXJhdGUgQ29udGFjdCBIZWFkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBSZWdpc3RlckNvbnRleHQucHJvdG90eXBlLmdlbmVyYXRlQ29udGFjdEhlYWRlciA9IGZ1bmN0aW9uIChleHBpcmVzKSB7XG4gICAgICAgIGlmIChleHBpcmVzID09PSB2b2lkIDApIHsgZXhwaXJlcyA9IDA7IH1cbiAgICAgICAgdmFyIGNvbnRhY3QgPSB0aGlzLmNvbnRhY3Q7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVnSWQgJiYgdGhpcy5vcHRpb25zLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgIGNvbnRhY3QgKz0gXCI7cmVnLWlkPVwiICsgdGhpcy5vcHRpb25zLnJlZ0lkO1xuICAgICAgICAgICAgY29udGFjdCArPSAnOytzaXAuaW5zdGFuY2U9XCI8dXJuOnV1aWQ6JyArIHRoaXMub3B0aW9ucy5pbnN0YW5jZUlkICsgJz5cIic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRyYUNvbnRhY3RIZWFkZXJQYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5leHRyYUNvbnRhY3RIZWFkZXJQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgY29udGFjdCArPSBcIjtcIiArIGhlYWRlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhY3QgKz0gXCI7ZXhwaXJlcz1cIiArIGV4cGlyZXM7XG4gICAgICAgIHJldHVybiBjb250YWN0O1xuICAgIH07XG4gICAgcmV0dXJuIFJlZ2lzdGVyQ29udGV4dDtcbn0oQ2xpZW50Q29udGV4dF8xLkNsaWVudENvbnRleHQpKTtcbmV4cG9ydHMuUmVnaXN0ZXJDb250ZXh0ID0gUmVnaXN0ZXJDb250ZXh0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG52YXIgQ2xpZW50Q29udGV4dF8xID0gcmVxdWlyZShcIi4vQ2xpZW50Q29udGV4dFwiKTtcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xudmFyIEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbnZhciBFeGNlcHRpb25zXzEgPSByZXF1aXJlKFwiLi9FeGNlcHRpb25zXCIpO1xudmFyIFJlZmVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUmVmZXJDb250ZXh0XCIpO1xudmFyIFNlcnZlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1NlcnZlckNvbnRleHRcIik7XG52YXIgRFRNRl8xID0gcmVxdWlyZShcIi4vU2Vzc2lvbi9EVE1GXCIpO1xudmFyIERUTUZWYWxpZGF0b3JfMSA9IHJlcXVpcmUoXCIuL1Nlc3Npb24vRFRNRlZhbGlkYXRvclwiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG4vKlxuICogQHBhcmFtIHtmdW5jdGlvbiByZXR1cm5pbmcgU0lQLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJ9IFtzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeV1cbiAqICAgICAgICAoU2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkgYXJndW1lbnQgb2YgdGhlIFVBIGNvbnN0cnVjdG9yLilcbiAqL1xudmFyIFNlc3Npb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2Vzc2lvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZXNzaW9uKHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbjtcbiAgICAgICAgaWYgKCFzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcIkEgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGlzIHJlcXVpcmVkIGZvciB0aGUgc2Vzc2lvbiB0byBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0dXMgPSBTZXNzaW9uLkMuU1RBVFVTX05VTEw7XG4gICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSA9IHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5O1xuICAgICAgICBfdGhpcy5oYXNPZmZlciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNBbnN3ZXIgPSBmYWxzZTtcbiAgICAgICAgLy8gU2Vzc2lvbiBUaW1lcnNcbiAgICAgICAgX3RoaXMudGltZXJzID0ge1xuICAgICAgICAgICAgYWNrVGltZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGV4cGlyZXNUaW1lcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaW52aXRlMnh4VGltZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVzZXJOb0Fuc3dlclRpbWVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByZWwxeHhUaW1lcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJhY2tUaW1lcjogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIC8vIFNlc3Npb24gaW5mb1xuICAgICAgICBfdGhpcy5zdGFydFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLmVuZFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLnRvbmVzID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBIb2xkIHN0YXRlXG4gICAgICAgIF90aGlzLmxvY2FsSG9sZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5lYXJseVNkcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMucmVsMTAwID0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZHRtZiA9IGZ1bmN0aW9uICh0b25lcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBDaGVjayBTZXNzaW9uIFN0YXR1c1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEICYmIHRoaXMuc3RhdHVzICE9PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayB0b25lcycgdmFsaWRpdHlcbiAgICAgICAgRFRNRlZhbGlkYXRvcl8xLkRUTUZWYWxpZGF0b3IudmFsaWRhdGUodG9uZXMpO1xuICAgICAgICB2YXIgc2VuZERUTUYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQgfHwgIV90aGlzLnRvbmVzIHx8IF90aGlzLnRvbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFN0b3Agc2VuZGluZyBEVE1GXG4gICAgICAgICAgICAgICAgX3RoaXMudG9uZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGR0bWYgPSBfdGhpcy50b25lcy5zaGlmdCgpO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICAgICAgICBpZiAoZHRtZi50b25lID09PSBcIixcIikge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSAyMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZHRtZi5vbihcImZhaWxlZFwiLCBmdW5jdGlvbiAoKSB7IF90aGlzLnRvbmVzID0gdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgICAgICAgICBkdG1mLnNlbmQob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IGR0bWYuZHVyYXRpb24gKyBkdG1mLmludGVyVG9uZUdhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCB0aW1lb3V0IGZvciB0aGUgbmV4dCB0b25lXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHNlbmREVE1GLCB0aW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdG9uZXMgPSB0b25lcy50b1N0cmluZygpO1xuICAgICAgICB2YXIgZHRtZlR5cGUgPSB0aGlzLnVhLmNvbmZpZ3VyYXRpb24uZHRtZlR5cGU7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgJiYgZHRtZlR5cGUgPT09IENvbnN0YW50c18xLkMuZHRtZlR5cGUuUlRQKSB7XG4gICAgICAgICAgICB2YXIgc2VudCA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZW5kRHRtZih0b25lcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIXNlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQXR0ZW1wdCB0byB1c2UgZHRtZlR5cGUgJ1JUUCcgaGFzIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIElORk8gcGFja2V0IG1ldGhvZFwiKTtcbiAgICAgICAgICAgICAgICBkdG1mVHlwZSA9IENvbnN0YW50c18xLkMuZHRtZlR5cGUuSU5GTztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZHRtZlR5cGUgPT09IENvbnN0YW50c18xLkMuZHRtZlR5cGUuSU5GTykge1xuICAgICAgICAgICAgdmFyIGR0bWZzID0gW107XG4gICAgICAgICAgICB2YXIgdG9uZXNBcnJheSA9IHRvbmVzLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgd2hpbGUgKHRvbmVzQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGR0bWZzLnB1c2gobmV3IERUTUZfMS5EVE1GKHRoaXMsIHRvbmVzQXJyYXkuc2hpZnQoKSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy50b25lcykgJiYgdGhpcy50b25lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBUb25lcyBhcmUgYWxyZWFkeSBxdWV1ZWQsIGp1c3QgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAgICAgICAgICAgIHRoaXMudG9uZXMgPSB0aGlzLnRvbmVzLmNvbmNhdChkdG1mcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRvbmVzID0gZHRtZnM7XG4gICAgICAgICAgICBzZW5kRFRNRigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuYnllID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gQ2hlY2sgU2Vzc2lvbiBTdGF0dXNcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiRXJyb3I6IEF0dGVtcHRlZCB0byBzZW5kIEJZRSBpbiBhIHRlcm1pbmF0ZWQgc2Vzc2lvbi5cIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJ0ZXJtaW5hdGluZyBTZXNzaW9uXCIpO1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgJiYgKHN0YXR1c0NvZGUgPCAyMDAgfHwgc3RhdHVzQ29kZSA+PSA3MDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdChDb25zdGFudHNfMS5DLkJZRSwgb3B0aW9ucykudGVybWluYXRlZCgpO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUucmVmZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIENoZWNrIFNlc3Npb24gU3RhdHVzXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZlckNvbnRleHQgPSBuZXcgUmVmZXJDb250ZXh0XzEuUmVmZXJDbGllbnRDb250ZXh0KHRoaXMudWEsIHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW1pdChcInJlZmVyUmVxdWVzdGVkXCIsIHRoaXMucmVmZXJDb250ZXh0KTtcbiAgICAgICAgdGhpcy5yZWZlckNvbnRleHQucmVmZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyQ29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmRzIGluIGRpYWxvZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBtZXRob2QgUmVxdWVzdCBtZXRob2QuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiAobWV0aG9kLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29udmVydCBhbnkgXCJib2R5XCIgb3B0aW9uIHRvIGEgQm9keS5cbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgb3B0aW9ucy5ib2R5ID0gVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihvcHRpb25zLmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnZlcnQgYW55IFwicmVjZWl2ZVJlc3BvbnNlXCIgY2FsbGJhY2sgb3B0aW9uIHBhc3NlZCB0byBhbiBPdXRnb2luZ1JlcXVlc3REZWxlZ2F0ZS5cbiAgICAgICAgdmFyIGRlbGVnYXRlO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBvcHRpb25zLnJlY2VpdmVSZXNwb25zZTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBkZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICBvbkFjY2VwdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBjYWxsYmFjayhyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIGNhbGxiYWNrKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gY2FsbGJhY2socmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gY2FsbGJhY2socmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gY2FsbGJhY2socmVzcG9uc2UubWVzc2FnZSk7IH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVlc3Q7XG4gICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuQllFOlxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB0aGlzLnNlc3Npb24uYnllKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuSU5WSVRFOlxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB0aGlzLnNlc3Npb24uaW52aXRlKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuTUVTU0FHRTpcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gdGhpcy5zZXNzaW9uLm1lc3NhZ2UoZGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5SRUZFUjpcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gdGhpcy5zZXNzaW9uLnJlZmVyKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgXCIgKyBtZXRob2QgKyBcIi4gTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCBieSB1c2VyIGFnZW50IGNvcmUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvcnRlZCAtIEVtaXQgdGhlIHJlcXVlc3QgZXZlbnRcbiAgICAgICAgdGhpcy5lbWl0KG1ldGhvZC50b0xvd2VyQ2FzZSgpLCByZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiY2xvc2luZyBJTlZJVEUgc2Vzc2lvbiBcIiArIHRoaXMuaWQpO1xuICAgICAgICAvLyAxc3QgU3RlcC4gVGVybWluYXRlIG1lZGlhLlxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAybmQgU3RlcC4gVGVybWluYXRlIHNpZ25hbGluZy5cbiAgICAgICAgLy8gQ2xlYXIgc2Vzc2lvbiB0aW1lcnNcbiAgICAgICAgZm9yICh2YXIgdGltZXIgaW4gdGhpcy50aW1lcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyc1t0aW1lcl0pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnNbdGltZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRDtcbiAgICAgICAgaWYgKHRoaXMudWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLnVhLnRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcInRyYW5zcG9ydEVycm9yXCIsIHRoaXMuZXJyb3JMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMudWEuc2Vzc2lvbnNbdGhpcy5pZF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuaG9sZCA9IGZ1bmN0aW9uIChvcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IFtdOyB9XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0sgJiYgdGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxvY2FsSG9sZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBpcyBhbHJlYWR5IG9uIGhvbGQsIGNhbm5vdCBwdXQgaXQgb24gaG9sZCBhZ2FpblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgb3B0aW9ucy5tb2RpZmllcnMucHVzaCh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaG9sZE1vZGlmaWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvY2FsSG9sZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VuZFJlaW52aXRlKG9wdGlvbnMpO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUudW5ob2xkID0gZnVuY3Rpb24gKG9wdGlvbnMsIG1vZGlmaWVycykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAobW9kaWZpZXJzID09PSB2b2lkIDApIHsgbW9kaWZpZXJzID0gW107IH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzICE9PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSyAmJiB0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxvY2FsSG9sZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBpcyBub3Qgb24gaG9sZCwgY2Fubm90IHVuaG9sZCBpdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICAgICAgdGhpcy5sb2NhbEhvbGQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZW5kUmVpbnZpdGUob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWludml0ZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IFtdOyB9XG4gICAgICAgIG9wdGlvbnMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVpbnZpdGUob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBoZXJlIGZvciB0eXBlcyBhbmQgdG8gYmUgb3ZlcnJpZGRlblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQgJiYgdGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgdGhpcy5mYWlsZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUub25SZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmZhaWxlZCh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkRpYWxvZ0Vycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuRElBTE9HX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuRElBTE9HX0VSUk9SKTtcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuRElBTE9HX0VSUk9SKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkFjayA9IGZ1bmN0aW9uIChpbmNvbWluZ1JlcXVlc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbmZpcm1TZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVycy5hY2tUaW1lcik7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXJzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnREaXNwID0gaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChjb250ZW50RGlzcCAmJiBjb250ZW50RGlzcC50eXBlID09PSBcInJlbmRlclwiKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyYm9keSA9IGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmJvZHk7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVydHlwZSA9IGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJjb25maXJtZWRcIiwgaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSB8fCBcIlwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQW5zd2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuc2V0RGVzY3JpcHRpb24oaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuYm9keSwgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgdGhpcy5tb2RpZmllcnMpLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKGUpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogXCI0ODhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvblBocmFzZTogXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlybVNlc3Npb24oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maXJtU2Vzc2lvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdCA9IGZ1bmN0aW9uIChpbmNvbWluZ1JlcXVlc3QpIHtcbiAgICAgICAgc3dpdGNoIChpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5tZXRob2QpIHsgLy8gVE9ETzogVGhpcyBuZWVkcyBhIGRlZmF1bHQgY2FzZVxuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5DLkJZRTpcbiAgICAgICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJieWVcIiwgaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UsIENvbnN0YW50c18xLkMuQllFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuSU5WSVRFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwicmUtSU5WSVRFIHJlY2VpdmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVSZWludml0ZShpbmNvbWluZ1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5JTkZPOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQgfHwgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25JbmZvKGluY29taW5nUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFR5cGUgPSBpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5nZXRIZWFkZXIoXCJjb250ZW50LXR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlLm1hdGNoKC9eYXBwbGljYXRpb25cXC9kdG1mLXJlbGF5L2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5ib2R5LnNwbGl0KFwiXFxyXFxuXCIsIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b25lID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ1RvbmUgPSAvXihTaWduYWxcXHMqPz1cXHMqPykoWzAtOUEtRCMqXXsxfSkoXFxzKT8uKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnVG9uZS50ZXN0KGJvZHlbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9uZSA9IGJvZHlbMF0ucmVwbGFjZShyZWdUb25lLCBcIiQyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ0R1cmF0aW9uID0gL14oRHVyYXRpb25cXHM/PVxccz8pKFswLTldezEsNH0pKFxccyk/LiovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ0R1cmF0aW9uLnRlc3QoYm9keVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHBhcnNlSW50KGJvZHlbMV0ucmVwbGFjZShyZWdEdXJhdGlvbiwgXCIkMlwiKSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvbmUgJiYgZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRFRNRl8xLkRUTUYodGhpcywgdG9uZSwgeyBkdXJhdGlvbjogZHVyYXRpb24gfSkuaW5pdF9pbmNvbWluZyhpbmNvbWluZ1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBbXCJBY2NlcHQ6IGFwcGxpY2F0aW9uL2R0bWYtcmVsYXlcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5SRUZFUjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlJFRkVSIHJlY2VpdmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZmVyQ29udGV4dCA9IG5ldyBSZWZlckNvbnRleHRfMS5SZWZlclNlcnZlckNvbnRleHQodGhpcy51YSwgaW5jb21pbmdSZXF1ZXN0LCB0aGlzLnNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnMoXCJyZWZlclJlcXVlc3RlZFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJlZmVyUmVxdWVzdGVkXCIsIHRoaXMucmVmZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIk5vIHJlZmVyUmVxdWVzdGVkIGxpc3RlbmVycywgYXV0b21hdGljYWxseSBhY2NlcHRpbmcgYW5kIGZvbGxvd2luZyB0aGUgcmVmZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsgZm9sbG93UmVmZXI6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhc3NlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmludml0ZU9wdGlvbnMgPSB0aGlzLnBhc3NlZE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZmVyQ29udGV4dC5hY2NlcHQob3B0aW9ucywgdGhpcy5tb2RpZmllcnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5DLk5PVElGWTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWZlckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZlckNvbnRleHQudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5SZWZlckNsaWVudENvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuaGFzSGVhZGVyKFwiZXZlbnRcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgL15yZWZlcig7LiopPyQvLnRlc3QoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiZXZlbnRcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmZXJDb250ZXh0LnJlY2VpdmVOb3RpZnkoaW5jb21pbmdSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibm90aWZ5XCIsIGluY29taW5nUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5NRVNTQUdFOlxuICAgICAgICAgICAgICAgIGluY29taW5nUmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJtZXNzYWdlXCIsIGluY29taW5nUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW4gZGlhbG9nIElOVklURSBSZWNlcHRpb25cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWNlaXZlUmVpbnZpdGUgPSBmdW5jdGlvbiAoaW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICAgIC8vIFRPRE86IFNob3VsZCBwcm9iYWJseSBjaGVjayBzdGF0ZSBvZiB0aGUgc2Vzc2lvblxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmVtaXQoXCJyZWludml0ZVwiLCB0aGlzLCBpbmNvbWluZ1JlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgIGlmIChpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5oYXNIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydGVkSWRlbnRpdHkgPVxuICAgICAgICAgICAgICAgIGNvcmVfMS5HcmFtbWFyLm5hbWVBZGRySGVhZGVyUGFyc2UoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiUC1Bc3NlcnRlZC1JZGVudGl0eVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb21pc2U7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm8gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciB0byByZWludml0ZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1MZW5ndGhcIikgPT09IFwiMFwiICYmXG4gICAgICAgICAgICAhaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKSB7IC8vIEludml0ZSB3L28gU0RQXG4gICAgICAgICAgICBwcm9taXNlID0gdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24oaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAvLyBJbnZpdGUgdy8gU0RQXG4gICAgICAgICAgICBwcm9taXNlID0gdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnNldERlc2NyaXB0aW9uKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKS50aGVuKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5nZXREZXNjcmlwdGlvbi5iaW5kKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciwgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgdGhpcy5tb2RpZmllcnMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gQmFkIFBhY2tldCAoc2hvdWxkIG5ldmVyIGdldCBoaXQpXG4gICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QucmVqZWN0KHsgc3RhdHVzQ29kZTogNDE1IH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVpbnZpdGVGYWlsZWRcIiwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHN0YXR1c0NvZGU7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPSA1MDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuUmVuZWdvdGlhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlbmVnb3RpYXRpb25FcnJvclwiLCBlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPSA0ODg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9IDQ4ODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluY29taW5nUmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlIH0pO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlaW52aXRlRmFpbGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgY291bGQgYmUgYmV0dGVyXG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtcIkNvbnRhY3Q6IFwiICsgX3RoaXMuY29udGFjdF07XG4gICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihkZXNjcmlwdGlvbilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0s7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVpbnZpdGVBY2NlcHRlZFwiLCBfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuc2VuZFJlaW52aXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlaW52aXRlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiUmVpbnZpdGUgaW4gcHJvZ3Jlc3MuIFBsZWFzZSB3YWl0IHVudGlsIGNvbXBsZXRlLCB0aGVuIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJObyBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLCBjYW4ndCByZWludml0ZS4uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZ1JlaW52aXRlID0gdHJ1ZTtcbiAgICAgICAgb3B0aW9ucy5tb2RpZmllcnMgPSBvcHRpb25zLm1vZGlmaWVycyB8fCBbXTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuY29udGFjdCk7XG4gICAgICAgIC8vIHRoaXMgaXMgVUEuQy5BTExPV0VEX01FVEhPRFMsIHJlbW92ZWQgdG8gZ2V0IGFyb3VuZCBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQWxsb3c6IFwiICsgW1xuICAgICAgICAgICAgXCJBQ0tcIixcbiAgICAgICAgICAgIFwiQ0FOQ0VMXCIsXG4gICAgICAgICAgICBcIklOVklURVwiLFxuICAgICAgICAgICAgXCJNRVNTQUdFXCIsXG4gICAgICAgICAgICBcIkJZRVwiLFxuICAgICAgICAgICAgXCJPUFRJT05TXCIsXG4gICAgICAgICAgICBcIklORk9cIixcbiAgICAgICAgICAgIFwiTk9USUZZXCIsXG4gICAgICAgICAgICBcIlJFRkVSXCJcbiAgICAgICAgXS50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uKG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIHVuZGVmaW5lZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGVsZWdhdGUgPSB7XG4gICAgICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlJlY2VpdmVkIHJlaW52aXRlIHJlc3BvbnNlLCBidXQgaW4gU1RBVFVTX1RFUk1JTkFURURcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBEbyB3ZSBuZWVkIHRvIHNlbmQgYSBTSVAgcmVzcG9uc2U/XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5wZW5kaW5nUmVpbnZpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlJlY2VpdmVkIHJlaW52aXRlIHJlc3BvbnNlLCBidXQgaGF2ZSBubyBwZW5kaW5nIHJlaW52aXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogRG8gd2UgbmVlZCB0byBzZW5kIGEgU0lQIHJlc3BvbnNlP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaHkgaXMgdGhpcyBzZXQgaGVyZT9cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIDE3LjEuMS4xIC0gRm9yIGVhY2ggZmluYWwgcmVzcG9uc2UgdGhhdCBpcyByZWNlaXZlZCBhdCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHNlbmRzIGFuIEFDSyxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFja1wiLCByZXNwb25zZS5hY2soKSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBBbGwgb2YgdGhlc2UgdGltZXJzIHNob3VsZCBtb3ZlIGludG8gdGhlIFRyYW5zYWN0aW9uIGxheWVyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lcnMuaW52aXRlMnh4VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlc3BvbnNlLm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCIyWFggcmVzcG9uc2UgcmVjZWl2ZWQgdG8gcmUtaW52aXRlIGJ1dCBkaWQgbm90IGhhdmUgYSBkZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWludml0ZUZhaWxlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVuZWdvdGlhdGlvbkVycm9yXCIsIG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5SZW5lZ290aWF0aW9uRXJyb3IoXCIyWFggcmVzcG9uc2UgcmVjZWl2ZWQgdG8gcmUtaW52aXRlIGJ1dCBkaWQgbm90IGhhdmUgYSBkZXNjcmlwdGlvblwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLm1lc3NhZ2UuYm9keSwgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIF90aGlzLm1vZGlmaWVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKFwiQ291bGQgbm90IHNldCB0aGUgZGVzY3JpcHRpb24gaW4gMlhYIHJlc3BvbnNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlaW52aXRlRmFpbGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChDb25zdGFudHNfMS5DLkJZRSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVyczogW1wiUmVhc29uOiBcIiArIFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoNDg4LCBcIk5vdCBBY2NlcHRhYmxlIEhlcmVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRlcm1pbmF0ZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5JTkNPTVBBVElCTEVfU0RQKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVpbnZpdGVBY2NlcHRlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogRG9lcyBBQ0sgbmVlZCB0byBiZSBzZW50P1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIlJlY2VpdmVkIGEgbm9uIDFYWCBvciAyWFggcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWludml0ZUZhaWxlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlJlbmVnb3RpYXRpb25FcnJvcihcIkludmFsaWQgcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIikpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogRG9lcyBBQ0sgbmVlZCB0byBiZSBzZW50P1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIlJlY2VpdmVkIGEgbm9uIDFYWCBvciAyWFggcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWludml0ZUZhaWxlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlJlbmVnb3RpYXRpb25FcnJvcihcIkludmFsaWQgcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIikpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiBVdGlsc18xLlV0aWxzLmZyb21Cb2R5T2JqKGRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNlc3Npb24uaW52aXRlKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlJlbmVnb3RpYXRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJSZW5lZ290aWF0aW9uIEVycm9yXCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgZXJyb3JcIik7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmZhaWxlZCA9IGZ1bmN0aW9uIChyZXNwb25zZSwgY2F1c2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnJlamVjdGVkID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjYXVzZSkge1xuICAgICAgICB0aGlzLmVtaXQoXCJyZWplY3RlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmNhbmNlbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJjYW5jZWxcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuYWNjZXB0ZWQgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNhdXNlKSB7XG4gICAgICAgIGlmICghKHJlc3BvbnNlIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgY2F1c2UgPSBVdGlsc18xLlV0aWxzLmdldFJlYXNvblBocmFzZSgocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSkgfHwgMCwgY2F1c2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMucmVwbGFjZWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVwbGFjZWUuZW1pdChcInJlcGxhY2VkXCIsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZXBsYWNlZS50ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJhY2NlcHRlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnRlcm1pbmF0ZWQgPSBmdW5jdGlvbiAobWVzc2FnZSwgY2F1c2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5lbWl0KFwidGVybWluYXRlZFwiLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuY29ubmVjdGluZyA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RpbmdcIiwgeyByZXF1ZXN0OiByZXF1ZXN0IH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24uQyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cztcbiAgICByZXR1cm4gU2Vzc2lvbjtcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLlNlc3Npb24gPSBTZXNzaW9uO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1jbGFzc2VzLXBlci1maWxlXG52YXIgSW52aXRlU2VydmVyQ29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVTZXJ2ZXJDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEludml0ZVNlcnZlckNvbnRleHQodWEsIGluY29taW5nSW52aXRlUmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXVhLmNvbmZpZ3VyYXRpb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIHVhLmxvZ2dlci53YXJuKFwiQ2FuJ3QgYnVpbGQgSVNDIHdpdGhvdXQgU0RIIEZhY3RvcnlcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJU0MgQ29uc3RydWN0b3IgRmFpbGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdWEuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2NhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnJzZXEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICAgIF90aGlzLmluY29taW5nUmVxdWVzdCA9IGluY29taW5nSW52aXRlUmVxdWVzdDtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBpbmNvbWluZ0ludml0ZVJlcXVlc3QubWVzc2FnZTtcbiAgICAgICAgU2VydmVyQ29udGV4dF8xLlNlcnZlckNvbnRleHQuaW5pdGlhbGl6ZXIoX3RoaXMsIHVhLCBpbmNvbWluZ0ludml0ZVJlcXVlc3QpO1xuICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5JbnZpdGVTZXJ2ZXJDb250ZXh0O1xuICAgICAgICB2YXIgY29udGVudERpc3AgPSByZXF1ZXN0LnBhcnNlSGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiKTtcbiAgICAgICAgaWYgKGNvbnRlbnREaXNwICYmIGNvbnRlbnREaXNwLnR5cGUgPT09IFwicmVuZGVyXCIpIHtcbiAgICAgICAgICAgIF90aGlzLnJlbmRlcmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXJ0eXBlID0gcmVxdWVzdC5nZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19JTlZJVEVfUkVDRUlWRUQ7XG4gICAgICAgIF90aGlzLmZyb21UYWcgPSByZXF1ZXN0LmZyb21UYWc7XG4gICAgICAgIF90aGlzLmlkID0gcmVxdWVzdC5jYWxsSWQgKyBfdGhpcy5mcm9tVGFnO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgX3RoaXMuY29udGFjdCA9IF90aGlzLnVhLmNvbnRhY3QudG9TdHJpbmcoKTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLmludml0ZXNlcnZlcmNvbnRleHRcIiwgX3RoaXMuaWQpO1xuICAgICAgICAvLyBTYXZlIHRoZSBzZXNzaW9uIGludG8gdGhlIHVhIHNlc3Npb25zIGNvbGxlY3Rpb24uXG4gICAgICAgIF90aGlzLnVhLnNlc3Npb25zW190aGlzLmlkXSA9IF90aGlzO1xuICAgICAgICAvLyBTZXQgMTAwcmVsIGlmIG5lY2Vzc2FyeVxuICAgICAgICB2YXIgc2V0MTAwcmVsID0gZnVuY3Rpb24gKGhlYWRlciwgcmVsU2V0dGluZykge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3QuaGFzSGVhZGVyKGhlYWRlcikgJiYgcmVxdWVzdC5nZXRIZWFkZXIoaGVhZGVyKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIxMDByZWxcIikgPj0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbDEwMCA9IHJlbFNldHRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldDEwMHJlbChcInJlcXVpcmVcIiwgQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpO1xuICAgICAgICBzZXQxMDByZWwoXCJzdXBwb3J0ZWRcIiwgQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKTtcbiAgICAgICAgLy8gU2V0IHRoZSB0b1RhZyBvbiB0aGUgaW5jb21pbmcgcmVxdWVzdCB0byB0aGUgdG9UYWcgd2hpY2hcbiAgICAgICAgLy8gd2lsbCBiZSB1c2VkIGluIHRoZSByZXNwb25zZSB0byB0aGUgaW5jb21pbmcgcmVxdWVzdCEhIVxuICAgICAgICAvLyBGSVhNRTogSEFDSzogVGhpcyBpcyBhIGhhY2sgdG8gcG9ydCBhbiBleGlzdGluZyBiZWhhdmlvci5cbiAgICAgICAgLy8gVGhlIGJlaGF2aW9yIGJlaW5nIHBvcnRlZCBhcHBlYXJzIHRvIGJlIGEgaGFjayBpdHNlbGYsXG4gICAgICAgIC8vIHNvIHRoaXMgaXMgYSBoYWNrIHRvIHBvcnQgYSBoYWNrLiBBdCBsZWFzdCBvbmUgdGVzdCBzcGVjXG4gICAgICAgIC8vIHJlbGllcyBvbiBpdCAod2hpY2ggaXMgeWV0IGFub3RoZXIgaGFjaykuXG4gICAgICAgIF90aGlzLnJlcXVlc3QudG9UYWcgPSBpbmNvbWluZ0ludml0ZVJlcXVlc3QudG9UYWc7XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSO1xuICAgICAgICAvLyBTZXQgdXNlck5vQW5zd2VyVGltZXJcbiAgICAgICAgX3RoaXMudGltZXJzLnVzZXJOb0Fuc3dlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbmNvbWluZ0ludml0ZVJlcXVlc3QucmVqZWN0KHsgc3RhdHVzQ29kZTogNDA4IH0pO1xuICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLk5PX0FOU1dFUik7XG4gICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLk5PX0FOU1dFUik7XG4gICAgICAgIH0sIF90aGlzLnVhLmNvbmZpZ3VyYXRpb24ubm9BbnN3ZXJUaW1lb3V0IHx8IDYwKTtcbiAgICAgICAgLyogU2V0IGV4cGlyZXNUaW1lclxuICAgICAgICAqIFJGQzMyNjEgMTMuMy4xXG4gICAgICAgICovXG4gICAgICAgIC8vIEdldCB0aGUgRXhwaXJlcyBoZWFkZXIgdmFsdWUgaWYgZXhpc3RzXG4gICAgICAgIGlmIChyZXF1ZXN0Lmhhc0hlYWRlcihcImV4cGlyZXNcIikpIHtcbiAgICAgICAgICAgIHZhciBleHBpcmVzID0gTnVtYmVyKHJlcXVlc3QuZ2V0SGVhZGVyKFwiZXhwaXJlc1wiKSB8fCAwKSAqIDEwMDA7XG4gICAgICAgICAgICBfdGhpcy50aW1lcnMuZXhwaXJlc1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdJbnZpdGVSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4NyB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLkVYUElSRVMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLkVYUElSRVMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGV4cGlyZXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmVycm9yTGlzdGVuZXIgPSBfdGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB1YS50cmFuc3BvcnQub24oXCJ0cmFuc3BvcnRFcnJvclwiLCBfdGhpcy5lcnJvckxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZpdGVTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZSwgXCJhdXRvU2VuZEFuSW5pdGlhbFByb3Zpc2lvbmFsUmVzcG9uc2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgYSBmaXJzdCBwcm92aXNpb25hbCByZXNwb25zZSBhZnRlciB0aGUgMTAwIFRyeWluZ1xuICAgICAgICAgKiB3aWxsIGJlIHNlbnQgYXV0b21hdGljYWxseS4gVGhpcyBpcyBmYWxzZSBpdCB0aGUgVUFDIHJlcXVpcmVkXG4gICAgICAgICAqIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyAoMTAwcmVsIGluIFJlcXVpcmUgaGVhZGVyKSxcbiAgICAgICAgICogb3RoZXJ3aXNlIGl0IGlzIHRydWUuIFRoZSBwcm92aXNpb25hbCBpcyBzZW50IGJ5IGNhbGxpbmdcbiAgICAgICAgICogYHByb2dyZXNzKClgIHdpdGhvdXQgYW55IG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZJWE1FOiBUT0RPOiBJdCBzZWVtcyByZWFzb25hYmxlIHRoYXQgdGhlIElTQyB1c2VyIHNob3VsZFxuICAgICAgICAgKiBiZSBhYmxlIHRvIG9wdGlvbmFsbHkgZGlzYWJsZSB0aGlzIGJlaGF2aW9yLiBBcyB0aGUgcHJvdmlzaW9uYWxcbiAgICAgICAgICogaXMgc2VudCBwcmlvciB0byB0aGUgXCJpbnZpdGVcIiBldmVudCBiZWluZyBlbWl0dGVkLCBpdCdzIGEga25vd25cbiAgICAgICAgICogaXNzdWUgdGhhdCB0aGUgSVNDIHVzZXIgY2Fubm90IHJlZ2lzdGVyIGxpc3RlbmVycyBvciBkbyBhbnkgb3RoZXJcbiAgICAgICAgICogc2V0dXAgcHJpb3IgdG8gdGhlIGNhbGwgdG8gYHByb2dyZXNzKClgLiBBcyBhbiBleGFtcGxlIHdoeSB0aGlzIGlzXG4gICAgICAgICAqIGFuIGlzc3VlLCBzZXR0aW5nIGB1YS5jb25maWd1cmF0aW9uLnJlbDEwMGAgdG8gUkVRVUlSRUQgd2lsbCByZXN1bHRcbiAgICAgICAgICogaW4gYW4gYXR0ZW1wdCBieSBgcHJvZ3Jlc3MoKWAgdG8gc2VuZCBhIDE4MyB3aXRoIFNEUCBwcm9kdWNlZCBieVxuICAgICAgICAgKiBjYWxsaW5nIGBnZXREZXNjcmlwdGlvbigpYCBvbiBhIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciwgYnV0XG4gICAgICAgICAqIHRoZSBJU0MgdXNlciBjYW5ub3QgcGVyZm9ybSBhbnkgcG90ZW50aWFsbHkgcmVxdWlyZWQgc2Vzc2lvbiBkZXNjcmlwdGlvblxuICAgICAgICAgKiBoYW5kbGVyIGluaXRpYWxpemF0aW9uICh0aHVzIHByZXZlbnRpbmcgdGhlIHV0aWxpemF0aW9uIG9mIHNldHRpbmdcbiAgICAgICAgICogYHVhLmNvbmZpZ3VyYXRpb24ucmVsMTAwYCB0byBSRVFVSVJFRCkuIFRoYXQgYmVncyB0aGUgcXVlc3Rpb24gb2ZcbiAgICAgICAgICogd2h5IHRoaXMgYmVoYXZpb3IgaXMgZGlzYWJsZWQgd2hlbiB0aGUgVUFDIHJlcXVpcmVzIDEwMHJlbCBidXQgbm90XG4gICAgICAgICAqIHdoZW4gdGhlIFVBUyByZXF1aXJlcyAxMDByZWw/IEJ1dCBpZ25vcmluZyB0aGF0LCBpdCdzIGp1c3Qgb25lIGV4YW1wbGVcbiAgICAgICAgICogb2YgYSBjbGFzcyBvZiBjYXNlcyB3aGVyZSB0aGUgSVNDIHVzZXIgbmVlZHMgdG8gZG8gc29tZXRoaW5nIHByaW9yXG4gICAgICAgICAqIHRvIHRoZSBmaXJzdCBjYWxsIHRvIGBwcm9ncmVzcygpYCBhbmQgaXMgdW5hYmxlIHRvIGRvIHNvLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlJFUVVJUkVEID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyB0eXBlIGhhY2sgZm9yIHNlcnZlcmNvbnRleHQgaW50ZXJmYWNlXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVwbHkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIHR5cGluZyBub3RlOiB0aGlzIHdhcyB0aGUgb25seSBmdW5jdGlvbiB1c2luZyBpdHMgc3VwZXIgaW4gU2VydmVyQ29udGV4dFxuICAgIC8vIHNvIHRoZSBib3R0b20gaGFsZiBvZiB0aGlzIGZ1bmN0aW9uIGlzIGNvcGllZCBhbmQgcGFpcmVkIGRvd24gZnJvbSB0aGF0XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gQ2hlY2sgU2Vzc2lvbiBTdGF0dXNcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwicmVqZWN0aW5nIFJUQ1Nlc3Npb25cIik7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDQ4MDtcbiAgICAgICAgdmFyIHJlYXNvblBocmFzZSA9IFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHN0YXR1c0NvZGUsIG9wdGlvbnMucmVhc29uUGhyYXNlKTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDMwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5ID8gY29yZV8xLmZyb21Cb2R5TGVnYWN5KG9wdGlvbnMuYm9keSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIEZJWE1FOiBOZWVkIHRvIHJlZGlyZWN0IHRvIHNvbWVwbGFlXG4gICAgICAgIHZhciByZXNwb25zZSA9IHN0YXR1c0NvZGUgPCA0MDAgP1xuICAgICAgICAgICAgdGhpcy5pbmNvbWluZ1JlcXVlc3QucmVkaXJlY3QoW10sIHsgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSwgcmVhc29uUGhyYXNlOiByZWFzb25QaHJhc2UsIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzLCBib2R5OiBib2R5IH0pIDpcbiAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZTogcmVhc29uUGhyYXNlLCBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycywgYm9keTogYm9keSB9KTtcbiAgICAgICAgKFtcInJlamVjdGVkXCIsIFwiZmFpbGVkXCJdKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChldmVudCwgcmVzcG9uc2UubWVzc2FnZSwgcmVhc29uUGhyYXNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcm1pbmF0ZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjY2VwdCB0aGUgaW5jb21pbmcgSU5WSVRFIHJlcXVlc3QgdG8gc3RhcnQgYSBTZXNzaW9uLlxuICAgICAqIFJlcGxpZXMgdG8gdGhlIElOVklURSByZXF1ZXN0IHdpdGggYSAyMDAgT2sgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gRklYTUU6IE5lZWQgZ3VhcmQgYWdhaW5zdCBjYWxsaW5nIG1vcmUgdGhhbiBvbmNlLlxuICAgICAgICB0aGlzLl9hY2NlcHQob3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBfYS5tZXNzYWdlLCBzZXNzaW9uID0gX2Euc2Vzc2lvbjtcbiAgICAgICAgICAgIHNlc3Npb24uZGVsZWdhdGUgPSB7XG4gICAgICAgICAgICAgICAgb25BY2s6IGZ1bmN0aW9uIChhY2tSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5vbkFjayhhY2tSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICBvbkFja1RpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQWNrVGltZW91dCgpOyB9LFxuICAgICAgICAgICAgICAgIG9uQnllOiBmdW5jdGlvbiAoYnllUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QoYnllUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICAgICAgb25JbmZvOiBmdW5jdGlvbiAoaW5mb1JlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KGluZm9SZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICBvbkludml0ZTogZnVuY3Rpb24gKGludml0ZVJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KGludml0ZVJlcXVlc3QpOyB9LFxuICAgICAgICAgICAgICAgIG9uTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICAgICAgb25Ob3RpZnk6IGZ1bmN0aW9uIChub3RpZnlSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChub3RpZnlSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICBvblByYWNrOiBmdW5jdGlvbiAocHJhY2tSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChwcmFja1JlcXVlc3QpOyB9LFxuICAgICAgICAgICAgICAgIG9uUmVmZXI6IGZ1bmN0aW9uIChyZWZlclJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KHJlZmVyUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSztcbiAgICAgICAgICAgIF90aGlzLmFjY2VwdGVkKG1lc3NhZ2UsIFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKDIwMCkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMub25Db250ZXh0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgLy8gRklYTUU6IEFzc3VtaW5nIGVycm9yIGR1ZSB0byBhc3luYyByYWNlIG9uIENBTkNFTCBhbmQgZWF0aW5nIGVycm9yLlxuICAgICAgICAgICAgaWYgKCFfdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVwb3J0IHByb2dyZXNzIHRvIHRoZSB0aGUgY2FsbGVyLlxuICAgICAqIFJlcGxpZXMgdG8gdGhlIElOVklURSByZXF1ZXN0IHdpdGggYSAxeHggcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBQb3J0ZWRcbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgwO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gMTk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvcnRlZFxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlVuZXhwZWN0ZWQgY2FsbCBmb3IgcHJvZ3Jlc3Mgd2hpbGUgdGVybWluYXRlZCwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGRlZFxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIGNhbGwgZm9yIHByb2dyZXNzIHdoaWxlIGFuc3dlcmVkLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZGVkXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19BTlNXRVJFRF9XQUlUSU5HX0ZPUl9QUkFDSykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlVuZXhwZWN0ZWQgY2FsbCBmb3IgcHJvZ3Jlc3Mgd2hpbGUgYW5zd2VyZWQgKHdhaXRpbmcgZm9yIHByYWNrKSwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBBZnRlciB0aGUgZmlyc3QgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgZm9yIGEgcmVxdWVzdCBoYXMgYmVlblxuICAgICAgICAvLyBhY2tub3dsZWRnZWQsIHRoZSBVQVMgTUFZIHNlbmQgYWRkaXRpb25hbCByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAvLyByZXNwb25zZXMuICBUaGUgVUFTIE1VU1QgTk9UIHNlbmQgYSBzZWNvbmQgcmVsaWFibGUgcHJvdmlzaW9uYWxcbiAgICAgICAgLy8gcmVzcG9uc2UgdW50aWwgdGhlIGZpcnN0IGlzIGFja25vd2xlZGdlZC4gIEFmdGVyIHRoZSBmaXJzdCwgaXQgaXNcbiAgICAgICAgLy8gUkVDT01NRU5ERUQgdGhhdCB0aGUgVUFTIG5vdCBzZW5kIGFuIGFkZGl0aW9uYWwgcmVsaWFibGUgcHJvdmlzaW9uYWxcbiAgICAgICAgLy8gcmVzcG9uc2UgdW50aWwgdGhlIHByZXZpb3VzIGlzIGFja25vd2xlZGdlZC4gIFRoZSBmaXJzdCByZWxpYWJsZVxuICAgICAgICAvLyBwcm92aXNpb25hbCByZXNwb25zZSByZWNlaXZlcyBzcGVjaWFsIHRyZWF0bWVudCBiZWNhdXNlIGl0IGNvbnZleXNcbiAgICAgICAgLy8gdGhlIGluaXRpYWwgc2VxdWVuY2UgbnVtYmVyLiAgSWYgYWRkaXRpb25hbCByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAvLyByZXNwb25zZXMgd2VyZSBzZW50IGJlZm9yZSB0aGUgZmlyc3Qgd2FzIGFja25vd2xlZGdlZCwgdGhlIFVBUyBjb3VsZFxuICAgICAgICAvLyBub3QgYmUgY2VydGFpbiB0aGVzZSB3ZXJlIHJlY2VpdmVkIGluIG9yZGVyLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTNcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVW5leHBlY3RlZCBjYWxsIGZvciBwcm9ncmVzcyB3aGlsZSB3YWl0aW5nIGZvciBwcmFjaywgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3J0ZWRcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhdHVzQ29kZSA9PT0gMTAwKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnRyeWluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbnRleHRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IEFzc3VtaW5nIGVycm9yIGR1ZSB0byBhc3luYyByYWNlIG9uIENBTkNFTCBhbmQgZWF0aW5nIGVycm9yLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhbmRhcmQgcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICAgIGlmICghKHRoaXMucmVsMTAwID09PSBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRCkgJiZcbiAgICAgICAgICAgICEodGhpcy5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCAmJiBvcHRpb25zLnJlbDEwMCkgJiZcbiAgICAgICAgICAgICEodGhpcy5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCAmJiB0aGlzLnVhLmNvbmZpZ3VyYXRpb24ucmVsMTAwID09PSBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQ29udGV4dEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogQXNzdW1pbmcgZXJyb3IgZHVlIHRvIGFzeW5jIHJhY2Ugb24gQ0FOQ0VMIGFuZCBlYXRpbmcgZXJyb3IuXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZS5cbiAgICAgICAgdGhpcy5fcmVsaWFibGVQcm9ncmVzc1dhaXRGb3JQcmFjayhvcHRpb25zKVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMub25Db250ZXh0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgLy8gRklYTUU6IEFzc3VtaW5nIGVycm9yIGR1ZSB0byBhc3luYyByYWNlIG9uIENBTkNFTCBhbmQgZWF0aW5nIGVycm9yLlxuICAgICAgICAgICAgaWYgKCFfdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVqZWN0IGFuIHVuYWNjZXB0ZWQgaW5jb21pbmcgSU5WSVRFIHJlcXVlc3Qgb3Igc2VuZCBCWUUgaWYgZXN0YWJsaXNoZWQgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGJ1Y2tldC4gRklYTUU6IFRoaXMgb3B0aW9ucyBidWNrZXQgbmVlZHMgdG8gYmUgdHlwZWQuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVGhlIGNhbGxlcidzIFVBIE1BWSBzZW5kIGEgQllFIGZvciBlaXRoZXIgY29uZmlybWVkIG9yIGVhcmx5IGRpYWxvZ3MsXG4gICAgICAgIC8vIGFuZCB0aGUgY2FsbGVlJ3MgVUEgTUFZIHNlbmQgYSBCWUUgb24gY29uZmlybWVkIGRpYWxvZ3MsIGJ1dCBNVVNUIE5PVFxuICAgICAgICAvLyBzZW5kIGEgQllFIG9uIGVhcmx5IGRpYWxvZ3MuIEhvd2V2ZXIsIHRoZSBjYWxsZWUncyBVQSBNVVNUIE5PVCBzZW5kIGFcbiAgICAgICAgLy8gQllFIG9uIGEgY29uZmlybWVkIGRpYWxvZyB1bnRpbCBpdCBoYXMgcmVjZWl2ZWQgYW4gQUNLIGZvciBpdHMgMnh4XG4gICAgICAgIC8vIHJlc3BvbnNlIG9yIHVudGlsIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gdGltZXMgb3V0LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIFdlIGRvbid0IHlldCBoYXZlIGEgZGlhbG9nLCBzbyByZWplY3QgcmVxdWVzdC5cbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0KG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnNlc3Npb24uc2Vzc2lvblN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TZXNzaW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5FYXJseTpcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5BY2tXYWl0OlxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBBQ0sgc2hvd3MgdXAsIHNheSBCWUUuXG4gICAgICAgICAgICAgICAgICAgIG9uQWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChDb25zdGFudHNfMS5DLkJZRSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIE9yIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gdGltZXMgb3V0IGJlZm9yZSB0aGUgQUNLIGFycml2ZXMuXG4gICAgICAgICAgICAgICAgICAgIG9uQWNrVGltZW91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VuZFJlcXVlc3QoQ29uc3RhbnRzXzEuQy5CWUUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBQb3J0ZWRcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJieWVcIiwgdGhpcy5yZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5Db25maXJtZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5ieWUob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLm9uQ2FuY2VsID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUiB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0sgfHxcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLIHx8XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19FQVJMWV9NRURJQSB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DQU5DRUxFRDtcbiAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4NyB9KTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsZWQoKTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ZWQobWVzc2FnZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ0FOQ0VMRUQpO1xuICAgICAgICAgICAgdGhpcy5mYWlsZWQobWVzc2FnZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ0FOQ0VMRUQpO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKG1lc3NhZ2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkNBTkNFTEVEKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbiAoaW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UubWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuUFJBQ0s6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNBbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IHRoaXMuc2V0dXBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWRcIiwgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24oaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZXREZXNjcmlwdGlvbihpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5ib2R5LCB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCB0aGlzLm1vZGlmaWVycykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lcnMucmVsMXh4VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXJzLnByYWNrVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0VBUkxZX01FRElBO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogXCI0ODhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvblBocmFzZTogXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBcIjQ4OFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb25QaHJhc2U6IFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhaWxlZChpbmNvbWluZ1JlcXVlc3QubWVzc2FnZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnMucmVsMXh4VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnByYWNrVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0VBUkxZX01FRElBO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdC5jYWxsKHRoaXMsIGluY29taW5nUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEludGVybmFsIEZ1bmN0aW9uIHRvIHNldHVwIHRoZSBoYW5kbGVyIGNvbnNpc3RlbnRseVxuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSh0aGlzLCB0aGlzLnVhLmNvbmZpZ3VyYXRpb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zKTtcbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGNvcmVfMS5nZXRCb2R5KHRoaXMuaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKCFib2R5IHx8IGJvZHkuY29udGVudERpc3Bvc2l0aW9uICE9PSBcInNlc3Npb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9mZmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9mZmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyOlxuICAgICAgICAgICAgICAgICAgICAvLyBvICBPbmNlIHRoZSBVQVMgaGFzIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZmVyLCBpdCBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiBhbnkgcmVzcG9uc2VzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24gYWxvbmUgY2FuIG5ldmVyIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIHVudGlsXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBsZXRpb24gb2YgdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXNzaW9uLm9mZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIG9mZmVyIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRPZmZlckFuZEdldEFuc3dlcih0aGlzLnNlc3Npb24ub2ZmZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmhhbmRsZVByYWNrT2ZmZXJBbnN3ZXIgPSBmdW5jdGlvbiAocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBQUkFDSyBkb2Vzbid0IGhhdmUgYW4gb2ZmZXIvYW5zd2VyLCBub3RoaW5nIHRvIGJlIGRvbmUuXG4gICAgICAgIHZhciBib2R5ID0gY29yZV8xLmdldEJvZHkocmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgaWYgKCFib2R5IHx8IGJvZHkuY29udGVudERpc3Bvc2l0aW9uICE9PSBcInNlc3Npb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBVQUMgcmVjZWl2ZXMgYSByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZSB3aXRoIGFuIG9mZmVyXG4gICAgICAgIC8vICh0aGlzIHdvdWxkIG9jY3VyIGlmIHRoZSBVQUMgc2VudCBhbiBJTlZJVEUgd2l0aG91dCBhbiBvZmZlciwgaW5cbiAgICAgICAgLy8gd2hpY2ggY2FzZSB0aGUgZmlyc3QgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2lsbCBjb250YWluIHRoZVxuICAgICAgICAvLyBvZmZlciksIGl0IE1VU1QgZ2VuZXJhdGUgYW4gYW5zd2VyIGluIHRoZSBQUkFDSy4gIElmIHRoZSBVQUMgcmVjZWl2ZXNcbiAgICAgICAgLy8gYSByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZSB3aXRoIGFuIGFuc3dlciwgaXQgTUFZIGdlbmVyYXRlIGFuXG4gICAgICAgIC8vIGFkZGl0aW9uYWwgb2ZmZXIgaW4gdGhlIFBSQUNLLiAgSWYgdGhlIFVBUyByZWNlaXZlcyBhIFBSQUNLIHdpdGggYW5cbiAgICAgICAgLy8gb2ZmZXIsIGl0IE1VU1QgcGxhY2UgdGhlIGFuc3dlciBpbiB0aGUgMnh4IHRvIHRoZSBQUkFDSy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi01XG4gICAgICAgIHN3aXRjaCAodGhpcy5zZXNzaW9uLnNpZ25hbGluZ1N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIC8vIFN0YXRlIHNob3VsZCBuZXZlciBiZSByZWFjaGVkIGFzIGZpcnN0IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIG11c3QgaGF2ZSBhbnN3ZXIvb2ZmZXIuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5TdGFibGU6XG4gICAgICAgICAgICAgICAgLy8gUmVjZXZlZCBhbnN3ZXIuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QW5zd2VyKGJvZHksIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyOlxuICAgICAgICAgICAgICAgIC8vIFN0YXRlIHNob3VsZCBuZXZlciBiZSByZWFjaGVkIGFzIGxvY2FsIG9mZmVyIHdvdWxkIGJlIGFuc3dlcmVkIGJ5IHRoaXMgUFJBQ0tcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIHRoaXMuc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVSZW1vdGVPZmZlcjpcbiAgICAgICAgICAgICAgICAvLyBSZWNldmVkIG9mZmVyLCBnZW5lcmF0ZSBhbnN3ZXIuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmFsaW5nIHN0YXRlIFwiICsgdGhpcy5zZXNzaW9uLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBzZXNzaW9uIGNhbmNlbGVkLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmNhbmNlbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jYW5jZWxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmNhbmNlbGVkLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBzZXNzaW9uIHRlcm1pbmF0ZWQuXG4gICAgICogVXNpbmcgaXQgaGVyZSBqdXN0IGZvciB0aGUgUFJBQ0sgdGltZW91dC5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS50ZXJtaW5hdGVkID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGNhdXNlKSB7XG4gICAgICAgIHRoaXMucHJhY2tOZXZlckFycml2ZWQoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUudGVybWluYXRlZC5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBgYWNjZXB0YCB3aGljaCByZXNvbHZlcyBhIHNlc3Npb24gd2hlbiB0aGUgMjAwIE9rIHJlc3BvbnNlIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICogQHRocm93cyB7Q2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yfSBUaGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGNsb3NlZCBiZWZvcmUgbWV0aG9kIGNvbXBsZXRlZC5cbiAgICAgKiBAdGhyb3dzIHtUcmFuc2FjdGlvblN0YXRlRXJyb3J9IFRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBkb2VzIG5vdCBhbGxvdyBmb3IgYGFjY2VwdCgpYCB0byBiZSBjYWxsZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIGNhbiBjaGFuZ2Ugd2hpbGUgdGhpcyBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLl9hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBGSVhNRTogUG9ydGVkIC0gY2FsbGJhY2sgZm9yIGluIGRpYWxvZyBJTkZPIHJlcXVlc3RzLlxuICAgICAgICAvLyBUdXJucyBvdXQgYWNjZXB0KCkgY2FuIGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZSBpZiB3ZSBhcmUgd2FpdGluZ1xuICAgICAgICAvLyBmb3IgYSBQUkFDSyBpbiB3aGljaCBjYXNlIFwib3B0aW9uc1wiIGdldCBjb21wbGV0ZWx5IHRvc3NlZCBhd2F5LlxuICAgICAgICAvLyBTbyB0aGlzIGlzIGJyb2tlbiBpbiB0aGF0IGNhc2UgKGFuZCBwb3RlbnRpYWxseSBvdGhlciB1c2VzIG9mIG9wdGlvbnMpLlxuICAgICAgICAvLyBUZW1wdGVkIHRvIGp1c3QgdHJ5IHRvIGZpeCBpdCBub3csIGJ1dCBsZWF2aW5nIGl0IGJyb2tlbiBmb3IgdGhlIG1vbWVudC5cbiAgICAgICAgdGhpcy5vbkluZm8gPSBvcHRpb25zLm9uSW5mbztcbiAgICAgICAgLy8gVGhlIFVBUyBNQVkgc2VuZCBhIGZpbmFsIHJlc3BvbnNlIHRvIHRoZSBpbml0aWFsIHJlcXVlc3QgYmVmb3JlXG4gICAgICAgIC8vIGhhdmluZyByZWNlaXZlZCBQUkFDS3MgZm9yIGFsbCB1bmFja25vd2xlZGdlZCByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAvLyByZXNwb25zZXMsIHVubGVzcyB0aGUgZmluYWwgcmVzcG9uc2UgaXMgMnh4IGFuZCBhbnkgb2YgdGhlXG4gICAgICAgIC8vIHVuYWNrbm93bGVkZ2VkIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBjb250YWluZWQgYSBzZXNzaW9uXG4gICAgICAgIC8vIGRlc2NyaXB0aW9uLiAgSW4gdGhhdCBjYXNlLCBpdCBNVVNUIE5PVCBzZW5kIGEgZmluYWwgcmVzcG9uc2UgdW50aWxcbiAgICAgICAgLy8gdGhvc2UgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIGFyZSBhY2tub3dsZWRnZWQuICBJZiB0aGUgVUFTIGRvZXMgc2VuZCBhXG4gICAgICAgIC8vIGZpbmFsIHJlc3BvbnNlIHdoZW4gcmVsaWFibGUgcmVzcG9uc2VzIGFyZSBzdGlsbCB1bmFja25vd2xlZGdlZCwgaXRcbiAgICAgICAgLy8gU0hPVUxEIE5PVCBjb250aW51ZSB0byByZXRyYW5zbWl0IHRoZSB1bmFja25vd2xlZGdlZCByZWxpYWJsZVxuICAgICAgICAvLyBwcm92aXNpb25hbCByZXNwb25zZXMsIGJ1dCBpdCBNVVNUIGJlIHByZXBhcmVkIHRvIHByb2Nlc3MgUFJBQ0tcbiAgICAgICAgLy8gcmVxdWVzdHMgZm9yIHRob3NlIG91dHN0YW5kaW5nIHJlc3BvbnNlcy4gIEEgVUFTIE1VU1QgTk9UIHNlbmQgbmV3XG4gICAgICAgIC8vIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyAoYXMgb3Bwb3NlZCB0byByZXRyYW5zbWlzc2lvbnMgb2ZcbiAgICAgICAgLy8gdW5hY2tub3dsZWRnZWQgb25lcykgYWZ0ZXIgc2VuZGluZyBhIGZpbmFsIHJlc3BvbnNlIHRvIGEgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi0zXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9QUkFDSykge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2FpdEZvckFycml2YWxPZlByYWNrKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19BTlNXRVJFRDtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXJzLnVzZXJOb0Fuc3dlclRpbWVyKTsgLy8gUG9ydGVkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlcihvcHRpb25zKTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9keSkgeyByZXR1cm4gX3RoaXMuaW5jb21pbmdSZXF1ZXN0LmFjY2VwdCh7IHN0YXR1c0NvZGU6IDIwMCwgYm9keTogYm9keSB9KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9ydGVkXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19BTlNXRVJFRDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQ7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy51c2VyTm9BbnN3ZXJUaW1lcik7IC8vIFBvcnRlZFxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVJlc3BvbnNlT2ZmZXJBbnN3ZXIob3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChib2R5KSB7IHJldHVybiBfdGhpcy5pbmNvbWluZ1JlcXVlc3QuYWNjZXB0KHsgc3RhdHVzQ29kZTogMjAwLCBib2R5OiBib2R5IH0pOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBgcHJvZ3Jlc3NgIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICogQHRocm93cyB7Q2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yfSBUaGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGNsb3NlZCBiZWZvcmUgbWV0aG9kIGNvbXBsZXRlZC5cbiAgICAgKiBAdGhyb3dzIHtUcmFuc2FjdGlvblN0YXRlRXJyb3J9IFRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBkb2VzIG5vdCBhbGxvdyBmb3IgYHByb2dyZXNzKClgIHRvIGJlIGNhbGxlZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGUgdGhhdCB0aGUgdHJhbnNhY3Rpb24gc3RhdGUgY2FuIGNoYW5nZSB3aGlsZSB0aGlzIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuX3Byb2dyZXNzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gUG9ydGVkXG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDE4MDtcbiAgICAgICAgdmFyIHJlYXNvblBocmFzZSA9IG9wdGlvbnMucmVhc29uUGhyYXNlO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keSA/IGNvcmVfMS5mcm9tQm9keUxlZ2FjeShvcHRpb25zLmJvZHkpIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGUgMTgzIChTZXNzaW9uIFByb2dyZXNzKSByZXNwb25zZSBpcyB1c2VkIHRvIGNvbnZleSBpbmZvcm1hdGlvblxuICAgICAgICAvLyBhYm91dCB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIGNhbGwgdGhhdCBpcyBub3Qgb3RoZXJ3aXNlIGNsYXNzaWZpZWQuICBUaGVcbiAgICAgICAgLy8gUmVhc29uLVBocmFzZSwgaGVhZGVyIGZpZWxkcywgb3IgbWVzc2FnZSBib2R5IE1BWSBiZSB1c2VkIHRvIGNvbnZleVxuICAgICAgICAvLyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGNhbGwgcHJvZ3Jlc3MuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMjEuMS41XG4gICAgICAgIC8vIEl0IGlzIHRoZSBkZSBmYWN0byBpbmR1c3RyeSBzdGFuZGFyZCB0byB1dGlsaXplIDE4MyB3aXRoIFNEUCB0byBwcm92aWRlIFwiZWFybHkgbWVkaWFcIi5cbiAgICAgICAgLy8gV2hpbGUgaXQgaXMgdW5saWtlbHkgc29tZW9uZSB3b3VsZCB3YW50IHRvIHNlbmQgYSAxODMgd2l0aG91dCBTRFAsIHNvIGl0IHNob3VsZCBiZSBhbiBvcHRpb24uXG4gICAgICAgIGlmIChzdGF0dXNDb2RlID09PSAxODMgJiYgIWJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9ncmVzc1dpdGhTRFAob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm9ncmVzc1Jlc3BvbnNlID0gdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCBwcm9ncmVzc1Jlc3BvbnNlLm1lc3NhZ2UsIHJlYXNvblBocmFzZSk7IC8vIFBvcnRlZFxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gcHJvZ3Jlc3NSZXNwb25zZS5zZXNzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9ncmVzc1Jlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBgcHJvZ3Jlc3NgIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHdpdGggc2RwIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICogQHRocm93cyB7Q2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yfSBUaGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGNsb3NlZCBiZWZvcmUgbWV0aG9kIGNvbXBsZXRlZC5cbiAgICAgKiBAdGhyb3dzIHtUcmFuc2FjdGlvblN0YXRlRXJyb3J9IFRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBkb2VzIG5vdCBhbGxvdyBmb3IgYHByb2dyZXNzKClgIHRvIGJlIGNhbGxlZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGUgdGhhdCB0aGUgdHJhbnNhY3Rpb24gc3RhdGUgY2FuIGNoYW5nZSB3aGlsZSB0aGlzIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuX3Byb2dyZXNzV2l0aFNEUCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDE4MztcbiAgICAgICAgdmFyIHJlYXNvblBocmFzZSA9IG9wdGlvbnMucmVhc29uUGhyYXNlO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICAvLyBHZXQgYW4gb2ZmZXIvYW5zd2VyIGFuZCBzZW5kIGEgcmVwbHkuXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlcihvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJvZHkpIHsgcmV0dXJuIF90aGlzLmluY29taW5nUmVxdWVzdC5wcm9ncmVzcyh7IHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZTogcmVhc29uUGhyYXNlLCBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycywgYm9keTogYm9keSB9KTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcm9ncmVzc1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcHJvZ3Jlc3NSZXNwb25zZS5tZXNzYWdlLCByZWFzb25QaHJhc2UpOyAvLyBQb3J0ZWRcbiAgICAgICAgICAgIF90aGlzLnNlc3Npb24gPSBwcm9ncmVzc1Jlc3BvbnNlLnNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gcHJvZ3Jlc3NSZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHZlcnNpb24gb2YgYHByb2dyZXNzYCB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZSBpcyBzZW50LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgYnVja2V0LlxuICAgICAqIEB0aHJvd3Mge0Nsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcn0gVGhlIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBjbG9zZWQgYmVmb3JlIG1ldGhvZCBjb21wbGV0ZWQuXG4gICAgICogQHRocm93cyB7VHJhbnNhY3Rpb25TdGF0ZUVycm9yfSBUaGUgdHJhbnNhY3Rpb24gc3RhdGUgZG9lcyBub3QgYWxsb3cgZm9yIGBwcm9ncmVzcygpYCB0byBiZSBjYWxsZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIGNhbiBjaGFuZ2Ugd2hpbGUgdGhpcyBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLl9yZWxpYWJsZVByb2dyZXNzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgzO1xuICAgICAgICB2YXIgcmVhc29uUGhyYXNlID0gb3B0aW9ucy5yZWFzb25QaHJhc2U7XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVxdWlyZTogMTAwcmVsXCIpO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJTZXE6IFwiICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApKTtcbiAgICAgICAgLy8gR2V0IGFuIG9mZmVyL2Fuc3dlciBhbmQgc2VuZCBhIHJlcGx5LlxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVJlc3BvbnNlT2ZmZXJBbnN3ZXIob3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChib2R5KSB7IHJldHVybiBfdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7IH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHJvZ3Jlc3NSZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInByb2dyZXNzXCIsIHByb2dyZXNzUmVzcG9uc2UubWVzc2FnZSwgcmVhc29uUGhyYXNlKTsgLy8gUG9ydGVkXG4gICAgICAgICAgICBfdGhpcy5zZXNzaW9uID0gcHJvZ3Jlc3NSZXNwb25zZS5zZXNzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHByb2dyZXNzUmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSB2ZXJzaW9uIG9mIGBwcm9ncmVzc2Agd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgaXMgYWNrbm93bGVkZ2VkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgYnVja2V0LlxuICAgICAqIEB0aHJvd3Mge0Nsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcn0gVGhlIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBjbG9zZWQgYmVmb3JlIG1ldGhvZCBjb21wbGV0ZWQuXG4gICAgICogQHRocm93cyB7VHJhbnNhY3Rpb25TdGF0ZUVycm9yfSBUaGUgdHJhbnNhY3Rpb24gc3RhdGUgZG9lcyBub3QgYWxsb3cgZm9yIGBwcm9ncmVzcygpYCB0byBiZSBjYWxsZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIGNhbiBjaGFuZ2Ugd2hpbGUgdGhpcyBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLl9yZWxpYWJsZVByb2dyZXNzV2FpdEZvclByYWNrID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgzO1xuICAgICAgICB2YXIgcmVhc29uUGhyYXNlID0gb3B0aW9ucy5yZWFzb25QaHJhc2U7XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVxdWlyZTogMTAwcmVsXCIpO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJTZXE6IFwiICsgdGhpcy5yc2VxKyspO1xuICAgICAgICB2YXIgYm9keTtcbiAgICAgICAgLy8gUG9ydGVkIC0gc2V0IHN0YXR1cy5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHdhaXRpbmdGb3JQcmFjayA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2VuZXJhdGVSZXNwb25zZU9mZmVyQW5zd2VyKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG9mZmVyQW5zd2VyKSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IG9mZmVyQW5zd2VyO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcm9ncmVzc1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInByb2dyZXNzXCIsIHByb2dyZXNzUmVzcG9uc2UubWVzc2FnZSwgcmVhc29uUGhyYXNlKTsgLy8gUG9ydGVkXG4gICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbiA9IHByb2dyZXNzUmVzcG9uc2Uuc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB2YXIgcHJhY2tSZXF1ZXN0O1xuICAgICAgICAgICAgICAgIHZhciBwcmFja1Jlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHByb2dyZXNzUmVzcG9uc2Uuc2Vzc2lvbi5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25QcmFjazogZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByYWNrUmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocHJhY2tXYWl0VGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZWwxeHhSZXRyYW5zbWlzc2lvblRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FpdGluZ0ZvclByYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdGluZ0ZvclByYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVQcmFja09mZmVyQW5zd2VyKHByYWNrUmVxdWVzdCwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHJhY2tSZXNwb25zZUJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmFja1Jlc3BvbnNlID0gcHJhY2tSZXF1ZXN0LmFjY2VwdCh7IHN0YXR1c0NvZGU6IDIwMCwgYm9keTogcHJhY2tSZXNwb25zZUJvZHkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvcnRlZCAtIHNldCBzdGF0dXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByYWNrQXJyaXZlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgcHJhY2tSZXF1ZXN0OiBwcmFja1JlcXVlc3QsIHByYWNrUmVzcG9uc2U6IHByYWNrUmVzcG9uc2UsIHByb2dyZXNzUmVzcG9uc2U6IHByb2dyZXNzUmVzcG9uc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTNcbiAgICAgICAgICAgICAgICB2YXIgcHJhY2tXYWl0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3YWl0aW5nRm9yUHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3YWl0aW5nRm9yUHJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJObyBQUkFDSyByZWNlaXZlZCwgcmVqZWN0aW5nIElOVklURS5cIik7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZWwxeHhSZXRyYW5zbWlzc2lvblRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmluY29taW5nUmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiA1MDQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuTk9fUFJBQ0spO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5UZXJtaW5hdGVkU2Vzc2lvbkVycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHByYWNrV2FpdFRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQocHJhY2tXYWl0VGltZW91dCwgY29yZV8xLlRpbWVycy5UMSAqIDY0KTtcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTNcbiAgICAgICAgICAgICAgICB2YXIgcmVsMXh4UmV0cmFuc21pc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0aW5nRm9yUHJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVsMXh4UmV0cmFuc21pc3Npb25UaW1lciA9IHNldFRpbWVvdXQocmVsMXh4UmV0cmFuc21pc3Npb24sIHRpbWVvdXQgKj0gMik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IGNvcmVfMS5UaW1lcnMuVDE7XG4gICAgICAgICAgICAgICAgdmFyIHJlbDF4eFJldHJhbnNtaXNzaW9uVGltZXIgPSBzZXRUaW1lb3V0KHJlbDF4eFJldHJhbnNtaXNzaW9uLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGZvciB3aGVuIEFDSyBmb3IgYSAyeHggcmVzcG9uc2UgaXMgbmV2ZXIgcmVjZWl2ZWQuXG4gICAgICogQHBhcmFtIHNlc3Npb24gU2Vzc2lvbiB0aGUgQUNLIG5ldmVyIGFycml2ZWQgZm9yXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUub25BY2tUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJubyBBQ0sgcmVjZWl2ZWQgZm9yIGFuIGV4dGVuZGVkIHBlcmlvZCBvZiB0aW1lLCB0ZXJtaW5hdGluZyB0aGUgY2FsbFwiKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmJ5ZSgpO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuTk9fQUNLKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUU6IFRPRE86IFRoZSBjdXJyZW50IGxpYnJhcnkgaW50ZXJmYWNlIHByZXNlbnRzIGFzeW5jIG1ldGhvZHMgd2l0aG91dCBhXG4gICAgICogcHJvcGVyIGFzeW5jIGVycm9yIGhhbmRsaW5nIG1lY2hhbmlzbS4gQXJndWFibHkgYSBwcm9taXNlIGJhc2VkIGludGVyZmFjZVxuICAgICAqIHdvdWxkIGJlIGFuIGltcHJvdmVtZW50IG92ZXIgdGhlIHBhdHRlcm4gb2YgcmV0dXJuaW5nIGB0aGlzYC4gVGhlIGFwcHJvYWNoIGhhc1xuICAgICAqIGJlZW4gZ2VuZXJhbGx5IGFsb25nIHRoZSBsaW5lcyBvZiBsb2cgYSBlcnJvciBhbmQgdGVybWluYXRlLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLm9uQ29udGV4dEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gNDgwO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBjb3JlXzEuRXhjZXB0aW9uKSB7IC8vIFRoZXJlIG1pZ2h0IGJlIGludGVyZXN0IGluIGNhdGNoaW5nIHRoZXNlIEV4Y2VwdGlvbnMuXG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuVGVybWluYXRlZFNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFBSQUNLIG5ldmVyIGFycml2ZWQsIHNvIHdlIHRpbWVkIG91dCB3YWl0aW5nIGZvciBpdC5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiSW5jb21pbmcgc2Vzc2lvbiB0ZXJtaW5hdGVkIHdoaWxlIHdhaXRpbmcgZm9yIFBSQUNLLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9IDQxNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgY29yZV8xLkV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHsgLy8gT3RoZXIgRXJyb3JzIGhvdWxkIGdvIHVuY2F1Z2h0LlxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBkb24ndCBhY3R1YWxseSBrbm93IHdoYXQgYSBzZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXIgaW1wbGVtZW50YXRpb24gbWlnaHQgdGhyb3dcbiAgICAgICAgICAgIC8vIG91ciB3YXksIHNvIGFzIGEgbGFzdCByZXNvcnQsIGp1c3QgYXNzdW1lIHdlIGFyZSBnZXR0aW5nIGFuIFwiYW55XCIgYW5kIGxvZyBpdC5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQW4gZXJyb3Igb2NjdXJyZWQgaW4gdGhlIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlci5cIik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUgfSk7IC8vIFwiVGVtcG9yYXJpbHkgVW5hdmFpbGFibGVcIlxuICAgICAgICAgICAgdGhpcy5mYWlsZWQodGhpcy5pbmNvbWluZ1JlcXVlc3QubWVzc2FnZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQodGhpcy5pbmNvbWluZ1JlcXVlc3QubWVzc2FnZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLnByYWNrQXJyaXZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMud2FpdGluZ0ZvclByYWNrUmVzb2x2ZSkge1xuICAgICAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tSZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLndhaXRpbmdGb3JQcmFja1Jlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2FpdGluZ0ZvclByYWNrUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucHJhY2tOZXZlckFycml2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLndhaXRpbmdGb3JQcmFja1JlamVjdCkge1xuICAgICAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tSZWplY3QobmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlRlcm1pbmF0ZWRTZXNzaW9uRXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLndhaXRpbmdGb3JQcmFja1Jlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2FpdGluZ0ZvclByYWNrUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRocm93cyB7RXhjZXB0aW9ucy5UZXJtaW5hdGVkU2Vzc2lvbkVycm9yfSBUaGUgc2Vzc2lvbiB0ZXJtaW5hdGVkIGJlZm9yZSBiZWluZyBhY2NlcHRlZCAoaS5lLiBjYW5jZWwgYXJyaXZlZCkuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUud2FpdEZvckFycml2YWxPZlByYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy53YWl0aW5nRm9yUHJhY2tQcm9taXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IHdhaXRpbmcgZm9yIFBSQUNLXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2FpdGluZ0ZvclByYWNrUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLndhaXRpbmdGb3JQcmFja1Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgX3RoaXMud2FpdGluZ0ZvclByYWNrUmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2FpdGluZ0ZvclByYWNrUHJvbWlzZTtcbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmdldE9mZmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5oYXNPZmZlciA9IHRydWU7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLmdldFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgcmV0dXJuIHNkaFxuICAgICAgICAgICAgLmdldERlc2NyaXB0aW9uKG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJvZHlPYmopIHsgcmV0dXJuIFV0aWxzXzEuVXRpbHMuZnJvbUJvZHlPYmooYm9keU9iaik7IH0pO1xuICAgIH07XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuc2V0QW5zd2VyID0gZnVuY3Rpb24gKGFuc3dlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLmdldFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgaWYgKCFzZGguaGFzRGVzY3JpcHRpb24oYW5zd2VyLmNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5VbnN1cHBvcnRlZFNlc3Npb25EZXNjcmlwdGlvbkNvbnRlbnRUeXBlRXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNkaFxuICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKGFuc3dlci5jb250ZW50LCBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCBvcHRpb25zLm1vZGlmaWVycyk7XG4gICAgfTtcbiAgICBJbnZpdGVTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5zZXRPZmZlckFuZEdldEFuc3dlciA9IGZ1bmN0aW9uIChvZmZlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmhhc09mZmVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICB2YXIgc2RoID0gdGhpcy5nZXRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKCk7XG4gICAgICAgIGlmICghc2RoLmhhc0Rlc2NyaXB0aW9uKG9mZmVyLmNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5VbnN1cHBvcnRlZFNlc3Npb25EZXNjcmlwdGlvbkNvbnRlbnRUeXBlRXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNkaFxuICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKG9mZmVyLmNvbnRlbnQsIG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gc2RoLmdldERlc2NyaXB0aW9uKG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChib2R5T2JqKSB7IHJldHVybiBVdGlsc18xLlV0aWxzLmZyb21Cb2R5T2JqKGJvZHlPYmopOyB9KTtcbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmdldFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBvdXIgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGlmIG5vdCBhbHJlYWR5IGRvbmUgc28uLi5cbiAgICAgICAgdmFyIHNkaCA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IHRoaXMuc2V0dXBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKCk7XG4gICAgICAgIC8vIEZJWE1FOiBQb3J0ZWQgLSB0aGlzIGNhbiBnZXQgZW1pdHRlZCBtdWx0aXBsZSB0aW1lcyBldmVuIHdoZW4gb25seSBjcmVhdGVkIG9uY2UuLi4gZG9uJ3Qgd2UgY2FyZT9cbiAgICAgICAgdGhpcy5lbWl0KFwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci1jcmVhdGVkXCIsIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcik7XG4gICAgICAgIC8vIFJldHVybi5cbiAgICAgICAgcmV0dXJuIHNkaDtcbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVTZXJ2ZXJDb250ZXh0O1xufShTZXNzaW9uKSk7XG5leHBvcnRzLkludml0ZVNlcnZlckNvbnRleHQgPSBJbnZpdGVTZXJ2ZXJDb250ZXh0O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1jbGFzc2VzLXBlci1maWxlXG52YXIgSW52aXRlQ2xpZW50Q29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVDbGllbnRDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEludml0ZUNsaWVudENvbnRleHQodWEsIHRhcmdldCwgb3B0aW9ucywgbW9kaWZpZXJzKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXVhLmNvbmZpZ3VyYXRpb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIHVhLmxvZ2dlci53YXJuKFwiQ2FuJ3QgYnVpbGQgSVNDIHdpdGhvdXQgU0RIIEZhY3RvcnlcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJQ0MgQ29uc3RydWN0b3IgRmFpbGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucGFyYW1zID0gb3B0aW9ucy5wYXJhbXMgfHwge307XG4gICAgICAgIHZhciBhbm9ueW1vdXMgPSBvcHRpb25zLmFub255bW91cyB8fCBmYWxzZTtcbiAgICAgICAgdmFyIGZyb21UYWcgPSBVdGlsc18xLlV0aWxzLm5ld1RhZygpO1xuICAgICAgICBvcHRpb25zLnBhcmFtcy5mcm9tVGFnID0gZnJvbVRhZztcbiAgICAgICAgLyogRG8gbm90IGFkZCA7b2IgaW4gaW5pdGlhbCBmb3JtaW5nIGRpYWxvZyByZXF1ZXN0cyBpZiB0aGUgcmVnaXN0cmF0aW9uIG92ZXJcbiAgICAgICAgKiAgdGhlIGN1cnJlbnQgY29ubmVjdGlvbiBnb3QgYSBHUlVVIFVSSS5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIGNvbnRhY3QgPSB1YS5jb250YWN0LnRvU3RyaW5nKHtcbiAgICAgICAgICAgIGFub255bW91czogYW5vbnltb3VzLFxuICAgICAgICAgICAgb3V0Ym91bmQ6IGFub255bW91cyA/ICF1YS5jb250YWN0LnRlbXBHcnV1IDogIXVhLmNvbnRhY3QucHViR3J1dVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgaWYgKGFub255bW91cyAmJiB1YS5jb25maWd1cmF0aW9uLnVyaSkge1xuICAgICAgICAgICAgb3B0aW9ucy5wYXJhbXMuZnJvbURpc3BsYXlOYW1lID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICAgIG9wdGlvbnMucGFyYW1zLmZyb21VcmkgPSBcInNpcDphbm9ueW1vdXNAYW5vbnltb3VzLmludmFsaWRcIjtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUC1QcmVmZXJyZWQtSWRlbnRpdHk6IFwiICsgdWEuY29uZmlndXJhdGlvbi51cmkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlByaXZhY3k6IGlkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQ29udGFjdDogXCIgKyBjb250YWN0KTtcbiAgICAgICAgLy8gdGhpcyBpcyBVQS5DLkFMTE9XRURfTUVUSE9EUywgcmVtb3ZlZCB0byBnZXQgYXJvdW5kIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJBbGxvdzogXCIgKyBbXG4gICAgICAgICAgICBcIkFDS1wiLFxuICAgICAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgICAgICBcIk1FU1NBR0VcIixcbiAgICAgICAgICAgIFwiQllFXCIsXG4gICAgICAgICAgICBcIk9QVElPTlNcIixcbiAgICAgICAgICAgIFwiSU5GT1wiLFxuICAgICAgICAgICAgXCJOT1RJRllcIixcbiAgICAgICAgICAgIFwiUkVGRVJcIlxuICAgICAgICBdLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAodWEuY29uZmlndXJhdGlvbi5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlJFUVVJUkVEKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlcXVpcmU6IDEwMHJlbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodWEuY29uZmlndXJhdGlvbi5yZXBsYWNlcyA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVxdWlyZTogcmVwbGFjZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBleHRyYUhlYWRlcnM7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdWEuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkgfHwgdGhpcztcbiAgICAgICAgQ2xpZW50Q29udGV4dF8xLkNsaWVudENvbnRleHQuaW5pdGlhbGl6ZXIoX3RoaXMsIHVhLCBDb25zdGFudHNfMS5DLklOVklURSwgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgX3RoaXMuZWFybHlNZWRpYVNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5JbnZpdGVDbGllbnRDb250ZXh0O1xuICAgICAgICBfdGhpcy5wYXNzZWRPcHRpb25zID0gb3B0aW9uczsgLy8gU2F2ZSBmb3IgbGF0ZXIgdG8gdXNlIHdpdGggcmVmZXJcbiAgICAgICAgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcy5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gICAgICAgIF90aGlzLmludml0ZVdpdGhvdXRTZHAgPSBvcHRpb25zLmludml0ZVdpdGhvdXRTZHAgfHwgZmFsc2U7XG4gICAgICAgIC8vIFNldCBhbm9ueW1vdXMgcHJvcGVydHlcbiAgICAgICAgX3RoaXMuYW5vbnltb3VzID0gb3B0aW9ucy5hbm9ueW1vdXMgfHwgZmFsc2U7XG4gICAgICAgIC8vIEN1c3RvbSBkYXRhIHRvIGJlIHNlbnQgZWl0aGVyIGluIElOVklURSBvciBpbiBBQ0tcbiAgICAgICAgX3RoaXMucmVuZGVyYm9keSA9IG9wdGlvbnMucmVuZGVyYm9keSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLnJlbmRlcnR5cGUgPSBvcHRpb25zLnJlbmRlcnR5cGUgfHwgXCJ0ZXh0L3BsYWluXCI7XG4gICAgICAgIC8vIFNlc3Npb24gcGFyYW1ldGVyIGluaXRpYWxpemF0aW9uXG4gICAgICAgIF90aGlzLmZyb21UYWcgPSBmcm9tVGFnO1xuICAgICAgICBfdGhpcy5jb250YWN0ID0gY29udGFjdDtcbiAgICAgICAgLy8gQ2hlY2sgU2Vzc2lvbiBTdGF0dXNcbiAgICAgICAgaWYgKF90aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19OVUxMKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IoX3RoaXMuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdXRnb2luZ1Nlc3Npb24gc3BlY2lmaWMgcGFyYW1ldGVyc1xuICAgICAgICBfdGhpcy5pc0NhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnJlY2VpdmVkMTAwID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm1ldGhvZCA9IENvbnN0YW50c18xLkMuSU5WSVRFO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoXCJzaXAuaW52aXRlY2xpZW50Y29udGV4dFwiKTtcbiAgICAgICAgdWEuYXBwbGljYW50c1tfdGhpcy50b1N0cmluZygpXSA9IF90aGlzO1xuICAgICAgICBfdGhpcy5pZCA9IF90aGlzLnJlcXVlc3QuY2FsbElkICsgX3RoaXMuZnJvbVRhZztcbiAgICAgICAgX3RoaXMub25JbmZvID0gb3B0aW9ucy5vbkluZm87XG4gICAgICAgIF90aGlzLmVycm9yTGlzdGVuZXIgPSBfdGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB1YS50cmFuc3BvcnQub24oXCJ0cmFuc3BvcnRFcnJvclwiLCBfdGhpcy5lcnJvckxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkLlwiKTtcbiAgICB9O1xuICAgIC8vIGhhY2sgZm9yIGdldHRpbmcgYXJvdW5kIENsaWVudENvbnRleHQgaW50ZXJmYWNlXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZW5kSW52aXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuaW52aXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTYXZlIHRoZSBzZXNzaW9uIGludG8gdGhlIHVhIHNlc3Npb25zIGNvbGxlY3Rpb24uXG4gICAgICAgIC8vIE5vdGU6IHBsYWNpbmcgaW4gY29uc3RydWN0b3IgYnJlYWtzIGNhbGwgdG8gcmVxdWVzdC5jYW5jZWwgb24gY2xvc2UuLi4gVXNlciBkb2VzIG5vdCBuZWVkIHRoaXMgYW55d2F5XG4gICAgICAgIHRoaXMudWEuc2Vzc2lvbnNbdGhpcy5pZF0gPSB0aGlzO1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBhbGxvdyB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIHNvIHRoYXQgbGlzdGVuZXJzIGNhbiBiZSBzZXQgdXAgZm9yIHRoZXNlIGV2ZW50c1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBUaGVyZSBpcyBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGNhbmNlbCAob3IgdGVybWluYXRlKSBjYW4gYmUgY2FsbGVkIHN5bmNocm9ub3VzbHkgYWZ0ZXIgaW52aXRlLlxuICAgICAgICAgICAgaWYgKF90aGlzLmlzQ2FuY2VsZWQgfHwgX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuaW52aXRlV2l0aG91dFNkcCkge1xuICAgICAgICAgICAgICAgIC8vIGp1c3Qgc2VuZCBhbiBpbnZpdGUgd2l0aCBubyBzZHAuLi5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVuZGVyYm9keSAmJiBfdGhpcy5yZW5kZXJ0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlcXVlc3QuYm9keSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IF90aGlzLnJlbmRlcmJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogX3RoaXMucmVuZGVydHlwZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0lOVklURV9TRU5UO1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemUgTWVkaWEgU2Vzc2lvblxuICAgICAgICAgICAgICAgIF90aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPSBfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeShfdGhpcywgX3RoaXMudWEuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWRcIiwgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5nZXREZXNjcmlwdGlvbihfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgX3RoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFRoZXJlIGlzIGEgcmFjZSBjb25kaXRpb24gd2hlcmUgY2FuY2VsIChvciB0ZXJtaW5hdGUpIGNhbiBiZSBjYWxsZWQgKGEpc3luY2hyb25vdXNseSBhZnRlciBpbnZpdGUuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0NhbmNlbGVkIHx8IF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFzT2ZmZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXF1ZXN0LmJvZHkgPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19JTlZJVEVfU0VOVDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VuZCgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhlcnIuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmZhaWxlZCh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLldFQlJUQ19FUlJPUik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRlcm1pbmF0ZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5XRUJSVENfRVJST1IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJbnZpdGVDbGllbnRDb250ZXh0LnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBDaGVjayBTZXNzaW9uIFN0YXR1c1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCB8fCB0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ0FOQ0VMRUQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNDYW5jZWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkNhbmNlbGluZyBzZXNzaW9uXCIpO1xuICAgICAgICB2YXIgY2FuY2VsUmVhc29uID0gVXRpbHNfMS5VdGlscy5nZXRDYW5jZWxSZWFzb24ob3B0aW9ucy5zdGF0dXNDb2RlLCBvcHRpb25zLnJlYXNvblBocmFzZSk7XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBpZiAodGhpcy5vdXRnb2luZ0ludml0ZVJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJDYW5jZWxpbmcgc2Vzc2lvbiBiZWZvcmUgaXQgd2FzIGNyZWF0ZWRcIik7XG4gICAgICAgICAgICB0aGlzLm91dGdvaW5nSW52aXRlUmVxdWVzdC5jYW5jZWwoY2FuY2VsUmVhc29uLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYW5jZWxlZCgpO1xuICAgIH07XG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0sgfHwgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEKSB7XG4gICAgICAgICAgICB0aGlzLmJ5ZShvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogMTMuMi4xIENyZWF0aW5nIHRoZSBJbml0aWFsIElOVklURVxuICAgICAqXG4gICAgICogU2luY2UgdGhlIGluaXRpYWwgSU5WSVRFIHJlcHJlc2VudHMgYSByZXF1ZXN0IG91dHNpZGUgb2YgYSBkaWFsb2csXG4gICAgICogaXRzIGNvbnN0cnVjdGlvbiBmb2xsb3dzIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gOC4xLjEuICBBZGRpdGlvbmFsXG4gICAgICogcHJvY2Vzc2luZyBpcyByZXF1aXJlZCBmb3IgdGhlIHNwZWNpZmljIGNhc2Ugb2YgSU5WSVRFLlxuICAgICAqXG4gICAgICogQW4gQWxsb3cgaGVhZGVyIGZpZWxkIChTZWN0aW9uIDIwLjUpIFNIT1VMRCBiZSBwcmVzZW50IGluIHRoZSBJTlZJVEUuXG4gICAgICogSXQgaW5kaWNhdGVzIHdoYXQgbWV0aG9kcyBjYW4gYmUgaW52b2tlZCB3aXRoaW4gYSBkaWFsb2csIG9uIHRoZSBVQVxuICAgICAqIHNlbmRpbmcgdGhlIElOVklURSwgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgZGlhbG9nLiAgRm9yIGV4YW1wbGUsIGFcbiAgICAgKiBVQSBjYXBhYmxlIG9mIHJlY2VpdmluZyBJTkZPIHJlcXVlc3RzIHdpdGhpbiBhIGRpYWxvZyBbMzRdIFNIT1VMRFxuICAgICAqIGluY2x1ZGUgYW4gQWxsb3cgaGVhZGVyIGZpZWxkIGxpc3RpbmcgdGhlIElORk8gbWV0aG9kLlxuICAgICAqXG4gICAgICogQSBTdXBwb3J0ZWQgaGVhZGVyIGZpZWxkIChTZWN0aW9uIDIwLjM3KSBTSE9VTEQgYmUgcHJlc2VudCBpbiB0aGVcbiAgICAgKiBJTlZJVEUuICBJdCBlbnVtZXJhdGVzIGFsbCB0aGUgZXh0ZW5zaW9ucyB1bmRlcnN0b29kIGJ5IHRoZSBVQUMuXG4gICAgICpcbiAgICAgKiBBbiBBY2NlcHQgKFNlY3Rpb24gMjAuMSkgaGVhZGVyIGZpZWxkIE1BWSBiZSBwcmVzZW50IGluIHRoZSBJTlZJVEUuXG4gICAgICogSXQgaW5kaWNhdGVzIHdoaWNoIENvbnRlbnQtVHlwZXMgYXJlIGFjY2VwdGFibGUgdG8gdGhlIFVBLCBpbiBib3RoXG4gICAgICogdGhlIHJlc3BvbnNlIHJlY2VpdmVkIGJ5IGl0LCBhbmQgaW4gYW55IHN1YnNlcXVlbnQgcmVxdWVzdHMgc2VudCB0b1xuICAgICAqIGl0IHdpdGhpbiBkaWFsb2dzIGVzdGFibGlzaGVkIGJ5IHRoZSBJTlZJVEUuICBUaGUgQWNjZXB0IGhlYWRlciBmaWVsZFxuICAgICAqIGlzIGVzcGVjaWFsbHkgdXNlZnVsIGZvciBpbmRpY2F0aW5nIHN1cHBvcnQgb2YgdmFyaW91cyBzZXNzaW9uXG4gICAgICogZGVzY3JpcHRpb24gZm9ybWF0cy5cbiAgICAgKlxuICAgICAqIFRoZSBVQUMgTUFZIGFkZCBhbiBFeHBpcmVzIGhlYWRlciBmaWVsZCAoU2VjdGlvbiAyMC4xOSkgdG8gbGltaXQgdGhlXG4gICAgICogdmFsaWRpdHkgb2YgdGhlIGludml0YXRpb24uICBJZiB0aGUgdGltZSBpbmRpY2F0ZWQgaW4gdGhlIEV4cGlyZXNcbiAgICAgKiBoZWFkZXIgZmllbGQgaXMgcmVhY2hlZCBhbmQgbm8gZmluYWwgYW5zd2VyIGZvciB0aGUgSU5WSVRFIGhhcyBiZWVuXG4gICAgICogcmVjZWl2ZWQsIHRoZSBVQUMgY29yZSBTSE9VTEQgZ2VuZXJhdGUgYSBDQU5DRUwgcmVxdWVzdCBmb3IgdGhlXG4gICAgICogSU5WSVRFLCBhcyBwZXIgU2VjdGlvbiA5LlxuICAgICAqXG4gICAgICogQSBVQUMgTUFZIGFsc28gZmluZCBpdCB1c2VmdWwgdG8gYWRkLCBhbW9uZyBvdGhlcnMsIFN1YmplY3QgKFNlY3Rpb25cbiAgICAgKiAyMC4zNiksIE9yZ2FuaXphdGlvbiAoU2VjdGlvbiAyMC4yNSkgYW5kIFVzZXItQWdlbnQgKFNlY3Rpb24gMjAuNDEpXG4gICAgICogaGVhZGVyIGZpZWxkcy4gIFRoZXkgYWxsIGNvbnRhaW4gaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUgSU5WSVRFLlxuICAgICAqXG4gICAgICogVGhlIFVBQyBNQVkgY2hvb3NlIHRvIGFkZCBhIG1lc3NhZ2UgYm9keSB0byB0aGUgSU5WSVRFLiAgU2VjdGlvblxuICAgICAqIDguMS4xLjEwIGRlYWxzIHdpdGggaG93IHRvIGNvbnN0cnVjdCB0aGUgaGVhZGVyIGZpZWxkcyAtLSBDb250ZW50LVxuICAgICAqIFR5cGUgYW1vbmcgb3RoZXJzIC0tIG5lZWRlZCB0byBkZXNjcmliZSB0aGUgbWVzc2FnZSBib2R5LlxuICAgICAqXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRDb250ZXh0LnByb3RvdHlwZS5zZW5kSW52aXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICBUaGVyZSBhcmUgc3BlY2lhbCBydWxlcyBmb3IgbWVzc2FnZSBib2RpZXMgdGhhdCBjb250YWluIGEgc2Vzc2lvblxuICAgICAgICAvLyAgICBkZXNjcmlwdGlvbiAtIHRoZWlyIGNvcnJlc3BvbmRpbmcgQ29udGVudC1EaXNwb3NpdGlvbiBpcyBcInNlc3Npb25cIi5cbiAgICAgICAgLy8gICAgU0lQIHVzZXMgYW4gb2ZmZXIvYW5zd2VyIG1vZGVsIHdoZXJlIG9uZSBVQSBzZW5kcyBhIHNlc3Npb25cbiAgICAgICAgLy8gICAgZGVzY3JpcHRpb24sIGNhbGxlZCB0aGUgb2ZmZXIsIHdoaWNoIGNvbnRhaW5zIGEgcHJvcG9zZWQgZGVzY3JpcHRpb25cbiAgICAgICAgLy8gICAgb2YgdGhlIHNlc3Npb24uICBUaGUgb2ZmZXIgaW5kaWNhdGVzIHRoZSBkZXNpcmVkIGNvbW11bmljYXRpb25zIG1lYW5zXG4gICAgICAgIC8vICAgIChhdWRpbywgdmlkZW8sIGdhbWVzKSwgcGFyYW1ldGVycyBvZiB0aG9zZSBtZWFucyAoc3VjaCBhcyBjb2RlY1xuICAgICAgICAvLyAgICB0eXBlcykgYW5kIGFkZHJlc3NlcyBmb3IgcmVjZWl2aW5nIG1lZGlhIGZyb20gdGhlIGFuc3dlcmVyLiAgVGhlXG4gICAgICAgIC8vICAgIG90aGVyIFVBIHJlc3BvbmRzIHdpdGggYW5vdGhlciBzZXNzaW9uIGRlc2NyaXB0aW9uLCBjYWxsZWQgdGhlXG4gICAgICAgIC8vICAgIGFuc3dlciwgd2hpY2ggaW5kaWNhdGVzIHdoaWNoIGNvbW11bmljYXRpb25zIG1lYW5zIGFyZSBhY2NlcHRlZCwgdGhlXG4gICAgICAgIC8vICAgIHBhcmFtZXRlcnMgdGhhdCBhcHBseSB0byB0aG9zZSBtZWFucywgYW5kIGFkZHJlc3NlcyBmb3IgcmVjZWl2aW5nXG4gICAgICAgIC8vICAgIG1lZGlhIGZyb20gdGhlIG9mZmVyZXIuIEFuIG9mZmVyL2Fuc3dlciBleGNoYW5nZSBpcyB3aXRoaW4gdGhlXG4gICAgICAgIC8vICAgIGNvbnRleHQgb2YgYSBkaWFsb2csIHNvIHRoYXQgaWYgYSBTSVAgSU5WSVRFIHJlc3VsdHMgaW4gbXVsdGlwbGVcbiAgICAgICAgLy8gICAgZGlhbG9ncywgZWFjaCBpcyBhIHNlcGFyYXRlIG9mZmVyL2Fuc3dlciBleGNoYW5nZS4gIFRoZSBvZmZlci9hbnN3ZXJcbiAgICAgICAgLy8gICAgbW9kZWwgZGVmaW5lcyByZXN0cmljdGlvbnMgb24gd2hlbiBvZmZlcnMgYW5kIGFuc3dlcnMgY2FuIGJlIG1hZGVcbiAgICAgICAgLy8gICAgKGZvciBleGFtcGxlLCB5b3UgY2Fubm90IG1ha2UgYSBuZXcgb2ZmZXIgd2hpbGUgb25lIGlzIGluIHByb2dyZXNzKS5cbiAgICAgICAgLy8gICAgVGhpcyByZXN1bHRzIGluIHJlc3RyaWN0aW9ucyBvbiB3aGVyZSB0aGUgb2ZmZXJzIGFuZCBhbnN3ZXJzIGNhblxuICAgICAgICAvLyAgICBhcHBlYXIgaW4gU0lQIG1lc3NhZ2VzLiAgSW4gdGhpcyBzcGVjaWZpY2F0aW9uLCBvZmZlcnMgYW5kIGFuc3dlcnNcbiAgICAgICAgLy8gICAgY2FuIG9ubHkgYXBwZWFyIGluIElOVklURSByZXF1ZXN0cyBhbmQgcmVzcG9uc2VzLCBhbmQgQUNLLiAgVGhlIHVzYWdlXG4gICAgICAgIC8vICAgIG9mIG9mZmVycyBhbmQgYW5zd2VycyBpcyBmdXJ0aGVyIHJlc3RyaWN0ZWQuICBGb3IgdGhlIGluaXRpYWwgSU5WSVRFXG4gICAgICAgIC8vICAgIHRyYW5zYWN0aW9uLCB0aGUgcnVsZXMgYXJlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBvICBUaGUgaW5pdGlhbCBvZmZlciBNVVNUIGJlIGluIGVpdGhlciBhbiBJTlZJVEUgb3IsIGlmIG5vdCB0aGVyZSxcbiAgICAgICAgLy8gICAgICAgICAgaW4gdGhlIGZpcnN0IHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSB0aGUgVUFTIGJhY2sgdG9cbiAgICAgICAgLy8gICAgICAgICAgdGhlIFVBQy4gIEluIHRoaXMgc3BlY2lmaWNhdGlvbiwgdGhhdCBpcyB0aGUgZmluYWwgMnh4XG4gICAgICAgIC8vICAgICAgICAgIHJlc3BvbnNlLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBvICBJZiB0aGUgaW5pdGlhbCBvZmZlciBpcyBpbiBhbiBJTlZJVEUsIHRoZSBhbnN3ZXIgTVVTVCBiZSBpbiBhXG4gICAgICAgIC8vICAgICAgICAgIHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSBVQVMgYmFjayB0byBVQUMgd2hpY2ggaXNcbiAgICAgICAgLy8gICAgICAgICAgY29ycmVsYXRlZCB0byB0aGF0IElOVklURS4gIEZvciB0aGlzIHNwZWNpZmljYXRpb24sIHRoYXQgaXNcbiAgICAgICAgLy8gICAgICAgICAgb25seSB0aGUgZmluYWwgMnh4IHJlc3BvbnNlIHRvIHRoYXQgSU5WSVRFLiAgVGhhdCBzYW1lIGV4YWN0XG4gICAgICAgIC8vICAgICAgICAgIGFuc3dlciBNQVkgYWxzbyBiZSBwbGFjZWQgaW4gYW55IHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBzZW50XG4gICAgICAgIC8vICAgICAgICAgIHByaW9yIHRvIHRoZSBhbnN3ZXIuICBUaGUgVUFDIE1VU1QgdHJlYXQgdGhlIGZpcnN0IHNlc3Npb25cbiAgICAgICAgLy8gICAgICAgICAgZGVzY3JpcHRpb24gaXQgcmVjZWl2ZXMgYXMgdGhlIGFuc3dlciwgYW5kIE1VU1QgaWdub3JlIGFueVxuICAgICAgICAvLyAgICAgICAgICBzZXNzaW9uIGRlc2NyaXB0aW9ucyBpbiBzdWJzZXF1ZW50IHJlc3BvbnNlcyB0byB0aGUgaW5pdGlhbFxuICAgICAgICAvLyAgICAgICAgICBJTlZJVEUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgIG8gIElmIHRoZSBpbml0aWFsIG9mZmVyIGlzIGluIHRoZSBmaXJzdCByZWxpYWJsZSBub24tZmFpbHVyZVxuICAgICAgICAvLyAgICAgICAgICBtZXNzYWdlIGZyb20gdGhlIFVBUyBiYWNrIHRvIFVBQywgdGhlIGFuc3dlciBNVVNUIGJlIGluIHRoZVxuICAgICAgICAvLyAgICAgICAgICBhY2tub3dsZWRnZW1lbnQgZm9yIHRoYXQgbWVzc2FnZSAoaW4gdGhpcyBzcGVjaWZpY2F0aW9uLCBBQ0tcbiAgICAgICAgLy8gICAgICAgICAgZm9yIGEgMnh4IHJlc3BvbnNlKS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgbyAgQWZ0ZXIgaGF2aW5nIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBmaXJzdCBvZmZlciwgdGhlXG4gICAgICAgIC8vICAgICAgICAgIFVBQyBNQVkgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgaW4gcmVxdWVzdHMgYmFzZWQgb24gcnVsZXNcbiAgICAgICAgLy8gICAgICAgICAgc3BlY2lmaWVkIGZvciB0aGF0IG1ldGhvZCwgYnV0IG9ubHkgaWYgaXQgaGFzIHJlY2VpdmVkIGFuc3dlcnNcbiAgICAgICAgLy8gICAgICAgICAgdG8gYW55IHByZXZpb3VzIG9mZmVycywgYW5kIGhhcyBub3Qgc2VudCBhbnkgb2ZmZXJzIHRvIHdoaWNoIGl0XG4gICAgICAgIC8vICAgICAgICAgIGhhc24ndCBnb3R0ZW4gYW4gYW5zd2VyLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBvICBPbmNlIHRoZSBVQVMgaGFzIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBpbml0aWFsXG4gICAgICAgIC8vICAgICAgICAgIG9mZmVyLCBpdCBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiBhbnkgcmVzcG9uc2VzXG4gICAgICAgIC8vICAgICAgICAgIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgIC8vICAgICAgICAgIHNwZWNpZmljYXRpb24gYWxvbmUgY2FuIG5ldmVyIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIHVudGlsXG4gICAgICAgIC8vICAgICAgICAgIGNvbXBsZXRpb24gb2YgdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIDUgVGhlIE9mZmVyL0Fuc3dlciBNb2RlbCBhbmQgUFJBQ0tcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgUkZDIDMyNjEgZGVzY3JpYmVzIGd1aWRlbGluZXMgZm9yIHRoZSBzZXRzIG9mIG1lc3NhZ2VzIGluIHdoaWNoXG4gICAgICAgIC8vICAgIG9mZmVycyBhbmQgYW5zd2VycyBbM10gY2FuIGFwcGVhci4gIEJhc2VkIG9uIHRob3NlIGd1aWRlbGluZXMsIHRoaXNcbiAgICAgICAgLy8gICAgZXh0ZW5zaW9uIHByb3ZpZGVzIGFkZGl0aW9uYWwgb3Bwb3J0dW5pdGllcyBmb3Igb2ZmZXIvYW5zd2VyXG4gICAgICAgIC8vICAgIGV4Y2hhbmdlcy5cbiAgICAgICAgLy8gICAgSWYgdGhlIElOVklURSBjb250YWluZWQgYW4gb2ZmZXIsIHRoZSBVQVMgTUFZIGdlbmVyYXRlIGFuIGFuc3dlciBpbiBhXG4gICAgICAgIC8vICAgIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIChhc3N1bWluZyB0aGVzZSBhcmUgc3VwcG9ydGVkIGJ5IHRoZVxuICAgICAgICAvLyAgICBVQUMpLiAgVGhhdCByZXN1bHRzIGluIHRoZSBlc3RhYmxpc2htZW50IG9mIHRoZSBzZXNzaW9uIGJlZm9yZVxuICAgICAgICAvLyAgICBjb21wbGV0aW9uIG9mIHRoZSBjYWxsLiAgU2ltaWxhcmx5LCBpZiBhIHJlbGlhYmxlIHByb3Zpc2lvbmFsXG4gICAgICAgIC8vICAgIHJlc3BvbnNlIGlzIHRoZSBmaXJzdCByZWxpYWJsZSBtZXNzYWdlIHNlbnQgYmFjayB0byB0aGUgVUFDLCBhbmQgdGhlXG4gICAgICAgIC8vICAgIElOVklURSBkaWQgbm90IGNvbnRhaW4gYW4gb2ZmZXIsIG9uZSBNVVNUIGFwcGVhciBpbiB0aGF0IHJlbGlhYmxlXG4gICAgICAgIC8vICAgIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlxuICAgICAgICAvLyAgICBJZiB0aGUgVUFDIHJlY2VpdmVzIGEgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2l0aCBhbiBvZmZlclxuICAgICAgICAvLyAgICAodGhpcyB3b3VsZCBvY2N1ciBpZiB0aGUgVUFDIHNlbnQgYW4gSU5WSVRFIHdpdGhvdXQgYW4gb2ZmZXIsIGluXG4gICAgICAgIC8vICAgIHdoaWNoIGNhc2UgdGhlIGZpcnN0IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHdpbGwgY29udGFpbiB0aGVcbiAgICAgICAgLy8gICAgb2ZmZXIpLCBpdCBNVVNUIGdlbmVyYXRlIGFuIGFuc3dlciBpbiB0aGUgUFJBQ0suICBJZiB0aGUgVUFDIHJlY2VpdmVzXG4gICAgICAgIC8vICAgIGEgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2l0aCBhbiBhbnN3ZXIsIGl0IE1BWSBnZW5lcmF0ZSBhblxuICAgICAgICAvLyAgICBhZGRpdGlvbmFsIG9mZmVyIGluIHRoZSBQUkFDSy4gIElmIHRoZSBVQVMgcmVjZWl2ZXMgYSBQUkFDSyB3aXRoIGFuXG4gICAgICAgIC8vICAgIG9mZmVyLCBpdCBNVVNUIHBsYWNlIHRoZSBhbnN3ZXIgaW4gdGhlIDJ4eCB0byB0aGUgUFJBQ0suXG4gICAgICAgIC8vICAgIE9uY2UgYW4gYW5zd2VyIGhhcyBiZWVuIHNlbnQgb3IgcmVjZWl2ZWQsIHRoZSBVQSBTSE9VTEQgZXN0YWJsaXNoIHRoZVxuICAgICAgICAvLyAgICBzZXNzaW9uIGJhc2VkIG9uIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBvZmZlciBhbmQgYW5zd2VyLCBldmVuIGlmIHRoZVxuICAgICAgICAvLyAgICBvcmlnaW5hbCBJTlZJVEUgaXRzZWxmIGhhcyBub3QgYmVlbiByZXNwb25kZWQgdG8uXG4gICAgICAgIC8vICAgIElmIHRoZSBVQVMgaGFkIHBsYWNlZCBhIHNlc3Npb24gZGVzY3JpcHRpb24gaW4gYW55IHJlbGlhYmxlXG4gICAgICAgIC8vICAgIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHRoYXQgaXMgdW5hY2tub3dsZWRnZWQgd2hlbiB0aGUgSU5WSVRFIGlzXG4gICAgICAgIC8vICAgIGFjY2VwdGVkLCB0aGUgVUFTIE1VU1QgZGVsYXkgc2VuZGluZyB0aGUgMnh4IHVudGlsIHRoZSBwcm92aXNpb25hbFxuICAgICAgICAvLyAgICByZXNwb25zZSBpcyBhY2tub3dsZWRnZWQuICBPdGhlcndpc2UsIHRoZSByZWxpYWJpbGl0eSBvZiB0aGUgMXh4XG4gICAgICAgIC8vICAgIGNhbm5vdCBiZSBndWFyYW50ZWVkLCBhbmQgcmVsaWFiaWxpdHkgaXMgbmVlZGVkIGZvciBwcm9wZXIgb3BlcmF0aW9uXG4gICAgICAgIC8vICAgIG9mIHRoZSBvZmZlci9hbnN3ZXIgZXhjaGFuZ2UuXG4gICAgICAgIC8vICAgIEFsbCB1c2VyIGFnZW50cyB0aGF0IHN1cHBvcnQgdGhpcyBleHRlbnNpb24gTVVTVCBzdXBwb3J0IGFsbFxuICAgICAgICAvLyAgICBvZmZlci9hbnN3ZXIgZXhjaGFuZ2VzIHRoYXQgYXJlIHBvc3NpYmxlIGJhc2VkIG9uIHRoZSBydWxlcyBpblxuICAgICAgICAvLyAgICBTZWN0aW9uIDEzLjIgb2YgUkZDIDMyNjEsIGJhc2VkIG9uIHRoZSBleGlzdGVuY2Ugb2YgSU5WSVRFIGFuZCBQUkFDS1xuICAgICAgICAvLyAgICBhcyByZXF1ZXN0cywgYW5kIDJ4eCBhbmQgcmVsaWFibGUgMXh4IGFzIG5vbi1mYWlsdXJlIHJlbGlhYmxlXG4gICAgICAgIC8vICAgIHJlc3BvbnNlcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi01XG4gICAgICAgIC8vLy9cbiAgICAgICAgLy8gVGhlIE9mZmVyL0Fuc3dlciBNb2RlbCBJbXBsZW1lbnRhdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgb2ZmZXIvYW5zd2VyIG1vZGVsIGlzIHN0cmFpZ2h0IGZvcndhcmQsIGJ1dCBvbmUgTVVTVCBSRUFEIHRoZSBzcGVjaWZpY2F0aW9ucy4uLlxuICAgICAgICAvL1xuICAgICAgICAvLyAxMy4yLjEgQ3JlYXRpbmcgdGhlIEluaXRpYWwgSU5WSVRFIChwYXJhZ3JhcGggOCBpbiBwYXJ0aWN1bGFyKVxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAvL1xuICAgICAgICAvLyA1IFRoZSBPZmZlci9BbnN3ZXIgTW9kZWwgYW5kIFBSQUNLXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYyI3NlY3Rpb24tNVxuICAgICAgICAvL1xuICAgICAgICAvLyBTZXNzaW9uIEluaXRpYXRpb24gUHJvdG9jb2wgKFNJUCkgVXNhZ2Ugb2YgdGhlIE9mZmVyL0Fuc3dlciBNb2RlbFxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjMzN1xuICAgICAgICAvL1xuICAgICAgICAvLyAqKiogSU1QT1JUQU5UIElNUExFTUVOVEFUSU9OIENIT0lDRVMgKioqXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRMRFIuLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gIDEpIE9ubHkgb25lIG9mZmVyL2Fuc3dlciBleGNoYW5nZSBwZXJtaXR0ZWQgZHVyaW5nIGluaXRpYWwgSU5WSVRFLlxuICAgICAgICAvLyAgMikgTm8gXCJlYXJseSBtZWRpYVwiIGlmIHRoZSBpbml0aWFsIG9mZmVyIGlzIGluIGFuIElOVklURS5cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy8gMSkgSW5pdGlhbCBPZmZlci9BbnN3ZXIgUmVzdHJpY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIE91ciBpbXBsZW1lbnRhdGlvbiByZXBsYWNlcyB0aGUgZm9sbG93aW5nIGJ1bGxldCBwb2ludC4uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBvICBBZnRlciBoYXZpbmcgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGZpcnN0IG9mZmVyLCB0aGVcbiAgICAgICAgLy8gICAgVUFDIE1BWSBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiByZXF1ZXN0cyBiYXNlZCBvbiBydWxlc1xuICAgICAgICAvLyAgICBzcGVjaWZpZWQgZm9yIHRoYXQgbWV0aG9kLCBidXQgb25seSBpZiBpdCBoYXMgcmVjZWl2ZWQgYW5zd2Vyc1xuICAgICAgICAvLyAgICB0byBhbnkgcHJldmlvdXMgb2ZmZXJzLCBhbmQgaGFzIG5vdCBzZW50IGFueSBvZmZlcnMgdG8gd2hpY2ggaXRcbiAgICAgICAgLy8gICAgaGFzbid0IGdvdHRlbiBhbiBhbnN3ZXIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgIC8vXG4gICAgICAgIC8vIC4uLndpdGguLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gbyAgQWZ0ZXIgaGF2aW5nIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBmaXJzdCBvZmZlciwgdGhlXG4gICAgICAgIC8vICAgIFVBQyBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiByZXF1ZXN0cyBiYXNlZCBvbiBydWxlc1xuICAgICAgICAvLyAgICBzcGVjaWZpZWQgZm9yIHRoYXQgbWV0aG9kLlxuICAgICAgICAvL1xuICAgICAgICAvLyAuLi53aGljaCBpbiBjb21iaW5hdGlvbiB3aXRoIHRoaXMgYnVsbGV0IHBvaW50Li4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIG8gIE9uY2UgdGhlIFVBUyBoYXMgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgLy8gICAgb2ZmZXIsIGl0IE1VU1QgTk9UIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIGluIGFueSByZXNwb25zZXNcbiAgICAgICAgLy8gICAgdG8gdGhlIGluaXRpYWwgSU5WSVRFLiAgVGhpcyBtZWFucyB0aGF0IGEgVUFTIGJhc2VkIG9uIHRoaXNcbiAgICAgICAgLy8gICAgc3BlY2lmaWNhdGlvbiBhbG9uZSBjYW4gbmV2ZXIgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgdW50aWxcbiAgICAgICAgLy8gICAgY29tcGxldGlvbiBvZiB0aGUgaW5pdGlhbCB0cmFuc2FjdGlvbi5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbiAgICAgICAgLy9cbiAgICAgICAgLy8gLi4uZW5zdXJlcyB0aGF0IEVYQUNUTFkgT05FIG9mZmVyL2Fuc3dlciBleGNoYW5nZSB3aWxsIG9jY3VyXG4gICAgICAgIC8vIGR1cmluZyBhbiBpbml0aWFsIG91dCBvZiBkaWFsb2cgSU5WSVRFIHJlcXVlc3QgbWFkZSBieSBvdXIgVUFDLlxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvLyAyKSBFYXJseSBNZWRpYSBSZXN0cmljdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2hpbGUgb3VyIGltcGxlbWVudGF0aW9uIGFkaGVyZXMgdG8gdGhlIGZvbGxvd2luZyBidWxsZXQgcG9pbnQuLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gbyAgSWYgdGhlIGluaXRpYWwgb2ZmZXIgaXMgaW4gYW4gSU5WSVRFLCB0aGUgYW5zd2VyIE1VU1QgYmUgaW4gYVxuICAgICAgICAvLyAgICByZWxpYWJsZSBub24tZmFpbHVyZSBtZXNzYWdlIGZyb20gVUFTIGJhY2sgdG8gVUFDIHdoaWNoIGlzXG4gICAgICAgIC8vICAgIGNvcnJlbGF0ZWQgdG8gdGhhdCBJTlZJVEUuICBGb3IgdGhpcyBzcGVjaWZpY2F0aW9uLCB0aGF0IGlzXG4gICAgICAgIC8vICAgIG9ubHkgdGhlIGZpbmFsIDJ4eCByZXNwb25zZSB0byB0aGF0IElOVklURS4gIFRoYXQgc2FtZSBleGFjdFxuICAgICAgICAvLyAgICBhbnN3ZXIgTUFZIGFsc28gYmUgcGxhY2VkIGluIGFueSBwcm92aXNpb25hbCByZXNwb25zZXMgc2VudFxuICAgICAgICAvLyAgICBwcmlvciB0byB0aGUgYW5zd2VyLiAgVGhlIFVBQyBNVVNUIHRyZWF0IHRoZSBmaXJzdCBzZXNzaW9uXG4gICAgICAgIC8vICAgIGRlc2NyaXB0aW9uIGl0IHJlY2VpdmVzIGFzIHRoZSBhbnN3ZXIsIGFuZCBNVVNUIGlnbm9yZSBhbnlcbiAgICAgICAgLy8gICAgc2Vzc2lvbiBkZXNjcmlwdGlvbnMgaW4gc3Vic2VxdWVudCByZXNwb25zZXMgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgLy8gICAgSU5WSVRFLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBoYXZlIG1hZGUgdGhlIGZvbGxvd2luZyBpbXBsZW1lbnRhdGlvbiBkZWNpc2lvbiB3aXRoIHJlZ2FyZCB0byBlYXJseSBtZWRpYS4uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBvICBJZiB0aGUgaW5pdGlhbCBvZmZlciBpcyBpbiB0aGUgSU5WSVRFLCB0aGUgYW5zd2VyIGZyb20gdGhlXG4gICAgICAgIC8vICAgIFVBUyBiYWNrIHRvIHRoZSBVQUMgd2lsbCBlc3RhYmxpc2ggYSBtZWRpYSBzZXNzaW9uIG9ubHlcbiAgICAgICAgLy8gICAgb25seSBhZnRlciB0aGUgZmluYWwgMnh4IHJlc3BvbnNlIHRvIHRoYXQgSU5WSVRFIGlzIHJlY2VpdmVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcmVhc29uIGZvciB0aGlzIGRlY2lzaW9uIGlzIHJvb3RlZCBpbiBhIHJlc3RyaWN0aW9uIGN1cnJlbnRseVxuICAgICAgICAvLyBpbmhlcmVudCBpbiBXZWJSVEMuIFNwZWNpZmljYWxseSwgd2hpbGUgYSBTSVAgSU5WSVRFIHJlcXVlc3Qgd2l0aCBhblxuICAgICAgICAvLyBpbml0aWFsIG9mZmVyIG1heSBmb3JrIHJlc3VsdGluZyBpbiBtb3JlIHRoYW4gb25lIHByb3Zpc2lvbmFsIGFuc3dlcixcbiAgICAgICAgLy8gdGhlcmUgaXMgY3VycmVudGx5IG5vIGVhc3kvZ29vZCB3YXkgdG8gdG8gXCJmb3JrXCIgYW4gb2ZmZXIgZ2VuZXJhdGVkXG4gICAgICAgIC8vIGJ5IGEgcGVlciBjb25uZWN0aW9uLiBJbiBwYXJ0aWN1bGFyLCBhIFdlYlJUQyBvZmZlciBjdXJyZW50bHkgbWF5IG9ubHlcbiAgICAgICAgLy8gYmUgbWF0Y2hlZCB3aXRoIG9uZSBhbnN3ZXIgYW5kIHdlIGhhdmUgbm8gZ29vZCB3YXkgdG8ga25vdyB3aGljaFxuICAgICAgICAvLyBcInByb3Zpc2lvbmFsIGFuc3dlclwiIGlzIGdvaW5nIHRvIGJlIHRoZSBcImZpbmFsIGFuc3dlclwiLiBTbyB3ZSBoYXZlXG4gICAgICAgIC8vIGRlY2lkZWQgdG8gcHVudCBhbmQgbm90IGNyZWF0ZSBhbnkgXCJlYXJseSBtZWRpYVwiIHNlc3Npb25zIGluIHRoaXMgY2FzZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIHVwc2hvdCBpcyB0aGF0IGlmIHlvdSB3YW50IFwiZWFybHkgbWVkaWFcIiwgeW91IG11c3Qgbm90IHB1dCB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBvZmZlciBpbiB0aGUgSU5WSVRFLiBJbnN0ZWFkLCBmb3JjZSB0aGUgVUFTIHRvIHByb3ZpZGUgdGhlXG4gICAgICAgIC8vIGluaXRpYWwgb2ZmZXIgYnkgc2VuZGluZyBhbiBJTlZJVEUgd2l0aG91dCBhbiBvZmZlci4gSW4gdGhlIFdlYlJUQ1xuICAgICAgICAvLyBjYXNlIHRoaXMgYWxsb3dzIHVzIHRvIGNyZWF0ZSBhIHVuaXF1ZSBwZWVyIGNvbm5lY3Rpb24gd2l0aCBhIHVuaXF1ZVxuICAgICAgICAvLyBhbnN3ZXIgZm9yIGV2ZXJ5IHByb3Zpc2lvbmFsIG9mZmVyIHdpdGggXCJlYXJseSBtZWRpYVwiIG9uIGFsbCBvZiB0aGVtLlxuICAgICAgICAvLy8vXG4gICAgICAgIC8vLy9cbiAgICAgICAgLy8gUk9BRE1BUDogVGhlIE9mZmVyL0Fuc3dlciBNb2RlbCBJbXBsZW1lbnRhdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgXCJubyBlYXJseSBtZWRpYSBpZiBvZmZlciBpbiBJTlZJVEVcIiBpbXBsZW1lbnRhdGlvbiBpcyBub3QgYVxuICAgICAgICAvLyB3ZWxjb21lIG9uZS4gVGhlIG1hc3NlcyB3YW50IGl0LiBUaGUgd2FudCBpdCBhbmQgdGhleSB3YW50IGl0XG4gICAgICAgIC8vIHRvIHdvcmsgZm9yIFdlYlJUQyAoc28gdGhleSB3YW50IHRvIGhhdmUgdGhlaXIgY2FrZSBhbmQgZWF0IHRvbykuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNvIHdoaWxlIHdlIGN1cnJlbnRseSBjYW5ub3QgbWFrZSB0aGUgb2ZmZXIgaW4gSU5WSVRFK2Zvcmtpbmcrd2VicnRjXG4gICAgICAgIC8vIGNhc2Ugd29yaywgd2UgZGVjaWRlZCB0byBkbyB0aGUgZm9sbG93aW5nLi4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEpIG1vZGlmeSBTREggRmFjdG9yeSB0byBwcm92aWRlIGFuIGluaXRpYWwgb2ZmZXIgd2l0aG91dCBnaXZpbmcgdXMgdGhlIFNESCwgYW5kIHRoZW4uLi5cbiAgICAgICAgLy8gMikgc3RpY2sgdGhhdCBvZmZlciBpbiB0aGUgaW5pdGlhbCBJTlZJVEUsIGFuZCB3aGVuIDE4MyB3aXRoIGluaXRpYWwgYW5zd2VyIGlzIHJlY2VpdmVkLi4uXG4gICAgICAgIC8vIDMpIGFzayBTREggRmFjdG9yeSBpZiBpdCBzdXBwb3J0cyBcImVhcmx5UmVtb3RlQW5zd2VyXCJcbiAgICAgICAgLy8gICBhKSBpZiB0cnVlLCBhc2sgU0RIIEZhY3RvcnkgdG8gY3JlYXRlU0RIKGxvY2FsT2ZmZXIpLnRoZW4oKHNkaCkgPT4gc2RoLnNldERlc2NyaXB0aW9uKHJlbW90ZUFuc3dlcilcbiAgICAgICAgLy8gICBiKSBpZiBmYWxzZSwgZGVmZXIgZ2V0dGluZyBhIFNESCB1bnRpbCAyeHggcmVzcG9uc2UgaXMgcmVjZWl2ZWRcbiAgICAgICAgLy9cbiAgICAgICAgLy8gT3VyIHN1cHBsaWVkIFdlYlJUQyBTREggd2lsbCBkZWZhdWx0IHRvIGJlaGF2aW9yIDNiIHdoaWNoIHdvcmtzIGluIGZvcmtpbmcgZW52aXJvbm1lbnQgKHdpdGhvdXQpXG4gICAgICAgIC8vIGVhcmx5IG1lZGlhIGlmIGluaXRpYWwgb2ZmZXIgaXMgaW4gdGhlIElOVklURSkuIFdlIHdpbGwsIGhvd2V2ZXIsIHByb3ZpZGUgYW4gXCJpbnZpdGVXaWxsTm90Rm9ya1wiXG4gICAgICAgIC8vIG9wdGlvbiB3aGljaCBpZiBzZXQgdG8gXCJ0cnVlXCIgd2lsbCBoYXZlIG91ciBzdXBwbGllZCBXZWJSVEMgU0RIIGJlaGF2ZSBpbiB0aGUgM2EgbWFubmVyLlxuICAgICAgICAvLyBUaGF0IHdpbGwgcmVzdWx0IGluXG4gICAgICAgIC8vICAtIGVhcmx5IG1lZGlhIHdvcmtpbmcgd2l0aCBpbml0aWFsIG9mZmVyIGluIHRoZSBJTlZJVEUsIGFuZC4uLlxuICAgICAgICAvLyAgLSBpZiB0aGUgSU5WSVRFIGZvcmtzLCB0aGUgc2Vzc2lvbiB0ZXJtaW5hdGluZyB3aXRoIGFuIEVSUk9SIHRoYXQgcmVhZHMgbGlrZVxuICAgICAgICAvLyAgICBcIllvdSBzZXQgJ2ludml0ZVdpbGxOb3RGb3JrJyB0byB0cnVlIGJ1dCB0aGUgSU5WSVRFIGZvcmtlZC4gWW91IGNhbid0IGVhdCB5b3VyIGNha2UsIGFuZCBoYXZlIGl0IHRvby5cIlxuICAgICAgICAvLyAgLSBmdXJ0aGVybW9yZSwgd2UgYWNjZXB0IHRoYXQgdXNlcnMgd2lsbCByZXBvcnQgdGhhdCBlcnJvciB0byB1cyBhcyBcImJ1Z1wiIHJlZ2FyZGxlc3NcbiAgICAgICAgLy9cbiAgICAgICAgLy8gU28sIFNESCBGYWN0b3J5IGlzIGdvaW5nIHRvIGVuZCB1cCB3aXRoIGEgbmV3IGludGVyZmFjZSBhbG9uZyB0aGUgbGluZXMgb2YuLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gaW50ZXJmYWNlIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5IHtcbiAgICAgICAgLy8gICBtYWtlTG9jYWxPZmZlcigpOiBQcm9taXNlPENvbnRlbnRUeXBlQW5kQm9keT47XG4gICAgICAgIC8vICAgbWFrZVNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoXG4gICAgICAgIC8vICAgICBpbml0aWFsT2ZmZXI6IENvbnRlbnRUeXBlQW5kQm9keSwgb2ZmZXJUeXBlOiBcImxvY2FsXCIgfCBcInJlbW90ZVwiXG4gICAgICAgIC8vICAgKTogUHJvbWlzZTxTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyPjtcbiAgICAgICAgLy8gICBzdXBwb3J0c0Vhcmx5UmVtb3RlQW5zd2VyOiBib29sZWFuO1xuICAgICAgICAvLyAgIHN1cHBvcnRzQ29udGVudFR5cGUoY29udGVudFR5cGU6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgICAgIC8vICAgZ2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb246IENvbnRlbnRUeXBlQW5kQm9keSk6IFByb21pc2U8Q29udGVudFR5cGVBbmRCb2R5PlxuICAgICAgICAvLyAgIHNldERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uOiBDb250ZW50VHlwZUFuZEJvZHkpOiBQcm9taXNlPHZvaWQ+XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2Ugc2hvdWxkIGJlIGFibGUgdG8gZ2V0IHJpZCBvZiBhbGwgdGhlIGhhc09mZmVyL2hhc0Fuc3dlciB0cmFja2luZyBjb2RlIGFuZCBvdGhlcndpc2UgY29kZVxuICAgICAgICAvLyBpdCB1cCB0byB0aGUgc2FtZSBpbnRlcmFjdGlvbiB3aXRoIHRoZSBTREggRmFjdG9yeSBhbmQgU0RIIHJlZ2FyZGxlc3Mgb2Ygc2lnbmFsaW5nIHNjZW5hcmlvLlxuICAgICAgICAvLy8vXG4gICAgICAgIC8vIFNlbmQgdGhlIElOVklURSByZXF1ZXN0LlxuICAgICAgICB0aGlzLm91dGdvaW5nSW52aXRlUmVxdWVzdCA9IHRoaXMudWEudXNlckFnZW50Q29yZS5pbnZpdGUodGhpcy5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBvbkFjY2VwdDogZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5vbkFjY2VwdChpbnZpdGVSZXNwb25zZSk7IH0sXG4gICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uUHJvZ3Jlc3MoaW52aXRlUmVzcG9uc2UpOyB9LFxuICAgICAgICAgICAgb25SZWRpcmVjdDogZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5vblJlZGlyZWN0KGludml0ZVJlc3BvbnNlKTsgfSxcbiAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uUmVqZWN0KGludml0ZVJlc3BvbnNlKTsgfSxcbiAgICAgICAgICAgIG9uVHJ5aW5nOiBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uVHJ5aW5nKGludml0ZVJlc3BvbnNlKTsgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLmFja0FuZEJ5ZSA9IGZ1bmN0aW9uIChpbnZpdGVSZXNwb25zZSwgc2Vzc2lvbiwgc3RhdHVzQ29kZSwgcmVhc29uUGhyYXNlKSB7XG4gICAgICAgIGlmICghdGhpcy51YS51c2VyQWdlbnRDb3JlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgcmVxdWlyZXMgdXNlciBhZ2VudCBjb3JlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIGlmIChzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlYXNvbjogXCIgKyBVdGlsc18xLlV0aWxzLmdldFJlYXNvbkhlYWRlclZhbHVlKHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRnb2luZ0Fja1JlcXVlc3QgPSBpbnZpdGVSZXNwb25zZS5hY2soKTtcbiAgICAgICAgdGhpcy5lbWl0KFwiYWNrXCIsIG91dGdvaW5nQWNrUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgdmFyIG91dGdvaW5nQnllUmVxdWVzdCA9IHNlc3Npb24uYnllKHVuZGVmaW5lZCwgeyBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyB9KTtcbiAgICAgICAgdGhpcy5lbWl0KFwiYnllXCIsIG91dGdvaW5nQnllUmVxdWVzdC5tZXNzYWdlKTtcbiAgICB9O1xuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLmRpc3Bvc2VFYXJseU1lZGlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWFybHlNZWRpYVNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFYXJseSBtZWRpYSBzZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXJzIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lYXJseU1lZGlhU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBmaW5hbCByZXNwb25zZSB0byBpbml0aWFsIElOVklURS5cbiAgICAgKiBAcGFyYW0gaW52aXRlUmVzcG9uc2UgMnh4IHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLm9uQWNjZXB0ID0gZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5lYXJseU1lZGlhU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVhcmx5IG1lZGlhIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlcnMgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSBpbnZpdGVSZXNwb25zZS5tZXNzYWdlO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IGludml0ZVJlc3BvbnNlLnNlc3Npb247XG4gICAgICAgIC8vIE91ciB0cmFuc2FjdGlvbiBsYXllciBpcyBcIm5vbi1zdGFuZGFyZFwiIGluIHRoYXQgaXQgd2lsbCBvbmx5XG4gICAgICAgIC8vIHBhc3MgdXMgYSAyeHggcmVzcG9uc2Ugb25jZSBwZXIgYnJhbmNoLCBzbyB0aGVyZSBpcyBubyBuZWVkIHRvXG4gICAgICAgIC8vIHdvcnJ5IGFib3V0IGRlYWxpbmcgd2l0aCAyeHggcmV0cmFuc21pc3Npb25zLiBIb3dldmVyLCB3ZSBjYW5cbiAgICAgICAgLy8gYW5kIGRvIHN0aWxsIGdldCAyeHggcmVzcG9uc2VzIGZvciBtdWx0aXBsZSBicmFuY2hlcyAod2hlbiBhblxuICAgICAgICAvLyBJTlZJVEUgaXMgZm9ya2VkKSB3aGljaCBtYXkgY3JlYXRlIG11bHRpcGxlIGNvbmZpcm1lZCBkaWFsb2dzLlxuICAgICAgICAvLyBIZXJlaW4gd2UgYXJlIGFja2luZyBhbmQgc2VuZGluZyBhIGJ5ZSB0byBhbnkgY29uZmlybWVkIGRpYWxvZ3NcbiAgICAgICAgLy8gd2hpY2ggYXJyaXZlIGJleW9uZCB0aGUgZmlyc3Qgb25lLiBUaGlzIGlzIHRoZSBkZXNpcmVkIGJlaGF2aW9yXG4gICAgICAgIC8vIGZvciBtb3N0IGFwcGxpY2F0aW9ucyAoYnV0IGNlcnRhaW5seSBub3QgYWxsKS5cbiAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSByZWNlaXZlZCBhIGNvbmZpcm1lZCBkaWFsb2csIGFjayAmIGJ5ZSB0aGlzIHNlc3Npb24uXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgdXNlciByZXF1ZXN0ZWQgY2FuY2VsbGF0aW9uLCBhY2sgJiBieWUgdGhpcyBzZXNzaW9uLlxuICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFja0FuZEJ5ZShpbnZpdGVSZXNwb25zZSwgc2Vzc2lvbik7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJieWVcIiwgdGhpcy5yZXF1ZXN0KTsgLy8gRklYTUU6IFBvcnRlZCB0aGlzIG9kZCBzZWNvbmQgXCJieWVcIiBlbWl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9ydGVkIGJlaGF2aW9yLlxuICAgICAgICBpZiAocmVzcG9uc2UuaGFzSGVhZGVyKFwiUC1Bc3NlcnRlZC1JZGVudGl0eVwiKSkge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRlZElkZW50aXR5ID0gY29yZV8xLkdyYW1tYXIubmFtZUFkZHJIZWFkZXJQYXJzZShyZXNwb25zZS5nZXRIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBoYXZlIGEgY29uZmlybWVkIGRpYWxvZy5cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgb25BY2s6IGZ1bmN0aW9uIChhY2tSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5vbkFjayhhY2tSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgIG9uQnllOiBmdW5jdGlvbiAoYnllUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QoYnllUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICBvbkluZm86IGZ1bmN0aW9uIChpbmZvUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QoaW5mb1JlcXVlc3QpOyB9LFxuICAgICAgICAgICAgb25JbnZpdGU6IGZ1bmN0aW9uIChpbnZpdGVSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChpbnZpdGVSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgIG9uTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICBvbk5vdGlmeTogZnVuY3Rpb24gKG5vdGlmeVJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KG5vdGlmeVJlcXVlc3QpOyB9LFxuICAgICAgICAgICAgb25QcmFjazogZnVuY3Rpb24gKHByYWNrUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QocHJhY2tSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgIG9uUmVmZXI6IGZ1bmN0aW9uIChyZWZlclJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KHJlZmVyUmVxdWVzdCk7IH0sXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICAvLyBJTlZJVEUgd2l0aG91dCBPZmZlciwgc28gTVVTVCBoYXZlIE9mZmVyIGF0IHRoaXMgcG9pbnQsIHNvIGludmFsaWQgc3RhdGUuXG4gICAgICAgICAgICAgICAgdGhpcy5hY2tBbmRCeWUoaW52aXRlUmVzcG9uc2UsIHNlc3Npb24sIDQwMCwgXCJNaXNzaW5nIHNlc3Npb24gZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQocmVzcG9uc2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcjpcbiAgICAgICAgICAgICAgICAvLyBJTlZJVEUgd2l0aCBPZmZlciwgc28gTVVTVCBoYXZlIEFuc3dlciBhdCB0aGlzIHBvaW50LCBzbyBpbnZhbGlkIHN0YXRlLlxuICAgICAgICAgICAgICAgIHRoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uLCA0MDAsIFwiTWlzc2luZyBzZXNzaW9uIGRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyOlxuICAgICAgICAgICAgICAgIC8vIElOVklURSB3aXRob3V0IE9mZmVyLCByZWNlaXZlZCBvZmZlciBpbiAyeHgsIHNvIE1VU1Qgc2VuZCBBbnN3ZXIgaW4gQUNLLlxuICAgICAgICAgICAgICAgIHZhciBzZGhfMSA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkodGhpcywgdGhpcy51YS5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gc2RoXzE7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci1jcmVhdGVkXCIsIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKCFzZGhfMS5oYXNEZXNjcmlwdGlvbihyZXNwb25zZS5nZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgfHwgXCJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2tBbmRCeWUoaW52aXRlUmVzcG9uc2UsIHNlc3Npb24sIDQwMCwgXCJNaXNzaW5nIHNlc3Npb24gZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNPZmZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2RoXzFcbiAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBzZGhfMS5nZXREZXNjcmlwdGlvbihfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgX3RoaXMubW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0NhbmNlbGVkIHx8IF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudERpc3Bvc2l0aW9uOiBcInNlc3Npb25cIiwgY29udGVudFR5cGU6IGRlc2NyaXB0aW9uLmNvbnRlbnRUeXBlLCBjb250ZW50OiBkZXNjcmlwdGlvbi5ib2R5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2tSZXF1ZXN0ID0gaW52aXRlUmVzcG9uc2UuYWNrKHsgYm9keTogYm9keSB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFja1wiLCBhY2tSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY2NlcHRlZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcImludmFsaWQgZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBtZXNzYWdlIGlzIGluY29uc2lzdGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uLCA0ODgsIFwiSW52YWxpZCBzZXNzaW9uIGRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHJlc3BvbnNlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlOlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgc2Vzc2lvbiBoYXMgY29tcGxldGVkIGFuIGluaXRpYWwgb2ZmZXIvYW5zd2VyIGV4Y2hhbmdlLi4uXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnNfMTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJib2R5ICYmIHRoaXMucmVuZGVydHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zXzEgPSB7IGJvZHk6IHsgY29udGVudERpc3Bvc2l0aW9uOiBcInJlbmRlclwiLCBjb250ZW50VHlwZTogdGhpcy5yZW5kZXJ0eXBlLCBjb250ZW50OiB0aGlzLnJlbmRlcmJvZHkgfSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBJTlZJVEUgd2l0aCBPZmZlciBhbmQgd2UgaGF2ZSBiZWVuIHdhaXRpbmcgdGlsbCBub3cgdG8gYXBwbHkgdGhlIGFuc3dlci5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPZmZlciAmJiAhdGhpcy5oYXNBbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbnN3ZXIgPSBzZXNzaW9uLmFuc3dlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuc3dlciBpcyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKGFuc3dlci5jb250ZW50LCB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCB0aGlzLm1vZGlmaWVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0NPTkZJUk1FRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY2tSZXF1ZXN0ID0gaW52aXRlUmVzcG9uc2UuYWNrKG9wdGlvbnNfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwiYWNrXCIsIGFja1JlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY2NlcHRlZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uLCA0ODgsIFwiTm90IEFjY2VwdGFibGUgSGVyZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZhaWxlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJTUU6IERPTidUIEVBVCBVTkhBTkRMRUQgRVJST1JTIVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBJTlZJVEUgd2l0aCBvciB3aXRob3V0IE9mZmVyIGFuZCB3ZSBoYXZlIGFscmVhZHkgY29tcGxldGVkIHRoZSBpbml0aWFsIGV4Y2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPSB0aGlzLmVhcmx5TWVkaWFTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVycy5nZXQoc2Vzc2lvbi5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXIgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVhcmx5TWVkaWFTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVycy5kZWxldGUoc2Vzc2lvbi5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzT2ZmZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2tSZXF1ZXN0ID0gaW52aXRlUmVzcG9uc2UuYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFja1wiLCBhY2tSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY2VwdGVkKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgLy8gRGlhbG9nIGhhcyB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHNlc3Npb24gc2lnbmFsaW5nIHN0YXRlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3Bvc2VFYXJseU1lZGlhKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgdG8gaW5pdGlhbCBJTlZJVEUuXG4gICAgICogQHBhcmFtIGludml0ZVJlc3BvbnNlIDF4eCByZXNwb25zZS5cbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRDb250ZXh0LnByb3RvdHlwZS5vblByb2dyZXNzID0gZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFBvcnRlZCAtIFVzZXIgcmVxdWVzdGVkIGNhbmNlbGxhdGlvbi5cbiAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5vdXRnb2luZ0ludml0ZVJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk91dGdvaW5nIElOVklURSByZXF1ZXN0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmVhcmx5TWVkaWFTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWFybHkgbWVkaWEgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVycyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNwb25zZSA9IGludml0ZVJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgICAgIHZhciBzZXNzaW9uID0gaW52aXRlUmVzcG9uc2Uuc2Vzc2lvbjtcbiAgICAgICAgLy8gUG9ydGVkIC0gU2V0IHN0YXR1cy5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTXzFYWF9SRUNFSVZFRDtcbiAgICAgICAgLy8gUG9ydGVkIC0gU2V0IGFzc2VydGVkSWRlbnRpdHkuXG4gICAgICAgIGlmIChyZXNwb25zZS5oYXNIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydGVkSWRlbnRpdHkgPSBjb3JlXzEuR3JhbW1hci5uYW1lQWRkckhlYWRlclBhcnNlKHJlc3BvbnNlLmdldEhlYWRlcihcIlAtQXNzZXJ0ZWQtSWRlbnRpdHlcIikpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBwcm92aXNpb25hbCByZXNwb25zZSBNVVNUIGVzdGFibGlzaCBhIGRpYWxvZyBpZiBvbmUgaXMgbm90IHlldCBjcmVhdGVkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTRcbiAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICAvLyBBIHJlc3BvbnNlIHdpdGggYSB0byB0YWcgTVVTVCBjcmVhdGUgYSBzZXNzaW9uIChzaG91bGQgbmV2ZXIgZ2V0IGhlcmUpLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UgaXMgcmVjZWl2ZWQgZm9yIGFuIGluaXRpYWwgcmVxdWVzdCwgYW5kXG4gICAgICAgIC8vIHRoYXQgcmVzcG9uc2UgY29udGFpbnMgYSBSZXF1aXJlIGhlYWRlciBmaWVsZCBjb250YWluaW5nIHRoZSBvcHRpb25cbiAgICAgICAgLy8gdGFnIDEwMHJlbCwgdGhlIHJlc3BvbnNlIGlzIHRvIGJlIHNlbnQgcmVsaWFibHkuICBJZiB0aGUgcmVzcG9uc2UgaXNcbiAgICAgICAgLy8gYSAxMDAgKFRyeWluZykgKGFzIG9wcG9zZWQgdG8gMTAxIHRvIDE5OSksIHRoaXMgb3B0aW9uIHRhZyBNVVNUIGJlXG4gICAgICAgIC8vIGlnbm9yZWQsIGFuZCB0aGUgcHJvY2VkdXJlcyBiZWxvdyBNVVNUIE5PVCBiZSB1c2VkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTRcbiAgICAgICAgdmFyIHJlcXVpcmVIZWFkZXIgPSByZXNwb25zZS5nZXRIZWFkZXIoXCJyZXF1aXJlXCIpO1xuICAgICAgICB2YXIgcnNlcUhlYWRlciA9IHJlc3BvbnNlLmdldEhlYWRlcihcInJzZXFcIik7XG4gICAgICAgIHZhciByc2VxID0gcmVxdWlyZUhlYWRlciAmJiByZXF1aXJlSGVhZGVyLmluY2x1ZGVzKFwiMTAwcmVsXCIpICYmIHJzZXFIZWFkZXIgPyBOdW1iZXIocnNlcUhlYWRlcikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciByZXNwb25zZVJlbGlhYmxlID0gISFyc2VxO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIGlmIChyZXNwb25zZVJlbGlhYmxlKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJBY2s6IFwiICsgcmVzcG9uc2UuZ2V0SGVhZGVyKFwicnNlcVwiKSArIFwiIFwiICsgcmVzcG9uc2UuZ2V0SGVhZGVyKFwiY3NlcVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU5WSVRFIHdpdGhvdXQgT2ZmZXIgYW5kIHNlc3Npb24gc3RpbGwgaGFzIG5vIG9mZmVyIChhbmQgbm8gYW5zd2VyKS5cbiAgICAgICAgaWYgKHNlc3Npb24uc2lnbmFsaW5nU3RhdGUgPT09IGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsKSB7XG4gICAgICAgICAgICAvLyBTaW1pbGFybHksIGlmIGEgcmVsaWFibGUgcHJvdmlzaW9uYWxcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIHRoZSBmaXJzdCByZWxpYWJsZSBtZXNzYWdlIHNlbnQgYmFjayB0byB0aGUgVUFDLCBhbmQgdGhlXG4gICAgICAgICAgICAvLyBJTlZJVEUgZGlkIG5vdCBjb250YWluIGFuIG9mZmVyLCBvbmUgTVVTVCBhcHBlYXIgaW4gdGhhdCByZWxpYWJsZVxuICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTVcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVJlbGlhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkZpcnN0IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHJlY2VpdmVkIE1VU1QgY29udGFpbiBhbiBvZmZlciB3aGVuIElOVklURSBkb2VzIG5vdCBjb250YWluIGFuIG9mZmVyLlwiKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogS25vd24gcG9wdWxhciBVQSdzIGN1cnJlbnRseSBlbmQgdXAgaGVyZS4uLlxuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU5WSVRFIHdpdGggT2ZmZXIgYW5kIHNlc3Npb24gb25seSBoYXMgdGhhdCBpbml0aWFsIGxvY2FsIG9mZmVyLlxuICAgICAgICBpZiAoc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSA9PT0gY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VSZWxpYWJsZSkge1xuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU5WSVRFIHdpdGhvdXQgT2ZmZXIgYW5kIHJlY2VpdmVkIGluaXRpYWwgb2ZmZXIgaW4gcHJvdmlzaW9uYWwgcmVzcG9uc2VcbiAgICAgICAgaWYgKHNlc3Npb24uc2lnbmFsaW5nU3RhdGUgPT09IGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXIpIHtcbiAgICAgICAgICAgIC8vIFRoZSBpbml0aWFsIG9mZmVyIE1VU1QgYmUgaW4gZWl0aGVyIGFuIElOVklURSBvciwgaWYgbm90IHRoZXJlLFxuICAgICAgICAgICAgLy8gaW4gdGhlIGZpcnN0IHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSB0aGUgVUFTIGJhY2sgdG9cbiAgICAgICAgICAgIC8vIHRoZSBVQUMuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIFNlY3Rpb24gMTMuMi4xIG9mIFtSRkMzMjYxXSwgJ1RoZSBmaXJzdCByZWxpYWJsZVxuICAgICAgICAgICAgLy8gbm9uLWZhaWx1cmUgbWVzc2FnZScgbXVzdCBoYXZlIGFuIG9mZmVyIGlmIHRoZXJlIGlzIG5vIG9mZmVyIGluIHRoZVxuICAgICAgICAgICAgLy8gSU5WSVRFIHJlcXVlc3QuICBUaGlzIG1lYW5zIHRoYXQgdGhlIFVzZXIgQWdlbnQgKFVBKSB0aGF0IHJlY2VpdmVzXG4gICAgICAgICAgICAvLyB0aGUgSU5WSVRFIHJlcXVlc3Qgd2l0aG91dCBhbiBvZmZlciBtdXN0IGluY2x1ZGUgYW4gb2ZmZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBmaXJzdCByZWxpYWJsZSByZXNwb25zZSB3aXRoIDEwMHJlbCBleHRlbnNpb24uICBJZiBubyByZWxpYWJsZVxuICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2UgaGFzIGJlZW4gc2VudCwgdGhlIFVzZXIgQWdlbnQgU2VydmVyIChVQVMpIG11c3RcbiAgICAgICAgICAgIC8vIGluY2x1ZGUgYW4gb2ZmZXIgd2hlbiBzZW5kaW5nIDJ4eCByZXNwb25zZS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MzM3I3NlY3Rpb24tMi4yXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlUmVsaWFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm9uLXJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIE1VU1QgTk9UIGNvbnRhaW4gYW4gaW5pdGlhbCBvZmZlciwgZGlzY2FyZGluZyByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGluaXRpYWwgb2ZmZXIgaXMgaW4gdGhlIGZpcnN0IHJlbGlhYmxlIG5vbi1mYWlsdXJlXG4gICAgICAgICAgICAvLyBtZXNzYWdlIGZyb20gdGhlIFVBUyBiYWNrIHRvIFVBQywgdGhlIGFuc3dlciBNVVNUIGJlIGluIHRoZVxuICAgICAgICAgICAgLy8gYWNrbm93bGVkZ2VtZW50IGZvciB0aGF0IG1lc3NhZ2VcbiAgICAgICAgICAgIHZhciBzZGhfMiA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkodGhpcywgdGhpcy51YS5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWRcIiwgc2RoXzIpO1xuICAgICAgICAgICAgdGhpcy5lYXJseU1lZGlhU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcnMuc2V0KHNlc3Npb24uaWQsIHNkaF8yKTtcbiAgICAgICAgICAgIHNkaF8yXG4gICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNkaF8yLmdldERlc2NyaXB0aW9uKF90aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCBfdGhpcy5tb2RpZmllcnMpOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50RGlzcG9zaXRpb246IFwic2Vzc2lvblwiLCBjb250ZW50VHlwZTogZGVzY3JpcHRpb24uY29udGVudFR5cGUsIGNvbnRlbnQ6IGRlc2NyaXB0aW9uLmJvZHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19FQVJMWV9NRURJQTtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgc2Vzc2lvbiBoYXMgY29tcGxldGVkIGFuIGluaXRpYWwgb2ZmZXIvYW5zd2VyIGV4Y2hhbmdlLCBzby4uLlxuICAgICAgICAvLyAtIElOVklURSB3aXRoIFNEUCBhbmQgdGhpcyBwcm92aXNpb25hbCByZXNwb25zZSBNQVkgYmUgcmVsaWFibGVcbiAgICAgICAgLy8gLSBJTlZJVEUgd2l0aG91dCBTRFAgYW5kIHRoaXMgcHJvdmlzaW9uYWwgcmVzcG9uc2UgTUFZIGJlIHJlbGlhYmxlXG4gICAgICAgIGlmIChzZXNzaW9uLnNpZ25hbGluZ1N0YXRlID09PSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VSZWxpYWJsZSkge1xuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3RlOiBBcyBkb2N1bWVudGVkLCBubyBlYXJseSBtZWRpYSBpZiBvZmZlciB3YXMgaW4gSU5WSVRFLCBzbyBub3RoaW5nIHRvIGJlIGRvbmUuXG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogQWRkIGEgZmxhZy9oYWNrIHRvIGFsbG93IGVhcmx5IG1lZGlhIGluIHRoaXMgY2FzZS4gVGhlcmUgYXJlIHBlb3BsZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgIGluIG5vbi1mb3JraW5nIGVudmlyb25tZW50cyAodGhpbmsgc3RyYWlnaHQgdG8gRnJlZVNXSVRDSCkgd2hvIHdhbnRcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICBlYXJseSBtZWRpYSBvbiBhIDE4My4gTm90IHN1cmUgaG93IHRvIGFjdHVhbGx5IG1ha2UgaXQgd29yaywgYmFzaWNhbGx5XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgc29tZXRoaW5nIGxpa2UuLi5cbiAgICAgICAgICAgIGlmICgwIC8qIGZsYWcgKi8gJiYgdGhpcy5oYXNPZmZlciAmJiAhdGhpcy5oYXNBbnN3ZXIgJiYgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19FQVJMWV9NRURJQTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5mYWlsZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5XRUJSVENfRVJST1IpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdChcInByb2dyZXNzXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGZpbmFsIHJlc3BvbnNlIHRvIGluaXRpYWwgSU5WSVRFLlxuICAgICAqIEBwYXJhbSBpbnZpdGVSZXNwb25zZSAzeHggcmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25SZWRpcmVjdCA9IGZ1bmN0aW9uIChpbnZpdGVSZXNwb25zZSkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VFYXJseU1lZGlhKCk7XG4gICAgICAgIHZhciByZXNwb25zZSA9IGludml0ZVJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgdmFyIGNhdXNlID0gVXRpbHNfMS5VdGlscy5zaXBFcnJvckNhdXNlKHN0YXR1c0NvZGUgfHwgMCk7XG4gICAgICAgIHRoaXMucmVqZWN0ZWQocmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgdGhpcy5mYWlsZWQocmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZmluYWwgcmVzcG9uc2UgdG8gaW5pdGlhbCBJTlZJVEUuXG4gICAgICogQHBhcmFtIGludml0ZVJlc3BvbnNlIDR4eCwgNXh4LCBvciA2eHggcmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25SZWplY3QgPSBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlRWFybHlNZWRpYSgpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBpbnZpdGVSZXNwb25zZS5tZXNzYWdlO1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1c0NvZGU7XG4gICAgICAgIHZhciBjYXVzZSA9IFV0aWxzXzEuVXRpbHMuc2lwRXJyb3JDYXVzZShzdGF0dXNDb2RlIHx8IDApO1xuICAgICAgICB0aGlzLnJlamVjdGVkKHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgIHRoaXMudGVybWluYXRlZChyZXNwb25zZSwgY2F1c2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGZpbmFsIHJlc3BvbnNlIHRvIGluaXRpYWwgSU5WSVRFLlxuICAgICAqIEBwYXJhbSBpbnZpdGVSZXNwb25zZSAxMDAgcmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25UcnlpbmcgPSBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlZDEwMCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdChcInByb2dyZXNzXCIsIGludml0ZVJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIEludml0ZUNsaWVudENvbnRleHQ7XG59KFNlc3Npb24pKTtcbmV4cG9ydHMuSW52aXRlQ2xpZW50Q29udGV4dCA9IEludml0ZUNsaWVudENvbnRleHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBEVE1GVmFsaWRhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERUTUZWYWxpZGF0b3IoKSB7XG4gICAgfVxuICAgIERUTUZWYWxpZGF0b3IudmFsaWRhdGUgPSBmdW5jdGlvbiAodG9uZSwgbW9yZVRoYW5PbmVUb25lKSB7XG4gICAgICAgIGlmIChtb3JlVGhhbk9uZVRvbmUgPT09IHZvaWQgMCkgeyBtb3JlVGhhbk9uZVRvbmUgPSB0cnVlOyB9XG4gICAgICAgIC8vIENoZWNrIHRvbmUgdHlwZVxuICAgICAgICBpZiAodHlwZW9mIHRvbmUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRvbmUgPSB0b25lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRvbmUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRvbmUgPSB0b25lLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBEVE1GVmFsaWRhdG9yLmdlbmVyYXRlSW52YWxpZFRvbmVFcnJvcih0b25lKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVnZXggPSBtb3JlVGhhbk9uZVRvbmUgPyAvXlswLTlBLUQjKixdKyQvaSA6IC9eWzAtOUEtRCMqXSQvaTtcbiAgICAgICAgLy8gQ2hlY2sgdG9uZSB2YWx1ZVxuICAgICAgICBpZiAoIXRvbmUubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgICBEVE1GVmFsaWRhdG9yLmdlbmVyYXRlSW52YWxpZFRvbmVFcnJvcih0b25lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9uZTtcbiAgICB9O1xuICAgIERUTUZWYWxpZGF0b3IuZ2VuZXJhdGVJbnZhbGlkVG9uZUVycm9yID0gZnVuY3Rpb24gKHRvbmUpIHtcbiAgICAgICAgdmFyIHRvbmVGb3JNc2cgPSAoISF0b25lICYmIHR5cGVvZiB0b25lICE9PSBcImJvb2xlYW5cIiA/IHRvbmUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpIDogdG9uZSk7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRvbmUocyk6IFwiICsgdG9uZUZvck1zZyk7XG4gICAgfTtcbiAgICByZXR1cm4gRFRNRlZhbGlkYXRvcjtcbn0oKSk7XG5leHBvcnRzLkRUTUZWYWxpZGF0b3IgPSBEVE1GVmFsaWRhdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG52YXIgQ29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9Db25zdGFudHNcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4vY29yZVwiKTtcbnZhciBhbGxvd2VkX21ldGhvZHNfMSA9IHJlcXVpcmUoXCIuL2NvcmUvdXNlci1hZ2VudC1jb3JlL2FsbG93ZWQtbWV0aG9kc1wiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4vRW51bXNcIik7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuLyoqXG4gKiBXaGlsZSB0aGlzIGNsYXNzIGlzIG5hbWVkIGBTdWJzY3JpcHRpb25gLCBpdCBpcyBjbG9zZXIgdG9cbiAqIGFuIGltcGxlbWVudGF0aW9uIG9mIGEgXCJzdWJzY3JpYmVyXCIgYXMgZGVmaW5lZCBpbiBSRkMgNjY2NVxuICogXCJTSVAtU3BlY2lmaWMgRXZlbnQgTm90aWZpY2F0aW9uc1wiLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjVcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBTdWJzY3JpYmVyLlxuICovXG52YXIgU3Vic2NyaXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmlwdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gdWEgVXNlciBhZ2VudC5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFN1YnNjcmlwdGlvbiB0YXJnZXQuXG4gICAgICogQHBhcmFtIGV2ZW50IFN1YnNjcmlwdGlvbiBldmVudC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odWEsIHRhcmdldCwgZXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5tZXRob2QgPSBDb25zdGFudHNfMS5DLlNVQlNDUklCRTtcbiAgICAgICAgX3RoaXMuYm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gQ2xpZW50Q29udGV4dCBpbnRlcmZhY2VcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuU3Vic2NyaXB0aW9uO1xuICAgICAgICBfdGhpcy51YSA9IHVhO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoXCJzaXAuc3Vic2NyaXB0aW9uXCIpO1xuICAgICAgICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgICAgICAgICBfdGhpcy5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IG9wdGlvbnMuYm9keSxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogb3B0aW9ucy5jb250ZW50VHlwZSA/IG9wdGlvbnMuY29udGVudFR5cGUgOiBcImFwcGxpY2F0aW9uL3NkcFwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFRhcmdldCBVUklcbiAgICAgICAgdmFyIHVyaSA9IHVhLm5vcm1hbGl6ZVRhcmdldCh0YXJnZXQpO1xuICAgICAgICBpZiAoIXVyaSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFyZ2V0OiBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMudXJpID0gdXJpO1xuICAgICAgICAvLyBTdWJzY3JpcHRpb24gZXZlbnRcbiAgICAgICAgX3RoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgLy8gU3Vic2NyaXB0aW9uIGV4cGlyZXNcbiAgICAgICAgaWYgKG9wdGlvbnMuZXhwaXJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5leHBpcmVzID0gMzYwMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5leHBpcmVzICE9PSBcIm51bWJlclwiKSB7IC8vIHByZS10eXBlc2NyaXB0IHR5cGUgZ3VhcmRcbiAgICAgICAgICAgIHVhLmxvZ2dlci53YXJuKFwiT3B0aW9uIFxcXCJleHBpcmVzXFxcIiBtdXN0IGJlIGEgbnVtYmVyLiBVc2luZyBkZWZhdWx0IG9mIDM2MDAuXCIpO1xuICAgICAgICAgICAgX3RoaXMuZXhwaXJlcyA9IDM2MDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5leHBpcmVzID0gb3B0aW9ucy5leHBpcmVzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1YnNjcmlwdGlvbiBleHRyYSBoZWFkZXJzXG4gICAgICAgIF90aGlzLmV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgLy8gU3Vic2NyaXB0aW9uIGNvbnRleHQuXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5pbml0Q29udGV4dCgpO1xuICAgICAgICBfdGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICAvLyBDbGllbnRDb250ZXh0IGludGVyZmFjZVxuICAgICAgICBfdGhpcy5yZXF1ZXN0ID0gX3RoaXMuY29udGV4dC5tZXNzYWdlO1xuICAgICAgICBpZiAoIV90aGlzLnJlcXVlc3QuZnJvbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX3RoaXMucmVxdWVzdC50bykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmxvY2FsSWRlbnRpdHkgPSBfdGhpcy5yZXF1ZXN0LmZyb207XG4gICAgICAgIF90aGlzLnJlbW90ZUlkZW50aXR5ID0gX3RoaXMucmVxdWVzdC50bztcbiAgICAgICAgLy8gQWRkIHRvIFVBJ3MgY29sbGVjdGlvblxuICAgICAgICBfdGhpcy5pZCA9IF90aGlzLnJlcXVlc3QuY2FsbElkICsgX3RoaXMucmVxdWVzdC5mcm9tLnBhcmFtZXRlcnMudGFnICsgX3RoaXMuZXZlbnQ7XG4gICAgICAgIF90aGlzLnVhLnN1YnNjcmlwdGlvbnNbX3RoaXMuaWRdID0gX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmV0cnlBZnRlclRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXRyeUFmdGVyVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZXRyeUFmdGVyVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIFVBJ3MgY29sbGVjdGlvblxuICAgICAgICBkZWxldGUgdGhpcy51YS5zdWJzY3JpcHRpb25zW3RoaXMuaWRdO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIG5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5lbWl0LmFwcGx5KHRoaXMsIHRzbGliXzEuX19zcHJlYWRBcnJheXMoW2V2ZW50XSwgYXJncykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR3JhY2VmdWxseSB0ZXJtaW5hdGUuXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbnRleHQuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlOlxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSByZS1TVUJTQ1JJQkUgcmVxdWVzdCBpZiB0aGVyZSBpcyBhbiBcImFjdGl2ZVwiIHN1YnNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jb250ZXh0LnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuTm90aWZ5V2FpdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5BY3RpdmU6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5zdWJzY3JpcHRpb24ucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BY2NlcHQ6IChmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uQWNjZXB0ZWQocmVzcG9uc2UpOyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IChmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uRmFpbGVkKHJlc3BvbnNlKTsgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlamVjdDogKGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMub25GYWlsZWQocmVzcG9uc2UpOyB9KSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBpbml0aWFsIFNVQlNDUklCRSByZXF1ZXN0IGlmIG5vIHN1YnNjcmlwdGlvbi5cbiAgICAgKiBTZW5kIGEgcmUtU1VCU0NSSUJFIHJlcXVlc3QgaWYgdGhlcmUgaXMgYW4gXCJhY3RpdmVcIiBzdWJzY3JpcHRpb24uXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jb250ZXh0LnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3Muc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9uID0gcmVzdWx0LnN1Y2Nlc3Muc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbi5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ob3RpZnk6IGZ1bmN0aW9uIChyZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5vbk5vdGlmeShyZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWZyZXNoOiBmdW5jdGlvbiAocmVxdWVzdCkgeyByZXR1cm4gX3RoaXMub25SZWZyZXNoKHJlcXVlc3QpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRlcm1pbmF0ZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmNsb3NlKCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25Ob3RpZnkocmVzdWx0LnN1Y2Nlc3MucmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LmZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRmFpbGVkKHJlc3VsdC5mYWlsdXJlLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuTm90aWZ5V2FpdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5BY3RpdmU6XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSByZS1TVUJTQ1JJQkUgcmVxdWVzdCBpZiB0aGVyZSBpcyBhIFwicGVuZGluZ1wiIG9yIFwiYWN0aXZlXCIgc3Vic2NyaXB0aW9uLlxuICAgICAqL1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY29udGV4dC5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5QZW5kaW5nOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgaW50ZW50aW9uYWxseSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgaW50ZW50aW9uYWxseSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUub25BY2NlcHRlZCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA/IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA6IDA7XG4gICAgICAgIHZhciBjYXVzZSA9IFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHN0YXR1c0NvZGUpO1xuICAgICAgICB0aGlzLmVtaXQoXCJhY2NlcHRlZFwiLCByZXNwb25zZS5tZXNzYWdlLCBjYXVzZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLm9uRmFpbGVkID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA/IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA6IDA7XG4gICAgICAgICAgICB2YXIgY2F1c2UgPSBVdGlsc18xLlV0aWxzLmdldFJlYXNvblBocmFzZShzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZS5tZXNzYWdlLCBjYXVzZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWplY3RlZFwiLCByZXNwb25zZS5tZXNzYWdlLCBjYXVzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUub25Ob3RpZnkgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0LmFjY2VwdCgpOyAvLyBTZW5kIDIwMCByZXNwb25zZS5cbiAgICAgICAgdGhpcy5lbWl0KFwibm90aWZ5XCIsIHsgcmVxdWVzdDogcmVxdWVzdC5tZXNzYWdlIH0pO1xuICAgICAgICAvLyBJZiB3ZSd2ZSBzZXQgc3RhdGUgdG8gZG9uZSwgbm8gZnVydGhlciBwcm9jZXNzaW5nIHNob3VsZCB0YWtlIHBsYWNlXG4gICAgICAgIC8vIGFuZCB3ZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGNsZWFuaW5nIHVwIGFmdGVyIHRoZSBhcHByb3ByaWF0ZSBOT1RJRlkuXG4gICAgICAgIGlmICh0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gIElmIHRoZSBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIHZhbHVlIGlzIFwidGVybWluYXRlZFwiLCB0aGUgc3Vic2NyaWJlclxuICAgICAgICAvLyAgTVVTVCBjb25zaWRlciB0aGUgc3Vic2NyaXB0aW9uIHRlcm1pbmF0ZWQuICBUaGUgXCJleHBpcmVzXCIgcGFyYW1ldGVyXG4gICAgICAgIC8vICBoYXMgbm8gc2VtYW50aWNzIGZvciBcInRlcm1pbmF0ZWRcIiAtLSBub3RpZmllcnMgU0hPVUxEIE5PVCBpbmNsdWRlIGFuXG4gICAgICAgIC8vICBcImV4cGlyZXNcIiBwYXJhbWV0ZXIgb24gYSBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIGhlYWRlciBmaWVsZCB3aXRoIGFcbiAgICAgICAgLy8gIHZhbHVlIG9mIFwidGVybWluYXRlZFwiLCBhbmQgc3Vic2NyaWJlcnMgTVVTVCBpZ25vcmUgYW55IHN1Y2hcbiAgICAgICAgLy8gIHBhcmFtZXRlciwgaWYgcHJlc2VudC4gIElmIGEgcmVhc29uIGNvZGUgaXMgcHJlc2VudCwgdGhlIGNsaWVudFxuICAgICAgICAvLyAgc2hvdWxkIGJlaGF2ZSBhcyBkZXNjcmliZWQgYmVsb3cuICBJZiBubyByZWFzb24gY29kZSBvciBhbiB1bmtub3duXG4gICAgICAgIC8vICByZWFzb24gY29kZSBpcyBwcmVzZW50LCB0aGUgY2xpZW50IE1BWSBhdHRlbXB0IHRvIHJlLXN1YnNjcmliZSBhdCBhbnlcbiAgICAgICAgLy8gIHRpbWUgKHVubGVzcyBhIFwicmV0cnktYWZ0ZXJcIiBwYXJhbWV0ZXIgaXMgcHJlc2VudCwgaW4gd2hpY2ggY2FzZSB0aGVcbiAgICAgICAgLy8gIGNsaWVudCBTSE9VTEQgTk9UIGF0dGVtcHQgcmUtc3Vic2NyaXB0aW9uIHVudGlsIGFmdGVyIHRoZSBudW1iZXIgb2ZcbiAgICAgICAgLy8gIHNlY29uZHMgc3BlY2lmaWVkIGJ5IHRoZSBcInJldHJ5LWFmdGVyXCIgcGFyYW1ldGVyKS4gIFRoZSByZWFzb24gY29kZXNcbiAgICAgICAgLy8gIGRlZmluZWQgYnkgdGhpcyBkb2N1bWVudCBhcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjNcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvblN0YXRlID0gcmVxdWVzdC5tZXNzYWdlLnBhcnNlSGVhZGVyKFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIpO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uU3RhdGUgJiYgc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGVybWluYXRlZFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uU3RhdGUucmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJUZXJtaW5hdGVkIHN1YnNjcmlwdGlvbiB3aXRoIHJlYXNvbiBcIiArIHN1YnNjcmlwdGlvblN0YXRlLnJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN1YnNjcmlwdGlvblN0YXRlLnJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWFjdGl2YXRlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lb3V0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcm9iYXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2l2ZXVwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvblN0YXRlLnBhcmFtcyAmJiBzdWJzY3JpcHRpb25TdGF0ZS5wYXJhbXNbXCJyZXRyeS1hZnRlclwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRyeUFmdGVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnN1YnNjcmliZSgpOyB9LCBzdWJzY3JpcHRpb25TdGF0ZS5wYXJhbXNbXCJyZXRyeS1hZnRlclwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9yZXNvdXJjZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnZhcmlhbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5vblJlZnJlc2ggPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0LmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMub25BY2NlcHRlZChyZXNwb25zZSk7IH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUub25UZXJtaW5hdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJ0ZXJtaW5hdGVkXCIpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5pbml0Q29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnM6IHRoaXMuZXh0cmFIZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdGhpcy5ib2R5ID8gVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaih0aGlzLmJvZHkpIDogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBTdWJzY3JpYmVDbGllbnRDb250ZXh0KHRoaXMudWEudXNlckFnZW50Q29yZSwgdGhpcy51cmksIHRoaXMuZXZlbnQsIHRoaXMuZXhwaXJlcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY29udGV4dC5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgIG9uQWNjZXB0OiAoZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5vbkFjY2VwdGVkKHJlc3BvbnNlKTsgfSlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5TdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb247XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWNsYXNzZXMtcGVyLWZpbGVcbnZhciBTdWJzY3JpYmVDbGllbnRDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZUNsaWVudENvbnRleHQoY29yZSwgdGFyZ2V0LCBldmVudCwgZXhwaXJlcywgb3B0aW9ucywgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5leHBpcmVzID0gZXhwaXJlcztcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gY29yZS5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC5zdWJzY3JpcHRpb25cIik7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdmFyIGFsbG93SGVhZGVyID0gXCJBbGxvdzogXCIgKyBhbGxvd2VkX21ldGhvZHNfMS5BbGxvd2VkTWV0aG9kcy50b1N0cmluZygpO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKGFsbG93SGVhZGVyKTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJFdmVudDogXCIgKyB0aGlzLmV2ZW50KTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJFeHBpcmVzOiBcIiArIHRoaXMuZXhwaXJlcyk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQ29udGFjdDogXCIgKyB0aGlzLmNvcmUuY29uZmlndXJhdGlvbi5jb250YWN0LnRvU3RyaW5nKCkpO1xuICAgICAgICB2YXIgYm9keSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ib2R5O1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBjb3JlLm1ha2VPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKENvbnN0YW50c18xLkMuU1VCU0NSSUJFLCB0aGlzLnRhcmdldCwgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uYW9yLCB0aGlzLnRhcmdldCwge30sIGV4dHJhSGVhZGVycywgYm9keSk7XG4gICAgfVxuICAgIC8qKiBEZXN0cnVjdG9yLiAqL1xuICAgIFN1YnNjcmliZUNsaWVudENvbnRleHQucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC53YWl0Tm90aWZ5U3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmliZUNsaWVudENvbnRleHQucHJvdG90eXBlLCBcInN0YXRlXCIsIHtcbiAgICAgICAgLyoqIFN1YnNjcmlwdGlvbiBzdGF0ZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLkluaXRpYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEVzdGFibGlzaCBzdWJzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgU3Vic2NyaWJlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm90IGluIGluaXRpYWwgc3RhdGUuIERpZCB5b3UgY2FsbCBzdWJzY3JpYmUgbW9yZSB0aGFuIG9uY2U/XCIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVxdWVzdCA9IF90aGlzLmNvcmUuc3Vic2NyaWJlKF90aGlzLm1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIFNVQlNDUklCRSByZXF1ZXN0IHdpbGwgYmUgY29uZmlybWVkIHdpdGggYSBmaW5hbCByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAvLyAyMDAtY2xhc3MgcmVzcG9uc2VzIGluZGljYXRlIHRoYXQgdGhlIHN1YnNjcmlwdGlvbiBoYXMgYmVlbiBhY2NlcHRlZFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGF0IGEgTk9USUZZIHJlcXVlc3Qgd2lsbCBiZSBzZW50IGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMVxuICAgICAgICAgICAgICAgIG9uQWNjZXB0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmRlbGVnYXRlICYmIF90aGlzLmRlbGVnYXRlLm9uQWNjZXB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIER1ZSB0byB0aGUgcG90ZW50aWFsIGZvciBvdXQtb2Ytb3JkZXIgbWVzc2FnZXMsIHBhY2tldCBsb3NzLCBhbmRcbiAgICAgICAgICAgICAgICAvLyBmb3JraW5nLCB0aGUgc3Vic2NyaWJlciBNVVNUIGJlIHByZXBhcmVkIHRvIHJlY2VpdmUgTk9USUZZIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBTVUJTQ1JJQkUgdHJhbnNhY3Rpb24gaGFzIGNvbXBsZXRlZC5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4yLjRcbiAgICAgICAgICAgICAgICBvbk5vdGlmeTogZnVuY3Rpb24gKHJlcXVlc3RXaXRoU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbiA9IHJlcXVlc3RXaXRoU3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9uLmF1dG9SZWZyZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogcmVxdWVzdFdpdGhTdWJzY3JpcHRpb24gfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIFRpbWVyIE4gZXhwaXJlcyBwcmlvciB0byB0aGUgcmVjZWlwdCBvZiBhIE5PVElGWSByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIC8vIHRoZSBzdWJzY3JpYmVyIGNvbnNpZGVycyB0aGUgc3Vic2NyaXB0aW9uIGZhaWxlZCwgYW5kIGNsZWFucyB1cFxuICAgICAgICAgICAgICAgIC8vIGFueSBzdGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHN1YnNjcmlwdGlvbiBhdHRlbXB0LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuNFxuICAgICAgICAgICAgICAgIG9uTm90aWZ5VGltZW91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgZmFpbHVyZToge30gfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBUaGlzIFNVQlNDUklCRSByZXF1ZXN0IHdpbGwgYmUgY29uZmlybWVkIHdpdGggYSBmaW5hbCByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAvLyBOb24tMjAwLWNsYXNzIGZpbmFsIHJlc3BvbnNlcyBpbmRpY2F0ZSB0aGF0IG5vIHN1YnNjcmlwdGlvbiBvciBuZXdcbiAgICAgICAgICAgICAgICAvLyBkaWFsb2cgdXNhZ2UgaGFzIGJlZW4gY3JlYXRlZCwgYW5kIG5vIHN1YnNlcXVlbnQgTk9USUZZIHJlcXVlc3Qgd2lsbFxuICAgICAgICAgICAgICAgIC8vIGJlIHNlbnQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4xXG4gICAgICAgICAgICAgICAgb25SZWRpcmVjdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBmYWlsdXJlOiB7IHJlc3BvbnNlOiByZXNwb25zZSB9IH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBTVUJTQ1JJQkUgcmVxdWVzdCB3aWxsIGJlIGNvbmZpcm1lZCB3aXRoIGEgZmluYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgLy8gTm9uLTIwMC1jbGFzcyBmaW5hbCByZXNwb25zZXMgaW5kaWNhdGUgdGhhdCBubyBzdWJzY3JpcHRpb24gb3IgbmV3XG4gICAgICAgICAgICAgICAgLy8gZGlhbG9nIHVzYWdlIGhhcyBiZWVuIGNyZWF0ZWQsIGFuZCBubyBzdWJzZXF1ZW50IE5PVElGWSByZXF1ZXN0IHdpbGxcbiAgICAgICAgICAgICAgICAvLyBiZSBzZW50LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMVxuICAgICAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGZhaWx1cmU6IHsgcmVzcG9uc2U6IHJlc3BvbnNlIH0gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZUNsaWVudENvbnRleHQ7XG59KCkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG4vKipcbiAqIExlZ2FjeSBUcmFuc3BvcnQuXG4gKiBAcmVtYXJrc1xuICogQWJzdHJhY3QgdHJhbnNwb3J0IGxheWVyIGJhc2UgY2xhc3MuXG4gKiBAcHVibGljXG4gKi9cbnZhciBUcmFuc3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVHJhbnNwb3J0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIGxvZ2dlciAtIExvZ2dlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBEZXByZWNhdGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zcG9ydChsb2dnZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc3BvcnQucHJvdG90eXBlLCBcInByb3RvY29sXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm90b2NvbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogRm9ybWF0dGVkIGFzIGRlZmluZWQgZm9yIHRoZSBWaWEgaGVhZGVyIHNlbnQtcHJvdG9jb2wgdHJhbnNwb3J0LlxuICAgICAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTIwLjQyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlcnZlciAmJiB0aGlzLnNlcnZlci5zY2hlbWUgPyB0aGlzLnNlcnZlci5zY2hlbWUgOiBcIldTU1wiO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9taXNlIGRlc2lnbmF0ZWQgYnkgdGhlIGNoaWxkIGxheWVyIHRoZW4gZW1pdHMgYSBjb25uZWN0ZWQgZXZlbnQuXG4gICAgICogQXV0b21hdGljYWxseSBlbWl0cyBhbiBldmVudCB1cG9uIHJlc29sdXRpb24sIHVubGVzcyBvdmVycmlkZUV2ZW50IGlzIHNldC4gSWYgeW91XG4gICAgICogb3ZlcnJpZGUgdGhlIGV2ZW50IGluIHRoaXMgZmFzaGlvbiwgeW91IHNob3VsZCBlbWl0IGl0IGluIHlvdXIgaW1wbGVtZW50YXRpb24gb2YgY29ubmVjdFByb21pc2VcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RQcm9taXNlKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmICghZGF0YS5vdmVycmlkZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImNvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UgdGhlbiBlbWl0cyBhICdtZXNzYWdlU2VudCcgZXZlbnQuIEF1dG9tYXRpY2FsbHkgZW1pdHMgYW5cbiAgICAgKiBldmVudCB1cG9uIHJlc29sdXRpb24sIHVubGVzcyBkYXRhLm92ZXJyaWRlRXZlbnQgaXMgc2V0LiBJZiB5b3Ugb3ZlcnJpZGVcbiAgICAgKiB0aGUgZXZlbnQgaW4gdGhpcyBmYXNoaW9uLCB5b3Ugc2hvdWxkIGVtaXQgaXQgaW4geW91ciBpbXBsZW1lbnRhdGlvbiBvZiBzZW5kUHJvbWlzZVxuICAgICAqIFJlamVjdHMgd2l0aCBhbiBFcnJvciBpZiBtZXNzYWdlIGZhaWxzIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBNZXNzYWdlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgaXMgaW5kZXBlbmRlbnQgb2Ygd2hldGhlciB0aGUgbWVzc2FnZSB3YXMgYSByZXF1ZXN0IG9yXG4gICAgICAgIC8vIHJlc3BvbnNlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgdHJhbnNwb3J0IHVzZXIgYXNrcyBmb3IgYSBtZXNzYWdlIHRvIGJlIHNlbnQgb3ZlciBhblxuICAgICAgICAvLyB1bnJlbGlhYmxlIHRyYW5zcG9ydCwgYW5kIHRoZSByZXN1bHQgaXMgYW4gSUNNUCBlcnJvciwgdGhlIGJlaGF2aW9yXG4gICAgICAgIC8vIGRlcGVuZHMgb24gdGhlIHR5cGUgb2YgSUNNUCBlcnJvci4gIEhvc3QsIG5ldHdvcmssIHBvcnQgb3IgcHJvdG9jb2xcbiAgICAgICAgLy8gdW5yZWFjaGFibGUgZXJyb3JzLCBvciBwYXJhbWV0ZXIgcHJvYmxlbSBlcnJvcnMgU0hPVUxEIGNhdXNlIHRoZVxuICAgICAgICAvLyB0cmFuc3BvcnQgbGF5ZXIgdG8gaW5mb3JtIHRoZSB0cmFuc3BvcnQgdXNlciBvZiBhIGZhaWx1cmUgaW4gc2VuZGluZy5cbiAgICAgICAgLy8gU291cmNlIHF1ZW5jaCBhbmQgVFRMIGV4Y2VlZGVkIElDTVAgZXJyb3JzIFNIT1VMRCBiZSBpZ25vcmVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgdHJhbnNwb3J0IHVzZXIgYXNrcyBmb3IgYSByZXF1ZXN0IHRvIGJlIHNlbnQgb3ZlciBhIHJlbGlhYmxlXG4gICAgICAgIC8vIHRyYW5zcG9ydCwgYW5kIHRoZSByZXN1bHQgaXMgYSBjb25uZWN0aW9uIGZhaWx1cmUsIHRoZSB0cmFuc3BvcnRcbiAgICAgICAgLy8gbGF5ZXIgU0hPVUxEIGluZm9ybSB0aGUgdHJhbnNwb3J0IHVzZXIgb2YgYSBmYWlsdXJlIGluIHNlbmRpbmcuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTguNFxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUHJvbWlzZShtZXNzYWdlKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0Lm92ZXJyaWRlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwibWVzc2FnZVNlbnRcIiwgcmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvbWlzZSBkZXNpZ25hdGVkIGJ5IHRoZSBjaGlsZCBsYXllciB0aGVuIGVtaXRzIGFcbiAgICAgKiBkaXNjb25uZWN0ZWQgZXZlbnQuIEF1dG9tYXRpY2FsbHkgZW1pdHMgYW4gZXZlbnQgdXBvbiByZXNvbHV0aW9uLFxuICAgICAqIHVubGVzcyBvdmVycmlkZUV2ZW50IGlzIHNldC4gSWYgeW91IG92ZXJyaWRlIHRoZSBldmVudCBpbiB0aGlzIGZhc2hpb24sXG4gICAgICogeW91IHNob3VsZCBlbWl0IGl0IGluIHlvdXIgaW1wbGVtZW50YXRpb24gb2YgZGlzY29ubmVjdFByb21pc2VcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0XG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzY29ubmVjdFByb21pc2Uob3B0aW9ucykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFkYXRhLm92ZXJyaWRlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwiZGlzY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuYWZ0ZXJDb25uZWN0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub25jZShcImNvbm5lY3RlZFwiLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIG9uY2UgdGhlIFVBIGlzIGNvbm5lY3RlZC4gREVQUkVDQVRJT04gV0FSTklORzoganVzdCB1c2UgYWZ0ZXJDb25uZWN0ZWQoKVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUud2FpdEZvckNvbm5lY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKFwiREVQUkVDQVRJT04gV0FSTklORyBUcmFuc3BvcnQud2FpdEZvckNvbm5lY3RlZCgpOiB1c2UgYWZ0ZXJDb25uZWN0ZWQoKSBpbnN0ZWFkXCIpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIF90aGlzLmFmdGVyQ29ubmVjdGVkKHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc3BvcnQ7XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5UcmFuc3BvcnQgPSBUcmFuc3BvcnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG52YXIgUHVibGlzaENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1B1Ymxpc2hDb250ZXh0XCIpO1xudmFyIFJlZmVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUmVmZXJDb250ZXh0XCIpO1xudmFyIFJlZ2lzdGVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUmVnaXN0ZXJDb250ZXh0XCIpO1xudmFyIFNlcnZlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1NlcnZlckNvbnRleHRcIik7XG52YXIgU2Vzc2lvbl8xID0gcmVxdWlyZShcIi4vU2Vzc2lvblwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG52YXIgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcl8xID0gcmVxdWlyZShcIi4vV2ViL1Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcIik7XG52YXIgVHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi9XZWIvVHJhbnNwb3J0XCIpO1xuLyoqXG4gKiBAY2xhc3MgQ2xhc3MgY3JlYXRpbmcgYSBTSVAgVXNlciBBZ2VudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24gcmV0dXJuaW5nIFNJUC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyfSBbY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeV1cbiAqICBBIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCBieSBlYWNoIG9mIHRoZSBVQSdzIFNlc3Npb25zIHRvIGJ1aWxkIHRoZSBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyIGZvciB0aGF0IFNlc3Npb24uXG4gKiAgSWYgbm8gKG9yIGEgZmFsc3kpIHZhbHVlIGlzIHByb3ZpZGVkLCBlYWNoIFNlc3Npb24gd2lsbCB1c2UgYSBkZWZhdWx0IChXZWJSVEMpIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuXG4gKi9cbnZhciBVQSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhVQSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBVQShjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBVbmxvYWQgbGlzdGVuZXIuICovXG4gICAgICAgIF90aGlzLnVubG9hZExpc3RlbmVyID0gKGZ1bmN0aW9uICgpIHsgX3RoaXMuc3RvcCgpOyB9KTtcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuVUE7XG4gICAgICAgIF90aGlzLmxvZyA9IG5ldyBjb3JlXzEuTG9nZ2VyRmFjdG9yeSgpO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBfdGhpcy5nZXRMb2dnZXIoXCJzaXAudWFcIik7XG4gICAgICAgIF90aGlzLmNvbmZpZ3VyYXRpb24gPSB7fTtcbiAgICAgICAgLy8gVXNlciBhY3Rpb25zIG91dHNpZGUgYW55IHNlc3Npb24vZGlhbG9nIChNRVNTQUdFKVxuICAgICAgICBfdGhpcy5hcHBsaWNhbnRzID0ge307XG4gICAgICAgIF90aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgX3RoaXMuc2Vzc2lvbnMgPSB7fTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9ucyA9IHt9O1xuICAgICAgICBfdGhpcy5wdWJsaXNoZXJzID0ge307XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX0lOSVQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQHRocm93cyB7U0lQLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yfVxuICAgICAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZ3VyYXRpb24gPT09IFwic3RyaW5nXCIgfHwgY29uZmlndXJhdGlvbiBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgICAgY29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB1cmk6IGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXBwbHkgbG9nIGNvbmZpZ3VyYXRpb24gaWYgcHJlc2VudFxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5sb2cpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZy5idWlsdGluRW5hYmxlZCA9IGNvbmZpZ3VyYXRpb24ubG9nLmJ1aWx0aW5FbmFibGVkO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24ubG9nLmhhc093blByb3BlcnR5KFwiY29ubmVjdG9yXCIpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nLmNvbm5lY3RvciA9IGNvbmZpZ3VyYXRpb24ubG9nLmNvbm5lY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmxvZy5oYXNPd25Qcm9wZXJ0eShcImxldmVsXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gY29uZmlndXJhdGlvbi5sb2cubGV2ZWw7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3YXJuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZCA9IGNvcmVfMS5MZXZlbHMud2FybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsb2dcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5sb2c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVidWdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5kZWJ1ZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy53YXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBjb3JlXzEuTGV2ZWxzLmxvZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5kZWJ1ZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgc2V0dGluZyBsZXZlbCB3aGVuIGludmFsaWQsIHVzZSBkZWZhdWx0IGxldmVsIGluc3RlYWRcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIkludmFsaWQgXFxcImxldmVsXFxcIiBwYXJhbWV0ZXIgdmFsdWU6IFwiICsgSlNPTi5zdHJpbmdpZnkobGV2ZWwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZy5sZXZlbCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkZXByZWNhdGVkTWVzc2FnZSA9IFwiVGhlIFVBIGNsYXNzIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgbm8gbG9uZ2VyIGJlIGF2YWlsYWJsZSBzdGFydGluZyB3aXRoIFNJUC5qcyByZWxlYXNlIDAuMTYuMC4gXCIgK1xuICAgICAgICAgICAgXCJUaGUgVUEgaGFzIGJlZW4gcmVwbGFjZWQgYnkgdGhlIFVzZXJBZ2VudCBjbGFzcy4gUGxlYXNlIHVwZGF0ZSBhY2NvcmRpbmdseS5cIjtcbiAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oZGVwcmVjYXRlZE1lc3NhZ2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgX3RoaXMubG9hZENvbmZpZyhjb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfTk9UX1JFQURZO1xuICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBVQS5DLkNPTkZJR1VSQVRJT05fRVJST1I7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX3RoaXMuY29uZmlndXJhdGlvbi50cmFuc3BvcnRDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmVfMS5UcmFuc3BvcnRFcnJvcihcIlRyYW5zcG9ydCBjb25zdHJ1Y3RvciBub3Qgc2V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnRyYW5zcG9ydCA9IG5ldyBfdGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcG9ydENvbnN0cnVjdG9yKF90aGlzLmdldExvZ2dlcihcInNpcC50cmFuc3BvcnRcIiksIF90aGlzLmNvbmZpZ3VyYXRpb24udHJhbnNwb3J0T3B0aW9ucyk7XG4gICAgICAgIHZhciB1c2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbiA9IG1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQShfdGhpcyk7XG4gICAgICAgIC8vIFRoZSBSZXBsYWNlcyBoZWFkZXIgY29udGFpbnMgaW5mb3JtYXRpb24gdXNlZCB0byBtYXRjaCBhbiBleGlzdGluZ1xuICAgICAgICAvLyBTSVAgZGlhbG9nIChjYWxsLWlkLCB0by10YWcsIGFuZCBmcm9tLXRhZykuICBVcG9uIHJlY2VpdmluZyBhbiBJTlZJVEVcbiAgICAgICAgLy8gd2l0aCBhIFJlcGxhY2VzIGhlYWRlciwgdGhlIFVzZXIgQWdlbnQgKFVBKSBhdHRlbXB0cyB0byBtYXRjaCB0aGlzXG4gICAgICAgIC8vIGluZm9ybWF0aW9uIHdpdGggYSBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9nLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzg5MSNzZWN0aW9uLTNcbiAgICAgICAgdmFyIGhhbmRsZUludml0ZVdpdGhSZXBsYWNlc0hlYWRlciA9IGZ1bmN0aW9uIChjb250ZXh0LCByZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlndXJhdGlvbi5yZXBsYWNlcyAhPT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZXMgPSByZXF1ZXN0LnBhcnNlSGVhZGVyKFwicmVwbGFjZXNcIik7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRTZXNzaW9uID0gX3RoaXMuc2Vzc2lvbnNbcmVwbGFjZXMuY2FsbF9pZCArIHJlcGxhY2VzLnJlcGxhY2VzX2Zyb21fdGFnXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbnNbcmVwbGFjZXMuY2FsbF9pZCArIHJlcGxhY2VzLnJlcGxhY2VzX3RvX3RhZ10gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyQWdlbnRDb3JlLnJlcGx5U3RhdGVsZXNzKHJlcXVlc3QsIHsgc3RhdHVzQ29kZTogNDgxIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTZXNzaW9uLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyQWdlbnRDb3JlLnJlcGx5U3RhdGVsZXNzKHJlcXVlc3QsIHsgc3RhdHVzQ29kZTogNjAzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXREaWFsb2dJZCA9IHJlcGxhY2VzLmNhbGxfaWQgKyByZXBsYWNlcy5yZXBsYWNlc190b190YWcgKyByZXBsYWNlcy5yZXBsYWNlc19mcm9tX3RhZztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldERpYWxvZyA9IF90aGlzLnVzZXJBZ2VudENvcmUuZGlhbG9ncy5nZXQodGFyZ2V0RGlhbG9nSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldERpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudXNlckFnZW50Q29yZS5yZXBseVN0YXRlbGVzcyhyZXF1ZXN0LCB7IHN0YXR1c0NvZGU6IDQ4MSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldERpYWxvZy5lYXJseSAmJiByZXBsYWNlcy5lYXJseV9vbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyQWdlbnRDb3JlLnJlcGx5U3RhdGVsZXNzKHJlcXVlc3QsIHsgc3RhdHVzQ29kZTogNDg2IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVwbGFjZWUgPSB0YXJnZXRTZXNzaW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVzZXJBZ2VudENvcmVEZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgIG9uSW52aXRlOiBmdW5jdGlvbiAoaW5jb21pbmdJbnZpdGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFBvcnRlZCAtIDEwMCBUcnlpbmcgc2VuZCBzaG91bGQgYmUgY29uZmlndXJhYmxlLlxuICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVxdWlyZWQgaWYgVFUgd2lsbCBub3QgcmVzcG9uZCBpbiAyMDBtcy5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMVxuICAgICAgICAgICAgICAgIGluY29taW5nSW52aXRlUmVxdWVzdC50cnlpbmcoKTtcbiAgICAgICAgICAgICAgICBpbmNvbWluZ0ludml0ZVJlcXVlc3QuZGVsZWdhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9uQ2FuY2VsKGNhbmNlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uVHJhbnNwb3J0RXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vblRyYW5zcG9ydEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IFNlc3Npb25fMS5JbnZpdGVTZXJ2ZXJDb250ZXh0KF90aGlzLCBpbmNvbWluZ0ludml0ZVJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIC8vIFBvcnRlZCAtIGhhbmRsaW5nIG9mIG91dCBvZiBkaWFsb2cgSU5WSVRFIHdpdGggUmVwbGFjZXMuXG4gICAgICAgICAgICAgICAgaGFuZGxlSW52aXRlV2l0aFJlcGxhY2VzSGVhZGVyKGNvbnRleHQsIGluY29taW5nSW52aXRlUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBQb3J0ZWQgLSBtYWtlIHRoZSBmaXJzdCBjYWxsIHRvIHByb2dyZXNzIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYXV0b1NlbmRBbkluaXRpYWxQcm92aXNpb25hbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucHJvZ3Jlc3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImludml0ZVwiLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1lc3NhZ2U6IGZ1bmN0aW9uIChpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gUG9ydGVkIC0gaGFuZGxpbmcgb2Ygb3V0IG9mIGRpYWxvZyBNRVNTQUdFLlxuICAgICAgICAgICAgICAgIHZhciBzZXJ2ZXJDb250ZXh0ID0gbmV3IFNlcnZlckNvbnRleHRfMS5TZXJ2ZXJDb250ZXh0KF90aGlzLCBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LmJvZHkgPSBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0Lm1lc3NhZ2UuYm9keTtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LmNvbnRlbnRUeXBlID0gaW5jb21pbmdNZXNzYWdlUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSB8fCBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgICAgICAgICBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJtZXNzYWdlXCIsIHNlcnZlckNvbnRleHQpOyAvLyBUT0RPOiBSZXZpZXcuIFdoeSBpcyBhIFwiU2VydmVyQ29udGV4dFwiIGVtaXR0ZWQ/IFdoYXQgdXNlIGl0IGlzP1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTm90aWZ5OiBmdW5jdGlvbiAoaW5jb21pbmdOb3RpZnlSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gREVQUkVDQVRFRDogT3V0IG9mIGRpYWxvZyBOT1RJRlkgaXMgYW4gb2Jzb2xldGUgdXNhZ2UuXG4gICAgICAgICAgICAgICAgLy8gUG9ydGVkIC0gaGFuZGxpbmcgb2Ygb3V0IG9mIGRpYWxvZyBOT1RJRlkuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZ3VyYXRpb24uYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zICYmIF90aGlzLmxpc3RlbmVycyhcIm5vdGlmeVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY29taW5nTm90aWZ5UmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcIm5vdGlmeVwiLCB7IHJlcXVlc3Q6IGluY29taW5nTm90aWZ5UmVxdWVzdC5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdOb3RpZnlSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4MSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWZlcjogZnVuY3Rpb24gKGluY29taW5nUmVmZXJSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gUG9ydGVkIC0gaGFuZGxpbmcgb2Ygb3V0IG9mIGRpYWxvZyBSRUZFUi5cbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiUmVjZWl2ZWQgYW4gb3V0IG9mIGRpYWxvZyByZWZlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNvbmZpZ3VyYXRpb24uYWxsb3dPdXRPZkRpYWxvZ1JlZmVycykge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbWluZ1JlZmVyUmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiA0MDUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJBbGxvdyBvdXQgb2YgZGlhbG9nIHJlZmVycyBpcyBlbmFibGVkIG9uIHRoZSBVQVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmZXJDb250ZXh0ID0gbmV3IFJlZmVyQ29udGV4dF8xLlJlZmVyU2VydmVyQ29udGV4dChfdGhpcywgaW5jb21pbmdSZWZlclJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5saXN0ZW5lcnMoXCJvdXRPZkRpYWxvZ1JlZmVyUmVxdWVzdGVkXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwib3V0T2ZEaWFsb2dSZWZlclJlcXVlc3RlZFwiLCByZWZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIk5vIG91dE9mRGlhbG9nUmVmZXJSZXF1ZXN0IGxpc3RlbmVycywgYXV0b21hdGljYWxseSBhY2NlcHRpbmcgYW5kIGZvbGxvd2luZyB0aGUgb3V0IG9mIGRpYWxvZyByZWZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJDb250ZXh0LmFjY2VwdCh7IGZvbGxvd1JlZmVyOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblN1YnNjcmliZTogZnVuY3Rpb24gKGluY29taW5nU3Vic2NyaWJlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJzdWJzY3JpYmVcIiwgaW5jb21pbmdTdWJzY3JpYmVSZXF1ZXN0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnVzZXJBZ2VudENvcmUgPSBuZXcgY29yZV8xLlVzZXJBZ2VudENvcmUodXNlckFnZW50Q29yZUNvbmZpZ3VyYXRpb24sIHVzZXJBZ2VudENvcmVEZWxlZ2F0ZSk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgcmVnaXN0ZXJDb250ZXh0XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyQ29udGV4dCA9IG5ldyBSZWdpc3RlckNvbnRleHRfMS5SZWdpc3RlckNvbnRleHQoX3RoaXMsIGNvbmZpZ3VyYXRpb24ucmVnaXN0ZXJPcHRpb25zKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJDb250ZXh0Lm9uKFwiZmFpbGVkXCIsIF90aGlzLmVtaXQuYmluZChfdGhpcywgXCJyZWdpc3RyYXRpb25GYWlsZWRcIikpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlckNvbnRleHQub24oXCJyZWdpc3RlcmVkXCIsIF90aGlzLmVtaXQuYmluZChfdGhpcywgXCJyZWdpc3RlcmVkXCIpKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJDb250ZXh0Lm9uKFwidW5yZWdpc3RlcmVkXCIsIF90aGlzLmVtaXQuYmluZChfdGhpcywgXCJ1bnJlZ2lzdGVyZWRcIikpO1xuICAgICAgICBpZiAoX3RoaXMuY29uZmlndXJhdGlvbi5hdXRvc3RhcnQpIHtcbiAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICAgIC8vICBIaWdoIExldmVsIEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gICAgVUEucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmVnaXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5yZWdpc3RlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbnRleHQucmVnaXN0ZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3Rlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbF0gdW5yZWdpc3RlciBhbGwgdXNlciBiaW5kaW5ncy5cbiAgICAgKlxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnJlZ2lzdGVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmFmdGVyQ29ubmVjdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJlZ2lzdGVyQ29udGV4dC51bnJlZ2lzdGVyKG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBVQS5wcm90b3R5cGUuaXNSZWdpc3RlcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlckNvbnRleHQucmVnaXN0ZXJlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gb3V0Z29pbmcgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmlld3NcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubWVkaWFdIGdldHMgcGFzc2VkIHRvIFNJUC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uIGFzIG1lZGlhSGludFxuICAgICAqXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICAqXG4gICAgICovXG4gICAgVUEucHJvdG90eXBlLmludml0ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMsIG1vZGlmaWVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBTZXNzaW9uXzEuSW52aXRlQ2xpZW50Q29udGV4dCh0aGlzLCB0YXJnZXQsIG9wdGlvbnMsIG1vZGlmaWVycyk7XG4gICAgICAgIC8vIERlbGF5IHNlbmRpbmcgYWN0dWFsIGludml0ZSB1bnRpbCB0aGUgbmV4dCAndGljaycgaWYgd2UgYXJlIGFscmVhZHlcbiAgICAgICAgLy8gY29ubmVjdGVkLCBzbyB0aGF0IEFQSSBjb25zdW1lcnMgY2FuIHJlZ2lzdGVyIHRvIGV2ZW50cyBmaXJlZCBieSB0aGVcbiAgICAgICAgLy8gdGhlIHNlc3Npb24uXG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmFmdGVyQ29ubmVjdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnRleHQuaW52aXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiaW52aXRlU2VudFwiLCBjb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG4gICAgVUEucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKHRoaXMsIHRhcmdldCwgZXZlbnQsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5hZnRlckNvbm5lY3RlZChmdW5jdGlvbiAoKSB7IHJldHVybiBzdWIuc3Vic2NyaWJlKCk7IH0pO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBQVUJMSVNIIEV2ZW50IFN0YXRlIFB1YmxpY2F0aW9uIChSRkMzOTAzKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRhcmdldFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBib2R5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqXG4gICAgICogQHRocm93cyB7U0lQLkV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3J9XG4gICAgICovXG4gICAgVUEucHJvdG90eXBlLnB1Ymxpc2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcHViID0gbmV3IFB1Ymxpc2hDb250ZXh0XzEuUHVibGlzaENvbnRleHQodGhpcywgdGFyZ2V0LCBldmVudCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmFmdGVyQ29ubmVjdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHB1Yi5wdWJsaXNoKGJvZHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHB1YjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRhcmdldFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBib2R5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24gKHRhcmdldCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gTWVzc2FnZSBtb2R1bGUsIHNvIGl0IGlzIG9rYXkgdGhhdCB0aGUgVUEgaGFuZGxlcyBkZWZhdWx0cyBoZXJlLlxuICAgICAgICBvcHRpb25zLmNvbnRlbnRUeXBlID0gb3B0aW9ucy5jb250ZW50VHlwZSB8fCBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgb3B0aW9ucy5ib2R5ID0gYm9keTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChDb25zdGFudHNfMS5DLk1FU1NBR0UsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBVQS5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVxID0gbmV3IENsaWVudENvbnRleHRfMS5DbGllbnRDb250ZXh0KHRoaXMsIG1ldGhvZCwgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQuYWZ0ZXJDb25uZWN0ZWQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVxLnNlbmQoKTsgfSk7XG4gICAgICAgIHJldHVybiByZXE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHcmFjZWZ1bGx5IGNsb3NlLlxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJ1c2VyIHJlcXVlc3RlZCBjbG9zdXJlLi4uXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX1VTRVJfQ0xPU0VEKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVUEgYWxyZWFkeSBjbG9zZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBDbG9zZSByZWdpc3RlckNvbnRleHRcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiY2xvc2luZyByZWdpc3RlckNvbnRleHRcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb250ZXh0LmNsb3NlKCk7XG4gICAgICAgIC8vIFJ1biB0ZXJtaW5hdGUgb24gZXZlcnkgU2Vzc2lvblxuICAgICAgICBmb3IgKHZhciBzZXNzaW9uIGluIHRoaXMuc2Vzc2lvbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25zW3Nlc3Npb25dKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiY2xvc2luZyBzZXNzaW9uIFwiICsgc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uc1tzZXNzaW9uXS50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSdW4gdW5zdWJzY3JpYmUgb24gZXZlcnkgU3Vic2NyaXB0aW9uXG4gICAgICAgIGZvciAodmFyIHN1YnNjcmlwdGlvbiBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnNbc3Vic2NyaXB0aW9uXSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInVuc3Vic2NyaWJlIFwiICsgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNbc3Vic2NyaXB0aW9uXS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBjbG9zZSBvbiBldmVyeSBQdWJsaXNoZXJcbiAgICAgICAgZm9yICh2YXIgcHVibGlzaGVyIGluIHRoaXMucHVibGlzaGVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMucHVibGlzaGVyc1twdWJsaXNoZXJdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwidW5wdWJsaXNoIFwiICsgcHVibGlzaGVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlcnNbcHVibGlzaGVyXS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBjbG9zZSBvbiBldmVyeSBhcHBsaWNhbnRcbiAgICAgICAgZm9yICh2YXIgYXBwbGljYW50IGluIHRoaXMuYXBwbGljYW50cykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXBwbGljYW50c1thcHBsaWNhbnRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBsaWNhbnRzW2FwcGxpY2FudF0uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX1VTRVJfQ0xPU0VEO1xuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSB0cmFuc3BvcnQgYW5kIHJlc2V0IHVzZXIgYWdlbnQgY29yZVxuICAgICAgICB0aGlzLnRyYW5zcG9ydC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMudXNlckFnZW50Q29yZS5yZXNldCgpO1xuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmF1dG9zdG9wKSB7XG4gICAgICAgICAgICAvLyBHb29nbGUgQ2hyb21lIFBhY2thZ2VkIEFwcHMgZG9uJ3QgYWxsb3cgJ3VubG9hZCcgbGlzdGVuZXJzOiB1bmxvYWQgaXMgbm90IGF2YWlsYWJsZSBpbiBwYWNrYWdlZCBhcHBzXG4gICAgICAgICAgICB2YXIgZ29vZ2xlQ2hyb21lUGFja2FnZWRBcHAgPSB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZS5hcHAgJiYgY2hyb21lLmFwcC5ydW50aW1lID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgICFnb29nbGVDaHJvbWVQYWNrYWdlZEFwcCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsIHRoaXMudW5sb2FkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgV1Mgc2VydmVyIGlmIHN0YXR1cyA9IFNUQVRVU19JTklULlxuICAgICAqIFJlc3VtZSBVQSBhZnRlciBiZWluZyBjbG9zZWQuXG4gICAgICpcbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInVzZXIgcmVxdWVzdGVkIHN0YXJ0dXAuLi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfSU5JVCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlVBU3RhdHVzLlNUQVRVU19TVEFSVElORztcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNwb3J0TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJ0cmFuc3BvcnRDcmVhdGVkXCIsIHRoaXMudHJhbnNwb3J0KTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfVVNFUl9DTE9TRUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInJlc3VtaW5nXCIpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlVBU3RhdHVzLlNUQVRVU19SRUFEWTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfU1RBUlRJTkcpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlVBIGlzIGluIFNUQVJUSU5HIHN0YXR1cywgbm90IG9wZW5pbmcgbmV3IGNvbm5lY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX1JFQURZKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJVQSBpcyBpbiBSRUFEWSBzdGF0dXMsIG5vdCByZXN1bWluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQ29ubmVjdGlvbiBpcyBkb3duLiBBdXRvLVJlY292ZXJ5IHN5c3RlbSBpcyB0cnlpbmcgdG8gY29ubmVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmF1dG9zdG9wKSB7XG4gICAgICAgICAgICAvLyBHb29nbGUgQ2hyb21lIFBhY2thZ2VkIEFwcHMgZG9uJ3QgYWxsb3cgJ3VubG9hZCcgbGlzdGVuZXJzOiB1bmxvYWQgaXMgbm90IGF2YWlsYWJsZSBpbiBwYWNrYWdlZCBhcHBzXG4gICAgICAgICAgICB2YXIgZ29vZ2xlQ2hyb21lUGFja2FnZWRBcHAgPSB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZS5hcHAgJiYgY2hyb21lLmFwcC5ydW50aW1lID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgICFnb29nbGVDaHJvbWVQYWNrYWdlZEFwcCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsIHRoaXMudW5sb2FkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIGEgc3RyaW5nIGludG8gYSB2YWxpZCBTSVAgcmVxdWVzdCBVUklcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTSVAuVVJJfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUubm9ybWFsaXplVGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gVXRpbHNfMS5VdGlscy5ub3JtYWxpemVUYXJnZXQodGFyZ2V0LCB0aGlzLmNvbmZpZ3VyYXRpb24uaG9zdHBvcnRQYXJhbXMpO1xuICAgIH07XG4gICAgVUEucHJvdG90eXBlLmdldExvZ2dlciA9IGZ1bmN0aW9uIChjYXRlZ29yeSwgbGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nLmdldExvZ2dlcihjYXRlZ29yeSwgbGFiZWwpO1xuICAgIH07XG4gICAgVUEucHJvdG90eXBlLmdldExvZ2dlckZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZztcbiAgICB9O1xuICAgIFVBLnByb3RvdHlwZS5nZXRTdXBwb3J0ZWRSZXNwb25zZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25UYWdzID0gW107XG4gICAgICAgIGlmICh0aGlzLmNvbnRhY3QucHViR3J1dSB8fCB0aGlzLmNvbnRhY3QudGVtcEdydXUpIHtcbiAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaChcImdydXVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwiMTAwcmVsXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24ucmVwbGFjZXMgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwicmVwbGFjZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwib3V0Ym91bmRcIik7XG4gICAgICAgIG9wdGlvblRhZ3MgPSBvcHRpb25UYWdzLmNvbmNhdCh0aGlzLmNvbmZpZ3VyYXRpb24uZXh0cmFTdXBwb3J0ZWQgfHwgW10pO1xuICAgICAgICB2YXIgYWxsb3dVbnJlZ2lzdGVyZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncyB8fCBmYWxzZTtcbiAgICAgICAgdmFyIG9wdGlvblRhZ1NldCA9IHt9O1xuICAgICAgICBvcHRpb25UYWdzID0gb3B0aW9uVGFncy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvblRhZykge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWQgPSBDb25zdGFudHNfMS5DLk9QVElPTl9UQUdTW29wdGlvblRhZ107XG4gICAgICAgICAgICB2YXIgdW5pcXVlID0gIW9wdGlvblRhZ1NldFtvcHRpb25UYWddO1xuICAgICAgICAgICAgb3B0aW9uVGFnU2V0W29wdGlvblRhZ10gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIChyZWdpc3RlcmVkIHx8IGFsbG93VW5yZWdpc3RlcmVkKSAmJiB1bmlxdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vzc2lvbiB0byB3aGljaCB0aGUgcmVxdWVzdCBiZWxvbmdzIHRvLCBpZiBhbnkuXG4gICAgICogQHBhcmFtIHtTSVAuSW5jb21pbmdSZXF1ZXN0fSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIHtTSVAuT3V0Z29pbmdTZXNzaW9ufFNJUC5JbmNvbWluZ1Nlc3Npb258dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5maW5kU2Vzc2lvbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25zW3JlcXVlc3QuY2FsbElkICsgcmVxdWVzdC5mcm9tVGFnXSB8fFxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uc1tyZXF1ZXN0LmNhbGxJZCArIHJlcXVlc3QudG9UYWddIHx8XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBVQS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7IH07XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gRXZlbnQgSGFuZGxlcnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBVQS5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlVBU3RhdHVzLlNUQVRVU19VU0VSX0NMT1NFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5lcnJvciB8fCB0aGlzLmVycm9yICE9PSBVQS5DLk5FVFdPUktfRVJST1IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfTk9UX1JFQURZO1xuICAgICAgICAgICAgdGhpcy5lcnJvciA9IFVBLkMuTkVUV09SS19FUlJPUjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uLiBTZXRzIHRyYW5zcG9ydCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUuc2V0VHJhbnNwb3J0TGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vbihcImNvbm5lY3RlZFwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vblRyYW5zcG9ydENvbm5lY3RlZCgpOyB9KTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQub24oXCJtZXNzYWdlXCIsIGZ1bmN0aW9uIChtZXNzYWdlKSB7IHJldHVybiBfdGhpcy5vblRyYW5zcG9ydFJlY2VpdmVNc2cobWVzc2FnZSk7IH0pO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vbihcInRyYW5zcG9ydEVycm9yXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uVHJhbnNwb3J0RXJyb3IoKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc3BvcnQgY29ubmVjdGlvbiBldmVudC5cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge1NJUC5UcmFuc3BvcnR9IHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUub25UcmFuc3BvcnRDb25uZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24ucmVnaXN0ZXIpIHtcbiAgICAgICAgICAgIC8vIEluIGFuIGVmZm9yIHRvIG1haW50YWluIGJlaGF2aW9yIGZyb20gd2hlbiB3ZSBcImluaXRpYWxpemVkXCIgYW5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGZhY3RvcnksIHRoaXMgaXMgaW4gYSBQcm9taXNlLnRoZW5cbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVnaXN0ZXJDb250ZXh0LnJlZ2lzdGVyKCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgU0lQIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB0aGUgdHJhbnNwb3J0LlxuICAgICAqIEBwYXJhbSBtZXNzYWdlU3RyaW5nIFRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5vblRyYW5zcG9ydFJlY2VpdmVNc2cgPSBmdW5jdGlvbiAobWVzc2FnZVN0cmluZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGNvcmVfMS5QYXJzZXIucGFyc2VNZXNzYWdlKG1lc3NhZ2VTdHJpbmcsIHRoaXMuZ2V0TG9nZ2VyKFwic2lwLnBhcnNlclwiKSk7XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlVBIGZhaWxlZCB0byBwYXJzZSBpbmNvbWluZyBTSVAgbWVzc2FnZSAtIGRpc2NhcmRpbmcuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfVVNFUl9DTE9TRUQgJiYgbWVzc2FnZSBpbnN0YW5jZW9mIGNvcmVfMS5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVUEgcmVjZWl2ZWQgbWVzc2FnZSB3aGVuIHN0YXR1cyA9IFVTRVJfQ0xPU0VEIC0gYWJvcnRpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSB2YWxpZCBTSVAgcmVxdWVzdCBmb3JtdWxhdGVkIGJ5IGEgVUFDIE1VU1QsIGF0IGEgbWluaW11bSwgY29udGFpblxuICAgICAgICAvLyB0aGUgZm9sbG93aW5nIGhlYWRlciBmaWVsZHM6IFRvLCBGcm9tLCBDU2VxLCBDYWxsLUlELCBNYXgtRm9yd2FyZHMsXG4gICAgICAgIC8vIGFuZCBWaWE7IGFsbCBvZiB0aGVzZSBoZWFkZXIgZmllbGRzIGFyZSBtYW5kYXRvcnkgaW4gYWxsIFNJUFxuICAgICAgICAvLyByZXF1ZXN0cy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMVxuICAgICAgICB2YXIgaGFzTWluaW11bUhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWFuZGF0b3J5SGVhZGVycyA9IFtcImZyb21cIiwgXCJ0b1wiLCBcImNhbGxfaWRcIiwgXCJjc2VxXCIsIFwidmlhXCJdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtYW5kYXRvcnlIZWFkZXJzXzEgPSBtYW5kYXRvcnlIZWFkZXJzOyBfaSA8IG1hbmRhdG9yeUhlYWRlcnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyID0gbWFuZGF0b3J5SGVhZGVyc18xW19pXTtcbiAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UuaGFzSGVhZGVyKGhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJNaXNzaW5nIG1hbmRhdG9yeSBoZWFkZXIgZmllbGQgOiBcIiArIGhlYWRlciArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBSZXF1ZXN0IENoZWNrc1xuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIGNvcmVfMS5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2subWluaW11bUhlYWRlcnMoKS5cbiAgICAgICAgICAgIGlmICghaGFzTWluaW11bUhlYWRlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJSZXF1ZXN0IG1pc3NpbmcgbWFuZGF0b3J5IGhlYWRlciBmaWVsZC4gRHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIG5vbi1zdGFuZGFyZCBhbmQgc2hvdWxkIGJlIGEgY29uZmlncnVhYmxlIGJlaGF2aW9yIChkZXNpcmFibGUgcmVnYXJkbGVzcykuXG4gICAgICAgICAgICAvLyBDdXN0b20gU0lQLmpzIGNoZWNrIHRvIHJlamVjdCByZXF1ZXN0IGZyb20gb3Vyc2VsZiAodGhpcyBpbnN0YW5jZSBvZiBTSVAuanMpLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBwb3J0IG9mIFNhbml0eUNoZWNrLnJmYzMyNjFfMTZfM180KCkuXG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UudG9UYWcgJiYgbWVzc2FnZS5jYWxsSWQuc3Vic3RyKDAsIDUpID09PSB0aGlzLmNvbmZpZ3VyYXRpb24uc2lwanNJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlckFnZW50Q29yZS5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQ4MiB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGSVhNRTogVGhpcyBzaG91bGQgYmUgVHJhbnNwb3J0IGNoZWNrIGJlZm9yZSB3ZSBnZXQgaGVyZSAoU2VjdGlvbiAxOCkuXG4gICAgICAgICAgICAvLyBDdXN0b20gU0lQLmpzIGNoZWNrIHRvIHJlamVjdCByZXF1ZXN0cyBpZiBib2R5IGxlbmd0aCB3cm9uZy5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgcG9ydCBvZiBTYW5pdHlDaGVjay5yZmMzMjYxXzE4XzNfcmVxdWVzdCgpLlxuICAgICAgICAgICAgdmFyIGxlbiA9IFV0aWxzXzEuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKG1lc3NhZ2UuYm9keSk7XG4gICAgICAgICAgICB2YXIgY29udGVudExlbmd0aCA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiY29udGVudC1sZW5ndGhcIik7XG4gICAgICAgICAgICBpZiAoY29udGVudExlbmd0aCAmJiBsZW4gPCBOdW1iZXIoY29udGVudExlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJBZ2VudENvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0MDAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlcG9uc2UgQ2hlY2tzXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgY29yZV8xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2subWluaW11bUhlYWRlcnMoKS5cbiAgICAgICAgICAgIGlmICghaGFzTWluaW11bUhlYWRlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJSZXNwb25zZSBtaXNzaW5nIG1hbmRhdG9yeSBoZWFkZXIgZmllbGQuIERyb3BwaW5nLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDdXN0b20gU0lQLmpzIGNoZWNrIHRvIGRyb3AgcmVzcG9uc2VzIGlmIG11bHRpcGxlIFZpYSBoZWFkZXJzLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBwb3J0IG9mIFNhbml0eUNoZWNrLnJmYzMyNjFfOF8xXzNfMygpLlxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZ2V0SGVhZGVycyhcInZpYVwiKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk1vcmUgdGhhbiBvbmUgVmlhIGhlYWRlciBmaWVsZCBwcmVzZW50IGluIHRoZSByZXNwb25zZS4gRHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZJWE1FOiBUaGlzIHNob3VsZCBiZSBUcmFuc3BvcnQgY2hlY2sgYmVmb3JlIHdlIGdldCBoZXJlIChTZWN0aW9uIDE4KS5cbiAgICAgICAgICAgIC8vIEN1c3RvbSBTSVAuanMgY2hlY2sgdG8gZHJvcCByZXNwb25zZXMgaWYgYmFkIFZpYSBoZWFkZXIuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2sucmZjMzI2MV8xOF8xXzIoKS5cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnZpYS5ob3N0ICE9PSB0aGlzLmNvbmZpZ3VyYXRpb24udmlhSG9zdCB8fCBtZXNzYWdlLnZpYS5wb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVmlhIHNlbnQtYnkgaW4gdGhlIHJlc3BvbnNlIGRvZXMgbm90IG1hdGNoIFVBIFZpYSBob3N0IHZhbHVlLiBEcm9wcGluZy5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRklYTUU6IFRoaXMgc2hvdWxkIGJlIFRyYW5zcG9ydCBjaGVjayBiZWZvcmUgd2UgZ2V0IGhlcmUgKFNlY3Rpb24gMTgpLlxuICAgICAgICAgICAgLy8gQ3VzdG9tIFNJUC5qcyBjaGVjayB0byByZWplY3QgcmVxdWVzdHMgaWYgYm9keSBsZW5ndGggd3JvbmcuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2sucmZjMzI2MV8xOF8zX3Jlc3BvbnNlKCkuXG4gICAgICAgICAgICB2YXIgbGVuID0gVXRpbHNfMS5VdGlscy5zdHJfdXRmOF9sZW5ndGgobWVzc2FnZS5ib2R5KTtcbiAgICAgICAgICAgIHZhciBjb250ZW50TGVuZ3RoID0gbWVzc2FnZS5nZXRIZWFkZXIoXCJjb250ZW50LWxlbmd0aFwiKTtcbiAgICAgICAgICAgIGlmIChjb250ZW50TGVuZ3RoICYmIGxlbiA8IE51bWJlcihjb250ZW50TGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJNZXNzYWdlIGJvZHkgbGVuZ3RoIGlzIGxvd2VyIHRoYW4gdGhlIHZhbHVlIGluIENvbnRlbnQtTGVuZ3RoIGhlYWRlciBmaWVsZC4gRHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgUmVxdWVzdFxuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIGNvcmVfMS5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJBZ2VudENvcmUucmVjZWl2ZUluY29taW5nUmVxdWVzdEZyb21UcmFuc3BvcnQobWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIFJlc3BvbnNlXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgY29yZV8xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJBZ2VudENvcmUucmVjZWl2ZUluY29taW5nUmVzcG9uc2VGcm9tVHJhbnNwb3J0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZSB0eXBlLlwiKTtcbiAgICB9O1xuICAgIC8vID09PT09PT09PT09PT09PT09XG4gICAgLy8gVXRpbHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICAgIFVBLnByb3RvdHlwZS5jaGVja0F1dGhlbnRpY2F0aW9uRmFjdG9yeSA9IGZ1bmN0aW9uIChhdXRoZW50aWNhdGlvbkZhY3RvcnkpIHtcbiAgICAgICAgaWYgKCEoYXV0aGVudGljYXRpb25GYWN0b3J5IGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhdXRoZW50aWNhdGlvbkZhY3RvcnkuaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb25GYWN0b3J5LmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXV0aGVudGljYXRpb25GYWN0b3J5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBsb2FkLlxuICAgICAqIHJldHVybnMge3ZvaWR9XG4gICAgICovXG4gICAgVUEucHJvdG90eXBlLmxvYWRDb25maWcgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTZXR0aW5ncyBhbmQgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgdmFyIHNldHRpbmdzID0ge1xuICAgICAgICAgICAgLyogSG9zdCBhZGRyZXNzXG4gICAgICAgICAgICAgKiBWYWx1ZSB0byBiZSBzZXQgaW4gVmlhIHNlbnRfYnkgYW5kIGhvc3QgcGFydCBvZiBDb250YWN0IEZRRE5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmlhSG9zdDogVXRpbHNfMS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbigxMikgKyBcIi5pbnZhbGlkXCIsXG4gICAgICAgICAgICB1cmk6IG5ldyBjb3JlXzEuVVJJKFwic2lwXCIsIFwiYW5vbnltb3VzLlwiICsgVXRpbHNfMS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbig2KSwgXCJhbm9ueW1vdXMuaW52YWxpZFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCksXG4gICAgICAgICAgICAvLyBDdXN0b20gQ29uZmlndXJhdGlvbiBTZXR0aW5nc1xuICAgICAgICAgICAgY3VzdG9tOiB7fSxcbiAgICAgICAgICAgIC8vIERpc3BsYXkgbmFtZVxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwiXCIsXG4gICAgICAgICAgICAvLyBQYXNzd29yZFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlZ2lzdGVyOiB0cnVlLFxuICAgICAgICAgICAgLy8gUmVnaXN0cmF0aW9uIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIHJlZ2lzdGVyT3B0aW9uczoge30sXG4gICAgICAgICAgICAvLyBUcmFuc3BvcnQgcmVsYXRlZCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICB0cmFuc3BvcnRDb25zdHJ1Y3RvcjogVHJhbnNwb3J0XzEuVHJhbnNwb3J0LFxuICAgICAgICAgICAgdHJhbnNwb3J0T3B0aW9uczoge30sXG4gICAgICAgICAgICB1c2VQcmVsb2FkZWRSb3V0ZTogZmFsc2UsXG4gICAgICAgICAgICAvLyBzdHJpbmcgdG8gYmUgaW5zZXJ0ZWQgaW50byBVc2VyLUFnZW50IHJlcXVlc3QgaGVhZGVyXG4gICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IENvbnN0YW50c18xLkMuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgIC8vIFNlc3Npb24gcGFyYW1ldGVyc1xuICAgICAgICAgICAgbm9BbnN3ZXJUaW1lb3V0OiA2MCxcbiAgICAgICAgICAgIC8vIEhhY2tzXG4gICAgICAgICAgICBoYWNrVmlhVGNwOiBmYWxzZSxcbiAgICAgICAgICAgIGhhY2tJcEluQ29udGFjdDogZmFsc2UsXG4gICAgICAgICAgICBoYWNrV3NzSW5UcmFuc3BvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFnczogZmFsc2UsXG4gICAgICAgICAgICAvLyBTZXNzaW9uIERlc2NyaXB0aW9uIEhhbmRsZXIgT3B0aW9uc1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludHM6IHt9LFxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uT3B0aW9uczoge31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHRyYVN1cHBvcnRlZDogW10sXG4gICAgICAgICAgICBjb250YWN0TmFtZTogVXRpbHNfMS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbig4KSxcbiAgICAgICAgICAgIGNvbnRhY3RUcmFuc3BvcnQ6IFwid3NcIixcbiAgICAgICAgICAgIGZvcmNlUnBvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgLy8gYXV0b3N0YXJ0aW5nXG4gICAgICAgICAgICBhdXRvc3RhcnQ6IHRydWUsXG4gICAgICAgICAgICBhdXRvc3RvcDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIFJlbGlhYmxlIFByb3Zpc2lvbmFsIFJlc3BvbnNlc1xuICAgICAgICAgICAgcmVsMTAwOiBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5VTlNVUFBPUlRFRCxcbiAgICAgICAgICAgIC8vIERUTUYgdHlwZTogJ2luZm8nIG9yICdydHAnIChSRkMgNDczMylcbiAgICAgICAgICAgIC8vIFJUUCBQYXlsb2FkIFNwZWM6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0NzMzXG4gICAgICAgICAgICAvLyBXZWJSVEMgQXVkaW8gU3BlYzogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc4NzRcbiAgICAgICAgICAgIGR0bWZUeXBlOiBDb25zdGFudHNfMS5DLmR0bWZUeXBlLklORk8sXG4gICAgICAgICAgICAvLyBSZXBsYWNlcyBoZWFkZXIgKFJGQyAzODkxKVxuICAgICAgICAgICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzg5MVxuICAgICAgICAgICAgcmVwbGFjZXM6IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlVOU1VQUE9SVEVELFxuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3Rvcnk6IFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJfMS5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmRlZmF1bHRGYWN0b3J5LFxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25GYWN0b3J5OiB0aGlzLmNoZWNrQXV0aGVudGljYXRpb25GYWN0b3J5KGZ1bmN0aW9uICh1YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgY29yZV8xLkRpZ2VzdEF1dGhlbnRpY2F0aW9uKHVhLmdldExvZ2dlckZhY3RvcnkoKSwgX3RoaXMuY29uZmlndXJhdGlvbi5hdXRob3JpemF0aW9uVXNlciwgX3RoaXMuY29uZmlndXJhdGlvbi5wYXNzd29yZCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGFsbG93TGVnYWN5Tm90aWZpY2F0aW9uczogZmFsc2UsXG4gICAgICAgICAgICBhbGxvd091dE9mRGlhbG9nUmVmZXJzOiBmYWxzZSxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbEZlYXR1cmVzOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29uZmlnQ2hlY2sgPSB0aGlzLmdldENvbmZpZ3VyYXRpb25DaGVjaygpO1xuICAgICAgICAvLyBDaGVjayBNYW5kYXRvcnkgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2subWFuZGF0b3J5KSB7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IocGFyYW1ldGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ3VyYXRpb25bcGFyYW1ldGVyXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2subWFuZGF0b3J5W3BhcmFtZXRlcl0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1twYXJhbWV0ZXJdID0gY2hlY2tlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgT3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2sub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWd1cmF0aW9uW3BhcmFtZXRlcl07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSwgYnV0IHNob3VsZG4ndCBiZSwgYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBudWxsLCBlbXB0eSBzdHJpbmcsIG9yIHVuZGVmaW5lZCB0aGVuIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBudW1iZXIgd2l0aCBOYU4gdmFsdWUgdGhlbiBhbHNvIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IEpTIGRvZXMgbm90IGFsbG93IFwidmFsdWUgPT09IE5hTlwiLCB0aGUgZm9sbG93aW5nIGRvZXMgdGhlIHdvcms6XG4gICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJudW1iZXJcIiAmJiBpc05hTih2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2sub3B0aW9uYWxbcGFyYW1ldGVyXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQb3N0IENvbmZpZ3VyYXRpb24gUHJvY2Vzc1xuICAgICAgICAvLyBBbGxvdyBwYXNzaW5nIDAgbnVtYmVyIGFzIGRpc3BsYXlOYW1lLlxuICAgICAgICBpZiAoc2V0dGluZ3MuZGlzcGxheU5hbWUgPT09IDApIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmRpc3BsYXlOYW1lID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2lwanNJZCBpbnN0YW5jZSBwYXJhbWV0ZXIuIFN0YXRpYyByYW5kb20gdGFnIG9mIGxlbmd0aCA1XG4gICAgICAgIHNldHRpbmdzLnNpcGpzSWQgPSBVdGlsc18xLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDUpO1xuICAgICAgICAvLyBTdHJpbmcgY29udGFpbmluZyBzZXR0aW5ncy51cmkgd2l0aG91dCBzY2hlbWUgYW5kIHVzZXIuXG4gICAgICAgIHZhciBob3N0cG9ydFBhcmFtcyA9IHNldHRpbmdzLnVyaS5jbG9uZSgpO1xuICAgICAgICBob3N0cG9ydFBhcmFtcy51c2VyID0gdW5kZWZpbmVkO1xuICAgICAgICBzZXR0aW5ncy5ob3N0cG9ydFBhcmFtcyA9IGhvc3Rwb3J0UGFyYW1zLnRvUmF3KCkucmVwbGFjZSgvXnNpcDovaSwgXCJcIik7XG4gICAgICAgIC8qIENoZWNrIHdoZXRoZXIgYXV0aG9yaXphdGlvblVzZXIgaXMgZXhwbGljaXRseSBkZWZpbmVkLlxuICAgICAgICAgKiBUYWtlICdzZXR0aW5ncy51cmkudXNlcicgdmFsdWUgaWYgbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFzZXR0aW5ncy5hdXRob3JpemF0aW9uVXNlcikge1xuICAgICAgICAgICAgc2V0dGluZ3MuYXV0aG9yaXphdGlvblVzZXIgPSBzZXR0aW5ncy51cmkudXNlcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2VyIG5vQW5zd2VyVGltZW91dFxuICAgICAgICBzZXR0aW5ncy5ub0Fuc3dlclRpbWVvdXQgPSBzZXR0aW5ncy5ub0Fuc3dlclRpbWVvdXQgKiAxMDAwO1xuICAgICAgICAvLyBWaWEgSG9zdFxuICAgICAgICBpZiAoc2V0dGluZ3MuaGFja0lwSW5Db250YWN0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLmhhY2tJcEluQ29udGFjdCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IDE7XG4gICAgICAgICAgICAgICAgdmFyIHRvID0gMjU0O1xuICAgICAgICAgICAgICAgIHZhciBvY3RldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0byAtIGZyb20gKyAxKSArIGZyb20pO1xuICAgICAgICAgICAgICAgIC8vIHJhbmRvbSBUZXN0LU5ldCBJUCAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNTczNSlcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52aWFIb3N0ID0gXCIxOTIuMC4yLlwiICsgb2N0ZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2V0dGluZ3MuaGFja0lwSW5Db250YWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MudmlhSG9zdCA9IHNldHRpbmdzLmhhY2tJcEluQ29udGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDb250YWN0IHRyYW5zcG9ydCBwYXJhbWV0ZXJcbiAgICAgICAgaWYgKHNldHRpbmdzLmhhY2tXc3NJblRyYW5zcG9ydCkge1xuICAgICAgICAgICAgc2V0dGluZ3MuY29udGFjdFRyYW5zcG9ydCA9IFwid3NzXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWN0ID0ge1xuICAgICAgICAgICAgcHViR3J1dTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGVtcEdydXU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVyaTogbmV3IGNvcmVfMS5VUkkoXCJzaXBcIiwgc2V0dGluZ3MuY29udGFjdE5hbWUsIHNldHRpbmdzLnZpYUhvc3QsIHVuZGVmaW5lZCwgeyB0cmFuc3BvcnQ6IHNldHRpbmdzLmNvbnRhY3RUcmFuc3BvcnQgfSksXG4gICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAgICAgICAgIHZhciBhbm9ueW1vdXMgPSBvcHRpb25zLmFub255bW91cyB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgb3V0Ym91bmQgPSBvcHRpb25zLm91dGJvdW5kIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWN0ID0gXCI8XCI7XG4gICAgICAgICAgICAgICAgaWYgKGFub255bW91cykge1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0ICs9IChfdGhpcy5jb250YWN0LnRlbXBHcnV1IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoXCJzaXA6YW5vbnltb3VzQGFub255bW91cy5pbnZhbGlkO3RyYW5zcG9ydD1cIiArIHNldHRpbmdzLmNvbnRhY3RUcmFuc3BvcnQpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdCArPSAoX3RoaXMuY29udGFjdC5wdWJHcnV1IHx8IF90aGlzLmNvbnRhY3QudXJpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3V0Ym91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdCArPSBcIjtvYlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWN0ICs9IFwiPlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2tlbGV0b24gPSB7fTtcbiAgICAgICAgLy8gRmlsbCB0aGUgdmFsdWUgb2YgdGhlIGNvbmZpZ3VyYXRpb25fc2tlbGV0b25cbiAgICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHNrZWxldG9uW3BhcmFtZXRlcl0gPSBzZXR0aW5nc1twYXJhbWV0ZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWd1cmF0aW9uLCBza2VsZXRvbik7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBhZnRlciB2YWxpZGF0aW9uOlwiKTtcbiAgICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocGFyYW1ldGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1cmlcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCLCtyBcIiArIHBhcmFtZXRlciArIFwiOiBcIiArIHNldHRpbmdzW3BhcmFtZXRlcl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiwrcgXCIgKyBwYXJhbWV0ZXIgKyBcIjogXCIgKyBcIk5PVCBTSE9XTlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNwb3J0Q29uc3RydWN0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIsK3IFwiICsgcGFyYW1ldGVyICsgXCI6IFwiICsgc2V0dGluZ3NbcGFyYW1ldGVyXS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiwrcgXCIgKyBwYXJhbWV0ZXIgKyBcIjogXCIgKyBKU09OLnN0cmluZ2lmeShzZXR0aW5nc1twYXJhbWV0ZXJdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gY2hlY2tlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYW5kYXRvcnk6IHt9LFxuICAgICAgICAgICAgb3B0aW9uYWw6IHtcbiAgICAgICAgICAgICAgICB1cmk6IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoL15zaXA6L2kpLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJpID0gQ29uc3RhbnRzXzEuQy5TSVAgKyBcIjpcIiArIHVyaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UodXJpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJzZWQgfHwgIXBhcnNlZC51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnRDb25zdHJ1Y3RvcjogZnVuY3Rpb24gKHRyYW5zcG9ydENvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc3BvcnRDb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwb3J0Q29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IGZ1bmN0aW9uICh0cmFuc3BvcnRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHJhbnNwb3J0T3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zcG9ydE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Vc2VyOiBmdW5jdGlvbiAoYXV0aG9yaXphdGlvblVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmVfMS5HcmFtbWFyLnBhcnNlKCdcIicgKyBhdXRob3JpemF0aW9uVXNlciArICdcIicsIFwicXVvdGVkX3N0cmluZ1wiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRob3JpemF0aW9uVXNlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGZ1bmN0aW9uIChkaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29yZV8xLkdyYW1tYXIucGFyc2UoJ1wiJyArIGRpc3BsYXlOYW1lICsgJ1wiJywgXCJkaXNwbGF5TmFtZVwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwbGF5TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHRtZlR5cGU6IGZ1bmN0aW9uIChkdG1mVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGR0bWZUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuZHRtZlR5cGUuUlRQOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNfMS5DLmR0bWZUeXBlLlJUUDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5kdG1mVHlwZS5JTkZPOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNfMS5DLmR0bWZUeXBlLklORk87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhY2tWaWFUY3A6IGZ1bmN0aW9uIChoYWNrVmlhVGNwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGFja1ZpYVRjcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYWNrVmlhVGNwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYWNrSXBJbkNvbnRhY3Q6IGZ1bmN0aW9uIChoYWNrSXBJbkNvbnRhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoYWNrSXBJbkNvbnRhY3QgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja0lwSW5Db250YWN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBoYWNrSXBJbkNvbnRhY3QgPT09IFwic3RyaW5nXCIgJiYgY29yZV8xLkdyYW1tYXIucGFyc2UoaGFja0lwSW5Db250YWN0LCBcImhvc3RcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja0lwSW5Db250YWN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYWNrV3NzSW5UcmFuc3BvcnQ6IGZ1bmN0aW9uIChoYWNrV3NzSW5UcmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoYWNrV3NzSW5UcmFuc3BvcnQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja1dzc0luVHJhbnNwb3J0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYWNrQWxsb3dVbnJlZ2lzdGVyZWRPcHRpb25UYWdzOiBmdW5jdGlvbiAoaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGhhY2tBbGxvd1VucmVnaXN0ZXJlZE9wdGlvblRhZ3MgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udGFjdFRyYW5zcG9ydDogZnVuY3Rpb24gKGNvbnRhY3RUcmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWN0VHJhbnNwb3J0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGFjdFRyYW5zcG9ydDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXh0cmFTdXBwb3J0ZWQ6IGZ1bmN0aW9uIChvcHRpb25UYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKG9wdGlvblRhZ3MgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG9wdGlvblRhZ3NfMSA9IG9wdGlvblRhZ3M7IF9pIDwgb3B0aW9uVGFnc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IG9wdGlvblRhZ3NfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZvcmNlUnBvcnQ6IGZ1bmN0aW9uIChmb3JjZVJwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9yY2VScG9ydCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JjZVJwb3J0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBub0Fuc3dlclRpbWVvdXQ6IGZ1bmN0aW9uIChub0Fuc3dlclRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKG5vQW5zd2VyVGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IE51bWJlcihub0Fuc3dlclRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbDEwMDogZnVuY3Rpb24gKHJlbDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVsMTAwID09PSBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlJFUVVJUkVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlbDEwMCA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlVOU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXBsYWNlczogZnVuY3Rpb24gKHJlcGxhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlcyA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXBsYWNlcyA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlVOU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKHJlZ2lzdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVnaXN0ZXIgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyT3B0aW9uczogZnVuY3Rpb24gKHJlZ2lzdGVyT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlZ2lzdGVyT3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdGVyT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlUHJlbG9hZGVkUm91dGU6IGZ1bmN0aW9uICh1c2VQcmVsb2FkZWRSb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVzZVByZWxvYWRlZFJvdXRlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZVByZWxvYWRlZFJvdXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IGZ1bmN0aW9uICh1c2VyQWdlbnRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VyQWdlbnRTdHJpbmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyQWdlbnRTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dG9zdGFydDogZnVuY3Rpb24gKGF1dG9zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF1dG9zdGFydCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRvc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dG9zdG9wOiBmdW5jdGlvbiAoYXV0b3N0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhdXRvc3RvcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRvc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3Rvcnk6IGZ1bmN0aW9uIChzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uRmFjdG9yeTogdGhpcy5jaGVja0F1dGhlbnRpY2F0aW9uRmFjdG9yeSxcbiAgICAgICAgICAgICAgICBhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIChhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjdXN0b206IGZ1bmN0aW9uIChjdXN0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b20gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRhY3ROYW1lOiBmdW5jdGlvbiAoY29udGFjdE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWN0TmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhY3ROYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxGZWF0dXJlczogZnVuY3Rpb24gKGV4cGVyaW1lbnRhbEZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwZXJpbWVudGFsRmVhdHVyZXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwZXJpbWVudGFsRmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgVUEuQyA9IHtcbiAgICAgICAgLy8gVUEgc3RhdHVzIGNvZGVzXG4gICAgICAgIFNUQVRVU19JTklUOiAwLFxuICAgICAgICBTVEFUVVNfU1RBUlRJTkc6IDEsXG4gICAgICAgIFNUQVRVU19SRUFEWTogMixcbiAgICAgICAgU1RBVFVTX1VTRVJfQ0xPU0VEOiAzLFxuICAgICAgICBTVEFUVVNfTk9UX1JFQURZOiA0LFxuICAgICAgICAvLyBVQSBlcnJvciBjb2Rlc1xuICAgICAgICBDT05GSUdVUkFUSU9OX0VSUk9SOiAxLFxuICAgICAgICBORVRXT1JLX0VSUk9SOiAyLFxuICAgICAgICBBTExPV0VEX01FVEhPRFM6IFtcbiAgICAgICAgICAgIFwiQUNLXCIsXG4gICAgICAgICAgICBcIkNBTkNFTFwiLFxuICAgICAgICAgICAgXCJJTlZJVEVcIixcbiAgICAgICAgICAgIFwiTUVTU0FHRVwiLFxuICAgICAgICAgICAgXCJCWUVcIixcbiAgICAgICAgICAgIFwiT1BUSU9OU1wiLFxuICAgICAgICAgICAgXCJJTkZPXCIsXG4gICAgICAgICAgICBcIk5PVElGWVwiLFxuICAgICAgICAgICAgXCJSRUZFUlwiXG4gICAgICAgIF0sXG4gICAgICAgIEFDQ0VQVEVEX0JPRFlfVFlQRVM6IFtcbiAgICAgICAgICAgIFwiYXBwbGljYXRpb24vc2RwXCIsXG4gICAgICAgICAgICBcImFwcGxpY2F0aW9uL2R0bWYtcmVsYXlcIlxuICAgICAgICBdLFxuICAgICAgICBNQVhfRk9SV0FSRFM6IDcwLFxuICAgICAgICBUQUdfTEVOR1RIOiAxMFxuICAgIH07XG4gICAgcmV0dXJuIFVBO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuVUEgPSBVQTtcbihmdW5jdGlvbiAoVUEpIHtcbiAgICB2YXIgRHRtZlR5cGU7XG4gICAgKGZ1bmN0aW9uIChEdG1mVHlwZSkge1xuICAgICAgICBEdG1mVHlwZVtcIlJUUFwiXSA9IFwicnRwXCI7XG4gICAgICAgIER0bWZUeXBlW1wiSU5GT1wiXSA9IFwiaW5mb1wiO1xuICAgIH0pKER0bWZUeXBlID0gVUEuRHRtZlR5cGUgfHwgKFVBLkR0bWZUeXBlID0ge30pKTtcbn0pKFVBID0gZXhwb3J0cy5VQSB8fCAoZXhwb3J0cy5VQSA9IHt9KSk7XG5leHBvcnRzLlVBID0gVUE7XG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY29uZmlndXJhdGlvbiBnaXZlIGEgVUEuXG4gKiBAcGFyYW0gdWEgVUFcbiAqL1xuZnVuY3Rpb24gbWFrZVVzZXJBZ2VudENvcmVDb25maWd1cmF0aW9uRnJvbVVBKHVhKSB7XG4gICAgLy8gRklYTUU6IENvbmZpZ3VyYXRpb24gVVJJIGlzIGEgYmFkIG1peCBvZiB0eXBlcyBjdXJyZW50bHkuIEl0IGFsc28gbmVlZHMgdG8gZXhpc3QuXG4gICAgaWYgKCEodWEuY29uZmlndXJhdGlvbi51cmkgaW5zdGFuY2VvZiBjb3JlXzEuVVJJKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIFVSSSBub3QgaW5zdGFuY2Ugb2YgVVJJLlwiKTtcbiAgICB9XG4gICAgdmFyIGFvciA9IHVhLmNvbmZpZ3VyYXRpb24udXJpO1xuICAgIHZhciBjb250YWN0ID0gdWEuY29udGFjdDtcbiAgICB2YXIgZGlzcGxheU5hbWUgPSB1YS5jb25maWd1cmF0aW9uLmRpc3BsYXlOYW1lID8gdWEuY29uZmlndXJhdGlvbi5kaXNwbGF5TmFtZSA6IFwiXCI7XG4gICAgdmFyIGhhY2tWaWFUY3AgPSB1YS5jb25maWd1cmF0aW9uLmhhY2tWaWFUY3AgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIHJvdXRlU2V0ID0gdWEuY29uZmlndXJhdGlvbi51c2VQcmVsb2FkZWRSb3V0ZSAmJiB1YS50cmFuc3BvcnQuc2VydmVyICYmIHVhLnRyYW5zcG9ydC5zZXJ2ZXIuc2lwVXJpID9cbiAgICAgICAgW3VhLnRyYW5zcG9ydC5zZXJ2ZXIuc2lwVXJpXSA6XG4gICAgICAgIFtdO1xuICAgIHZhciBzaXBqc0lkID0gdWEuY29uZmlndXJhdGlvbi5zaXBqc0lkIHx8IFV0aWxzXzEuVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4oNSk7XG4gICAgdmFyIHN1cHBvcnRlZE9wdGlvblRhZ3MgPSBbXTtcbiAgICBzdXBwb3J0ZWRPcHRpb25UYWdzLnB1c2goXCJvdXRib3VuZFwiKTsgLy8gVE9ETzogaXMgdGhpcyByZWFsbHkgc3VwcG9ydGVkP1xuICAgIGlmICh1YS5jb25maWd1cmF0aW9uLnJlbDEwMCA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKSB7XG4gICAgICAgIHN1cHBvcnRlZE9wdGlvblRhZ3MucHVzaChcIjEwMHJlbFwiKTtcbiAgICB9XG4gICAgaWYgKHVhLmNvbmZpZ3VyYXRpb24ucmVwbGFjZXMgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzLnB1c2goXCJyZXBsYWNlc1wiKTtcbiAgICB9XG4gICAgaWYgKHVhLmNvbmZpZ3VyYXRpb24uZXh0cmFTdXBwb3J0ZWQpIHtcbiAgICAgICAgc3VwcG9ydGVkT3B0aW9uVGFncy5wdXNoLmFwcGx5KHN1cHBvcnRlZE9wdGlvblRhZ3MsIHVhLmNvbmZpZ3VyYXRpb24uZXh0cmFTdXBwb3J0ZWQpO1xuICAgIH1cbiAgICBpZiAoIXVhLmNvbmZpZ3VyYXRpb24uaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncykge1xuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzID0gc3VwcG9ydGVkT3B0aW9uVGFncy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvblRhZykgeyByZXR1cm4gQ29uc3RhbnRzXzEuQy5PUFRJT05fVEFHU1tvcHRpb25UYWddOyB9KTtcbiAgICB9XG4gICAgc3VwcG9ydGVkT3B0aW9uVGFncyA9IEFycmF5LmZyb20obmV3IFNldChzdXBwb3J0ZWRPcHRpb25UYWdzKSk7IC8vIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXNcbiAgICB2YXIgc3VwcG9ydGVkT3B0aW9uVGFnc1Jlc3BvbnNlID0gdWEuZ2V0U3VwcG9ydGVkUmVzcG9uc2VPcHRpb25zKCk7XG4gICAgdmFyIHVzZXJBZ2VudEhlYWRlckZpZWxkVmFsdWUgPSB1YS5jb25maWd1cmF0aW9uLnVzZXJBZ2VudFN0cmluZyB8fCBcInNpcGpzXCI7XG4gICAgaWYgKCEodWEuY29uZmlndXJhdGlvbi52aWFIb3N0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIHZpYSBob3N0IHVuZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgdmFyIHZpYUZvcmNlUnBvcnQgPSB1YS5jb25maWd1cmF0aW9uLmZvcmNlUnBvcnQgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIHZpYUhvc3QgPSB1YS5jb25maWd1cmF0aW9uLnZpYUhvc3Q7XG4gICAgdmFyIGNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIGFvcjogYW9yLFxuICAgICAgICBjb250YWN0OiBjb250YWN0LFxuICAgICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICAgIGhhY2tWaWFUY3A6IGhhY2tWaWFUY3AsXG4gICAgICAgIGxvZ2dlckZhY3Rvcnk6IHVhLmdldExvZ2dlckZhY3RvcnkoKSxcbiAgICAgICAgcm91dGVTZXQ6IHJvdXRlU2V0LFxuICAgICAgICBzaXBqc0lkOiBzaXBqc0lkLFxuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzOiBzdXBwb3J0ZWRPcHRpb25UYWdzLFxuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzUmVzcG9uc2U6IHN1cHBvcnRlZE9wdGlvblRhZ3NSZXNwb25zZSxcbiAgICAgICAgdXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZTogdXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZSxcbiAgICAgICAgdmlhRm9yY2VScG9ydDogdmlhRm9yY2VScG9ydCxcbiAgICAgICAgdmlhSG9zdDogdmlhSG9zdCxcbiAgICAgICAgYXV0aGVudGljYXRpb25GYWN0b3J5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodWEuY29uZmlndXJhdGlvbi5hdXRoZW50aWNhdGlvbkZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdWEuY29uZmlndXJhdGlvbi5hdXRoZW50aWNhdGlvbkZhY3RvcnkodWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNwb3J0QWNjZXNzb3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVhLnRyYW5zcG9ydDsgfVxuICAgIH07XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRpb247XG59XG5leHBvcnRzLm1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQSA9IG1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIHNlc3Npb25fMSA9IHJlcXVpcmUoXCIuLi9hcGkvc2Vzc2lvblwiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9FeGNlcHRpb25zXCIpO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG52YXIgTW9kaWZpZXJzID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vTW9kaWZpZXJzXCIpKTtcbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL1Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlclwiKTtcbi8qIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcbiAqIEBjbGFzcyBQZWVyQ29ubmVjdGlvbiBoZWxwZXIgQ2xhc3MuXG4gKiBAcGFyYW0ge1NJUC5TZXNzaW9ufSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKi9cbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcihsb2dnZXIsIG9ic2VydmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI7XG4gICAgICAgIC8vIFRPRE86IFZhbGlkYXRlIHRoZSBvcHRpb25zXG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIF90aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIF90aGlzLmR0bWZTZW5kZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLnNob3VsZEFjcXVpcmVNZWRpYSA9IHRydWU7XG4gICAgICAgIF90aGlzLkNPTlRFTlRfVFlQRSA9IFwiYXBwbGljYXRpb24vc2RwXCI7XG4gICAgICAgIF90aGlzLkMgPSB7XG4gICAgICAgICAgICBESVJFQ1RJT046IHtcbiAgICAgICAgICAgICAgICBOVUxMOiBudWxsLFxuICAgICAgICAgICAgICAgIFNFTkRSRUNWOiBcInNlbmRyZWN2XCIsXG4gICAgICAgICAgICAgICAgU0VORE9OTFk6IFwic2VuZG9ubHlcIixcbiAgICAgICAgICAgICAgICBSRUNWT05MWTogXCJyZWN2b25seVwiLFxuICAgICAgICAgICAgICAgIElOQUNUSVZFOiBcImluYWN0aXZlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zOiBcIiArIEpTT04uc3RyaW5naWZ5KF90aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgX3RoaXMuZGlyZWN0aW9uID0gX3RoaXMuQy5ESVJFQ1RJT04uTlVMTDtcbiAgICAgICAgX3RoaXMubW9kaWZpZXJzID0gX3RoaXMub3B0aW9ucy5tb2RpZmllcnMgfHwgW107XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShfdGhpcy5tb2RpZmllcnMpKSB7XG4gICAgICAgICAgICBfdGhpcy5tb2RpZmllcnMgPSBbX3RoaXMubW9kaWZpZXJzXTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5pY2VHYXRoZXJpbmdUaW1lb3V0ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmluaXRQZWVyQ29ubmVjdGlvbihfdGhpcy5vcHRpb25zLnBlZXJDb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgICAgIF90aGlzLmNvbnN0cmFpbnRzID0gX3RoaXMuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHMoX3RoaXMub3B0aW9ucy5jb25zdHJhaW50cyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTSVAuU2Vzc2lvbn0gc2Vzc2lvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKi9cbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmRlZmF1bHRGYWN0b3J5ID0gZnVuY3Rpb24gKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGxvZ2dlciA9IChzZXNzaW9uIGluc3RhbmNlb2Ygc2Vzc2lvbl8xLlNlc3Npb24pID9cbiAgICAgICAgICAgIHNlc3Npb24udXNlckFnZW50LmdldExvZ2dlcihcInNpcC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXCIsIHNlc3Npb24uaWQpIDpcbiAgICAgICAgICAgIHNlc3Npb24udWEuZ2V0TG9nZ2VyKFwic2lwLmludml0ZWNvbnRleHQuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclwiLCBzZXNzaW9uLmlkKTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlcl8xLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlcihzZXNzaW9uLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKGxvZ2dlciwgb2JzZXJ2ZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLy8gRnVuY3Rpb25zIHRoZSBzZXNzc2lvbiBjYW4gdXNlXG4gICAgLyoqXG4gICAgICogRGVzdHJ1Y3RvclxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJjbG9zaW5nIFBlZXJDb25uZWN0aW9uXCIpO1xuICAgICAgICAvLyBoYXZlIHRvIGNoZWNrIHNpZ25hbGluZ1N0YXRlIHNpbmNlIHRoaXMuY2xvc2UoKSBnZXRzIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbiAmJiB0aGlzLnBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSBcImNsb3NlZFwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAoc2VuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIudHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci50cmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVc2luZyBnZXRMb2NhbFN0cmVhbXMgd2hpY2ggaXMgZGVwcmVjYXRlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpLmZvckVhY2goZnVuY3Rpb24gKHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlci50cmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIudHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVXNpbmcgZ2V0UmVtb3RlU3RyZWFtcyB3aGljaCBpcyBkZXByZWNhdGVkXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVtb3RlU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc2V0SWNlR2F0aGVyaW5nQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgZGVzY3JpcHRpb24gZnJvbSB0aGUgdW5kZXJseWluZyBtZWRpYSBpbXBsZW1lbnRhdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgdG8gYmUgdXNlZCBieSBnZXREZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7TWVkaWFTdHJlYW1Db25zdHJhaW50c30gW29wdGlvbnMuY29uc3RyYWludHNdIE1lZGlhU3RyZWFtQ29uc3RyYWludHNcbiAgICAgKiAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYVN0cmVhbUNvbnN0cmFpbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnBlZXJDb25uZWN0aW9uT3B0aW9uc10gSWYgdGhpcyBpcyBzZXQgaXQgd2lsbCByZWNyZWF0ZSB0aGUgcGVlclxuICAgICAqICAgY29ubmVjdGlvbiB3aXRoIHRoZSBuZXcgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFttb2RpZmllcnNdIEFycmF5IHdpdGggb25lIHRpbWUgdXNlIGRlc2NyaXB0aW9uIG1vZGlmaWVyc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgbG9jYWwgZGVzY3JpcHRpb24gdG8gYmUgdXNlZCBmb3IgdGhlIHNlc3Npb25cbiAgICAgKi9cbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IFtdOyB9XG4gICAgICAgIGlmIChvcHRpb25zLnBlZXJDb25uZWN0aW9uT3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5pbml0UGVlckNvbm5lY3Rpb24ob3B0aW9ucy5wZWVyQ29ubmVjdGlvbk9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1lcmdlIHBhc3NlZCBjb25zdHJhaW50cyB3aXRoIHNhdmVkIGNvbnN0cmFpbnRzIGFuZCBzYXZlXG4gICAgICAgIHZhciBuZXdDb25zdHJhaW50cyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uc3RyYWludHMsIG9wdGlvbnMuY29uc3RyYWludHMpO1xuICAgICAgICBuZXdDb25zdHJhaW50cyA9IHRoaXMuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHMobmV3Q29uc3RyYWludHMpO1xuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkobmV3Q29uc3RyYWludHMpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnN0cmFpbnRzKSkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IG5ld0NvbnN0cmFpbnRzO1xuICAgICAgICAgICAgdGhpcy5zaG91bGRBY3F1aXJlTWVkaWEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtb2RpZmllcnMpKSB7XG4gICAgICAgICAgICBtb2RpZmllcnMgPSBbbW9kaWZpZXJzXTtcbiAgICAgICAgfVxuICAgICAgICBtb2RpZmllcnMgPSBtb2RpZmllcnMuY29uY2F0KHRoaXMubW9kaWZpZXJzKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnNob3VsZEFjcXVpcmVNZWRpYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hY3F1aXJlKF90aGlzLmNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvdWxkQWNxdWlyZU1lZGlhID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuY3JlYXRlT2ZmZXJPckFuc3dlcihvcHRpb25zLlJUQ09mZmVyT3B0aW9ucywgbW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnNkcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcImdldERlc2NyaXB0aW9uXCIsIHVuZGVmaW5lZCwgXCJTRFAgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZW1pdChcImdldERlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm9keTogZGVzY3JpcHRpb24uc2RwLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBfdGhpcy5DT05URU5UX1RZUEVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIFNlc3Npb24gRGVzY3JpcHRpb24gSGFuZGxlciBjYW4gaGFuZGxlIHRoZSBDb250ZW50LVR5cGUgZGVzY3JpYmVkIGJ5IGEgU0lQIE1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudFR5cGUgVGhlIGNvbnRlbnQgdHlwZSB0aGF0IGlzIGluIHRoZSBTSVAgTWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhhc0Rlc2NyaXB0aW9uID0gZnVuY3Rpb24gKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50VHlwZSA9PT0gdGhpcy5DT05URU5UX1RZUEU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbW9kaWZpZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBzZXNzaW9uIHdvdWxkIGxpa2UgdG8gcGxhY2UgdGhlIGNhbGwgb24gaG9sZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbc2RwXSBUaGUgZGVzY3JpcHRpb24gdGhhdCB3aWxsIGJlIG1vZGlmaWVkXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIG1vZGlmaWVkIFNEUFxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhvbGRNb2RpZmllciA9IGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICBpZiAoIWRlc2NyaXB0aW9uLnNkcCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoL2E9KHNlbmRyZWN2fHNlbmRvbmx5fHJlY3Zvbmx5fGluYWN0aXZlKS8pLnRlc3QoZGVzY3JpcHRpb24uc2RwKSkge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24uc2RwID0gZGVzY3JpcHRpb24uc2RwLnJlcGxhY2UoLyhtPVteXFxyXSpcXHJcXG4pL2csIFwiJDFhPXNlbmRvbmx5XFxyXFxuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24uc2RwID0gZGVzY3JpcHRpb24uc2RwLnJlcGxhY2UoL2E9c2VuZHJlY3ZcXHJcXG4vZywgXCJhPXNlbmRvbmx5XFxyXFxuXCIpO1xuICAgICAgICAgICAgZGVzY3JpcHRpb24uc2RwID0gZGVzY3JpcHRpb24uc2RwLnJlcGxhY2UoL2E9cmVjdm9ubHlcXHJcXG4vZywgXCJhPWluYWN0aXZlXFxyXFxuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzY3JpcHRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByZW1vdGUgZGVzY3JpcHRpb24gdG8gdGhlIHVuZGVybHlpbmcgbWVkaWEgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2Vzc2lvbkRlc2NyaXB0aW9uIFRoZSBkZXNjcmlwdGlvbiBwcm92aWRlZCBieSBhIFNJUCBtZXNzYWdlIHRvIGJlIHNldCBvbiB0aGUgbWVkaWEgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0IHRvIGJlIHVzZWQgYnkgZ2V0RGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtQ29uc3RyYWludHN9IFtvcHRpb25zLmNvbnN0cmFpbnRzXSBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzXG4gICAgICogICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFTdHJlYW1Db25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wZWVyQ29ubmVjdGlvbk9wdGlvbnNdIElmIHRoaXMgaXMgc2V0IGl0IHdpbGwgcmVjcmVhdGUgdGhlIHBlZXJcbiAgICAgKiAgIGNvbm5lY3Rpb24gd2l0aCB0aGUgbmV3IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbbW9kaWZpZXJzXSBBcnJheSB3aXRoIG9uZSB0aW1lIHVzZSBkZXNjcmlwdGlvbiBtb2RpZmllcnNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIGRlc2NyaXB0aW9uIGlzIHNldFxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKHNlc3Npb25EZXNjcmlwdGlvbiwgb3B0aW9ucywgbW9kaWZpZXJzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBbXTsgfVxuICAgICAgICBpZiAob3B0aW9ucy5wZWVyQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFBlZXJDb25uZWN0aW9uKG9wdGlvbnMucGVlckNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobW9kaWZpZXJzKSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzID0gW21vZGlmaWVyc107XG4gICAgICAgIH1cbiAgICAgICAgbW9kaWZpZXJzID0gbW9kaWZpZXJzLmNvbmNhdCh0aGlzLm1vZGlmaWVycyk7XG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuaGFzT2ZmZXIoXCJsb2NhbFwiKSA/IFwiYW5zd2VyXCIgOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICBzZHA6IHNlc3Npb25EZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBNZWRpYSBzaG91bGQgYmUgYWNxdWlyZWQgaW4gZ2V0RGVzY3JpcHRpb24gdW5sZXNzIHdlIG5lZWQgdG8gZG8gaXQgc29vbmVyIGZvciBzb21lIHJlYXNvbiAoRkY2MSspXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2hvdWxkQWNxdWlyZU1lZGlhICYmIF90aGlzLm9wdGlvbnMuYWx3YXlzQWNxdWlyZU1lZGlhRmlyc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYWNxdWlyZShfdGhpcy5jb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3VsZEFjcXVpcmVNZWRpYSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFV0aWxzXzEuVXRpbHMucmVkdWNlUHJvbWlzZXMobW9kaWZpZXJzLCBkZXNjcmlwdGlvbik7IH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJzZXREZXNjcmlwdGlvblwiLCBlLCBcIlRoZSBtb2RpZmllcnMgZGlkIG5vdCByZXNvbHZlIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJwZWVyQ29ubmVjdGlvbi1zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWxlZFwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobW9kaWZpZWREZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInNldERlc2NyaXB0aW9uXCIsIG1vZGlmaWVkRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG1vZGlmaWVkRGVzY3JpcHRpb24pO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIG9yaWdpbmFsIFNEUCBmb3IgdmlkZW8sIGFuZCBlbnN1cmUgdGhhdCB3ZSBoYXZlIHdhbnQgdG8gZG8gYXVkaW8gZmFsbGJhY2tcbiAgICAgICAgICAgIGlmICgoL15tPXZpZGVvLiskL2dtKS50ZXN0KHNlc3Npb25EZXNjcmlwdGlvbikgJiYgIW9wdGlvbnMuZGlzYWJsZUF1ZGlvRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIGF1ZGlvIGZhbGxiYWNrIGFnYWluXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kaXNhYmxlQXVkaW9GYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHZpZGVvIGZpcnN0LCB0aGVuIGRvIHRoZSBvdGhlciBtb2RpZmllcnNcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0RGVzY3JpcHRpb24oc2Vzc2lvbkRlc2NyaXB0aW9uLCBvcHRpb25zLCBbTW9kaWZpZXJzLnN0cmlwVmlkZW9dLmNvbmNhdChtb2RpZmllcnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJzZXREZXNjcmlwdGlvblwiLCBlKTtcbiAgICAgICAgICAgIGlmIChlcnJvci5lcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicGVlckNvbm5lY3Rpb24tc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycykge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLCBfdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIiwgX3RoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVtb3RlU3RyZWFtcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJjb25maXJtZWRcIiwgX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgRFRNRiB2aWEgUlRQIChSRkMgNDczMylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG9uZXMgQSBzdHJpbmcgY29udGFpbmluZyBEVE1GIGRpZ2l0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgdG8gYmUgdXNlZCBieSBzZW5kRHRtZlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIERUTUYgc2VuZCBpcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5zZW5kRHRtZiA9IGZ1bmN0aW9uICh0b25lcywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoIXRoaXMuZHRtZlNlbmRlciAmJiB0aGlzLmhhc0Jyb3dzZXJHZXRTZW5kZXJTdXBwb3J0KCkpIHtcbiAgICAgICAgICAgIHZhciBzZW5kZXJzID0gdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCk7XG4gICAgICAgICAgICBpZiAoc2VuZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kdG1mU2VuZGVyID0gc2VuZGVyc1swXS5kdG1mO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kdG1mU2VuZGVyICYmIHRoaXMuaGFzQnJvd3NlclRyYWNrU3VwcG9ydCgpKSB7XG4gICAgICAgICAgICB2YXIgc3RyZWFtcyA9IHRoaXMucGVlckNvbm5lY3Rpb24uZ2V0TG9jYWxTdHJlYW1zKCk7XG4gICAgICAgICAgICBpZiAoc3RyZWFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tzID0gc3RyZWFtc1swXS5nZXRBdWRpb1RyYWNrcygpO1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb1RyYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHRtZlNlbmRlciA9IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRFRNRlNlbmRlcihhdWRpb1RyYWNrc1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kdG1mU2VuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZHRtZlNlbmRlci5pbnNlcnREVE1GKHRvbmVzLCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmludGVyVG9uZUdhcCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IFwiSW52YWxpZFN0YXRlRXJyb3JcIiB8fCBlLnR5cGUgPT09IFwiSW52YWxpZENoYXJhY3RlckVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkRUTUYgc2VudCB2aWEgUlRQOiBcIiArIHRvbmVzLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlyZWN0aW9uIG9mIHRoZSBzZXNzaW9uIGRlc2NyaXB0aW9uXG4gICAgICogQHJldHVybnMge1N0cmluZ30gZGlyZWN0aW9uIG9mIHRoZSBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7IH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0TWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICB9O1xuICAgIC8vIEludGVybmFsIGZ1bmN0aW9uc1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU9mZmVyT3JBbnN3ZXIgPSBmdW5jdGlvbiAoUlRDT2ZmZXJPcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKFJUQ09mZmVyT3B0aW9ucyA9PT0gdm9pZCAwKSB7IFJUQ09mZmVyT3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IHRoaXMuaGFzT2ZmZXIoXCJyZW1vdGVcIikgPyBcImNyZWF0ZUFuc3dlclwiIDogXCJjcmVhdGVPZmZlclwiO1xuICAgICAgICB2YXIgcGMgPSB0aGlzLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2cobWV0aG9kTmFtZSk7XG4gICAgICAgIHZhciBtZXRob2QgPSB0aGlzLmhhc09mZmVyKFwicmVtb3RlXCIpID8gcGMuY3JlYXRlQW5zd2VyIDogcGMuY3JlYXRlT2ZmZXI7XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkocGMsIFJUQ09mZmVyT3B0aW9ucykuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJjcmVhdGVPZmZlck9yQW5zd2VyXCIsIGUsIFwicGVlckNvbm5lY3Rpb24tXCIgKyBtZXRob2ROYW1lICsgXCJGYWlsZWRcIik7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicGVlckNvbm5lY3Rpb24tXCIgKyBtZXRob2ROYW1lICsgXCJGYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNkcCkge1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzXzEuVXRpbHMucmVkdWNlUHJvbWlzZXMobW9kaWZpZXJzLCBfdGhpcy5jcmVhdGVSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KHNkcCkpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzZHApIHtcbiAgICAgICAgICAgIF90aGlzLnJlc2V0SWNlR2F0aGVyaW5nQ29tcGxldGUoKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJTZXR0aW5nIGxvY2FsIHNkcC5cIik7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwic2RwIGlzIFwiICsgc2RwLnNkcCB8fCBcInVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKHNkcCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKFwiY3JlYXRlT2ZmZXJPckFuc3dlclwiLCBlLCBcInBlZXJDb25uZWN0aW9uLVNldExvY2FsRGVzY3JpcHRpb25GYWlsZWRcIik7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicGVlckNvbm5lY3Rpb24tU2V0TG9jYWxEZXNjcmlwdGlvbkZhaWxlZFwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy53YWl0Rm9ySWNlR2F0aGVyaW5nQ29tcGxldGUoKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJNaXNzaW5nIGxvY2FsIGRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxvY2FsRGVzY3JpcHRpb24gPSBfdGhpcy5jcmVhdGVSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KF90aGlzLnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzXzEuVXRpbHMucmVkdWNlUHJvbWlzZXMobW9kaWZpZXJzLCBsb2NhbERlc2NyaXB0aW9uKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobG9jYWxEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgX3RoaXMuc2V0RGlyZWN0aW9uKGxvY2FsRGVzY3JpcHRpb24uc2RwIHx8IFwiXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsRGVzY3JpcHRpb247XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKFwiY3JlYXRlT2ZmZXJPckFuc3dlclwiLCBlKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIENyZWF0ZXMgYW4gUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCBmcm9tIGFuIFJUQ1Nlc3Npb25EZXNjcmlwdGlvblxuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVJUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXQgPSBmdW5jdGlvbiAoUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBSVENTZXNzaW9uRGVzY3JpcHRpb24udHlwZSxcbiAgICAgICAgICAgIHNkcDogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLnNkcFxuICAgICAgICB9O1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuYWRkRGVmYXVsdEljZUNoZWNraW5nVGltZW91dCA9IGZ1bmN0aW9uIChwZWVyQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHBlZXJDb25uZWN0aW9uT3B0aW9ucy5pY2VDaGVja2luZ1RpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25PcHRpb25zLmljZUNoZWNraW5nVGltZW91dCA9IDUwMDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBlZXJDb25uZWN0aW9uT3B0aW9ucztcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmFkZERlZmF1bHRJY2VTZXJ2ZXJzID0gZnVuY3Rpb24gKHJ0Y0NvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKCFydGNDb25maWd1cmF0aW9uLmljZVNlcnZlcnMpIHtcbiAgICAgICAgICAgIHJ0Y0NvbmZpZ3VyYXRpb24uaWNlU2VydmVycyA9IFt7IHVybHM6IFwic3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMlwiIH1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydGNDb25maWd1cmF0aW9uO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHMgPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRDb25zdHJhaW50cyA9IHsgYXVkaW86IHRydWUsIHZpZGVvOiAhdGhpcy5vcHRpb25zLmFsd2F5c0FjcXVpcmVNZWRpYUZpcnN0IH07XG4gICAgICAgIGNvbnN0cmFpbnRzID0gY29uc3RyYWludHMgfHwgZGVmYXVsdENvbnN0cmFpbnRzO1xuICAgICAgICAvLyBFbXB0eSBvYmplY3QgY2hlY2tcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbnN0cmFpbnRzKS5sZW5ndGggPT09IDAgJiYgY29uc3RyYWludHMuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRDb25zdHJhaW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uc3RyYWludHM7XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5oYXNCcm93c2VyVHJhY2tTdXBwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKTtcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhhc0Jyb3dzZXJHZXRTZW5kZXJTdXBwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMpO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuaW5pdFBlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgb3B0aW9ucyA9IHRoaXMuYWRkRGVmYXVsdEljZUNoZWNraW5nVGltZW91dChvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5ydGNDb25maWd1cmF0aW9uID0gb3B0aW9ucy5ydGNDb25maWd1cmF0aW9uIHx8IHt9O1xuICAgICAgICBvcHRpb25zLnJ0Y0NvbmZpZ3VyYXRpb24gPSB0aGlzLmFkZERlZmF1bHRJY2VTZXJ2ZXJzKG9wdGlvbnMucnRjQ29uZmlndXJhdGlvbik7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImluaXRQZWVyQ29ubmVjdGlvblwiKTtcbiAgICAgICAgaWYgKHRoaXMucGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkFscmVhZHkgaGF2ZSBhIHBlZXIgY29ubmVjdGlvbiBmb3IgdGhpcyBzZXNzaW9uLiBUZWFyaW5nIGRvd24uXCIpO1xuICAgICAgICAgICAgdGhpcy5yZXNldEljZUdhdGhlcmluZ0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihvcHRpb25zLnJ0Y0NvbmZpZ3VyYXRpb24pO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJOZXcgcGVlciBjb25uZWN0aW9uIGNyZWF0ZWRcIik7XG4gICAgICAgIGlmIChcIm9udHJhY2tcIiBpbiB0aGlzLnBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJ0cmFjayBhZGRlZFwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vYnNlcnZlci50cmFja0FkZGVkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFkZFRyYWNrXCIsIGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVXNpbmcgb25hZGRzdHJlYW0gd2hpY2ggaXMgZGVwcmVjYXRlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25hZGRzdHJlYW0gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJzdHJlYW0gYWRkZWRcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFkZFN0cmVhbVwiLCBlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiaWNlQ2FuZGlkYXRlXCIsIGUpO1xuICAgICAgICAgICAgaWYgKGUuY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIklDRSBjYW5kaWRhdGUgcmVjZWl2ZWQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgKGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSA9PT0gbnVsbCA/IG51bGwgOiBlLmNhbmRpZGF0ZS5jYW5kaWRhdGUudHJpbSgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlLmNhbmRpZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGluZGljYXRlcyB0aGUgZW5kIG9mIGNhbmRpZGF0ZSBnYXRoZXJpbmdcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiSUNFIGNhbmRpZGF0ZSBnYXRoZXJpbmcgY29tcGxldGVcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlckljZUdhdGhlcmluZ0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJSVENJY2VHYXRoZXJpbmdTdGF0ZSBjaGFuZ2VkOiBcIiArIF90aGlzLnBlZXJDb25uZWN0aW9uLmljZUdhdGhlcmluZ1N0YXRlKTtcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMucGVlckNvbm5lY3Rpb24uaWNlR2F0aGVyaW5nU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ2F0aGVyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJpY2VHYXRoZXJpbmdcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmljZUdhdGhlcmluZ1RpbWVyICYmIG9wdGlvbnMuaWNlQ2hlY2tpbmdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pY2VHYXRoZXJpbmdUaW1lb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pY2VHYXRoZXJpbmdUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJSVENJY2VDaGVja2luZyBUaW1lb3V0IFRyaWdnZXJlZCBhZnRlciBcIiArIG9wdGlvbnMuaWNlQ2hlY2tpbmdUaW1lb3V0ICsgXCIgbWlsbGlzZWNvbmRzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmljZUdhdGhlcmluZ1RpbWVvdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJJY2VHYXRoZXJpbmdDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pY2VDaGVja2luZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VySWNlR2F0aGVyaW5nQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVFdmVudDtcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5ld1wiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2luZ1wiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uQ2hlY2tpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uQ29ubmVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVFdmVudCA9IFwiaWNlQ29ubmVjdGlvbkNvbXBsZXRlZFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmFpbGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRXZlbnQgPSBcImljZUNvbm5lY3Rpb25GYWlsZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uRGlzY29ubmVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjbG9zZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVFdmVudCA9IFwiaWNlQ29ubmVjdGlvbkNsb3NlZFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIlVua25vd24gaWNlQ29ubmVjdGlvbiBzdGF0ZTogXCIgKyBfdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiSUNFIENvbm5lY3Rpb24gU3RhdGUgY2hhbmdlZCB0byBcIiArIHN0YXRlRXZlbnQpO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChzdGF0ZUV2ZW50LCBfdGhpcyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5hY3F1aXJlID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERlZmF1bHQgYXVkaW8gJiB2aWRlbyB0byB0cnVlXG4gICAgICAgIGNvbnN0cmFpbnRzID0gdGhpcy5jaGVja0FuZERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50cyk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogTWFrZSB0aGUgY2FsbCBhc3luY2hyb25vdXMsIHNvIHRoYXQgSUNDcyBoYXZlIGEgY2hhbmNlXG4gICAgICAgICAgICAgKiB0byBkZWZpbmUgY2FsbGJhY2tzIHRvIGB1c2VyTWVkaWFSZXF1ZXN0YFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiYWNxdWlyaW5nIGxvY2FsIG1lZGlhXCIpO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInVzZXJNZWRpYVJlcXVlc3RcIiwgY29uc3RyYWludHMpO1xuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnRzLmF1ZGlvIHx8IGNvbnN0cmFpbnRzLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0TWVkaWFTdHJlYW0oY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKHN0cmVhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub2JzZXJ2ZXIudHJhY2tBZGRlZCgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwidXNlck1lZGlhXCIsIHN0cmVhbXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0cmVhbXMpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJ1c2VyTWVkaWFGYWlsZWRcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIExvY2FsIHN0cmVhbXMgd2VyZSBleHBsaWNpdGx5IGV4Y2x1ZGVkLlxuICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcImFjcXVpcmVcIiwgZSwgXCJ1bmFibGUgdG8gYWNxdWlyZSBzdHJlYW1zXCIpO1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzdHJlYW1zKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiYWNxdWlyZWQgbG9jYWwgbWVkaWEgc3RyZWFtc1wiKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBvbGQgdHJhY2tzXG4gICAgICAgICAgICBpZiAoX3RoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2spIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAoc2VuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKHNlbmRlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyZWFtcztcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJhY3F1aXJlXCIsIGUsIFwiZXJyb3IgcmVtb3Zpbmcgc3RyZWFtc1wiKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChlcnJvci5lcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3RyZWFtcykge1xuICAgICAgICAgICAgdmFyIHN0cmVhbXNBcnIgPSBbXS5jb25jYXQoc3RyZWFtcyk7XG4gICAgICAgICAgICBzdHJlYW1zQXJyLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKHRyYWNrLCBzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENocm9tZSA1OSBkb2VzIG5vdCBzdXBwb3J0IGFkZFRyYWNrXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShzdHJlYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcImFjcXVpcmVcIiwgZSwgXCJlcnJvciBhZGRpbmcgc3RyZWFtXCIpO1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhhc09mZmVyID0gZnVuY3Rpb24gKHdoZXJlKSB7XG4gICAgICAgIHZhciBvZmZlclN0YXRlID0gXCJoYXZlLVwiICsgd2hlcmUgKyBcIi1vZmZlclwiO1xuICAgICAgICByZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSA9PT0gb2ZmZXJTdGF0ZTtcbiAgICB9O1xuICAgIC8vIElDRSBnYXRoZXJpbmcgc3RhdGUgaGFuZGxpbmdcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5pc0ljZUdhdGhlcmluZ0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VHYXRoZXJpbmdTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8IHRoaXMuaWNlR2F0aGVyaW5nVGltZW91dDtcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLnJlc2V0SWNlR2F0aGVyaW5nQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaWNlR2F0aGVyaW5nVGltZW91dCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJyZXNldEljZUdhdGhlcmluZ0NvbXBsZXRlXCIpO1xuICAgICAgICBpZiAodGhpcy5pY2VHYXRoZXJpbmdUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWNlR2F0aGVyaW5nVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5pY2VHYXRoZXJpbmdUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZCkge1xuICAgICAgICAgICAgdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICAgIHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldERpcmVjdGlvbiA9IGZ1bmN0aW9uIChzZHApIHtcbiAgICAgICAgdmFyIG1hdGNoID0gc2RwLm1hdGNoKC9hPShzZW5kcmVjdnxzZW5kb25seXxyZWN2b25seXxpbmFjdGl2ZSkvKTtcbiAgICAgICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuQy5ESVJFQ1RJT04uTlVMTDtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlyZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBtYXRjaFsxXTtcbiAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5TRU5EUkVDVjpcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5TRU5ET05MWTpcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5SRUNWT05MWTpcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5JTkFDVElWRTpcbiAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLkMuRElSRUNUSU9OLk5VTEw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlci5kaXJlY3Rpb25DaGFuZ2VkKCk7XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS50cmlnZ2VySWNlR2F0aGVyaW5nQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSWNlR2F0aGVyaW5nQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwiaWNlR2F0aGVyaW5nQ29tcGxldGVcIiwgdGhpcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pY2VHYXRoZXJpbmdUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmljZUdhdGhlcmluZ1RpbWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmljZUdhdGhlcmluZ1RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS53YWl0Rm9ySWNlR2F0aGVyaW5nQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIndhaXRGb3JJY2VHYXRoZXJpbmdDb21wbGV0ZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuaXNJY2VHYXRoZXJpbmdDb21wbGV0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJQ0UgaXMgYWxyZWFkeSBjb21wbGV0ZS4gUmV0dXJuIHJlc29sdmVkLlwiKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZCkge1xuICAgICAgICAgICAgdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZCA9IFV0aWxzXzEuVXRpbHMuZGVmZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJQ0UgaXMgbm90IGNvbXBsZXRlLiBSZXR1cm5pbmcgcHJvbWlzZVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQgPyB0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkLnByb21pc2UgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4uL2NvcmVcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL21lc3NhZ2VzL3V0aWxzXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4uL2NvcmUvdXNlci1hZ2VudC1jb3JlL2FsbG93ZWQtbWV0aG9kc1wiKTtcbnZhciBieWVfMSA9IHJlcXVpcmUoXCIuL2J5ZVwiKTtcbnZhciBlbWl0dGVyXzEgPSByZXF1aXJlKFwiLi9lbWl0dGVyXCIpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2V4Y2VwdGlvbnNcIik7XG52YXIgaW5mb18xID0gcmVxdWlyZShcIi4vaW5mb1wiKTtcbnZhciBtZXNzYWdlXzEgPSByZXF1aXJlKFwiLi9tZXNzYWdlXCIpO1xudmFyIG5vdGlmaWNhdGlvbl8xID0gcmVxdWlyZShcIi4vbm90aWZpY2F0aW9uXCIpO1xudmFyIHJlZmVycmFsXzEgPSByZXF1aXJlKFwiLi9yZWZlcnJhbFwiKTtcbnZhciBzZXNzaW9uX3N0YXRlXzEgPSByZXF1aXJlKFwiLi9zZXNzaW9uLXN0YXRlXCIpO1xuLyoqXG4gKiBBIHNlc3Npb24gcHJvdmlkZXMgcmVhbCB0aW1lIGNvbW11bmljYXRpb24gYmV0d2VlbiBvbmUgb3IgbW9yZSBwYXJ0aWNpcGFudHMuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSB0cmFuc3BvcnQgYmVoYXZlcyBpbiBhIGRldGVybWluaXN0aWMgbWFubmVyIGFjY29yZGluZyB0byB0aGVcbiAqIHRoZSBzdGF0ZSBkZWZpbmVkIGluIHtAbGluayBTZXNzaW9uU3RhdGV9LlxuICogQHB1YmxpY1xuICovXG52YXIgU2Vzc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gdXNlckFnZW50IC0gVXNlciBhZ2VudC4gU2VlIHtAbGluayBVc2VyQWdlbnR9IGZvciBkZXRhaWxzLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlc3Npb24odXNlckFnZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8qKiBUcnVlIGlmIHRoZXJlIGlzIGEgcmUtSU5WSVRFIHJlcXVlc3Qgb3V0c3RhbmRpbmcuICovXG4gICAgICAgIHRoaXMucGVuZGluZ1JlaW52aXRlID0gZmFsc2U7XG4gICAgICAgIC8qKiBTZXNzaW9uIHN0YXRlLiAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuSW5pdGlhbDtcbiAgICAgICAgLyoqIFNlc3Npb24gc3RhdGUgZW1pdHRlci4gKi9cbiAgICAgICAgdGhpcy5fc3RhdGVFdmVudEVtaXR0ZXIgPSBuZXcgZXZlbnRzXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBvcHRpb25zLmRlbGVnYXRlO1xuICAgICAgICB0aGlzLl91c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3RydWN0b3IuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBcIiArIHRoaXMuaWQgKyBcIiBpbiBzdGF0ZSBcIiArIHRoaXMuX3N0YXRlICsgXCIgaXMgYmVpbmcgZGlzcG9zZWRcIik7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHRoZSB1c2VyIGFnZW50J3Mgc2Vzc2lvbiBjb2xsZWN0aW9uXG4gICAgICAgIGRlbGV0ZSB0aGlzLnVzZXJBZ2VudC5fc2Vzc2lvbnNbdGhpcy5pZF07XG4gICAgICAgIC8vIERpc3Bvc2Ugb2YgZGlhbG9nIG1lZGlhXG4gICAgICAgIGlmICh0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBUaGUgU0RIIG5lZWRzIHRvIHJlbWFpbiBkZWZpbmVkIGFzIGl0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IGlzIGNsb3NlZCBpbiBjYXNlc1xuICAgICAgICAgICAgLy8gd2hlcmUgYW4gYW5zd2VyL29mZmVyIGFycml2ZXMgd2hpbGUgdGhlIHNlc3Npb24gaXMgYmVpbmcgdG9ybiBkb3duLiBUaGVyZSBhcmUgYSB2YXJpZXR5XG4gICAgICAgICAgICAvLyBvZiBjaXJjdW1zdGFuY2VzIHdoZXJlIHRoaXMgY2FuIGhhcHBlbiAtIHNlbmRpbmcgYSBCWUUgZHVyaW5nIGEgcmUtSU5WSVRFIGZvciBleGFtcGxlLlxuICAgICAgICAgICAgLy8gVGhlIGNvZGUgaXMgY3VycmVudGx5IHdyaXR0ZW4gc3VjaCB0aGF0IGl0IGxhemlseSBtYWtlcyBhIG5ldyBTREggd2hlbiBpdCBuZWVkcyBvbmVcbiAgICAgICAgICAgIC8vIGFuZCBvbmUgaXMgbm90IHlldCBkZWZpbmVkLiBUaHVzIGlmIHdlIHVuZGVmaW5lZCBpdCBoZXJlLCBpdCB3aWxsIGN1cnJlbnRseSBtYWtlIGFcbiAgICAgICAgICAgIC8vIG5ldyBvbmUgd2hpY2ggaXMgb3V0IG9mIHN5bmMgYW5kIHRoZW4gbmV2ZXIgZ2V0cyBjbGVhbmVkIHVwLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBkb3duc2lkZSBvZiBsZWF2aW5nIGl0IGRlZmluZWQgYXJlIHRoYXQgY2FsbHMgdGhpcyBjbG9zZWQgU0RIIHdpbGwgY29udGludWUgdG8gYmVcbiAgICAgICAgICAgIC8vIG1hZGUgKHRoaW5rIHNldERlc2NyaXB0aW9uKSBhbmQgdGhvc2Ugc2hvdWxkL3dpbGwgZmFpbC4gVGhlc2UgZmFpbHVyZXMgYXJlIGhhbmRsZWQsIGJ1dFxuICAgICAgICAgICAgLy8gaXQgd291bGQgYmUgbmljZSB0byBoYXZlIGl0IGFsbCBjb2RlZCB1cCBpbiBhIHdheSB3aGVyZSBoYXZpbmcgYW4gdW5kZWZpbmVkIFNESCB3aGVyZVxuICAgICAgICAgICAgLy8gb25lIGlzIGV4cGVjdGVkIHRocm93cyBhbiBlcnJvci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIHRoZSBJbnZpdGVyL0ludml0YXRpb24gc3ViIGNsYXNzIGRpc3Bvc2UgbWV0aG9kIGhhbmRsZXMgdGhpcyBjYXNlXG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoaW5nOlxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyB0aGUgSW52aXRlci9JbnZpdGF0aW9uIHN1YiBjbGFzcyBkaXNwb3NlIG1ldGhvZCBoYW5kbGVzIHRoaXMgY2FzZVxuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ieWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKCk7IH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRpbmc6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIG5vdGhpbmcgdG8gYmUgZG9uZVxuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIG5vdGhpbmcgdG8gYmUgZG9uZVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHN0YXRlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwiYXNzZXJ0ZWRJZGVudGl0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXNzZXJ0ZWQgaWRlbnRpdHkgb2YgdGhlIHJlbW90ZSB1c2VyLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXNzZXJ0ZWRJZGVudGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlc3Npb24ucHJvdG90eXBlLCBcImRpYWxvZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29uZmlybWVkIHNlc3Npb24gZGlhbG9nLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlhbG9nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwiaWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXNzaW9uLnByb3RvdHlwZSwgXCJyZXBsYWNlZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2Vzc2lvbiBiZWluZyByZXBsYWNlIGJ5IHRoaXMgb25lLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVwbGFjZWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXNzaW9uLnByb3RvdHlwZSwgXCJzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlci5cbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgYHRoaXNgIGlzIGFuIGluc3RhbmNlIG9mIGBJbnZpdGF0aW9uYCxcbiAgICAgICAgICogYHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJgIHdpbGwgYmUgZGVmaW5lZCB3aGVuIHRoZSBzZXNzaW9uIHN0YXRlIGNoYW5nZXMgdG8gXCJlc3RhYmxpc2hlZFwiLlxuICAgICAgICAgKiBJZiBgdGhpc2AgaXMgYW4gaW5zdGFuY2Ugb2YgYEludml0ZXJgIGFuZCBhbiBvZmZlciB3YXMgc2VudCBpbiB0aGUgSU5WSVRFLFxuICAgICAgICAgKiBgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcmAgd2lsbCBiZSBkZWZpbmVkIHdoZW4gdGhlIHNlc3Npb24gc3RhdGUgY2hhbmdlcyB0byBcImVzdGFibGlzaGluZ1wiLlxuICAgICAgICAgKiBJZiBgdGhpc2AgaXMgYW4gaW5zdGFuY2Ugb2YgYEludml0ZXJgIGFuZCBhbiBvZmZlciB3YXMgbm90IHNlbnQgaW4gdGhlIElOVklURSxcbiAgICAgICAgICogYHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJgIHdpbGwgYmUgZGVmaW5lZCB3aGVuIHRoZSBzZXNzaW9uIHN0YXRlIGNoYW5nZXMgdG8gXCJlc3RhYmxpc2hlZFwiLlxuICAgICAgICAgKiBPdGhlcndpc2UgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwic2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGZhY3RvcnkuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJBZ2VudC5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Vzc2lvbiBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwic3RhdGVDaGFuZ2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Vzc2lvbiBzdGF0ZSBjaGFuZ2UgZW1pdHRlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGVtaXR0ZXJfMS5fbWFrZUVtaXR0ZXIodGhpcy5fc3RhdGVFdmVudEVtaXR0ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwidXNlckFnZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1c2VyIGFnZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlckFnZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBFbmQgdGhlIHtAbGluayBTZXNzaW9ufS4gU2VuZHMgYSBCWUUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC4gU2VlIHtAbGluayBTZXNzaW9uQnllT3B0aW9uc30gZm9yIGRldGFpbHMuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuYnllID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIlNlc3Npb24uYnllKCkgbWF5IG9ubHkgYmUgY2FsbGVkIGlmIGVzdGFibGlzaGVkIHNlc3Npb24uXCI7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbmNlbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSG93ZXZlciBJbnZpdGVyLmludml0ZSgpIGhhcyBub3QgeWV0IGJlZW4gY2FsbGVkLlwiO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIFBlcmhhcHMgeW91IHNob3VsZCBoYXZlIGNhbGxlZCBJbnZpdGVyLmNhbmNlbCgpP1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5yZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEhvd2V2ZXIgSW52aXRhdGlvbi5hY2NlcHQoKSBoYXMgbm90IHlldCBiZWVuIGNhbGxlZC5cIjtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIiBQZXJoYXBzIHlvdSBzaG91bGQgaGF2ZSBjYWxsZWQgSW52aXRhdGlvbi5yZWplY3QoKT9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoaW5nOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jYW5jZWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEhvd2V2ZXIgYSBkaWFsb2cgZG9lcyBub3QgeWV0IGV4aXN0LlwiO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIFBlcmhhcHMgeW91IHNob3VsZCBoYXZlIGNhbGxlZCBJbnZpdGVyLmNhbmNlbCgpP1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5yZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEhvd2V2ZXIgSW52aXRhdGlvbi5hY2NlcHQoKSBoYXMgbm90IHlldCBiZWVuIGNhbGxlZCAob3Igbm90IHlldCByZXNvbHZlZCkuXCI7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgUGVyaGFwcyB5b3Ugc2hvdWxkIGhhdmUgY2FsbGVkIEludml0YXRpb24ucmVqZWN0KCk/XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkOlxuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGVsZWdhdGUgPSBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB0aGlzLmNvcHlSZXF1ZXN0T3B0aW9ucyhvcHRpb25zLnJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYnllKHJlcXVlc3REZWxlZ2F0ZSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0aW5nOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSG93ZXZlciB0aGlzIHNlc3Npb24gaXMgYWxyZWFkeSB0ZXJtaW5hdGluZy5cIjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY2FuY2VsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIiBQZXJoYXBzIHlvdSBoYXZlIGFscmVhZHkgY2FsbGVkIEludml0ZXIuY2FuY2VsKCk/XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLnJlamVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgUGVyaGFwcyB5b3UgaGF2ZSBhbHJlYWR5IGNhbGxlZCBTZXNzaW9uLmJ5ZSgpP1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSG93ZXZlciB0aGlzIHNlc3Npb24gaXMgYWxyZWFkeSB0ZXJtaW5hdGVkLlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHN0YXRlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBzZXNzaW9uIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2hhcmUge0BsaW5rIEluZm99IHdpdGggcGVlci4gU2VuZHMgYW4gSU5GTy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBTZWUge0BsaW5rIFNlc3Npb25JbmZvT3B0aW9uc30gZm9yIGRldGFpbHMuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIGd1YXJkIHNlc3Npb24gc3RhdGVcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTZXNzaW9uLmluZm8oKSBtYXkgb25seSBiZSBjYWxsZWQgaWYgZXN0YWJsaXNoZWQgc2Vzc2lvbi5cIjtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgc2Vzc2lvbiBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdERlbGVnYXRlID0gb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGU7XG4gICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuY29weVJlcXVlc3RPcHRpb25zKG9wdGlvbnMucmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5mbyhyZXF1ZXN0RGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmVnb3RpYXRlIHRoZSBzZXNzaW9uLiBTZW5kcyBhIHJlLUlOVklURS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBTZWUge0BsaW5rIFNlc3Npb25JbnZpdGVPcHRpb25zfSBmb3IgZGV0YWlscy5cbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5pbnZpdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLmludml0ZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIHNlc3Npb24gc3RhdGUgXCIgKyB0aGlzLnN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlaW52aXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IGV4Y2VwdGlvbnNfMS5SZXF1ZXN0UGVuZGluZ0Vycm9yKFwiUmVpbnZpdGUgaW4gcHJvZ3Jlc3MuIFBsZWFzZSB3YWl0IHVudGlsIGNvbXBsZXRlLCB0aGVuIHRyeSBhZ2Fpbi5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZ1JlaW52aXRlID0gdHJ1ZTtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0ge1xuICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIEEgcmUtSU5WSVRFIHRyYW5zYWN0aW9uIGhhcyBhbiBvZmZlci9hbnN3ZXIgW1JGQzMyNjRdIGV4Y2hhbmdlXG4gICAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0LiAgVGhlIFVBQyAoVXNlciBBZ2VudCBDbGllbnQpIGdlbmVyYXRpbmcgYSBnaXZlblxuICAgICAgICAgICAgICAgIC8vIHJlLUlOVklURSBjYW4gYWN0IGFzIHRoZSBvZmZlcmVyIG9yIGFzIHRoZSBhbnN3ZXJlci4gIEEgVUFDIHdpbGxpbmdcbiAgICAgICAgICAgICAgICAvLyB0byBhY3QgYXMgdGhlIG9mZmVyZXIgaW5jbHVkZXMgYW4gb2ZmZXIgaW4gdGhlIHJlLUlOVklURS4gIFRoZSBVQVNcbiAgICAgICAgICAgICAgICAvLyAoVXNlciBBZ2VudCBTZXJ2ZXIpIHRoZW4gcHJvdmlkZXMgYW4gYW5zd2VyIGluIGEgcmVzcG9uc2UgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gcmUtSU5WSVRFLiAgQSBVQUMgd2lsbGluZyB0byBhY3QgYXMgYW5zd2VyZXIgZG9lcyBub3QgaW5jbHVkZSBhblxuICAgICAgICAgICAgICAgIC8vIG9mZmVyIGluIHRoZSByZS1JTlZJVEUuICBUaGUgVUFTIHRoZW4gcHJvdmlkZXMgYW4gb2ZmZXIgaW4gYSByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSByZS1JTlZJVEUgYmVjb21pbmcsIHRodXMsIHRoZSBvZmZlcmVyLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MTQxI3NlY3Rpb24tMVxuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gY29yZV8xLmdldEJvZHkocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlJlY2VpdmVkIDJ4eCByZXNwb25zZSB0byByZS1JTlZJVEUgd2l0aG91dCBhIHNlc3Npb24gZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFja0FuZEJ5ZShyZXNwb25zZSwgNDAwLCBcIk1pc3Npbmcgc2Vzc2lvbiBkZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLndpdGhvdXRTZHApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSU5WSVRFIHdpdGhvdXQgU0RQIC0gc2V0IHJlbW90ZSBvZmZlciBhbmQgc2VuZCBhbiBhbnN3ZXIgaW4gdGhlIEFDS1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogU0RIIG9wdGlvbnMgJiBTREggbW9kaWZpZXJzIG9wdGlvbnMgYXJlIGFwcGxpZWQgc29tZXdoYXQgYW1iaWd1b3VzbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIFRoaXMgYmVoYXZpb3Igd2FzIHBvcnRlZCBmcm9tIGxlZ2FjeSBjb2RlIGFuZCB0aGUgaXNzdWUgcHVudGVkIGRvd24gdGhlIHJvYWQuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbnN3ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM6IG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzOiBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgYW5zd2VyT3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhbnN3ZXJCb2R5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5hY2soeyBib2R5OiBhbnN3ZXJCb2R5IH0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gd2F5IHRvIHJlY292ZXIsIHNvIHRlcm1pbmF0ZSBzZXNzaW9uIGFuZCBtYXJrIGFzIGZhaWxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBoYW5kbGUgb2ZmZXIgaW4gMnh4IHJlc3BvbnNlIHRvIHJlLUlOVklURVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZSA9PT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSBCWUUgc2hvdWxkIG5vdCBiZSBzZW50IGlmIGFscmVhZHkgdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYSBCWUUgbWF5IGJlIHNlbnQvcmVjZWl2ZWQgd2hpbGUgcmUtSU5WSVRFIGlzIG91dHN0YW5kaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKHJlc3BvbnNlLCA0ODgsIFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGVuZGluZ1JlaW52aXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUgJiYgb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUub25BY2NlcHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZS5vbkFjY2VwdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSU5WSVRFIHdpdGggU0RQIC0gc2V0IHJlbW90ZSBhbnN3ZXIgYW5kIHNlbmQgYW4gQUNLXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBTREggb3B0aW9ucyAmIFNESCBtb2RpZmllcnMgb3B0aW9ucyBhcmUgYXBwbGllZCBzb21ld2hhdCBhbWJpZ3VvdXNseVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgVGhpcyBiZWhhdmlvciB3YXMgcG9ydGVkIGZyb20gbGVnYWN5IGNvZGUgYW5kIHRoZSBpc3N1ZSBwdW50ZWQgZG93biB0aGUgcm9hZC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuc3dlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczogX3RoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyczogX3RoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0QW5zd2VyKGJvZHksIGFuc3dlck9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5hY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gaGFuZGxlIGFuc3dlciBpbiAyeHggcmVzcG9uc2UgdG8gcmUtSU5WSVRFXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSBCWUUgc2hvdWxkIG9ubHkgYmUgc2VudCBpZiBzZXNzaW9uIGlzIG5vdCBhbHJlYWR5IHRlcm1pbmF0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYSBCWUUgbWF5IGJlIHNlbnQvcmVjZWl2ZWQgd2hpbGUgcmUtSU5WSVRFIGlzIG91dHN0YW5kaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIEFDSyBuZWVkcyB0byBiZSBzZW50IHJlZ2FyZGxlc3MgYXMgaXQgd2FzIG5vdCBoYW5kbGVkIGJ5IHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKHJlc3BvbnNlLCA0ODgsIFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZSAmJiBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZS5vbkFjY2VwdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdERlbGVnYXRlLm9uQWNjZXB0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlZGlyZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiUmVjZWl2ZWQgYSBub24tMnh4IHJlc3BvbnNlIHRvIHJlLUlOVklURVwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53aXRob3V0U2RwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZSAmJiBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZS5vblJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUub25SZWplY3QocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yb2xsYmFja09mZmVyKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gcm9sbGJhY2sgb2ZmZXIgb24gbm9uLTJ4eCByZXNwb25zZSB0byByZS1JTlZJVEVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBIEJZRSBzaG91bGQgb25seSBiZSBzZW50IGlmIHNlc3Npb24gaXMgbm90IGFscmVhZHkgdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCBhIEJZRSBtYXkgYmUgc2VudC9yZWNlaXZlZCB3aGlsZSByZS1JTlZJVEUgaXMgb3V0c3RhbmRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIEFDSyB3YXMgYWxyZWFkeSBzZW50IGJ5IHRoZSB0cmFuc2FjdGlvbiwgc28ganVzdCBuZWVkIHRvIHNlbmQgQllFLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVhc29uOiBcIiArIF90aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKDUwMCwgXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpYWxvZy5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVxdWVzdERlbGVnYXRlICYmIG9wdGlvbnMucmVxdWVzdERlbGVnYXRlLm9uUmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUub25SZWplY3QocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKHJlcXVlc3RPcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goXCJBbGxvdzogXCIgKyBhbGxvd2VkX21ldGhvZHNfMS5BbGxvd2VkTWV0aG9kcy50b1N0cmluZygpKTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuX2NvbnRhY3QpO1xuICAgICAgICAvLyBKdXN0IHNlbmQgYW4gSU5WSVRFIHdpdGggbm8gc2RwLi4uXG4gICAgICAgIGlmIChvcHRpb25zLndpdGhvdXRTZHApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmRpYWxvZy5pbnZpdGUoZGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGFuIG9mZmVyIGFuZCBzZW5kIGl0IGluIGFuIElOVklURVxuICAgICAgICAvLyBGSVhNRTogU0RIIG9wdGlvbnMgJiBTREggbW9kaWZpZXJzIG9wdGlvbnMgYXJlIGFwcGxpZWQgc29tZXdoYXQgYW1iaWd1b3VzbHlcbiAgICAgICAgLy8gICAgICAgIFRoaXMgYmVoYXZpb3Igd2FzIHBvcnRlZCBmcm9tIGxlZ2FjeSBjb2RlIGFuZCB0aGUgaXNzdWUgcHVudGVkIGRvd24gdGhlIHJvYWQuXG4gICAgICAgIHZhciBvZmZlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczogb3B0aW9ucy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyxcbiAgICAgICAgICAgIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnM6IG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPZmZlcihvZmZlck9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAob2ZmZXJCb2R5KSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuYm9keSA9IG9mZmVyQm9keTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5kaWFsb2cuaW52aXRlKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCByZS1JTlZJVEVcIik7XG4gICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGl2ZXIgYSB7QGxpbmsgTWVzc2FnZX0uIFNlbmRzIGEgTUVTU0FHRS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBTZWUge0BsaW5rIFNlc3Npb25NZXNzYWdlT3B0aW9uc30gZm9yIGRldGFpbHMuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUubWVzc2FnZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIGd1YXJkIHNlc3Npb24gc3RhdGVcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTZXNzaW9uLm1lc3NhZ2UoKSBtYXkgb25seSBiZSBjYWxsZWQgaWYgZXN0YWJsaXNoZWQgc2Vzc2lvbi5cIjtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgc2Vzc2lvbiBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdERlbGVnYXRlID0gb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGU7XG4gICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuY29weVJlcXVlc3RPcHRpb25zKG9wdGlvbnMucmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZShyZXF1ZXN0RGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2ZmZXIgYSB7QGxpbmsgUmVmZXJyYWx9LiBTZW5kIGEgUkVGRVIuXG4gICAgICogQHBhcmFtIHJlZmVyVG8gLSBUaGUgcmVmZXJyYWwgdGFyZ2V0LiBJZiBhIGBTZXNzaW9uYCwgYSBSRUZFUiB3L1JlcGxhY2VzIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC4gU2VlIHtAbGluayBTZXNzaW9uUmVmZXJPcHRpb25zfSBmb3IgZGV0YWlscy5cbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWZlciA9IGZ1bmN0aW9uIChyZWZlclRvLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIGd1YXJkIHNlc3Npb24gc3RhdGVcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTZXNzaW9uLnJlZmVyKCkgbWF5IG9ubHkgYmUgY2FsbGVkIGlmIGVzdGFibGlzaGVkIHNlc3Npb24uXCI7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIHNlc3Npb24gc3RhdGUgXCIgKyB0aGlzLnN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVlc3REZWxlZ2F0ZSA9IG9wdGlvbnMucmVxdWVzdERlbGVnYXRlO1xuICAgICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB0aGlzLmNvcHlSZXF1ZXN0T3B0aW9ucyhvcHRpb25zLnJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID0gcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID9cbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmV4dHJhSGVhZGVycy5jb25jYXQodGhpcy5yZWZlckV4dHJhSGVhZGVycyh0aGlzLnJlZmVyVG9TdHJpbmcocmVmZXJUbykpKSA6XG4gICAgICAgICAgICB0aGlzLnJlZmVyRXh0cmFIZWFkZXJzKHRoaXMucmVmZXJUb1N0cmluZyhyZWZlclRvKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZlcihvcHRpb25zLm9uTm90aWZ5LCByZXF1ZXN0RGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgQllFLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLl9ieWUgPSBmdW5jdGlvbiAoZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVXNpbmcgY29yZSBzZXNzaW9uIGRpYWxvZ1xuICAgICAgICBpZiAoIXRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiU2Vzc2lvbiBkaWFsb2cgdW5kZWZpbmVkLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpYWxvZyA9IHRoaXMuZGlhbG9nO1xuICAgICAgICAvLyBUaGUgY2FsbGVyJ3MgVUEgTUFZIHNlbmQgYSBCWUUgZm9yIGVpdGhlciBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9ncyxcbiAgICAgICAgLy8gYW5kIHRoZSBjYWxsZWUncyBVQSBNQVkgc2VuZCBhIEJZRSBvbiBjb25maXJtZWQgZGlhbG9ncywgYnV0IE1VU1QgTk9UXG4gICAgICAgIC8vIHNlbmQgYSBCWUUgb24gZWFybHkgZGlhbG9ncy4gSG93ZXZlciwgdGhlIGNhbGxlZSdzIFVBIE1VU1QgTk9UIHNlbmQgYVxuICAgICAgICAvLyBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nIHVudGlsIGl0IGhhcyByZWNlaXZlZCBhbiBBQ0sgZm9yIGl0cyAyeHhcbiAgICAgICAgLy8gcmVzcG9uc2Ugb3IgdW50aWwgdGhlIHNlcnZlciB0cmFuc2FjdGlvbiB0aW1lcyBvdXQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTVcbiAgICAgICAgc3dpdGNoIChkaWFsb2cuc2Vzc2lvblN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TZXNzaW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRpYWxvZyBzdGF0ZSBcIiArIGRpYWxvZy5zZXNzaW9uU3RhdGUpO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2Vzc2lvblN0YXRlLkVhcmx5OiAvLyBJbXBsZW1lbnRhdGlvbiBjaG9pY2UgLSBub3Qgc2VuZGluZyBCWUUgZm9yIGVhcmx5IGRpYWxvZ3MuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkaWFsb2cgc3RhdGUgXCIgKyBkaWFsb2cuc2Vzc2lvblN0YXRlKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5BY2tXYWl0OiB7IC8vIFRoaXMgc3RhdGUgb25seSBvY2N1cnMgaWYgd2UgYXJlIHRoZSBjYWxsZWUuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGluZyk7IC8vIFdlJ3JlIHRlcm1pbmF0aW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBBQ0sgc2hvd3MgdXAsIHNheSBCWUUuXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gZGlhbG9nLmJ5ZShkZWxlZ2F0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPciB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIHRpbWVzIG91dCBiZWZvcmUgdGhlIEFDSyBhcnJpdmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgb25BY2tUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBkaWFsb2cuYnllKGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2Vzc2lvblN0YXRlLkNvbmZpcm1lZDoge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gZGlhbG9nLmJ5ZShkZWxlZ2F0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkaWFsb2cgc3RhdGUgXCIgKyBkaWFsb2cuc2Vzc2lvblN0YXRlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHN0YXRlLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBJTkZPLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLl9pbmZvID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFVzaW5nIGNvcmUgc2Vzc2lvbiBkaWFsb2dcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlNlc3Npb24gZGlhbG9nIHVuZGVmaW5lZC5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kaWFsb2cuaW5mbyhkZWxlZ2F0ZSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBNRVNTQUdFLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLl9tZXNzYWdlID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFVzaW5nIGNvcmUgc2Vzc2lvbiBkaWFsb2dcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlNlc3Npb24gZGlhbG9nIHVuZGVmaW5lZC5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kaWFsb2cubWVzc2FnZShkZWxlZ2F0ZSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBSRUZFUi5cbiAgICAgKiBAcGFyYW0gb25Ob3RpZnkgLSBOb3RpZmljYXRpb24gY2FsbGJhY2suXG4gICAgICogQHBhcmFtIGRlbGVnYXRlIC0gUmVxdWVzdCBkZWxlZ2F0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9ucyBidWNrZXQuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuX3JlZmVyID0gZnVuY3Rpb24gKG9uTm90aWZ5LCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICAvLyBVc2luZyBjb3JlIHNlc3Npb24gZGlhbG9nXG4gICAgICAgIGlmICghdGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJTZXNzaW9uIGRpYWxvZyB1bmRlZmluZWQuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBzZXQsIGRlbGl2ZXIgYW55IGluLWRpYWxvZyBOT1RJRlkgcmVxdWVzdHMgaGVyZS4uLlxuICAgICAgICB0aGlzLm9uTm90aWZ5ID0gb25Ob3RpZnk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kaWFsb2cucmVmZXIoZGVsZWdhdGUsIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgQUNLIGFuZCB0aGVuIEJZRS4gVGhlcmUgYXJlIHVucmVjb3ZlcmFibGUgZXJyb3JzIHdoaWNoIGNhbiBvY2N1clxuICAgICAqIHdoaWxlIGhhbmRsaW5nIGRpYWxvZyBmb3JtaW5nIGFuZCBpbi1kaWFsb2cgSU5WSVRFIHJlc3BvbnNlcyBhbmQgd2hlblxuICAgICAqIHRoZXkgb2NjdXIgd2UgQUNLIHRoZSByZXNwb25zZSBhbmQgc2VuZCBhIEJZRS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIEJZRSBpcyBzZW50IGluIHRoZSBkaWFsb2cgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXNwb25zZVxuICAgICAqIHdoaWNoIGlzIG5vdCBuZWNlc3NhcmlseSBgdGhpcy5kaWFsb2dgLiBBbmQsIGFjY29yZGluZ2x5LCB0aGVcbiAgICAgKiBzZXNzaW9uIHN0YXRlIGlzIG5vdCB0cmFuc2l0aW9uZWQgdG8gdGVybWluYXRlZCBhbmQgc2Vzc2lvbiBpcyBub3QgY2xvc2VkLlxuICAgICAqIEBwYXJhbSBpbnZpdGVSZXNwb25zZSAtIFRoZSByZXNwb25zZSBjYXVzaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0gc3RhdHVzQ29kZSAtIFN0YXR1cyBjb2RlIGZvciBoZSByZWFzb24gcGhyYXNlLlxuICAgICAqIEBwYXJhbSByZWFzb25QaHJhc2UgLSBSZWFzb24gcGhyYXNlIGZvciB0aGUgQllFLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmFja0FuZEJ5ZSA9IGZ1bmN0aW9uIChyZXNwb25zZSwgc3RhdHVzQ29kZSwgcmVhc29uUGhyYXNlKSB7XG4gICAgICAgIHJlc3BvbnNlLmFjaygpO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIGlmIChzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlYXNvbjogXCIgKyB0aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzaW5nIHRoZSBkaWFsb2cgc2Vzc2lvbiBhc3NvY2lhdGUgd2l0aCB0aGUgcmVzcG9uc2UgKHdoaWNoIG1pZ2h0IG5vdCBiZSB0aGlzLmRpYWxvZylcbiAgICAgICAgcmVzcG9uc2Uuc2Vzc2lvbi5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluIGRpYWxvZyBBQ0sgcmVxdWVzdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkFja1JlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uQWNrUmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQgJiYgdGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGluZykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJBQ0sgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpYWxvZyA9IHRoaXMuZGlhbG9nO1xuICAgICAgICBpZiAoIWRpYWxvZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChkaWFsb2cuc2lnbmFsaW5nU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6IHtcbiAgICAgICAgICAgICAgICAvLyBTdGF0ZSBzaG91bGQgbmV2ZXIgYmUgcmVhY2hlZCBhcyBmaXJzdCByZWxpYWJsZSByZXNwb25zZSBtdXN0IGhhdmUgYW5zd2VyL29mZmVyLlxuICAgICAgICAgICAgICAgIC8vIFNvIHdlIG11c3QgaGF2ZSBuZXZlciBoYXMgc2VudCBhbiBvZmZlci5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkludmFsaWQgc2lnbmFsaW5nIHN0YXRlIFwiICsgZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSBbXCJSZWFzb246IFwiICsgdGhpcy5nZXRSZWFzb25IZWFkZXJWYWx1ZSg0ODgsIFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCIpXTtcbiAgICAgICAgICAgICAgICBkaWFsb2cuYnllKHVuZGVmaW5lZCwgeyBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZToge1xuICAgICAgICAgICAgICAgIC8vIFN0YXRlIHdlIHNob3VsZCBiZSBpbi5cbiAgICAgICAgICAgICAgICAvLyBFaXRoZXIgdGhlIEFDSyBoYXMgdGhlIGFuc3dlciB0aGF0IGdvdCB1cyBoZXJlLCBvciB3ZSB3ZXJlIGluIHRoaXMgc3RhdGUgcHJpb3IgdG8gdGhlIEFDSy5cbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGNvcmVfMS5nZXRCb2R5KHJlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIEFDSyBkb2Vzbid0IGhhdmUgYW4gYW5zd2VyLCBub3RoaW5nIHRvIGJlIGRvbmUuXG4gICAgICAgICAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJvZHkuY29udGVudERpc3Bvc2l0aW9uID09PSBcInJlbmRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJvZHkgPSBib2R5LmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcnR5cGUgPSBib2R5LmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChib2R5LmNvbnRlbnREaXNwb3NpdGlvbiAhPT0gXCJzZXNzaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZWNlaXZlZCBhbnN3ZXIgaW4gQUNLLlxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczogdGhpcy5fc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnM6IHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QW5zd2VyKGJvZHksIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW1wiUmVhc29uOiBcIiArIF90aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKDQ4OCwgXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIildO1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2cuYnllKHVuZGVmaW5lZCwgeyBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZUxvY2FsT2ZmZXI6IHtcbiAgICAgICAgICAgICAgICAvLyBTdGF0ZSBzaG91bGQgbmV2ZXIgYmUgcmVhY2hlZCBhcyBsb2NhbCBvZmZlciB3b3VsZCBiZSBhbnN3ZXJlZCBieSB0aGlzIEFDSy5cbiAgICAgICAgICAgICAgICAvLyBTbyB3ZSBtdXN0IGhhdmUgcmVjZWl2ZWQgYW4gQUNLIHdpdGhvdXQgYW4gYW5zd2VyLlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyBkaWFsb2cuc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtcIlJlYXNvbjogXCIgKyB0aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKDQ4OCwgXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIildO1xuICAgICAgICAgICAgICAgIGRpYWxvZy5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyOiB7XG4gICAgICAgICAgICAgICAgLy8gU3RhdGUgc2hvdWxkIG5ldmVyIGJlIHJlYWNoZWQgYXMgcmVtb3RlIG9mZmVyIHdvdWxkIGJlIGFuc3dlcmVkIGluIGZpcnN0IHJlbGlhYmxlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vIFNvIHdlIG11c3QgaGF2ZSBuZXZlciBoYXMgc2VudCBhbiBhbnN3ZXIuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIGRpYWxvZy5zaWduYWxpbmdTdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW1wiUmVhc29uOiBcIiArIHRoaXMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoNDg4LCBcIkJhZCBNZWRpYSBEZXNjcmlwdGlvblwiKV07XG4gICAgICAgICAgICAgICAgZGlhbG9nLmJ5ZSh1bmRlZmluZWQsIHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyBkaWFsb2cuc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmFsaW5nIHN0YXRlIFwiICsgZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIEJZRSByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uQnllUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlNlc3Npb24ub25CeWVSZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJCWUUgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbkJ5ZSkge1xuICAgICAgICAgICAgdmFyIGJ5ZSA9IG5ldyBieWVfMS5CeWUocmVxdWVzdCk7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uQnllKGJ5ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIElORk8gcmVxdWVzdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkluZm9SZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbi5vbkluZm9SZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJJTkZPIHJlY2VpdmVkIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLCBkcm9wcGluZyByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25JbmZvKSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9IG5ldyBpbmZvXzEuSW5mbyhyZXF1ZXN0KTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25JbmZvKGluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFdlIHNob3VsZCByZWplY3QgcmVxdWVzdC4uLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIElmIGEgVUEgcmVjZWl2ZXMgYW4gSU5GTyByZXF1ZXN0IGFzc29jaWF0ZWQgd2l0aCBhbiBJbmZvIFBhY2thZ2UgdGhhdFxuICAgICAgICAgICAgLy8gdGhlIFVBIGhhcyBub3QgaW5kaWNhdGVkIHdpbGxpbmduZXNzIHRvIHJlY2VpdmUsIHRoZSBVQSBNVVNUIHNlbmQgYVxuICAgICAgICAgICAgLy8gNDY5IChCYWQgSW5mbyBQYWNrYWdlKSByZXNwb25zZSAoc2VlIFNlY3Rpb24gMTEuNiksIHdoaWNoIGNvbnRhaW5zIGFcbiAgICAgICAgICAgIC8vIFJlY3YtSW5mbyBoZWFkZXIgZmllbGQgd2l0aCBJbmZvIFBhY2thZ2VzIGZvciB3aGljaCB0aGUgVUEgaXMgd2lsbGluZ1xuICAgICAgICAgICAgLy8gdG8gcmVjZWl2ZSBJTkZPIHJlcXVlc3RzLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwODYjc2VjdGlvbi00LjIuMlxuICAgICAgICAgICAgcmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluIGRpYWxvZyBJTlZJVEUgcmVxdWVzdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkludml0ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uSW52aXRlUmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiSU5WSVRFIHJlY2VpdmVkIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLCBkcm9wcGluZyByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSBjb3JlIHRyYWNrIGFuZCBzZXQgdGhlIENvbnRhY3QgaGVhZGVyLFxuICAgICAgICAvLyBidXQgY3VycmVudGx5IHRoZSBzZXNzaW9uIHdoaWNoIGlzIHNldHRpbmcgaXQgaXMgaG9sZGluZyBvbnRvIGl0LlxuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW1wiQ29udGFjdDogXCIgKyB0aGlzLl9jb250YWN0XTtcbiAgICAgICAgLy8gSGFuZGxlIFAtQXNzZXJ0ZWQtSWRlbnRpdHlcbiAgICAgICAgaWYgKHJlcXVlc3QubWVzc2FnZS5oYXNIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKSB7XG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gcmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIlAtQXNzZXJ0ZWQtSWRlbnRpdHlcIik7XG4gICAgICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhlYWRlciB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXNzZXJ0ZWRJZGVudGl0eSA9IGNvcmVfMS5HcmFtbWFyLm5hbWVBZGRySGVhZGVyUGFyc2UoaGVhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGSVhNRTogU0RIIG9wdGlvbnMgJiBTREggbW9kaWZpZXJzIG9wdGlvbnMgYXJlIGFwcGxpZWQgc29tZXdoYXQgYW1iaWd1b3VzbHlcbiAgICAgICAgLy8gICAgICAgIFRoaXMgYmVoYXZpb3Igd2FzIHBvcnRlZCBmcm9tIGxlZ2FjeSBjb2RlIGFuZCB0aGUgaXNzdWUgcHVudGVkIGRvd24gdGhlIHJvYWQuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM6IHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLFxuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyczogdGhpcy5fc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyc1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlckluRGlhbG9nKG9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICAgICAgdmFyIG91dGdvaW5nUmVzcG9uc2UgPSByZXF1ZXN0LmFjY2VwdCh7IHN0YXR1c0NvZGU6IDIwMCwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVsZWdhdGUgJiYgX3RoaXMuZGVsZWdhdGUub25JbnZpdGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZShyZXF1ZXN0Lm1lc3NhZ2UsIG91dGdvaW5nUmVzcG9uc2UubWVzc2FnZSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBoYW5kbGUgdG8gcmUtSU5WSVRFIHJlcXVlc3RcIik7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKF90aGlzLmRpYWxvZy5zaWduYWxpbmdTdGF0ZSk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbG9jYWwvcmVtb3RlIG9mZmVyLi4uXG4gICAgICAgICAgICBpZiAoX3RoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlID09PSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG91dGdvaW5nUmVzcG9uc2UgPSByZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4OCB9KTsgLy8gTm90IEFjY2VwdGFibGUgSGVyZVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZWxlZ2F0ZSAmJiBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZShyZXF1ZXN0Lm1lc3NhZ2UsIG91dGdvaW5nUmVzcG9uc2UubWVzc2FnZSwgNDg4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJvbGxiYWNrXG4gICAgICAgICAgICBfdGhpcy5yb2xsYmFja09mZmVyKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG91dGdvaW5nUmVzcG9uc2UgPSByZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4OCB9KTsgLy8gTm90IEFjY2VwdGFibGUgSGVyZVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZWxlZ2F0ZSAmJiBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZShyZXF1ZXN0Lm1lc3NhZ2UsIG91dGdvaW5nUmVzcG9uc2UubWVzc2FnZSwgNDg4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSb2xsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yUm9sbGJhY2subWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIHJvbGxiYWNrIG9mZmVyIG9uIHJlLUlOVklURSByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgICAgIHZhciBvdXRnb2luZ1Jlc3BvbnNlID0gcmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiA0ODggfSk7IC8vIE5vdCBBY2NlcHRhYmxlIEhlcmVcbiAgICAgICAgICAgICAgICAvLyBBIEJZRSBzaG91bGQgb25seSBiZSBzZW50IGlmIHNlc3Npb24gaXMgbm90IGFscmVhZHkgdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYSBCWUUgbWF5IGJlIHNlbnQvcmVjZWl2ZWQgd2hpbGUgcmUtSU5WSVRFIGlzIG91dHN0YW5kaW5nLlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgQUNLIHdhcyBhbHJlYWR5IHNlbnQgYnkgdGhlIHRyYW5zYWN0aW9uLCBzbyBqdXN0IG5lZWQgdG8gc2VuZCBCWUUuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRyYUhlYWRlcnNCeWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzQnllLnB1c2goXCJSZWFzb246IFwiICsgX3RoaXMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoNTAwLCBcIkludGVybmFsIFNlcnZlciBFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpYWxvZy5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmRlbGVnYXRlICYmIF90aGlzLmRlbGVnYXRlLm9uSW52aXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbGVnYXRlLm9uSW52aXRlKHJlcXVlc3QubWVzc2FnZSwgb3V0Z29pbmdSZXNwb25zZS5tZXNzYWdlLCA0ODgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBpbiBkaWFsb2cgTUVTU0FHRSByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uTWVzc2FnZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uTWVzc2FnZVJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIk1FU1NBR0UgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3IG1lc3NhZ2VfMS5NZXNzYWdlKHJlcXVlc3QpO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIE5PVElGWSByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uTm90aWZ5UmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlNlc3Npb24ub25Ob3RpZnlSZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJOT1RJRlkgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhpcyBhIE5PVElGWSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb2dyZXNzIG9mIGEgUkVGRVIsXG4gICAgICAgIC8vIGxvb2sgdG8gZGVsZWdhdGUgaGFuZGxpbmcgdG8gdGhlIGFzc29jaWF0ZWQgY2FsbGJhY2suXG4gICAgICAgIGlmICh0aGlzLm9uTm90aWZ5KSB7XG4gICAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gbmV3IG5vdGlmaWNhdGlvbl8xLk5vdGlmaWNhdGlvbihyZXF1ZXN0KTtcbiAgICAgICAgICAgIHRoaXMub25Ob3RpZnkobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UgYWNjZXB0IHRoZSBOT1RJRlkuXG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkpIHtcbiAgICAgICAgICAgIHZhciBub3RpZmljYXRpb24gPSBuZXcgbm90aWZpY2F0aW9uXzEuTm90aWZpY2F0aW9uKHJlcXVlc3QpO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbk5vdGlmeShub3RpZmljYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluIGRpYWxvZyBQUkFDSyByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uUHJhY2tSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbi5vblByYWNrUmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiUFJBQ0sgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZC5cIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIFJFRkVSIHJlcXVlc3QuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUub25SZWZlclJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uUmVmZXJSZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJSRUZFUiByZWNlaXZlZCB3aGlsZSBpbiBzdGF0ZSBcIiArIHRoaXMuc3RhdGUgKyBcIiwgZHJvcHBpbmcgcmVxdWVzdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSRUZFUiBpcyBhIFNJUCByZXF1ZXN0IGFuZCBpcyBjb25zdHJ1Y3RlZCBhcyBkZWZpbmVkIGluIFsxXS4gIEEgUkVGRVJcbiAgICAgICAgLy8gcmVxdWVzdCBNVVNUIGNvbnRhaW4gZXhhY3RseSBvbmUgUmVmZXItVG8gaGVhZGVyIGZpZWxkIHZhbHVlLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC4xXG4gICAgICAgIGlmICghcmVxdWVzdC5tZXNzYWdlLmhhc0hlYWRlcihcInJlZmVyLXRvXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiSW52YWxpZCBSRUZFUiBwYWNrZXQuIEEgcmVmZXItdG8gaGVhZGVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcuXCIpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZWplY3QoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVmZXJyYWwgPSBuZXcgcmVmZXJyYWxfMS5SZWZlcnJhbChyZXF1ZXN0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVmZXIocmVmZXJyYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiTm8gZGVsZWdhdGUgYXZhaWxhYmxlIHRvIGhhbmRsZSBSRUZFUiwgYXV0b21hdGljYWxseSBhY2NlcHRpbmcgYW5kIGZvbGxvd2luZy5cIik7XG4gICAgICAgICAgICByZWZlcnJhbFxuICAgICAgICAgICAgICAgIC5hY2NlcHQoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZmVycmFsXG4gICAgICAgICAgICAgICAgLm1ha2VJbnZpdGVyKF90aGlzLl9yZWZlcnJhbEludml0ZXJPcHRpb25zKVxuICAgICAgICAgICAgICAgIC5pbnZpdGUoKTsgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IGxvZ2dpbmcgYW5kIGVhdGluZyBlcnJvci4uLlxuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhbiBvZmZlciBvciBhbnN3ZXIgZm9yIGEgcmVzcG9uc2UgdG8gYW4gSU5WSVRFIHJlcXVlc3QuXG4gICAgICogSWYgYSByZW1vdGUgb2ZmZXIgd2FzIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0LCBzZXQgdGhlIHJlbW90ZVxuICAgICAqIGRlc2NyaXB0aW9uIGFuZCBnZXQgYSBsb2NhbCBhbnN3ZXIuIElmIGEgcmVtb3RlIG9mZmVyIHdhcyBub3RcbiAgICAgKiBwcm92aWRlZCwgZ2VuZXJhdGVzIGEgbG9jYWwgb2ZmZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZ2VuZXJhdGVSZXNwb25zZU9mZmVyQW5zd2VyID0gZnVuY3Rpb24gKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVJlc3BvbnNlT2ZmZXJBbnN3ZXJJbkRpYWxvZyhvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9keSA9IGNvcmVfMS5nZXRCb2R5KHJlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgIGlmICghYm9keSB8fCBib2R5LmNvbnRlbnREaXNwb3NpdGlvbiAhPT0gXCJzZXNzaW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9mZmVyKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGFuIG9mZmVyIG9yIGFuc3dlciBmb3IgYSByZXNwb25zZSB0byBhbiBJTlZJVEUgcmVxdWVzdFxuICAgICAqIHdoZW4gYSBkaWFsb2cgKGVhcmx5IG9yIG90aGVyd2lzZSkgaGFzIGFscmVhZHkgYmVlbiBlc3RhYmxpc2hlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgTk9UIGJlIGNhbGxlZCBpZiBhIGRpYWxvZyBoYXMgeWV0IHRvIGJlIGVzdGFibGlzaGVkLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlckluRGlhbG9nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLmRpYWxvZy5zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPZmZlcihvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyOlxuICAgICAgICAgICAgICAgIC8vIG8gIE9uY2UgdGhlIFVBUyBoYXMgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgICAgICAgICAvLyBvZmZlciwgaXQgTVVTVCBOT1QgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgaW4gYW55IHJlc3BvbnNlc1xuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lmaWNhdGlvbiBhbG9uZSBjYW4gbmV2ZXIgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgdW50aWxcbiAgICAgICAgICAgICAgICAvLyBjb21wbGV0aW9uIG9mIHRoZSBpbml0aWFsIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kaWFsb2cub2ZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBvZmZlciB1bmRlZmluZWQgaW4gc2lnbmFsaW5nIHN0YXRlIFwiICsgdGhpcy5kaWFsb2cuc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldE9mZmVyQW5kR2V0QW5zd2VyKHRoaXMuZGlhbG9nLm9mZmVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZTpcbiAgICAgICAgICAgICAgICAvLyBvICBPbmNlIHRoZSBVQVMgaGFzIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAgICAgLy8gb2ZmZXIsIGl0IE1VU1QgTk9UIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIGluIGFueSByZXNwb25zZXNcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgaW5pdGlhbCBJTlZJVEUuICBUaGlzIG1lYW5zIHRoYXQgYSBVQVMgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24gYWxvbmUgY2FuIG5ldmVyIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gY29tcGxldGlvbiBvZiB0aGUgaW5pdGlhbCB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSW4gZGlhbG9nIElOVklURSB3aXRob3V0IG9mZmVyLCBnZXQgYW4gb2ZmZXIgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPZmZlcihvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgbG9jYWwgb2ZmZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZ2V0T2ZmZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2RoID0gdGhpcy5zZXR1cFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgdmFyIHNkaE9wdGlvbnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zO1xuICAgICAgICB2YXIgc2RoTW9kaWZpZXJzID0gb3B0aW9ucy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzO1xuICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgd3JpdHRlbiB2ZXJ5IGRlZmVuc2l2ZWx5LiBEb24ndCB0cnVzdCBTREggdG8gYmVoYXZlLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHNkaC5nZXREZXNjcmlwdGlvbihzZGhPcHRpb25zLCBzZGhNb2RpZmllcnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJvZHlBbmRDb250ZW50VHlwZSkgeyByZXR1cm4gY29yZV8xLmZyb21Cb2R5TGVnYWN5KGJvZHlBbmRDb250ZW50VHlwZSk7IH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlNlc3Npb24uZ2V0T2ZmZXI6IFNESCBnZXREZXNjcmlwdGlvbiByZWplY3RlZC4uLlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikgeyAvLyBkb24ndCB0cnVzdCBTREggdG8gdGhyb3cgYW4gRXJyb3JcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiU2Vzc2lvbi5nZXRPZmZlcjogU0RIIGdldERlc2NyaXB0aW9uIHRocmV3Li4uXCIpO1xuICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUm9sbGJhY2sgbG9jYWwvcmVtb3RlIG9mZmVyLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnJvbGxiYWNrT2ZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcigpO1xuICAgICAgICBpZiAoIXNkaC5yb2xsYmFja0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IHdyaXR0ZW4gdmVyeSBkZWZlbnNpdmVseS4gRG9uJ3QgdHJ1c3QgU0RIIHRvIGJlaGF2ZS5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBzZGgucm9sbGJhY2tEZXNjcmlwdGlvbigpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlNlc3Npb24ucm9sbGJhY2tPZmZlcjogU0RIIHJvbGxiYWNrRGVzY3JpcHRpb24gcmVqZWN0ZWQuLi5cIik7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHsgLy8gZG9uJ3QgdHJ1c3QgU0RIIHRvIHRocm93IGFuIEVycm9yXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlNlc3Npb24ucm9sbGJhY2tPZmZlcjogU0RIIHJvbGxiYWNrRGVzY3JpcHRpb24gdGhyZXcuLi5cIik7XG4gICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgcmVtb3RlIGFuc3dlci5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5zZXRBbnN3ZXIgPSBmdW5jdGlvbiAoYW5zd2VyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcigpO1xuICAgICAgICB2YXIgc2RoT3B0aW9ucyA9IG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM7XG4gICAgICAgIHZhciBzZGhNb2RpZmllcnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnM7XG4gICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSB3cml0dGVuIHZlcnkgZGVmZW5zaXZlbHkuIERvbid0IHRydXN0IFNESCB0byBiZWhhdmUuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXNkaC5oYXNEZXNjcmlwdGlvbihhbnN3ZXIuY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBleGNlcHRpb25zXzEuQ29udGVudFR5cGVVbnN1cHBvcnRlZEVycm9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldEFuc3dlcjogU0RIIGhhc0Rlc2NyaXB0aW9uIHRocmV3Li4uXCIpO1xuICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHNkaC5zZXREZXNjcmlwdGlvbihhbnN3ZXIuY29udGVudCwgc2RoT3B0aW9ucywgc2RoTW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldEFuc3dlcjogU0RIIHNldERlc2NyaXB0aW9uIHJlamVjdGVkLi4uXCIpO1xuICAgICAgICAgICAgICAgIHZhciBlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IC8vIGRvbid0IHRydXN0IFNESCB0byB0aHJvdyBhbiBFcnJvclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldEFuc3dlcjogU0RIIHNldERlc2NyaXB0aW9uIHRocmV3Li4uXCIpO1xuICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHJlbW90ZSBvZmZlciBhbmQgZ2V0IGxvY2FsIGFuc3dlci5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5zZXRPZmZlckFuZEdldEFuc3dlciA9IGZ1bmN0aW9uIChvZmZlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2RoID0gdGhpcy5zZXR1cFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgdmFyIHNkaE9wdGlvbnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zO1xuICAgICAgICB2YXIgc2RoTW9kaWZpZXJzID0gb3B0aW9ucy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzO1xuICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgd3JpdHRlbiB2ZXJ5IGRlZmVuc2l2ZWx5LiBEb24ndCB0cnVzdCBTREggdG8gYmVoYXZlLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFzZGguaGFzRGVzY3JpcHRpb24ob2ZmZXIuY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBleGNlcHRpb25zXzEuQ29udGVudFR5cGVVbnN1cHBvcnRlZEVycm9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldE9mZmVyQW5kR2V0QW5zd2VyOiBTREggaGFzRGVzY3JpcHRpb24gdGhyZXcuLi5cIik7XG4gICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gc2RoLnNldERlc2NyaXB0aW9uKG9mZmVyLmNvbnRlbnQsIHNkaE9wdGlvbnMsIHNkaE1vZGlmaWVycylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBzZGguZ2V0RGVzY3JpcHRpb24oc2RoT3B0aW9ucywgc2RoTW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9keUFuZENvbnRlbnRUeXBlKSB7IHJldHVybiBjb3JlXzEuZnJvbUJvZHlMZWdhY3koYm9keUFuZENvbnRlbnRUeXBlKTsgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKFwiU2Vzc2lvbi5zZXRPZmZlckFuZEdldEFuc3dlcjogU0RIIHNldERlc2NyaXB0aW9uIG9yIGdldERlc2NyaXB0aW9uIHJlamVjdGVkLi4uXCIpO1xuICAgICAgICAgICAgICAgIHZhciBlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IC8vIGRvbid0IHRydXN0IFNESCB0byB0aHJvdyBhbiBFcnJvclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldE9mZmVyQW5kR2V0QW5zd2VyOiBTREggc2V0RGVzY3JpcHRpb24gb3IgZ2V0RGVzY3JpcHRpb24gdGhyZXcuLi5cIik7XG4gICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTREggZm9yIGNvbmZpcm1lZCBkaWFsb2cuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuc2V0U2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChzZGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gc2RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU0RIIGZvciBjb25maXJtZWQgZGlhbG9nLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSh0aGlzLCB0aGlzLnVzZXJBZ2VudC5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbiBzZXNzaW9uIHN0YXRlLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW52YWxpZFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBcIiArIF90aGlzLl9zdGF0ZSArIFwiIHRvIFwiICsgbmV3U3RhdGUpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBWYWxpZGF0ZSB0cmFuc2l0aW9uXG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hpbmc6XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0aW5nICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQ6XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0aW5nICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgc3RhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyYW5zaXRpb25cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBcIiArIHRoaXMuaWQgKyBcIiB0cmFuc2l0aW9uZWQgdG8gc3RhdGUgXCIgKyB0aGlzLl9zdGF0ZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlRXZlbnRFbWl0dGVyLmVtaXQoXCJldmVudFwiLCB0aGlzLl9zdGF0ZSk7XG4gICAgICAgIC8vIERpc3Bvc2VcbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5jb3B5UmVxdWVzdE9wdGlvbnMgPSBmdW5jdGlvbiAocmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDApIHsgcmVxdWVzdE9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID8gcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzLnNsaWNlKCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBib2R5ID0gcmVxdWVzdE9wdGlvbnMuYm9keSA/XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGVudERpc3Bvc2l0aW9uOiByZXF1ZXN0T3B0aW9ucy5ib2R5LmNvbnRlbnREaXNwb3NpdGlvbiB8fCBcInJlbmRlclwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiByZXF1ZXN0T3B0aW9ucy5ib2R5LmNvbnRlbnRUeXBlIHx8IFwidGV4dC9wbGFpblwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlcXVlc3RPcHRpb25zLmJvZHkuY29udGVudCB8fCBcIlwiXG4gICAgICAgICAgICB9IDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5nZXRSZWFzb25IZWFkZXJWYWx1ZSA9IGZ1bmN0aW9uIChjb2RlLCByZWFzb24pIHtcbiAgICAgICAgdmFyIGNhdXNlID0gY29kZTtcbiAgICAgICAgdmFyIHRleHQgPSB1dGlsc18xLmdldFJlYXNvblBocmFzZShjb2RlKTtcbiAgICAgICAgaWYgKCF0ZXh0ICYmIHJlYXNvbikge1xuICAgICAgICAgICAgdGV4dCA9IHJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJTSVA7Y2F1c2U9XCIgKyBjYXVzZSArICc7dGV4dD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnJlZmVyRXh0cmFIZWFkZXJzID0gZnVuY3Rpb24gKHJlZmVyVG8pIHtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtdO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlZmVycmVkLUJ5OiA8XCIgKyB0aGlzLnVzZXJBZ2VudC5jb25maWd1cmF0aW9uLnVyaSArIFwiPlwiKTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuX2NvbnRhY3QpO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIkFsbG93OiBcIiArIFtcbiAgICAgICAgICAgIFwiQUNLXCIsXG4gICAgICAgICAgICBcIkNBTkNFTFwiLFxuICAgICAgICAgICAgXCJJTlZJVEVcIixcbiAgICAgICAgICAgIFwiTUVTU0FHRVwiLFxuICAgICAgICAgICAgXCJCWUVcIixcbiAgICAgICAgICAgIFwiT1BUSU9OU1wiLFxuICAgICAgICAgICAgXCJJTkZPXCIsXG4gICAgICAgICAgICBcIk5PVElGWVwiLFxuICAgICAgICAgICAgXCJSRUZFUlwiXG4gICAgICAgIF0udG9TdHJpbmcoKSk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVmZXItVG86IFwiICsgcmVmZXJUbyk7XG4gICAgICAgIHJldHVybiBleHRyYUhlYWRlcnM7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWZlclRvU3RyaW5nID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVmZXJUbztcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmVfMS5VUkkpIHtcbiAgICAgICAgICAgIC8vIFJFRkVSIHdpdGhvdXQgUmVwbGFjZXMgKEJsaW5kIFRyYW5zZmVyKVxuICAgICAgICAgICAgcmVmZXJUbyA9IHRhcmdldC50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUkVGRVIgd2l0aCBSZXBsYWNlcyAoQXR0ZW5kZWQgVHJhbnNmZXIpXG4gICAgICAgICAgICBpZiAoIXRhcmdldC5kaWFsb2cpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHRhcmdldC5yZW1vdGVJZGVudGl0eS5mcmllbmRseU5hbWU7XG4gICAgICAgICAgICB2YXIgcmVtb3RlVGFyZ2V0ID0gdGFyZ2V0LmRpYWxvZy5yZW1vdGVUYXJnZXQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBjYWxsSWQgPSB0YXJnZXQuZGlhbG9nLmNhbGxJZDtcbiAgICAgICAgICAgIHZhciByZW1vdGVUYWcgPSB0YXJnZXQuZGlhbG9nLnJlbW90ZVRhZztcbiAgICAgICAgICAgIHZhciBsb2NhbFRhZyA9IHRhcmdldC5kaWFsb2cubG9jYWxUYWc7XG4gICAgICAgICAgICB2YXIgcmVwbGFjZXMgPSBlbmNvZGVVUklDb21wb25lbnQoY2FsbElkICsgXCI7dG8tdGFnPVwiICsgcmVtb3RlVGFnICsgXCI7ZnJvbS10YWc9XCIgKyBsb2NhbFRhZyk7XG4gICAgICAgICAgICByZWZlclRvID0gXCJcXFwiXCIgKyBkaXNwbGF5TmFtZSArIFwiXFxcIiA8XCIgKyByZW1vdGVUYXJnZXQgKyBcIj9SZXBsYWNlcz1cIiArIHJlcGxhY2VzICsgXCI+XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZmVyVG87XG4gICAgfTtcbiAgICByZXR1cm4gU2Vzc2lvbjtcbn0oKSk7XG5leHBvcnRzLlNlc3Npb24gPSBTZXNzaW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi4vY29yZVwiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9FeGNlcHRpb25zXCIpO1xudmFyIFRyYW5zcG9ydF8xID0gcmVxdWlyZShcIi4uL1RyYW5zcG9ydFwiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4uL1V0aWxzXCIpO1xudmFyIFRyYW5zcG9ydFN0YXR1cztcbihmdW5jdGlvbiAoVHJhbnNwb3J0U3RhdHVzKSB7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19DT05ORUNUSU5HXCJdID0gMF0gPSBcIlNUQVRVU19DT05ORUNUSU5HXCI7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19PUEVOXCJdID0gMV0gPSBcIlNUQVRVU19PUEVOXCI7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19DTE9TSU5HXCJdID0gMl0gPSBcIlNUQVRVU19DTE9TSU5HXCI7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19DTE9TRURcIl0gPSAzXSA9IFwiU1RBVFVTX0NMT1NFRFwiO1xufSkoVHJhbnNwb3J0U3RhdHVzID0gZXhwb3J0cy5UcmFuc3BvcnRTdGF0dXMgfHwgKGV4cG9ydHMuVHJhbnNwb3J0U3RhdHVzID0ge30pKTtcbi8qKlxuICogQ29tcHV0ZSBhbiBhbW91bnQgb2YgdGltZSBpbiBzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHNlbmRpbmcgYW5vdGhlclxuICoga2VlcC1hbGl2ZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbnZhciBjb21wdXRlS2VlcEFsaXZlVGltZW91dCA9IGZ1bmN0aW9uICh1cHBlckJvdW5kKSB7XG4gICAgdmFyIGxvd2VyQm91bmQgPSB1cHBlckJvdW5kICogMC44O1xuICAgIHJldHVybiAxMDAwICogKE1hdGgucmFuZG9tKCkgKiAodXBwZXJCb3VuZCAtIGxvd2VyQm91bmQpICsgbG93ZXJCb3VuZCk7XG59O1xuLyoqXG4gKiBAY2xhc3MgVHJhbnNwb3J0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG52YXIgVHJhbnNwb3J0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRyYW5zcG9ydCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUcmFuc3BvcnQobG9nZ2VyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxvZ2dlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuVHJhbnNwb3J0O1xuICAgICAgICBfdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IDA7XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ09OTkVDVElORztcbiAgICAgICAgX3RoaXMuY29uZmlndXJhdGlvbiA9IF90aGlzLmxvYWRDb25maWcob3B0aW9ucyk7XG4gICAgICAgIF90aGlzLnNlcnZlciA9IF90aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzWzBdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuaXNDb25uZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19PUEVOO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBPdXRnb2luZyBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kUHJvbWlzZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICh0aGlzLndzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInVuYWJsZSB0byBzZW5kIG1lc3NhZ2UgLSBXZWJTb2NrZXQgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIldlYlNvY2tldCB1bmRlZmluZWQuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGSVhNRTogVGhpcyBjaGVjayBpcyBsaWtlbHkgbm90IG5lY2Vzc2FyeSBhcyBXZWJTb2NrZXQuc2VuZCgpIHdpbGxcbiAgICAgICAgLy8gdGhyb3cgSU5WQUxJRF9TVEFURV9FUlIgaWYgdGhlIGNvbm5lY3Rpb24gaXMgbm90IGN1cnJlbnRseSBvcGVuXG4gICAgICAgIC8vIHdoaWNoIGNvdWxkIGhhcHBlbiByZWdhcmRsZXNzIG9mIHdoYXQgd2UgdGhpbmcgdGhlIHN0YXRlIGlzLlxuICAgICAgICBpZiAoIXRoaXMuc3RhdHVzQXNzZXJ0KFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfT1BFTiwgb3B0aW9ucy5mb3JjZSkpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInVuYWJsZSB0byBzZW5kIG1lc3NhZ2UgLSBXZWJTb2NrZXQgbm90IG9wZW5cIik7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiV2ViU29ja2V0IG5vdCBvcGVuLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwic2VuZGluZyBXZWJTb2NrZXQgbWVzc2FnZTpcXG5cXG5cIiArIG1lc3NhZ2UgKyBcIlxcblwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZWJTb2NrZXQuc2VuZCgpIGNhbiB0aHJvdy5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYlNvY2tldC9zZW5kXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBlcnJvcikge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2VuZCBtZXNzYWdlLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IG1zZzogbWVzc2FnZSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3Qgc29ja2V0LlxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuZGlzY29ubmVjdFByb21pc2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZSkgeyAvLyBBbHJlYWR5IGRpc2Nvbm5lY3RpbmcuIEp1c3QgcmV0dXJuIHRoaXMuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmNvZGUgPSBvcHRpb25zLmNvZGUgfHwgMTAwMDtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXR1c1RyYW5zaXRpb24oVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TSU5HLCBvcHRpb25zLmZvcmNlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCkgeyAvLyBXZWJzb2NrZXQgaXMgYWxyZWFkeSBjbG9zZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgb3ZlcnJpZGVFdmVudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY29ubmVjdGlvblByb21pc2UpIHsgLy8gV2Vic29ja2V0IGlzIGNvbm5lY3RpbmcsIGNhbm5vdCBtb3ZlIHRvIGRpc2Nvbm5ldGluZyB5ZXRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVGhlIHdlYnNvY2tldCBkaWQgbm90IGRpc2Nvbm5lY3RcIik7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBvdmVycmlkZUV2ZW50OiB0cnVlIH0pOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENhbm5vdCBtb3ZlIHRvIGRpc2Nvbm5lY3RpbmcsIGJ1dCBub3QgaW4gY29ubmVjdGluZyBzdGF0ZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJUaGUgd2Vic29ja2V0IGRpZCBub3QgZGlzY29ubmVjdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0aW5nXCIpO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgX3RoaXMuZGlzY29ubmVjdERlZmVycmVkUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBpZiAoX3RoaXMucmVjb25uZWN0VGltZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLndzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RvcFNlbmRpbmdLZWVwQWxpdmVzKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcImNsb3NpbmcgV2ViU29ja2V0IFwiICsgX3RoaXMuc2VydmVyLndzVXJpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy53cy5jbG9zZShvcHRpb25zLmNvZGUsIG9wdGlvbnMucmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIkF0dGVtcHRlZCB0byBkaXNjb25uZWN0IGJ1dCB0aGUgd2Vic29ja2V0IGRvZXNuJ3QgZXhpc3RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbm5lY3Qgc29ja2V0LlxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuY29ubmVjdFByb21pc2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0lORyAmJiAhb3B0aW9ucy5mb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiV2ViU29ja2V0IFwiICsgdGhpcy5zZXJ2ZXIud3NVcmkgKyBcIiBpcyBjbG9zaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25Qcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlcnZlciA9IHRoaXMuc2VydmVyIHx8IHRoaXMuZ2V0TmV4dFdzU2VydmVyKG9wdGlvbnMuZm9yY2UpO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKChfdGhpcy5zdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfT1BFTiB8fCBfdGhpcy5zdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0lORylcbiAgICAgICAgICAgICAgICAmJiAhb3B0aW9ucy5mb3JjZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiV2ViU29ja2V0IFwiICsgX3RoaXMuc2VydmVyLndzVXJpICsgXCIgaXMgYWxyZWFkeSBjb25uZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiRmFpbGVkIHN0YXR1cyBjaGVjayAtIGF0dGVtcHRlZCB0byBvcGVuIGEgY29ubmVjdGlvbiBidXQgYWxyZWFkeSBvcGVuL2Nsb3NpbmdcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBfdGhpcy5jb25uZWN0RGVmZXJyZWRSZWplY3QgPSByZWplY3Q7XG4gICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkc7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiY29ubmVjdGluZ1wiKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJjb25uZWN0aW5nIHRvIFdlYlNvY2tldCBcIiArIF90aGlzLnNlcnZlci53c1VyaSk7XG4gICAgICAgICAgICBfdGhpcy5kaXNwb3NlV3MoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud3MgPSBuZXcgV2ViU29ja2V0KF90aGlzLnNlcnZlci53c1VyaSwgXCJzaXBcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMud3MuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjsgLy8gc2V0IGRhdGEgdHlwZSBvZiByZWNlaXZlZCBiaW5hcnkgbWVzc2FnZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzVHJhbnNpdGlvbihUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25FcnJvcihcImVycm9yIGNvbm5lY3RpbmcgdG8gV2ViU29ja2V0IFwiICsgX3RoaXMuc2VydmVyLndzVXJpICsgXCI6XCIgKyBlKTtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJGYWlsZWQgdG8gY3JlYXRlIGEgd2Vic29ja2V0XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX3RoaXMud3MpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJVbmV4cGVjdGVkIGluc3RhbmNlIHdlYnNvY2tldCBub3Qgc2V0XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNvbm5lY3Rpb25UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzVHJhbnNpdGlvbihUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJ0b29rIHRvbyBsb25nIHRvIGNvbm5lY3QgLSBleGNlZWRlZCB0aW1lIHNldCBpbiBjb25maWd1cmF0aW9uLmNvbm5lY3Rpb25UaW1lb3V0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ3VyYXRpb24uY29ubmVjdGlvblRpbWVvdXQgKyBcInNcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImRpc2Nvbm5lY3RlZFwiLCB7IGNvZGU6IDEwMDAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvblByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiQ29ubmVjdGlvbiB0aW1lb3V0XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciB3cyA9IF90aGlzLndzO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpc3Bvc2VXcygpO1xuICAgICAgICAgICAgICAgIGlmICh3cykge1xuICAgICAgICAgICAgICAgICAgICB3cy5jbG9zZSgxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBfdGhpcy5jb25maWd1cmF0aW9uLmNvbm5lY3Rpb25UaW1lb3V0ICogMTAwMCk7XG4gICAgICAgICAgICBfdGhpcy5ib3VuZE9uT3BlbiA9IF90aGlzLm9uT3Blbi5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLmJvdW5kT25NZXNzYWdlID0gX3RoaXMub25NZXNzYWdlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgX3RoaXMuYm91bmRPbkNsb3NlID0gX3RoaXMub25DbG9zZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLmJvdW5kT25FcnJvciA9IF90aGlzLm9uV2Vic29ja2V0RXJyb3IuYmluZChfdGhpcyk7XG4gICAgICAgICAgICBfdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCBfdGhpcy5ib3VuZE9uT3Blbik7XG4gICAgICAgICAgICBfdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBfdGhpcy5ib3VuZE9uTWVzc2FnZSk7XG4gICAgICAgICAgICBfdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgX3RoaXMuYm91bmRPbkNsb3NlKTtcbiAgICAgICAgICAgIF90aGlzLndzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBfdGhpcy5ib3VuZE9uRXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvblByb21pc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTtcbiAgICAgICAgdmFyIGZpbmlzaGVkRGF0YTtcbiAgICAgICAgLy8gQ1JMRiBLZWVwIEFsaXZlIHJlc3BvbnNlIGZyb20gc2VydmVyLiBDbGVhciBvdXIga2VlcCBhbGl2ZSB0aW1lb3V0LlxuICAgICAgICBpZiAoL14oXFxyXFxuKSskLy50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyS2VlcEFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInJlY2VpdmVkIFdlYlNvY2tldCBtZXNzYWdlIHdpdGggQ1JMRiBLZWVwIEFsaXZlIHJlc3BvbnNlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwicmVjZWl2ZWQgZW1wdHkgbWVzc2FnZSwgbWVzc2FnZSBkaXNjYXJkZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHsgLy8gV2ViU29ja2V0IGJpbmFyeSBtZXNzYWdlLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgVUludDhEYXRhIHdhcyBoZXJlIHByaW9yIHRvIHR5cGVzLCBhbmQgZG9lc24ndCBjaGVja1xuICAgICAgICAgICAgICAgIGZpbmlzaGVkRGF0YSA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJyZWNlaXZlZCBXZWJTb2NrZXQgYmluYXJ5IG1lc3NhZ2UgZmFpbGVkIHRvIGJlIGNvbnZlcnRlZCBpbnRvIHN0cmluZywgbWVzc2FnZSBkaXNjYXJkZWRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInJlY2VpdmVkIFdlYlNvY2tldCBiaW5hcnkgbWVzc2FnZTpcXG5cXG5cIiArIGRhdGEgKyBcIlxcblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gV2ViU29ja2V0IHRleHQgbWVzc2FnZS5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24udHJhY2VTaXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJyZWNlaXZlZCBXZWJTb2NrZXQgdGV4dCBtZXNzYWdlOlxcblxcblwiICsgZGF0YSArIFwiXFxuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluaXNoZWREYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJtZXNzYWdlXCIsIGZpbmlzaGVkRGF0YSk7XG4gICAgfTtcbiAgICAvLyBUcmFuc3BvcnQgRXZlbnQgSGFuZGxlcnNcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbk9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TRUQpIHsgLy8gSW5kaWNhdGVkIHRoYXQgdGhlIHRyYW5zcG9ydCB0aGlua3MgdGhlIHdzIGlzIGRlYWQgYWxyZWFkeVxuICAgICAgICAgICAgdmFyIHdzID0gdGhpcy53cztcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZVdzKCk7XG4gICAgICAgICAgICBpZiAod3MpIHtcbiAgICAgICAgICAgICAgICB3cy5jbG9zZSgxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1c1RyYW5zaXRpb24oVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19PUEVOLCB0cnVlKTtcbiAgICAgICAgdGhpcy5lbWl0KFwiY29ubmVjdGVkXCIpO1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJXZWJTb2NrZXQgXCIgKyB0aGlzLnNlcnZlci53c1VyaSArIFwiIGNvbm5lY3RlZFwiKTtcbiAgICAgICAgLy8gQ2xlYXIgcmVjb25uZWN0VGltZXIgc2luY2Ugd2UgYXJlIG5vdCBkaXNjb25uZWN0ZWRcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0VGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCByZWNvbm5lY3Rpb25BdHRlbXB0c1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzID0gMDtcbiAgICAgICAgLy8gUmVzZXQgZGlzY29ubmVjdGlvbiBwcm9taXNlIHNvIHdlIGNhbiBkaXNjb25uZWN0IGZyb20gYSBmcmVzaCBzdGF0ZVxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFN0YXJ0IHNlbmRpbmcga2VlcC1hbGl2ZXNcbiAgICAgICAgdGhpcy5zdGFydFNlbmRpbmdLZWVwQWxpdmVzKCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdERlZmVycmVkUmVzb2x2ZSh7IG92ZXJyaWRlRXZlbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIHdlYnNvY2tldC5vbk9wZW4gd2l0aCBubyBjb25uZWN0RGVmZXJyZWRSZXNvbHZlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCAoY29kZTogXCIgKyBlLmNvZGUgKyAoZS5yZWFzb24gPyBcInwgcmVhc29uOiBcIiArIGUucmVhc29uIDogXCJcIikgKyBcIilcIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TSU5HKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiV2ViU29ja2V0IGNsb3NlZCB3aXRob3V0IFNJUC5qcyByZXF1ZXN0aW5nIGl0XCIpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwidHJhbnNwb3J0RXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wU2VuZGluZ0tlZXBBbGl2ZXMoKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgY29ubmVjdGlvbiB2YXJpYWJsZXMgc28gd2UgY2FuIGNvbm5lY3QgYWdhaW4gZnJvbSBhIGZyZXNoIHN0YXRlXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlamVjdChcIldlYnNvY2tldCBDbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb25uZWN0RGVmZXJyZWRSZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgdXNlciByZXF1ZXN0ZWQgdG8gY2xvc2UuXG4gICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3REZWZlcnJlZFJlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdERlZmVycmVkUmVzb2x2ZSh7IG92ZXJyaWRlRXZlbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RyYW5zaXRpb24oVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TRUQpO1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0RGVmZXJyZWRSZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdHVzVHJhbnNpdGlvbihUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZW1pdChcImRpc2Nvbm5lY3RlZFwiLCB7IGNvZGU6IGUuY29kZSwgcmVhc29uOiBlLnJlYXNvbiB9KTtcbiAgICAgICAgdGhpcy5kaXNwb3NlV3MoKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGFuZCBjbGVhcnMgdGhlIGluc3RhbmNlIHdzXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5kaXNwb3NlV3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLndzKSB7XG4gICAgICAgICAgICB0aGlzLndzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsIHRoaXMuYm91bmRPbk9wZW4pO1xuICAgICAgICAgICAgdGhpcy53cy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmJvdW5kT25NZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMud3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIHRoaXMuYm91bmRPbkNsb3NlKTtcbiAgICAgICAgICAgIHRoaXMud3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuYm91bmRPbkVycm9yKTtcbiAgICAgICAgICAgIHRoaXMud3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBldmVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlRyYW5zcG9ydCBlcnJvcjogXCIgKyBlKTtcbiAgICAgICAgdGhpcy5lbWl0KFwidHJhbnNwb3J0RXJyb3JcIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUub25XZWJzb2NrZXRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKFwiVGhlIFdlYnNvY2tldCBoYWQgYW4gZXJyb3JcIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNvbm5lY3Rpb24gYXR0ZW1wdCBsb2dpYy5cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnJlY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJSZWNvbm5lY3Rpb24gYXR0ZW1wdCBcIiArIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgKyBcIiBmYWlsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubm9BdmFpbGFibGVTZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJhdHRlbXB0ZWQgdG8gZ2V0IG5leHQgd3Mgc2VydmVyIGJ1dCB0aGVyZSBhcmUgbm8gYXZhaWxhYmxlIHdzIHNlcnZlcnMgbGVmdFwiKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJubyBhdmFpbGFibGUgd3Mgc2VydmVycyBsZWZ0IC0gZ29pbmcgdG8gY2xvc2VkIHN0YXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNUcmFuc2l0aW9uKFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0VELCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImNsb3NlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRTZXJ2ZXJFcnJvclN0YXR1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJhdHRlbXB0ZWQgdG8gcmVjb25uZWN0IHdoaWxlIGNvbm5lY3RlZCAtIGZvcmNpbmcgZGlzY29ubmVjdFwiKTtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCh7IGZvcmNlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPiB0aGlzLmNvbmZpZ3VyYXRpb24ubWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJtYXhpbXVtIHJlY29ubmVjdGlvbiBhdHRlbXB0cyBmb3IgV2ViU29ja2V0IFwiICsgdGhpcy5zZXJ2ZXIud3NVcmkpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwidHJhbnNwb3J0IFwiICsgdGhpcy5zZXJ2ZXIud3NVcmkgKyBcIiBmYWlsZWQgfCBjb25uZWN0aW9uIHN0YXRlIHNldCB0byAnZXJyb3InXCIpO1xuICAgICAgICAgICAgdGhpcy5zZXJ2ZXIuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJ0cmFuc3BvcnRFcnJvclwiKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5ub0F2YWlsYWJsZVNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyID0gdGhpcy5nZXROZXh0V3NTZXJ2ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdoZW4gdGhlcmUgYXJlIG5vIGF2YWlsYWJsZSBzZXJ2ZXJzLCB0aGUgcmVjb25uZWN0IGZ1bmN0aW9uIGVuZHMgb24gdGhlIG5leHQgcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgICAgIC8vIGFmdGVyIGNoZWNraW5nIGZvciBubyBhdmFpbGFibGUgc2VydmVycyBhZ2Fpbi5cbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInRyeWluZyB0byByZWNvbm5lY3QgdG8gV2ViU29ja2V0IFwiICtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlci53c1VyaSArIFwiIChyZWNvbm5lY3Rpb24gYXR0ZW1wdCBcIiArIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgKyBcIilcIik7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSwgKHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPT09IDEpID8gMCA6IHRoaXMuY29uZmlndXJhdGlvbi5yZWNvbm5lY3Rpb25UaW1lb3V0ICogMTAwMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZXJyb3Igc3RhdGUgb2YgYWxsIHNlcnZlcnMgaW4gdGhlIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnJlc2V0U2VydmVyRXJyb3JTdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHdlYnNvY2tldCA9IF9hW19pXTtcbiAgICAgICAgICAgIHdlYnNvY2tldC5pc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBuZXh0IHNlcnZlciB0byB3aGljaCBjb25uZWN0LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2UgYWxsb3dzIGJ5cGFzcyBvZiBzZXJ2ZXIgZXJyb3Igc3RhdHVzIGNoZWNraW5nXG4gICAgICogQHJldHVybnMge09iamVjdH0gV3NTZXJ2ZXJcbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLmdldE5leHRXc1NlcnZlciA9IGZ1bmN0aW9uIChmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkgeyBmb3JjZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0aGlzLm5vQXZhaWxhYmxlU2VydmVycygpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiYXR0ZW1wdGVkIHRvIGdldCBuZXh0IHdzIHNlcnZlciBidXQgdGhlcmUgYXJlIG5vIGF2YWlsYWJsZSB3cyBzZXJ2ZXJzIGxlZnRcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZ2V0IG5leHQgd3Mgc2VydmVyLCBidXQgdGhlcmUgYXJlIG5vIGF2YWlsYWJsZSB3cyBzZXJ2ZXJzIGxlZnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9yZGVyIHNlcnZlcnMgYnkgd2VpZ2h0XG4gICAgICAgIHZhciBjYW5kaWRhdGVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHdzU2VydmVyID0gX2FbX2ldO1xuICAgICAgICAgICAgaWYgKHdzU2VydmVyLmlzRXJyb3IgJiYgIWZvcmNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaCh3c1NlcnZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh3c1NlcnZlci53ZWlnaHQgPiBjYW5kaWRhdGVzWzBdLndlaWdodCkge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMgPSBbd3NTZXJ2ZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAod3NTZXJ2ZXIud2VpZ2h0ID09PSBjYW5kaWRhdGVzWzBdLndlaWdodCkge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaCh3c1NlcnZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbmRpZGF0ZXMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZXNbaWR4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBhbGwgY29uZmlndXJhdGlvbiBzZXJ2ZXJzLCByZXR1cm5zIHRydWUgaWYgYWxsIG9mIHRoZW0gaGF2ZSBpc0Vycm9yOiB0cnVlIGFuZCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLm5vQXZhaWxhYmxlU2VydmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuY29uZmlndXJhdGlvbi53c1NlcnZlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2VydmVyID0gX2FbX2ldO1xuICAgICAgICAgICAgaWYgKCFzZXJ2ZXIuaXNFcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIEtlZXBBbGl2ZSBTdHVmZlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBrZWVwLWFsaXZlIChhIGRvdWJsZS1DUkxGIHNlcXVlbmNlKS5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnNlbmRLZWVwQWxpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCkge1xuICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIG91dHN0YW5kaW5nIGtlZXAgYWxpdmUsIGRvIG5vdCBzZW5kIGFub3RoZXIuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJrZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXRcIik7XG4gICAgICAgICAgICBfdGhpcy5jbGVhcktlZXBBbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgfSwgdGhpcy5jb25maWd1cmF0aW9uLmtlZXBBbGl2ZURlYm91bmNlICogMTAwMCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoXCJcXHJcXG5cXHJcXG5cIik7XG4gICAgfTtcbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLmNsZWFyS2VlcEFsaXZlVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgc2VuZGluZyBrZWVwLWFsaXZlcy5cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24ua2VlcEFsaXZlSW50ZXJ2YWwgJiYgIXRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VuZEtlZXBBbGl2ZSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXMoKTtcbiAgICAgICAgICAgIH0sIGNvbXB1dGVLZWVwQWxpdmVUaW1lb3V0KHRoaXMuY29uZmlndXJhdGlvbi5rZWVwQWxpdmVJbnRlcnZhbCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wIHNlbmRpbmcga2VlcC1hbGl2ZXMuXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zdG9wU2VuZGluZ0tlZXBBbGl2ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZUludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmtlZXBBbGl2ZUludGVydmFsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFN0YXR1cyBTdHVmZlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBnaXZlbiBzdGF0dXMgYWdhaW5zdCBpbnN0YW5jZSBjdXJyZW50IHN0YXR1cy4gUmV0dXJucyB0cnVlIGlmIHRoZXkgbWF0Y2hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zdGF0dXNBc3NlcnQgPSBmdW5jdGlvbiAoc3RhdHVzLCBmb3JjZSkge1xuICAgICAgICBpZiAoc3RhdHVzID09PSB0aGlzLnN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQXR0ZW1wdGVkIHRvIGFzc2VydCBcIiArXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKFRyYW5zcG9ydFN0YXR1cylbdGhpcy5zdGF0dXNdICsgXCIgYXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhUcmFuc3BvcnRTdGF0dXMpW3N0YXR1c10gKyBcIi0gY29udGludWluZyB3aXRoIG9wdGlvbjogJ2ZvcmNlJ1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJUcmllZCB0byBhc3NlcnQgXCIgK1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhUcmFuc3BvcnRTdGF0dXMpW3N0YXR1c10gKyBcIiBidXQgaXMgY3VycmVudGx5IFwiICtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoVHJhbnNwb3J0U3RhdHVzKVt0aGlzLnN0YXR1c10pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbnMgdGhlIHN0YXR1cy4gQ2hlY2tzIGZvciBsZWdhbCB0cmFuc2l0aW9uIHZpYSBhc3NlcnRpb24gYmVmb3JlaGFuZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGF0dXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnN0YXR1c1RyYW5zaXRpb24gPSBmdW5jdGlvbiAoc3RhdHVzLCBmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkgeyBmb3JjZSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkF0dGVtcHRpbmcgdG8gdHJhbnNpdGlvbiBzdGF0dXMgZnJvbSBcIiArXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhUcmFuc3BvcnRTdGF0dXMpW3RoaXMuc3RhdHVzXSArIFwiIHRvIFwiICtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKFRyYW5zcG9ydFN0YXR1cylbc3RhdHVzXSk7XG4gICAgICAgIGlmICgoc3RhdHVzID09PSBUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkcgJiYgdGhpcy5zdGF0dXNBc3NlcnQoVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TRUQsIGZvcmNlKSkgfHxcbiAgICAgICAgICAgIChzdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfT1BFTiAmJiB0aGlzLnN0YXR1c0Fzc2VydChUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkcsIGZvcmNlKSkgfHxcbiAgICAgICAgICAgIChzdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0lORyAmJiB0aGlzLnN0YXR1c0Fzc2VydChUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX09QRU4sIGZvcmNlKSkgfHxcbiAgICAgICAgICAgIChzdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0VEKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJTdGF0dXMgdHJhbnNpdGlvbiBmYWlsZWQgLSByZXN1bHQ6IG5vLW9wIC0gcmVhc29uOlwiICtcbiAgICAgICAgICAgICAgICBcIiBlaXRoZXIgZ2F2ZSBhbiBub25leGlzdGVudCBzdGF0dXMgb3IgYXR0ZW1wdGVkIGlsbGVnYWwgdHJhbnNpdGlvblwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlndXJhdGlvbiBIYW5kbGluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gbG9hZC5cbiAgICAgKiByZXR1cm5zIHtDb25maWd1cmF0aW9ufVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUubG9hZENvbmZpZyA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHdzU2VydmVyczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1lOiBcIldTU1wiLFxuICAgICAgICAgICAgICAgICAgICBzaXBVcmk6IFwiPHNpcDplZGdlLnNpcC5vbnNpcC5jb207dHJhbnNwb3J0PXdzO2xyPlwiLFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdzVXJpOiBcIndzczovL2VkZ2Uuc2lwLm9uc2lwLmNvbVwiLFxuICAgICAgICAgICAgICAgICAgICBpc0Vycm9yOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IDUsXG4gICAgICAgICAgICBtYXhSZWNvbm5lY3Rpb25BdHRlbXB0czogMyxcbiAgICAgICAgICAgIHJlY29ubmVjdGlvblRpbWVvdXQ6IDQsXG4gICAgICAgICAgICBrZWVwQWxpdmVJbnRlcnZhbDogMCxcbiAgICAgICAgICAgIGtlZXBBbGl2ZURlYm91bmNlOiAxMCxcbiAgICAgICAgICAgIC8vIExvZ2dpbmdcbiAgICAgICAgICAgIHRyYWNlU2lwOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29uZmlnQ2hlY2sgPSB0aGlzLmdldENvbmZpZ3VyYXRpb25DaGVjaygpO1xuICAgICAgICAvLyBDaGVjayBNYW5kYXRvcnkgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2subWFuZGF0b3J5KSB7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IocGFyYW1ldGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ3VyYXRpb25bcGFyYW1ldGVyXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2subWFuZGF0b3J5W3BhcmFtZXRlcl0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1twYXJhbWV0ZXJdID0gY2hlY2tlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgT3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2sub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWd1cmF0aW9uW3BhcmFtZXRlcl07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSwgYnV0IHNob3VsZG4ndCBiZSwgYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBudWxsLCBlbXB0eSBzdHJpbmcsIG9yIHVuZGVmaW5lZCB0aGVuIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBudW1iZXIgd2l0aCBOYU4gdmFsdWUgdGhlbiBhbHNvIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IEpTIGRvZXMgbm90IGFsbG93IFwidmFsdWUgPT09IE5hTlwiLCB0aGUgZm9sbG93aW5nIGRvZXMgdGhlIHdvcms6XG4gICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJudW1iZXJcIiAmJiBpc05hTih2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2sub3B0aW9uYWxbcGFyYW1ldGVyXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2tlbGV0b24gPSB7fTsgLy8gRmlsbCB0aGUgdmFsdWUgb2YgdGhlIGNvbmZpZ3VyYXRpb25fc2tlbGV0b25cbiAgICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHNrZWxldG9uW3BhcmFtZXRlcl0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5nc1twYXJhbWV0ZXJdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJldHVybkNvbmZpZ3VyYXRpb24gPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSwgc2tlbGV0b24pO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgYWZ0ZXIgdmFsaWRhdGlvbjpcIik7XG4gICAgICAgIGZvciAodmFyIHBhcmFtZXRlciBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCLCtyBcIiArIHBhcmFtZXRlciArIFwiOiBcIiArIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzW3BhcmFtZXRlcl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuQ29uZmlndXJhdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gY2hlY2tlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbkNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWFuZGF0b3J5OiB7fSxcbiAgICAgICAgICAgIG9wdGlvbmFsOiB7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBmdW5jdGlvbiB1c2VkIHRvIGNhbGwgJ3RoaXMubG9nZ2VyLmVycm9yJyBidXQgY2FsbGluZyAndGhpcycgd2l0aCBhbnl0aGluZyBoZXJlIGlzIGludmFsaWRcbiAgICAgICAgICAgICAgICB3c1NlcnZlcnM6IGZ1bmN0aW9uICh3c1NlcnZlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogQWxsb3cgZGVmaW5pbmcgd3NTZXJ2ZXJzIHBhcmFtZXRlciBhczpcbiAgICAgICAgICAgICAgICAgICAgICogIFN0cmluZzogXCJob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICogIEFycmF5IG9mIFN0cmluZ3M6IFtcImhvc3QxXCIsIFwiaG9zdDJcIl1cbiAgICAgICAgICAgICAgICAgICAgICogIEFycmF5IG9mIE9iamVjdHM6IFt7d3NVcmk6XCJob3N0MVwiLCB3ZWlnaHQ6MX0sIHt3c1VyaTpcImhvc3QyXCIsIHdlaWdodDowfV1cbiAgICAgICAgICAgICAgICAgICAgICogIEFycmF5IG9mIE9iamVjdHMgYW5kIFN0cmluZ3M6IFt7d3NVcmk6XCJob3N0MVwifSwgXCJob3N0MlwiXVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3c1NlcnZlcnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzU2VydmVycyA9IFt7IHdzVXJpOiB3c1NlcnZlcnMgfV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAod3NTZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHdzU2VydmVycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3c1NlcnZlcnNbaWR4XSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3c1NlcnZlcnNbaWR4XSA9IHsgd3NVcmk6IHdzU2VydmVyc1tpZHhdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh3c1NlcnZlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCB3c1NlcnZlcnNfMSA9IHdzU2VydmVyczsgX2kgPCB3c1NlcnZlcnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3c1NlcnZlciA9IHdzU2VydmVyc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3NTZXJ2ZXIud3NVcmkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3NTZXJ2ZXIud2VpZ2h0ICYmICFOdW1iZXIod3NTZXJ2ZXIud2VpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBjb3JlXzEuR3JhbW1hci5wYXJzZSh3c1NlcnZlci53c1VyaSwgXCJhYnNvbHV0ZVVSSVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmwgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoW1wid3NzXCIsIFwid3NcIiwgXCJ1ZHBcIl0uaW5kZXhPZih1cmwuc2NoZW1lKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3c1NlcnZlci5zaXBVcmkgPSBcIjxzaXA6XCIgKyB1cmwuaG9zdCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1cmwucG9ydCA/IFwiOlwiICsgdXJsLnBvcnQgOiBcIlwiKSArIFwiO3RyYW5zcG9ydD1cIiArIHVybC5zY2hlbWUucmVwbGFjZSgvXndzcyQvaSwgXCJ3c1wiKSArIFwiO2xyPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3NTZXJ2ZXIud2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzU2VydmVyLndlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzU2VydmVyLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3c1NlcnZlci5zY2hlbWUgPSB1cmwuc2NoZW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdzU2VydmVycztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGtlZXBBbGl2ZUludGVydmFsOiBmdW5jdGlvbiAoa2VlcEFsaXZlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKGtlZXBBbGl2ZUludGVydmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGtlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGtlZXBBbGl2ZURlYm91bmNlOiBmdW5jdGlvbiAoa2VlcEFsaXZlRGVib3VuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKGtlZXBBbGl2ZURlYm91bmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGtlZXBBbGl2ZURlYm91bmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYWNlU2lwOiBmdW5jdGlvbiAodHJhY2VTaXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmFjZVNpcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFjZVNpcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IGZ1bmN0aW9uIChjb25uZWN0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwoY29ubmVjdGlvblRpbWVvdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBOdW1iZXIoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWF4UmVjb25uZWN0aW9uQXR0ZW1wdHM6IGZ1bmN0aW9uIChtYXhSZWNvbm5lY3Rpb25BdHRlbXB0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwobWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBOdW1iZXIobWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlY29ubmVjdGlvblRpbWVvdXQ6IGZ1bmN0aW9uIChyZWNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChVdGlsc18xLlV0aWxzLmlzRGVjaW1hbChyZWNvbm5lY3Rpb25UaW1lb3V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKHJlY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFRyYW5zcG9ydC5DID0gVHJhbnNwb3J0U3RhdHVzO1xuICAgIHJldHVybiBUcmFuc3BvcnQ7XG59KFRyYW5zcG9ydF8xLlRyYW5zcG9ydCkpO1xuZXhwb3J0cy5UcmFuc3BvcnQgPSBUcmFuc3BvcnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7XG4iLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCJ2YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246IGNvcmUudmVyc2lvbixcbiAgbW9kZTogcmVxdWlyZSgnLi9fbGlicmFyeScpID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMjAgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG59KTtcbiIsIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuIiwidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgc2FmZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKSB7XG4gIGlmICghKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25zdGFudHNcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFNJUCBNZXRob2RzXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIEM7XG4oZnVuY3Rpb24gKEMpIHtcbiAgICBDLkFDSyA9IFwiQUNLXCI7XG4gICAgQy5CWUUgPSBcIkJZRVwiO1xuICAgIEMuQ0FOQ0VMID0gXCJDQU5DRUxcIjtcbiAgICBDLklORk8gPSBcIklORk9cIjtcbiAgICBDLklOVklURSA9IFwiSU5WSVRFXCI7XG4gICAgQy5NRVNTQUdFID0gXCJNRVNTQUdFXCI7XG4gICAgQy5OT1RJRlkgPSBcIk5PVElGWVwiO1xuICAgIEMuT1BUSU9OUyA9IFwiT1BUSU9OU1wiO1xuICAgIEMuUkVHSVNURVIgPSBcIlJFR0lTVEVSXCI7XG4gICAgQy5VUERBVEUgPSBcIlVQREFURVwiO1xuICAgIEMuU1VCU0NSSUJFID0gXCJTVUJTQ1JJQkVcIjtcbiAgICBDLlBVQkxJU0ggPSBcIlBVQkxJU0hcIjtcbiAgICBDLlJFRkVSID0gXCJSRUZFUlwiO1xuICAgIEMuUFJBQ0sgPSBcIlBSQUNLXCI7XG59KShDID0gZXhwb3J0cy5DIHx8IChleHBvcnRzLkMgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaW5jb21pbmdfcmVxdWVzdF9tZXNzYWdlXzEgPSByZXF1aXJlKFwiLi9pbmNvbWluZy1yZXF1ZXN0LW1lc3NhZ2VcIik7XG52YXIgaW5jb21pbmdfcmVzcG9uc2VfbWVzc2FnZV8xID0gcmVxdWlyZShcIi4vaW5jb21pbmctcmVzcG9uc2UtbWVzc2FnZVwiKTtcbnZhciBvdXRnb2luZ19yZXF1ZXN0X21lc3NhZ2VfMSA9IHJlcXVpcmUoXCIuL291dGdvaW5nLXJlcXVlc3QtbWVzc2FnZVwiKTtcbi8qKlxuICogQ3JlYXRlIGEgQm9keSBnaXZlbiBhIGxlZ2FjeSBib2R5IHR5cGUuXG4gKiBAcGFyYW0gYm9keUxlZ2FjeSAtIEJvZHkgT2JqZWN0XG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZnJvbUJvZHlMZWdhY3koYm9keUxlZ2FjeSkge1xuICAgIHZhciBjb250ZW50ID0gKHR5cGVvZiBib2R5TGVnYWN5ID09PSBcInN0cmluZ1wiKSA/IGJvZHlMZWdhY3kgOiBib2R5TGVnYWN5LmJvZHk7XG4gICAgdmFyIGNvbnRlbnRUeXBlID0gKHR5cGVvZiBib2R5TGVnYWN5ID09PSBcInN0cmluZ1wiKSA/IFwiYXBwbGljYXRpb24vc2RwXCIgOiBib2R5TGVnYWN5LmNvbnRlbnRUeXBlO1xuICAgIHZhciBjb250ZW50RGlzcG9zaXRpb24gPSBjb250ZW50VHlwZVRvQ29udGVudERpc3Bvc2l0aW9uKGNvbnRlbnRUeXBlKTtcbiAgICB2YXIgYm9keSA9IHsgY29udGVudERpc3Bvc2l0aW9uOiBjb250ZW50RGlzcG9zaXRpb24sIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSwgY29udGVudDogY29udGVudCB9O1xuICAgIHJldHVybiBib2R5O1xufVxuZXhwb3J0cy5mcm9tQm9keUxlZ2FjeSA9IGZyb21Cb2R5TGVnYWN5O1xuLyoqXG4gKiBHaXZlbiBhIG1lc3NhZ2UsIGdldCBhIG5vcm1hbGl6ZWQgYm9keS5cbiAqIFRoZSBjb250ZW50IGRpc3Bvc2l0aW9uIGlzIGluZmVycmVkIGlmIG5vdCBzZXQuXG4gKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldEJvZHkobWVzc2FnZSkge1xuICAgIHZhciBjb250ZW50RGlzcG9zaXRpb247XG4gICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgIHZhciBjb250ZW50O1xuICAgIC8vIFdlJ3JlIGluIFVBUyByb2xlLCByZWNlaXZpbmcgaW5jb21pbmcgcmVxdWVzdFxuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgaW5jb21pbmdfcmVxdWVzdF9tZXNzYWdlXzEuSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ib2R5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogUGFyc2luZyBuZWVkcyB0eXBpbmdcbiAgICAgICAgICAgIHZhciBwYXJzZSA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIpO1xuICAgICAgICAgICAgY29udGVudERpc3Bvc2l0aW9uID0gcGFyc2UgPyBwYXJzZS50eXBlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29udGVudFR5cGUgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgICAgICAgY29udGVudCA9IG1lc3NhZ2UuYm9keTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSdyZSBpbiBVQUMgcm9sZSwgcmVjZWl2aW5nIGluY29taW5nIHJlc3BvbnNlXG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBpbmNvbWluZ19yZXNwb25zZV9tZXNzYWdlXzEuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9keSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFBhcnNpbmcgbmVlZHMgdHlwaW5nXG4gICAgICAgICAgICB2YXIgcGFyc2UgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGNvbnRlbnREaXNwb3NpdGlvbiA9IHBhcnNlID8gcGFyc2UudHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBtZXNzYWdlLmJvZHk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gV2UncmUgaW4gVUFDIHJvbGUsIHNlbmRpbmcgb3V0Z29pbmcgcmVxdWVzdFxuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2Ygb3V0Z29pbmdfcmVxdWVzdF9tZXNzYWdlXzEuT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ib2R5KSB7XG4gICAgICAgICAgICBjb250ZW50RGlzcG9zaXRpb24gPSBtZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIik7XG4gICAgICAgICAgICBjb250ZW50VHlwZSA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogT3V0Z29pbmdSZXF1ZXN0IHNob3VsZCBub3QgYWxsb3cgYSBcInN0cmluZ1wiIGJvZHkgd2l0aG91dCBhIFwiQ29udGVudC1UeXBlXCIgaGVhZGVyLlxuICAgICAgICAgICAgICAgIGlmICghY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGVhZGVyIGNvbnRlbnQgdHlwZSBoZWFkZXIgZG9lcyBub3QgZXF1YWwgYm9keSBjb250ZW50IHR5cGUuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZW50ID0gbWVzc2FnZS5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IE91dGdvaW5nUmVxdWVzdCBzaG91bGQgbm90IGFsbG93IHRoZSBcIkNvbnRlbnQtVHlwZVwiIGhlYWRlciBub3QgdG8gbWF0Y2ggdGggYm9keSBjb250ZW50IHR5cGVcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUgIT09IG1lc3NhZ2UuYm9keS5jb250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZWFkZXIgY29udGVudCB0eXBlIGhlYWRlciBkb2VzIG5vdCBlcXVhbCBib2R5IGNvbnRlbnQgdHlwZS5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gbWVzc2FnZS5ib2R5LmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBtZXNzYWdlLmJvZHkuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSdyZSBpbiBVQVMgcm9sZSwgc2VuZGluZyBvdXRnb2luZyByZXNwb25zZVxuICAgIGlmIChpc0JvZHkobWVzc2FnZSkpIHtcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uID0gbWVzc2FnZS5jb250ZW50RGlzcG9zaXRpb247XG4gICAgICAgIGNvbnRlbnRUeXBlID0gbWVzc2FnZS5jb250ZW50VHlwZTtcbiAgICAgICAgY29udGVudCA9IG1lc3NhZ2UuY29udGVudDtcbiAgICB9XG4gICAgLy8gTm8gY29udGVudCwgbm8gYm9keS5cbiAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGNvbnRlbnRUeXBlICYmICFjb250ZW50RGlzcG9zaXRpb24pIHtcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uID0gY29udGVudFR5cGVUb0NvbnRlbnREaXNwb3NpdGlvbihjb250ZW50VHlwZSk7XG4gICAgfVxuICAgIGlmICghY29udGVudERpc3Bvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRlbnQgZGlzcG9zaXRpb24gdW5kZWZpbmVkLlwiKTtcbiAgICB9XG4gICAgaWYgKCFjb250ZW50VHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHR5cGUgdW5kZWZpbmVkLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uOiBjb250ZW50RGlzcG9zaXRpb24sXG4gICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgICAgY29udGVudDogY29udGVudFxuICAgIH07XG59XG5leHBvcnRzLmdldEJvZHkgPSBnZXRCb2R5O1xuLyoqXG4gKiBVc2VyLURlZmluZWQgVHlwZSBHdWFyZCBmb3IgQm9keS5cbiAqIEBwYXJhbSBib2R5IC0gQm9keSB0byBjaGVjay5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBpc0JvZHkoYm9keSkge1xuICAgIHJldHVybiBib2R5ICYmXG4gICAgICAgIHR5cGVvZiBib2R5LmNvbnRlbnQgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgdHlwZW9mIGJvZHkuY29udGVudFR5cGUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgYm9keS5jb250ZW50RGlzcG9zaXRpb24gPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0eXBlb2YgYm9keS5jb250ZW50RGlzcG9zaXRpb24gPT09IFwic3RyaW5nXCI7XG59XG5leHBvcnRzLmlzQm9keSA9IGlzQm9keTtcbi8vIElmIHRoZSBDb250ZW50LURpc3Bvc2l0aW9uIGhlYWRlciBmaWVsZCBpcyBtaXNzaW5nLCBib2RpZXMgb2Zcbi8vIENvbnRlbnQtVHlwZSBhcHBsaWNhdGlvbi9zZHAgaW1wbHkgdGhlIGRpc3Bvc2l0aW9uIFwic2Vzc2lvblwiLCB3aGlsZVxuLy8gb3RoZXIgY29udGVudCB0eXBlcyBpbXBseSBcInJlbmRlclwiLlxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbmZ1bmN0aW9uIGNvbnRlbnRUeXBlVG9Db250ZW50RGlzcG9zaXRpb24oY29udGVudFR5cGUpIHtcbiAgICBpZiAoY29udGVudFR5cGUgPT09IFwiYXBwbGljYXRpb24vc2RwXCIpIHtcbiAgICAgICAgcmV0dXJuIFwic2Vzc2lvblwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwicmVuZGVyXCI7XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyB0c2xpbnQ6ZGlzYWJsZTppbnRlcmZhY2UtbmFtZVxuLy8gdHNsaW50OmRpc2FibGU6IHRyYWlsaW5nLWNvbW1hXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4vLyB0c2xpbnQ6ZGlzYWJsZTogbWF4LWxpbmUtbGVuZ3RoXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb25seS1hcnJvdy1mdW5jdGlvbnNcbi8vIHRzbGludDpkaXNhYmxlOiBvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4vLyB0c2xpbnQ6ZGlzYWJsZTogbm8tY29uc2VjdXRpdmUtYmxhbmstbGluZXNcbi8vIHRzbGludDpkaXNhYmxlOiBhbGlnblxuLy8gdHNsaW50OmRpc2FibGU6IHJhZGl4XG4vLyB0c2xpbnQ6ZGlzYWJsZTogcXVvdGVtYXJrXG4vLyB0c2xpbnQ6ZGlzYWJsZTogc2VtaWNvbG9uXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb2JqZWN0LWxpdGVyYWwtc2hvcnRoYW5kXG4vLyB0c2xpbnQ6ZGlzYWJsZTogdmFyaWFibGUtbmFtZVxuLy8gdHNsaW50OmRpc2FibGU6IG5vLXZhci1rZXl3b3JkXG4vLyB0c2xpbnQ6ZGlzYWJsZTogd2hpdGVzcGFjZVxuLy8gdHNsaW50OmRpc2FibGU6IGN1cmx5XG4vLyB0c2xpbnQ6ZGlzYWJsZTogcHJlZmVyLWNvbnN0XG4vLyB0c2xpbnQ6ZGlzYWJsZTogb2JqZWN0LWxpdGVyYWwta2V5LXF1b3Rlc1xuLy8gdHNsaW50OmRpc2FibGU6IG5vLXN0cmluZy1saXRlcmFsXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb25lLWxpbmVcbi8vIHRzbGludDpkaXNhYmxlOiBuby11bnVzZWQtZXhwcmVzc2lvblxuLy8gdHNsaW50OmRpc2FibGU6IHNwYWNlLWJlZm9yZS1mdW5jdGlvbi1wYXJlblxuLy8gdHNsaW50OmRpc2FibGU6IGFycm93LXJldHVybi1zaG9ydGhhbmRcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuLy8gR2VuZXJhdGVkIGJ5IFBFRy5qcyB2LiAwLjEwLjAgKHRzLXBlZ2pzIHBsdWdpbiB2LiAwLjIuNiApXG4vL1xuLy8gaHR0cHM6Ly9wZWdqcy5vcmcvICAgaHR0cHM6Ly9naXRodWIuY29tL21ldGFkZXZwcm8vdHMtcGVnanNcbnZhciBuYW1lX2FkZHJfaGVhZGVyXzEgPSByZXF1aXJlKFwiLi4vLi4vY29yZS9tZXNzYWdlcy9uYW1lLWFkZHItaGVhZGVyXCIpO1xudmFyIHVyaV8xID0gcmVxdWlyZShcIi4uLy4uL2NvcmUvbWVzc2FnZXMvdXJpXCIpO1xudmFyIFN5bnRheEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN5bnRheEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN5bnRheEVycm9yKG1lc3NhZ2UsIGV4cGVjdGVkLCBmb3VuZCwgbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgICAgIF90aGlzLmZvdW5kID0gZm91bmQ7XG4gICAgICAgIF90aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlN5bnRheEVycm9yXCI7XG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMsIFN5bnRheEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZSA9IGZ1bmN0aW9uIChleHBlY3RlZCwgZm91bmQpIHtcbiAgICAgICAgZnVuY3Rpb24gaGV4KGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBsaXRlcmFsRXNjYXBlKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCBcIlxcXFxcXFwiXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCBcIlxcXFx0XCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwRl0vZywgZnVuY3Rpb24gKGNoKSB7IHJldHVybiBcIlxcXFx4MFwiICsgaGV4KGNoKTsgfSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gXCJcXFxceFwiICsgaGV4KGNoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2xhc3NFc2NhcGUocykge1xuICAgICAgICAgICAgcmV0dXJuIHNcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXS9nLCBcIlxcXFxdXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXi9nLCBcIlxcXFxeXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCJcXFxcLVwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csIGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gXCJcXFxceDBcIiArIGhleChjaCk7IH0pXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDdGLVxceDlGXS9nLCBmdW5jdGlvbiAoY2gpIHsgcmV0dXJuIFwiXFxcXHhcIiArIGhleChjaCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb24pIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXhwZWN0YXRpb24udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZXhwZWN0YXRpb24udGV4dCkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRQYXJ0cyA9IGV4cGVjdGF0aW9uLnBhcnRzLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGFydClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNsYXNzRXNjYXBlKHBhcnRbMF0pICsgXCItXCIgKyBjbGFzc0VzY2FwZShwYXJ0WzFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2xhc3NFc2NhcGUocGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJbXCIgKyAoZXhwZWN0YXRpb24uaW52ZXJ0ZWQgPyBcIl5cIiA6IFwiXCIpICsgZXNjYXBlZFBhcnRzICsgXCJdXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFueVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhbnkgY2hhcmFjdGVyXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlbmQgb2YgaW5wdXRcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwib3RoZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGF0aW9uLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQxKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb25zID0gZXhwZWN0ZWQxLm1hcChkZXNjcmliZUV4cGVjdGF0aW9uKTtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgdmFyIGo7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbnMuc29ydCgpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uc1tpIC0gMV0gIT09IGRlc2NyaXB0aW9uc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25zW2pdID0gZGVzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChkZXNjcmlwdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXSArIFwiIG9yIFwiICsgZGVzY3JpcHRpb25zWzFdO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgZGVzY3JpcHRpb25zW2Rlc2NyaXB0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkZXNjcmliZUZvdW5kKGZvdW5kMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kMSA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZDEpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIkV4cGVjdGVkIFwiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyBcIiBidXQgXCIgKyBkZXNjcmliZUZvdW5kKGZvdW5kKSArIFwiIGZvdW5kLlwiO1xuICAgIH07XG4gICAgcmV0dXJuIFN5bnRheEVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0cy5TeW50YXhFcnJvciA9IFN5bnRheEVycm9yO1xuZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcbiAgICB2YXIgcGVnJEZBSUxFRCA9IHt9O1xuICAgIHZhciBwZWckc3RhcnRSdWxlSW5kaWNlcyA9IHsgQ29udGFjdDogMTE5LCBOYW1lX0FkZHJfSGVhZGVyOiAxNTYsIFJlY29yZF9Sb3V0ZTogMTc2LCBSZXF1ZXN0X1Jlc3BvbnNlOiA4MSwgU0lQX1VSSTogNDUsIFN1YnNjcmlwdGlvbl9TdGF0ZTogMTg2LCBTdXBwb3J0ZWQ6IDE5MSwgUmVxdWlyZTogMTgyLCBWaWE6IDE5NCwgYWJzb2x1dGVVUkk6IDg0LCBDYWxsX0lEOiAxMTgsIENvbnRlbnRfRGlzcG9zaXRpb246IDEzMCwgQ29udGVudF9MZW5ndGg6IDEzNSwgQ29udGVudF9UeXBlOiAxMzYsIENTZXE6IDE0NiwgZGlzcGxheU5hbWU6IDEyMiwgRXZlbnQ6IDE0OSwgRnJvbTogMTUxLCBob3N0OiA1MiwgTWF4X0ZvcndhcmRzOiAxNTQsIE1pbl9TRTogMjEzLCBQcm94eV9BdXRoZW50aWNhdGU6IDE1NywgcXVvdGVkX3N0cmluZzogNDAsIFJlZmVyX1RvOiAxNzgsIFJlcGxhY2VzOiAxNzksIFNlc3Npb25fRXhwaXJlczogMjEwLCBzdHVuX1VSSTogMjE3LCBUbzogMTkyLCB0dXJuX1VSSTogMjIzLCB1dWlkOiAyMjYsIFdXV19BdXRoZW50aWNhdGU6IDIwOSwgY2hhbGxlbmdlOiAxNTgsIHNpcGZyYWc6IDIzMCwgUmVmZXJyZWRfQnk6IDIzMSB9O1xuICAgIHZhciBwZWckc3RhcnRSdWxlSW5kZXggPSAxMTk7XG4gICAgdmFyIHBlZyRjb25zdHMgPSBbXG4gICAgICAgIFwiXFxyXFxuXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXHJcXG5cIiwgZmFsc2UpLFxuICAgICAgICAvXlswLTldLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bYS16QS1aXS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXlswLTlhLWZBLUZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdLCBbXCJhXCIsIFwiZlwiXSwgW1wiQVwiLCBcIkZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXDAtXFx4RkZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIlxcMFwiLCBcIlxceEZGXCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bXCJdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxcIlwiXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgXCIgXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIgXCIsIGZhbHNlKSxcbiAgICAgICAgXCJcXHRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcdFwiLCBmYWxzZSksXG4gICAgICAgIC9eW2EtekEtWjAtOV0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdLCBbXCIwXCIsIFwiOVwiXV0sIGZhbHNlLCBmYWxzZSksXG4gICAgICAgIFwiO1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiO1wiLCBmYWxzZSksXG4gICAgICAgIFwiL1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiL1wiLCBmYWxzZSksXG4gICAgICAgIFwiP1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiP1wiLCBmYWxzZSksXG4gICAgICAgIFwiOlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiOlwiLCBmYWxzZSksXG4gICAgICAgIFwiQFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiQFwiLCBmYWxzZSksXG4gICAgICAgIFwiJlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJlwiLCBmYWxzZSksXG4gICAgICAgIFwiPVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPVwiLCBmYWxzZSksXG4gICAgICAgIFwiK1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiK1wiLCBmYWxzZSksXG4gICAgICAgIFwiJFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJFwiLCBmYWxzZSksXG4gICAgICAgIFwiLFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLFwiLCBmYWxzZSksXG4gICAgICAgIFwiLVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLVwiLCBmYWxzZSksXG4gICAgICAgIFwiX1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiX1wiLCBmYWxzZSksXG4gICAgICAgIFwiLlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLlwiLCBmYWxzZSksXG4gICAgICAgIFwiIVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiIVwiLCBmYWxzZSksXG4gICAgICAgIFwiflwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiflwiLCBmYWxzZSksXG4gICAgICAgIFwiKlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKlwiLCBmYWxzZSksXG4gICAgICAgIFwiJ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJ1wiLCBmYWxzZSksXG4gICAgICAgIFwiKFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKFwiLCBmYWxzZSksXG4gICAgICAgIFwiKVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKVwiLCBmYWxzZSksXG4gICAgICAgIFwiJVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJVwiLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiIFwiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiAnOic7IH0sXG4gICAgICAgIC9eWyEtfl0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiIVwiLCBcIn5cIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXHg4MC1cXHVGRkZGXS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJcXHg4MFwiLCBcIlxcdUZGRkZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXHg4MC1cXHhCRl0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiXFx4ODBcIiwgXCJcXHhCRlwiXV0sIGZhbHNlLCBmYWxzZSksXG4gICAgICAgIC9eW2EtZl0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcImZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICBcImBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImBcIiwgZmFsc2UpLFxuICAgICAgICBcIjxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjxcIiwgZmFsc2UpLFxuICAgICAgICBcIj5cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj5cIiwgZmFsc2UpLFxuICAgICAgICBcIlxcXFxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxcIiwgZmFsc2UpLFxuICAgICAgICBcIltcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIltcIiwgZmFsc2UpLFxuICAgICAgICBcIl1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl1cIiwgZmFsc2UpLFxuICAgICAgICBcIntcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIntcIiwgZmFsc2UpLFxuICAgICAgICBcIn1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIn1cIiwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIipcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCIvXCI7IH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiPVwiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIihcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCIpXCI7IH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiPlwiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIjxcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCIsXCI7IH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiO1wiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIjpcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJcXFwiXCI7IH0sXG4gICAgICAgIC9eWyEtJ10vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiIVwiLCBcIidcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXlsqLVtdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIipcIiwgXCJbXCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bXFxdLX5dLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIl1cIiwgXCJ+XCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgZnVuY3Rpb24gKGNvbnRlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudHM7XG4gICAgICAgIH0sXG4gICAgICAgIC9eWyMtW10vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiI1wiLCBcIltcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXDAtXFx0XS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJcXDBcIiwgXCJcXHRcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXHgwQi1cXGZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIlxceDBCXCIsIFwiXFxmXCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bXFx4MEUtXFx4N0ZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIlxceDBFXCIsIFwiXFx4N0ZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpID0gbmV3IHVyaV8xLlVSSShvcHRpb25zLmRhdGEuc2NoZW1lLCBvcHRpb25zLmRhdGEudXNlciwgb3B0aW9ucy5kYXRhLmhvc3QsIG9wdGlvbnMuZGF0YS5wb3J0KTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuc2NoZW1lO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51c2VyO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5ob3N0O1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5ob3N0X3R5cGU7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnBvcnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmkgPSBuZXcgdXJpXzEuVVJJKG9wdGlvbnMuZGF0YS5zY2hlbWUsIG9wdGlvbnMuZGF0YS51c2VyLCBvcHRpb25zLmRhdGEuaG9zdCwgb3B0aW9ucy5kYXRhLnBvcnQsIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zLCBvcHRpb25zLmRhdGEudXJpX2hlYWRlcnMpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5zY2hlbWU7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnVzZXI7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3Q7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEucG9ydDtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEudXJpX3BhcmFtcztcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ1NJUF9VUkknKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gb3B0aW9ucy5kYXRhLnVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzaXBzXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzaXBzXCIsIHRydWUpLFxuICAgICAgICBcInNpcFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic2lwXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodXJpX3NjaGVtZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNjaGVtZSA9IHVyaV9zY2hlbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51c2VyID0gZGVjb2RlVVJJQ29tcG9uZW50KHRleHQoKS5zbGljZSgwLCAtMSkpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucGFzc3dvcmQgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ob3N0ID0gdGV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGF0YS5ob3N0O1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdF90eXBlID0gJ2RvbWFpbic7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICAvXlthLXpBLVowLTlfXFwtXS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFtcIjBcIiwgXCI5XCJdLCBcIl9cIiwgXCItXCJdLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXlthLXpBLVowLTlcXC1dLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcImFcIiwgXCJ6XCJdLCBbXCJBXCIsIFwiWlwiXSwgW1wiMFwiLCBcIjlcIl0sIFwiLVwiXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZSA9ICdJUHY2JztcbiAgICAgICAgICAgIHJldHVybiB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiOjpcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjo6XCIsIGZhbHNlKSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZSA9ICdJUHY2JztcbiAgICAgICAgICAgIHJldHVybiB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ob3N0X3R5cGUgPSAnSVB2NCc7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBcIjI1XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIyNVwiLCBmYWxzZSksXG4gICAgICAgIC9eWzAtNV0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjVcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICBcIjJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjJcIiwgZmFsc2UpLFxuICAgICAgICAvXlswLTRdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI0XCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgXCIxXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIxXCIsIGZhbHNlKSxcbiAgICAgICAgL15bMS05XS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCIxXCIsIFwiOVwiXV0sIGZhbHNlLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uIChwb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBwb3J0ID0gcGFyc2VJbnQocG9ydC5qb2luKCcnKSk7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucG9ydCA9IHBvcnQ7XG4gICAgICAgICAgICByZXR1cm4gcG9ydDtcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0cmFuc3BvcnQ9XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0cmFuc3BvcnQ9XCIsIHRydWUpLFxuICAgICAgICBcInVkcFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidWRwXCIsIHRydWUpLFxuICAgICAgICBcInRjcFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidGNwXCIsIHRydWUpLFxuICAgICAgICBcInNjdHBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNjdHBcIiwgdHJ1ZSksXG4gICAgICAgIFwidGxzXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0bHNcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICh0cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zWyd0cmFuc3BvcnQnXSA9IHRyYW5zcG9ydC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9LFxuICAgICAgICBcInVzZXI9XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ1c2VyPVwiLCB0cnVlKSxcbiAgICAgICAgXCJwaG9uZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicGhvbmVcIiwgdHJ1ZSksXG4gICAgICAgIFwiaXBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImlwXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEudXJpX3BhcmFtcylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtcyA9IHt9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXNbJ3VzZXInXSA9IHVzZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJtZXRob2Q9XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJtZXRob2Q9XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGF0YS51cmlfcGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zID0ge307XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtc1snbWV0aG9kJ10gPSBtZXRob2Q7XG4gICAgICAgIH0sXG4gICAgICAgIFwidHRsPVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHRsPVwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKHR0bCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEucGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXNbJ3R0bCddID0gdHRsO1xuICAgICAgICB9LFxuICAgICAgICBcIm1hZGRyPVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibWFkZHI9XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAobWFkZHIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zWydtYWRkciddID0gbWFkZHI7XG4gICAgICAgIH0sXG4gICAgICAgIFwibHJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImxyXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGF0YS51cmlfcGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zID0ge307XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtc1snbHInXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKHBhcmFtLCB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEudXJpX3BhcmFtcylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtcyA9IHt9O1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXNbcGFyYW0udG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGhuYW1lLCBodmFsdWUpIHtcbiAgICAgICAgICAgIGhuYW1lID0gaG5hbWUuam9pbignJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGh2YWx1ZSA9IGh2YWx1ZS5qb2luKCcnKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfaGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEudXJpX2hlYWRlcnNbaG5hbWVdKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzW2huYW1lXSA9IFtodmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzW2huYW1lXS5wdXNoKGh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIC8vIGxvdHMgb2YgdGVzdHMgZmFpbCBpZiB0aGlzIGlzbid0IGd1YXJkZWQuLi5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ1JlZmVyX1RvJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmkgPSBuZXcgdXJpXzEuVVJJKG9wdGlvbnMuZGF0YS5zY2hlbWUsIG9wdGlvbnMuZGF0YS51c2VyLCBvcHRpb25zLmRhdGEuaG9zdCwgb3B0aW9ucy5kYXRhLnBvcnQsIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zLCBvcHRpb25zLmRhdGEudXJpX2hlYWRlcnMpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuc2NoZW1lO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEudXNlcjtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3Q7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5ob3N0X3R5cGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5wb3J0O1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEudXJpX3BhcmFtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCIvL1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLy9cIiwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc2NoZW1lID0gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiU0lQXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc2lwX3ZlcnNpb24gPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJJTlZJVEVcIiwgZmFsc2UpLFxuICAgICAgICBcIkFDS1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiQUNLXCIsIGZhbHNlKSxcbiAgICAgICAgXCJWWEFDSFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiVlhBQ0hcIiwgZmFsc2UpLFxuICAgICAgICBcIk9QVElPTlNcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIk9QVElPTlNcIiwgZmFsc2UpLFxuICAgICAgICBcIkJZRVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiQllFXCIsIGZhbHNlKSxcbiAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIkNBTkNFTFwiLCBmYWxzZSksXG4gICAgICAgIFwiUkVHSVNURVJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlJFR0lTVEVSXCIsIGZhbHNlKSxcbiAgICAgICAgXCJTVUJTQ1JJQkVcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlNVQlNDUklCRVwiLCBmYWxzZSksXG4gICAgICAgIFwiTk9USUZZXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJOT1RJRllcIiwgZmFsc2UpLFxuICAgICAgICBcIlJFRkVSXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJSRUZFUlwiLCBmYWxzZSksXG4gICAgICAgIFwiUFVCTElTSFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiUFVCTElTSFwiLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5tZXRob2QgPSB0ZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kYXRhLm1ldGhvZDtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKHN0YXR1c19jb2RlKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc3RhdHVzX2NvZGUgPSBwYXJzZUludChzdGF0dXNfY29kZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFzb25fcGhyYXNlID0gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZHgsIGxlbmd0aDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGxlbmd0aCA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXJbaWR4XS5wYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGhlYWRlcjtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlcilcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBuYW1lX2FkZHJfaGVhZGVyXzEuTmFtZUFkZHJIZWFkZXIob3B0aW9ucy5kYXRhLnVyaSwgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lLCBvcHRpb25zLmRhdGEucGFyYW1zKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnVyaTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEucGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlci5wdXNoKHsgJ3Bvc2l0aW9uJzogcGVnJGN1cnJQb3MsXG4gICAgICAgICAgICAgICAgJ29mZnNldCc6IGxvY2F0aW9uKCkuc3RhcnQub2Zmc2V0LFxuICAgICAgICAgICAgICAgICdwYXJzZWQnOiBoZWFkZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gdGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5TmFtZVswXSA9PT0gJ1xcXCInKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZS5zdWJzdHJpbmcoMSwgZGlzcGxheU5hbWUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJxXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJxXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAocSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEucGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXNbJ3EnXSA9IHE7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhwaXJlc1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZXhwaXJlc1wiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKGV4cGlyZXMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnBhcmFtcylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucGFyYW1zID0ge307XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucGFyYW1zWydleHBpcmVzJ10gPSBleHBpcmVzO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZGVsdGFfc2Vjb25kcykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRlbHRhX3NlY29uZHMuam9pbignJykpO1xuICAgICAgICB9LFxuICAgICAgICBcIjBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjBcIiwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh0ZXh0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocGFyYW0sIHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGF0YS5wYXJhbXMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnBhcmFtc1twYXJhbS50b0xvd2VyQ2FzZSgpXSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBcInJlbmRlclwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicmVuZGVyXCIsIHRydWUpLFxuICAgICAgICBcInNlc3Npb25cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNlc3Npb25cIiwgdHJ1ZSksXG4gICAgICAgIFwiaWNvblwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaWNvblwiLCB0cnVlKSxcbiAgICAgICAgXCJhbGVydFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYWxlcnRcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ0NvbnRlbnRfRGlzcG9zaXRpb24nKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnR5cGUgPSB0ZXh0KCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJoYW5kbGluZ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaGFuZGxpbmdcIiwgdHJ1ZSksXG4gICAgICAgIFwib3B0aW9uYWxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm9wdGlvbmFsXCIsIHRydWUpLFxuICAgICAgICBcInJlcXVpcmVkXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZXF1aXJlZFwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gcGFyc2VJbnQobGVuZ3RoLmpvaW4oJycpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBcInRleHRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInRleHRcIiwgdHJ1ZSksXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImltYWdlXCIsIHRydWUpLFxuICAgICAgICBcImF1ZGlvXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJhdWRpb1wiLCB0cnVlKSxcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidmlkZW9cIiwgdHJ1ZSksXG4gICAgICAgIFwiYXBwbGljYXRpb25cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImFwcGxpY2F0aW9uXCIsIHRydWUpLFxuICAgICAgICBcIm1lc3NhZ2VcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm1lc3NhZ2VcIiwgdHJ1ZSksXG4gICAgICAgIFwibXVsdGlwYXJ0XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJtdWx0aXBhcnRcIiwgdHJ1ZSksXG4gICAgICAgIFwieC1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIngtXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoY3NlcV92YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZhbHVlID0gcGFyc2VJbnQoY3NlcV92YWx1ZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChleHBpcmVzKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhID0gZXhwaXJlczsgfSxcbiAgICAgICAgZnVuY3Rpb24gKGV2ZW50X3R5cGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ldmVudCA9IGV2ZW50X3R5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgdmFyIHRhZyA9IG9wdGlvbnMuZGF0YS50YWc7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNldFBhcmFtKCd0YWcnLCB0YWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRhZ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidGFnXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodGFnKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhLnRhZyA9IHRhZzsgfSxcbiAgICAgICAgZnVuY3Rpb24gKGZvcndhcmRzKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBwYXJzZUludChmb3J3YXJkcy5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChtaW5fZXhwaXJlcykgeyBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07IG9wdGlvbnMuZGF0YSA9IG1pbl9leHBpcmVzOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGlnZXN0XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJEaWdlc3RcIiwgdHJ1ZSksXG4gICAgICAgIFwicmVhbG1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJlYWxtXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAocmVhbG0pIHsgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9OyBvcHRpb25zLmRhdGEucmVhbG0gPSByZWFsbTsgfSxcbiAgICAgICAgXCJkb21haW5cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRvbWFpblwiLCB0cnVlKSxcbiAgICAgICAgXCJub25jZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibm9uY2VcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChub25jZSkgeyBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07IG9wdGlvbnMuZGF0YS5ub25jZSA9IG5vbmNlOyB9LFxuICAgICAgICBcIm9wYXF1ZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwib3BhcXVlXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAob3BhcXVlKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhLm9wYXF1ZSA9IG9wYXF1ZTsgfSxcbiAgICAgICAgXCJzdGFsZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic3RhbGVcIiwgdHJ1ZSksXG4gICAgICAgIFwidHJ1ZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHJ1ZVwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07IG9wdGlvbnMuZGF0YS5zdGFsZSA9IHRydWU7IH0sXG4gICAgICAgIFwiZmFsc2VcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImZhbHNlXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhLnN0YWxlID0gZmFsc2U7IH0sXG4gICAgICAgIFwiYWxnb3JpdGhtXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJhbGdvcml0aG1cIiwgdHJ1ZSksXG4gICAgICAgIFwibWQ1XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJNRDVcIiwgdHJ1ZSksXG4gICAgICAgIFwibWQ1LXNlc3NcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIk1ENS1zZXNzXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoYWxnb3JpdGhtKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuYWxnb3JpdGhtID0gYWxnb3JpdGhtLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwicW9wXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJxb3BcIiwgdHJ1ZSksXG4gICAgICAgIFwiYXV0aC1pbnRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImF1dGgtaW50XCIsIHRydWUpLFxuICAgICAgICBcImF1dGhcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImF1dGhcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChxb3BfdmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5xb3AgfHwgKG9wdGlvbnMuZGF0YS5xb3AgPSBbXSk7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucW9wLnB1c2gocW9wX3ZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocmFja192YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZhbHVlID0gcGFyc2VJbnQocmFja192YWx1ZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZHgsIGxlbmd0aDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGxlbmd0aCA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXJbaWR4XS5wYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGhlYWRlcjtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlcilcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBuYW1lX2FkZHJfaGVhZGVyXzEuTmFtZUFkZHJIZWFkZXIob3B0aW9ucy5kYXRhLnVyaSwgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lLCBvcHRpb25zLmRhdGEucGFyYW1zKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnVyaTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEucGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlci5wdXNoKHsgJ3Bvc2l0aW9uJzogcGVnJGN1cnJQb3MsXG4gICAgICAgICAgICAgICAgJ29mZnNldCc6IGxvY2F0aW9uKCkuc3RhcnQub2Zmc2V0LFxuICAgICAgICAgICAgICAgICdwYXJzZWQnOiBoZWFkZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghKG9wdGlvbnMuZGF0YS5yZXBsYWNlc19mcm9tX3RhZyAmJiBvcHRpb25zLmRhdGEucmVwbGFjZXNfdG9fdGFnKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgY2FsbF9pZDogb3B0aW9ucy5kYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBcImZyb20tdGFnXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJmcm9tLXRhZ1wiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKGZyb21fdGFnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucmVwbGFjZXNfZnJvbV90YWcgPSBmcm9tX3RhZztcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0by10YWdcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInRvLXRhZ1wiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKHRvX3RhZykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJlcGxhY2VzX3RvX3RhZyA9IHRvX3RhZztcbiAgICAgICAgfSxcbiAgICAgICAgXCJlYXJseS1vbmx5XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJlYXJseS1vbmx5XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuZWFybHlfb25seSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChoZWFkLCByKSB7IHJldHVybiByOyB9LFxuICAgICAgICBmdW5jdGlvbiAoaGVhZCwgdGFpbCkgeyByZXR1cm4gbGlzdChoZWFkLCB0YWlsKTsgfSxcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgPT09ICdSZXF1aXJlJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IHZhbHVlIHx8IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocnNlcV92YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZhbHVlID0gcGFyc2VJbnQocnNlcV92YWx1ZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYWN0aXZlXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJhY3RpdmVcIiwgdHJ1ZSksXG4gICAgICAgIFwicGVuZGluZ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicGVuZGluZ1wiLCB0cnVlKSxcbiAgICAgICAgXCJ0ZXJtaW5hdGVkXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0ZXJtaW5hdGVkXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc3RhdGUgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVhc29uXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZWFzb25cIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVhc29uICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhc29uID0gcmVhc29uO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZXhwaXJlcykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBleHBpcmVzICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuZXhwaXJlcyA9IGV4cGlyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmV0cnlfYWZ0ZXJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJldHJ5X2FmdGVyXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAocmV0cnlfYWZ0ZXIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0cnlfYWZ0ZXIgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZXRyeV9hZnRlciA9IHJldHJ5X2FmdGVyO1xuICAgICAgICB9LFxuICAgICAgICBcImRlYWN0aXZhdGVkXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkZWFjdGl2YXRlZFwiLCB0cnVlKSxcbiAgICAgICAgXCJwcm9iYXRpb25cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInByb2JhdGlvblwiLCB0cnVlKSxcbiAgICAgICAgXCJyZWplY3RlZFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicmVqZWN0ZWRcIiwgdHJ1ZSksXG4gICAgICAgIFwidGltZW91dFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidGltZW91dFwiLCB0cnVlKSxcbiAgICAgICAgXCJnaXZldXBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImdpdmV1cFwiLCB0cnVlKSxcbiAgICAgICAgXCJub3Jlc291cmNlXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJub3Jlc291cmNlXCIsIHRydWUpLFxuICAgICAgICBcImludmFyaWFudFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaW52YXJpYW50XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ1N1cHBvcnRlZCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB2YWx1ZSB8fCBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgdmFyIHRhZyA9IG9wdGlvbnMuZGF0YS50YWc7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNldFBhcmFtKCd0YWcnLCB0YWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInR0bFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHRsXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmlhX3R0bF92YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnR0bCA9IHZpYV90dGxfdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIFwibWFkZHJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm1hZGRyXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmlhX21hZGRyKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEubWFkZHIgPSB2aWFfbWFkZHI7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVjZWl2ZWRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJlY2VpdmVkXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmlhX3JlY2VpdmVkKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucmVjZWl2ZWQgPSB2aWFfcmVjZWl2ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYnJhbmNoXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJicmFuY2hcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfYnJhbmNoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuYnJhbmNoID0gdmlhX2JyYW5jaDtcbiAgICAgICAgfSxcbiAgICAgICAgXCJycG9ydFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicnBvcnRcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZV9wb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlX3BvcnQgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ycG9ydCA9IHJlc3BvbnNlX3BvcnQuam9pbignJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfcHJvdG9jb2wpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wcm90b2NvbCA9IHZpYV9wcm90b2NvbDtcbiAgICAgICAgfSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlVEUFwiLCB0cnVlKSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlRDUFwiLCB0cnVlKSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlRMU1wiLCB0cnVlKSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlNDVFBcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudHJhbnNwb3J0ID0gdmlhX3RyYW5zcG9ydDtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmhvc3QgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfc2VudF9ieV9wb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucG9ydCA9IHBhcnNlSW50KHZpYV9zZW50X2J5X3BvcnQuam9pbignJykpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAodHRsKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodHRsLmpvaW4oJycpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGRlbHRhU2Vjb25kcykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnU2Vzc2lvbl9FeHBpcmVzJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5kZWx0YVNlY29uZHMgPSBkZWx0YVNlY29uZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVmcmVzaGVyXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZWZyZXNoZXJcIiwgZmFsc2UpLFxuICAgICAgICBcInVhc1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidWFzXCIsIGZhbHNlKSxcbiAgICAgICAgXCJ1YWNcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInVhY1wiLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnU2Vzc2lvbl9FeHBpcmVzJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWZyZXNoZXIgPSBlbmRwb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGRlbHRhU2Vjb25kcykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnTWluX1NFJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IGRlbHRhU2Vjb25kcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdHVuc1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic3R1bnNcIiwgdHJ1ZSksXG4gICAgICAgIFwic3R1blwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic3R1blwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKHNjaGVtZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNjaGVtZSA9IHNjaGVtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ob3N0ID0gaG9zdDtcbiAgICAgICAgfSxcbiAgICAgICAgXCI/dHJhbnNwb3J0PVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiP3RyYW5zcG9ydD1cIiwgZmFsc2UpLFxuICAgICAgICBcInR1cm5zXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0dXJuc1wiLCB0cnVlKSxcbiAgICAgICAgXCJ0dXJuXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0dXJuXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiUmVmZXJyZWQtQnlcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlJlZmVycmVkLUJ5XCIsIGZhbHNlKSxcbiAgICAgICAgXCJiXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJiXCIsIGZhbHNlKSxcbiAgICAgICAgXCJjaWRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImNpZFwiLCBmYWxzZSlcbiAgICBdO1xuICAgIHZhciBwZWckYnl0ZWNvZGUgPSBbXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyIFxcXCJcXFwiNiA3IVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjRcXFwiXFxcIlxcXCI1ITcjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiNCRcXFwiXFxcIjUhNyVcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0JlxcXCJcXFwiNSE3J1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjsnLiMgJjsoXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiNChcXFwiXFxcIjUhNylcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0KlxcXCJcXFwiNSE3K1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjIsXFxcIlxcXCI2LDctXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMi5cXFwiXFxcIjYuNy9cIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0MFxcXCJcXFwiNSE3MVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjIyXFxcIlxcXCI2MjczLlxceDg5ICYyNFxcXCJcXFwiNjQ3NS59ICYyNlxcXCJcXFwiNjY3Ny5xICYyOFxcXCJcXFwiNjg3OS5lICYyOlxcXCJcXFwiNjo3Oy5ZICYyPFxcXCJcXFwiNjw3PS5NICYyPlxcXCJcXFwiNj43Py5BICYyQFxcXCJcXFwiNkA3QS41ICYyQlxcXCJcXFwiNkI3Qy4pICYyRFxcXCJcXFwiNkQ3RVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjspLiMgJjssXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMkZcXFwiXFxcIjZGN0cufSAmMkhcXFwiXFxcIjZIN0kucSAmMkpcXFwiXFxcIjZKN0suZSAmMkxcXFwiXFxcIjZMN00uWSAmMk5cXFwiXFxcIjZON08uTSAmMlBcXFwiXFxcIjZQN1EuQSAmMlJcXFwiXFxcIjZSN1MuNSAmMlRcXFwiXFxcIjZUN1UuKSAmMlZcXFwiXFxcIjZWN1dcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJTJYXFxcIlxcXCI2WDdZLzUjOyMvLCQ7Iy8jJCsjKSgjJyMoXFxcIicjJicjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSUkOyQwIyo7JCYvLCM7IC8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi89IyQ7JC8mIzAjKjskJiYmIy8nJDhcXFwiOlpcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiOy4uXFxcIiAmXFxcIlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkOycuIyAmOygwKSo7Jy4jICY7KCYvPyMyOFxcXCJcXFwiNjg3OS8wJDsvLyckOCM6WyMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSUkOzIvJiMwIyo7MiYmJiMvZyMkJSQ7LjAjKjsuJi8sIzsyLyMkK1xcXCIpKFxcXCInIyYnIzA9KiUkOy4wIyo7LiYvLCM7Mi8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjRcXFxcXFxcIlxcXCI1ITddLiMgJjszXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiNF5cXFwiXFxcIjUhN19cIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0YFxcXCJcXFwiNSE3YVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjshLikgJjRiXFxcIlxcXCI1ITdjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7KS5cXHg5NSAmMkZcXFwiXFxcIjZGN0cuXFx4ODkgJjJKXFxcIlxcXCI2SjdLLn0gJjJMXFxcIlxcXCI2TDdNLnEgJjJYXFxcIlxcXCI2WDdZLmUgJjJQXFxcIlxcXCI2UDdRLlkgJjJIXFxcIlxcXCI2SDdJLk0gJjJAXFxcIlxcXCI2QDdBLkEgJjJkXFxcIlxcXCI2ZDdlLjUgJjJSXFxcIlxcXCI2UjdTLikgJjJOXFxcIlxcXCI2TjdPL1xceDlFIzBcXHg5Qio7KS5cXHg5NSAmMkZcXFwiXFxcIjZGN0cuXFx4ODkgJjJKXFxcIlxcXCI2SjdLLn0gJjJMXFxcIlxcXCI2TDdNLnEgJjJYXFxcIlxcXCI2WDdZLmUgJjJQXFxcIlxcXCI2UDdRLlkgJjJIXFxcIlxcXCI2SDdJLk0gJjJAXFxcIlxcXCI2QDdBLkEgJjJkXFxcIlxcXCI2ZDdlLjUgJjJSXFxcIlxcXCI2UjdTLikgJjJOXFxcIlxcXCI2TjdPJiYmIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkOykuXFx4ODkgJjJGXFxcIlxcXCI2RjdHLn0gJjJMXFxcIlxcXCI2TDdNLnEgJjJYXFxcIlxcXCI2WDdZLmUgJjJQXFxcIlxcXCI2UDdRLlkgJjJIXFxcIlxcXCI2SDdJLk0gJjJAXFxcIlxcXCI2QDdBLkEgJjJkXFxcIlxcXCI2ZDdlLjUgJjJSXFxcIlxcXCI2UjdTLikgJjJOXFxcIlxcXCI2TjdPL1xceDkyIzBcXHg4Rio7KS5cXHg4OSAmMkZcXFwiXFxcIjZGN0cufSAmMkxcXFwiXFxcIjZMN00ucSAmMlhcXFwiXFxcIjZYN1kuZSAmMlBcXFwiXFxcIjZQN1EuWSAmMkhcXFwiXFxcIjZIN0kuTSAmMkBcXFwiXFxcIjZAN0EuQSAmMmRcXFwiXFxcIjZkN2UuNSAmMlJcXFwiXFxcIjZSN1MuKSAmMk5cXFwiXFxcIjZON08mJiYjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlRcXFwiXFxcIjZUN1UuXFx4RTMgJjJWXFxcIlxcXCI2VjdXLlxceEQ3ICYyZlxcXCJcXFwiNmY3Zy5cXHhDQiAmMmhcXFwiXFxcIjZoN2kuXFx4QkYgJjI6XFxcIlxcXCI2Ojc7LlxceEIzICYyRFxcXCJcXFwiNkQ3RS5cXHhBNyAmMjJcXFwiXFxcIjYyNzMuXFx4OUIgJjI4XFxcIlxcXCI2ODc5LlxceDhGICYyalxcXCJcXFwiNmo3ay5cXHg4MyAmOyYufSAmMjRcXFwiXFxcIjY0NzUucSAmMmxcXFwiXFxcIjZsN20uZSAmMm5cXFwiXFxcIjZuN28uWSAmMjZcXFwiXFxcIjY2NzcuTSAmMj5cXFwiXFxcIjY+Nz8uQSAmMnBcXFwiXFxcIjZwN3EuNSAmMnJcXFwiXFxcIjZyN3MuKSAmOycuIyAmOyhcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJDspLlxcdTAxMkIgJjJGXFxcIlxcXCI2RjdHLlxcdTAxMUYgJjJKXFxcIlxcXCI2SjdLLlxcdTAxMTMgJjJMXFxcIlxcXCI2TDdNLlxcdTAxMDcgJjJYXFxcIlxcXCI2WDdZLlxceEZCICYyUFxcXCJcXFwiNlA3US5cXHhFRiAmMkhcXFwiXFxcIjZIN0kuXFx4RTMgJjJAXFxcIlxcXCI2QDdBLlxceEQ3ICYyZFxcXCJcXFwiNmQ3ZS5cXHhDQiAmMlJcXFwiXFxcIjZSN1MuXFx4QkYgJjJOXFxcIlxcXCI2TjdPLlxceEIzICYyVFxcXCJcXFwiNlQ3VS5cXHhBNyAmMlZcXFwiXFxcIjZWN1cuXFx4OUIgJjJmXFxcIlxcXCI2ZjdnLlxceDhGICYyaFxcXCJcXFwiNmg3aS5cXHg4MyAmMjhcXFwiXFxcIjY4NzkudyAmMmpcXFwiXFxcIjZqN2suayAmOyYuZSAmMjRcXFwiXFxcIjY0NzUuWSAmMmxcXFwiXFxcIjZsN20uTSAmMm5cXFwiXFxcIjZuN28uQSAmMjZcXFwiXFxcIjY2NzcuNSAmMnBcXFwiXFxcIjZwN3EuKSAmMnJcXFwiXFxcIjZyN3MvXFx1MDEzNCMwXFx1MDEzMSo7KS5cXHUwMTJCICYyRlxcXCJcXFwiNkY3Ry5cXHUwMTFGICYySlxcXCJcXFwiNko3Sy5cXHUwMTEzICYyTFxcXCJcXFwiNkw3TS5cXHUwMTA3ICYyWFxcXCJcXFwiNlg3WS5cXHhGQiAmMlBcXFwiXFxcIjZQN1EuXFx4RUYgJjJIXFxcIlxcXCI2SDdJLlxceEUzICYyQFxcXCJcXFwiNkA3QS5cXHhENyAmMmRcXFwiXFxcIjZkN2UuXFx4Q0IgJjJSXFxcIlxcXCI2UjdTLlxceEJGICYyTlxcXCJcXFwiNk43Ty5cXHhCMyAmMlRcXFwiXFxcIjZUN1UuXFx4QTcgJjJWXFxcIlxcXCI2VjdXLlxceDlCICYyZlxcXCJcXFwiNmY3Zy5cXHg4RiAmMmhcXFwiXFxcIjZoN2kuXFx4ODMgJjI4XFxcIlxcXCI2ODc5LncgJjJqXFxcIlxcXCI2ajdrLmsgJjsmLmUgJjI0XFxcIlxcXCI2NDc1LlkgJjJsXFxcIlxcXCI2bDdtLk0gJjJuXFxcIlxcXCI2bjdvLkEgJjI2XFxcIlxcXCI2Njc3LjUgJjJwXFxcIlxcXCI2cDdxLikgJjJyXFxcIlxcXCI2cjdzJiYmIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly8/IzJQXFxcIlxcXCI2UDdRLzAkOy8vJyQ4Izp0IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vPyMyNFxcXCJcXFwiNjQ3NS8wJDsvLyckOCM6dSMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsvLz8jMj5cXFwiXFxcIjY+Nz8vMCQ7Ly8nJDgjOnYjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly8/IzJUXFxcIlxcXCI2VDdVLzAkOy8vJyQ4Izp3IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vPyMyVlxcXCJcXFwiNlY3Vy8wJDsvLyckOCM6eCMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJoXFxcIlxcXCI2aDdpLzAjOy8vJyQ4XFxcIjp5XFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly82IzJmXFxcIlxcXCI2ZjdnLyckOFxcXCI6elxcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vPyMyRFxcXCJcXFwiNkQ3RS8wJDsvLyckOCM6eyMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsvLz8jMjJcXFwiXFxcIjYyNzMvMCQ7Ly8nJDgjOnwjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly8/IzI4XFxcIlxcXCI2ODc5LzAkOy8vJyQ4Izp9IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vMCM7Ji8nJDhcXFwiOn5cXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsmLzAjOy8vJyQ4XFxcIjp+XFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7PS9UIyQ7Ry4pICY7Sy4jICY7RjAvKjtHLikgJjtLLiMgJjtGJi8sJDs+LyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0XFx4N0ZcXFwiXFxcIjUhN1xceDgwLkEgJjRcXHg4MVxcXCJcXFwiNSE3XFx4ODIuNSAmNFxceDgzXFxcIlxcXCI1ITdcXHg4NC4pICY7My4jICY7LlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOy8vUSM7Ji9IJCQ7Si4jICY7SzApKjtKLiMgJjtLJi8sJDsmLyMkKyQpKCQnIygjJyMoXFxcIicjJicjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsvL10jOyYvVCQlJDtKLiMgJjtLMCkqO0ouIyAmO0smL1xcXCIhJiwpLzEkOyYvKCQ4JDpcXHg4NSQhISkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Li5HICYyTFxcXCJcXFwiNkw3TS47ICY0XFx4ODZcXFwiXFxcIjUhN1xceDg3Li8gJjRcXHg4M1xcXCJcXFwiNSE3XFx4ODQuIyAmOzNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMmpcXFwiXFxcIjZqN2svSiM0XFx4ODhcXFwiXFxcIjUhN1xceDg5LjUgJjRcXHg4QVxcXCJcXFwiNSE3XFx4OEIuKSAmNFxceDhDXFxcIlxcXCI1ITdcXHg4RC8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO04vTSMyOFxcXCJcXFwiNjg3OS8+JDtPLlxcXCIgJlxcXCIvMCQ7Uy8nJDgkOlxceDhFJCApKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtOL2QjMjhcXFwiXFxcIjY4NzkvVSQ7Ty5cXFwiICZcXFwiL0ckO1MvPiQ7Xy81JDtsLlxcXCIgJlxcXCIvJyQ4JjpcXHg4RiYgKSgmJyMoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHg5MFxcXCJcXFwiNSQ3XFx4OTEuKSAmM1xceDkyXFxcIlxcXCI1IzdcXHg5My8nIDghOlxceDk0ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7UC9dIyUyOFxcXCJcXFwiNjg3OS8sIztSLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLzYkMjpcXFwiXFxcIjY6NzsvJyQ4IzpcXHg5NSMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJDsrLikgJjstLiMgJjtRLzIjMC8qOysuKSAmOy0uIyAmO1EmJiYjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMjxcXFwiXFxcIjY8Nz0ucSAmMj5cXFwiXFxcIjY+Nz8uZSAmMkBcXFwiXFxcIjZAN0EuWSAmMkJcXFwiXFxcIjZCN0MuTSAmMkRcXFwiXFxcIjZEN0UuQSAmMjJcXFwiXFxcIjYyNzMuNSAmMjZcXFwiXFxcIjY2NzcuKSAmMjRcXFwiXFxcIjY0NzVcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJDsrLl8gJjstLlkgJjI8XFxcIlxcXCI2PDc9Lk0gJjI+XFxcIlxcXCI2Pjc/LkEgJjJAXFxcIlxcXCI2QDdBLjUgJjJCXFxcIlxcXCI2QjdDLikgJjJEXFxcIlxcXCI2RDdFMGUqOysuXyAmOy0uWSAmMjxcXFwiXFxcIjY8Nz0uTSAmMj5cXFwiXFxcIjY+Nz8uQSAmMkBcXFwiXFxcIjZAN0EuNSAmMkJcXFwiXFxcIjZCN0MuKSAmMkRcXFwiXFxcIjZEN0UmLyYgOCE6XFx4OTYhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1QvSiMlMjhcXFwiXFxcIjY4NzkvLCM7Xi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1UuKSAmO1xcXFwuIyAmO1gvJiA4ITpcXHg5NyEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkJTtWLzIjMkpcXFwiXFxcIjZKN0svIyQrXFxcIikoXFxcIicjJicjMDwqJTtWLzIjMkpcXFwiXFxcIjZKN0svIyQrXFxcIikoXFxcIicjJicjJi9EIztXLzskMkpcXFwiXFxcIjZKN0suXFxcIiAmXFxcIi8nJDgjOlxceDk4IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkNFxceDk5XFxcIlxcXCI1ITdcXHg5QS8sIzApKjRcXHg5OVxcXCJcXFwiNSE3XFx4OUEmJiYjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTQkXFxcIlxcXCI1ITclLz8jJDRcXHg5QlxcXCJcXFwiNSE3XFx4OUMwKSo0XFx4OUJcXFwiXFxcIjUhN1xceDlDJi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMmxcXFwiXFxcIjZsN20vPyM7WS82JDJuXFxcIlxcXCI2bjdvLyckOCM6XFx4OUQjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlO1ovXFx4QjMjMjhcXFwiXFxcIjY4NzkvXFx4QTQkO1ovXFx4OUIkMjhcXFwiXFxcIjY4NzkvXFx4OEMkO1ovXFx4ODMkMjhcXFwiXFxcIjY4NzkvdCQ7Wi9rJDI4XFxcIlxcXCI2ODc5L1xcXFwkO1ovUyQyOFxcXCJcXFwiNjg3OS9EJDtaLzskMjhcXFwiXFxcIjY4NzkvLCQ7Wy8jJCstKSgtJyMoLCcjKCsnIygqJyMoKScjKCgnIygnJyMoJicjKCUnIygkJyMoIycjKFxcXCInIyYnIy5cXHUwNzkwICYlMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvXFx4QTQjO1ovXFx4OUIkMjhcXFwiXFxcIjY4NzkvXFx4OEMkO1ovXFx4ODMkMjhcXFwiXFxcIjY4NzkvdCQ7Wi9rJDI4XFxcIlxcXCI2ODc5L1xcXFwkO1ovUyQyOFxcXCJcXFwiNjg3OS9EJDtaLzskMjhcXFwiXFxcIjY4NzkvLCQ7Wy8jJCssKSgsJyMoKycjKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA2RjkgJiUyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri9cXHg4QyM7Wi9cXHg4MyQyOFxcXCJcXFwiNjg3OS90JDtaL2skMjhcXFwiXFxcIjY4NzkvXFxcXCQ7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyopKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA2N0EgJiUyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri90IztaL2skMjhcXFwiXFxcIjY4NzkvXFxcXCQ7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKygpKCgnIygnJyMoJicjKCUnIygkJyMoIycjKFxcXCInIyYnIy5cXHUwNjEzICYlMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvXFxcXCM7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyYpKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyMuXFx1MDVDNCAmJTJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGL0QjO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyQpKCQnIygjJyMoXFxcIicjJicjLlxcdTA1OEQgJiUyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri8sIztbLyMkK1xcXCIpKFxcXCInIyYnIy5cXHUwNTZFICYlMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFx1MDU0RiAmJTtaL1xceDlCIzJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGL1xceDhDJDtaL1xceDgzJDI4XFxcIlxcXCI2ODc5L3QkO1ovayQyOFxcXCJcXFwiNjg3OS9cXFxcJDtaL1MkMjhcXFwiXFxcIjY4NzkvRCQ7Wi87JDI4XFxcIlxcXCI2ODc5LywkO1svIyQrKykoKycjKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA0QzcgJiU7Wi9cXHhBQSMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHg4MyQyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri90JDtaL2skMjhcXFwiXFxcIjY4NzkvXFxcXCQ7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyopKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA0MzAgJiU7Wi9cXHhCOSMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHg5MiQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9rJDJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGL1xcXFwkO1ovUyQyOFxcXCJcXFwiNjg3OS9EJDtaLzskMjhcXFwiXFxcIjY4NzkvLCQ7Wy8jJCspKSgpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTAzOEEgJiU7Wi9cXHhDOCMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHhBMSQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi96JCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1MkMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvRCQ7Wi87JDI4XFxcIlxcXCI2ODc5LywkO1svIyQrKCkoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTAyRDUgJiU7Wi9cXHhENyMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHhCMCQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHg4OSQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9iJCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLzskMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvLCQ7Wy8jJCsnKSgnJyMoJicjKCUnIygkJyMoIycjKFxcXCInIyYnIy5cXHUwMjExICYlO1ovXFx4RkUjJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvXFx4RDckJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvXFx4QjAkJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvXFx4ODkkJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvYiQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi87JDJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGLywkO1ovIyQrKCkoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTAxMjYgJiU7Wi9cXHUwMTFDIyUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceEY1JCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceENFJCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceEE3JCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceDgwJCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1kkJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvMiQyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri8jJCsoKSgoJyMoJycjKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyMvJiA4ITpcXHhBMCEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Iy9NIzsjLlxcXCIgJlxcXCIvPyQ7Iy5cXFwiICZcXFwiLzEkOyMuXFxcIiAmXFxcIi8jJCskKSgkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Wi87IzI4XFxcIlxcXCI2ODc5LywkO1ovIyQrIykoIycjKFxcXCInIyYnIy4jICY7XFxcXFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XS9vIzJKXFxcIlxcXCI2SjdLL2AkO10vVyQySlxcXCJcXFwiNko3Sy9IJDtdLz8kMkpcXFwiXFxcIjZKN0svMCQ7XS8nJDgnOlxceEExJyApKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJcXHhBMlxcXCJcXFwiNlxceEEyN1xceEEzLzIjNFxceEE0XFxcIlxcXCI1ITdcXHhBNS8jJCtcXFwiKShcXFwiJyMmJyMuXFx4OTggJiUyXFx4QTZcXFwiXFxcIjZcXHhBNjdcXHhBNy87IzRcXHhBOFxcXCJcXFwiNSE3XFx4QTkvLCQ7IS8jJCsjKSgjJyMoXFxcIicjJicjLmogJiUyXFx4QUFcXFwiXFxcIjZcXHhBQTdcXHhBQi81IzshLywkOyEvIyQrIykoIycjKFxcXCInIyYnIy5CICYlNFxceEFDXFxcIlxcXCI1ITdcXHhBRC8sIzshLyMkK1xcXCIpKFxcXCInIyYnIy4jICY7IVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOyEuXFxcIiAmXFxcIi9bIzshLlxcXCIgJlxcXCIvTSQ7IS5cXFwiICZcXFwiLz8kOyEuXFxcIiAmXFxcIi8xJDshLlxcXCIgJlxcXCIvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjLycgOCE6XFx4QUUhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJCUyMlxcXCJcXFwiNjI3My8sIztgLyMkK1xcXCIpKFxcXCInIyYnIzA8KiUyMlxcXCJcXFwiNjI3My8sIztgLyMkK1xcXCIpKFxcXCInIyYnIyZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7YS5BICY7Yi47ICY7Yy41ICY7ZC4vICY7ZS4pICY7Zi4jICY7Z1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4QUZcXFwiXFxcIjUqN1xceEIwL2EjM1xceEIxXFxcIlxcXCI1IzdcXHhCMi5HICYzXFx4QjNcXFwiXFxcIjUjN1xceEI0LjsgJjNcXHhCNVxcXCJcXFwiNSQ3XFx4QjYuLyAmM1xceEI3XFxcIlxcXCI1IzdcXHhCOC4jICY7Ni8oJDhcXFwiOlxceEI5XFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEJBXFxcIlxcXCI1JTdcXHhCQi9JIzNcXHhCQ1xcXCJcXFwiNSU3XFx4QkQuLyAmM1xceEJFXFxcIlxcXCI1XFxcIjdcXHhCRi4jICY7Ni8oJDhcXFwiOlxceEMwXFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEMxXFxcIlxcXCI1JzdcXHhDMi8xIztcXHg5MC8oJDhcXFwiOlxceEMzXFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEM0XFxcIlxcXCI1JDdcXHhDNS8xIztcXHhGMC8oJDhcXFwiOlxceEM2XFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEM3XFxcIlxcXCI1JjdcXHhDOC8xIztULygkOFxcXCI6XFx4QzlcXFwiISApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4Q0FcXFwiXFxcIjVcXFwiN1xceENCL04jJTI+XFxcIlxcXCI2Pjc/LywjOzYvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvJyQ4XFxcIjpcXHhDQ1xcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO2gvUCMlMj5cXFwiXFxcIjY+Nz8vLCM7aS8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8pJDhcXFwiOlxceENEXFxcIlxcXCIhICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7ai8mIzAjKjtqJiYmIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkO2ovJiMwIyo7aiYmJiMvXFxcIiEmLClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7ay4pICY7Ky4jICY7LVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJsXFxcIlxcXCI2bDdtLmUgJjJuXFxcIlxcXCI2bjdvLlkgJjI0XFxcIlxcXCI2NDc1Lk0gJjI4XFxcIlxcXCI2ODc5LkEgJjI8XFxcIlxcXCI2PDc9LjUgJjJAXFxcIlxcXCI2QDdBLikgJjJCXFxcIlxcXCI2QjdDXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTI2XFxcIlxcXCI2Njc3L24jO20vZSQkJTI8XFxcIlxcXCI2PDc9LywjO20vIyQrXFxcIikoXFxcIicjJicjMDwqJTI8XFxcIlxcXCI2PDc9LywjO20vIyQrXFxcIikoXFxcIicjJicjJi8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtuL0EjMj5cXFwiXFxcIjY+Nz8vMiQ7by8pJDgjOlxceENFI1xcXCJcXFwiICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiQ7cC4pICY7Ky4jICY7LS8yIzAvKjtwLikgJjsrLiMgJjstJiYmI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiQ7cC4pICY7Ky4jICY7LTAvKjtwLikgJjsrLiMgJjstJlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJsXFxcIlxcXCI2bDdtLmUgJjJuXFxcIlxcXCI2bjdvLlkgJjI0XFxcIlxcXCI2NDc1Lk0gJjI2XFxcIlxcXCI2Njc3LkEgJjI4XFxcIlxcXCI2ODc5LjUgJjJAXFxcIlxcXCI2QDdBLikgJjJCXFxcIlxcXCI2QjdDXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceDkxLiMgJjtyXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5MC9HIzsnLz4kO3MvNSQ7Jy8sJDtcXHg4NC8jJCslKSglJyMoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7TS4jICY7dFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4N0YvRSMyOFxcXCJcXFwiNjg3OS82JDt1LiMgJjt4LyckOCM6XFx4Q0YjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7di4jICY7dy9KIyUyNlxcXCJcXFwiNjY3Ny8sIztcXHg4My8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMlxceEQwXFxcIlxcXCI2XFx4RDA3XFx4RDEvOiM7XFx4ODAvMSQ7dy5cXFwiICZcXFwiLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMjRcXFwiXFxcIjY0NzUvLCM7ey8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO3ovMyMkO3kwIyo7eSYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiOyouKSAmOysuIyAmOy1cIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Ky5cXHg4RiAmOy0uXFx4ODkgJjIyXFxcIlxcXCI2MjczLn0gJjI2XFxcIlxcXCI2Njc3LnEgJjI4XFxcIlxcXCI2ODc5LmUgJjI6XFxcIlxcXCI2Ojc7LlkgJjI8XFxcIlxcXCI2PDc9Lk0gJjI+XFxcIlxcXCI2Pjc/LkEgJjJAXFxcIlxcXCI2QDdBLjUgJjJCXFxcIlxcXCI2QjdDLikgJjJEXFxcIlxcXCI2RDdFXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTt8L2UjJCUyNFxcXCJcXFwiNjQ3NS8sIzt8LyMkK1xcXCIpKFxcXCInIyYnIzA8KiUyNFxcXCJcXFwiNjQ3NS8sIzt8LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7fjAjKjt+Ji9lIyQlMjJcXFwiXFxcIjYyNzMvLCM7fS8jJCtcXFwiKShcXFwiJyMmJyMwPColMjJcXFwiXFxcIjYyNzMvLCM7fS8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiQ7fjAjKjt+JlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjsrLncgJjstLnEgJjI4XFxcIlxcXCI2ODc5LmUgJjI6XFxcIlxcXCI2Ojc7LlkgJjI8XFxcIlxcXCI2PDc9Lk0gJjI+XFxcIlxcXCI2Pjc/LkEgJjJAXFxcIlxcXCI2QDdBLjUgJjJCXFxcIlxcXCI2QjdDLikgJjJEXFxcIlxcXCI2RDdFXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7XFxcIi9cXHg4NyMkO1xcXCIuRyAmOyEuQSAmMkBcXFwiXFxcIjZAN0EuNSAmMkZcXFwiXFxcIjZGN0cuKSAmMkpcXFwiXFxcIjZKN0swTSo7XFxcIi5HICY7IS5BICYyQFxcXCJcXFwiNkA3QS41ICYyRlxcXCJcXFwiNkY3Ry4pICYySlxcXCJcXFwiNko3SyYvIyQrXFxcIikoXFxcIicjJicjLyYgOCE6XFx4RDIhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4ODEuIyAmO1xceDgyXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7Ty8yIzI6XFxcIlxcXCI2Ojc7LyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLywjO1MvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCJcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkOysuXFx4ODMgJjstLn0gJjJCXFxcIlxcXCI2QjdDLnEgJjJEXFxcIlxcXCI2RDdFLmUgJjIyXFxcIlxcXCI2MjczLlkgJjI4XFxcIlxcXCI2ODc5Lk0gJjI6XFxcIlxcXCI2Ojc7LkEgJjI8XFxcIlxcXCI2PDc9LjUgJjI+XFxcIlxcXCI2Pjc/LikgJjJAXFxcIlxcXCI2QDdBL1xceDhDIzBcXHg4OSo7Ky5cXHg4MyAmOy0ufSAmMkJcXFwiXFxcIjZCN0MucSAmMkRcXFwiXFxcIjZEN0UuZSAmMjJcXFwiXFxcIjYyNzMuWSAmMjhcXFwiXFxcIjY4NzkuTSAmMjpcXFwiXFxcIjY6NzsuQSAmMjxcXFwiXFxcIjY8Nz0uNSAmMj5cXFwiXFxcIjY+Nz8uKSAmMkBcXFwiXFxcIjZAN0EmJiYjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJDt5MCMqO3kmXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHg5MlxcXCJcXFwiNSM3XFx4RDMvcSMyNFxcXCJcXFwiNjQ3NS9iJCQ7IS8mIzAjKjshJiYmIy9MJDJKXFxcIlxcXCI2SjdLLz0kJDshLyYjMCMqOyEmJiYjLyckOCU6XFx4RDQlICkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceEQ1XFxcIlxcXCI2XFx4RDU3XFx4RDZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RDdcXFwiXFxcIjZcXHhENzdcXHhEOFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJcXHhEOVxcXCJcXFwiNlxceEQ5N1xceERBXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceERCXFxcIlxcXCI2XFx4REI3XFx4RENcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RERcXFwiXFxcIjZcXHhERDdcXHhERVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJcXHhERlxcXCJcXFwiNlxceERGN1xceEUwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceEUxXFxcIlxcXCI2XFx4RTE3XFx4RTJcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RTNcXFwiXFxcIjZcXHhFMzdcXHhFNFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJcXHhFNVxcXCJcXFwiNlxceEU1N1xceEU2XCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceEU3XFxcIlxcXCI2XFx4RTc3XFx4RThcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RTlcXFwiXFxcIjZcXHhFOTdcXHhFQVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4ODUuWSAmO1xceDg2LlMgJjtcXHg4OC5NICY7XFx4ODkuRyAmO1xceDhBLkEgJjtcXHg4Qi47ICY7XFx4OEMuNSAmO1xceDhGLi8gJjtcXHg4RC4pICY7XFx4OEUuIyAmOzYvJiA4ITpcXHhFQiEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4ODQvRyM7Jy8+JDtcXHg5Mi81JDsnLywkO1xceDk0LyMkKyUpKCUnIygkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4OTMvJyA4ITpcXHhFQyEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOyEvNSM7IS8sJDshLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJDsqLkEgJjsrLjsgJjstLjUgJjszLi8gJjs0LikgJjsnLiMgJjsoMEcqOyouQSAmOysuOyAmOy0uNSAmOzMuLyAmOzQuKSAmOycuIyAmOygmLyYgOCE6XFx4RUQhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEI2L1kjJCU7QS8sIztcXHhCNi8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0EvLCM7XFx4QjYvIyQrXFxcIikoXFxcIicjJicjJi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOzkvTiMlMjpcXFwiXFxcIjY6NzsvLCM7OS8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8nJDhcXFwiOlxceEVFXFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Oi5jICYlO1xceDk4L1kjJCU7QS8sIztcXHg5OC8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0EvLCM7XFx4OTgvIyQrXFxcIikoXFxcIicjJicjJi8jJCtcXFwiKShcXFwiJyMmJyMvJiA4ITpcXHhFRiEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7TC4jICY7XFx4OTkvXSMkJTtCLywjO1xceDlCLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHg5Qi8jJCtcXFwiKShcXFwiJyMmJyMmLyckOFxcXCI6XFx4RjBcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5QS5cXFwiICZcXFwiLz4jO0AvNSQ7TS8sJDs/LyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7Ni9ZIyQlOy4vLCM7Ni8jJCtcXFwiKShcXFwiJyMmJyMwNiolOy4vLCM7Ni8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnIy4jICY7SC8nIDghOlxceEYxISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHg5Qy4pICY7XFx4OUQuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHhGMlxcXCJcXFwiNSE3XFx4RjMvOiM7PC8xJDtcXHg5Ri8oJDgjOlxceEY0IyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHhGNVxcXCJcXFwiNSc3XFx4RjYvOiM7PC8xJDtcXHg5RS8oJDgjOlxceEY3IyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxceEY4ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUyXFx4RjlcXFwiXFxcIjZcXHhGOTdcXHhGQS9vIyUySlxcXCJcXFwiNko3Sy9NIzshLlxcXCIgJlxcXCIvPyQ7IS5cXFwiICZcXFwiLzEkOyEuXFxcIiAmXFxcIi8jJCskKSgkJyMoIycjKFxcXCInIyYnIy5cXFwiICZcXFwiLyckOFxcXCI6XFx4RkJcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTs2L0ojJTs8LywjO1xceEExLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLykkOFxcXCI6XFx4RkNcXFwiXFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Ni4pICY7VC4jICY7SFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4QTMvWSMkJTtCLywjO1xceEE0LyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhBNC8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4RkRcXFwiXFxcIjUmN1xceEZFLkcgJjNcXHhGRlxcXCJcXFwiNSc3XFx1MDEwMC47ICYzXFx1MDEwMVxcXCJcXFwiNSQ3XFx1MDEwMi4vICYzXFx1MDEwM1xcXCJcXFwiNSU3XFx1MDEwNC4jICY7Ni8mIDghOlxcdTAxMDUhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4QTUuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTA2XFxcIlxcXCI1KDdcXHUwMTA3L00jOzwvRCQzXFx1MDEwOFxcXCJcXFwiNSg3XFx1MDEwOS4vICYzXFx1MDEwQVxcXCJcXFwiNSg3XFx1MDEwQi4jICY7Ni8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTs2L1kjJCU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxMEMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhBOS8mIDghOlxcdTAxMEQhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEFBL2sjOzsvYiQ7XFx4QUYvWSQkJTtCLywjO1xceEIwLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhCMC8jJCtcXFwiKShcXFwiJyMmJyMmLyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceEFCLiMgJjtcXHhBQ1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjNcXHUwMTBFXFxcIlxcXCI1JDdcXHUwMTBGLlMgJjNcXHUwMTEwXFxcIlxcXCI1JTdcXHUwMTExLkcgJjNcXHUwMTEyXFxcIlxcXCI1JTdcXHUwMTEzLjsgJjNcXHUwMTE0XFxcIlxcXCI1JTdcXHUwMTE1Li8gJjNcXHUwMTE2XFxcIlxcXCI1KzdcXHUwMTE3LiMgJjtcXHhBRFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjNcXHUwMTE4XFxcIlxcXCI1JzdcXHUwMTE5Li8gJjNcXHUwMTFBXFxcIlxcXCI1KTdcXHUwMTFCLiMgJjtcXHhBRFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjs2LiMgJjtcXHhBRVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDExQ1xcXCJcXFwiNVxcXCI3XFx1MDExRC8sIzs2LyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHhBRC4jICY7NlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ni81Izs8LywkO1xceEIxLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Ni4jICY7SFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4QjMvNSM7Li8sJDtcXHg5MC8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxMUUhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5RS8nIDghOlxcdTAxMUYhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhCNi9eIyQlO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIyYvKCQ4XFxcIjpcXHUwMTIwXFxcIiEhKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJTs3L2UjJCUySlxcXCJcXFwiNko3Sy8sIzs3LyMkK1xcXCIpKFxcXCInIyYnIzA8KiUySlxcXCJcXFwiNko3Sy8sIzs3LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtMLiMgJjtcXHg5OS9dIyQlO0IvLCM7XFx4QjgvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEI4LyMkK1xcXCIpKFxcXCInIyYnIyYvJyQ4XFxcIjpcXHUwMTIxXFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHhCOS4jICY7XFx4QTBcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xcdTAxMjJcXFwiXFxcIjUjN1xcdTAxMjMvOiM7PC8xJDs2LygkOCM6XFx1MDEyNCMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkOyEvJiMwIyo7ISYmJiMvJyA4ITpcXHUwMTI1ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4OUUvJyA4ITpcXHUwMTI2ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkO1xceDlBMCMqO1xceDlBJi94IztAL28kO00vZiQ7Py9dJCQlO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIyYvJyQ4JTpcXHUwMTI3JSApKCUnIygkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHhCRVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEyOFxcXCJcXFwiNSY3XFx1MDEyOS9rIzsuL2IkO1xceEMxL1kkJCU7QS8sIztcXHhDMS8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0EvLCM7XFx4QzEvIyQrXFxcIikoXFxcIicjJicjJi8jJCskKSgkJyMoIycjKFxcXCInIyYnIy4jICY7XFx4QkZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOzYvayM7Li9iJDtcXHhDMC9ZJCQlO0EvLCM7XFx4QzAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtBLywjO1xceEMwLyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrJCkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOzYvOyM7PC8yJDs2LiMgJjtILyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4QzIuRyAmO1xceEM0LkEgJjtcXHhDNi47ICY7XFx4QzguNSAmO1xceEM5Li8gJjtcXHhDQS4pICY7XFx4Q0IuIyAmO1xceEMwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTJBXFxcIlxcXCI1JTdcXHUwMTJCLzUjOzwvLCQ7XFx4QzMvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7SS8nIDghOlxcdTAxMkMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTJEXFxcIlxcXCI1JjdcXHUwMTJFL1xceDk3Izs8L1xceDhFJDtEL1xceDg1JDtcXHhDNS98JCQlJDsnLyYjMCMqOycmJiYjLywjO1xceEM1LyMkK1xcXCIpKFxcXCInIyYnIzBDKiUkOycvJiMwIyo7JyYmJiMvLCM7XFx4QzUvIyQrXFxcIikoXFxcIicjJicjJi8sJDtFLyMkKyYpKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7dC4jICY7d1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEyRlxcXCJcXFwiNSU3XFx1MDEzMC81Izs8LywkO1xceEM3LyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO0kvJyA4ITpcXHUwMTMxISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEzMlxcXCJcXFwiNSY3XFx1MDEzMy86Izs8LzEkO0kvKCQ4IzpcXHUwMTM0IyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTM1XFxcIlxcXCI1JTdcXHUwMTM2L10jOzwvVCQlM1xcdTAxMzdcXFwiXFxcIjUkN1xcdTAxMzgvJiA4ITpcXHUwMTM5ISApLjQgJiUzXFx1MDEzQVxcXCJcXFwiNSU3XFx1MDEzQi8mIDghOlxcdTAxM0MhICkvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEzRFxcXCJcXFwiNSk3XFx1MDEzRS9SIzs8L0kkM1xcdTAxM0ZcXFwiXFxcIjUjN1xcdTAxNDAuLyAmM1xcdTAxNDFcXFwiXFxcIjUoN1xcdTAxNDIuIyAmOzYvKCQ4IzpcXHUwMTQzIyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTQ0XFxcIlxcXCI1IzdcXHUwMTQ1L1xceDkzIzs8L1xceDhBJDtEL1xceDgxJCU7XFx4Q0MvZSMkJTJEXFxcIlxcXCI2RDdFLywjO1xceENDLyMkK1xcXCIpKFxcXCInIyYnIzA8KiUyRFxcXCJcXFwiNkQ3RS8sIztcXHhDQy8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnIy8sJDtFLyMkKyUpKCUnIygkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE0NlxcXCJcXFwiNSg3XFx1MDE0Ny4vICYzXFx1MDE0OFxcXCJcXFwiNSQ3XFx1MDE0OS4jICY7Ni8nIDghOlxcdTAxNEEhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTs2L1kjJCU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhDRi9HIzsuLz4kO1xceENGLzUkOy4vLCQ7XFx4OTAvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxNEIhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhEMS9dIyQlO0EvLCM7XFx4RDEvIyQrXFxcIikoXFxcIicjJicjMDYqJTtBLywjO1xceEQxLyMkK1xcXCIpKFxcXCInIyYnIyYvJyQ4XFxcIjpcXHUwMTRDXFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4OTkvXSMkJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMmLyckOFxcXCI6XFx1MDE0RFxcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO0wuTyAmO1xceDk5LkkgJiU7QC5cXFwiICZcXFwiLzojO3QvMSQ7Py5cXFwiICZcXFwiLyMkKyMpKCMnIyhcXFwiJyMmJyMvXSMkJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMmLyckOFxcXCI6XFx1MDE0RVxcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEQ0L10jJCU7Qi8sIztcXHhENS8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0IvLCM7XFx4RDUvIyQrXFxcIikoXFxcIicjJicjJi8nJDhcXFwiOlxcdTAxNEZcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5Ni8mIDghOlxcdTAxNTAhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xcdTAxNTFcXFwiXFxcIjUoN1xcdTAxNTIvOiM7PC8xJDs2LygkOCM6XFx1MDE1MyMhICkoIycjKFxcXCInIyYnIy5nICYlM1xcdTAxNTRcXFwiXFxcIjUmN1xcdTAxNTUvOiM7PC8xJDs2LygkOCM6XFx1MDE1NiMhICkoIycjKFxcXCInIyYnIy46ICYlM1xcdTAxNTdcXFwiXFxcIjUqN1xcdTAxNTgvJiA4ITpcXHUwMTU5ISApLiMgJjtcXHhBMFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOzYvayMkJTtBLzIjOzYvKSQ4XFxcIjpcXHUwMTVBXFxcIlxcXCIkICkoXFxcIicjJicjMDwqJTtBLzIjOzYvKSQ4XFxcIjpcXHUwMTVBXFxcIlxcXCIkICkoXFxcIicjJicjJi8pJDhcXFwiOlxcdTAxNUJcXFwiXFxcIiEgKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8nIDghOlxcdTAxNUMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhEOC9ZIyQlO0EvLCM7XFx4RDgvIyQrXFxcIikoXFxcIicjJicjMDYqJTtBLywjO1xceEQ4LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5OS9ZIyQlO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxNUQhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhEQi9ZIyQlO0IvLCM7XFx4REMvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceERDLyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTVFXFxcIlxcXCI1JjdcXHUwMTVGLjsgJjNcXHUwMTYwXFxcIlxcXCI1JzdcXHUwMTYxLi8gJjNcXHUwMTYyXFxcIlxcXCI1KjdcXHUwMTYzLiMgJjs2LyYgOCE6XFx1MDE2NCEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE2NVxcXCJcXFwiNSY3XFx1MDE2Ni86Izs8LzEkO1xceERELygkOCM6XFx1MDE2NyMhICkoIycjKFxcXCInIyYnIy59ICYlM1xceEY1XFxcIlxcXCI1JzdcXHhGNi86Izs8LzEkO1xceDlFLygkOCM6XFx1MDE2OCMhICkoIycjKFxcXCInIyYnIy5QICYlM1xcdTAxNjlcXFwiXFxcIjUrN1xcdTAxNkEvOiM7PC8xJDtcXHg5RS8oJDgjOlxcdTAxNkIjISApKCMnIyhcXFwiJyMmJyMuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiM1xcdTAxNkNcXFwiXFxcIjUrN1xcdTAxNkQuayAmM1xcdTAxNkVcXFwiXFxcIjUpN1xcdTAxNkYuXyAmM1xcdTAxNzBcXFwiXFxcIjUoN1xcdTAxNzEuUyAmM1xcdTAxNzJcXFwiXFxcIjUnN1xcdTAxNzMuRyAmM1xcdTAxNzRcXFwiXFxcIjUmN1xcdTAxNzUuOyAmM1xcdTAxNzZcXFwiXFxcIjUqN1xcdTAxNzcuLyAmM1xcdTAxNzhcXFwiXFxcIjUpN1xcdTAxNzkuIyAmOzZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7MS5cXFwiICZcXFwiXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7Ni9rIyQlO0EvMiM7Ni8pJDhcXFwiOlxcdTAxNUFcXFwiXFxcIiQgKShcXFwiJyMmJyMwPColO0EvMiM7Ni8pJDhcXFwiOlxcdTAxNUFcXFwiXFxcIiQgKShcXFwiJyMmJyMmLykkOFxcXCI6XFx1MDE1QlxcXCJcXFwiISApKFxcXCInIyYnIy5cXFwiICZcXFwiLycgOCE6XFx1MDE3QSEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO0wuIyAmO1xceDk5L10jJCU7Qi8sIztcXHhFMS8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0IvLCM7XFx4RTEvIyQrXFxcIikoXFxcIicjJicjJi8nJDhcXFwiOlxcdTAxN0JcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceEI5LiMgJjtcXHhBMFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RTMvWSMkJTtBLywjO1xceEUzLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7QS8sIztcXHhFMy8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RUEvayM7Li9iJDtcXHhFRC9ZJCQlO0IvLCM7XFx4RTQvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEU0LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrJCkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4RTUuOyAmO1xceEU2LjUgJjtcXHhFNy4vICY7XFx4RTguKSAmO1xceEU5LiMgJjtcXHhBMFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE3Q1xcXCJcXFwiNSM3XFx1MDE3RC86Izs8LzEkO1xceEYwLygkOCM6XFx1MDE3RSMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE3RlxcXCJcXFwiNSU3XFx1MDE4MC86Izs8LzEkO1QvKCQ4IzpcXHUwMTgxIyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTgyXFxcIlxcXCI1KDdcXHUwMTgzL0YjOzwvPSQ7XFxcXC4pICY7WS4jICY7WC8oJDgjOlxcdTAxODQjISApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xcdTAxODVcXFwiXFxcIjUmN1xcdTAxODYvOiM7PC8xJDs2LygkOCM6XFx1MDE4NyMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE4OFxcXCJcXFwiNSU3XFx1MDE4OS9BIzs8LzgkJDshMCMqOyEmLygkOCM6XFx1MDE4QSMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RUIvRyM7Oy8+JDs2LzUkOzsvLCQ7XFx4RUMvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHg5MlxcXCJcXFwiNSM3XFx4RDMuIyAmOzYvJyA4ITpcXHUwMThCISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4QjFcXFwiXFxcIjUjN1xcdTAxOEMuRyAmM1xceEIzXFxcIlxcXCI1IzdcXHUwMThELjsgJjNcXHhCN1xcXCJcXFwiNSM3XFx1MDE4RS4vICYzXFx4QjVcXFwiXFxcIjUkN1xcdTAxOEYuIyAmOzYvJyA4ITpcXHUwMTkwISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RUUvRCMlO0MvLCM7XFx4RUYvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtVLikgJjtcXFxcLiMgJjtYLyYgOCE6XFx1MDE5MSEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOyEuXFxcIiAmXFxcIi9bIzshLlxcXCIgJlxcXCIvTSQ7IS5cXFwiICZcXFwiLz8kOyEuXFxcIiAmXFxcIi8xJDshLlxcXCIgJlxcXCIvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjLycgOCE6XFx1MDE5MiEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJTshLz8jOyEuXFxcIiAmXFxcIi8xJDshLlxcXCIgJlxcXCIvIyQrIykoIycjKFxcXCInIyYnIy8nIDghOlxcdTAxOTMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceEJFXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5RS9eIyQlO0IvLCM7XFx4RjMvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEYzLyMkK1xcXCIpKFxcXCInIyYnIyYvKCQ4XFxcIjpcXHUwMTk0XFxcIiEhKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4RjQuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJcXHUwMTk1XFxcIlxcXCI2XFx1MDE5NTdcXHUwMTk2L0wjOzwvQyQyXFx1MDE5N1xcXCJcXFwiNlxcdTAxOTc3XFx1MDE5OC4pICYyXFx1MDE5OVxcXCJcXFwiNlxcdTAxOTk3XFx1MDE5QS8oJDgjOlxcdTAxOUIjISApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceDlFL14jJCU7Qi8sIztcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjJi8oJDhcXFwiOlxcdTAxOUNcXFwiISEpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ni81IzswLywkO1xceEY3LyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkOzIuKSAmOzQuIyAmOy4wLyo7Mi4pICY7NC4jICY7LiZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkOyUwIyo7JSZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEZBLzsjMjhcXFwiXFxcIjY4NzkvLCQ7XFx4RkIvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE5RFxcXCJcXFwiNSU3XFx1MDE5RS4pICYzXFx1MDE5RlxcXCJcXFwiNSQ3XFx1MDFBMC8nIDghOlxcdTAxQTEhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhGQy9KIyUyOFxcXCJcXFwiNjg3OS8sIzteLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFxcXC4pICY7WC4jICY7XFx4ODIvJyA4ITpcXHUwMUEyISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXFwiLlMgJjshLk0gJjJGXFxcIlxcXCI2RjdHLkEgJjJKXFxcIlxcXCI2SjdLLjUgJjJIXFxcIlxcXCI2SDdJLikgJjJOXFxcIlxcXCI2TjdPXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMkxcXFwiXFxcIjZMN00uXFx4OTUgJjJCXFxcIlxcXCI2QjdDLlxceDg5ICYyPFxcXCJcXFwiNjw3PS59ICYyUlxcXCJcXFwiNlI3Uy5xICYyVFxcXCJcXFwiNlQ3VS5lICYyVlxcXCJcXFwiNlY3Vy5ZICYyUFxcXCJcXFwiNlA3US5NICYyQFxcXCJcXFwiNkA3QS5BICYyRFxcXCJcXFwiNkQ3RS41ICYyMlxcXCJcXFwiNjI3My4pICYyPlxcXCJcXFwiNj43P1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx1MDEwMC9iIzI4XFxcIlxcXCI2ODc5L1MkO1xceEZCL0okJTJcXHUwMUEzXFxcIlxcXCI2XFx1MDFBMzdcXHUwMUE0LywjO1xceEVDLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMUE1XFxcIlxcXCI1JTdcXHUwMUE2LikgJjNcXHUwMUE3XFxcIlxcXCI1JDdcXHUwMUE4LycgOCE6XFx1MDFBMSEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEIxXFxcIlxcXCI1IzdcXHhCMi42ICYzXFx4QjNcXFwiXFxcIjUjN1xceEI0LiogJiQ7KzAjKjsrJi8nIDghOlxcdTAxQTkhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHUwMTA0L1xceDg3IzJGXFxcIlxcXCI2RjdHL3gkO1xcdTAxMDMvbyQyRlxcXCJcXFwiNkY3Ry9gJDtcXHUwMTAzL1ckMkZcXFwiXFxcIjZGN0cvSCQ7XFx1MDEwMy8/JDJGXFxcIlxcXCI2RjdHLzAkO1xcdTAxMDUvJyQ4KTpcXHUwMUFBKSApKCknIygoJyMoJycjKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOyMvPiM7Iy81JDsjLywkOyMvIyQrJCkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xcdTAxMDMvLCM7XFx1MDEwMy8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xcdTAxMDMvNSM7XFx1MDEwMy8sJDtcXHUwMTAzLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO3EvVCMkO20wIyo7bSYvRCQlOyAvLCM7XFx4RjgvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUyXFx1MDFBQlxcXCJcXFwiNlxcdTAxQUI3XFx1MDFBQy4pICYyXFx1MDFBRFxcXCJcXFwiNlxcdTAxQUQ3XFx1MDFBRS93IzswL24kO1xcdTAxMDgvZSQkJTtCLzIjO1xcdTAxMDkuIyAmO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIzA8KiU7Qi8yIztcXHUwMTA5LiMgJjtcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMmLyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceDk5LiMgJjtMXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJcXHUwMUFGXFxcIlxcXCI2XFx1MDFBRjdcXHUwMUIwLzUjOzwvLCQ7XFx1MDEwQS8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtEL1MjOywvSiQyOlxcXCJcXFwiNjo3Oy87JDssLiMgJjtULywkO0UvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpXG4gICAgXTtcbiAgICB2YXIgcGVnJGN1cnJQb3MgPSAwO1xuICAgIHZhciBwZWckc2F2ZWRQb3MgPSAwO1xuICAgIHZhciBwZWckcG9zRGV0YWlsc0NhY2hlID0gW3sgbGluZTogMSwgY29sdW1uOiAxIH1dO1xuICAgIHZhciBwZWckbWF4RmFpbFBvcyA9IDA7XG4gICAgdmFyIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICB2YXIgcGVnJHNpbGVudEZhaWxzID0gMDtcbiAgICB2YXIgcGVnJHJlc3VsdDtcbiAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlSW5kaWNlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHN0YXJ0IHBhcnNpbmcgZnJvbSBydWxlIFxcXCJcIiArIG9wdGlvbnMuc3RhcnRSdWxlICsgXCJcXFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwZWckc3RhcnRSdWxlSW5kZXggPSBwZWckc3RhcnRSdWxlSW5kaWNlc1tvcHRpb25zLnN0YXJ0UnVsZV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRleHQoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb24sIGxvY2F0aW9uMSkge1xuICAgICAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBsb2NhdGlvbjFcbiAgICAgICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICAgICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLCBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyksIGxvY2F0aW9uMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uMSkge1xuICAgICAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBsb2NhdGlvbjFcbiAgICAgICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICAgICAgdGhyb3cgcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbih0ZXh0MSwgaWdub3JlQ2FzZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dDogdGV4dDEsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHMsIGludmVydGVkLCBpZ25vcmVDYXNlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiY2xhc3NcIiwgcGFydHM6IHBhcnRzLCBpbnZlcnRlZDogaW52ZXJ0ZWQsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGFueUV4cGVjdGF0aW9uKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImFueVwiIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRlbmRFeHBlY3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlbmRcIiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcIm90aGVyXCIsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zKSB7XG4gICAgICAgIHZhciBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdO1xuICAgICAgICB2YXIgcDtcbiAgICAgICAgaWYgKGRldGFpbHMpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHtcbiAgICAgICAgICAgICAgICBwLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwXTtcbiAgICAgICAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgbGluZTogZGV0YWlscy5saW5lLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogZGV0YWlscy5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aGlsZSAocCA8IHBvcykge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHApID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcbiAgICAgICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3MsIGVuZFBvcykge1xuICAgICAgICB2YXIgc3RhcnRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHN0YXJ0UG9zKTtcbiAgICAgICAgdmFyIGVuZFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBzdGFydFBvcyxcbiAgICAgICAgICAgICAgICBsaW5lOiBzdGFydFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmQ6IHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGVuZFBvcyxcbiAgICAgICAgICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZDEpIHtcbiAgICAgICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykge1xuICAgICAgICAgICAgcGVnJG1heEZhaWxQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLnB1c2goZXhwZWN0ZWQxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSwgW10sIFwiXCIsIGxvY2F0aW9uMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihleHBlY3RlZDEsIGZvdW5kLCBsb2NhdGlvbjEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UoZXhwZWN0ZWQxLCBmb3VuZCksIGV4cGVjdGVkMSwgZm91bmQsIGxvY2F0aW9uMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRkZWNvZGUocykge1xuICAgICAgICByZXR1cm4gcy5zcGxpdChcIlwiKS5tYXAoZnVuY3Rpb24gKGNoKSB7IHJldHVybiBjaC5jaGFyQ29kZUF0KDApIC0gMzI7IH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VSdWxlKGluZGV4KSB7XG4gICAgICAgIHZhciBiYyA9IHBlZyRieXRlY29kZVtpbmRleF07XG4gICAgICAgIHZhciBpcCA9IDA7XG4gICAgICAgIHZhciBpcHMgPSBbXTtcbiAgICAgICAgdmFyIGVuZCA9IGJjLmxlbmd0aDtcbiAgICAgICAgdmFyIGVuZHMgPSBbXTtcbiAgICAgICAgdmFyIHN0YWNrID0gW107XG4gICAgICAgIHZhciBwYXJhbXM7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB3aGlsZSAoaXAgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGJjW2lwXSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocGVnJEZBSUxFRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLmxlbmd0aCAtPSBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2UoLTIsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMl0ucHVzaChzdGFjay5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGggLSBiY1tpcCArIDFdLCBiY1tpcCArIDFdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGlucHV0LnN1YnN0cmluZyhzdGFjay5wb3AoKSwgcGVnJGN1cnJQb3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwcy5wdXNoKGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDIgKyBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcHMucHVzaChpcCArIDMgKyBiY1tpcCArIDFdICsgYmNbaXAgKyAyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQubGVuZ3RoID4gcGVnJGN1cnJQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcHMucHVzaChpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmxlbmd0aCkgPT09IHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSA0ICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcHMucHVzaChpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmxlbmd0aCkudG9Mb3dlckNhc2UoKSA9PT0gcGVnJGNvbnN0c1tiY1tpcCArIDFdXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgNCArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgNCArIGJjW2lwICsgMl0gKyBiY1tpcCArIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwcy5wdXNoKGlwICsgNCArIGJjW2lwICsgMl0gKyBiY1tpcCArIDNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckY29uc3RzW2JjW2lwICsgMV1dLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSA0ICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIGJjW2lwICsgMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gcGVnJGNvbnN0c1tiY1tpcCArIDFdXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRGQUlMRUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMSAtIGJjW2lwICsgMV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBiYy5zbGljZShpcCArIDQsIGlwICsgNCArIGJjW2lwICsgM10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMSAtIHBdOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGggLSBiY1tpcCArIDJdLCBiY1tpcCArIDJdLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmFwcGx5KG51bGwsIHBhcmFtcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gNCArIGJjW2lwICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocGVnJHBhcnNlUnVsZShiY1tpcCArIDFdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvcGNvZGU6IFwiICsgYmNbaXBdICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBlbmRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlwID0gaXBzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWNrWzBdO1xuICAgIH1cbiAgICBvcHRpb25zLmRhdGEgPSB7fTsgLy8gT2JqZWN0IHRvIHdoaWNoIGhlYWRlciBhdHRyaWJ1dGVzIHdpbGwgYmUgYXNzaWduZWQgZHVyaW5nIHBhcnNpbmdcbiAgICBmdW5jdGlvbiBsaXN0KGhlYWQsIHRhaWwpIHtcbiAgICAgICAgcmV0dXJuIFtoZWFkXS5jb25jYXQodGFpbCk7XG4gICAgfVxuICAgIHBlZyRyZXN1bHQgPSBwZWckcGFyc2VSdWxlKHBlZyRzdGFydFJ1bGVJbmRleCk7XG4gICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKHBlZyRtYXhGYWlsRXhwZWN0ZWQsIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBlZyRtYXhGYWlsUG9zKSA6IG51bGwsIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoXG4gICAgICAgICAgICA/IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSlcbiAgICAgICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpKTtcbiAgICB9XG59XG5leHBvcnRzLnBhcnNlID0gcGVnJHBhcnNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZDVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG8tanMvbWQ1XCIpKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG4vKipcbiAqIERpZ2VzdCBBdXRoZW50aWNhdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG52YXIgRGlnZXN0QXV0aGVudGljYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIGxvZ2dlckZhY3RvcnkgLSBMb2dnZXJGYWN0b3J5LlxuICAgICAqIEBwYXJhbSB1c2VybmFtZSAtIFVzZXJuYW1lLlxuICAgICAqIEBwYXJhbSBwYXNzd29yZCAtIFBhc3N3b3JkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpZ2VzdEF1dGhlbnRpY2F0aW9uKGxvZ2dlckZhY3RvcnksIHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFwic2lwanMuZGlnZXN0YXV0aGVudGljYXRpb25cIik7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLm5jID0gMDtcbiAgICAgICAgdGhpcy5uY0hleCA9IFwiMDAwMDAwMDBcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgRGlnZXN0IGF1dGhlbnRpY2F0aW9uIGdpdmVuIGEgU0lQIHJlcXVlc3QgYW5kIHRoZSBjaGFsbGVuZ2VcbiAgICAgKiByZWNlaXZlZCBpbiBhIHJlc3BvbnNlIHRvIHRoYXQgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtXG4gICAgICogQHBhcmFtIGNoYWxsZW5nZSAtXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBjcmVkZW50aWFscyB3ZXJlIHN1Y2Nlc3NmdWxseSBnZW5lcmF0ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBEaWdlc3RBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuYXV0aGVudGljYXRlID0gZnVuY3Rpb24gKHJlcXVlc3QsIGNoYWxsZW5nZSwgYm9keSkge1xuICAgICAgICAvLyBJbnNwZWN0IGFuZCB2YWxpZGF0ZSB0aGUgY2hhbGxlbmdlLlxuICAgICAgICB0aGlzLmFsZ29yaXRobSA9IGNoYWxsZW5nZS5hbGdvcml0aG07XG4gICAgICAgIHRoaXMucmVhbG0gPSBjaGFsbGVuZ2UucmVhbG07XG4gICAgICAgIHRoaXMubm9uY2UgPSBjaGFsbGVuZ2Uubm9uY2U7XG4gICAgICAgIHRoaXMub3BhcXVlID0gY2hhbGxlbmdlLm9wYXF1ZTtcbiAgICAgICAgdGhpcy5zdGFsZSA9IGNoYWxsZW5nZS5zdGFsZTtcbiAgICAgICAgaWYgKHRoaXMuYWxnb3JpdGhtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGdvcml0aG0gIT09IFwiTUQ1XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiY2hhbGxlbmdlIHdpdGggRGlnZXN0IGFsZ29yaXRobSBkaWZmZXJlbnQgdGhhbiAnTUQ1JywgYXV0aGVudGljYXRpb24gYWJvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFsZ29yaXRobSA9IFwiTUQ1XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnJlYWxtKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiY2hhbGxlbmdlIHdpdGhvdXQgRGlnZXN0IHJlYWxtLCBhdXRoZW50aWNhdGlvbiBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5ub25jZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImNoYWxsZW5nZSB3aXRob3V0IERpZ2VzdCBub25jZSwgYXV0aGVudGljYXRpb24gYWJvcnRlZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAncW9wJyBjYW4gY29udGFpbiBhIGxpc3Qgb2YgdmFsdWVzIChBcnJheSkuIExldCdzIGNob29zZSBqdXN0IG9uZS5cbiAgICAgICAgaWYgKGNoYWxsZW5nZS5xb3ApIHtcbiAgICAgICAgICAgIGlmIChjaGFsbGVuZ2UucW9wLmluZGV4T2YoXCJhdXRoXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnFvcCA9IFwiYXV0aFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbGxlbmdlLnFvcC5pbmRleE9mKFwiYXV0aC1pbnRcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucW9wID0gXCJhdXRoLWludFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlICdxb3AnIGlzIHByZXNlbnQgYnV0IGRvZXMgbm90IGNvbnRhaW4gJ2F1dGgnIG9yICdhdXRoLWludCcsIHNvIGFib3J0IGhlcmUuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImNoYWxsZW5nZSB3aXRob3V0IERpZ2VzdCBxb3AgZGlmZmVyZW50IHRoYW4gJ2F1dGgnIG9yICdhdXRoLWludCcsIGF1dGhlbnRpY2F0aW9uIGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5xb3AgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmlsbCBvdGhlciBhdHRyaWJ1dGVzLlxuICAgICAgICB0aGlzLm1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgICAgICB0aGlzLnVyaSA9IHJlcXVlc3QucnVyaTtcbiAgICAgICAgdGhpcy5jbm9uY2UgPSB1dGlsc18xLmNyZWF0ZVJhbmRvbVRva2VuKDEyKTtcbiAgICAgICAgdGhpcy5uYyArPSAxO1xuICAgICAgICB0aGlzLnVwZGF0ZU5jSGV4KCk7XG4gICAgICAgIC8vIG5jLXZhbHVlID0gOExIRVguIE1heCB2YWx1ZSA9ICdGRkZGRkZGRicuXG4gICAgICAgIGlmICh0aGlzLm5jID09PSA0Mjk0OTY3Mjk2KSB7XG4gICAgICAgICAgICB0aGlzLm5jID0gMTtcbiAgICAgICAgICAgIHRoaXMubmNIZXggPSBcIjAwMDAwMDAxXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBEaWdlc3QgXCJyZXNwb25zZVwiIHZhbHVlLlxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVJlc3BvbnNlKGJvZHkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgUHJveHktQXV0aG9yaXphdGlvbiBvciBXV1ctQXV0aG9yaXphdGlvbiBoZWFkZXIgdmFsdWUuXG4gICAgICovXG4gICAgRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXV0aFBhcmFtcyA9IFtdO1xuICAgICAgICBpZiAoIXRoaXMucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJlc3BvbnNlIGZpZWxkIGRvZXMgbm90IGV4aXN0LCBjYW5ub3QgZ2VuZXJhdGUgQXV0aG9yaXphdGlvbiBoZWFkZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXV0aFBhcmFtcy5wdXNoKFwiYWxnb3JpdGhtPVwiICsgdGhpcy5hbGdvcml0aG0pO1xuICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ3VzZXJuYW1lPVwiJyArIHRoaXMudXNlcm5hbWUgKyAnXCInKTtcbiAgICAgICAgYXV0aFBhcmFtcy5wdXNoKCdyZWFsbT1cIicgKyB0aGlzLnJlYWxtICsgJ1wiJyk7XG4gICAgICAgIGF1dGhQYXJhbXMucHVzaCgnbm9uY2U9XCInICsgdGhpcy5ub25jZSArICdcIicpO1xuICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ3VyaT1cIicgKyB0aGlzLnVyaSArICdcIicpO1xuICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ3Jlc3BvbnNlPVwiJyArIHRoaXMucmVzcG9uc2UgKyAnXCInKTtcbiAgICAgICAgaWYgKHRoaXMub3BhcXVlKSB7XG4gICAgICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ29wYXF1ZT1cIicgKyB0aGlzLm9wYXF1ZSArICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnFvcCkge1xuICAgICAgICAgICAgYXV0aFBhcmFtcy5wdXNoKFwicW9wPVwiICsgdGhpcy5xb3ApO1xuICAgICAgICAgICAgYXV0aFBhcmFtcy5wdXNoKCdjbm9uY2U9XCInICsgdGhpcy5jbm9uY2UgKyAnXCInKTtcbiAgICAgICAgICAgIGF1dGhQYXJhbXMucHVzaChcIm5jPVwiICsgdGhpcy5uY0hleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiRGlnZXN0IFwiICsgYXV0aFBhcmFtcy5qb2luKFwiLCBcIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgJ25jJyB2YWx1ZSBhcyByZXF1aXJlZCBieSBEaWdlc3QgaW4gdGhpcy5uY0hleCBieSByZWFkaW5nIHRoaXMubmMuXG4gICAgICovXG4gICAgRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLnVwZGF0ZU5jSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGV4ID0gTnVtYmVyKHRoaXMubmMpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgdGhpcy5uY0hleCA9IFwiMDAwMDAwMDBcIi5zdWJzdHIoMCwgOCAtIGhleC5sZW5ndGgpICsgaGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgRGlnZXN0ICdyZXNwb25zZScgdmFsdWUuXG4gICAgICovXG4gICAgRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLmNhbGN1bGF0ZVJlc3BvbnNlID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgdmFyIGhhMjtcbiAgICAgICAgLy8gSEExID0gTUQ1KEExKSA9IE1ENSh1c2VybmFtZTpyZWFsbTpwYXNzd29yZClcbiAgICAgICAgdmFyIGhhMSA9IG1kNV8xLmRlZmF1bHQodGhpcy51c2VybmFtZSArIFwiOlwiICsgdGhpcy5yZWFsbSArIFwiOlwiICsgdGhpcy5wYXNzd29yZCk7XG4gICAgICAgIGlmICh0aGlzLnFvcCA9PT0gXCJhdXRoXCIpIHtcbiAgICAgICAgICAgIC8vIEhBMiA9IE1ENShBMikgPSBNRDUobWV0aG9kOmRpZ2VzdFVSSSlcbiAgICAgICAgICAgIGhhMiA9IG1kNV8xLmRlZmF1bHQodGhpcy5tZXRob2QgKyBcIjpcIiArIHRoaXMudXJpKTtcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlID0gTUQ1KEhBMTpub25jZTpub25jZUNvdW50OmNyZWRlbnRpYWxzTm9uY2U6cW9wOkhBMilcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSBtZDVfMS5kZWZhdWx0KGhhMSArIFwiOlwiICsgdGhpcy5ub25jZSArIFwiOlwiICsgdGhpcy5uY0hleCArIFwiOlwiICsgdGhpcy5jbm9uY2UgKyBcIjphdXRoOlwiICsgaGEyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnFvcCA9PT0gXCJhdXRoLWludFwiKSB7XG4gICAgICAgICAgICAvLyBIQTIgPSBNRDUoQTIpID0gTUQ1KG1ldGhvZDpkaWdlc3RVUkk6TUQ1KGVudGl0eUJvZHkpKVxuICAgICAgICAgICAgaGEyID0gbWQ1XzEuZGVmYXVsdCh0aGlzLm1ldGhvZCArIFwiOlwiICsgdGhpcy51cmkgKyBcIjpcIiArIG1kNV8xLmRlZmF1bHQoYm9keSA/IGJvZHkgOiBcIlwiKSk7XG4gICAgICAgICAgICAvLyByZXNwb25zZSA9IE1ENShIQTE6bm9uY2U6bm9uY2VDb3VudDpjcmVkZW50aWFsc05vbmNlOnFvcDpIQTIpXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gbWQ1XzEuZGVmYXVsdChoYTEgKyBcIjpcIiArIHRoaXMubm9uY2UgKyBcIjpcIiArIHRoaXMubmNIZXggKyBcIjpcIiArIHRoaXMuY25vbmNlICsgXCI6YXV0aC1pbnQ6XCIgKyBoYTIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucW9wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEhBMiA9IE1ENShBMikgPSBNRDUobWV0aG9kOmRpZ2VzdFVSSSlcbiAgICAgICAgICAgIGhhMiA9IG1kNV8xLmRlZmF1bHQodGhpcy5tZXRob2QgKyBcIjpcIiArIHRoaXMudXJpKTtcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlID0gTUQ1KEhBMTpub25jZTpIQTIpXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gbWQ1XzEuZGVmYXVsdChoYTEgKyBcIjpcIiArIHRoaXMubm9uY2UgKyBcIjpcIiArIGhhMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEaWdlc3RBdXRoZW50aWNhdGlvbjtcbn0oKSk7XG5leHBvcnRzLkRpZ2VzdEF1dGhlbnRpY2F0aW9uID0gRGlnZXN0QXV0aGVudGljYXRpb247XG4iLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoTWF0aCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHQgICAgdmFyIEhhc2hlciA9IENfbGliLkhhc2hlcjtcblx0ICAgIHZhciBDX2FsZ28gPSBDLmFsZ287XG5cblx0ICAgIC8vIENvbnN0YW50cyB0YWJsZVxuXHQgICAgdmFyIFQgPSBbXTtcblxuXHQgICAgLy8gQ29tcHV0ZSBjb25zdGFudHNcblx0ICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG5cdCAgICAgICAgICAgIFRbaV0gPSAoTWF0aC5hYnMoTWF0aC5zaW4oaSArIDEpKSAqIDB4MTAwMDAwMDAwKSB8IDA7XG5cdCAgICAgICAgfVxuXHQgICAgfSgpKTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBNRDUgaGFzaCBhbGdvcml0aG0uXG5cdCAgICAgKi9cblx0ICAgIHZhciBNRDUgPSBDX2FsZ28uTUQ1ID0gSGFzaGVyLmV4dGVuZCh7XG5cdCAgICAgICAgX2RvUmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdGhpcy5faGFzaCA9IG5ldyBXb3JkQXJyYXkuaW5pdChbXG5cdCAgICAgICAgICAgICAgICAweDY3NDUyMzAxLCAweGVmY2RhYjg5LFxuXHQgICAgICAgICAgICAgICAgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3NlxuXHQgICAgICAgICAgICBdKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFN3YXAgZW5kaWFuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0X2kgPSBvZmZzZXQgKyBpO1xuXHQgICAgICAgICAgICAgICAgdmFyIE1fb2Zmc2V0X2kgPSBNW29mZnNldF9pXTtcblxuXHQgICAgICAgICAgICAgICAgTVtvZmZzZXRfaV0gPSAoXG5cdCAgICAgICAgICAgICAgICAgICAgKCgoTV9vZmZzZXRfaSA8PCA4KSAgfCAoTV9vZmZzZXRfaSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICAgICAoKChNX29mZnNldF9pIDw8IDI0KSB8IChNX29mZnNldF9pID4+PiA4KSkgICYgMHhmZjAwZmYwMClcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIEggPSB0aGlzLl9oYXNoLndvcmRzO1xuXG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8wICA9IE1bb2Zmc2V0ICsgMF07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xICA9IE1bb2Zmc2V0ICsgMV07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8yICA9IE1bb2Zmc2V0ICsgMl07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8zICA9IE1bb2Zmc2V0ICsgM107XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF80ICA9IE1bb2Zmc2V0ICsgNF07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF81ICA9IE1bb2Zmc2V0ICsgNV07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF82ICA9IE1bb2Zmc2V0ICsgNl07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF83ICA9IE1bb2Zmc2V0ICsgN107XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF84ICA9IE1bb2Zmc2V0ICsgOF07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF85ICA9IE1bb2Zmc2V0ICsgOV07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xMCA9IE1bb2Zmc2V0ICsgMTBdO1xuXHQgICAgICAgICAgICB2YXIgTV9vZmZzZXRfMTEgPSBNW29mZnNldCArIDExXTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzEyID0gTVtvZmZzZXQgKyAxMl07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xMyA9IE1bb2Zmc2V0ICsgMTNdO1xuXHQgICAgICAgICAgICB2YXIgTV9vZmZzZXRfMTQgPSBNW29mZnNldCArIDE0XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzE1ID0gTVtvZmZzZXQgKyAxNV07XG5cblx0ICAgICAgICAgICAgLy8gV29ya2luZyB2YXJpYWxiZXNcblx0ICAgICAgICAgICAgdmFyIGEgPSBIWzBdO1xuXHQgICAgICAgICAgICB2YXIgYiA9IEhbMV07XG5cdCAgICAgICAgICAgIHZhciBjID0gSFsyXTtcblx0ICAgICAgICAgICAgdmFyIGQgPSBIWzNdO1xuXG5cdCAgICAgICAgICAgIC8vIENvbXB1dGF0aW9uXG5cdCAgICAgICAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBNX29mZnNldF8wLCAgNywgIFRbMF0pO1xuXHQgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgTV9vZmZzZXRfMSwgIDEyLCBUWzFdKTtcblx0ICAgICAgICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzIsICAxNywgVFsyXSk7XG5cdCAgICAgICAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF8zLCAgMjIsIFRbM10pO1xuXHQgICAgICAgICAgICBhID0gRkYoYSwgYiwgYywgZCwgTV9vZmZzZXRfNCwgIDcsICBUWzRdKTtcblx0ICAgICAgICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzUsICAxMiwgVFs1XSk7XG5cdCAgICAgICAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBNX29mZnNldF82LCAgMTcsIFRbNl0pO1xuXHQgICAgICAgICAgICBiID0gRkYoYiwgYywgZCwgYSwgTV9vZmZzZXRfNywgIDIyLCBUWzddKTtcblx0ICAgICAgICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzgsICA3LCAgVFs4XSk7XG5cdCAgICAgICAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBNX29mZnNldF85LCAgMTIsIFRbOV0pO1xuXHQgICAgICAgICAgICBjID0gRkYoYywgZCwgYSwgYiwgTV9vZmZzZXRfMTAsIDE3LCBUWzEwXSk7XG5cdCAgICAgICAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF8xMSwgMjIsIFRbMTFdKTtcblx0ICAgICAgICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEyLCA3LCAgVFsxMl0pO1xuXHQgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTMsIDEyLCBUWzEzXSk7XG5cdCAgICAgICAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBNX29mZnNldF8xNCwgMTcsIFRbMTRdKTtcblx0ICAgICAgICAgICAgYiA9IEZGKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzE1LCAyMiwgVFsxNV0pO1xuXG5cdCAgICAgICAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBNX29mZnNldF8xLCAgNSwgIFRbMTZdKTtcblx0ICAgICAgICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzYsICA5LCAgVFsxN10pO1xuXHQgICAgICAgICAgICBjID0gR0coYywgZCwgYSwgYiwgTV9vZmZzZXRfMTEsIDE0LCBUWzE4XSk7XG5cdCAgICAgICAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBNX29mZnNldF8wLCAgMjAsIFRbMTldKTtcblx0ICAgICAgICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzUsICA1LCAgVFsyMF0pO1xuXHQgICAgICAgICAgICBkID0gR0coZCwgYSwgYiwgYywgTV9vZmZzZXRfMTAsIDksICBUWzIxXSk7XG5cdCAgICAgICAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBNX29mZnNldF8xNSwgMTQsIFRbMjJdKTtcblx0ICAgICAgICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzQsICAyMCwgVFsyM10pO1xuXHQgICAgICAgICAgICBhID0gR0coYSwgYiwgYywgZCwgTV9vZmZzZXRfOSwgIDUsICBUWzI0XSk7XG5cdCAgICAgICAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCBNX29mZnNldF8xNCwgOSwgIFRbMjVdKTtcblx0ICAgICAgICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzMsICAxNCwgVFsyNl0pO1xuXHQgICAgICAgICAgICBiID0gR0coYiwgYywgZCwgYSwgTV9vZmZzZXRfOCwgIDIwLCBUWzI3XSk7XG5cdCAgICAgICAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBNX29mZnNldF8xMywgNSwgIFRbMjhdKTtcblx0ICAgICAgICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzIsICA5LCAgVFsyOV0pO1xuXHQgICAgICAgICAgICBjID0gR0coYywgZCwgYSwgYiwgTV9vZmZzZXRfNywgIDE0LCBUWzMwXSk7XG5cdCAgICAgICAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBNX29mZnNldF8xMiwgMjAsIFRbMzFdKTtcblxuXHQgICAgICAgICAgICBhID0gSEgoYSwgYiwgYywgZCwgTV9vZmZzZXRfNSwgIDQsICBUWzMyXSk7XG5cdCAgICAgICAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBNX29mZnNldF84LCAgMTEsIFRbMzNdKTtcblx0ICAgICAgICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzExLCAxNiwgVFszNF0pO1xuXHQgICAgICAgICAgICBiID0gSEgoYiwgYywgZCwgYSwgTV9vZmZzZXRfMTQsIDIzLCBUWzM1XSk7XG5cdCAgICAgICAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBNX29mZnNldF8xLCAgNCwgIFRbMzZdKTtcblx0ICAgICAgICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzQsICAxMSwgVFszN10pO1xuXHQgICAgICAgICAgICBjID0gSEgoYywgZCwgYSwgYiwgTV9vZmZzZXRfNywgIDE2LCBUWzM4XSk7XG5cdCAgICAgICAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBNX29mZnNldF8xMCwgMjMsIFRbMzldKTtcblx0ICAgICAgICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEzLCA0LCAgVFs0MF0pO1xuXHQgICAgICAgICAgICBkID0gSEgoZCwgYSwgYiwgYywgTV9vZmZzZXRfMCwgIDExLCBUWzQxXSk7XG5cdCAgICAgICAgICAgIGMgPSBISChjLCBkLCBhLCBiLCBNX29mZnNldF8zLCAgMTYsIFRbNDJdKTtcblx0ICAgICAgICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzYsICAyMywgVFs0M10pO1xuXHQgICAgICAgICAgICBhID0gSEgoYSwgYiwgYywgZCwgTV9vZmZzZXRfOSwgIDQsICBUWzQ0XSk7XG5cdCAgICAgICAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBNX29mZnNldF8xMiwgMTEsIFRbNDVdKTtcblx0ICAgICAgICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzE1LCAxNiwgVFs0Nl0pO1xuXHQgICAgICAgICAgICBiID0gSEgoYiwgYywgZCwgYSwgTV9vZmZzZXRfMiwgIDIzLCBUWzQ3XSk7XG5cblx0ICAgICAgICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzAsICA2LCAgVFs0OF0pO1xuXHQgICAgICAgICAgICBkID0gSUkoZCwgYSwgYiwgYywgTV9vZmZzZXRfNywgIDEwLCBUWzQ5XSk7XG5cdCAgICAgICAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBNX29mZnNldF8xNCwgMTUsIFRbNTBdKTtcblx0ICAgICAgICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzUsICAyMSwgVFs1MV0pO1xuXHQgICAgICAgICAgICBhID0gSUkoYSwgYiwgYywgZCwgTV9vZmZzZXRfMTIsIDYsICBUWzUyXSk7XG5cdCAgICAgICAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBNX29mZnNldF8zLCAgMTAsIFRbNTNdKTtcblx0ICAgICAgICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzEwLCAxNSwgVFs1NF0pO1xuXHQgICAgICAgICAgICBiID0gSUkoYiwgYywgZCwgYSwgTV9vZmZzZXRfMSwgIDIxLCBUWzU1XSk7XG5cdCAgICAgICAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBNX29mZnNldF84LCAgNiwgIFRbNTZdKTtcblx0ICAgICAgICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzE1LCAxMCwgVFs1N10pO1xuXHQgICAgICAgICAgICBjID0gSUkoYywgZCwgYSwgYiwgTV9vZmZzZXRfNiwgIDE1LCBUWzU4XSk7XG5cdCAgICAgICAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBNX29mZnNldF8xMywgMjEsIFRbNTldKTtcblx0ICAgICAgICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzQsICA2LCAgVFs2MF0pO1xuXHQgICAgICAgICAgICBkID0gSUkoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTEsIDEwLCBUWzYxXSk7XG5cdCAgICAgICAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBNX29mZnNldF8yLCAgMTUsIFRbNjJdKTtcblx0ICAgICAgICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzksICAyMSwgVFs2M10pO1xuXG5cdCAgICAgICAgICAgIC8vIEludGVybWVkaWF0ZSBoYXNoIHZhbHVlXG5cdCAgICAgICAgICAgIEhbMF0gPSAoSFswXSArIGEpIHwgMDtcblx0ICAgICAgICAgICAgSFsxXSA9IChIWzFdICsgYikgfCAwO1xuXHQgICAgICAgICAgICBIWzJdID0gKEhbMl0gKyBjKSB8IDA7XG5cdCAgICAgICAgICAgIEhbM10gPSAoSFszXSArIGQpIHwgMDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvRmluYWxpemU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cblx0ICAgICAgICAgICAgdmFyIG5CaXRzVG90YWwgPSB0aGlzLl9uRGF0YUJ5dGVzICogODtcblx0ICAgICAgICAgICAgdmFyIG5CaXRzTGVmdCA9IGRhdGEuc2lnQnl0ZXMgKiA4O1xuXG5cdCAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1tuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gbkJpdHNMZWZ0ICUgMzIpO1xuXG5cdCAgICAgICAgICAgIHZhciBuQml0c1RvdGFsSCA9IE1hdGguZmxvb3IobkJpdHNUb3RhbCAvIDB4MTAwMDAwMDAwKTtcblx0ICAgICAgICAgICAgdmFyIG5CaXRzVG90YWxMID0gbkJpdHNUb3RhbDtcblx0ICAgICAgICAgICAgZGF0YVdvcmRzWygoKG5CaXRzTGVmdCArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNV0gPSAoXG5cdCAgICAgICAgICAgICAgICAoKChuQml0c1RvdGFsSCA8PCA4KSAgfCAobkJpdHNUb3RhbEggPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG5cdCAgICAgICAgICAgICAgICAoKChuQml0c1RvdGFsSCA8PCAyNCkgfCAobkJpdHNUb3RhbEggPj4+IDgpKSAgJiAweGZmMDBmZjAwKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE0XSA9IChcblx0ICAgICAgICAgICAgICAgICgoKG5CaXRzVG90YWxMIDw8IDgpICB8IChuQml0c1RvdGFsTCA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICgoKG5CaXRzVG90YWxMIDw8IDI0KSB8IChuQml0c1RvdGFsTCA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApXG5cdCAgICAgICAgICAgICk7XG5cblx0ICAgICAgICAgICAgZGF0YS5zaWdCeXRlcyA9IChkYXRhV29yZHMubGVuZ3RoICsgMSkgKiA0O1xuXG5cdCAgICAgICAgICAgIC8vIEhhc2ggZmluYWwgYmxvY2tzXG5cdCAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3MoKTtcblxuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLl9oYXNoO1xuXHQgICAgICAgICAgICB2YXIgSCA9IGhhc2gud29yZHM7XG5cblx0ICAgICAgICAgICAgLy8gU3dhcCBlbmRpYW5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgICAgICB2YXIgSF9pID0gSFtpXTtcblxuXHQgICAgICAgICAgICAgICAgSFtpXSA9ICgoKEhfaSA8PCA4KSAgfCAoSF9pID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfFxuXHQgICAgICAgICAgICAgICAgICAgICAgICgoKEhfaSA8PCAyNCkgfCAoSF9pID4+PiA4KSkgICYgMHhmZjAwZmYwMCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBSZXR1cm4gZmluYWwgY29tcHV0ZWQgaGFzaFxuXHQgICAgICAgICAgICByZXR1cm4gaGFzaDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGNsb25lID0gSGFzaGVyLmNsb25lLmNhbGwodGhpcyk7XG5cdCAgICAgICAgICAgIGNsb25lLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgZnVuY3Rpb24gRkYoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArICgoYiAmIGMpIHwgKH5iICYgZCkpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gR0coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArICgoYiAmIGQpIHwgKGMgJiB+ZCkpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gSEgoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArIChiIF4gYyBeIGQpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gSUkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArIChjIF4gKGIgfCB+ZCkpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLk1ENSgnbWVzc2FnZScpO1xuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuTUQ1KHdvcmRBcnJheSk7XG5cdCAgICAgKi9cblx0ICAgIEMuTUQ1ID0gSGFzaGVyLl9jcmVhdGVIZWxwZXIoTUQ1KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBITUFDLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgaG1hYyA9IENyeXB0b0pTLkhtYWNNRDUobWVzc2FnZSwga2V5KTtcblx0ICAgICAqL1xuXHQgICAgQy5IbWFjTUQ1ID0gSGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKE1ENSk7XG5cdH0oTWF0aCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLk1ENTtcblxufSkpOyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRyb290LkNyeXB0b0pTID0gZmFjdG9yeSgpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHQvKipcblx0ICogQ3J5cHRvSlMgY29yZSBjb21wb25lbnRzLlxuXHQgKi9cblx0dmFyIENyeXB0b0pTID0gQ3J5cHRvSlMgfHwgKGZ1bmN0aW9uIChNYXRoLCB1bmRlZmluZWQpIHtcblx0ICAgIC8qXG5cdCAgICAgKiBMb2NhbCBwb2x5ZmlsIG9mIE9iamVjdC5jcmVhdGVcblx0ICAgICAqL1xuXHQgICAgdmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBGKCkge307XG5cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgICAgICB2YXIgc3VidHlwZTtcblxuXHQgICAgICAgICAgICBGLnByb3RvdHlwZSA9IG9iajtcblxuXHQgICAgICAgICAgICBzdWJ0eXBlID0gbmV3IEYoKTtcblxuXHQgICAgICAgICAgICBGLnByb3RvdHlwZSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG5cdCAgICAgICAgfTtcblx0ICAgIH0oKSlcblxuXHQgICAgLyoqXG5cdCAgICAgKiBDcnlwdG9KUyBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogTGlicmFyeSBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDX2xpYiA9IEMubGliID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogQmFzZSBvYmplY3QgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBCYXNlID0gQ19saWIuQmFzZSA9IChmdW5jdGlvbiAoKSB7XG5cblxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhpcyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdmVycmlkZXMgUHJvcGVydGllcyB0byBjb3B5IGludG8gdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogICAgIHZhciBNeVR5cGUgPSBDcnlwdG9KUy5saWIuQmFzZS5leHRlbmQoe1xuXHQgICAgICAgICAgICAgKiAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgICAgIG1ldGhvZDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgKiAgICAgICAgIH1cblx0ICAgICAgICAgICAgICogICAgIH0pO1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbiAob3ZlcnJpZGVzKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTcGF3blxuXHQgICAgICAgICAgICAgICAgdmFyIHN1YnR5cGUgPSBjcmVhdGUodGhpcyk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIEF1Z21lbnRcblx0ICAgICAgICAgICAgICAgIGlmIChvdmVycmlkZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlLm1peEluKG92ZXJyaWRlcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGluaXRpYWxpemVyXG5cdCAgICAgICAgICAgICAgICBpZiAoIXN1YnR5cGUuaGFzT3duUHJvcGVydHkoJ2luaXQnKSB8fCB0aGlzLmluaXQgPT09IHN1YnR5cGUuaW5pdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN1YnR5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3VidHlwZS4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemVyJ3MgcHJvdG90eXBlIGlzIHRoZSBzdWJ0eXBlIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgc3VidHlwZS5pbml0LnByb3RvdHlwZSA9IHN1YnR5cGU7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlZmVyZW5jZSBzdXBlcnR5cGVcblx0ICAgICAgICAgICAgICAgIHN1YnR5cGUuJHN1cGVyID0gdGhpcztcblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG5cdCAgICAgICAgICAgIH0sXG5cblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEV4dGVuZHMgdGhpcyBvYmplY3QgYW5kIHJ1bnMgdGhlIGluaXQgbWV0aG9kLlxuXHQgICAgICAgICAgICAgKiBBcmd1bWVudHMgdG8gY3JlYXRlKCkgd2lsbCBiZSBwYXNzZWQgdG8gaW5pdCgpLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBuZXcgb2JqZWN0LlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICB2YXIgaW5zdGFuY2UgPSBNeVR5cGUuY3JlYXRlKCk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZXh0ZW5kKCk7XG5cdCAgICAgICAgICAgICAgICBpbnN0YW5jZS5pbml0LmFwcGx5KGluc3RhbmNlLCBhcmd1bWVudHMpO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG5cdCAgICAgICAgICAgIH0sXG5cblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBvYmplY3QuXG5cdCAgICAgICAgICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGFkZCBzb21lIGxvZ2ljIHdoZW4geW91ciBvYmplY3RzIGFyZSBjcmVhdGVkLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgdmFyIE15VHlwZSA9IENyeXB0b0pTLmxpYi5CYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgICAgICAqICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgKiAgICAgICAgICAgICAvLyAuLi5cblx0ICAgICAgICAgICAgICogICAgICAgICB9XG5cdCAgICAgICAgICAgICAqICAgICB9KTtcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgfSxcblxuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogQ29waWVzIHByb3BlcnRpZXMgaW50byB0aGlzIG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgVGhlIHByb3BlcnRpZXMgdG8gbWl4IGluLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgTXlUeXBlLm1peEluKHtcblx0ICAgICAgICAgICAgICogICAgICAgICBmaWVsZDogJ3ZhbHVlJ1xuXHQgICAgICAgICAgICAgKiAgICAgfSk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBtaXhJbjogZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBJRSB3b24ndCBjb3B5IHRvU3RyaW5nIHVzaW5nIHRoZSBsb29wIGFib3ZlXG5cdCAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSgndG9TdHJpbmcnKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMudG9TdHJpbmcgPSBwcm9wZXJ0aWVzLnRvU3RyaW5nO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LFxuXG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICB2YXIgY2xvbmUgPSBpbnN0YW5jZS5jbG9uZSgpO1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICB9KCkpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFuIGFycmF5IG9mIDMyLWJpdCB3b3Jkcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSB3b3JkcyBUaGUgYXJyYXkgb2YgMzItYml0IHdvcmRzLlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHNpZ0J5dGVzIFRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgYnl0ZXMgaW4gdGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICovXG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5ID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtBcnJheX0gd29yZHMgKE9wdGlvbmFsKSBBbiBhcnJheSBvZiAzMi1iaXQgd29yZHMuXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNpZ0J5dGVzIChPcHRpb25hbCkgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBieXRlcyBpbiB0aGUgd29yZHMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5saWIuV29yZEFycmF5LmNyZWF0ZSgpO1xuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoWzB4MDAwMTAyMDMsIDB4MDQwNTA2MDddKTtcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKFsweDAwMDEwMjAzLCAweDA0MDUwNjA3XSwgNik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKHdvcmRzLCBzaWdCeXRlcykge1xuXHQgICAgICAgICAgICB3b3JkcyA9IHRoaXMud29yZHMgPSB3b3JkcyB8fCBbXTtcblxuXHQgICAgICAgICAgICBpZiAoc2lnQnl0ZXMgIT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gc2lnQnl0ZXM7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gd29yZHMubGVuZ3RoICogNDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIHdvcmQgYXJyYXkgdG8gYSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXIgKE9wdGlvbmFsKSBUaGUgZW5jb2Rpbmcgc3RyYXRlZ3kgdG8gdXNlLiBEZWZhdWx0OiBDcnlwdG9KUy5lbmMuSGV4XG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmdpZmllZCB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgc3RyaW5nID0gd29yZEFycmF5ICsgJyc7XG5cdCAgICAgICAgICogICAgIHZhciBzdHJpbmcgPSB3b3JkQXJyYXkudG9TdHJpbmcoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheS50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIChlbmNvZGVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAoZW5jb2RlciB8fCBIZXgpLnN0cmluZ2lmeSh0aGlzKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uY2F0ZW5hdGVzIGEgd29yZCBhcnJheSB0byB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5IHRvIGFwcGVuZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB3b3JkQXJyYXkxLmNvbmNhdCh3b3JkQXJyYXkyKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb25jYXQ6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciB0aGlzV29yZHMgPSB0aGlzLndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgdGhhdFdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgdGhpc1NpZ0J5dGVzID0gdGhpcy5zaWdCeXRlcztcblx0ICAgICAgICAgICAgdmFyIHRoYXRTaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDbGFtcCBleGNlc3MgYml0c1xuXHQgICAgICAgICAgICB0aGlzLmNsYW1wKCk7XG5cblx0ICAgICAgICAgICAgLy8gQ29uY2F0XG5cdCAgICAgICAgICAgIGlmICh0aGlzU2lnQnl0ZXMgJSA0KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBDb3B5IG9uZSBieXRlIGF0IGEgdGltZVxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0U2lnQnl0ZXM7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0aGF0Qnl0ZSA9ICh0aGF0V29yZHNbaSA+Pj4gMl0gPj4+ICgyNCAtIChpICUgNCkgKiA4KSkgJiAweGZmO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXNXb3Jkc1sodGhpc1NpZ0J5dGVzICsgaSkgPj4+IDJdIHw9IHRoYXRCeXRlIDw8ICgyNCAtICgodGhpc1NpZ0J5dGVzICsgaSkgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gQ29weSBvbmUgd29yZCBhdCBhIHRpbWVcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdFNpZ0J5dGVzOyBpICs9IDQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzV29yZHNbKHRoaXNTaWdCeXRlcyArIGkpID4+PiAyXSA9IHRoYXRXb3Jkc1tpID4+PiAyXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzICs9IHRoYXRTaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDaGFpbmFibGVcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFJlbW92ZXMgaW5zaWduaWZpY2FudCBiaXRzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB3b3JkQXJyYXkuY2xhbXAoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjbGFtcDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gdGhpcy53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gdGhpcy5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDbGFtcFxuXHQgICAgICAgICAgICB3b3Jkc1tzaWdCeXRlcyA+Pj4gMl0gJj0gMHhmZmZmZmZmZiA8PCAoMzIgLSAoc2lnQnl0ZXMgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICB3b3Jkcy5sZW5ndGggPSBNYXRoLmNlaWwoc2lnQnl0ZXMgLyA0KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBjbG9uZSA9IHdvcmRBcnJheS5jbG9uZSgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEJhc2UuY2xvbmUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgY2xvbmUud29yZHMgPSB0aGlzLndvcmRzLnNsaWNlKDApO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIHdvcmQgYXJyYXkgZmlsbGVkIHdpdGggcmFuZG9tIGJ5dGVzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG5CeXRlcyBUaGUgbnVtYmVyIG9mIHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHJhbmRvbSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oMTYpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHJhbmRvbTogZnVuY3Rpb24gKG5CeXRlcykge1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblxuXHQgICAgICAgICAgICB2YXIgciA9IChmdW5jdGlvbiAobV93KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbV93ID0gbV93O1xuXHQgICAgICAgICAgICAgICAgdmFyIG1feiA9IDB4M2FkZTY4YjE7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWFzayA9IDB4ZmZmZmZmZmY7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbV96ID0gKDB4OTA2OSAqIChtX3ogJiAweEZGRkYpICsgKG1feiA+PiAweDEwKSkgJiBtYXNrO1xuXHQgICAgICAgICAgICAgICAgICAgIG1fdyA9ICgweDQ2NTAgKiAobV93ICYgMHhGRkZGKSArIChtX3cgPj4gMHgxMCkpICYgbWFzaztcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gKChtX3ogPDwgMHgxMCkgKyBtX3cpICYgbWFzaztcblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHQgLz0gMHgxMDAwMDAwMDA7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IDAuNTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKE1hdGgucmFuZG9tKCkgPiAuNSA/IDEgOiAtMSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByY2FjaGU7IGkgPCBuQnl0ZXM7IGkgKz0gNCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9yID0gcigocmNhY2hlIHx8IE1hdGgucmFuZG9tKCkpICogMHgxMDAwMDAwMDApO1xuXG5cdCAgICAgICAgICAgICAgICByY2FjaGUgPSBfcigpICogMHgzYWRlNjdiNztcblx0ICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goKF9yKCkgKiAweDEwMDAwMDAwMCkgfCAwKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsIG5CeXRlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogRW5jb2RlciBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDX2VuYyA9IEMuZW5jID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogSGV4IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgSGV4ID0gQ19lbmMuSGV4ID0ge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIGEgd29yZCBhcnJheSB0byBhIGhleCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgaGV4IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhleFN0cmluZyA9IENyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHdvcmRBcnJheSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgc3RyaW5naWZ5OiBmdW5jdGlvbiAod29yZEFycmF5KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSB3b3JkQXJyYXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBzaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0XG5cdCAgICAgICAgICAgIHZhciBoZXhDaGFycyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ0J5dGVzOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBiaXRlID0gKHdvcmRzW2kgPj4+IDJdID4+PiAoMjQgLSAoaSAlIDQpICogOCkpICYgMHhmZjtcblx0ICAgICAgICAgICAgICAgIGhleENoYXJzLnB1c2goKGJpdGUgPj4+IDQpLnRvU3RyaW5nKDE2KSk7XG5cdCAgICAgICAgICAgICAgICBoZXhDaGFycy5wdXNoKChiaXRlICYgMHgwZikudG9TdHJpbmcoMTYpKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBoZXhDaGFycy5qb2luKCcnKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBoZXggc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXhTdHIgVGhlIGhleCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMuZW5jLkhleC5wYXJzZShoZXhTdHJpbmcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoaGV4U3RyKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBoZXhTdHJMZW5ndGggPSBoZXhTdHIubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGV4U3RyTGVuZ3RoOyBpICs9IDIpIHtcblx0ICAgICAgICAgICAgICAgIHdvcmRzW2kgPj4+IDNdIHw9IHBhcnNlSW50KGhleFN0ci5zdWJzdHIoaSwgMiksIDE2KSA8PCAoMjQgLSAoaSAlIDgpICogNCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBoZXhTdHJMZW5ndGggLyAyKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIExhdGluMSBlbmNvZGluZyBzdHJhdGVneS5cblx0ICAgICAqL1xuXHQgICAgdmFyIExhdGluMSA9IENfZW5jLkxhdGluMSA9IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBMYXRpbjEgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIExhdGluMSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBsYXRpbjFTdHJpbmcgPSBDcnlwdG9KUy5lbmMuTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKHdvcmRBcnJheSkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgc2lnQnl0ZXMgPSB3b3JkQXJyYXkuc2lnQnl0ZXM7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgbGF0aW4xQ2hhcnMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWdCeXRlczsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYml0ZSA9ICh3b3Jkc1tpID4+PiAyXSA+Pj4gKDI0IC0gKGkgJSA0KSAqIDgpKSAmIDB4ZmY7XG5cdCAgICAgICAgICAgICAgICBsYXRpbjFDaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYml0ZSkpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGxhdGluMUNoYXJzLmpvaW4oJycpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIExhdGluMSBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhdGluMVN0ciBUaGUgTGF0aW4xIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuTGF0aW4xLnBhcnNlKGxhdGluMVN0cmluZyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChsYXRpbjFTdHIpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGxhdGluMVN0ckxlbmd0aCA9IGxhdGluMVN0ci5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXRpbjFTdHJMZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgd29yZHNbaSA+Pj4gMl0gfD0gKGxhdGluMVN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZikgPDwgKDI0IC0gKGkgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdCh3b3JkcywgbGF0aW4xU3RyTGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFVURi04IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgVXRmOCA9IENfZW5jLlV0ZjggPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgVVRGLTggc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIFVURi04IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHV0ZjhTdHJpbmcgPSBDcnlwdG9KUy5lbmMuVXRmOC5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKExhdGluMS5zdHJpbmdpZnkod29yZEFycmF5KSkpO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBVVEYtOCBkYXRhJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBVVEYtOCBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHV0ZjhTdHIgVGhlIFVURi04IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZSh1dGY4U3RyaW5nKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHV0ZjhTdHIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIExhdGluMS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodXRmOFN0cikpKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFic3RyYWN0IGJ1ZmZlcmVkIGJsb2NrIGFsZ29yaXRobSB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgcHJvcGVydHkgYmxvY2tTaXplIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gYSBjb25jcmV0ZSBzdWJ0eXBlLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfbWluQnVmZmVyU2l6ZSBUaGUgbnVtYmVyIG9mIGJsb2NrcyB0aGF0IHNob3VsZCBiZSBrZXB0IHVucHJvY2Vzc2VkIGluIHRoZSBidWZmZXIuIERlZmF1bHQ6IDBcblx0ICAgICAqL1xuXHQgICAgdmFyIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0gPSBDX2xpYi5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFJlc2V0cyB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGRhdGEgYnVmZmVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0KCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gSW5pdGlhbCB2YWx1ZXNcblx0ICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBXb3JkQXJyYXkuaW5pdCgpO1xuXHQgICAgICAgICAgICB0aGlzLl9uRGF0YUJ5dGVzID0gMDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQWRkcyBuZXcgZGF0YSB0byB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGJ1ZmZlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBhcHBlbmQuIFN0cmluZ3MgYXJlIGNvbnZlcnRlZCB0byBhIFdvcmRBcnJheSB1c2luZyBVVEYtOC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fYXBwZW5kKCdkYXRhJyk7XG5cdCAgICAgICAgICogICAgIGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uX2FwcGVuZCh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIF9hcHBlbmQ6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIFdvcmRBcnJheSwgZWxzZSBhc3N1bWUgV29yZEFycmF5IGFscmVhZHlcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICBkYXRhID0gVXRmOC5wYXJzZShkYXRhKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEFwcGVuZFxuXHQgICAgICAgICAgICB0aGlzLl9kYXRhLmNvbmNhdChkYXRhKTtcblx0ICAgICAgICAgICAgdGhpcy5fbkRhdGFCeXRlcyArPSBkYXRhLnNpZ0J5dGVzO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBQcm9jZXNzZXMgYXZhaWxhYmxlIGRhdGEgYmxvY2tzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBfZG9Qcm9jZXNzQmxvY2sob2Zmc2V0KSwgd2hpY2ggbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBhIGNvbmNyZXRlIHN1YnR5cGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvRmx1c2ggV2hldGhlciBhbGwgYmxvY2tzIGFuZCBwYXJ0aWFsIGJsb2NrcyBzaG91bGQgYmUgcHJvY2Vzc2VkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgcHJvY2Vzc2VkIGRhdGEuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBwcm9jZXNzZWREYXRhID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fcHJvY2VzcygpO1xuXHQgICAgICAgICAqICAgICB2YXIgcHJvY2Vzc2VkRGF0YSA9IGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uX3Byb2Nlc3MoISEnZmx1c2gnKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBfcHJvY2VzczogZnVuY3Rpb24gKGRvRmx1c2gpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBkYXRhU2lnQnl0ZXMgPSBkYXRhLnNpZ0J5dGVzO1xuXHQgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gdGhpcy5ibG9ja1NpemU7XG5cdCAgICAgICAgICAgIHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYmxvY2tzIHJlYWR5XG5cdCAgICAgICAgICAgIHZhciBuQmxvY2tzUmVhZHkgPSBkYXRhU2lnQnl0ZXMgLyBibG9ja1NpemVCeXRlcztcblx0ICAgICAgICAgICAgaWYgKGRvRmx1c2gpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFJvdW5kIHVwIHRvIGluY2x1ZGUgcGFydGlhbCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgIG5CbG9ja3NSZWFkeSA9IE1hdGguY2VpbChuQmxvY2tzUmVhZHkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gUm91bmQgZG93biB0byBpbmNsdWRlIG9ubHkgZnVsbCBibG9ja3MsXG5cdCAgICAgICAgICAgICAgICAvLyBsZXNzIHRoZSBudW1iZXIgb2YgYmxvY2tzIHRoYXQgbXVzdCByZW1haW4gaW4gdGhlIGJ1ZmZlclxuXHQgICAgICAgICAgICAgICAgbkJsb2Nrc1JlYWR5ID0gTWF0aC5tYXgoKG5CbG9ja3NSZWFkeSB8IDApIC0gdGhpcy5fbWluQnVmZmVyU2l6ZSwgMCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDb3VudCB3b3JkcyByZWFkeVxuXHQgICAgICAgICAgICB2YXIgbldvcmRzUmVhZHkgPSBuQmxvY2tzUmVhZHkgKiBibG9ja1NpemU7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYnl0ZXMgcmVhZHlcblx0ICAgICAgICAgICAgdmFyIG5CeXRlc1JlYWR5ID0gTWF0aC5taW4obldvcmRzUmVhZHkgKiA0LCBkYXRhU2lnQnl0ZXMpO1xuXG5cdCAgICAgICAgICAgIC8vIFByb2Nlc3MgYmxvY2tzXG5cdCAgICAgICAgICAgIGlmIChuV29yZHNSZWFkeSkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgbldvcmRzUmVhZHk7IG9mZnNldCArPSBibG9ja1NpemUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQZXJmb3JtIGNvbmNyZXRlLWFsZ29yaXRobSBsb2dpY1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvUHJvY2Vzc0Jsb2NrKGRhdGFXb3Jkcywgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHByb2Nlc3NlZCB3b3Jkc1xuXHQgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZFdvcmRzID0gZGF0YVdvcmRzLnNwbGljZSgwLCBuV29yZHNSZWFkeSk7XG5cdCAgICAgICAgICAgICAgICBkYXRhLnNpZ0J5dGVzIC09IG5CeXRlc1JlYWR5O1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gUmV0dXJuIHByb2Nlc3NlZCB3b3Jkc1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHByb2Nlc3NlZFdvcmRzLCBuQnl0ZXNSZWFkeSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoaXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBjbG9uZSA9IGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uY2xvbmUoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBCYXNlLmNsb25lLmNhbGwodGhpcyk7XG5cdCAgICAgICAgICAgIGNsb25lLl9kYXRhID0gdGhpcy5fZGF0YS5jbG9uZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX21pbkJ1ZmZlclNpemU6IDBcblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFic3RyYWN0IGhhc2hlciB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYmxvY2tTaXplIFRoZSBudW1iZXIgb2YgMzItYml0IHdvcmRzIHRoaXMgaGFzaGVyIG9wZXJhdGVzIG9uLiBEZWZhdWx0OiAxNiAoNTEyIGJpdHMpXG5cdCAgICAgKi9cblx0ICAgIHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXIgPSBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNmZzogQmFzZS5leHRlbmQoKSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBoYXNoZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgaGFzaCBjb21wdXRhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2hlciA9IENyeXB0b0pTLmFsZ28uU0hBMjU2LmNyZWF0ZSgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChjZmcpIHtcblx0ICAgICAgICAgICAgLy8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdCAgICAgICAgICAgIHRoaXMuY2ZnID0gdGhpcy5jZmcuZXh0ZW5kKGNmZyk7XG5cblx0ICAgICAgICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWVzXG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUmVzZXRzIHRoaXMgaGFzaGVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBoYXNoZXIucmVzZXQoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBSZXNldCBkYXRhIGJ1ZmZlclxuXHQgICAgICAgICAgICBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0LmNhbGwodGhpcyk7XG5cblx0ICAgICAgICAgICAgLy8gUGVyZm9ybSBjb25jcmV0ZS1oYXNoZXIgbG9naWNcblx0ICAgICAgICAgICAgdGhpcy5fZG9SZXNldCgpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBVcGRhdGVzIHRoaXMgaGFzaGVyIHdpdGggYSBtZXNzYWdlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlVXBkYXRlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0hhc2hlcn0gVGhpcyBoYXNoZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIGhhc2hlci51cGRhdGUoJ21lc3NhZ2UnKTtcblx0ICAgICAgICAgKiAgICAgaGFzaGVyLnVwZGF0ZSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgLy8gQXBwZW5kXG5cdCAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblxuXHQgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGhhc2hcblx0ICAgICAgICAgICAgdGhpcy5fcHJvY2VzcygpO1xuXG5cdCAgICAgICAgICAgIC8vIENoYWluYWJsZVxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRmluYWxpemVzIHRoZSBoYXNoIGNvbXB1dGF0aW9uLlxuXHQgICAgICAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgKE9wdGlvbmFsKSBBIGZpbmFsIG1lc3NhZ2UgdXBkYXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoJ21lc3NhZ2UnKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBmaW5hbGl6ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgLy8gRmluYWwgbWVzc2FnZSB1cGRhdGVcblx0ICAgICAgICAgICAgaWYgKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFBlcmZvcm0gY29uY3JldGUtaGFzaGVyIGxvZ2ljXG5cdCAgICAgICAgICAgIHZhciBoYXNoID0gdGhpcy5fZG9GaW5hbGl6ZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBoYXNoO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBibG9ja1NpemU6IDUxMi8zMixcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgYSBzaG9ydGN1dCBmdW5jdGlvbiB0byBhIGhhc2hlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoZXIgdG8gY3JlYXRlIGEgaGVscGVyIGZvci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgc2hvcnRjdXQgZnVuY3Rpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBTSEEyNTYgPSBDcnlwdG9KUy5saWIuSGFzaGVyLl9jcmVhdGVIZWxwZXIoQ3J5cHRvSlMuYWxnby5TSEEyNTYpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uIChoYXNoZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBjZmcpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgaGFzaGVyLmluaXQoY2ZnKS5maW5hbGl6ZShtZXNzYWdlKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIHNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2hlciB0byB1c2UgaW4gdGhpcyBITUFDIGhlbHBlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgc2hvcnRjdXQgZnVuY3Rpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBIbWFjU0hBMjU2ID0gQ3J5cHRvSlMubGliLkhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihDcnlwdG9KUy5hbGdvLlNIQTI1Nik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgX2NyZWF0ZUhtYWNIZWxwZXI6IGZ1bmN0aW9uIChoYXNoZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ19hbGdvLkhNQUMuaW5pdChoYXNoZXIsIGtleSkuZmluYWxpemUobWVzc2FnZSk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogQWxnb3JpdGhtIG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbyA9IHt9O1xuXG5cdCAgICByZXR1cm4gQztcblx0fShNYXRoKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlM7XG5cbn0pKTsiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG4vKipcbiAqIFdoZW4gYSBVQVMgd2lzaGVzIHRvIGNvbnN0cnVjdCBhIHJlc3BvbnNlIHRvIGEgcmVxdWVzdCwgaXQgZm9sbG93c1xuICogdGhlIGdlbmVyYWwgcHJvY2VkdXJlcyBkZXRhaWxlZCBpbiB0aGUgZm9sbG93aW5nIHN1YnNlY3Rpb25zLlxuICogQWRkaXRpb25hbCBiZWhhdmlvcnMgc3BlY2lmaWMgdG8gdGhlIHJlc3BvbnNlIGNvZGUgaW4gcXVlc3Rpb24sIHdoaWNoXG4gKiBhcmUgbm90IGRldGFpbGVkIGluIHRoaXMgc2VjdGlvbiwgbWF5IGFsc28gYmUgcmVxdWlyZWQuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi42XG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0T3V0Z29pbmdSZXNwb25zZShtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgdmFyIENSTEYgPSBcIlxcclxcblwiO1xuICAgIGlmIChvcHRpb25zLnN0YXR1c0NvZGUgPCAxMDAgfHwgb3B0aW9ucy5zdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXR1c0NvZGU6IFwiICsgb3B0aW9ucy5zdGF0dXNDb2RlKTtcbiAgICB9XG4gICAgdmFyIHJlYXNvblBocmFzZSA9IG9wdGlvbnMucmVhc29uUGhyYXNlID8gb3B0aW9ucy5yZWFzb25QaHJhc2UgOiB1dGlsc18xLmdldFJlYXNvblBocmFzZShvcHRpb25zLnN0YXR1c0NvZGUpO1xuICAgIC8vIFNJUCByZXNwb25zZXMgYXJlIGRpc3Rpbmd1aXNoZWQgZnJvbSByZXF1ZXN0cyBieSBoYXZpbmcgYSBTdGF0dXMtTGluZVxuICAgIC8vIGFzIHRoZWlyIHN0YXJ0LWxpbmUuICBBIFN0YXR1cy1MaW5lIGNvbnNpc3RzIG9mIHRoZSBwcm90b2NvbCB2ZXJzaW9uXG4gICAgLy8gZm9sbG93ZWQgYnkgYSBudW1lcmljIFN0YXR1cy1Db2RlIGFuZCBpdHMgYXNzb2NpYXRlZCB0ZXh0dWFsIHBocmFzZSxcbiAgICAvLyB3aXRoIGVhY2ggZWxlbWVudCBzZXBhcmF0ZWQgYnkgYSBzaW5nbGUgU1AgY2hhcmFjdGVyLlxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tNy4yXG4gICAgdmFyIHJlc3BvbnNlID0gXCJTSVAvMi4wIFwiICsgb3B0aW9ucy5zdGF0dXNDb2RlICsgXCIgXCIgKyByZWFzb25QaHJhc2UgKyBDUkxGO1xuICAgIC8vIE9uZSBsYXJnZWx5IG5vbi1tZXRob2Qtc3BlY2lmaWMgZ3VpZGVsaW5lIGZvciB0aGUgZ2VuZXJhdGlvbiBvZlxuICAgIC8vIHJlc3BvbnNlcyBpcyB0aGF0IFVBU3MgU0hPVUxEIE5PVCBpc3N1ZSBhIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGZvciBhXG4gICAgLy8gbm9uLUlOVklURSByZXF1ZXN0LiAgUmF0aGVyLCBVQVNzIFNIT1VMRCBnZW5lcmF0ZSBhIGZpbmFsIHJlc3BvbnNlIHRvXG4gICAgLy8gYSBub24tSU5WSVRFIHJlcXVlc3QgYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi42LjFcbiAgICBpZiAob3B0aW9ucy5zdGF0dXNDb2RlID49IDEwMCAmJiBvcHRpb25zLnN0YXR1c0NvZGUgPCAyMDApIHtcbiAgICAgICAgLy8gVE9ET1xuICAgIH1cbiAgICAvLyBXaGVuIGEgMTAwIChUcnlpbmcpIHJlc3BvbnNlIGlzIGdlbmVyYXRlZCwgYW55IFRpbWVzdGFtcCBoZWFkZXIgZmllbGRcbiAgICAvLyBwcmVzZW50IGluIHRoZSByZXF1ZXN0IE1VU1QgYmUgY29waWVkIGludG8gdGhpcyAxMDAgKFRyeWluZylcbiAgICAvLyByZXNwb25zZS4gIElmIHRoZXJlIGlzIGEgZGVsYXkgaW4gZ2VuZXJhdGluZyB0aGUgcmVzcG9uc2UsIHRoZSBVQVNcbiAgICAvLyBTSE9VTEQgYWRkIGEgZGVsYXkgdmFsdWUgaW50byB0aGUgVGltZXN0YW1wIHZhbHVlIGluIHRoZSByZXNwb25zZS5cbiAgICAvLyBUaGlzIHZhbHVlIE1VU1QgY29udGFpbiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0aW1lIG9mIHNlbmRpbmcgb2ZcbiAgICAvLyB0aGUgcmVzcG9uc2UgYW5kIHJlY2VpcHQgb2YgdGhlIHJlcXVlc3QsIG1lYXN1cmVkIGluIHNlY29uZHMuXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuNi4xXG4gICAgaWYgKG9wdGlvbnMuc3RhdHVzQ29kZSA9PT0gMTAwKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG4gICAgLy8gVGhlIEZyb20gZmllbGQgb2YgdGhlIHJlc3BvbnNlIE1VU1QgZXF1YWwgdGhlIEZyb20gaGVhZGVyIGZpZWxkIG9mXG4gICAgLy8gdGhlIHJlcXVlc3QuICBUaGUgQ2FsbC1JRCBoZWFkZXIgZmllbGQgb2YgdGhlIHJlc3BvbnNlIE1VU1QgZXF1YWwgdGhlXG4gICAgLy8gQ2FsbC1JRCBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3QuICBUaGUgQ1NlcSBoZWFkZXIgZmllbGQgb2YgdGhlXG4gICAgLy8gcmVzcG9uc2UgTVVTVCBlcXVhbCB0aGUgQ1NlcSBmaWVsZCBvZiB0aGUgcmVxdWVzdC4gIFRoZSBWaWEgaGVhZGVyXG4gICAgLy8gZmllbGQgdmFsdWVzIGluIHRoZSByZXNwb25zZSBNVVNUIGVxdWFsIHRoZSBWaWEgaGVhZGVyIGZpZWxkIHZhbHVlc1xuICAgIC8vIGluIHRoZSByZXF1ZXN0IGFuZCBNVVNUIG1haW50YWluIHRoZSBzYW1lIG9yZGVyaW5nLlxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjYuMlxuICAgIHZhciBmcm9tSGVhZGVyID0gXCJGcm9tOiBcIiArIG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRnJvbVwiKSArIENSTEY7XG4gICAgdmFyIGNhbGxJZEhlYWRlciA9IFwiQ2FsbC1JRDogXCIgKyBtZXNzYWdlLmNhbGxJZCArIENSTEY7XG4gICAgdmFyIGNTZXFIZWFkZXIgPSBcIkNTZXE6IFwiICsgbWVzc2FnZS5jc2VxICsgXCIgXCIgKyBtZXNzYWdlLm1ldGhvZCArIENSTEY7XG4gICAgdmFyIHZpYUhlYWRlcnMgPSBtZXNzYWdlLmdldEhlYWRlcnMoXCJ2aWFcIikucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCkge1xuICAgICAgICByZXR1cm4gcHJldmlvdXMgKyBcIlZpYTogXCIgKyBjdXJyZW50ICsgQ1JMRjtcbiAgICB9LCBcIlwiKTtcbiAgICAvLyBJZiBhIHJlcXVlc3QgY29udGFpbmVkIGEgVG8gdGFnIGluIHRoZSByZXF1ZXN0LCB0aGUgVG8gaGVhZGVyIGZpZWxkXG4gICAgLy8gaW4gdGhlIHJlc3BvbnNlIE1VU1QgZXF1YWwgdGhhdCBvZiB0aGUgcmVxdWVzdC4gIEhvd2V2ZXIsIGlmIHRoZSBUb1xuICAgIC8vIGhlYWRlciBmaWVsZCBpbiB0aGUgcmVxdWVzdCBkaWQgbm90IGNvbnRhaW4gYSB0YWcsIHRoZSBVUkkgaW4gdGhlIFRvXG4gICAgLy8gaGVhZGVyIGZpZWxkIGluIHRoZSByZXNwb25zZSBNVVNUIGVxdWFsIHRoZSBVUkkgaW4gdGhlIFRvIGhlYWRlclxuICAgIC8vIGZpZWxkOyBhZGRpdGlvbmFsbHksIHRoZSBVQVMgTVVTVCBhZGQgYSB0YWcgdG8gdGhlIFRvIGhlYWRlciBmaWVsZCBpblxuICAgIC8vIHRoZSByZXNwb25zZSAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSAxMDAgKFRyeWluZykgcmVzcG9uc2UsIGluXG4gICAgLy8gd2hpY2ggYSB0YWcgTUFZIGJlIHByZXNlbnQpLiAgVGhpcyBzZXJ2ZXMgdG8gaWRlbnRpZnkgdGhlIFVBUyB0aGF0IGlzXG4gICAgLy8gcmVzcG9uZGluZywgcG9zc2libHkgcmVzdWx0aW5nIGluIGEgY29tcG9uZW50IG9mIGEgZGlhbG9nIElELiAgVGhlXG4gICAgLy8gc2FtZSB0YWcgTVVTVCBiZSB1c2VkIGZvciBhbGwgcmVzcG9uc2VzIHRvIHRoYXQgcmVxdWVzdCwgYm90aCBmaW5hbFxuICAgIC8vIGFuZCBwcm92aXNpb25hbCAoYWdhaW4gZXhjZXB0aW5nIHRoZSAxMDAgKFRyeWluZykpLlxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjYuMlxuICAgIHZhciB0b0hlYWRlciA9IFwiVG86IFwiICsgbWVzc2FnZS5nZXRIZWFkZXIoXCJ0b1wiKTtcbiAgICBpZiAob3B0aW9ucy5zdGF0dXNDb2RlID4gMTAwICYmICFtZXNzYWdlLnBhcnNlSGVhZGVyKFwidG9cIikuaGFzUGFyYW0oXCJ0YWdcIikpIHtcbiAgICAgICAgdmFyIHRvVGFnID0gb3B0aW9ucy50b1RhZztcbiAgICAgICAgaWYgKCF0b1RhZykge1xuICAgICAgICAgICAgLy8gU3RhdGVsZXNzIFVBUyBCZWhhdmlvci4uLlxuICAgICAgICAgICAgLy8gbyAgVG8gaGVhZGVyIHRhZ3MgTVVTVCBiZSBnZW5lcmF0ZWQgZm9yIHJlc3BvbnNlcyBpbiBhIHN0YXRlbGVzc1xuICAgICAgICAgICAgLy8gICAgbWFubmVyIC0gaW4gYSBtYW5uZXIgdGhhdCB3aWxsIGdlbmVyYXRlIHRoZSBzYW1lIHRhZyBmb3IgdGhlXG4gICAgICAgICAgICAvLyAgICBzYW1lIHJlcXVlc3QgY29uc2lzdGVudGx5LiAgRm9yIGluZm9ybWF0aW9uIG9uIHRhZyBjb25zdHJ1Y3Rpb25cbiAgICAgICAgICAgIC8vICAgIHNlZSBTZWN0aW9uIDE5LjMuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi43XG4gICAgICAgICAgICB0b1RhZyA9IHV0aWxzXzEubmV3VGFnKCk7IC8vIEZJWE1FOiBuZXdUYWcoKSBjdXJyZW50bHkgZ2VuZXJhdGVzIHJhbmRvbSB0YWdzXG4gICAgICAgIH1cbiAgICAgICAgdG9IZWFkZXIgKz0gXCI7dGFnPVwiICsgdG9UYWc7XG4gICAgfVxuICAgIHRvSGVhZGVyICs9IENSTEY7XG4gICAgLy8gRklYTUU6IFRPRE86IG5lZWRzIHJldmlldy4uLiBtb3ZlZCB0byBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIgKGFzIGl0IGlzIHNwZWNpZmljIHRvIHRoYXQpXG4gICAgLy8gbGV0IHJlY29yZFJvdXRlSGVhZGVycyA9IFwiXCI7XG4gICAgLy8gaWYgKHJlcXVlc3QubWV0aG9kID09PSBDLklOVklURSAmJiBzdGF0dXNDb2RlID4gMTAwICYmIHN0YXR1c0NvZGUgPD0gMjAwKSB7XG4gICAgLy8gICByZWNvcmRSb3V0ZUhlYWRlcnMgPSByZXF1ZXN0LmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIikucmVkdWNlKChwcmV2aW91cywgY3VycmVudCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gcHJldmlvdXMgKyBcIlJlY29yZC1Sb3V0ZTogXCIgKyBjdXJyZW50ICsgQ1JMRjtcbiAgICAvLyAgIH0sIFwiXCIpO1xuICAgIC8vIH1cbiAgICAvLyBGSVhNRTogVE9ETzogbmVlZHMgcmV2aWV3Li4uXG4gICAgdmFyIHN1cHBvcnRlZEhlYWRlciA9IFwiXCI7XG4gICAgaWYgKG9wdGlvbnMuc3VwcG9ydGVkKSB7XG4gICAgICAgIHN1cHBvcnRlZEhlYWRlciA9IFwiU3VwcG9ydGVkOiBcIiArIG9wdGlvbnMuc3VwcG9ydGVkLmpvaW4oXCIsIFwiKSArIENSTEY7XG4gICAgfVxuICAgIC8vIEZJWE1FOiBUT0RPOiBuZWVkcyByZXZpZXcuLi5cbiAgICB2YXIgdXNlckFnZW50SGVhZGVyID0gXCJcIjtcbiAgICBpZiAob3B0aW9ucy51c2VyQWdlbnQpIHtcbiAgICAgICAgdXNlckFnZW50SGVhZGVyID0gXCJVc2VyLUFnZW50OiBcIiArIG9wdGlvbnMudXNlckFnZW50ICsgQ1JMRjtcbiAgICB9XG4gICAgdmFyIGV4dGVuc2lvbkhlYWRlcnMgPSBcIlwiO1xuICAgIGlmIChvcHRpb25zLmV4dHJhSGVhZGVycykge1xuICAgICAgICBleHRlbnNpb25IZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzICsgY3VycmVudC50cmltKCkgKyBDUkxGO1xuICAgICAgICB9LCBcIlwiKTtcbiAgICB9XG4gICAgLy8gVGhlIHJlbGF0aXZlIG9yZGVyIG9mIGhlYWRlciBmaWVsZHMgd2l0aCBkaWZmZXJlbnQgZmllbGQgbmFtZXMgaXMgbm90XG4gICAgLy8gc2lnbmlmaWNhbnQuICBIb3dldmVyLCBpdCBpcyBSRUNPTU1FTkRFRCB0aGF0IGhlYWRlciBmaWVsZHMgd2hpY2ggYXJlXG4gICAgLy8gbmVlZGVkIGZvciBwcm94eSBwcm9jZXNzaW5nIChWaWEsIFJvdXRlLCBSZWNvcmQtUm91dGUsIFByb3h5LVJlcXVpcmUsXG4gICAgLy8gTWF4LUZvcndhcmRzLCBhbmQgUHJveHktQXV0aG9yaXphdGlvbiwgZm9yIGV4YW1wbGUpIGFwcGVhciB0b3dhcmRzXG4gICAgLy8gdGhlIHRvcCBvZiB0aGUgbWVzc2FnZSB0byBmYWNpbGl0YXRlIHJhcGlkIHBhcnNpbmcuXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi03LjMuMVxuICAgIC8vIHJlc3BvbnNlICs9IHJlY29yZFJvdXRlSGVhZGVycztcbiAgICByZXNwb25zZSArPSB2aWFIZWFkZXJzO1xuICAgIHJlc3BvbnNlICs9IGZyb21IZWFkZXI7XG4gICAgcmVzcG9uc2UgKz0gdG9IZWFkZXI7XG4gICAgcmVzcG9uc2UgKz0gY1NlcUhlYWRlcjtcbiAgICByZXNwb25zZSArPSBjYWxsSWRIZWFkZXI7XG4gICAgcmVzcG9uc2UgKz0gc3VwcG9ydGVkSGVhZGVyO1xuICAgIHJlc3BvbnNlICs9IHVzZXJBZ2VudEhlYWRlcjtcbiAgICByZXNwb25zZSArPSBleHRlbnNpb25IZWFkZXJzO1xuICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgcmVzcG9uc2UgKz0gXCJDb250ZW50LVR5cGU6IFwiICsgb3B0aW9ucy5ib2R5LmNvbnRlbnRUeXBlICsgQ1JMRjtcbiAgICAgICAgcmVzcG9uc2UgKz0gXCJDb250ZW50LUxlbmd0aDogXCIgKyB1dGlsc18xLnN0cl91dGY4X2xlbmd0aChvcHRpb25zLmJvZHkuY29udGVudCkgKyBDUkxGICsgQ1JMRjtcbiAgICAgICAgcmVzcG9uc2UgKz0gb3B0aW9ucy5ib2R5LmNvbnRlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXNwb25zZSArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIDAgKyBDUkxGICsgQ1JMRjtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogcmVzcG9uc2UgfTtcbn1cbmV4cG9ydHMuY29uc3RydWN0T3V0Z29pbmdSZXNwb25zZSA9IGNvbnN0cnVjdE91dGdvaW5nUmVzcG9uc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBncmFtbWFyXzEgPSByZXF1aXJlKFwiLi9ncmFtbWFyXCIpO1xudmFyIGluY29taW5nX3JlcXVlc3RfbWVzc2FnZV8xID0gcmVxdWlyZShcIi4vaW5jb21pbmctcmVxdWVzdC1tZXNzYWdlXCIpO1xudmFyIGluY29taW5nX3Jlc3BvbnNlX21lc3NhZ2VfMSA9IHJlcXVpcmUoXCIuL2luY29taW5nLXJlc3BvbnNlLW1lc3NhZ2VcIik7XG4vKipcbiAqIEV4dHJhY3QgYW5kIHBhcnNlIGV2ZXJ5IGhlYWRlciBvZiBhIFNJUCBtZXNzYWdlLlxuICogQGludGVybmFsXG4gKi9cbnZhciBQYXJzZXI7XG4oZnVuY3Rpb24gKFBhcnNlcikge1xuICAgIGZ1bmN0aW9uIGdldEhlYWRlcihkYXRhLCBoZWFkZXJTdGFydCkge1xuICAgICAgICAvLyAnc3RhcnQnIHBvc2l0aW9uIG9mIHRoZSBoZWFkZXIuXG4gICAgICAgIHZhciBzdGFydCA9IGhlYWRlclN0YXJ0O1xuICAgICAgICAvLyAnZW5kJyBwb3NpdGlvbiBvZiB0aGUgaGVhZGVyLlxuICAgICAgICB2YXIgZW5kID0gMDtcbiAgICAgICAgLy8gJ3BhcnRpYWwgZW5kJyBwb3NpdGlvbiBvZiB0aGUgaGVhZGVyLlxuICAgICAgICB2YXIgcGFydGlhbEVuZCA9IDA7XG4gICAgICAgIC8vIEVuZCBvZiBtZXNzYWdlLlxuICAgICAgICBpZiAoZGF0YS5zdWJzdHJpbmcoc3RhcnQsIHN0YXJ0ICsgMikubWF0Y2goLyheXFxyXFxuKS8pKSB7XG4gICAgICAgICAgICByZXR1cm4gLTI7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGVuZCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gUGFydGlhbCBFbmQgb2YgSGVhZGVyLlxuICAgICAgICAgICAgcGFydGlhbEVuZCA9IGRhdGEuaW5kZXhPZihcIlxcclxcblwiLCBzdGFydCk7XG4gICAgICAgICAgICAvLyAnaW5kZXhPZicgcmV0dXJucyAtMSBpZiB0aGUgdmFsdWUgdG8gYmUgZm91bmQgbmV2ZXIgb2NjdXJzLlxuICAgICAgICAgICAgaWYgKHBhcnRpYWxFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxFbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRhdGEuc3Vic3RyaW5nKHBhcnRpYWxFbmQgKyAyLCBwYXJ0aWFsRW5kICsgNCkubWF0Y2goLyheXFxyXFxuKS8pICYmXG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyQXQocGFydGlhbEVuZCArIDIpLm1hdGNoKC8oXlxccyspLykpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3QgdGhlIGVuZCBvZiB0aGUgbWVzc2FnZS4gQ29udGludWUgZnJvbSB0aGUgbmV4dCBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBzdGFydCA9IHBhcnRpYWxFbmQgKyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kID0gcGFydGlhbEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICBQYXJzZXIuZ2V0SGVhZGVyID0gZ2V0SGVhZGVyO1xuICAgIGZ1bmN0aW9uIHBhcnNlSGVhZGVyKG1lc3NhZ2UsIGRhdGEsIGhlYWRlclN0YXJ0LCBoZWFkZXJFbmQpIHtcbiAgICAgICAgdmFyIGhjb2xvbkluZGV4ID0gZGF0YS5pbmRleE9mKFwiOlwiLCBoZWFkZXJTdGFydCk7XG4gICAgICAgIHZhciBoZWFkZXJOYW1lID0gZGF0YS5zdWJzdHJpbmcoaGVhZGVyU3RhcnQsIGhjb2xvbkluZGV4KS50cmltKCk7XG4gICAgICAgIHZhciBoZWFkZXJWYWx1ZSA9IGRhdGEuc3Vic3RyaW5nKGhjb2xvbkluZGV4ICsgMSwgaGVhZGVyRW5kKS50cmltKCk7XG4gICAgICAgIHZhciBwYXJzZWQ7XG4gICAgICAgIC8vIElmIGhlYWRlci1maWVsZCBpcyB3ZWxsLWtub3duLCBwYXJzZSBpdC5cbiAgICAgICAgc3dpdGNoIChoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ2aWFcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZGRIZWFkZXIoXCJ2aWFcIiwgaGVhZGVyVmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmdldEhlYWRlcnMoXCJ2aWFcIikubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJWaWFcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlhID0gcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52aWFCcmFuY2ggPSBwYXJzZWQuYnJhbmNoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmcm9tXCI6XG4gICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2V0SGVhZGVyKFwiZnJvbVwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcImZyb21cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZyb20gPSBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnJvbVRhZyA9IHBhcnNlZC5nZXRQYXJhbShcInRhZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidG9cIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJ0b1wiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcInRvXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50byA9IHBhcnNlZDtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50b1RhZyA9IHBhcnNlZC5nZXRQYXJhbShcInRhZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVjb3JkLXJvdXRlXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gZ3JhbW1hcl8xLkdyYW1tYXIucGFyc2UoaGVhZGVyVmFsdWUsIFwiUmVjb3JkX1JvdXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHBhcnNlZCBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJzZWQuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWRkSGVhZGVyKFwicmVjb3JkLXJvdXRlXCIsIGhlYWRlclZhbHVlLnN1YnN0cmluZyhoZWFkZXIucG9zaXRpb24sIGhlYWRlci5vZmZzZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWFkZXJzW1wiUmVjb3JkLVJvdXRlXCJdW21lc3NhZ2UuZ2V0SGVhZGVycyhcInJlY29yZC1yb3V0ZVwiKS5sZW5ndGggLSAxXS5wYXJzZWQgPSBoZWFkZXIucGFyc2VkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNhbGwtaWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJjYWxsLWlkXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiY2FsbC1pZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2FsbElkID0gaGVhZGVyVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRhY3RcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gZ3JhbW1hcl8xLkdyYW1tYXIucGFyc2UoaGVhZGVyVmFsdWUsIFwiQ29udGFjdFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShwYXJzZWQgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyc2VkLmZvckVhY2goZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFkZEhlYWRlcihcImNvbnRhY3RcIiwgaGVhZGVyVmFsdWUuc3Vic3RyaW5nKGhlYWRlci5wb3NpdGlvbiwgaGVhZGVyLm9mZnNldCkpO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlYWRlcnMuQ29udGFjdFttZXNzYWdlLmdldEhlYWRlcnMoXCJjb250YWN0XCIpLmxlbmd0aCAtIDFdLnBhcnNlZCA9IGhlYWRlci5wYXJzZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29udGVudC1sZW5ndGhcIjpcbiAgICAgICAgICAgIGNhc2UgXCJsXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJjb250ZW50LWxlbmd0aFwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcImNvbnRlbnQtbGVuZ3RoXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRlbnQtdHlwZVwiOlxuICAgICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcImNvbnRlbnQtdHlwZVwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcImNvbnRlbnQtdHlwZVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjc2VxXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJjc2VxXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiY3NlcVwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3NlcSA9IHBhcnNlZC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBpbmNvbWluZ19yZXNwb25zZV9tZXNzYWdlXzEuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXRob2QgPSBwYXJzZWQubWV0aG9kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXgtZm9yd2FyZHNcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcIm1heC1mb3J3YXJkc1wiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIm1heC1mb3J3YXJkc1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ3d3ctYXV0aGVudGljYXRlXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJ3d3ctYXV0aGVudGljYXRlXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwid3d3LWF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwcm94eS1hdXRoZW50aWNhdGVcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcInByb3h5LWF1dGhlbnRpY2F0ZVwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcInByb3h5LWF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZWZlci10b1wiOlxuICAgICAgICAgICAgY2FzZSBcInJcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcInJlZmVyLXRvXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwicmVmZXItdG9cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJlZmVyVG8gPSBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgcGFyc2UgdGhpcyBoZWFkZXIuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZGRIZWFkZXIoaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IFwiZXJyb3IgcGFyc2luZyBoZWFkZXIgJ1wiICsgaGVhZGVyTmFtZSArIFwiJ1wiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUGFyc2VyLnBhcnNlSGVhZGVyID0gcGFyc2VIZWFkZXI7XG4gICAgZnVuY3Rpb24gcGFyc2VNZXNzYWdlKGRhdGEsIGxvZ2dlcikge1xuICAgICAgICB2YXIgaGVhZGVyU3RhcnQgPSAwO1xuICAgICAgICB2YXIgaGVhZGVyRW5kID0gZGF0YS5pbmRleE9mKFwiXFxyXFxuXCIpO1xuICAgICAgICBpZiAoaGVhZGVyRW5kID09PSAtMSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJubyBDUkxGIGZvdW5kLCBub3QgYSBTSVAgbWVzc2FnZSwgZGlzY2FyZGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlIGZpcnN0IGxpbmUuIENoZWNrIGlmIGl0IGlzIGEgUmVxdWVzdCBvciBhIFJlcGx5LlxuICAgICAgICB2YXIgZmlyc3RMaW5lID0gZGF0YS5zdWJzdHJpbmcoMCwgaGVhZGVyRW5kKTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IGdyYW1tYXJfMS5HcmFtbWFyLnBhcnNlKGZpcnN0TGluZSwgXCJSZXF1ZXN0X1Jlc3BvbnNlXCIpO1xuICAgICAgICB2YXIgbWVzc2FnZTtcbiAgICAgICAgaWYgKHBhcnNlZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdlcnJvciBwYXJzaW5nIGZpcnN0IGxpbmUgb2YgU0lQIG1lc3NhZ2U6IFwiJyArIGZpcnN0TGluZSArICdcIicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFwYXJzZWQuc3RhdHVzX2NvZGUpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgaW5jb21pbmdfcmVxdWVzdF9tZXNzYWdlXzEuSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSgpO1xuICAgICAgICAgICAgbWVzc2FnZS5tZXRob2QgPSBwYXJzZWQubWV0aG9kO1xuICAgICAgICAgICAgbWVzc2FnZS5ydXJpID0gcGFyc2VkLnVyaTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgaW5jb21pbmdfcmVzcG9uc2VfbWVzc2FnZV8xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlKCk7XG4gICAgICAgICAgICBtZXNzYWdlLnN0YXR1c0NvZGUgPSBwYXJzZWQuc3RhdHVzX2NvZGU7XG4gICAgICAgICAgICBtZXNzYWdlLnJlYXNvblBocmFzZSA9IHBhcnNlZC5yZWFzb25fcGhyYXNlO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9IGRhdGE7XG4gICAgICAgIGhlYWRlclN0YXJ0ID0gaGVhZGVyRW5kICsgMjtcbiAgICAgICAgLy8gTG9vcCBvdmVyIGV2ZXJ5IGxpbmUgaW4gZGF0YS4gRGV0ZWN0IHRoZSBlbmQgb2YgZWFjaCBoZWFkZXIgYW5kIHBhcnNlXG4gICAgICAgIC8vIGl0IG9yIHNpbXBseSBhZGQgdG8gdGhlIGhlYWRlcnMgY29sbGVjdGlvbi5cbiAgICAgICAgdmFyIGJvZHlTdGFydDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGhlYWRlckVuZCA9IGdldEhlYWRlcihkYXRhLCBoZWFkZXJTdGFydCk7XG4gICAgICAgICAgICAvLyBUaGUgU0lQIG1lc3NhZ2UgaGFzIG5vcm1hbGx5IGZpbmlzaGVkLlxuICAgICAgICAgICAgaWYgKGhlYWRlckVuZCA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICBib2R5U3RhcnQgPSBoZWFkZXJTdGFydCArIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkZXJFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gZGF0YS5pbmRleE9mIHJldHVybmVkIC0xIGR1ZSB0byBhIG1hbGZvcm1lZCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIm1hbGZvcm1lZCBtZXNzYWdlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJzZWRIZWFkZXIgPSBwYXJzZUhlYWRlcihtZXNzYWdlLCBkYXRhLCBoZWFkZXJTdGFydCwgaGVhZGVyRW5kKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRIZWFkZXIgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IocGFyc2VkLmVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWFkZXJTdGFydCA9IGhlYWRlckVuZCArIDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUkZDMzI2MSAxOC4zLlxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYWRkaXRpb25hbCBieXRlcyBpbiB0aGUgdHJhbnNwb3J0IHBhY2tldFxuICAgICAgICAvLyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgYm9keSwgdGhleSBNVVNUIGJlIGRpc2NhcmRlZC5cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGFzSGVhZGVyKFwiY29udGVudC1sZW5ndGhcIikpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuYm9keSA9IGRhdGEuc3Vic3RyKGJvZHlTdGFydCwgTnVtYmVyKG1lc3NhZ2UuZ2V0SGVhZGVyKFwiY29udGVudC1sZW5ndGhcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuYm9keSA9IGRhdGEuc3Vic3RyaW5nKGJvZHlTdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBhcnNlci5wYXJzZU1lc3NhZ2UgPSBwYXJzZU1lc3NhZ2U7XG59KShQYXJzZXIgPSBleHBvcnRzLlBhcnNlciB8fCAoZXhwb3J0cy5QYXJzZXIgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHNlc3Npb25fMSA9IHJlcXVpcmUoXCIuLi9zZXNzaW9uXCIpO1xudmFyIHRpbWVyc18xID0gcmVxdWlyZShcIi4uL3RpbWVyc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgYnllX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvYnllLXVzZXItYWdlbnQtY2xpZW50XCIpO1xudmFyIGJ5ZV91c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnRzL2J5ZS11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBpbmZvX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvaW5mby11c2VyLWFnZW50LWNsaWVudFwiKTtcbnZhciBpbmZvX3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvaW5mby11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBtZXNzYWdlX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbWVzc2FnZS11c2VyLWFnZW50LWNsaWVudFwiKTtcbnZhciBtZXNzYWdlX3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbWVzc2FnZS11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBub3RpZnlfdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9ub3RpZnktdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgbm90aWZ5X3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbm90aWZ5LXVzZXItYWdlbnQtc2VydmVyXCIpO1xudmFyIHByYWNrX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvcHJhY2stdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgcHJhY2tfdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9wcmFjay11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciByZV9pbnZpdGVfdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9yZS1pbnZpdGUtdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgcmVfaW52aXRlX3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvcmUtaW52aXRlLXVzZXItYWdlbnQtc2VydmVyXCIpO1xudmFyIHJlZmVyX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvcmVmZXItdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgcmVmZXJfdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9yZWZlci11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBkaWFsb2dfMSA9IHJlcXVpcmUoXCIuL2RpYWxvZ1wiKTtcbi8qKlxuICogU2Vzc2lvbiBEaWFsb2cuXG4gKiBAcHVibGljXG4gKi9cbnZhciBTZXNzaW9uRGlhbG9nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlc3Npb25EaWFsb2csIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2Vzc2lvbkRpYWxvZyhpbml0aWFsVHJhbnNhY3Rpb24sIGNvcmUsIHN0YXRlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb3JlLCBzdGF0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaW5pdGlhbFRyYW5zYWN0aW9uID0gaW5pdGlhbFRyYW5zYWN0aW9uO1xuICAgICAgICAvKiogVGhlIHN0YXRlIG9mIHRoZSBvZmZlci9hbnN3ZXIgZXhjaGFuZ2UuICovXG4gICAgICAgIF90aGlzLl9zaWduYWxpbmdTdGF0ZSA9IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsO1xuICAgICAgICAvKiogVHJ1ZSBpZiB3YWl0aW5nIGZvciBhbiBBQ0sgdG8gdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24gMnh4IChVQVMgb25seSkuICovXG4gICAgICAgIF90aGlzLmFja1dhaXQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGluaXRpYWxUcmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBjcmVhdGVkIGJ5IGFuIGludml0ZSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHdlJ3JlXG4gICAgICAgICAgICAvLyBnb2luZyB0byBiZSB3YWl0aW5nIGZvciBhbiBBQ0sgaWYgYXJlIHRvIGJlIGNvbmZpcm1lZC5cbiAgICAgICAgICAgIF90aGlzLmFja1dhaXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlJ3JlIGNvbmZpcm1lZCB1cG9uIGNyZWF0aW9uIHN0YXJ0IHRoZSByZXRyYW5zbWl0dGluZyB3aGF0ZXZlclxuICAgICAgICAvLyB0aGUgMnh4IGZpbmFsIHJlc3BvbnNlIHdhcyB0aGF0IGNvbmZpcm1lZCB1cyBpbnRvIGV4aXN0ZW5jZS5cbiAgICAgICAgaWYgKCFfdGhpcy5lYXJseSkge1xuICAgICAgICAgICAgX3RoaXMuc3RhcnQyeHhSZXRyYW5zbWlzc2lvblRpbWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKGluaXRpYWxUcmFuc2FjdGlvbi5yZXF1ZXN0KTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gY29yZS5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC5pbnZpdGUtZGlhbG9nXCIpO1xuICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIF90aGlzLmlkICsgXCIgY29uc3RydWN0ZWRcIik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDtcbiAgICAgICAgdGhpcy5fb2ZmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2Fuc3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuaW52aXRlMnh4VGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuaW52aXRlMnh4VGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIFVBUyBNVVNUIHN0aWxsIHJlc3BvbmQgdG8gYW55IHBlbmRpbmcgcmVxdWVzdHMgcmVjZWl2ZWQgZm9yIHRoYXRcbiAgICAgICAgLy8gZGlhbG9nLiAgSXQgaXMgUkVDT01NRU5ERUQgdGhhdCBhIDQ4NyAoUmVxdWVzdCBUZXJtaW5hdGVkKSByZXNwb25zZVxuICAgICAgICAvLyBiZSBnZW5lcmF0ZWQgdG8gdGhvc2UgcGVuZGluZyByZXF1ZXN0cy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNS4xLjJcbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgLy8gdGhpcy51c2VyQWdlbnRTZXJ2ZXJzLmZvckVhY2goKHVhcykgPT4gdWFzLnJlcGx5KDQ4NykpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIGRlc3Ryb3llZFwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXNzaW9uRGlhbG9nLnByb3RvdHlwZSwgXCJzZXNzaW9uU3RhdGVcIiwge1xuICAgICAgICAvLyBGSVhNRTogTmVlZCByZWFsIHN0YXRlIG1hY2hpbmVcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXJseSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXzEuU2Vzc2lvblN0YXRlLkVhcmx5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hY2tXYWl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25fMS5TZXNzaW9uU3RhdGUuQWNrV2FpdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX3NpZ25hbGluZ1N0YXRlID09PSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuQ2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25fMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXzEuU2Vzc2lvblN0YXRlLkNvbmZpcm1lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlc3Npb25EaWFsb2cucHJvdG90eXBlLCBcInNpZ25hbGluZ1N0YXRlXCIsIHtcbiAgICAgICAgLyoqIFRoZSBzdGF0ZSBvZiB0aGUgb2ZmZXIvYW5zd2VyIGV4Y2hhbmdlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaWduYWxpbmdTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlc3Npb25EaWFsb2cucHJvdG90eXBlLCBcIm9mZmVyXCIsIHtcbiAgICAgICAgLyoqIFRoZSBjdXJyZW50IG9mZmVyLiBVbmRlZmluZWQgdW5sZXNzIHNpZ25hbGluZyBzdGF0ZSBIYXZlTG9jYWxPZmZlciwgSGF2ZVJlbW90ZU9mZmVyLCBvZiBTdGFibGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29mZmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUsIFwiYW5zd2VyXCIsIHtcbiAgICAgICAgLyoqIFRoZSBjdXJyZW50IGFuc3dlci4gVW5kZWZpbmVkIHVubGVzcyBzaWduYWxpbmcgc3RhdGUgU3RhYmxlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbnN3ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBDb25maXJtIHRoZSBkaWFsb2cuIE9ubHkgbWF0dGVycyBpZiBkaWFsb2cgaXMgY3VycmVudGx5IGVhcmx5LiAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdoZW4gd2UncmUgY29uZmlybWVkIHN0YXJ0IHRoZSByZXRyYW5zbWl0dGluZyB3aGF0ZXZlclxuICAgICAgICAvLyB0aGUgMnh4IGZpbmFsIHJlc3BvbnNlIHRoYXQgbWF5IGhhdmUgY29uZmlybWVkIHVzLlxuICAgICAgICBpZiAodGhpcy5lYXJseSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydDJ4eFJldHJhbnNtaXNzaW9uVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpcm0uY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKiBSZS1jb25maXJtIHRoZSBkaWFsb2cuIE9ubHkgbWF0dGVycyBpZiBoYW5kbGluZyByZS1JTlZJVEUgcmVxdWVzdC4gKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5yZUNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdoZW4gd2UncmUgY29uZmlybWVkIHN0YXJ0IHRoZSByZXRyYW5zbWl0dGluZyB3aGF0ZXZlclxuICAgICAgICAvLyB0aGUgMnh4IGZpbmFsIHJlc3BvbnNlIHRoYXQgbWF5IGhhdmUgY29uZmlybWVkIHVzLlxuICAgICAgICBpZiAodGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlSW52aXRlMnh4UmV0cmFuc21pc3Npb25UaW1lcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgVUFDIGNvcmUgTVVTVCBnZW5lcmF0ZSBhbiBBQ0sgcmVxdWVzdCBmb3IgZWFjaCAyeHggcmVjZWl2ZWQgZnJvbVxuICAgICAqIHRoZSB0cmFuc2FjdGlvbiBsYXllci4gIFRoZSBoZWFkZXIgZmllbGRzIG9mIHRoZSBBQ0sgYXJlIGNvbnN0cnVjdGVkXG4gICAgICogaW4gdGhlIHNhbWUgd2F5IGFzIGZvciBhbnkgcmVxdWVzdCBzZW50IHdpdGhpbiBhIGRpYWxvZyAoc2VlIFNlY3Rpb25cbiAgICAgKiAxMikgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBDU2VxIGFuZCB0aGUgaGVhZGVyIGZpZWxkcyByZWxhdGVkIHRvXG4gICAgICogYXV0aGVudGljYXRpb24uICBUaGUgc2VxdWVuY2UgbnVtYmVyIG9mIHRoZSBDU2VxIGhlYWRlciBmaWVsZCBNVVNUIGJlXG4gICAgICogdGhlIHNhbWUgYXMgdGhlIElOVklURSBiZWluZyBhY2tub3dsZWRnZWQsIGJ1dCB0aGUgQ1NlcSBtZXRob2QgTVVTVFxuICAgICAqIGJlIEFDSy4gIFRoZSBBQ0sgTVVTVCBjb250YWluIHRoZSBzYW1lIGNyZWRlbnRpYWxzIGFzIHRoZSBJTlZJVEUuICBJZlxuICAgICAqIHRoZSAyeHggY29udGFpbnMgYW4gb2ZmZXIgKGJhc2VkIG9uIHRoZSBydWxlcyBhYm92ZSksIHRoZSBBQ0sgTVVTVFxuICAgICAqIGNhcnJ5IGFuIGFuc3dlciBpbiBpdHMgYm9keS4gIElmIHRoZSBvZmZlciBpbiB0aGUgMnh4IHJlc3BvbnNlIGlzIG5vdFxuICAgICAqIGFjY2VwdGFibGUsIHRoZSBVQUMgY29yZSBNVVNUIGdlbmVyYXRlIGEgdmFsaWQgYW5zd2VyIGluIHRoZSBBQ0sgYW5kXG4gICAgICogdGhlbiBzZW5kIGEgQllFIGltbWVkaWF0ZWx5LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFDSyBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5hY2sgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgQUNLIHJlcXVlc3RcIik7XG4gICAgICAgIHZhciB0cmFuc2FjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMucmVpbnZpdGVVc2VyQWdlbnRDbGllbnQpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIHNlbmRpbmcgQUNLIGZvciBhIHJlLUlOVklURVxuICAgICAgICAgICAgaWYgKCEodGhpcy5yZWludml0ZVVzZXJBZ2VudENsaWVudC50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZUNsaWVudFRyYW5zYWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBpbnN0YW5jZSBvZiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFuc2FjdGlvbiA9IHRoaXMucmVpbnZpdGVVc2VyQWdlbnRDbGllbnQudHJhbnNhY3Rpb247XG4gICAgICAgICAgICB0aGlzLnJlaW52aXRlVXNlckFnZW50Q2xpZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UncmUgc2VuZGluZyBBQ0sgZm9yIHRoZSBpbml0aWFsIElOVklURVxuICAgICAgICAgICAgaWYgKCEodGhpcy5pbml0aWFsVHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVDbGllbnRUcmFuc2FjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbml0aWFsIHRyYW5zYWN0aW9uIG5vdCBpbnN0YW5jZSBvZiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFuc2FjdGlvbiA9IHRoaXMuaW5pdGlhbFRyYW5zYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuY3NlcSA9IHRyYW5zYWN0aW9uLnJlcXVlc3QuY3NlcTsgLy8gQUNLIGNzZXEgaXMgSU5WSVRFIGNzZXFcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLmNyZWF0ZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UobWVzc2FnZXNfMS5DLkFDSywgb3B0aW9ucyk7XG4gICAgICAgIHRyYW5zYWN0aW9uLmFja1Jlc3BvbnNlKG1lc3NhZ2UpOyAvLyBTZWUgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24gZm9yIGRldGFpbHMuXG4gICAgICAgIHRoaXMuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXJtaW5hdGluZyBhIFNlc3Npb25cbiAgICAgKlxuICAgICAqIFRoaXMgc2VjdGlvbiBkZXNjcmliZXMgdGhlIHByb2NlZHVyZXMgZm9yIHRlcm1pbmF0aW5nIGEgc2Vzc2lvblxuICAgICAqIGVzdGFibGlzaGVkIGJ5IFNJUC4gIFRoZSBzdGF0ZSBvZiB0aGUgc2Vzc2lvbiBhbmQgdGhlIHN0YXRlIG9mIHRoZVxuICAgICAqIGRpYWxvZyBhcmUgdmVyeSBjbG9zZWx5IHJlbGF0ZWQuICBXaGVuIGEgc2Vzc2lvbiBpcyBpbml0aWF0ZWQgd2l0aCBhblxuICAgICAqIElOVklURSwgZWFjaCAxeHggb3IgMnh4IHJlc3BvbnNlIGZyb20gYSBkaXN0aW5jdCBVQVMgY3JlYXRlcyBhXG4gICAgICogZGlhbG9nLCBhbmQgaWYgdGhhdCByZXNwb25zZSBjb21wbGV0ZXMgdGhlIG9mZmVyL2Fuc3dlciBleGNoYW5nZSwgaXRcbiAgICAgKiBhbHNvIGNyZWF0ZXMgYSBzZXNzaW9uLiAgQXMgYSByZXN1bHQsIGVhY2ggc2Vzc2lvbiBpcyBcImFzc29jaWF0ZWRcIlxuICAgICAqIHdpdGggYSBzaW5nbGUgZGlhbG9nIC0gdGhlIG9uZSB3aGljaCByZXN1bHRlZCBpbiBpdHMgY3JlYXRpb24uICBJZiBhblxuICAgICAqIGluaXRpYWwgSU5WSVRFIGdlbmVyYXRlcyBhIG5vbi0yeHggZmluYWwgcmVzcG9uc2UsIHRoYXQgdGVybWluYXRlc1xuICAgICAqIGFsbCBzZXNzaW9ucyAoaWYgYW55KSBhbmQgYWxsIGRpYWxvZ3MgKGlmIGFueSkgdGhhdCB3ZXJlIGNyZWF0ZWRcbiAgICAgKiB0aHJvdWdoIHJlc3BvbnNlcyB0byB0aGUgcmVxdWVzdC4gIEJ5IHZpcnR1ZSBvZiBjb21wbGV0aW5nIHRoZVxuICAgICAqIHRyYW5zYWN0aW9uLCBhIG5vbi0yeHggZmluYWwgcmVzcG9uc2UgYWxzbyBwcmV2ZW50cyBmdXJ0aGVyIHNlc3Npb25zXG4gICAgICogZnJvbSBiZWluZyBjcmVhdGVkIGFzIGEgcmVzdWx0IG9mIHRoZSBJTlZJVEUuICBUaGUgQllFIHJlcXVlc3QgaXNcbiAgICAgKiB1c2VkIHRvIHRlcm1pbmF0ZSBhIHNwZWNpZmljIHNlc3Npb24gb3IgYXR0ZW1wdGVkIHNlc3Npb24uICBJbiB0aGlzXG4gICAgICogY2FzZSwgdGhlIHNwZWNpZmljIHNlc3Npb24gaXMgdGhlIG9uZSB3aXRoIHRoZSBwZWVyIFVBIG9uIHRoZSBvdGhlclxuICAgICAqIHNpZGUgb2YgdGhlIGRpYWxvZy4gIFdoZW4gYSBCWUUgaXMgcmVjZWl2ZWQgb24gYSBkaWFsb2csIGFueSBzZXNzaW9uXG4gICAgICogYXNzb2NpYXRlZCB3aXRoIHRoYXQgZGlhbG9nIFNIT1VMRCB0ZXJtaW5hdGUuICBBIFVBIE1VU1QgTk9UIHNlbmQgYVxuICAgICAqIEJZRSBvdXRzaWRlIG9mIGEgZGlhbG9nLiAgVGhlIGNhbGxlcidzIFVBIE1BWSBzZW5kIGEgQllFIGZvciBlaXRoZXJcbiAgICAgKiBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9ncywgYW5kIHRoZSBjYWxsZWUncyBVQSBNQVkgc2VuZCBhIEJZRSBvblxuICAgICAqIGNvbmZpcm1lZCBkaWFsb2dzLCBidXQgTVVTVCBOT1Qgc2VuZCBhIEJZRSBvbiBlYXJseSBkaWFsb2dzLlxuICAgICAqXG4gICAgICogSG93ZXZlciwgdGhlIGNhbGxlZSdzIFVBIE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nXG4gICAgICogdW50aWwgaXQgaGFzIHJlY2VpdmVkIGFuIEFDSyBmb3IgaXRzIDJ4eCByZXNwb25zZSBvciB1bnRpbCB0aGUgc2VydmVyXG4gICAgICogdHJhbnNhY3Rpb24gdGltZXMgb3V0LiAgSWYgbm8gU0lQIGV4dGVuc2lvbnMgaGF2ZSBkZWZpbmVkIG90aGVyXG4gICAgICogYXBwbGljYXRpb24gbGF5ZXIgc3RhdGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZGlhbG9nLCB0aGUgQllFIGFsc29cbiAgICAgKiB0ZXJtaW5hdGVzIHRoZSBkaWFsb2cuXG4gICAgICpcbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1XG4gICAgICogRklYTUU6IE1ha2UgdGhlc2UgcHJvcGVyIEV4Y2VwdGlvbnMuLi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEJZRSBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqIFRocm93cyBgRXJyb3JgIGlmIGNhbGxlZSdzIFVBIGF0dGVtcHRzIGEgQllFIG9uIGFuIGVhcmx5IGRpYWxvZy5cbiAgICAgKiBUaHJvd3MgYEVycm9yYCBpZiBjYWxsZWUncyBVQSBhdHRlbXB0cyBhIEJZRSBvbiBhIGNvbmZpcm1lZCBkaWFsb2dcbiAgICAgKiAgICAgICAgICAgICAgICB3aGlsZSBpdCdzIHdhaXRpbmcgb24gdGhlIEFDSyBmb3IgaXRzIDJ4eCByZXNwb25zZS5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5ieWUgPSBmdW5jdGlvbiAoZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiBzZW5kaW5nIEJZRSByZXF1ZXN0XCIpO1xuICAgICAgICAvLyBUaGUgY2FsbGVyJ3MgVUEgTUFZIHNlbmQgYSBCWUUgZm9yIGVpdGhlclxuICAgICAgICAvLyBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9ncywgYW5kIHRoZSBjYWxsZWUncyBVQSBNQVkgc2VuZCBhIEJZRSBvblxuICAgICAgICAvLyBjb25maXJtZWQgZGlhbG9ncywgYnV0IE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gZWFybHkgZGlhbG9ncy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSG93ZXZlciwgdGhlIGNhbGxlZSdzIFVBIE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nXG4gICAgICAgIC8vIHVudGlsIGl0IGhhcyByZWNlaXZlZCBhbiBBQ0sgZm9yIGl0cyAyeHggcmVzcG9uc2Ugb3IgdW50aWwgdGhlIHNlcnZlclxuICAgICAgICAvLyB0cmFuc2FjdGlvbiB0aW1lcyBvdXQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTVcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbFRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIHRocm93IGEgcHJvcGVyIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVQVMgTVVTVCBOT1Qgc2VuZCBhIEJZRSBvbiBlYXJseSBkaWFsb2dzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFja1dhaXQgJiYgdGhpcy5pbml0aWFsVHJhbnNhY3Rpb24uc3RhdGUgIT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBUT0RPOiBUaGlzIHNob3VsZCB0aHJvdyBhIHByb3BlciBleGNlcHRpb24uXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVUFTIE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJ1bnRpbCBpdCBoYXMgcmVjZWl2ZWQgYW4gQUNLIGZvciBpdHMgMnh4IHJlc3BvbnNlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJvciB1bnRpbCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIHRpbWVzIG91dC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBCWUUgcmVxdWVzdCBpcyBjb25zdHJ1Y3RlZCBhcyB3b3VsZCBhbnkgb3RoZXIgcmVxdWVzdCB3aXRoaW4gYVxuICAgICAgICAvLyBkaWFsb2csIGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDEyLlxuICAgICAgICAvL1xuICAgICAgICAvLyBPbmNlIHRoZSBCWUUgaXMgY29uc3RydWN0ZWQsIHRoZSBVQUMgY29yZSBjcmVhdGVzIGEgbmV3IG5vbi1JTlZJVEVcbiAgICAgICAgLy8gY2xpZW50IHRyYW5zYWN0aW9uLCBhbmQgcGFzc2VzIGl0IHRoZSBCWUUgcmVxdWVzdC4gIFRoZSBVQUMgTVVTVFxuICAgICAgICAvLyBjb25zaWRlciB0aGUgc2Vzc2lvbiB0ZXJtaW5hdGVkIChhbmQgdGhlcmVmb3JlIHN0b3Agc2VuZGluZyBvclxuICAgICAgICAvLyBsaXN0ZW5pbmcgZm9yIG1lZGlhKSBhcyBzb29uIGFzIHRoZSBCWUUgcmVxdWVzdCBpcyBwYXNzZWQgdG8gdGhlXG4gICAgICAgIC8vIGNsaWVudCB0cmFuc2FjdGlvbi4gIElmIHRoZSByZXNwb25zZSBmb3IgdGhlIEJZRSBpcyBhIDQ4MVxuICAgICAgICAvLyAoQ2FsbC9UcmFuc2FjdGlvbiBEb2VzIE5vdCBFeGlzdCkgb3IgYSA0MDggKFJlcXVlc3QgVGltZW91dCkgb3Igbm9cbiAgICAgICAgLy8gcmVzcG9uc2UgYXQgYWxsIGlzIHJlY2VpdmVkIGZvciB0aGUgQllFICh0aGF0IGlzLCBhIHRpbWVvdXQgaXNcbiAgICAgICAgLy8gcmV0dXJuZWQgYnkgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiksIHRoZSBVQUMgTVVTVCBjb25zaWRlciB0aGVcbiAgICAgICAgLy8gc2Vzc2lvbiBhbmQgdGhlIGRpYWxvZyB0ZXJtaW5hdGVkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1LjEuMVxuICAgICAgICByZXR1cm4gbmV3IGJ5ZV91c2VyX2FnZW50X2NsaWVudF8xLkJ5ZVVzZXJBZ2VudENsaWVudCh0aGlzLCBkZWxlZ2F0ZSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbiBJTkZPIHJlcXVlc3QgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBhbiBJbmZvIFBhY2thZ2UgKHNlZVxuICAgICAqIFNlY3Rpb24gNSksIG9yIGFzc29jaWF0ZWQgd2l0aCBhIGxlZ2FjeSBJTkZPIHVzYWdlIChzZWUgU2VjdGlvbiAyKS5cbiAgICAgKlxuICAgICAqIFRoZSBjb25zdHJ1Y3Rpb24gb2YgdGhlIElORk8gcmVxdWVzdCBpcyB0aGUgc2FtZSBhcyBhbnkgb3RoZXJcbiAgICAgKiBub24tdGFyZ2V0IHJlZnJlc2ggcmVxdWVzdCB3aXRoaW4gYW4gZXhpc3RpbmcgaW52aXRlIGRpYWxvZyB1c2FnZSBhc1xuICAgICAqIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDEyLjIgb2YgUkZDIDMyNjEuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwODYjc2VjdGlvbi00LjIuMVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgSU5GTyByZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5lYXJseSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIHRocm93IGEgcHJvcGVyIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyBub3QgY29uZmlybWVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGluZm9fdXNlcl9hZ2VudF9jbGllbnRfMS5JbmZvVXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vZGlmeWluZyBhbiBFeGlzdGluZyBTZXNzaW9uXG4gICAgICpcbiAgICAgKiBBIHN1Y2Nlc3NmdWwgSU5WSVRFIHJlcXVlc3QgKHNlZSBTZWN0aW9uIDEzKSBlc3RhYmxpc2hlcyBib3RoIGFcbiAgICAgKiBkaWFsb2cgYmV0d2VlbiB0d28gdXNlciBhZ2VudHMgYW5kIGEgc2Vzc2lvbiB1c2luZyB0aGUgb2ZmZXItYW5zd2VyXG4gICAgICogbW9kZWwuICBTZWN0aW9uIDEyIGV4cGxhaW5zIGhvdyB0byBtb2RpZnkgYW4gZXhpc3RpbmcgZGlhbG9nIHVzaW5nIGFcbiAgICAgKiB0YXJnZXQgcmVmcmVzaCByZXF1ZXN0IChmb3IgZXhhbXBsZSwgY2hhbmdpbmcgdGhlIHJlbW90ZSB0YXJnZXQgVVJJXG4gICAgICogb2YgdGhlIGRpYWxvZykuICBUaGlzIHNlY3Rpb24gZGVzY3JpYmVzIGhvdyB0byBtb2RpZnkgdGhlIGFjdHVhbFxuICAgICAqIHNlc3Npb24uICBUaGlzIG1vZGlmaWNhdGlvbiBjYW4gaW52b2x2ZSBjaGFuZ2luZyBhZGRyZXNzZXMgb3IgcG9ydHMsXG4gICAgICogYWRkaW5nIGEgbWVkaWEgc3RyZWFtLCBkZWxldGluZyBhIG1lZGlhIHN0cmVhbSwgYW5kIHNvIG9uLiAgVGhpcyBpc1xuICAgICAqIGFjY29tcGxpc2hlZCBieSBzZW5kaW5nIGEgbmV3IElOVklURSByZXF1ZXN0IHdpdGhpbiB0aGUgc2FtZSBkaWFsb2dcbiAgICAgKiB0aGF0IGVzdGFibGlzaGVkIHRoZSBzZXNzaW9uLiAgQW4gSU5WSVRFIHJlcXVlc3Qgc2VudCB3aXRoaW4gYW5cbiAgICAgKiBleGlzdGluZyBkaWFsb2cgaXMga25vd24gYXMgYSByZS1JTlZJVEUuXG4gICAgICpcbiAgICAgKiAgICBOb3RlIHRoYXQgYSBzaW5nbGUgcmUtSU5WSVRFIGNhbiBtb2RpZnkgdGhlIGRpYWxvZyBhbmQgdGhlXG4gICAgICogICAgcGFyYW1ldGVycyBvZiB0aGUgc2Vzc2lvbiBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAqXG4gICAgICogRWl0aGVyIHRoZSBjYWxsZXIgb3IgY2FsbGVlIGNhbiBtb2RpZnkgYW4gZXhpc3Rpbmcgc2Vzc2lvbi5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldFxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLmludml0ZSA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgSU5WSVRFIHJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhpcyBzaG91bGQgdGhyb3cgYSBwcm9wZXIgZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIG5vdCBjb25maXJtZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGUgdGhhdCBhIFVBQyBNVVNUIE5PVCBpbml0aWF0ZSBhIG5ldyBJTlZJVEUgdHJhbnNhY3Rpb24gd2l0aGluIGFcbiAgICAgICAgLy8gZGlhbG9nIHdoaWxlIGFub3RoZXIgSU5WSVRFIHRyYW5zYWN0aW9uIGlzIGluIHByb2dyZXNzIGluIGVpdGhlclxuICAgICAgICAvLyBkaXJlY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDEuIElmIHRoZXJlIGlzIGFuIG9uZ29pbmcgSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiwgdGhlIFRVIE1VU1RcbiAgICAgICAgLy8gICAgICAgd2FpdCB1bnRpbCB0aGUgdHJhbnNhY3Rpb24gcmVhY2hlcyB0aGUgY29tcGxldGVkIG9yIHRlcm1pbmF0ZWRcbiAgICAgICAgLy8gICAgICAgc3RhdGUgYmVmb3JlIGluaXRpYXRpbmcgdGhlIG5ldyBJTlZJVEUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDIuIElmIHRoZXJlIGlzIGFuIG9uZ29pbmcgSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiwgdGhlIFRVIE1VU1RcbiAgICAgICAgLy8gICAgICAgd2FpdCB1bnRpbCB0aGUgdHJhbnNhY3Rpb24gcmVhY2hlcyB0aGUgY29uZmlybWVkIG9yIHRlcm1pbmF0ZWRcbiAgICAgICAgLy8gICAgICAgc3RhdGUgYmVmb3JlIGluaXRpYXRpbmcgdGhlIG5ldyBJTlZJVEUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEhvd2V2ZXIsIGEgVUEgTUFZIGluaXRpYXRlIGEgcmVndWxhciB0cmFuc2FjdGlvbiB3aGlsZSBhbiBJTlZJVEVcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gaXMgaW4gcHJvZ3Jlc3MuICBBIFVBIE1BWSBhbHNvIGluaXRpYXRlIGFuIElOVklURVxuICAgICAgICAvLyB0cmFuc2FjdGlvbiB3aGlsZSBhIHJlZ3VsYXIgdHJhbnNhY3Rpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTQuMVxuICAgICAgICBpZiAodGhpcy5yZWludml0ZVVzZXJBZ2VudENsaWVudCkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIHRocm93IGEgcHJvcGVyIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIGFuIG9uZ29pbmcgcmUtSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBUT0RPOiBUaGlzIHNob3VsZCB0aHJvdyBhIHByb3BlciBleGNlcHRpb24uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBhbiBvbmdvaW5nIHJlLUlOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgcmVfaW52aXRlX3VzZXJfYWdlbnRfY2xpZW50XzEuUmVJbnZpdGVVc2VyQWdlbnRDbGllbnQodGhpcywgZGVsZWdhdGUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBVQUMgTUFZIGFzc29jaWF0ZSBhIE1FU1NBR0UgcmVxdWVzdCB3aXRoIGFuIGV4aXN0aW5nIGRpYWxvZy4gIElmIGFcbiAgICAgKiBNRVNTQUdFIHJlcXVlc3QgaXMgc2VudCB3aXRoaW4gYSBkaWFsb2csIGl0IGlzIFwiYXNzb2NpYXRlZFwiIHdpdGggYW55XG4gICAgICogbWVkaWEgc2Vzc2lvbiBvciBzZXNzaW9ucyBhc3NvY2lhdGVkIHdpdGggdGhhdCBkaWFsb2cuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0Mjgjc2VjdGlvbi00XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIklOVklURSBkaWFsb2cgXCIgKyB0aGlzLmlkICsgXCIgc2VuZGluZyBNRVNTQUdFIHJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhpcyBzaG91bGQgdGhyb3cgYSBwcm9wZXIgZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIG5vdCBjb25maXJtZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5NRVNTQUdFLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBtZXNzYWdlX3VzZXJfYWdlbnRfY2xpZW50XzEuTWVzc2FnZVVzZXJBZ2VudENsaWVudCh0aGlzLmNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBOT1RJRlkgbWVjaGFuaXNtIGRlZmluZWQgaW4gWzJdIE1VU1QgYmUgdXNlZCB0byBpbmZvcm0gdGhlIGFnZW50XG4gICAgICogc2VuZGluZyB0aGUgUkVGRVIgb2YgdGhlIHN0YXR1cyBvZiB0aGUgcmVmZXJlbmNlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNTE1I3NlY3Rpb24tMi40LjRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgTk9USUZZIHJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhpcyBzaG91bGQgdGhyb3cgYSBwcm9wZXIgZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIG5vdCBjb25maXJtZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgbm90aWZ5X3VzZXJfYWdlbnRfY2xpZW50XzEuTm90aWZ5VXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzc3VtaW5nIHRoZSByZXNwb25zZSBpcyB0byBiZSB0cmFuc21pdHRlZCByZWxpYWJseSwgdGhlIFVBQyBNVVNUXG4gICAgICogY3JlYXRlIGEgbmV3IHJlcXVlc3Qgd2l0aCBtZXRob2QgUFJBQ0suICBUaGlzIHJlcXVlc3QgaXMgc2VudCB3aXRoaW5cbiAgICAgKiB0aGUgZGlhbG9nIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgKGluZGVlZCwgdGhlXG4gICAgICogcHJvdmlzaW9uYWwgcmVzcG9uc2UgbWF5IGhhdmUgY3JlYXRlZCB0aGUgZGlhbG9nKS4gIFBSQUNLIHJlcXVlc3RzXG4gICAgICogTUFZIGNvbnRhaW4gYm9kaWVzLCB3aGljaCBhcmUgaW50ZXJwcmV0ZWQgYWNjb3JkaW5nIHRvIHRoZWlyIHR5cGUgYW5kXG4gICAgICogZGlzcG9zaXRpb24uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5wcmFjayA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgUFJBQ0sgcmVxdWVzdFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcmFja191c2VyX2FnZW50X2NsaWVudF8xLlByYWNrVXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJFRkVSIGlzIGEgU0lQIHJlcXVlc3QgYW5kIGlzIGNvbnN0cnVjdGVkIGFzIGRlZmluZWQgaW4gWzFdLiAgQSBSRUZFUlxuICAgICAqIHJlcXVlc3QgTVVTVCBjb250YWluIGV4YWN0bHkgb25lIFJlZmVyLVRvIGhlYWRlciBmaWVsZCB2YWx1ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC4xXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5yZWZlciA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgUkVGRVIgcmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuZWFybHkpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBUT0RPOiBUaGlzIHNob3VsZCB0aHJvdyBhIHByb3BlciBleGNlcHRpb24uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgbm90IGNvbmZpcm1lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRklYTUU6IFRPRE86IFZhbGlkYXRlIFJlZmVyLVRvIGhlYWRlciBmaWVsZCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG5ldyByZWZlcl91c2VyX2FnZW50X2NsaWVudF8xLlJlZmVyVXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIHNlbnQgd2l0aGluIGEgZGlhbG9nLCBhcyBhbnkgb3RoZXIgcmVxdWVzdHMsIGFyZSBhdG9taWMuICBJZlxuICAgICAqIGEgcGFydGljdWxhciByZXF1ZXN0IGlzIGFjY2VwdGVkIGJ5IHRoZSBVQVMsIGFsbCB0aGUgc3RhdGUgY2hhbmdlc1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCBpdCBhcmUgcGVyZm9ybWVkLiAgSWYgdGhlIHJlcXVlc3QgaXMgcmVqZWN0ZWQsIG5vbmVcbiAgICAgKiBvZiB0aGUgc3RhdGUgY2hhbmdlcyBhcmUgcGVyZm9ybWVkLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2Ugd2l0aGluIHRoaXMgZGlhbG9nLlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdFwiKTtcbiAgICAgICAgLy8gUmVzcG9uc2UgcmV0cmFuc21pc3Npb25zIGNlYXNlIHdoZW4gYW4gQUNLIHJlcXVlc3QgZm9yIHRoZVxuICAgICAgICAvLyByZXNwb25zZSBpcyByZWNlaXZlZC4gIFRoaXMgaXMgaW5kZXBlbmRlbnQgb2Ygd2hhdGV2ZXIgdHJhbnNwb3J0XG4gICAgICAgIC8vIHByb3RvY29scyBhcmUgdXNlZCB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjFcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICAvLyBJZiBhY2tXYWl0IGlzIHRydWUsIHRoZW4gdGhpcyBpcyB0aGUgQUNLIHRvIHRoZSBpbml0aWFsIElOVklURSxcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB0aGlzIGlzIGFuIEFDSyB0byBhbiBpbiBkaWFsb2cgSU5WSVRFLiBJbiBlaXRoZXIgY2FzZSxcbiAgICAgICAgICAgIC8vIGd1YXJkIHRvIG1ha2Ugc3VyZSB0aGUgc2VxdWVuY2UgbnVtYmVyIG9mIHRoZSBBQ0sgbWF0Y2hlcyB0aGUgSU5WSVRFLlxuICAgICAgICAgICAgaWYgKHRoaXMuYWNrV2FpdCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxUcmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZUNsaWVudFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHJlY2VpdmVkIHVuZXhwZWN0ZWQgXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3QsIGRyb3BwaW5nLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsVHJhbnNhY3Rpb24ucmVxdWVzdC5jc2VxICE9PSBtZXNzYWdlLmNzZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIklOVklURSBkaWFsb2cgXCIgKyB0aGlzLmlkICsgXCIgcmVjZWl2ZWQgdW5leHBlY3RlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdCwgZHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBiZWZvcmUgdGhlIGRlbGVnYXRlIGhhcyBhIGNoYW5jZSB0byBoYW5kbGUgdGhlXG4gICAgICAgICAgICAgICAgLy8gbWVzc2FnZSBhcyBkZWxlZ2F0ZSBtYXkgY2FsbGJhY2sgaW50byB0aGlzIGRpYWxvZy5cbiAgICAgICAgICAgICAgICB0aGlzLmFja1dhaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgbWVzc2FnZS5tZXRob2QgKyBcIiByZXF1ZXN0LCBkcm9wcGluZy5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIudHJhbnNhY3Rpb24ucmVxdWVzdC5jc2VxICE9PSBtZXNzYWdlLmNzZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIklOVklURSBkaWFsb2cgXCIgKyB0aGlzLmlkICsgXCIgcmVjZWl2ZWQgdW5leHBlY3RlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdCwgZHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25BY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uQWNrKHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXF1ZXN0IHdpdGhpbiBhIGRpYWxvZyBvdXQgb2Ygc2VxdWVuY2UgZ3VhcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICAgIGlmICghdGhpcy5zZXF1ZW5jZUd1YXJkKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHJlamVjdGVkIG91dCBvZiBvcmRlciBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFKSB7XG4gICAgICAgICAgICAvLyBBIFVBUyB0aGF0IHJlY2VpdmVzIGEgc2Vjb25kIElOVklURSBiZWZvcmUgaXQgc2VuZHMgdGhlIGZpbmFsXG4gICAgICAgICAgICAvLyByZXNwb25zZSB0byBhIGZpcnN0IElOVklURSB3aXRoIGEgbG93ZXIgQ1NlcSBzZXF1ZW5jZSBudW1iZXIgb24gdGhlXG4gICAgICAgICAgICAvLyBzYW1lIGRpYWxvZyBNVVNUIHJldHVybiBhIDUwMCAoU2VydmVyIEludGVybmFsIEVycm9yKSByZXNwb25zZSB0byB0aGVcbiAgICAgICAgICAgIC8vIHNlY29uZCBJTlZJVEUgYW5kIE1VU1QgaW5jbHVkZSBhIFJldHJ5LUFmdGVyIGhlYWRlciBmaWVsZCB3aXRoIGFcbiAgICAgICAgICAgIC8vIHJhbmRvbWx5IGNob3NlbiB2YWx1ZSBvZiBiZXR3ZWVuIDAgYW5kIDEwIHNlY29uZHMuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlaW52aXRlVXNlckFnZW50U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0yMC4zM1xuICAgICAgICAgICAgICAgIHZhciByZXRyeUFmdGVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSkgKyAxO1xuICAgICAgICAgICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSBbXCJSZXRyeS1BZnRlcjogXCIgKyByZXRyeUFmdGVyXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA1MDAsIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEEgVUFTIHRoYXQgcmVjZWl2ZXMgYW4gSU5WSVRFIG9uIGEgZGlhbG9nIHdoaWxlIGFuIElOVklURSBpdCBoYWQgc2VudFxuICAgICAgICAgICAgLy8gb24gdGhhdCBkaWFsb2cgaXMgaW4gcHJvZ3Jlc3MgTVVTVCByZXR1cm4gYSA0OTEgKFJlcXVlc3QgUGVuZGluZylcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlIHRvIHRoZSByZWNlaXZlZCBJTlZJVEUuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlaW52aXRlVXNlckFnZW50Q2xpZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3JlLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNDkxIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZXF1ZXN0IHdpdGhpbiBhIGRpYWxvZyBjb21tb24gcHJvY2Vzc2luZy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdC5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAvLyBSZXF1ZXN0cyB3aXRoaW4gYSBkaWFsb2cgTUFZIGNvbnRhaW4gUmVjb3JkLVJvdXRlIGFuZCBDb250YWN0IGhlYWRlclxuICAgICAgICAvLyBmaWVsZHMuICBIb3dldmVyLCB0aGVzZSByZXF1ZXN0cyBkbyBub3QgY2F1c2UgdGhlIGRpYWxvZydzIHJvdXRlIHNldFxuICAgICAgICAvLyB0byBiZSBtb2RpZmllZCwgYWx0aG91Z2ggdGhleSBtYXkgbW9kaWZ5IHRoZSByZW1vdGUgdGFyZ2V0IFVSSS5cbiAgICAgICAgLy8gU3BlY2lmaWNhbGx5LCByZXF1ZXN0cyB0aGF0IGFyZSBub3QgdGFyZ2V0IHJlZnJlc2ggcmVxdWVzdHMgZG8gbm90XG4gICAgICAgIC8vIG1vZGlmeSB0aGUgZGlhbG9nJ3MgcmVtb3RlIHRhcmdldCBVUkksIGFuZCByZXF1ZXN0cyB0aGF0IGFyZSB0YXJnZXRcbiAgICAgICAgLy8gcmVmcmVzaCByZXF1ZXN0cyBkby4gIEZvciBkaWFsb2dzIHRoYXQgaGF2ZSBiZWVuIGVzdGFibGlzaGVkIHdpdGggYW5cbiAgICAgICAgLy8gSU5WSVRFLCB0aGUgb25seSB0YXJnZXQgcmVmcmVzaCByZXF1ZXN0IGRlZmluZWQgaXMgcmUtSU5WSVRFIChzZWVcbiAgICAgICAgLy8gU2VjdGlvbiAxNCkuICBPdGhlciBleHRlbnNpb25zIG1heSBkZWZpbmUgZGlmZmVyZW50IHRhcmdldCByZWZyZXNoXG4gICAgICAgIC8vIHJlcXVlc3RzIGZvciBkaWFsb2dzIGVzdGFibGlzaGVkIGluIG90aGVyIHdheXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIE5vdGUgdGhhdCBhbiBBQ0sgaXMgTk9UIGEgdGFyZ2V0IHJlZnJlc2ggcmVxdWVzdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGFyZ2V0IHJlZnJlc2ggcmVxdWVzdHMgb25seSB1cGRhdGUgdGhlIGRpYWxvZydzIHJlbW90ZSB0YXJnZXQgVVJJLFxuICAgICAgICAvLyBhbmQgbm90IHRoZSByb3V0ZSBzZXQgZm9ybWVkIGZyb20gdGhlIFJlY29yZC1Sb3V0ZS4gIFVwZGF0aW5nIHRoZVxuICAgICAgICAvLyBsYXR0ZXIgd291bGQgaW50cm9kdWNlIHNldmVyZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBwcm9ibGVtcyB3aXRoXG4gICAgICAgIC8vIFJGQyAyNTQzLWNvbXBsaWFudCBzeXN0ZW1zLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1XG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IHBhcnNlciBuZWVkcyB0byBiZSB0eXBlZC4uLlxuICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiY29udGFjdFwiKTtcbiAgICAgICAgICAgIGlmICghY29udGFjdCkgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShjb250YWN0IGluc3RhbmNlb2YgbWVzc2FnZXNfMS5OYW1lQWRkckhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IG5vdCBpbnN0YW5jZSBvZiBOYW1lQWRkckhlYWRlci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1N0YXRlLnJlbW90ZVRhcmdldCA9IGNvbnRhY3QudXJpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN3aXRjaCBvbiBtZXRob2QgYW5kIHRoZW4gZGVsZWdhdGUuXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLkJZRTpcbiAgICAgICAgICAgICAgICAvLyBBIFVBUyBjb3JlIHJlY2VpdmluZyBhIEJZRSByZXF1ZXN0IGZvciBhbiBleGlzdGluZyBkaWFsb2cgTVVTVCBmb2xsb3dcbiAgICAgICAgICAgICAgICAvLyB0aGUgcHJvY2VkdXJlcyBvZiBTZWN0aW9uIDEyLjIuMiB0byBwcm9jZXNzIHRoZSByZXF1ZXN0LiAgT25jZSBkb25lLFxuICAgICAgICAgICAgICAgIC8vIHRoZSBVQVMgU0hPVUxEIHRlcm1pbmF0ZSB0aGUgc2Vzc2lvbiAoYW5kIHRoZXJlZm9yZSBzdG9wIHNlbmRpbmcgYW5kXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuaW5nIGZvciBtZWRpYSkuICBUaGUgb25seSBjYXNlIHdoZXJlIGl0IGNhbiBlbGVjdCBub3QgdG8gYXJlXG4gICAgICAgICAgICAgICAgLy8gbXVsdGljYXN0IHNlc3Npb25zLCB3aGVyZSBwYXJ0aWNpcGF0aW9uIGlzIHBvc3NpYmxlIGV2ZW4gaWYgdGhlIG90aGVyXG4gICAgICAgICAgICAgICAgLy8gcGFydGljaXBhbnQgaW4gdGhlIGRpYWxvZyBoYXMgdGVybWluYXRlZCBpdHMgaW52b2x2ZW1lbnQgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gc2Vzc2lvbi4gIFdoZXRoZXIgb3Igbm90IGl0IGVuZHMgaXRzIHBhcnRpY2lwYXRpb24gb24gdGhlIHNlc3Npb24sXG4gICAgICAgICAgICAgICAgLy8gdGhlIFVBUyBjb3JlIE1VU1QgZ2VuZXJhdGUgYSAyeHggcmVzcG9uc2UgdG8gdGhlIEJZRSwgYW5kIE1VU1QgcGFzc1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgdG8gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBmb3IgdHJhbnNtaXNzaW9uLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhlIFVBUyBNVVNUIHN0aWxsIHJlc3BvbmQgdG8gYW55IHBlbmRpbmcgcmVxdWVzdHMgcmVjZWl2ZWQgZm9yIHRoYXRcbiAgICAgICAgICAgICAgICAvLyBkaWFsb2cuICBJdCBpcyBSRUNPTU1FTkRFRCB0aGF0IGEgNDg3IChSZXF1ZXN0IFRlcm1pbmF0ZWQpIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gYmUgZ2VuZXJhdGVkIHRvIHRob3NlIHBlbmRpbmcgcmVxdWVzdHMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNS4xLjJcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1YXMgPSBuZXcgYnllX3VzZXJfYWdlbnRfc2VydmVyXzEuQnllVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25CeWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbkJ5ZSh1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuSU5GTzpcbiAgICAgICAgICAgICAgICAvLyBJZiBhIFVBIHJlY2VpdmVzIGFuIElORk8gcmVxdWVzdCBhc3NvY2lhdGVkIHdpdGggYW4gSW5mbyBQYWNrYWdlIHRoYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgVUEgaGFzIG5vdCBpbmRpY2F0ZWQgd2lsbGluZ25lc3MgdG8gcmVjZWl2ZSwgdGhlIFVBIE1VU1Qgc2VuZCBhXG4gICAgICAgICAgICAgICAgLy8gNDY5IChCYWQgSW5mbyBQYWNrYWdlKSByZXNwb25zZSAoc2VlIFNlY3Rpb24gMTEuNiksIHdoaWNoIGNvbnRhaW5zIGFcbiAgICAgICAgICAgICAgICAvLyBSZWN2LUluZm8gaGVhZGVyIGZpZWxkIHdpdGggSW5mbyBQYWNrYWdlcyBmb3Igd2hpY2ggdGhlIFVBIGlzIHdpbGxpbmdcbiAgICAgICAgICAgICAgICAvLyB0byByZWNlaXZlIElORk8gcmVxdWVzdHMuXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IGluZm9fdXNlcl9hZ2VudF9zZXJ2ZXJfMS5JbmZvVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25JbmZvID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25JbmZvKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLnJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogNDY5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVyczogW1wiUmVjdi1JbmZvIDpcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLklOVklURTpcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbmV3IHNlc3Npb24gZGVzY3JpcHRpb24gaXMgbm90IGFjY2VwdGFibGUsIHRoZSBVQVMgY2FuIHJlamVjdFxuICAgICAgICAgICAgICAgIC8vIGl0IGJ5IHJldHVybmluZyBhIDQ4OCAoTm90IEFjY2VwdGFibGUgSGVyZSkgcmVzcG9uc2UgZm9yIHRoZSByZS1cbiAgICAgICAgICAgICAgICAvLyBJTlZJVEUuICBUaGlzIHJlc3BvbnNlIFNIT1VMRCBpbmNsdWRlIGEgV2FybmluZyBoZWFkZXIgZmllbGQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNC4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHJlX2ludml0ZV91c2VyX2FnZW50X3NlcnZlcl8xLlJlSW52aXRlVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uSW52aXRlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25JbnZpdGUodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDg4IH0pOyAvLyBUT0RPOiBXYXJuaW5nIGhlYWRlciBmaWVsZC5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyBtZXNzYWdlX3VzZXJfYWdlbnRfc2VydmVyXzEuTWVzc2FnZVVzZXJBZ2VudFNlcnZlcih0aGlzLmNvcmUsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25NZXNzYWdlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25NZXNzYWdlKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk5PVElGWTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC40XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IG5vdGlmeV91c2VyX2FnZW50X3NlcnZlcl8xLk5vdGlmeVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuUFJBQ0s6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHByYWNrX3VzZXJfYWdlbnRfc2VydmVyXzEuUHJhY2tVc2VyQWdlbnRTZXJ2ZXIodGhpcywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblByYWNrID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25QcmFjayh1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5SRUZFUjpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHJlZmVyX3VzZXJfYWdlbnRfc2VydmVyXzEuUmVmZXJVc2VyQWdlbnRTZXJ2ZXIodGhpcywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlZmVyID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWZlcih1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCB1bmltcGxlbWVudGVkIFwiICsgbWVzc2FnZS5tZXRob2QgKyBcIiByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA1MDEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5yZWxpYWJsZVNlcXVlbmNlR3VhcmQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG1lc3NhZ2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKCFzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdGF0dXMgY29kZSB1bmRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgPiAxMDAgJiYgc3RhdHVzQ29kZSA8IDIwMCkge1xuICAgICAgICAgICAgLy8gSWYgYSBwcm92aXNpb25hbCByZXNwb25zZSBpcyByZWNlaXZlZCBmb3IgYW4gaW5pdGlhbCByZXF1ZXN0LCBhbmRcbiAgICAgICAgICAgIC8vIHRoYXQgcmVzcG9uc2UgY29udGFpbnMgYSBSZXF1aXJlIGhlYWRlciBmaWVsZCBjb250YWluaW5nIHRoZSBvcHRpb25cbiAgICAgICAgICAgIC8vIHRhZyAxMDByZWwsIHRoZSByZXNwb25zZSBpcyB0byBiZSBzZW50IHJlbGlhYmx5LiAgSWYgdGhlIHJlc3BvbnNlIGlzXG4gICAgICAgICAgICAvLyBhIDEwMCAoVHJ5aW5nKSAoYXMgb3Bwb3NlZCB0byAxMDEgdG8gMTk5KSwgdGhpcyBvcHRpb24gdGFnIE1VU1QgYmVcbiAgICAgICAgICAgIC8vIGlnbm9yZWQsIGFuZCB0aGUgcHJvY2VkdXJlcyBiZWxvdyBNVVNUIE5PVCBiZSB1c2VkLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICB2YXIgcmVxdWlyZUhlYWRlciA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwicmVxdWlyZVwiKTtcbiAgICAgICAgICAgIHZhciByc2VxSGVhZGVyID0gbWVzc2FnZS5nZXRIZWFkZXIoXCJyc2VxXCIpO1xuICAgICAgICAgICAgdmFyIHJzZXEgPSByZXF1aXJlSGVhZGVyICYmIHJlcXVpcmVIZWFkZXIuaW5jbHVkZXMoXCIxMDByZWxcIikgJiYgcnNlcUhlYWRlciA/IE51bWJlcihyc2VxSGVhZGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChyc2VxKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxpbmcgb2Ygc3Vic2VxdWVudCByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZXMgZm9yIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbCByZXF1ZXN0IGZvbGxvd3MgdGhlIHNhbWUgcnVsZXMgYXMgYWJvdmUsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2U6IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBhcmUgZ3VhcmFudGVlZCB0byBiZSBpblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyLiAgQXMgYSByZXN1bHQsIGlmIHRoZSBVQUMgcmVjZWl2ZXMgYW5vdGhlciByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIHRvIHRoZSBzYW1lIHJlcXVlc3QsIGFuZCBpdHMgUlNlcSB2YWx1ZSBpcyBub3Qgb25lIGhpZ2hlclxuICAgICAgICAgICAgICAgIC8vIHRoYW4gdGhlIHZhbHVlIG9mIHRoZSBzZXF1ZW5jZSBudW1iZXIsIHRoYXQgcmVzcG9uc2UgTVVTVCBOT1QgYmVcbiAgICAgICAgICAgICAgICAvLyBhY2tub3dsZWRnZWQgd2l0aCBhIFBSQUNLLCBhbmQgTVVTVCBOT1QgYmUgcHJvY2Vzc2VkIGZ1cnRoZXIgYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gVUFDLiAgQW4gaW1wbGVtZW50YXRpb24gTUFZIGRpc2NhcmQgdGhlIHJlc3BvbnNlLCBvciBNQVkgY2FjaGUgdGhlXG4gICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaW4gdGhlIGhvcGVzIG9mIHJlY2VpdmluZyB0aGUgbWlzc2luZyByZXNwb25zZXMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucnNlcSAmJiB0aGlzLnJzZXEgKyAxICE9PSByc2VxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT25jZSBhIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGlzIHJlY2VpdmVkLCByZXRyYW5zbWlzc2lvbnMgb2ZcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHJlc3BvbnNlIE1VU1QgYmUgZGlzY2FyZGVkLiAgQSByZXNwb25zZSBpcyBhIHJldHJhbnNtaXNzaW9uIHdoZW5cbiAgICAgICAgICAgICAgICAvLyBpdHMgZGlhbG9nIElELCBDU2VxLCBhbmQgUlNlcSBtYXRjaCB0aGUgb3JpZ2luYWwgcmVzcG9uc2UuICBUaGUgVUFDXG4gICAgICAgICAgICAgICAgLy8gTVVTVCBtYWludGFpbiBhIHNlcXVlbmNlIG51bWJlciB0aGF0IGluZGljYXRlcyB0aGUgbW9zdCByZWNlbnRseVxuICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIGluLW9yZGVyIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGZvciB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QuICBUaGlzIHNlcXVlbmNlIG51bWJlciBNVVNUIGJlIG1haW50YWluZWQgdW50aWwgYSBmaW5hbFxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIHJlY2VpdmVkIGZvciB0aGUgaW5pdGlhbCByZXF1ZXN0LiAgSXRzIHZhbHVlIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplZCB0byB0aGUgUlNlcSBoZWFkZXIgZmllbGQgaW4gdGhlIGZpcnN0IHJlbGlhYmxlXG4gICAgICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2UgcmVjZWl2ZWQgZm9yIHRoZSBpbml0aWFsIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJzZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yc2VxID0gcnNlcTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBub3QgaW4gYSBzdGFibGUgc2lnbmFsaW5nIHN0YXRlLCByb2xsYmFjayB0byBwcmlvciBzdGFibGUgc2lnbmFsaW5nIHN0YXRlLlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaWduYWxpbmdTdGF0ZSA9PT0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyIHx8XG4gICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID09PSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm9sbGJhY2tPZmZlciAmJiB0aGlzLl9yb2xsYmFja0Fuc3dlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vZmZlciA9IHRoaXMuX3JvbGxiYWNrT2ZmZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5zd2VyID0gdGhpcy5fcm9sbGJhY2tBbnN3ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgc2lnbmFsaW5nIHN0YXRlIG9mIHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBiYXNlIHRoZSB1cGRhdGUgb2ZmIG9mLlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBib2R5ID0gbWVzc2FnZXNfMS5nZXRCb2R5KG1lc3NhZ2UpO1xuICAgICAgICAvLyBObyBib2R5LCBubyBzZXNzaW9uLiBObywgd29tYW4sIG5vIGNyeS5cbiAgICAgICAgaWYgKCFib2R5IHx8IGJvZHkuY29udGVudERpc3Bvc2l0aW9uICE9PSBcInNlc3Npb25cIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3ZlIGdvdCBhbiBleGlzdGluZyBvZmZlciBhbmQgYW5zd2VyIHdoaWNoIHdlIG1heSB3aXNoIHRvIHJvbGxiYWNrIHRvXG4gICAgICAgIGlmICh0aGlzLl9zaWduYWxpbmdTdGF0ZSA9PT0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fcm9sbGJhY2tPZmZlciA9IHRoaXMuX29mZmVyO1xuICAgICAgICAgICAgdGhpcy5fcm9sbGJhY2tBbnN3ZXIgPSB0aGlzLl9hbnN3ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UncmUgaW4gVUFTIHJvbGUsIHJlY2VpdmluZyBpbmNvbWluZyByZXF1ZXN0IHdpdGggc2Vzc2lvbiBkZXNjcmlwdGlvblxuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIG1lc3NhZ2VzXzEuSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWxpbmdTdGF0ZSA9IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZmVyID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5zd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzaWduYWxpbmcgc3RhdGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIGluIFVBQyByb2xlLCByZWNlaXZpbmcgaW5jb21pbmcgcmVzcG9uc2Ugd2l0aCBzZXNzaW9uIGRlc2NyaXB0aW9uXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgbWVzc2FnZXNfMS5JbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWxpbmdTdGF0ZSA9IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZmVyID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5zd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzaWduYWxpbmcgc3RhdGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIGluIFVBQyByb2xlLCBzZW5kaW5nIG91dGdvaW5nIHJlcXVlc3Qgd2l0aCBzZXNzaW9uIGRlc2NyaXB0aW9uXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgbWVzc2FnZXNfMS5PdXRnb2luZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3NpZ25hbGluZ1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmZlciA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fuc3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZUxvY2FsT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVSZW1vdGVPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgc2lnbmFsaW5nIHN0YXRlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSdyZSBpbiBVQVMgcm9sZSwgc2VuZGluZyBvdXRnb2luZyByZXNwb25zZSB3aXRoIHNlc3Npb24gZGVzY3JpcHRpb25cbiAgICAgICAgaWYgKG1lc3NhZ2VzXzEuaXNCb2R5KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3NpZ25hbGluZ1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmZlciA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fuc3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZUxvY2FsT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVSZW1vdGVPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgc2lnbmFsaW5nIHN0YXRlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuc3RhcnQyeHhSZXRyYW5zbWlzc2lvblRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsVHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uXzEgPSB0aGlzLmluaXRpYWxUcmFuc2FjdGlvbjtcbiAgICAgICAgICAgIC8vIE9uY2UgdGhlIHJlc3BvbnNlIGhhcyBiZWVuIGNvbnN0cnVjdGVkLCBpdCBpcyBwYXNzZWQgdG8gdGhlIElOVklURVxuICAgICAgICAgICAgLy8gc2VydmVyIHRyYW5zYWN0aW9uLiAgSW4gb3JkZXIgdG8gZW5zdXJlIHJlbGlhYmxlIGVuZC10by1lbmRcbiAgICAgICAgICAgIC8vIHRyYW5zcG9ydCBvZiB0aGUgcmVzcG9uc2UsIGl0IGlzIG5lY2Vzc2FyeSB0byBwZXJpb2RpY2FsbHkgcGFzc1xuICAgICAgICAgICAgLy8gdGhlIHJlc3BvbnNlIGRpcmVjdGx5IHRvIHRoZSB0cmFuc3BvcnQgdW50aWwgdGhlIEFDSyBhcnJpdmVzLiAgVGhlXG4gICAgICAgICAgICAvLyAyeHggcmVzcG9uc2UgaXMgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgd2l0aCBhbiBpbnRlcnZhbCB0aGF0XG4gICAgICAgICAgICAvLyBzdGFydHMgYXQgVDEgc2Vjb25kcyBhbmQgZG91YmxlcyBmb3IgZWFjaCByZXRyYW5zbWlzc2lvbiB1bnRpbCBpdFxuICAgICAgICAgICAgLy8gcmVhY2hlcyBUMiBzZWNvbmRzIChUMSBhbmQgVDIgYXJlIGRlZmluZWQgaW4gU2VjdGlvbiAxNykuXG4gICAgICAgICAgICAvLyBSZXNwb25zZSByZXRyYW5zbWlzc2lvbnMgY2Vhc2Ugd2hlbiBhbiBBQ0sgcmVxdWVzdCBmb3IgdGhlXG4gICAgICAgICAgICAvLyByZXNwb25zZSBpcyByZWNlaXZlZC4gIFRoaXMgaXMgaW5kZXBlbmRlbnQgb2Ygd2hhdGV2ZXIgdHJhbnNwb3J0XG4gICAgICAgICAgICAvLyBwcm90b2NvbHMgYXJlIHVzZWQgdG8gc2VuZCB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMVxuICAgICAgICAgICAgdmFyIHRpbWVvdXRfMSA9IHRpbWVyc18xLlRpbWVycy5UMTtcbiAgICAgICAgICAgIHZhciByZXRyYW5zbWlzc2lvbl8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuYWNrV2FpdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbnZpdGUyeHhUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiTm8gQUNLIGZvciAyeHggcmVzcG9uc2UgcmVjZWl2ZWQsIGF0dGVtcHRpbmcgcmV0cmFuc21pc3Npb25cIik7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMS5yZXRyYW5zbWl0QWNjZXB0ZWRSZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIHRpbWVvdXRfMSA9IE1hdGgubWluKHRpbWVvdXRfMSAqIDIsIHRpbWVyc18xLlRpbWVycy5UMik7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW52aXRlMnh4VGltZXIgPSBzZXRUaW1lb3V0KHJldHJhbnNtaXNzaW9uXzEsIHRpbWVvdXRfMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5pbnZpdGUyeHhUaW1lciA9IHNldFRpbWVvdXQocmV0cmFuc21pc3Npb25fMSwgdGltZW91dF8xKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZXJ2ZXIgcmV0cmFuc21pdHMgdGhlIDJ4eCByZXNwb25zZSBmb3IgNjQqVDEgc2Vjb25kcyB3aXRob3V0XG4gICAgICAgICAgICAvLyByZWNlaXZpbmcgYW4gQUNLLCB0aGUgZGlhbG9nIGlzIGNvbmZpcm1lZCwgYnV0IHRoZSBzZXNzaW9uIFNIT1VMRCBiZVxuICAgICAgICAgICAgLy8gdGVybWluYXRlZC4gIFRoaXMgaXMgYWNjb21wbGlzaGVkIHdpdGggYSBCWUUsIGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDE1LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4zLjEuNFxuICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlZF8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbl8xLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMS5yZW1vdmVMaXN0ZW5lcihcInN0YXRlQ2hhbmdlZFwiLCBzdGF0ZUNoYW5nZWRfMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pbnZpdGUyeHhUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmludml0ZTJ4eFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hY2tXYWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZGVsZWdhdGUgJiYgX3RoaXMuZGVsZWdhdGUub25BY2tUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVsZWdhdGUub25BY2tUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5ieWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cmFuc2FjdGlvbl8xLmFkZExpc3RlbmVyKFwic3RhdGVDaGFuZ2VkXCIsIHN0YXRlQ2hhbmdlZF8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gRklYTUU6IFJlZmFjdG9yXG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuc3RhcnRSZUludml0ZTJ4eFJldHJhbnNtaXNzaW9uVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnJlaW52aXRlVXNlckFnZW50U2VydmVyICYmIHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uXzIgPSB0aGlzLnJlaW52aXRlVXNlckFnZW50U2VydmVyLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgLy8gT25jZSB0aGUgcmVzcG9uc2UgaGFzIGJlZW4gY29uc3RydWN0ZWQsIGl0IGlzIHBhc3NlZCB0byB0aGUgSU5WSVRFXG4gICAgICAgICAgICAvLyBzZXJ2ZXIgdHJhbnNhY3Rpb24uICBJbiBvcmRlciB0byBlbnN1cmUgcmVsaWFibGUgZW5kLXRvLWVuZFxuICAgICAgICAgICAgLy8gdHJhbnNwb3J0IG9mIHRoZSByZXNwb25zZSwgaXQgaXMgbmVjZXNzYXJ5IHRvIHBlcmlvZGljYWxseSBwYXNzXG4gICAgICAgICAgICAvLyB0aGUgcmVzcG9uc2UgZGlyZWN0bHkgdG8gdGhlIHRyYW5zcG9ydCB1bnRpbCB0aGUgQUNLIGFycml2ZXMuICBUaGVcbiAgICAgICAgICAgIC8vIDJ4eCByZXNwb25zZSBpcyBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydCB3aXRoIGFuIGludGVydmFsIHRoYXRcbiAgICAgICAgICAgIC8vIHN0YXJ0cyBhdCBUMSBzZWNvbmRzIGFuZCBkb3VibGVzIGZvciBlYWNoIHJldHJhbnNtaXNzaW9uIHVudGlsIGl0XG4gICAgICAgICAgICAvLyByZWFjaGVzIFQyIHNlY29uZHMgKFQxIGFuZCBUMiBhcmUgZGVmaW5lZCBpbiBTZWN0aW9uIDE3KS5cbiAgICAgICAgICAgIC8vIFJlc3BvbnNlIHJldHJhbnNtaXNzaW9ucyBjZWFzZSB3aGVuIGFuIEFDSyByZXF1ZXN0IGZvciB0aGVcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIHJlY2VpdmVkLiAgVGhpcyBpcyBpbmRlcGVuZGVudCBvZiB3aGF0ZXZlciB0cmFuc3BvcnRcbiAgICAgICAgICAgIC8vIHByb3RvY29scyBhcmUgdXNlZCB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC4xXG4gICAgICAgICAgICB2YXIgdGltZW91dF8yID0gdGltZXJzXzEuVGltZXJzLlQxO1xuICAgICAgICAgICAgdmFyIHJldHJhbnNtaXNzaW9uXzIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbnZpdGUyeHhUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiTm8gQUNLIGZvciAyeHggcmVzcG9uc2UgcmVjZWl2ZWQsIGF0dGVtcHRpbmcgcmV0cmFuc21pc3Npb25cIik7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMi5yZXRyYW5zbWl0QWNjZXB0ZWRSZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIHRpbWVvdXRfMiA9IE1hdGgubWluKHRpbWVvdXRfMiAqIDIsIHRpbWVyc18xLlRpbWVycy5UMik7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW52aXRlMnh4VGltZXIgPSBzZXRUaW1lb3V0KHJldHJhbnNtaXNzaW9uXzIsIHRpbWVvdXRfMik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5pbnZpdGUyeHhUaW1lciA9IHNldFRpbWVvdXQocmV0cmFuc21pc3Npb25fMiwgdGltZW91dF8yKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZXJ2ZXIgcmV0cmFuc21pdHMgdGhlIDJ4eCByZXNwb25zZSBmb3IgNjQqVDEgc2Vjb25kcyB3aXRob3V0XG4gICAgICAgICAgICAvLyByZWNlaXZpbmcgYW4gQUNLLCB0aGUgZGlhbG9nIGlzIGNvbmZpcm1lZCwgYnV0IHRoZSBzZXNzaW9uIFNIT1VMRCBiZVxuICAgICAgICAgICAgLy8gdGVybWluYXRlZC4gIFRoaXMgaXMgYWNjb21wbGlzaGVkIHdpdGggYSBCWUUsIGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDE1LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4zLjEuNFxuICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlZF8yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbl8yLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMi5yZW1vdmVMaXN0ZW5lcihcInN0YXRlQ2hhbmdlZFwiLCBzdGF0ZUNoYW5nZWRfMik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pbnZpdGUyeHhUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmludml0ZTJ4eFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFdoYXQgdG8gZG8gaGVyZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uXzIuYWRkTGlzdGVuZXIoXCJzdGF0ZUNoYW5nZWRcIiwgc3RhdGVDaGFuZ2VkXzIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2Vzc2lvbkRpYWxvZztcbn0oZGlhbG9nXzEuRGlhbG9nKSk7XG5leHBvcnRzLlNlc3Npb25EaWFsb2cgPSBTZXNzaW9uRGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFNlc3Npb24gc3RhdGUuXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xM1xuICogQHB1YmxpY1xuICovXG52YXIgU2Vzc2lvblN0YXRlO1xuKGZ1bmN0aW9uIChTZXNzaW9uU3RhdGUpIHtcbiAgICBTZXNzaW9uU3RhdGVbXCJJbml0aWFsXCJdID0gXCJJbml0aWFsXCI7XG4gICAgU2Vzc2lvblN0YXRlW1wiRWFybHlcIl0gPSBcIkVhcmx5XCI7XG4gICAgU2Vzc2lvblN0YXRlW1wiQWNrV2FpdFwiXSA9IFwiQWNrV2FpdFwiO1xuICAgIFNlc3Npb25TdGF0ZVtcIkNvbmZpcm1lZFwiXSA9IFwiQ29uZmlybWVkXCI7XG4gICAgU2Vzc2lvblN0YXRlW1wiVGVybWluYXRlZFwiXSA9IFwiVGVybWluYXRlZFwiO1xufSkoU2Vzc2lvblN0YXRlID0gZXhwb3J0cy5TZXNzaW9uU3RhdGUgfHwgKGV4cG9ydHMuU2Vzc2lvblN0YXRlID0ge30pKTtcbi8qKlxuICogT2ZmZXIvQW5zd2VyIHN0YXRlLlxuICogQHJlbWFya3NcbiAqIGBgYHR4dFxuICogICAgICAgICBPZmZlciAgICAgICAgICAgICAgICBBbnN3ZXIgICAgICAgICAgICAgUkZDICAgIEluaSBFc3QgRWFybHlcbiAqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgMS4gSU5WSVRFIFJlcS4gICAgICAgICAgMnh4IElOVklURSBSZXNwLiAgICAgUkZDIDMyNjEgIFkgICBZICAgIE5cbiAqICAyLiAyeHggSU5WSVRFIFJlc3AuICAgICBBQ0sgUmVxLiAgICAgICAgICAgICBSRkMgMzI2MSAgWSAgIFkgICAgTlxuICogIDMuIElOVklURSBSZXEuICAgICAgICAgIDF4eC1yZWwgSU5WSVRFIFJlc3AuIFJGQyAzMjYyICBZICAgWSAgICBOXG4gKiAgNC4gMXh4LXJlbCBJTlZJVEUgUmVzcC4gUFJBQ0sgUmVxLiAgICAgICAgICAgUkZDIDMyNjIgIFkgICBZICAgIE5cbiAqICA1LiBQUkFDSyBSZXEuICAgICAgICAgICAyMDAgUFJBQ0sgUmVzcC4gICAgICBSRkMgMzI2MiAgTiAgIFkgICAgWVxuICogIDYuIFVQREFURSBSZXEuICAgICAgICAgIDJ4eCBVUERBVEUgUmVzcC4gICAgIFJGQyAzMzExICBOICAgWSAgICBZXG4gKlxuICogICAgICAgVGFibGUgMTogU3VtbWFyeSBvZiBTSVAgVXNhZ2Ugb2YgdGhlIE9mZmVyL0Fuc3dlciBNb2RlbFxuICogYGBgXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjMzNyNzZWN0aW9uLTIuMlxuICogQHB1YmxpY1xuICovXG52YXIgU2lnbmFsaW5nU3RhdGU7XG4oZnVuY3Rpb24gKFNpZ25hbGluZ1N0YXRlKSB7XG4gICAgU2lnbmFsaW5nU3RhdGVbXCJJbml0aWFsXCJdID0gXCJJbml0aWFsXCI7XG4gICAgU2lnbmFsaW5nU3RhdGVbXCJIYXZlTG9jYWxPZmZlclwiXSA9IFwiSGF2ZUxvY2FsT2ZmZXJcIjtcbiAgICBTaWduYWxpbmdTdGF0ZVtcIkhhdmVSZW1vdGVPZmZlclwiXSA9IFwiSGF2ZVJlbW90ZU9mZmVyXCI7XG4gICAgU2lnbmFsaW5nU3RhdGVbXCJTdGFibGVcIl0gPSBcIlN0YWJsZVwiO1xuICAgIFNpZ25hbGluZ1N0YXRlW1wiQ2xvc2VkXCJdID0gXCJDbG9zZWRcIjtcbn0pKFNpZ25hbGluZ1N0YXRlID0gZXhwb3J0cy5TaWduYWxpbmdTdGF0ZSB8fCAoZXhwb3J0cy5TaWduYWxpbmdTdGF0ZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV4Y2VwdGlvbl8xID0gcmVxdWlyZShcIi4vZXhjZXB0aW9uXCIpO1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCB0aGUgb3BlcmF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQgZ2l2ZW4gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24gc3RhdGUuXG4gKiBAcHVibGljXG4gKi9cbnZhciBUcmFuc2FjdGlvblN0YXRlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVHJhbnNhY3Rpb25TdGF0ZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uU3RhdGVFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID8gbWVzc2FnZSA6IFwiVHJhbnNhY3Rpb24gc3RhdGUgZXJyb3IuXCIpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBUcmFuc2FjdGlvblN0YXRlRXJyb3I7XG59KGV4Y2VwdGlvbl8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5UcmFuc2FjdGlvblN0YXRlRXJyb3IgPSBUcmFuc2FjdGlvblN0YXRlRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV4Y2VwdGlvbl8xID0gcmVxdWlyZShcIi4vZXhjZXB0aW9uXCIpO1xuLyoqXG4gKiBUcmFuc3BvcnQgZXJyb3IuXG4gKiBAcHVibGljXG4gKi9cbnZhciBUcmFuc3BvcnRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUcmFuc3BvcnRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUcmFuc3BvcnRFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID8gbWVzc2FnZSA6IFwiVW5zcGVjaWZpZWQgdHJhbnNwb3J0IGVycm9yLlwiKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVHJhbnNwb3J0RXJyb3I7XG59KGV4Y2VwdGlvbl8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5UcmFuc3BvcnRFcnJvciA9IFRyYW5zcG9ydEVycm9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRpbWVyc18xID0gcmVxdWlyZShcIi4uL3RpbWVyc1wiKTtcbnZhciBzZXJ2ZXJfdHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3NlcnZlci10cmFuc2FjdGlvblwiKTtcbnZhciB0cmFuc2FjdGlvbl9zdGF0ZV8xID0gcmVxdWlyZShcIi4vdHJhbnNhY3Rpb24tc3RhdGVcIik7XG4vKipcbiAqIElOVklURSBTZXJ2ZXIgVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjFcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEludml0ZVNlcnZlclRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEludml0ZVNlcnZlclRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yLlxuICAgICAqIFVwb24gY29uc3RydWN0aW9uLCBhIFwiMTAwIFRyeWluZ1wiIHJlcGx5IHdpbGwgYmUgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBBZnRlciBjb25zdHJ1Y3Rpb24gdGhlIHRyYW5zYWN0aW9uIHdpbGwgYmUgaW4gdGhlIFwicHJvY2VlZGluZ1wiIHN0YXRlIGFuZCB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiBgaWRgIHdpbGwgZXF1YWwgdGhlIGJyYW5jaCBwYXJhbWV0ZXIgc2V0IGluIHRoZSBWaWEgaGVhZGVyIG9mIHRoZSBpbmNvbWluZyByZXF1ZXN0LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBJbmNvbWluZyBJTlZJVEUgcmVxdWVzdCBmcm9tIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QsIHRyYW5zcG9ydCwgdXNlciwgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcsIFwic2lwLnRyYW5zYWN0aW9uLmlzdFwiKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BQcm9ncmVzc0V4dGVuc2lvblRpbWVyKCk7XG4gICAgICAgIGlmICh0aGlzLkgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkgpO1xuICAgICAgICAgICAgdGhpcy5IID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkkpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkkpO1xuICAgICAgICAgICAgdGhpcy5JID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkwpO1xuICAgICAgICAgICAgdGhpcy5MID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZSwgXCJraW5kXCIsIHtcbiAgICAgICAgLyoqIFRyYW5zYWN0aW9uIGtpbmQuIERlcHJlY2F0ZWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiaXN0XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgcmVxdWVzdHMgZnJvbSB0cmFuc3BvcnQgbWF0Y2hpbmcgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIFJlcXVlc3QgbWF0Y2hpbmcgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgLy8gSWYgYSByZXF1ZXN0IHJldHJhbnNtaXNzaW9uIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZSwgdGhlIG1vc3RcbiAgICAgICAgICAgICAgICAvLyByZWNlbnQgcHJvdmlzaW9uYWwgcmVzcG9uc2UgdGhhdCB3YXMgcmVjZWl2ZWQgZnJvbSB0aGUgVFUgTVVTVCBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNwb3J0IGxheWVyIGZvciByZXRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMVxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0UHJvdmlzaW9uYWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHRoaXMubGFzdFByb3Zpc2lvbmFsUmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIHJldHJhbnNtaXNzaW9uIG9mIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZDpcbiAgICAgICAgICAgICAgICAvLyBXaGlsZSBpbiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlLCBhbnkgcmV0cmFuc21pc3Npb25zIG9mIHRoZSBJTlZJVEVcbiAgICAgICAgICAgICAgICAvLyByZWNlaXZlZCB3aWxsIG1hdGNoIHRoaXMgdHJhbnNhY3Rpb24gc3RhdGUgbWFjaGluZSBhbmQgd2lsbCBiZVxuICAgICAgICAgICAgICAgIC8vIGFic29yYmVkIGJ5IHRoZSBtYWNoaW5lIHdpdGhvdXQgY2hhbmdpbmcgaXRzIHN0YXRlLiBUaGVzZVxuICAgICAgICAgICAgICAgIC8vIHJldHJhbnNtaXNzaW9ucyBhcmUgbm90IHBhc3NlZCBvbnRvIHRoZSBUVS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTcuMVxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkOlxuICAgICAgICAgICAgICAgIC8vIEZ1cnRoZXJtb3JlLCB3aGlsZSBpbiB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSwgaWYgYSByZXF1ZXN0IHJldHJhbnNtaXNzaW9uIGlzXG4gICAgICAgICAgICAgICAgLy8gcmVjZWl2ZWQsIHRoZSBzZXJ2ZXIgU0hPVUxEIHBhc3MgdGhlIHJlc3BvbnNlIHRvIHRoZSB0cmFuc3BvcnQgZm9yIHJldHJhbnNtaXNzaW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXN0RmluYWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGFzdCBmaW5hbCByZXNwb25zZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZCh0aGlzLmxhc3RGaW5hbFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIHJldHJhbnNtaXNzaW9uIG9mIGZpbmFsIHJlc3BvbnNlLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYW4gQUNLIGlzIHJlY2VpdmVkIHdoaWxlIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gaXMgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBNVVNUIHRyYW5zaXRpb24gdG8gdGhlIFwiQ29uZmlybWVkXCIgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjFcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IG1lc3NhZ2VzXzEuQy5BQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db25maXJtZWQ6XG4gICAgICAgICAgICAgICAgLy8gVGhlIHB1cnBvc2Ugb2YgdGhlIFwiQ29uZmlybWVkXCIgc3RhdGUgaXMgdG8gYWJzb3JiIGFueSBhZGRpdGlvbmFsIEFDSyBtZXNzYWdlcyB0aGF0IGFycml2ZSxcbiAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyZWQgZnJvbSByZXRyYW5zbWlzc2lvbnMgb2YgdGhlIGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFIHx8IHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIC8vIEZvciBnb29kIG1lYXN1cmUgYWJzb3JiIGFueSBhZGRpdGlvbmFsIG1lc3NhZ2VzIHRoYXQgYXJyaXZlIChzaG91bGQgbm90IGhhcHBlbikuXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFIHx8IHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgXCIgKyB0aGlzLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgcmVxdWVzdC5tZXRob2QgKyBcIiByZXF1ZXN0IHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLlwiO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIHJlc3BvbnNlcyBmcm9tIFRVIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gU3RhdHVzIGNvZGUgb2YgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHJlc3BvbnNlIC0gUmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChzdGF0dXNDb2RlLCByZXNwb25zZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXR1cyBjb2RlIFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nOlxuICAgICAgICAgICAgICAgIC8vIFRoZSBUVSBwYXNzZXMgYW55IG51bWJlciBvZiBwcm92aXNpb25hbCByZXNwb25zZXMgdG8gdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uLiBTbyBsb25nIGFzIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gaXMgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gXCJQcm9jZWVkaW5nXCIgc3RhdGUsIGVhY2ggb2YgdGhlc2UgTVVTVCBiZSBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgICAgIC8vIGxheWVyIGZvciB0cmFuc21pc3Npb24uIFRoZXkgYXJlIG5vdCBzZW50IHJlbGlhYmx5IGJ5IHRoZVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIGxheWVyICh0aGV5IGFyZSBub3QgcmV0cmFuc21pdHRlZCBieSBpdCkgYW5kIGRvIG5vdCBjYXVzZVxuICAgICAgICAgICAgICAgIC8vIGEgY2hhbmdlIGluIHRoZSBzdGF0ZSBvZiB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFByb3Zpc2lvbmFsUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgdGhlIHByb2dyZXNzIGV4dGVuc2lvbiB0aW1lciBvbmx5IGZvciBhIG5vbi0xMDAgcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UHJvZ3Jlc3NFeHRlbnNpb25UaW1lcigpOyAvLyBGSVhNRTogcmVtb3ZlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIDF4eCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmLCB3aGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIHRoZSBUVSBwYXNzZXMgYSAyeHggcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgcGFzcyB0aGlzXG4gICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLiBJdCBpcyBub3RcbiAgICAgICAgICAgICAgICAvLyByZXRyYW5zbWl0dGVkIGJ5IHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb247IHJldHJhbnNtaXNzaW9ucyBvZiAyeHhcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgYXJlIGhhbmRsZWQgYnkgdGhlIFRVLiBUaGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgdGhlblxuICAgICAgICAgICAgICAgIC8vIHRyYW5zaXRpb24gdG8gdGhlIFwiQWNjZXB0ZWRcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguNVxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDIwMCAmJiBzdGF0dXNDb2RlIDw9IDI5OSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaW5hbFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChyZXNwb25zZSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCAyeHggcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIGlmIHRoZSBUVSBwYXNzZXMgYSByZXNwb25zZSB3aXRoXG4gICAgICAgICAgICAgICAgLy8gc3RhdHVzIGNvZGUgZnJvbSAzMDAgdG8gNjk5IHRvIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbiwgYW5kIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgIC8vIG1hY2hpbmUgTVVTVCBlbnRlciB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMVxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDMwMCAmJiBzdGF0dXNDb2RlIDw9IDY5OSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaW5hbFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQocmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgbm9uLTJ4eCBmaW5hbCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQWNjZXB0ZWQ6XG4gICAgICAgICAgICAgICAgLy8gV2hpbGUgaW4gdGhlIFwiQWNjZXB0ZWRcIiBzdGF0ZSwgaWYgdGhlIFRVIHBhc3NlcyBhIDJ4eCByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgcGFzcyB0aGUgcmVzcG9uc2UgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC43XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gMjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChyZXNwb25zZSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCAyeHggcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgXCIgKyB0aGlzLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIGZyb20gVFUgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIuXCI7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyYW5zbWl0IHRoZSBsYXN0IDJ4eCByZXNwb25zZS4gVGhpcyBpcyBhIG5vb3AgaWYgbm90IGluIHRoZSBcImFjY2VwdGVkXCIgc3RhdGUuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJldHJhbnNtaXRBY2NlcHRlZFJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkICYmIHRoaXMubGFzdEZpbmFsUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZCh0aGlzLmxhc3RGaW5hbFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCAyeHggcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpcnN0LCB0aGUgcHJvY2VkdXJlcyBpbiBbNF0gYXJlIGZvbGxvd2VkLCB3aGljaCBhdHRlbXB0IHRvIGRlbGl2ZXIgdGhlIHJlc3BvbnNlIHRvIGEgYmFja3VwLlxuICAgICAqIElmIHRob3NlIHNob3VsZCBhbGwgZmFpbCwgYmFzZWQgb24gdGhlIGRlZmluaXRpb24gb2YgZmFpbHVyZSBpbiBbNF0sIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gU0hPVUxEXG4gICAgICogaW5mb3JtIHRoZSBUVSB0aGF0IGEgZmFpbHVyZSBoYXMgb2NjdXJyZWQsIGFuZCBNVVNUIHJlbWFpbiBpbiB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguOFxuICAgICAqL1xuICAgIEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZXIub25UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogRm9yIGxvZ2dpbmcuICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnR5cGVUb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvblwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBhIHN0YXRlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIC0gTmV3IHN0YXRlLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5zdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gQXNzZXJ0IHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB2YXIgaW52YWxpZFN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBmcm9tIFwiICsgX3RoaXMuc3RhdGUgKyBcIiB0byBcIiArIG5ld1N0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZDpcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT24gYW55IHN0YXRlIHRyYW5zaXRpb24sIHN0b3AgcmVzZW5kaW5nIHByb3Zpc2lvbmFsIHJlc3BvbnNlc1xuICAgICAgICB0aGlzLnN0b3BQcm9ncmVzc0V4dGVuc2lvblRpbWVyKCk7XG4gICAgICAgIC8vIFRoZSBwdXJwb3NlIG9mIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUgaXMgdG8gYWJzb3JiIHJldHJhbnNtaXNzaW9ucyBvZiBhbiBhY2NlcHRlZCBJTlZJVEUgcmVxdWVzdC5cbiAgICAgICAgLy8gQW55IHN1Y2ggcmV0cmFuc21pc3Npb25zIGFyZSBhYnNvcmJlZCBlbnRpcmVseSB3aXRoaW4gdGhlIHNlcnZlciB0cmFuc2FjdGlvbi5cbiAgICAgICAgLy8gVGhleSBhcmUgbm90IHBhc3NlZCB1cCB0byB0aGUgVFUgc2luY2UgYW55IGRvd25zdHJlYW0gVUFTIGNvcmVzIHRoYXQgYWNjZXB0ZWQgdGhlIHJlcXVlc3QgaGF2ZVxuICAgICAgICAvLyB0YWtlbiByZXNwb25zaWJpbGl0eSBmb3IgcmVsaWFiaWxpdHkgYW5kIHdpbGwgYWxyZWFkeSByZXRyYW5zbWl0IHRoZWlyIDJ4eCByZXNwb25zZXMgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguN1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZCkge1xuICAgICAgICAgICAgdGhpcy5MID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9MKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9MKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlIGlzIGVudGVyZWQsIHRpbWVyIEggTVVTVCBiZSBzZXQgdG8gZmlyZSBpbiA2NCpUMSBzZWNvbmRzIGZvciBhbGwgdHJhbnNwb3J0cy5cbiAgICAgICAgLy8gVGltZXIgSCBkZXRlcm1pbmVzIHdoZW4gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBhYmFuZG9ucyByZXRyYW5zbWl0dGluZyB0aGUgcmVzcG9uc2UuXG4gICAgICAgIC8vIElmIGFuIEFDSyBpcyByZWNlaXZlZCB3aGlsZSB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIGlzIGluIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlLFxuICAgICAgICAvLyB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJDb25maXJtZWRcIiBzdGF0ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjFcbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogTWlzc2luZyB0aW1lciBHIGZvciB1bnJlbGlhYmxlIHRyYW5zcG9ydHMuXG4gICAgICAgICAgICB0aGlzLkggPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnRpbWVyX0goKTsgfSwgdGltZXJzXzEuVGltZXJzLlRJTUVSX0gpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBwdXJwb3NlIG9mIHRoZSBcIkNvbmZpcm1lZFwiIHN0YXRlIGlzIHRvIGFic29yYiBhbnkgYWRkaXRpb25hbCBBQ0sgbWVzc2FnZXMgdGhhdCBhcnJpdmUsXG4gICAgICAgIC8vIHRyaWdnZXJlZCBmcm9tIHJldHJhbnNtaXNzaW9ucyBvZiB0aGUgZmluYWwgcmVzcG9uc2UuIFdoZW4gdGhpcyBzdGF0ZSBpcyBlbnRlcmVkLCB0aW1lciBJXG4gICAgICAgIC8vIGlzIHNldCB0byBmaXJlIGluIFQ0IHNlY29uZHMgZm9yIHVucmVsaWFibGUgdHJhbnNwb3J0cywgYW5kIHplcm8gc2Vjb25kcyBmb3IgcmVsaWFibGVcbiAgICAgICAgLy8gdHJhbnNwb3J0cy4gT25jZSB0aW1lciBJIGZpcmVzLCB0aGUgc2VydmVyIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZCkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRoaXMgdGltZXIgaXMgbm90IGdldHRpbmcgc2V0IGNvcnJlY3RseSBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzLlxuICAgICAgICAgICAgdGhpcy5JID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9JKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9JKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmNlIHRoZSB0cmFuc2FjdGlvbiBpcyBpbiB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUsIGl0IE1VU1QgYmUgZGVzdHJveWVkIGltbWVkaWF0ZWx5LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguN1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUU6IFVBUyBQcm92aXNpb25hbCBSZXRyYW5zbWlzc2lvbiBUaW1lci4gU2VlIFJGQyAzMjYxIFNlY3Rpb24gMTMuMy4xLjFcbiAgICAgKiBUaGlzIGlzIGluIHRoZSB3cm9uZyBwbGFjZS4gVGhpcyBpcyBub3QgYSB0cmFuc2FjdGlvbiBsZXZlbCB0aGluZy4gSXQncyBhIFVBUyBsZXZlbCB0aGluZy5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUuc3RhcnRQcm9ncmVzc0V4dGVuc2lvblRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTdGFydCB0aGUgcHJvZ3Jlc3MgZXh0ZW5zaW9uIHRpbWVyIG9ubHkgZm9yIHRoZSBmaXJzdCBub24tMTAwIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlxuICAgICAgICBpZiAodGhpcy5wcm9ncmVzc0V4dGVuc2lvblRpbWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NFeHRlbnNpb25UaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZGVidWcoXCJQcm9ncmVzcyBleHRlbnNpb24gdGltZXIgZXhwaXJlZCBmb3IgSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiBcIiArIF90aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMubGFzdFByb3Zpc2lvbmFsUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGFzdCBwcm92aXNpb25hbCByZXNwb25zZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kKF90aGlzLmxhc3RQcm92aXNpb25hbFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgcmV0cmFuc21pc3Npb24gb2YgcHJvdmlzaW9uYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgdGltZXJzXzEuVGltZXJzLlBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUU6IFVBUyBQcm92aXNpb25hbCBSZXRyYW5zbWlzc2lvbiBUaW1lciBpZC4gU2VlIFJGQyAzMjYxIFNlY3Rpb24gMTMuMy4xLjFcbiAgICAgKiBUaGlzIGlzIGluIHRoZSB3cm9uZyBwbGFjZS4gVGhpcyBpcyBub3QgYSB0cmFuc2FjdGlvbiBsZXZlbCB0aGluZy4gSXQncyBhIFVBUyBsZXZlbCB0aGluZy5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUuc3RvcFByb2dyZXNzRXh0ZW5zaW9uVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzRXh0ZW5zaW9uVGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnByb2dyZXNzRXh0ZW5zaW9uVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0V4dGVuc2lvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIGlmIHRoZSBUVSBwYXNzZXMgYSByZXNwb25zZSB3aXRoIHN0YXR1cyBjb2RlXG4gICAgICogZnJvbSAzMDAgdG8gNjk5IHRvIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGVcbiAgICAgKiB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbiwgYW5kIHRoZSBzdGF0ZSBtYWNoaW5lIE1VU1QgZW50ZXIgdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUuXG4gICAgICogRm9yIHVucmVsaWFibGUgdHJhbnNwb3J0cywgdGltZXIgRyBpcyBzZXQgdG8gZmlyZSBpbiBUMSBzZWNvbmRzLCBhbmQgaXMgbm90IHNldCB0byBmaXJlIGZvclxuICAgICAqIHJlbGlhYmxlIHRyYW5zcG9ydHMuIElmIHRpbWVyIEcgZmlyZXMsIHRoZSByZXNwb25zZSBpcyBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBvbmNlXG4gICAgICogbW9yZSBmb3IgcmV0cmFuc21pc3Npb24sIGFuZCB0aW1lciBHIGlzIHNldCB0byBmaXJlIGluIE1JTigyKlQxLCBUMikgc2Vjb25kcy4gRnJvbSB0aGVuIG9uLFxuICAgICAqIHdoZW4gdGltZXIgRyBmaXJlcywgdGhlIHJlc3BvbnNlIGlzIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGFnYWluIGZvciB0cmFuc21pc3Npb24sIGFuZFxuICAgICAqIHRpbWVyIEcgaXMgcmVzZXQgd2l0aCBhIHZhbHVlIHRoYXQgZG91YmxlcywgdW5sZXNzIHRoYXQgdmFsdWUgZXhjZWVkcyBUMiwgaW4gd2hpY2ggY2FzZVxuICAgICAqIGl0IGlzIHJlc2V0IHdpdGggdGhlIHZhbHVlIG9mIFQyLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRpbWVyIEggZmlyZXMgd2hpbGUgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsIGl0IGltcGxpZXMgdGhhdCB0aGUgQUNLIHdhcyBuZXZlciByZWNlaXZlZC5cbiAgICAgKiBJbiB0aGlzIGNhc2UsIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZSwgYW5kIE1VU1RcbiAgICAgKiBpbmRpY2F0ZSB0byB0aGUgVFUgdGhhdCBhIHRyYW5zYWN0aW9uIGZhaWx1cmUgaGFzIG9jY3VycmVkLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgSCBleHBpcmVkIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uIFwiICsgdGhpcy5pZCArIFwiLlwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBQ0sgdG8gbmVnYXRpdmUgZmluYWwgcmVzcG9uc2Ugd2FzIG5ldmVyIHJlY2VpdmVkLCB0ZXJtaW5hdGluZyB0cmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9uY2UgdGltZXIgSSBmaXJlcywgdGhlIHNlcnZlciBNVVNUIHRyYW5zaXRpb24gdG8gdGhlIFwiVGVybWluYXRlZFwiIHN0YXRlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgSSBleHBpcmVkIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uIFwiICsgdGhpcy5pZCArIFwiLlwiKTtcbiAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiBUaW1lciBMIGZpcmVzIGFuZCB0aGUgc3RhdGUgbWFjaGluZSBpcyBpbiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlLCB0aGUgbWFjaGluZSBNVVNUXG4gICAgICogdHJhbnNpdGlvbiB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuIE9uY2UgdGhlIHRyYW5zYWN0aW9uIGlzIGluIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZSxcbiAgICAgKiBpdCBNVVNUIGJlIGRlc3Ryb3llZCBpbW1lZGlhdGVseS4gVGltZXIgTCByZWZsZWN0cyB0aGUgYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlclxuICAgICAqIHRyYW5zYWN0aW9uIGNvdWxkIHJlY2VpdmUgMnh4IHJlc3BvbnNlcyBmb3IgcmV0cmFuc21pc3Npb24gZnJvbSB0aGVcbiAgICAgKiBUVSB3aGlsZSBpdCBpcyB3YWl0aW5nIHRvIHJlY2VpdmUgYW4gQUNLLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tNy4xXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjdcbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUudGltZXJfTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJUaW1lciBMIGV4cGlyZWQgZm9yIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24gXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbn0oc2VydmVyX3RyYW5zYWN0aW9uXzEuU2VydmVyVHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24gPSBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdGltZXJzXzEgPSByZXF1aXJlKFwiLi4vdGltZXJzXCIpO1xudmFyIGNsaWVudF90cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vY2xpZW50LXRyYW5zYWN0aW9uXCIpO1xudmFyIHRyYW5zYWN0aW9uX3N0YXRlXzEgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvbi1zdGF0ZVwiKTtcbi8qKlxuICogTm9uLUlOVklURSBDbGllbnQgVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogTm9uLUlOVklURSB0cmFuc2FjdGlvbnMgZG8gbm90IG1ha2UgdXNlIG9mIEFDSy5cbiAqIFRoZXkgYXJlIHNpbXBsZSByZXF1ZXN0LXJlc3BvbnNlIGludGVyYWN0aW9ucy5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4yXG4gKiBAcHVibGljXG4gKi9cbnZhciBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIFVwb24gY29uc3RydWN0aW9uLCB0aGUgb3V0Z29pbmcgcmVxdWVzdCdzIFZpYSBoZWFkZXIgaXMgdXBkYXRlZCBieSBjYWxsaW5nIGBzZXRWaWFIZWFkZXJgLlxuICAgICAqIFRoZW4gYHRvU3RyaW5nYCBpcyBjYWxsZWQgb24gdGhlIG91dGdvaW5nIHJlcXVlc3QgYW5kIHRoZSBtZXNzYWdlIGlzIHNlbnQgdmlhIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQWZ0ZXIgY29uc3RydWN0aW9uIHRoZSB0cmFuc2FjdGlvbiB3aWxsIGJlIGluIHRoZSBcImNhbGxpbmdcIiBzdGF0ZSBhbmQgdGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogd2lsbCBlcXVhbCB0aGUgYnJhbmNoIHBhcmFtZXRlciBzZXQgaW4gdGhlIFZpYSBoZWFkZXIgb2YgdGhlIG91dGdvaW5nIHJlcXVlc3QuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSBvdXRnb2luZyBOb24tSU5WSVRFIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdCwgdHJhbnNwb3J0LCB1c2VyLCB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nLCBcInNpcC50cmFuc2FjdGlvbi5uaWN0XCIpIHx8IHRoaXM7XG4gICAgICAgIC8vIEZJWE1FOiBUaW1lciBFIGZvciB1bnJlbGlhYmxlIHRyYW5zcG9ydHMgbm90IGltcGxlbWVudGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgXCJUcnlpbmdcIiBzdGF0ZSBpcyBlbnRlcmVkIHdoZW4gdGhlIFRVIGluaXRpYXRlcyBhIG5ldyBjbGllbnRcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gd2l0aCBhIHJlcXVlc3QuICBXaGVuIGVudGVyaW5nIHRoaXMgc3RhdGUsIHRoZSBjbGllbnRcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gU0hPVUxEIHNldCB0aW1lciBGIHRvIGZpcmUgaW4gNjQqVDEgc2Vjb25kcy4gVGhlIHJlcXVlc3RcbiAgICAgICAgLy8gTVVTVCBiZSBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgIF90aGlzLkYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnRpbWVyX0YoKTsgfSwgdGltZXJzXzEuVGltZXJzLlRJTUVSX0YpO1xuICAgICAgICBfdGhpcy5zZW5kKHJlcXVlc3QudG9TdHJpbmcoKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCBpbml0aWFsIG91dGdvaW5nIHJlcXVlc3QuXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqL1xuICAgIE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5GKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5GKTtcbiAgICAgICAgICAgIHRoaXMuRiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5LKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5LKTtcbiAgICAgICAgICAgIHRoaXMuSyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwia2luZFwiLCB7XG4gICAgICAgIC8qKiBUcmFuc2FjdGlvbiBraW5kLiBEZXByZWNhdGVkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm5pY3RcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgaW5jb21pbmcgcmVzcG9uc2VzIGZyb20gdGhlIHRyYW5zcG9ydCB3aGljaCBtYXRjaCB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSBpbmNvbWluZyByZXNwb25zZS5cbiAgICAgKi9cbiAgICBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKCFzdGF0dXNDb2RlIHx8IHN0YXR1c0NvZGUgPCAxMDAgfHwgc3RhdHVzQ29kZSA+IDY5OSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZSBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIC8vIElmIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UgaXMgcmVjZWl2ZWQgd2hpbGUgaW4gdGhlIFwiVHJ5aW5nXCIgc3RhdGUsIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSBUVSwgYW5kIHRoZW4gdGhlIGNsaWVudCB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgIC8vIFNIT1VMRCBtb3ZlIHRvIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBmaW5hbCByZXNwb25zZSAoc3RhdHVzIGNvZGVzIDIwMC02OTkpIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIFwiVHJ5aW5nXCIgc3RhdGUsIHRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGUgVFUsIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4yLjJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAyMDAgJiYgc3RhdHVzQ29kZSA8PSA2OTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID09PSA0MDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25SZXF1ZXN0VGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICAvLyBJZiBhIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZSxcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVzcG9uc2UgTVVTVCBiZSBwYXNzZWQgdG8gdGhlIFRVLiAoRnJvbSBGaWd1cmUgNilcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBmaW5hbCByZXNwb25zZSAoc3RhdHVzIGNvZGVzIDIwMC02OTkpIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIFwiUHJvY2VlZGluZ1wiIHN0YXRlLCB0aGUgcmVzcG9uc2UgTVVTVCBiZSBwYXNzZWQgdG8gdGhlIFRVLCBhbmQgdGhlXG4gICAgICAgICAgICAgICAgLy8gY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PT0gNDA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICAvLyBUaGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSBleGlzdHMgdG8gYnVmZmVyIGFueSBhZGRpdGlvbmFsIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gcmV0cmFuc21pc3Npb25zIHRoYXQgbWF5IGJlIHJlY2VpdmVkICh3aGljaCBpcyB3aHkgdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIHJlbWFpbnMgdGhlcmUgb25seSBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzKS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICAvLyBGb3IgZ29vZCBtZWFzdXJlIGp1c3QgYWJzb3JiIGFkZGl0aW9uYWwgcmVzcG9uc2UgcmV0cmFuc21pc3Npb25zLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJOb24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLlwiO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHRyYW5zYWN0aW9uIFNIT1VMRCBpbmZvcm0gdGhlIFRVIHRoYXQgYSB0cmFuc3BvcnQgZmFpbHVyZSBoYXMgb2NjdXJyZWQsXG4gICAgICogYW5kIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIHRyYW5zaXRpb24gZGlyZWN0bHkgdG8gdGhlIFwiVGVybWluYXRlZFwiIHN0YXRlLlxuICAgICAqIFRoZSBUVSB3aWxsIGhhbmRsZSB0aGUgZmFpbCBvdmVyIG1lY2hhbmlzbXMgZGVzY3JpYmVkIGluIFs0XS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuNFxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRyYW5zcG9ydCBlcnJvclxuICAgICAqL1xuICAgIE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZXIub25UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkLCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKiBGb3IgbG9nZ2luZy4gKi9cbiAgICBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudHlwZVRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJub24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvblwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBhIHN0YXRlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIC0gTmV3IHN0YXRlLlxuICAgICAqL1xuICAgIE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAobmV3U3RhdGUsIGR1ZVRvVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGR1ZVRvVHJhbnNwb3J0RXJyb3IgPT09IHZvaWQgMCkgeyBkdWVUb1RyYW5zcG9ydEVycm9yID0gZmFsc2U7IH1cbiAgICAgICAgLy8gQXNzZXJ0IHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB2YXIgaW52YWxpZFN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBmcm9tIFwiICsgX3RoaXMuc3RhdGUgKyBcIiB0byBcIiArIG5ld1N0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZHVlVG9UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25jZSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIGVudGVycyB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSwgaXQgTVVTVCBzZXRcbiAgICAgICAgLy8gVGltZXIgSyB0byBmaXJlIGluIFQ0IHNlY29uZHMgZm9yIHVucmVsaWFibGUgdHJhbnNwb3J0cywgYW5kIHplcm9cbiAgICAgICAgLy8gc2Vjb25kcyBmb3IgcmVsaWFibGUgdHJhbnNwb3J0cyAgVGhlIFwiQ29tcGxldGVkXCIgc3RhdGUgZXhpc3RzIHRvXG4gICAgICAgIC8vIGJ1ZmZlciBhbnkgYWRkaXRpb25hbCByZXNwb25zZSByZXRyYW5zbWlzc2lvbnMgdGhhdCBtYXkgYmUgcmVjZWl2ZWRcbiAgICAgICAgLy8gKHdoaWNoIGlzIHdoeSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHJlbWFpbnMgdGhlcmUgb25seSBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzKS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjIuMlxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLkYpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5GKTtcbiAgICAgICAgICAgICAgICB0aGlzLkYgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLksgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnRpbWVyX0soKTsgfSwgdGltZXJzXzEuVGltZXJzLlRJTUVSX0spO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9uY2UgdGhlIHRyYW5zYWN0aW9uIGlzIGluIHRoZSB0ZXJtaW5hdGVkIHN0YXRlLCBpdCBNVVNUIGJlIGRlc3Ryb3llZCBpbW1lZGlhdGVseS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjIuMlxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgVGltZXIgRiBmaXJlcyB3aGlsZSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIGlzIHN0aWxsIGluIHRoZVxuICAgICAqIFwiVHJ5aW5nXCIgc3RhdGUsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIGluZm9ybSB0aGUgVFUgYWJvdXQgdGhlXG4gICAgICogdGltZW91dCwgYW5kIHRoZW4gaXQgU0hPVUxEIGVudGVyIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZS5cbiAgICAgKiBJZiB0aW1lciBGIGZpcmVzIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZSwgdGhlIFRVIE1VU1QgYmUgaW5mb3JtZWQgb2ZcbiAgICAgKiBhIHRpbWVvdXQsIGFuZCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgdGVybWluYXRlZCBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICovXG4gICAgTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgRiBleHBpcmVkIGZvciBub24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiBcIiArIHRoaXMuaWQgKyBcIi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nIHx8IHRoaXMuc3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgVGltZXIgSyBmaXJlcyB3aGlsZSBpbiB0aGlzIChDT01QTEVURUQpIHN0YXRlLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uXG4gICAgICogTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICovXG4gICAgTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbn0oY2xpZW50X3RyYW5zYWN0aW9uXzEuQ2xpZW50VHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24gPSBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdGltZXJzXzEgPSByZXF1aXJlKFwiLi4vdGltZXJzXCIpO1xudmFyIHNlcnZlcl90cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vc2VydmVyLXRyYW5zYWN0aW9uXCIpO1xudmFyIHRyYW5zYWN0aW9uX3N0YXRlXzEgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvbi1zdGF0ZVwiKTtcbi8qKlxuICogTm9uLUlOVklURSBTZXJ2ZXIgVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAqIEBwdWJsaWNcbiAqL1xudmFyIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yLlxuICAgICAqIEFmdGVyIGNvbnN0cnVjdGlvbiB0aGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBpbiB0aGUgXCJ0cnlpbmdcIjogc3RhdGUgYW5kIHRoZSB0cmFuc2FjdGlvblxuICAgICAqIGBpZGAgd2lsbCBlcXVhbCB0aGUgYnJhbmNoIHBhcmFtZXRlciBzZXQgaW4gdGhlIFZpYSBoZWFkZXIgb2YgdGhlIGluY29taW5nIHJlcXVlc3QuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEluY29taW5nIE5vbi1JTlZJVEUgcmVxdWVzdCBmcm9tIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QsIHRyYW5zcG9ydCwgdXNlciwgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZywgXCJzaXAudHJhbnNhY3Rpb24ubmlzdFwiKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqL1xuICAgIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5KKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5KKTtcbiAgICAgICAgICAgIHRoaXMuSiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwia2luZFwiLCB7XG4gICAgICAgIC8qKiBUcmFuc2FjdGlvbiBraW5kLiBEZXByZWNhdGVkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm5pc3RcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVjZWl2ZSByZXF1ZXN0cyBmcm9tIHRyYW5zcG9ydCBtYXRjaGluZyB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gUmVxdWVzdCBtYXRjaGluZyB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqL1xuICAgIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIC8vIE9uY2UgaW4gdGhlIFwiVHJ5aW5nXCIgc3RhdGUsIGFueSBmdXJ0aGVyIHJlcXVlc3QgcmV0cmFuc21pc3Npb25zIGFyZSBkaXNjYXJkZWQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgLy8gSWYgYSByZXRyYW5zbWlzc2lvbiBvZiB0aGUgcmVxdWVzdCBpcyByZWNlaXZlZCB3aGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsXG4gICAgICAgICAgICAgICAgLy8gdGhlIG1vc3QgcmVjZW50bHkgc2VudCBwcm92aXNpb25hbCByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGZvciByZXRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXN0UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGFzdCByZXNwb25zZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmQodGhpcy5sYXN0UmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCByZXRyYW5zbWlzc2lvbiBvZiBwcm92aXNpb25hbCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQ6XG4gICAgICAgICAgICAgICAgLy8gV2hpbGUgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gTVVTVCBwYXNzIHRoZSBmaW5hbCByZXNwb25zZSB0byB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgLy8gbGF5ZXIgZm9yIHJldHJhbnNtaXNzaW9uIHdoZW5ldmVyIGEgcmV0cmFuc21pc3Npb24gb2YgdGhlIHJlcXVlc3QgaXMgcmVjZWl2ZWQuIEFueSBvdGhlciBmaW5hbCByZXNwb25zZXNcbiAgICAgICAgICAgICAgICAvLyBwYXNzZWQgYnkgdGhlIFRVIHRvIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gTVVTVCBiZSBkaXNjYXJkZWQgd2hpbGUgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubGFzdFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxhc3QgcmVzcG9uc2UgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kKHRoaXMubGFzdFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgcmV0cmFuc21pc3Npb24gb2YgZmluYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIHJlc3BvbnNlcyBmcm9tIFRVIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gU3RhdHVzIGNvZGUgb2YgcmVzcG9uc2UuIDEwMS0xOTkgbm90IGFsbG93ZWQgcGVyIFJGQyA0MzIwLlxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFJlc3BvbnNlIHRvIHNlbmQuXG4gICAgICovXG4gICAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChzdGF0dXNDb2RlLCByZXNwb25zZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXR1cyBjb2RlIFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW4gU0lQIGVsZW1lbnQgTVVTVCBOT1Qgc2VuZCBhbnkgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2l0aCBhXG4gICAgICAgIC8vIFN0YXR1cy1Db2RlIG90aGVyIHRoYW4gMTAwIHRvIGEgbm9uLUlOVklURSByZXF1ZXN0LlxuICAgICAgICAvLyBBbiBTSVAgZWxlbWVudCBNVVNUIE5PVCByZXNwb25kIHRvIGEgbm9uLUlOVklURSByZXF1ZXN0IHdpdGggYVxuICAgICAgICAvLyBTdGF0dXMtQ29kZSBvZiAxMDAgb3ZlciBhbnkgdW5yZWxpYWJsZSB0cmFuc3BvcnQsIHN1Y2ggYXMgVURQLFxuICAgICAgICAvLyBiZWZvcmUgdGhlIGFtb3VudCBvZiB0aW1lIGl0IHRha2VzIGEgY2xpZW50IHRyYW5zYWN0aW9uJ3MgVGltZXIgRSB0byBiZSByZXNldCB0byBUMi5cbiAgICAgICAgLy8gQW4gU0lQIGVsZW1lbnQgTUFZIHJlc3BvbmQgdG8gYSBub24tSU5WSVRFIHJlcXVlc3Qgd2l0aCBhXG4gICAgICAgIC8vIFN0YXR1cy1Db2RlIG9mIDEwMCBvdmVyIGEgcmVsaWFibGUgdHJhbnNwb3J0IGF0IGFueSB0aW1lLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDMyMCNzZWN0aW9uLTQuMVxuICAgICAgICBpZiAoc3RhdHVzQ29kZSA+IDEwMCAmJiBzdGF0dXNDb2RlIDw9IDE5OSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlzaW9uYWwgcmVzcG9uc2Ugb3RoZXIgdGhhbiAxMDAgbm90IGFsbG93ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIC8vIFdoaWxlIGluIHRoZSBcIlRyeWluZ1wiIHN0YXRlLCBpZiB0aGUgVFUgcGFzc2VzIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgZW50ZXIgdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vIFRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGZvciB0cmFuc21pc3Npb24uXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDEwMCAmJiBzdGF0dXNDb2RlIDwgMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQocmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgZmluYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgLy8gQW55IGZ1cnRoZXIgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHRoYXQgYXJlIHJlY2VpdmVkIGZyb20gdGhlIFRVIHdoaWxlXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgVFUgcGFzc2VzIGEgZmluYWwgcmVzcG9uc2UgKHN0YXR1cyBjb2RlcyAyMDAtNjk5KSB0byB0aGUgc2VydmVyIHdoaWxlIGluXG4gICAgICAgICAgICAgICAgLy8gdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlLCB0aGUgdHJhbnNhY3Rpb24gTVVTVCBlbnRlciB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSwgYW5kXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJlc3BvbnNlIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMlxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQocmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgZmluYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICAvLyBBbnkgb3RoZXIgZmluYWwgcmVzcG9uc2VzIHBhc3NlZCBieSB0aGUgVFUgdG8gdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIE1VU1QgYmUgZGlzY2FyZGVkIHdoaWxlIGluIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJOb24tSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIGZyb20gVFUgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIuXCI7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJzdCwgdGhlIHByb2NlZHVyZXMgaW4gWzRdIGFyZSBmb2xsb3dlZCwgd2hpY2ggYXR0ZW1wdCB0byBkZWxpdmVyIHRoZSByZXNwb25zZSB0byBhIGJhY2t1cC5cbiAgICAgKiBJZiB0aG9zZSBzaG91bGQgYWxsIGZhaWwsIGJhc2VkIG9uIHRoZSBkZWZpbml0aW9uIG9mIGZhaWx1cmUgaW4gWzRdLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIFNIT1VMRFxuICAgICAqIGluZm9ybSB0aGUgVFUgdGhhdCBhIGZhaWx1cmUgaGFzIG9jY3VycmVkLCBhbmQgU0hPVUxEIHRyYW5zaXRpb24gdG8gdGhlIHRlcm1pbmF0ZWQgc3RhdGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjRcbiAgICAgKi9cbiAgICBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMudXNlci5vblRyYW5zcG9ydEVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCwgdHJ1ZSk7XG4gICAgfTtcbiAgICAvKiogRm9yIGxvZ2dpbmcuICovXG4gICAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnR5cGVUb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwibm9uLUlOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb25cIjtcbiAgICB9O1xuICAgIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5zdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAobmV3U3RhdGUsIGR1ZVRvVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGR1ZVRvVHJhbnNwb3J0RXJyb3IgPT09IHZvaWQgMCkgeyBkdWVUb1RyYW5zcG9ydEVycm9yID0gZmFsc2U7IH1cbiAgICAgICAgLy8gQXNzZXJ0IHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB2YXIgaW52YWxpZFN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBmcm9tIFwiICsgX3RoaXMuc3RhdGUgKyBcIiB0byBcIiArIG5ld1N0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyAmJiB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcgJiYgdGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWR1ZVRvVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBlbnRlcnMgdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsIGl0IE1VU1Qgc2V0IFRpbWVyIEogdG8gZmlyZVxuICAgICAgICAvLyBpbiA2NCpUMSBzZWNvbmRzIGZvciB1bnJlbGlhYmxlIHRyYW5zcG9ydHMsIGFuZCB6ZXJvIHNlY29uZHMgZm9yIHJlbGlhYmxlIHRyYW5zcG9ydHMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5KID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9KKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9KKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgYmUgZGVzdHJveWVkIHRoZSBpbnN0YW50IGl0IGVudGVycyB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZlciB0cmFuc2FjdGlvbiByZW1haW5zIGluIHRoaXMgc3RhdGUgdW50aWwgVGltZXIgSiBmaXJlcyxcbiAgICAgKiBhdCB3aGljaCBwb2ludCBpdCBNVVNUIHRyYW5zaXRpb24gdG8gdGhlIFwiVGVybWluYXRlZFwiIHN0YXRlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICovXG4gICAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0ogPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgSiBleHBpcmVkIGZvciBOT04tSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiBcIiArIHRoaXMuaWQgKyBcIi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbn0oc2VydmVyX3RyYW5zYWN0aW9uXzEuU2VydmVyVHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24gPSBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBTdWJzY3JpcHRpb24gc3RhdGUuXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMlxuICogQHB1YmxpY1xuICovXG52YXIgU3Vic2NyaXB0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKFN1YnNjcmlwdGlvblN0YXRlKSB7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJJbml0aWFsXCJdID0gXCJJbml0aWFsXCI7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJOb3RpZnlXYWl0XCJdID0gXCJOb3RpZnlXYWl0XCI7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJQZW5kaW5nXCJdID0gXCJQZW5kaW5nXCI7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJBY3RpdmVcIl0gPSBcIkFjdGl2ZVwiO1xuICAgIFN1YnNjcmlwdGlvblN0YXRlW1wiVGVybWluYXRlZFwiXSA9IFwiVGVybWluYXRlZFwiO1xufSkoU3Vic2NyaXB0aW9uU3RhdGUgPSBleHBvcnRzLlN1YnNjcmlwdGlvblN0YXRlIHx8IChleHBvcnRzLlN1YnNjcmlwdGlvblN0YXRlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9sZXZlbHNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbG9nZ2VyLWZhY3RvcnlcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbG9nZ2VyXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxldmVsc18xID0gcmVxdWlyZShcIi4vbGV2ZWxzXCIpO1xudmFyIGxvZ2dlcl8xID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xuLyoqXG4gKiBMb2dnZXIuXG4gKiBAcHVibGljXG4gKi9cbnZhciBMb2dnZXJGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvZ2dlckZhY3RvcnkoKSB7XG4gICAgICAgIHRoaXMuYnVpbHRpbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IGxldmVsc18xLkxldmVscy5sb2c7XG4gICAgICAgIHRoaXMubG9nZ2VycyA9IHt9O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMuZ2V0TG9nZ2VyKFwic2lwOmxvZ2dlcmZhY3RvcnlcIik7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXJGYWN0b3J5LnByb3RvdHlwZSwgXCJsZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbGV2ZWw7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICBpZiAobmV3TGV2ZWwgPj0gMCAmJiBuZXdMZXZlbCA8PSAzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5ld0xldmVsID4gMykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxldmVsc18xLkxldmVscy5oYXNPd25Qcm9wZXJ0eShuZXdMZXZlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJpbnZhbGlkICdsZXZlbCcgcGFyYW1ldGVyIHZhbHVlOiBcIiArIEpTT04uc3RyaW5naWZ5KG5ld0xldmVsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXJGYWN0b3J5LnByb3RvdHlwZSwgXCJjb25uZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0b3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiaW52YWxpZCAnY29ubmVjdG9yJyBwYXJhbWV0ZXIgdmFsdWU6IFwiICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTG9nZ2VyRmFjdG9yeS5wcm90b3R5cGUuZ2V0TG9nZ2VyID0gZnVuY3Rpb24gKGNhdGVnb3J5LCBsYWJlbCkge1xuICAgICAgICBpZiAobGFiZWwgJiYgdGhpcy5sZXZlbCA9PT0gMykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBsb2dnZXJfMS5Mb2dnZXIodGhpcywgY2F0ZWdvcnksIGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmxvZ2dlcnNbY2F0ZWdvcnldKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2dnZXJzW2NhdGVnb3J5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsb2dnZXIgPSBuZXcgbG9nZ2VyXzEuTG9nZ2VyKHRoaXMsIGNhdGVnb3J5KTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2Vyc1tjYXRlZ29yeV0gPSBsb2dnZXI7XG4gICAgICAgICAgICByZXR1cm4gbG9nZ2VyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMb2dnZXJGYWN0b3J5LnByb3RvdHlwZS5nZW5lcmljTG9nID0gZnVuY3Rpb24gKGxldmVsVG9Mb2csIGNhdGVnb3J5LCBsYWJlbCwgY29udGVudCkge1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA+PSBsZXZlbFRvTG9nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5idWlsdGluRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJpbnQobGV2ZWxUb0xvZywgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yKGxldmVsc18xLkxldmVsc1tsZXZlbFRvTG9nXSwgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9nZ2VyRmFjdG9yeS5wcm90b3R5cGUucHJpbnQgPSBmdW5jdGlvbiAobGV2ZWxUb0xvZywgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IFtuZXcgRGF0ZSgpLCBjYXRlZ29yeV07XG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBwcmVmaXgucHVzaChsYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZW50ID0gcHJlZml4LmNvbmNhdChjb250ZW50KS5qb2luKFwiIHwgXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobGV2ZWxUb0xvZykge1xuICAgICAgICAgICAgY2FzZSBsZXZlbHNfMS5MZXZlbHMuZXJyb3I6XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBsZXZlbHNfMS5MZXZlbHMud2FybjpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihjb250ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbGV2ZWxzXzEuTGV2ZWxzLmxvZzpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBsZXZlbHNfMS5MZXZlbHMuZGVidWc6XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExvZ2dlckZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5Mb2dnZXJGYWN0b3J5ID0gTG9nZ2VyRmFjdG9yeTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91c2VyLWFnZW50LWNvcmVcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50c18xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnRzXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4vYWxsb3dlZC1tZXRob2RzXCIpO1xuLyoqXG4gKiBUaGlzIGlzIHBvcnRlZCBmcm9tIFVBLkMuQUNDRVBURURfQk9EWV9UWVBFUy5cbiAqIEZJWE1FOiBUT0RPOiBTaG91bGQgYmUgY29uZmlndXJhYmxlL3ZhcmlhYmxlLlxuICovXG52YXIgYWNjZXB0ZWRCb2R5VHlwZXMgPSBbXG4gICAgXCJhcHBsaWNhdGlvbi9zZHBcIixcbiAgICBcImFwcGxpY2F0aW9uL2R0bWYtcmVsYXlcIlxuXTtcbi8qKlxuICogVXNlciBBZ2VudCBDb3JlLlxuICogQHJlbWFya3NcbiAqIENvcmUgZGVzaWduYXRlcyB0aGUgZnVuY3Rpb25zIHNwZWNpZmljIHRvIGEgcGFydGljdWxhciB0eXBlXG4gKiBvZiBTSVAgZW50aXR5LCBpLmUuLCBzcGVjaWZpYyB0byBlaXRoZXIgYSBzdGF0ZWZ1bCBvciBzdGF0ZWxlc3NcbiAqIHByb3h5LCBhIHVzZXIgYWdlbnQgb3IgcmVnaXN0cmFyLiAgQWxsIGNvcmVzLCBleGNlcHQgdGhvc2UgZm9yXG4gKiB0aGUgc3RhdGVsZXNzIHByb3h5LCBhcmUgdHJhbnNhY3Rpb24gdXNlcnMuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTZcbiAqXG4gKiBVQUMgQ29yZTogVGhlIHNldCBvZiBwcm9jZXNzaW5nIGZ1bmN0aW9ucyByZXF1aXJlZCBvZiBhIFVBQyB0aGF0XG4gKiByZXNpZGUgYWJvdmUgdGhlIHRyYW5zYWN0aW9uIGFuZCB0cmFuc3BvcnQgbGF5ZXJzLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi02XG4gKlxuICogVUFTIENvcmU6IFRoZSBzZXQgb2YgcHJvY2Vzc2luZyBmdW5jdGlvbnMgcmVxdWlyZWQgYXQgYSBVQVMgdGhhdFxuICogcmVzaWRlcyBhYm92ZSB0aGUgdHJhbnNhY3Rpb24gYW5kIHRyYW5zcG9ydCBsYXllcnMuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTZcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFVzZXJBZ2VudENvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb24gLSBDb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIERlbGVnYXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVzZXJBZ2VudENvcmUoY29uZmlndXJhdGlvbiwgZGVsZWdhdGUpIHtcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSB2b2lkIDApIHsgZGVsZWdhdGUgPSB7fTsgfVxuICAgICAgICAvKiogVUFDcy4gKi9cbiAgICAgICAgdGhpcy51c2VyQWdlbnRDbGllbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKiogVUFTcy4gKi9cbiAgICAgICAgdGhpcy51c2VyQWdlbnRTZXJ2ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuZGlhbG9ncyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBjb25maWd1cmF0aW9uLmxvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFwic2lwLnVzZXItYWdlbnQtY29yZVwiKTtcbiAgICB9XG4gICAgLyoqIERlc3RydWN0b3IuICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG4gICAgLyoqIFJlc2V0LiAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpYWxvZ3MuZm9yRWFjaChmdW5jdGlvbiAoZGlhbG9nKSB7IHJldHVybiBkaWFsb2cuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5kaWFsb2dzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudXNlckFnZW50Q2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh1YWMpIHsgcmV0dXJuIHVhYy5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLnVzZXJBZ2VudENsaWVudHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy51c2VyQWdlbnRTZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKHVhYykgeyByZXR1cm4gdWFjLmRpc3Bvc2UoKTsgfSk7XG4gICAgICAgIHRoaXMudXNlckFnZW50U2VydmVycy5jbGVhcigpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZXJBZ2VudENvcmUucHJvdG90eXBlLCBcImxvZ2dlckZhY3RvcnlcIiwge1xuICAgICAgICAvKiogTG9nZ2VyIGZhY3RvcnkuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5sb2dnZXJGYWN0b3J5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50Q29yZS5wcm90b3R5cGUsIFwidHJhbnNwb3J0XCIsIHtcbiAgICAgICAgLyoqIFRyYW5zcG9ydC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNwb3J0ID0gdGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcG9ydEFjY2Vzc29yKCk7XG4gICAgICAgICAgICBpZiAoIXRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zcG9ydDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2VuZCBJTlZJVEUuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBPdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUuaW52aXRlID0gZnVuY3Rpb24gKHJlcXVlc3QsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdXNlcl9hZ2VudHNfMS5JbnZpdGVVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBNRVNTQUdFLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gT3V0Z29pbmcgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gZGVsZWdhdGUgLSBSZXF1ZXN0IGRlbGVnYXRlLlxuICAgICAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAocmVxdWVzdCwgZGVsZWdhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB1c2VyX2FnZW50c18xLk1lc3NhZ2VVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBQVUJMSVNILlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gT3V0Z29pbmcgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gZGVsZWdhdGUgLSBSZXF1ZXN0IGRlbGVnYXRlLlxuICAgICAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLnB1Ymxpc2ggPSBmdW5jdGlvbiAocmVxdWVzdCwgZGVsZWdhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB1c2VyX2FnZW50c18xLlB1Ymxpc2hVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBSRUdJU1RFUi5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIE91dGdvaW5nIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIGRlbGVnYXRlIC0gUmVxdWVzdCBkZWxlZ2F0ZS5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHVzZXJfYWdlbnRzXzEuUmVnaXN0ZXJVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBTVUJTQ1JJQkUuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBPdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKHJlcXVlc3QsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdXNlcl9hZ2VudHNfMS5TdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBPdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHVzZXJfYWdlbnRzXzEuVXNlckFnZW50Q2xpZW50KHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCB0aGlzLCByZXF1ZXN0LCBkZWxlZ2F0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdXRnb2luZyByZXF1ZXN0IG1lc3NhZ2UgZmFjdG9yeSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gbWV0aG9kIC0gTWV0aG9kLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0VVJJIC0gUmVxdWVzdC1VUkkuXG4gICAgICogQHBhcmFtIGZyb21VUkkgLSBGcm9tIFVSSS5cbiAgICAgKiBAcGFyYW0gdG9VUkkgLSBUbyBVUkkuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIGV4dHJhSGVhZGVycyAtIEV4dHJhIGhlYWRlcnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSBib2R5IC0gTWVzc2FnZSBib2R5LlxuICAgICAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLm1ha2VPdXRnb2luZ1JlcXVlc3RNZXNzYWdlID0gZnVuY3Rpb24gKG1ldGhvZCwgcmVxdWVzdFVSSSwgZnJvbVVSSSwgdG9VUkksIG9wdGlvbnMsIGV4dHJhSGVhZGVycywgYm9keSkge1xuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlcyBmcm9tIHVzZXIgYWdlbnQgY29uZmlndXJhdGlvblxuICAgICAgICB2YXIgY2FsbElkUHJlZml4ID0gdGhpcy5jb25maWd1cmF0aW9uLnNpcGpzSWQ7XG4gICAgICAgIHZhciBmcm9tRGlzcGxheU5hbWUgPSB0aGlzLmNvbmZpZ3VyYXRpb24uZGlzcGxheU5hbWU7XG4gICAgICAgIHZhciBmb3JjZVJwb3J0ID0gdGhpcy5jb25maWd1cmF0aW9uLnZpYUZvcmNlUnBvcnQ7XG4gICAgICAgIHZhciBoYWNrVmlhVGNwID0gdGhpcy5jb25maWd1cmF0aW9uLmhhY2tWaWFUY3A7XG4gICAgICAgIHZhciBvcHRpb25UYWdzID0gdGhpcy5jb25maWd1cmF0aW9uLnN1cHBvcnRlZE9wdGlvblRhZ3Muc2xpY2UoKTtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLlJFR0lTVEVSKSB7XG4gICAgICAgICAgICBvcHRpb25UYWdzLnB1c2goXCJwYXRoXCIsIFwiZ3J1dVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFICYmICh0aGlzLmNvbmZpZ3VyYXRpb24uY29udGFjdC5wdWJHcnV1IHx8IHRoaXMuY29uZmlndXJhdGlvbi5jb250YWN0LnRlbXBHcnV1KSkge1xuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwiZ3J1dVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm91dGVTZXQgPSB0aGlzLmNvbmZpZ3VyYXRpb24ucm91dGVTZXQ7XG4gICAgICAgIHZhciB1c2VyQWdlbnRTdHJpbmcgPSB0aGlzLmNvbmZpZ3VyYXRpb24udXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZTtcbiAgICAgICAgdmFyIHZpYUhvc3QgPSB0aGlzLmNvbmZpZ3VyYXRpb24udmlhSG9zdDtcbiAgICAgICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgY2FsbElkUHJlZml4OiBjYWxsSWRQcmVmaXgsXG4gICAgICAgICAgICBmb3JjZVJwb3J0OiBmb3JjZVJwb3J0LFxuICAgICAgICAgICAgZnJvbURpc3BsYXlOYW1lOiBmcm9tRGlzcGxheU5hbWUsXG4gICAgICAgICAgICBoYWNrVmlhVGNwOiBoYWNrVmlhVGNwLFxuICAgICAgICAgICAgb3B0aW9uVGFnczogb3B0aW9uVGFncyxcbiAgICAgICAgICAgIHJvdXRlU2V0OiByb3V0ZVNldCxcbiAgICAgICAgICAgIHVzZXJBZ2VudFN0cmluZzogdXNlckFnZW50U3RyaW5nLFxuICAgICAgICAgICAgdmlhSG9zdDogdmlhSG9zdCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbWVyZ2UgcHJvdmlkZWQgb3B0aW9ucyB3aXRoIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgbWVzc2FnZXNfMS5PdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1ldGhvZCwgcmVxdWVzdFVSSSwgZnJvbVVSSSwgdG9VUkksIHJlcXVlc3RPcHRpb25zLCBleHRyYUhlYWRlcnMsIGJvZHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuIGluY29taW5nIHJlcXVlc3QgbWVzc2FnZSBmcm9tIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2UgZnJvbSB0cmFuc3BvcnQgbGF5ZXIuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVjZWl2ZUluY29taW5nUmVxdWVzdEZyb21UcmFuc3BvcnQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnJlY2VpdmVSZXF1ZXN0RnJvbVRyYW5zcG9ydChtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbiBpbmNvbWluZyByZXNwb25zZSBtZXNzYWdlIGZyb20gdGhlIHRyYW5zcG9ydC5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlc3BvbnNlIG1lc3NhZ2UgZnJvbSB0cmFuc3BvcnQgbGF5ZXIuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVjZWl2ZUluY29taW5nUmVzcG9uc2VGcm9tVHJhbnNwb3J0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlUmVzcG9uc2VGcm9tVHJhbnNwb3J0KG1lc3NhZ2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZWxlc3MgVUFTIGlzIGEgVUFTIHRoYXQgZG9lcyBub3QgbWFpbnRhaW4gdHJhbnNhY3Rpb24gc3RhdGUuXG4gICAgICogSXQgcmVwbGllcyB0byByZXF1ZXN0cyBub3JtYWxseSwgYnV0IGRpc2NhcmRzIGFueSBzdGF0ZSB0aGF0IHdvdWxkXG4gICAgICogb3JkaW5hcmlseSBiZSByZXRhaW5lZCBieSBhIFVBUyBhZnRlciBhIHJlc3BvbnNlIGhhcyBiZWVuIHNlbnQuICBJZiBhXG4gICAgICogc3RhdGVsZXNzIFVBUyByZWNlaXZlcyBhIHJldHJhbnNtaXNzaW9uIG9mIGEgcmVxdWVzdCwgaXQgcmVnZW5lcmF0ZXNcbiAgICAgKiB0aGUgcmVzcG9uc2UgYW5kIHJlLXNlbmRzIGl0LCBqdXN0IGFzIGlmIGl0IHdlcmUgcmVwbHlpbmcgdG8gdGhlIGZpcnN0XG4gICAgICogaW5zdGFuY2Ugb2YgdGhlIHJlcXVlc3QuIEEgVUFTIGNhbm5vdCBiZSBzdGF0ZWxlc3MgdW5sZXNzIHRoZSByZXF1ZXN0XG4gICAgICogcHJvY2Vzc2luZyBmb3IgdGhhdCBtZXRob2Qgd291bGQgYWx3YXlzIHJlc3VsdCBpbiB0aGUgc2FtZSByZXNwb25zZVxuICAgICAqIGlmIHRoZSByZXF1ZXN0cyBhcmUgaWRlbnRpY2FsLiBUaGlzIHJ1bGVzIG91dCBzdGF0ZWxlc3MgcmVnaXN0cmFycyxcbiAgICAgKiBmb3IgZXhhbXBsZS4gIFN0YXRlbGVzcyBVQVNzIGRvIG5vdCB1c2UgYSB0cmFuc2FjdGlvbiBsYXllcjsgdGhleVxuICAgICAqIHJlY2VpdmUgcmVxdWVzdHMgZGlyZWN0bHkgZnJvbSB0aGUgdHJhbnNwb3J0IGxheWVyIGFuZCBzZW5kIHJlc3BvbnNlc1xuICAgICAqIGRpcmVjdGx5IHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuN1xuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gSW5jb21pbmcgcmVxdWVzdCBtZXNzYWdlIHRvIHJlcGx5IHRvLlxuICAgICAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gU3RhdHVzIGNvZGUgdG8gcmVwbHkgd2l0aC5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZXBseVN0YXRlbGVzcyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1c2VyQWdlbnQgPSB0aGlzLmNvbmZpZ3VyYXRpb24udXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZTtcbiAgICAgICAgdmFyIHN1cHBvcnRlZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zdXBwb3J0ZWRPcHRpb25UYWdzUmVzcG9uc2U7XG4gICAgICAgIG9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHVzZXJBZ2VudDogdXNlckFnZW50LCBzdXBwb3J0ZWQ6IHN1cHBvcnRlZCB9KTtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gbWVzc2FnZXNfMS5jb25zdHJ1Y3RPdXRnb2luZ1Jlc3BvbnNlKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHJlc3BvbnNlLm1lc3NhZ2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHRyYW5zcG9ydCByZWplY3RzLCBpdCBTSE9VTEQgcmVqZWN0IHdpdGggYSBUcmFuc3BvcnRFcnJvci5cbiAgICAgICAgICAgIC8vIEJ1dCB0aGUgdHJhbnNwb3J0IG1heSBiZSBleHRlcm5hbCBjb2RlLCBzbyB3ZSBhcmUgY2FyZWZ1bC4uLlxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJUcmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQgc2VuZGluZyBzdGF0ZWxlc3MgcmVwbHkgdG8gXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3QuXCIpO1xuICAgICAgICAgICAgLy8gVE9ETzogQ3VycmVudGx5IHRoZXJlIGlzIG5vIGhvb2sgdG8gcHJvdmlkZSBub3RpZmljYXRpb24gdGhhdCBhIHRyYW5zcG9ydCBlcnJvciBvY2N1cnJlZFxuICAgICAgICAgICAgLy8gYW5kIHRocm93aW5nIHdvdWxkIHJlc3VsdCBpbiBhbiB1bmNhdWdodCBlcnJvciAoaW4gcHJvbWlzZSksIHNvIHdlIHNpbGVudGx5IGVhdCB0aGUgZXJyb3IuXG4gICAgICAgICAgICAvLyBGdXJ0aGVybW9yZSwgc2lsZW50bHkgZWF0aW5nIHN0YXRlbGVzcyByZXBseSB0cmFuc3BvcnQgZXJyb3JzIGlzIGFyZ3VhYmx5IHdoYXQgd2Ugd2FudCB0byBkbyBoZXJlLlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW4gU2VjdGlvbiAxOC4yLjEsIHJlcGxhY2UgdGhlIGxhc3QgcGFyYWdyYXBoIHdpdGg6XG4gICAgICpcbiAgICAgKiBOZXh0LCB0aGUgc2VydmVyIHRyYW5zcG9ydCBhdHRlbXB0cyB0byBtYXRjaCB0aGUgcmVxdWVzdCB0byBhXG4gICAgICogc2VydmVyIHRyYW5zYWN0aW9uLiAgSXQgZG9lcyBzbyB1c2luZyB0aGUgbWF0Y2hpbmcgcnVsZXMgZGVzY3JpYmVkXG4gICAgICogaW4gU2VjdGlvbiAxNy4yLjMuICBJZiBhIG1hdGNoaW5nIHNlcnZlciB0cmFuc2FjdGlvbiBpcyBmb3VuZCwgdGhlXG4gICAgICogcmVxdWVzdCBpcyBwYXNzZWQgdG8gdGhhdCB0cmFuc2FjdGlvbiBmb3IgcHJvY2Vzc2luZy4gIElmIG5vIG1hdGNoXG4gICAgICogaXMgZm91bmQsIHRoZSByZXF1ZXN0IGlzIHBhc3NlZCB0byB0aGUgY29yZSwgd2hpY2ggbWF5IGRlY2lkZSB0b1xuICAgICAqIGNvbnN0cnVjdCBhIG5ldyBzZXJ2ZXIgdHJhbnNhY3Rpb24gZm9yIHRoYXQgcmVxdWVzdC5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMTBcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZSBmcm9tIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdEZyb21UcmFuc3BvcnQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyBXaGVuIGEgcmVxdWVzdCBpcyByZWNlaXZlZCBmcm9tIHRoZSBuZXR3b3JrIGJ5IHRoZSBzZXJ2ZXIsIGl0IGhhcyB0b1xuICAgICAgICAvLyBiZSBtYXRjaGVkIHRvIGFuIGV4aXN0aW5nIHRyYW5zYWN0aW9uLiAgVGhpcyBpcyBhY2NvbXBsaXNoZWQgaW4gdGhlXG4gICAgICAgIC8vIGZvbGxvd2luZyBtYW5uZXIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBicmFuY2ggcGFyYW1ldGVyIGluIHRoZSB0b3Btb3N0IFZpYSBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3RcbiAgICAgICAgLy8gaXMgZXhhbWluZWQuICBJZiBpdCBpcyBwcmVzZW50IGFuZCBiZWdpbnMgd2l0aCB0aGUgbWFnaWMgY29va2llXG4gICAgICAgIC8vIFwiejloRzRiS1wiLCB0aGUgcmVxdWVzdCB3YXMgZ2VuZXJhdGVkIGJ5IGEgY2xpZW50IHRyYW5zYWN0aW9uXG4gICAgICAgIC8vIGNvbXBsaWFudCB0byB0aGlzIHNwZWNpZmljYXRpb24uICBUaGVyZWZvcmUsIHRoZSBicmFuY2ggcGFyYW1ldGVyXG4gICAgICAgIC8vIHdpbGwgYmUgdW5pcXVlIGFjcm9zcyBhbGwgdHJhbnNhY3Rpb25zIHNlbnQgYnkgdGhhdCBjbGllbnQuICBUaGVcbiAgICAgICAgLy8gcmVxdWVzdCBtYXRjaGVzIGEgdHJhbnNhY3Rpb24gaWY6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDEuIHRoZSBicmFuY2ggcGFyYW1ldGVyIGluIHRoZSByZXF1ZXN0IGlzIGVxdWFsIHRvIHRoZSBvbmUgaW4gdGhlXG4gICAgICAgIC8vICAgICAgIHRvcCBWaWEgaGVhZGVyIGZpZWxkIG9mIHRoZSByZXF1ZXN0IHRoYXQgY3JlYXRlZCB0aGVcbiAgICAgICAgLy8gICAgICAgdHJhbnNhY3Rpb24sIGFuZFxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAyLiB0aGUgc2VudC1ieSB2YWx1ZSBpbiB0aGUgdG9wIFZpYSBvZiB0aGUgcmVxdWVzdCBpcyBlcXVhbCB0byB0aGVcbiAgICAgICAgLy8gICAgICAgb25lIGluIHRoZSByZXF1ZXN0IHRoYXQgY3JlYXRlZCB0aGUgdHJhbnNhY3Rpb24sIGFuZFxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAzLiB0aGUgbWV0aG9kIG9mIHRoZSByZXF1ZXN0IG1hdGNoZXMgdGhlIG9uZSB0aGF0IGNyZWF0ZWQgdGhlXG4gICAgICAgIC8vICAgICAgIHRyYW5zYWN0aW9uLCBleGNlcHQgZm9yIEFDSywgd2hlcmUgdGhlIG1ldGhvZCBvZiB0aGUgcmVxdWVzdFxuICAgICAgICAvLyAgICAgICB0aGF0IGNyZWF0ZWQgdGhlIHRyYW5zYWN0aW9uIGlzIElOVklURS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBtYXRjaGluZyBydWxlIGFwcGxpZXMgdG8gYm90aCBJTlZJVEUgYW5kIG5vbi1JTlZJVEUgdHJhbnNhY3Rpb25zXG4gICAgICAgIC8vIGFsaWtlLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICBUaGUgc2VudC1ieSB2YWx1ZSBpcyB1c2VkIGFzIHBhcnQgb2YgdGhlIG1hdGNoaW5nIHByb2Nlc3MgYmVjYXVzZVxuICAgICAgICAvLyAgICB0aGVyZSBjb3VsZCBiZSBhY2NpZGVudGFsIG9yIG1hbGljaW91cyBkdXBsaWNhdGlvbiBvZiBicmFuY2hcbiAgICAgICAgLy8gICAgcGFyYW1ldGVycyBmcm9tIGRpZmZlcmVudCBjbGllbnRzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuM1xuICAgICAgICB2YXIgdHJhbnNhY3Rpb25JZCA9IG1lc3NhZ2UudmlhQnJhbmNoOyAvLyBGSVhNRTogQ3VycmVudGx5IG9ubHkgdXNpbmcgcnVsZSAxLi4uXG4gICAgICAgIHZhciB1YXMgPSB0aGlzLnVzZXJBZ2VudFNlcnZlcnMuZ2V0KHRyYW5zYWN0aW9uSWQpO1xuICAgICAgICAvLyBXaGVuIHJlY2VpdmluZyBhbiBBQ0sgdGhhdCBtYXRjaGVzIGFuIGV4aXN0aW5nIElOVklURSBzZXJ2ZXJcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gYW5kIHRoYXQgZG9lcyBub3QgY29udGFpbiBhIGJyYW5jaCBwYXJhbWV0ZXIgY29udGFpbmluZ1xuICAgICAgICAvLyB0aGUgbWFnaWMgY29va2llIGRlZmluZWQgaW4gUkZDIDMyNjEsIHRoZSBtYXRjaGluZyB0cmFuc2FjdGlvbiBNVVNUXG4gICAgICAgIC8vIGJlIGNoZWNrZWQgdG8gc2VlIGlmIGl0IGlzIGluIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUuICBJZiBpdCBpcywgdGhlblxuICAgICAgICAvLyB0aGUgQUNLIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSB0cmFuc2FjdGlvbiB1c2VyIGluc3RlYWQgb2ZcbiAgICAgICAgLy8gYmVpbmcgYWJzb3JiZWQgYnkgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIG1hY2hpbmUuICBUaGlzIGlzIG5lY2Vzc2FyeVxuICAgICAgICAvLyBhcyByZXF1ZXN0cyBmcm9tIFJGQyAyNTQzIGNsaWVudHMgd2lsbCBub3QgaW5jbHVkZSBhIHVuaXF1ZSBicmFuY2hcbiAgICAgICAgLy8gcGFyYW1ldGVyLCBhbmQgdGhlIG1lY2hhbmlzbXMgZm9yIGNhbGN1bGF0aW5nIHRoZSB0cmFuc2FjdGlvbiBJRCBmcm9tXG4gICAgICAgIC8vIHN1Y2ggYSByZXF1ZXN0IHdpbGwgYmUgdGhlIHNhbWUgZm9yIGJvdGggSU5WSVRFIGFuZCBBQ0tzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTZcbiAgICAgICAgLy8gQW55IEFDS3MgcmVjZWl2ZWQgZnJvbSB0aGUgbmV0d29yayB3aGlsZSBpbiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlIE1VU1QgYmVcbiAgICAgICAgLy8gcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBUVSBhbmQgbm90IGFic29yYmVkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTcuMVxuICAgICAgICBpZiAobWVzc2FnZS5tZXRob2QgPT09IG1lc3NhZ2VzXzEuQy5BQ0spIHtcbiAgICAgICAgICAgIGlmICh1YXMgJiYgdWFzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVhcyBpbnN0YW5jZW9mIHVzZXJfYWdlbnRzXzEuSW52aXRlVXNlckFnZW50U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGFyZSBBQ0tzIG1hdGNoaW5nIGFuIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIHNob3VsZCBuZXZlciBoYXBwZW4gd2l0aCBSRkMgMzI2MSBjb21wbGlhbnQgdXNlciBhZ2VudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gKHdvdWxkIGJlIGEgYnJva2VuIEFDSyB0byBuZWdhdGl2ZSBmaW5hbCByZXNwb25zZSBvciBzb21ldGhpbmcpXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpcyBhcHBhcmVudGx5IGhvdyBSRkMgMjU0MyB1c2VyIGFnZW50cyBkbyB0aGluZ3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRpbmcgdGhpcyBjYXNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBOb3QgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCBSRkMgMjU0MyAobm8gc3VwcG9ydCBmb3Igc3RyaWN0LXJvdXRpbmcpLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiRGlzY2FyZGluZyBvdXQgb2YgZGlhbG9nIEFDSyBhZnRlciAyeHggcmVzcG9uc2Ugc2VudCBvbiB0cmFuc2FjdGlvbiBcIiArIHRyYW5zYWN0aW9uSWQgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIENBTkNFTCBtZXRob2QgcmVxdWVzdHMgdGhhdCB0aGUgVFUgYXQgdGhlIHNlcnZlciBzaWRlIGNhbmNlbCBhXG4gICAgICAgIC8vIHBlbmRpbmcgdHJhbnNhY3Rpb24uICBUaGUgVFUgZGV0ZXJtaW5lcyB0aGUgdHJhbnNhY3Rpb24gdG8gYmVcbiAgICAgICAgLy8gY2FuY2VsbGVkIGJ5IHRha2luZyB0aGUgQ0FOQ0VMIHJlcXVlc3QsIGFuZCB0aGVuIGFzc3VtaW5nIHRoYXQgdGhlXG4gICAgICAgIC8vIHJlcXVlc3QgbWV0aG9kIGlzIGFueXRoaW5nIGJ1dCBDQU5DRUwgb3IgQUNLIGFuZCBhcHBseWluZyB0aGVcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gbWF0Y2hpbmcgcHJvY2VkdXJlcyBvZiBTZWN0aW9uIDE3LjIuMy4gIFRoZSBtYXRjaGluZ1xuICAgICAgICAvLyB0cmFuc2FjdGlvbiBpcyB0aGUgb25lIHRvIGJlIGNhbmNlbGxlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi05LjJcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQ0FOQ0VMKSB7XG4gICAgICAgICAgICBpZiAodWFzKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVnYXJkbGVzcyBvZiB0aGUgbWV0aG9kIG9mIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBhcyBsb25nIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vIENBTkNFTCBtYXRjaGVkIGFuIGV4aXN0aW5nIHRyYW5zYWN0aW9uLCB0aGUgVUFTIGFuc3dlcnMgdGhlIENBTkNFTFxuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgaXRzZWxmIHdpdGggYSAyMDAgKE9LKSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiAyMDAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRyYW5zYWN0aW9uIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdCBzdGlsbCBleGlzdHMsIHRoZSBiZWhhdmlvclxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBVQVMgb24gcmVjZWl2aW5nIGEgQ0FOQ0VMIHJlcXVlc3QgZGVwZW5kcyBvbiB3aGV0aGVyIGl0IGhhcyBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gc2VudCBhIGZpbmFsIHJlc3BvbnNlIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdC4gSWYgaXQgaGFzLCB0aGUgQ0FOQ0VMXG4gICAgICAgICAgICAgICAgLy8gcmVxdWVzdCBoYXMgbm8gZWZmZWN0IG9uIHRoZSBwcm9jZXNzaW5nIG9mIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBub1xuICAgICAgICAgICAgICAgIC8vIGVmZmVjdCBvbiBhbnkgc2Vzc2lvbiBzdGF0ZSwgYW5kIG5vIGVmZmVjdCBvbiB0aGUgcmVzcG9uc2VzIGdlbmVyYXRlZFxuICAgICAgICAgICAgICAgIC8vIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdC4gSWYgdGhlIFVBUyBoYXMgbm90IGlzc3VlZCBhIGZpbmFsIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBpdHMgYmVoYXZpb3IgZGVwZW5kcyBvbiB0aGUgbWV0aG9kIG9mIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIHJlcXVlc3QuIElmIHRoZSBvcmlnaW5hbCByZXF1ZXN0IHdhcyBhbiBJTlZJVEUsIHRoZSBVQVNcbiAgICAgICAgICAgICAgICAvLyBTSE9VTEQgaW1tZWRpYXRlbHkgcmVzcG9uZCB0byB0aGUgSU5WSVRFIHdpdGggYSA0ODcgKFJlcXVlc3RcbiAgICAgICAgICAgICAgICAvLyBUZXJtaW5hdGVkKS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIGlmICh1YXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICB1YXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodWFzIGluc3RhbmNlb2YgdXNlcl9hZ2VudHNfMS5JbnZpdGVVc2VyQWdlbnRTZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5yZWNlaXZlQ2FuY2VsKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgQ0FOQ0VMIHJlcXVlc3QgaGFzIG5vIGltcGFjdCBvbiB0aGUgcHJvY2Vzc2luZyBvZlxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbnMgd2l0aCBhbnkgb3RoZXIgbWV0aG9kIGRlZmluZWQgaW4gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBVQVMgZGlkIG5vdCBmaW5kIGEgbWF0Y2hpbmcgdHJhbnNhY3Rpb24gZm9yIHRoZSBDQU5DRUxcbiAgICAgICAgICAgICAgICAvLyBhY2NvcmRpbmcgdG8gdGhlIHByb2NlZHVyZSBhYm92ZSwgaXQgU0hPVUxEIHJlc3BvbmQgdG8gdGhlIENBTkNFTFxuICAgICAgICAgICAgICAgIC8vIHdpdGggYSA0ODEgKENhbGwgTGVnL1RyYW5zYWN0aW9uIERvZXMgTm90IEV4aXN0KS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0ODEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBtYXRjaGluZyBzZXJ2ZXIgdHJhbnNhY3Rpb24gaXMgZm91bmQsIHRoZSByZXF1ZXN0IGlzIHBhc3NlZCB0byB0aGF0XG4gICAgICAgIC8vIHRyYW5zYWN0aW9uIGZvciBwcm9jZXNzaW5nLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMTBcbiAgICAgICAgaWYgKHVhcykge1xuICAgICAgICAgICAgdWFzLnRyYW5zYWN0aW9uLnJlY2VpdmVSZXF1ZXN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vIG1hdGNoIGlzIGZvdW5kLCB0aGUgcmVxdWVzdCBpcyBwYXNzZWQgdG8gdGhlIGNvcmUsIHdoaWNoIG1heSBkZWNpZGUgdG9cbiAgICAgICAgLy8gY29uc3RydWN0IGEgbmV3IHNlcnZlciB0cmFuc2FjdGlvbiBmb3IgdGhhdCByZXF1ZXN0LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMTBcbiAgICAgICAgdGhpcy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVUFDIGFuZCBVQVMgcHJvY2VkdXJlcyBkZXBlbmQgc3Ryb25nbHkgb24gdHdvIGZhY3RvcnMuICBGaXJzdCwgYmFzZWRcbiAgICAgKiBvbiB3aGV0aGVyIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlIGlzIGluc2lkZSBvciBvdXRzaWRlIG9mIGEgZGlhbG9nLFxuICAgICAqIGFuZCBzZWNvbmQsIGJhc2VkIG9uIHRoZSBtZXRob2Qgb2YgYSByZXF1ZXN0LiAgRGlhbG9ncyBhcmUgZGlzY3Vzc2VkXG4gICAgICogdGhvcm91Z2hseSBpbiBTZWN0aW9uIDEyOyB0aGV5IHJlcHJlc2VudCBhIHBlZXItdG8tcGVlciByZWxhdGlvbnNoaXBcbiAgICAgKiBiZXR3ZWVuIHVzZXIgYWdlbnRzIGFuZCBhcmUgZXN0YWJsaXNoZWQgYnkgc3BlY2lmaWMgU0lQIG1ldGhvZHMsIHN1Y2hcbiAgICAgKiBhcyBJTlZJVEUuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2UuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyA4LjIgVUFTIEJlaGF2aW9yXG4gICAgICAgIC8vIFVBU3MgU0hPVUxEIHByb2Nlc3MgdGhlIHJlcXVlc3RzIGluIHRoZSBvcmRlciBvZiB0aGUgc3RlcHMgdGhhdFxuICAgICAgICAvLyBmb2xsb3cgaW4gdGhpcyBzZWN0aW9uICh0aGF0IGlzLCBzdGFydGluZyB3aXRoIGF1dGhlbnRpY2F0aW9uLCB0aGVuXG4gICAgICAgIC8vIGluc3BlY3RpbmcgdGhlIG1ldGhvZCwgdGhlIGhlYWRlciBmaWVsZHMsIGFuZCBzbyBvbiB0aHJvdWdob3V0IHRoZVxuICAgICAgICAvLyByZW1haW5kZXIgb2YgdGhpcyBzZWN0aW9uKS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjJcbiAgICAgICAgLy8gOC4yLjEgTWV0aG9kIEluc3BlY3Rpb25cbiAgICAgICAgLy8gT25jZSBhIHJlcXVlc3QgaXMgYXV0aGVudGljYXRlZCAob3IgYXV0aGVudGljYXRpb24gaXMgc2tpcHBlZCksIHRoZVxuICAgICAgICAvLyBVQVMgTVVTVCBpbnNwZWN0IHRoZSBtZXRob2Qgb2YgdGhlIHJlcXVlc3QuICBJZiB0aGUgVUFTIHJlY29nbml6ZXNcbiAgICAgICAgLy8gYnV0IGRvZXMgbm90IHN1cHBvcnQgdGhlIG1ldGhvZCBvZiBhIHJlcXVlc3QsIGl0IE1VU1QgZ2VuZXJhdGUgYSA0MDVcbiAgICAgICAgLy8gKE1ldGhvZCBOb3QgQWxsb3dlZCkgcmVzcG9uc2UuICBQcm9jZWR1cmVzIGZvciBnZW5lcmF0aW5nIHJlc3BvbnNlc1xuICAgICAgICAvLyBhcmUgZGVzY3JpYmVkIGluIFNlY3Rpb24gOC4yLjYuICBUaGUgVUFTIE1VU1QgYWxzbyBhZGQgYW4gQWxsb3dcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIHRvIHRoZSA0MDUgKE1ldGhvZCBOb3QgQWxsb3dlZCkgcmVzcG9uc2UuICBUaGUgQWxsb3dcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIE1VU1QgbGlzdCB0aGUgc2V0IG9mIG1ldGhvZHMgc3VwcG9ydGVkIGJ5IHRoZSBVQVNcbiAgICAgICAgLy8gZ2VuZXJhdGluZyB0aGUgbWVzc2FnZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuMVxuICAgICAgICBpZiAoYWxsb3dlZF9tZXRob2RzXzEuQWxsb3dlZE1ldGhvZHMuaW5kZXhPZihtZXNzYWdlLm1ldGhvZCkgPT09IC0xKSB7XG4gICAgICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiA0MDUsXG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBbYWxsb3dIZWFkZXJdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMiBIZWFkZXIgSW5zcGVjdGlvblxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi4yXG4gICAgICAgIGlmICghbWVzc2FnZS5ydXJpKSB7IC8vIEZJWE1FOiBBIHJlcXVlc3QgbWVzc2FnZSBzaG91bGQgYWx3YXlzIGhhdmUgYW4gcnVyaVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdC1VUkkgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMi4xIFRvIGFuZCBSZXF1ZXN0LVVSSVxuICAgICAgICAvLyBJZiB0aGUgUmVxdWVzdC1VUkkgdXNlcyBhIHNjaGVtZSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBVQVMsIGl0IFNIT1VMRFxuICAgICAgICAvLyByZWplY3QgdGhlIHJlcXVlc3Qgd2l0aCBhIDQxNiAoVW5zdXBwb3J0ZWQgVVJJIFNjaGVtZSkgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjIuMVxuICAgICAgICBpZiAobWVzc2FnZS5ydXJpLnNjaGVtZSAhPT0gXCJzaXBcIikge1xuICAgICAgICAgICAgdGhpcy5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQxNiB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMi4xIFRvIGFuZCBSZXF1ZXN0LVVSSVxuICAgICAgICAvLyBJZiB0aGUgUmVxdWVzdC1VUkkgZG9lcyBub3QgaWRlbnRpZnkgYW4gYWRkcmVzcyB0aGF0IHRoZVxuICAgICAgICAvLyBVQVMgaXMgd2lsbGluZyB0byBhY2NlcHQgcmVxdWVzdHMgZm9yLCBpdCBTSE9VTEQgcmVqZWN0XG4gICAgICAgIC8vIHRoZSByZXF1ZXN0IHdpdGggYSA0MDQgKE5vdCBGb3VuZCkgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjIuMVxuICAgICAgICB2YXIgcnVyaSA9IG1lc3NhZ2UucnVyaTtcbiAgICAgICAgdmFyIHJ1cmlNYXRjaGVzID0gZnVuY3Rpb24gKHVyaSkge1xuICAgICAgICAgICAgcmV0dXJuICEhdXJpICYmIHVyaS51c2VyID09PSBydXJpLnVzZXI7XG4gICAgICAgIH07XG4gICAgICAgIGlmICghcnVyaU1hdGNoZXModGhpcy5jb25maWd1cmF0aW9uLmFvcikgJiZcbiAgICAgICAgICAgICEocnVyaU1hdGNoZXModGhpcy5jb25maWd1cmF0aW9uLmNvbnRhY3QudXJpKSB8fFxuICAgICAgICAgICAgICAgIHJ1cmlNYXRjaGVzKHRoaXMuY29uZmlndXJhdGlvbi5jb250YWN0LnB1YkdydXUpIHx8XG4gICAgICAgICAgICAgICAgcnVyaU1hdGNoZXModGhpcy5jb25maWd1cmF0aW9uLmNvbnRhY3QudGVtcEdydXUpKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlJlcXVlc3QtVVJJIGRvZXMgbm90IHBvaW50IHRvIHVzLlwiKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCAhPT0gbWVzc2FnZXNfMS5DLkFDSykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0MDQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gOC4yLjIuMSBUbyBhbmQgUmVxdWVzdC1VUklcbiAgICAgICAgLy8gT3RoZXIgcG90ZW50aWFsIHNvdXJjZXMgb2YgcmVjZWl2ZWQgUmVxdWVzdC1VUklzIGluY2x1ZGVcbiAgICAgICAgLy8gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkcyBvZiByZXF1ZXN0cyBhbmQgcmVzcG9uc2VzIHNlbnQgYnkgdGhlIFVBXG4gICAgICAgIC8vIHRoYXQgZXN0YWJsaXNoIG9yIHJlZnJlc2ggZGlhbG9ncy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuMi4xXG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlLmhhc0hlYWRlcihcIkNvbnRhY3RcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxuICAgICAgICAgICAgICAgICAgICByZWFzb25QaHJhc2U6IFwiTWlzc2luZyBDb250YWN0IEhlYWRlclwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDguMi4yLjIgTWVyZ2VkIFJlcXVlc3RzXG4gICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGhhcyBubyB0YWcgaW4gdGhlIFRvIGhlYWRlciBmaWVsZCwgdGhlIFVBUyBjb3JlIE1VU1RcbiAgICAgICAgLy8gY2hlY2sgdGhlIHJlcXVlc3QgYWdhaW5zdCBvbmdvaW5nIHRyYW5zYWN0aW9ucy4gIElmIHRoZSBGcm9tIHRhZyxcbiAgICAgICAgLy8gQ2FsbC1JRCwgYW5kIENTZXEgZXhhY3RseSBtYXRjaCB0aG9zZSBhc3NvY2lhdGVkIHdpdGggYW4gb25nb2luZ1xuICAgICAgICAvLyB0cmFuc2FjdGlvbiwgYnV0IHRoZSByZXF1ZXN0IGRvZXMgbm90IG1hdGNoIHRoYXQgdHJhbnNhY3Rpb24gKGJhc2VkXG4gICAgICAgIC8vIG9uIHRoZSBtYXRjaGluZyBydWxlcyBpbiBTZWN0aW9uIDE3LjIuMyksIHRoZSBVQVMgY29yZSBTSE9VTERcbiAgICAgICAgLy8gZ2VuZXJhdGUgYSA0ODIgKExvb3AgRGV0ZWN0ZWQpIHJlc3BvbnNlIGFuZCBwYXNzIGl0IHRvIHRoZSBzZXJ2ZXJcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIFRoZSBzYW1lIHJlcXVlc3QgaGFzIGFycml2ZWQgYXQgdGhlIFVBUyBtb3JlIHRoYW4gb25jZSwgZm9sbG93aW5nXG4gICAgICAgIC8vICAgIGRpZmZlcmVudCBwYXRocywgbW9zdCBsaWtlbHkgZHVlIHRvIGZvcmtpbmcuICBUaGUgVUFTIHByb2Nlc3Nlc1xuICAgICAgICAvLyAgICB0aGUgZmlyc3Qgc3VjaCByZXF1ZXN0IHJlY2VpdmVkIGFuZCByZXNwb25kcyB3aXRoIGEgNDgyIChMb29wXG4gICAgICAgIC8vICAgIERldGVjdGVkKSB0byB0aGUgcmVzdCBvZiB0aGVtLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi4yLjJcbiAgICAgICAgaWYgKCFtZXNzYWdlLnRvVGFnKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb25JZCA9IG1lc3NhZ2UudmlhQnJhbmNoO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnVzZXJBZ2VudFNlcnZlcnMuaGFzKHRyYW5zYWN0aW9uSWQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lcmdlZFJlcXVlc3QgPSBBcnJheS5mcm9tKHRoaXMudXNlckFnZW50U2VydmVycy52YWx1ZXMoKSlcbiAgICAgICAgICAgICAgICAgICAgLnNvbWUoZnVuY3Rpb24gKHVhcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdWFzLnRyYW5zYWN0aW9uLnJlcXVlc3QuZnJvbVRhZyA9PT0gbWVzc2FnZS5mcm9tVGFnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMudHJhbnNhY3Rpb24ucmVxdWVzdC5jYWxsSWQgPT09IG1lc3NhZ2UuY2FsbElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMudHJhbnNhY3Rpb24ucmVxdWVzdC5jc2VxID09PSBtZXNzYWdlLmNzZXE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG1lcmdlZFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQ4MiB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMi4zIFJlcXVpcmVcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuMi4zXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gOC4yLjMgQ29udGVudCBQcm9jZXNzaW5nXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjNcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyA4LjIuNCBBcHBseWluZyBFeHRlbnNpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjRcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyA4LjIuNSBQcm9jZXNzaW5nIHRoZSBSZXF1ZXN0XG4gICAgICAgIC8vIEFzc3VtaW5nIGFsbCBvZiB0aGUgY2hlY2tzIGluIHRoZSBwcmV2aW91cyBzdWJzZWN0aW9ucyBhcmUgcGFzc2VkLFxuICAgICAgICAvLyB0aGUgVUFTIHByb2Nlc3NpbmcgYmVjb21lcyBtZXRob2Qtc3BlY2lmaWMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjVcbiAgICAgICAgLy8gVGhlIFVBUyB3aWxsIHJlY2VpdmUgdGhlIHJlcXVlc3QgZnJvbSB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIuICBJZiB0aGVcbiAgICAgICAgLy8gcmVxdWVzdCBoYXMgYSB0YWcgaW4gdGhlIFRvIGhlYWRlciBmaWVsZCwgdGhlIFVBUyBjb3JlIGNvbXB1dGVzIHRoZVxuICAgICAgICAvLyBkaWFsb2cgaWRlbnRpZmllciBjb3JyZXNwb25kaW5nIHRvIHRoZSByZXF1ZXN0IGFuZCBjb21wYXJlcyBpdCB3aXRoXG4gICAgICAgIC8vIGV4aXN0aW5nIGRpYWxvZ3MuICBJZiB0aGVyZSBpcyBhIG1hdGNoLCB0aGlzIGlzIGEgbWlkLWRpYWxvZyByZXF1ZXN0LlxuICAgICAgICAvLyBJbiB0aGF0IGNhc2UsIHRoZSBVQVMgZmlyc3QgYXBwbGllcyB0aGUgc2FtZSBwcm9jZXNzaW5nIHJ1bGVzIGZvclxuICAgICAgICAvLyByZXF1ZXN0cyBvdXRzaWRlIG9mIGEgZGlhbG9nLCBkaXNjdXNzZWQgaW4gU2VjdGlvbiA4LjIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICAgIGlmIChtZXNzYWdlLnRvVGFnKSB7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVJbnNpZGVEaWFsb2dSZXF1ZXN0KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWNlaXZlT3V0c2lkZURpYWxvZ1JlcXVlc3QobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25jZSBhIGRpYWxvZyBoYXMgYmVlbiBlc3RhYmxpc2hlZCBiZXR3ZWVuIHR3byBVQXMsIGVpdGhlciBvZiB0aGVtXG4gICAgICogTUFZIGluaXRpYXRlIG5ldyB0cmFuc2FjdGlvbnMgYXMgbmVlZGVkIHdpdGhpbiB0aGUgZGlhbG9nLiAgVGhlIFVBXG4gICAgICogc2VuZGluZyB0aGUgcmVxdWVzdCB3aWxsIHRha2UgdGhlIFVBQyByb2xlIGZvciB0aGUgdHJhbnNhY3Rpb24uICBUaGVcbiAgICAgKiBVQSByZWNlaXZpbmcgdGhlIHJlcXVlc3Qgd2lsbCB0YWtlIHRoZSBVQVMgcm9sZS4gIE5vdGUgdGhhdCB0aGVzZSBtYXlcbiAgICAgKiBiZSBkaWZmZXJlbnQgcm9sZXMgdGhhbiB0aGUgVUFzIGhlbGQgZHVyaW5nIHRoZSB0cmFuc2FjdGlvbiB0aGF0XG4gICAgICogZXN0YWJsaXNoZWQgdGhlIGRpYWxvZy5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlSW5zaWRlRGlhbG9nUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIC8vIE5PVElGWSByZXF1ZXN0cyBhcmUgbWF0Y2hlZCB0byBzdWNoIFNVQlNDUklCRSByZXF1ZXN0cyBpZiB0aGV5XG4gICAgICAgIC8vIGNvbnRhaW4gdGhlIHNhbWUgXCJDYWxsLUlEXCIsIGEgXCJUb1wiIGhlYWRlciBmaWVsZCBcInRhZ1wiIHBhcmFtZXRlciB0aGF0XG4gICAgICAgIC8vIG1hdGNoZXMgdGhlIFwiRnJvbVwiIGhlYWRlciBmaWVsZCBcInRhZ1wiIHBhcmFtZXRlciBvZiB0aGUgU1VCU0NSSUJFXG4gICAgICAgIC8vIHJlcXVlc3QsIGFuZCB0aGUgc2FtZSBcIkV2ZW50XCIgaGVhZGVyIGZpZWxkLiAgUnVsZXMgZm9yIGNvbXBhcmlzb25zIG9mXG4gICAgICAgIC8vIHRoZSBcIkV2ZW50XCIgaGVhZGVyIGZpZWxkcyBhcmUgZGVzY3JpYmVkIGluIFNlY3Rpb24gOC4yLjEuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC40LjFcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuTk9USUZZKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRfMSA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJFdmVudFwiKTtcbiAgICAgICAgICAgIGlmICghZXZlbnRfMSB8fCAhZXZlbnRfMS5ldmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0ODkgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRklYTUU6IFN1YnNjcmliZXIgaWQgc2hvdWxkIGFsc28gbWF0Y2hpbmcgb24gZXZlbnQgaWQuXG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlcklkID0gbWVzc2FnZS5jYWxsSWQgKyBtZXNzYWdlLnRvVGFnICsgZXZlbnRfMS5ldmVudDtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gdGhpcy5zdWJzY3JpYmVycy5nZXQoc3Vic2NyaWJlcklkKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyB1c2VyX2FnZW50c18xLk5vdGlmeVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm9uTm90aWZ5KHVhcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlcXVlc3RzIHNlbnQgd2l0aGluIGEgZGlhbG9nLCBhcyBhbnkgb3RoZXIgcmVxdWVzdHMsIGFyZSBhdG9taWMuICBJZlxuICAgICAgICAvLyBhIHBhcnRpY3VsYXIgcmVxdWVzdCBpcyBhY2NlcHRlZCBieSB0aGUgVUFTLCBhbGwgdGhlIHN0YXRlIGNoYW5nZXNcbiAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0IGFyZSBwZXJmb3JtZWQuICBJZiB0aGUgcmVxdWVzdCBpcyByZWplY3RlZCwgbm9uZVxuICAgICAgICAvLyBvZiB0aGUgc3RhdGUgY2hhbmdlcyBhcmUgcGVyZm9ybWVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICBOb3RlIHRoYXQgc29tZSByZXF1ZXN0cywgc3VjaCBhcyBJTlZJVEVzLCBhZmZlY3Qgc2V2ZXJhbCBwaWVjZXMgb2ZcbiAgICAgICAgLy8gICAgc3RhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBVQVMgd2lsbCByZWNlaXZlIHRoZSByZXF1ZXN0IGZyb20gdGhlIHRyYW5zYWN0aW9uIGxheWVyLiAgSWYgdGhlXG4gICAgICAgIC8vIHJlcXVlc3QgaGFzIGEgdGFnIGluIHRoZSBUbyBoZWFkZXIgZmllbGQsIHRoZSBVQVMgY29yZSBjb21wdXRlcyB0aGVcbiAgICAgICAgLy8gZGlhbG9nIGlkZW50aWZpZXIgY29ycmVzcG9uZGluZyB0byB0aGUgcmVxdWVzdCBhbmQgY29tcGFyZXMgaXQgd2l0aFxuICAgICAgICAvLyBleGlzdGluZyBkaWFsb2dzLiAgSWYgdGhlcmUgaXMgYSBtYXRjaCwgdGhpcyBpcyBhIG1pZC1kaWFsb2cgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjJcbiAgICAgICAgdmFyIGRpYWxvZ0lkID0gbWVzc2FnZS5jYWxsSWQgKyBtZXNzYWdlLnRvVGFnICsgbWVzc2FnZS5mcm9tVGFnO1xuICAgICAgICB2YXIgZGlhbG9nID0gdGhpcy5kaWFsb2dzLmdldChkaWFsb2dJZCk7XG4gICAgICAgIGlmIChkaWFsb2cpIHtcbiAgICAgICAgICAgIC8vIFtTaXAtaW1wbGVtZW50b3JzXSBSZWcuIFNJUCByZWludml0ZSwgVVBEQVRFIGFuZCBPUFRJT05TXG4gICAgICAgICAgICAvLyBZb3UgZ290IHRoZSBxdWVzdGlvbiByaWdodC5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBbmQgeW91IGdvdCB0aGUgcmlnaHQgYW5zd2VyIHRvby4gOi0pXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICBUaGFua3MsXG4gICAgICAgICAgICAvLyAgIFBhdWxcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBSb2JlcnQgU3BhcmtzIHdyb3RlOlxuICAgICAgICAgICAgLy8gPiBTbyBJJ3ZlIGxvc3QgdHJhY2sgb2YgdGhlIHF1ZXN0aW9uIGR1cmluZyB0aGUgbXVzaW5nLlxuICAgICAgICAgICAgLy8gPlxuICAgICAgICAgICAgLy8gPiBJIF90aGlua18gdGhlIGZ1bmRhbWVudGFsIHF1ZXN0aW9uIGJlaW5nIGFza2VkIGlzIHRoaXM6XG4gICAgICAgICAgICAvLyA+XG4gICAgICAgICAgICAvLyA+IElzIGFuIGVuZHBvaW50IHJlcXVpcmVkIHRvIHJlamVjdCAod2l0aCBhIDQ4MSkgYW4gT1BUSU9OUyByZXF1ZXN0IHRoYXRcbiAgICAgICAgICAgIC8vID4gYXJyaXZlcyB3aXRoIGF0IHRvLXRhZyBidXQgZG9lcyBub3QgbWF0Y2ggYW55IGV4aXN0aW5nIGRpYWxvZyBzdGF0ZS5cbiAgICAgICAgICAgIC8vID4gKEFzc3VtaW5nIHNvbWUgZWFybGllciByZXF1aXJlbWVudCBoYXNuJ3QgZm9yY2VkIGFub3RoZXIgZXJyb3IgY29kZSkuIE9yXG4gICAgICAgICAgICAvLyA+IGlzIGl0IE9LIGlmIGl0IGp1c3Qgc2VuZHNcbiAgICAgICAgICAgIC8vID4gYSAyMDAgT0sgYW55aG93LlxuICAgICAgICAgICAgLy8gPlxuICAgICAgICAgICAgLy8gPiBNeSB0YWtlIG9uIHRoZSBjb2xsZWN0aW9uIG9mIHNwZWNzIGlzIHRoYXQgaXRzIF9ub3RfIG9rIGZvciBpdCB0byBzZW5kXG4gICAgICAgICAgICAvLyA+IHRoZSAyMDAgT0sgYW55aG93IGFuZCB0aGF0IGl0IGlzIHJlcXVpcmVkIHRvIHNlbmRcbiAgICAgICAgICAgIC8vID4gdGhlIDQ4MS4gSSBiYXNlIHRoaXMgcHJpbWFyaWx5IG9uIHRoZXNlIHNlbnRlbmNlcyBmcm9tIDExLjIgaW4gMzI2MTpcbiAgICAgICAgICAgIC8vID5cbiAgICAgICAgICAgIC8vID4gICAgVGhlIHJlc3BvbnNlIHRvIGFuIE9QVElPTlMgaXMgY29uc3RydWN0ZWQgdXNpbmcgdGhlIHN0YW5kYXJkIHJ1bGVzXG4gICAgICAgICAgICAvLyA+ICAgIGZvciBhIFNJUCByZXNwb25zZSBhcyBkaXNjdXNzZWQgaW4gU2VjdGlvbiA4LjIuNi4gIFRoZSByZXNwb25zZSBjb2RlXG4gICAgICAgICAgICAvLyA+ICAgIGNob3NlbiBNVVNUIGJlIHRoZSBzYW1lIHRoYXQgd291bGQgaGF2ZSBiZWVuIGNob3NlbiBoYWQgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIC8vID4gICAgYmVlbiBhbiBJTlZJVEUuXG4gICAgICAgICAgICAvLyA+XG4gICAgICAgICAgICAvLyA+IERpZCBJIG1pc3MgdGhlIHBvaW50IG9mIHRoZSBxdWVzdGlvbj9cbiAgICAgICAgICAgIC8vID5cbiAgICAgICAgICAgIC8vID4gT24gTWF5IDE1LCAyMDA4LCBhdCAxMjo0OCBQTSwgUGF1bCBLeXppdmF0IHdyb3RlOlxuICAgICAgICAgICAgLy8gPlxuICAgICAgICAgICAgLy8gPj4gW0luY2x1ZGluZyBSb2JlcnQgaW4gaG9wZXMgb2YgZ2V0dGluZyBoaXMgaW5zaWdodCBvbiB0aGlzLl1cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vbGlzdHMuY3MuY29sdW1iaWEuZWR1L3BpcGVybWFpbC9zaXAtaW1wbGVtZW50b3JzLzIwMDgtTWF5LzAxOTE3OC5odG1sXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gUmVxdWVzdHMgdGhhdCBkbyBub3QgY2hhbmdlIGluIGFueSB3YXkgdGhlIHN0YXRlIG9mIGEgZGlhbG9nIG1heSBiZVxuICAgICAgICAgICAgLy8gcmVjZWl2ZWQgd2l0aGluIGEgZGlhbG9nIChmb3IgZXhhbXBsZSwgYW4gT1BUSU9OUyByZXF1ZXN0KS4gIFRoZXkgYXJlXG4gICAgICAgICAgICAvLyBwcm9jZXNzZWQgYXMgaWYgdGhleSBoYWQgYmVlbiByZWNlaXZlZCBvdXRzaWRlIHRoZSBkaWFsb2cuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuT1BUSU9OUykge1xuICAgICAgICAgICAgICAgIHZhciBhbGxvd0hlYWRlciA9IFwiQWxsb3c6IFwiICsgYWxsb3dlZF9tZXRob2RzXzEuQWxsb3dlZE1ldGhvZHMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgYWNjZXB0SGVhZGVyID0gXCJBY2NlcHQ6IFwiICsgYWNjZXB0ZWRCb2R5VHlwZXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnM6IFthbGxvd0hlYWRlciwgYWNjZXB0SGVhZGVyXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBhc3MgdGhlIGluY29taW5nIHJlcXVlc3QgdG8gdGhlIGRpYWxvZyBmb3IgZnVydGhlciBoYW5kbGluZy5cbiAgICAgICAgICAgIGRpYWxvZy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgbW9zdCBpbXBvcnRhbnQgYmVoYXZpb3JzIG9mIGEgc3RhdGVsZXNzIFVBUyBhcmUgdGhlIGZvbGxvd2luZzpcbiAgICAgICAgLy8gLi4uXG4gICAgICAgIC8vIG8gIEEgc3RhdGVsZXNzIFVBUyBNVVNUIGlnbm9yZSBBQ0sgcmVxdWVzdHMuXG4gICAgICAgIC8vIC4uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi43XG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLkFDSykge1xuICAgICAgICAgICAgLy8gSWYgYSBmaW5hbCByZXNwb25zZSB0byBhbiBJTlZJVEUgd2FzIHNlbnQgc3RhdGVsZXNzbHksXG4gICAgICAgICAgICAvLyB0aGUgY29ycmVzcG9uZGluZyBBQ0s6XG4gICAgICAgICAgICAvLyAtIHdpbGwgbm90IG1hdGNoIGFuIGV4aXN0aW5nIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAvLyAtIG1heSBoYXZlIHRhZyBpbiB0aGUgVG8gaGVhZGVyIGZpZWxkXG4gICAgICAgICAgICAvLyAtIG5vdCBub3QgbWF0Y2ggYW55IGV4aXN0aW5nIGRpYWxvZ3NcbiAgICAgICAgICAgIC8vIEFic29yYiB1bm1hdGNoZWQgQUNLcy5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBoYXMgYSB0YWcgaW4gdGhlIFRvIGhlYWRlciBmaWVsZCwgYnV0IHRoZSBkaWFsb2dcbiAgICAgICAgLy8gaWRlbnRpZmllciBkb2VzIG5vdCBtYXRjaCBhbnkgZXhpc3RpbmcgZGlhbG9ncywgdGhlIFVBUyBtYXkgaGF2ZVxuICAgICAgICAvLyBjcmFzaGVkIGFuZCByZXN0YXJ0ZWQsIG9yIGl0IG1heSBoYXZlIHJlY2VpdmVkIGEgcmVxdWVzdCBmb3IgYVxuICAgICAgICAvLyBkaWZmZXJlbnQgKHBvc3NpYmx5IGZhaWxlZCkgVUFTICh0aGUgVUFTcyBjYW4gY29uc3RydWN0IHRoZSBUbyB0YWdzXG4gICAgICAgIC8vIHNvIHRoYXQgYSBVQVMgY2FuIGlkZW50aWZ5IHRoYXQgdGhlIHRhZyB3YXMgZm9yIGEgVUFTIGZvciB3aGljaCBpdCBpc1xuICAgICAgICAvLyBwcm92aWRpbmcgcmVjb3ZlcnkpLiAgQW5vdGhlciBwb3NzaWJpbGl0eSBpcyB0aGF0IHRoZSBpbmNvbWluZ1xuICAgICAgICAvLyByZXF1ZXN0IGhhcyBiZWVuIHNpbXBseSBtaXMtcm91dGVkLiAgQmFzZWQgb24gdGhlIFRvIHRhZywgdGhlIFVBUyBNQVlcbiAgICAgICAgLy8gZWl0aGVyIGFjY2VwdCBvciByZWplY3QgdGhlIHJlcXVlc3QuICBBY2NlcHRpbmcgdGhlIHJlcXVlc3QgZm9yXG4gICAgICAgIC8vIGFjY2VwdGFibGUgVG8gdGFncyBwcm92aWRlcyByb2J1c3RuZXNzLCBzbyB0aGF0IGRpYWxvZ3MgY2FuIHBlcnNpc3RcbiAgICAgICAgLy8gZXZlbiB0aHJvdWdoIGNyYXNoZXMuICBVQXMgd2lzaGluZyB0byBzdXBwb3J0IHRoaXMgY2FwYWJpbGl0eSBtdXN0XG4gICAgICAgIC8vIHRha2UgaW50byBjb25zaWRlcmF0aW9uIHNvbWUgaXNzdWVzIHN1Y2ggYXMgY2hvb3NpbmcgbW9ub3RvbmljYWxseVxuICAgICAgICAvLyBpbmNyZWFzaW5nIENTZXEgc2VxdWVuY2UgbnVtYmVycyBldmVuIGFjcm9zcyByZWJvb3RzLCByZWNvbnN0cnVjdGluZ1xuICAgICAgICAvLyB0aGUgcm91dGUgc2V0LCBhbmQgYWNjZXB0aW5nIG91dC1vZi1yYW5nZSBSVFAgdGltZXN0YW1wcyBhbmQgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVycy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlIFVBUyB3aXNoZXMgdG8gcmVqZWN0IHRoZSByZXF1ZXN0IGJlY2F1c2UgaXQgZG9lcyBub3Qgd2lzaCB0b1xuICAgICAgICAvLyByZWNyZWF0ZSB0aGUgZGlhbG9nLCBpdCBNVVNUIHJlc3BvbmQgdG8gdGhlIHJlcXVlc3Qgd2l0aCBhIDQ4MVxuICAgICAgICAvLyAoQ2FsbC9UcmFuc2FjdGlvbiBEb2VzIE5vdCBFeGlzdCkgc3RhdHVzIGNvZGUgYW5kIHBhc3MgdGhhdCB0byB0aGVcbiAgICAgICAgLy8gc2VydmVyIHRyYW5zYWN0aW9uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNDgxIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBc3N1bWluZyBhbGwgb2YgdGhlIGNoZWNrcyBpbiB0aGUgcHJldmlvdXMgc3Vic2VjdGlvbnMgYXJlIHBhc3NlZCxcbiAgICAgKiB0aGUgVUFTIHByb2Nlc3NpbmcgYmVjb21lcyBtZXRob2Qtc3BlY2lmaWMuXG4gICAgICogIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjVcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlT3V0c2lkZURpYWxvZ1JlcXVlc3QgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5BQ0s6XG4gICAgICAgICAgICAgICAgLy8gQWJzb3JiIHN0cmF5IG91dCBvZiBkaWFsb2cgQUNLc1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuQllFOlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBCWUUgZG9lcyBub3QgbWF0Y2ggYW4gZXhpc3RpbmcgZGlhbG9nLCB0aGUgVUFTIGNvcmUgU0hPVUxEXG4gICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgYSA0ODEgKENhbGwvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3QpIHJlc3BvbnNlIGFuZCBwYXNzXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0byB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLiBUaGlzIHJ1bGUgbWVhbnMgdGhhdCBhIEJZRSBzZW50XG4gICAgICAgICAgICAgICAgLy8gd2l0aG91dCB0YWdzIGJ5IGEgVUFDIHdpbGwgYmUgcmVqZWN0ZWQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNS4xLjJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNDgxIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuQ0FOQ0VMOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgb3V0IG9mIGRpYWxvZyByZXF1ZXN0IG1ldGhvZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuSU5GTzpcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgdGhlIElORk8gbWV0aG9kIGRvZXMgbm90IGNvbnN0aXR1dGUgYSBzZXBhcmF0ZSBkaWFsb2cgdXNhZ2UuXG4gICAgICAgICAgICAgICAgLy8gSU5GTyBtZXNzYWdlcyBhcmUgYWx3YXlzIHBhcnQgb2YsIGFuZCBzaGFyZSB0aGUgZmF0ZSBvZiwgYW4gaW52aXRlXG4gICAgICAgICAgICAgICAgLy8gZGlhbG9nIHVzYWdlIFtSRkM1MDU3XS4gIElORk8gbWVzc2FnZXMgY2Fubm90IGJlIHNlbnQgYXMgcGFydCBvZlxuICAgICAgICAgICAgICAgIC8vIG90aGVyIGRpYWxvZyB1c2FnZXMsIG9yIG91dHNpZGUgYW4gZXhpc3RpbmcgZGlhbG9nLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDg2I3NlY3Rpb24tMVxuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0MDUgfSk7IC8vIFNob3VsZCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLklOVklURTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjMuMVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyB1c2VyX2FnZW50c18xLkludml0ZVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbkludml0ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uSW52aXRlKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk1FU1NBR0U6XG4gICAgICAgICAgICAgICAgLy8gTUVTU0FHRSByZXF1ZXN0cyBhcmUgZGlzY291cmFnZWQgaW5zaWRlIGEgZGlhbG9nLiAgSW1wbGVtZW50YXRpb25zXG4gICAgICAgICAgICAgICAgLy8gYXJlIHJlc3RyaWN0ZWQgZnJvbSBjcmVhdGluZyBhIHVzYWdlIGZvciB0aGUgcHVycG9zZSBvZiBjYXJyeWluZyBhXG4gICAgICAgICAgICAgICAgLy8gc2VxdWVuY2Ugb2YgTUVTU0FHRSByZXF1ZXN0cyAodGhvdWdoIHNvbWUgaW1wbGVtZW50YXRpb25zIHVzZSBpdCB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd2F5LCBhZ2FpbnN0IHRoZSBzdGFuZGFyZCByZWNvbW1lbmRhdGlvbikuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzUwNTcjc2VjdGlvbi01LjNcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1YXMgPSBuZXcgdXNlcl9hZ2VudHNfMS5NZXNzYWdlVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTWVzc2FnZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTWVzc2FnZSh1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5OT1RJRlk6XG4gICAgICAgICAgICAgICAgLy8gT2Jzb2xldGVkIGJ5OiBSRkMgNjY2NVxuICAgICAgICAgICAgICAgIC8vIElmIGFueSBub24tU1VCU0NSSUJFIG1lY2hhbmlzbXMgYXJlIGRlZmluZWQgdG8gY3JlYXRlIHN1YnNjcmlwdGlvbnMsXG4gICAgICAgICAgICAgICAgLy8gaXQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBwYXJ0aWVzIGRlZmluaW5nIHRob3NlIG1lY2hhbmlzbXMgdG9cbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCBjb3JyZWxhdGlvbiBvZiBhIE5PVElGWSBtZXNzYWdlIHRvIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgICAgICAgICAgLy8gc3Vic2NyaXB0aW9uIGlzIHBvc3NpYmxlLiAgRGVzaWduZXJzIG9mIHN1Y2ggbWVjaGFuaXNtcyBhcmUgYWxzb1xuICAgICAgICAgICAgICAgIC8vIHdhcm5lZCB0byBtYWtlIGEgZGlzdGluY3Rpb24gYmV0d2VlbiBzZW5kaW5nIGEgTk9USUZZIG1lc3NhZ2UgdG8gYVxuICAgICAgICAgICAgICAgIC8vIHN1YnNjcmliZXIgd2hvIGlzIGF3YXJlIG9mIHRoZSBzdWJzY3JpcHRpb24sIGFuZCBzZW5kaW5nIGEgTk9USUZZXG4gICAgICAgICAgICAgICAgLy8gbWVzc2FnZSB0byBhbiB1bnN1c3BlY3Rpbmcgbm9kZS4gIFRoZSBsYXR0ZXIgYmVoYXZpb3IgaXMgaW52YWxpZCwgYW5kXG4gICAgICAgICAgICAgICAgLy8gTVVTVCByZWNlaXZlIGEgXCI0ODEgU3Vic2NyaXB0aW9uIGRvZXMgbm90IGV4aXN0XCIgcmVzcG9uc2UgKHVubGVzc1xuICAgICAgICAgICAgICAgIC8vIHNvbWUgb3RoZXIgNDAwLSBvciA1MDAtY2xhc3MgZXJyb3IgY29kZSBpcyBtb3JlIGFwcGxpY2FibGUpLCBhc1xuICAgICAgICAgICAgICAgIC8vIGRlc2NyaWJlZCBpbiBzZWN0aW9uIDMuMi40LiAgSW4gb3RoZXIgd29yZHMsIGtub3dsZWRnZSBvZiBhXG4gICAgICAgICAgICAgICAgLy8gc3Vic2NyaXB0aW9uIG11c3QgZXhpc3QgaW4gYm90aCB0aGUgc3Vic2NyaWJlciBhbmQgdGhlIG5vdGlmaWVyIHRvIGJlXG4gICAgICAgICAgICAgICAgLy8gdmFsaWQsIGV2ZW4gaWYgaW5zdGFsbGVkIHZpYSBhIG5vbi1TVUJTQ1JJQkUgbWVjaGFuaXNtLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjY1I3NlY3Rpb24tMy4yXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBOT1RJRlkgcmVxdWVzdHMgYXJlIHNlbnQgdG8gaW5mb3JtIHN1YnNjcmliZXJzIG9mIGNoYW5nZXMgaW4gc3RhdGUgdG9cbiAgICAgICAgICAgICAgICAvLyB3aGljaCB0aGUgc3Vic2NyaWJlciBoYXMgYSBzdWJzY3JpcHRpb24uICBTdWJzY3JpcHRpb25zIGFyZSBjcmVhdGVkXG4gICAgICAgICAgICAgICAgLy8gdXNpbmcgdGhlIFNVQlNDUklCRSBtZXRob2QuICBJbiBsZWdhY3kgaW1wbGVtZW50YXRpb25zLCBpdCBpc1xuICAgICAgICAgICAgICAgIC8vIHBvc3NpYmxlIHRoYXQgb3RoZXIgbWVhbnMgb2Ygc3Vic2NyaXB0aW9uIGNyZWF0aW9uIGhhdmUgYmVlbiB1c2VkLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHRoaXMgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCBhbGxvdyB0aGUgY3JlYXRpb24gb2ZcbiAgICAgICAgICAgICAgICAvLyBzdWJzY3JpcHRpb25zIGV4Y2VwdCB0aHJvdWdoIFNVQlNDUklCRSByZXF1ZXN0cyBhbmQgKGZvciBiYWNrd2FyZHMtXG4gICAgICAgICAgICAgICAgLy8gY29tcGF0aWJpbGl0eSkgUkVGRVIgcmVxdWVzdHMgW1JGQzM1MTVdLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tMy4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHVzZXJfYWdlbnRzXzEuTm90aWZ5VXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDA1IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk9QVElPTlM6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMS4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2NlcHRIZWFkZXIgPSBcIkFjY2VwdDogXCIgKyBhY2NlcHRlZEJvZHlUeXBlcy50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVyczogW2FsbG93SGVhZGVyLCBhY2NlcHRIZWFkZXJdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLlJFRkVSOlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNTE1I3NlY3Rpb24tMi40LjJcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1YXMgPSBuZXcgdXNlcl9hZ2VudHNfMS5SZWZlclVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlZmVyID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWZlcih1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5yZWplY3QoeyBzdGF0dXNDb2RlOiA0MDUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuUkVHSVNURVI6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMC4zXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHVzZXJfYWdlbnRzXzEuUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIodGhpcywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWdpc3RlciA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVnaXN0ZXIodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDA1IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLlNVQlNDUklCRTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyB1c2VyX2FnZW50c18xLlN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblN1YnNjcmliZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uU3Vic2NyaWJlKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4MCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgb3V0IG9mIGRpYWxvZyByZXF1ZXN0IG1ldGhvZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc3BvbnNlcyBhcmUgZmlyc3QgcHJvY2Vzc2VkIGJ5IHRoZSB0cmFuc3BvcnQgbGF5ZXIgYW5kIHRoZW4gcGFzc2VkXG4gICAgICogdXAgdG8gdGhlIHRyYW5zYWN0aW9uIGxheWVyLiAgVGhlIHRyYW5zYWN0aW9uIGxheWVyIHBlcmZvcm1zIGl0c1xuICAgICAqIHByb2Nlc3NpbmcgYW5kIHRoZW4gcGFzc2VzIHRoZSByZXNwb25zZSB1cCB0byB0aGUgVFUuICBUaGUgbWFqb3JpdHlcbiAgICAgKiBvZiByZXNwb25zZSBwcm9jZXNzaW5nIGluIHRoZSBUVSBpcyBtZXRob2Qgc3BlY2lmaWMuICBIb3dldmVyLCB0aGVyZVxuICAgICAqIGFyZSBzb21lIGdlbmVyYWwgYmVoYXZpb3JzIGluZGVwZW5kZW50IG9mIHRoZSBtZXRob2QuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuM1xuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gSW5jb21pbmcgcmVzcG9uc2UgbWVzc2FnZSBmcm9tIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2VGcm9tVHJhbnNwb3J0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gOC4xLjMuMSBUcmFuc2FjdGlvbiBMYXllciBFcnJvcnNcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMy4xXG4gICAgICAgIC8vIEhhbmRsZWQgYnkgdHJhbnNhY3Rpb24gbGF5ZXIgY2FsbGJhY2tzLlxuICAgICAgICAvLyA4LjEuMy4yIFVucmVjb2duaXplZCBSZXNwb25zZXNcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMy4xXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gOC4xLjMuMyBWaWFzXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuM1xuICAgICAgICBpZiAobWVzc2FnZS5nZXRIZWFkZXJzKFwidmlhXCIpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJNb3JlIHRoYW4gb25lIFZpYSBoZWFkZXIgZmllbGQgcHJlc2VudCBpbiB0aGUgcmVzcG9uc2UsIGRyb3BwaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIDguMS4zLjQgUHJvY2Vzc2luZyAzeHggUmVzcG9uc2VzXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuNFxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIDguMS4zLjUgUHJvY2Vzc2luZyA0eHggUmVzcG9uc2VzXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuNVxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIFdoZW4gdGhlIHRyYW5zcG9ydCBsYXllciBpbiB0aGUgY2xpZW50IHJlY2VpdmVzIGEgcmVzcG9uc2UsIGl0IGhhcyB0b1xuICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggY2xpZW50IHRyYW5zYWN0aW9uIHdpbGwgaGFuZGxlIHRoZSByZXNwb25zZSwgc28gdGhhdFxuICAgICAgICAvLyB0aGUgcHJvY2Vzc2luZyBvZiBTZWN0aW9ucyAxNy4xLjEgYW5kIDE3LjEuMiBjYW4gdGFrZSBwbGFjZS4gIFRoZVxuICAgICAgICAvLyBicmFuY2ggcGFyYW1ldGVyIGluIHRoZSB0b3AgVmlhIGhlYWRlciBmaWVsZCBpcyB1c2VkIGZvciB0aGlzXG4gICAgICAgIC8vIHB1cnBvc2UuICBBIHJlc3BvbnNlIG1hdGNoZXMgYSBjbGllbnQgdHJhbnNhY3Rpb24gdW5kZXIgdHdvXG4gICAgICAgIC8vIGNvbmRpdGlvbnM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDEuICBJZiB0aGUgcmVzcG9uc2UgaGFzIHRoZSBzYW1lIHZhbHVlIG9mIHRoZSBicmFuY2ggcGFyYW1ldGVyIGluXG4gICAgICAgIC8vICAgICAgICB0aGUgdG9wIFZpYSBoZWFkZXIgZmllbGQgYXMgdGhlIGJyYW5jaCBwYXJhbWV0ZXIgaW4gdGhlIHRvcFxuICAgICAgICAvLyAgICAgICAgVmlhIGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdCB0aGF0IGNyZWF0ZWQgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAyLiAgSWYgdGhlIG1ldGhvZCBwYXJhbWV0ZXIgaW4gdGhlIENTZXEgaGVhZGVyIGZpZWxkIG1hdGNoZXMgdGhlXG4gICAgICAgIC8vICAgICAgICBtZXRob2Qgb2YgdGhlIHJlcXVlc3QgdGhhdCBjcmVhdGVkIHRoZSB0cmFuc2FjdGlvbi4gIFRoZVxuICAgICAgICAvLyAgICAgICAgbWV0aG9kIGlzIG5lZWRlZCBzaW5jZSBhIENBTkNFTCByZXF1ZXN0IGNvbnN0aXR1dGVzIGFcbiAgICAgICAgLy8gICAgICAgIGRpZmZlcmVudCB0cmFuc2FjdGlvbiwgYnV0IHNoYXJlcyB0aGUgc2FtZSB2YWx1ZSBvZiB0aGUgYnJhbmNoXG4gICAgICAgIC8vICAgICAgICBwYXJhbWV0ZXIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4zXG4gICAgICAgIHZhciB1c2VyQWdlbnRDbGllbnRJZCA9IG1lc3NhZ2UudmlhQnJhbmNoICsgbWVzc2FnZS5tZXRob2Q7XG4gICAgICAgIHZhciB1c2VyQWdlbnRDbGllbnQgPSB0aGlzLnVzZXJBZ2VudENsaWVudHMuZ2V0KHVzZXJBZ2VudENsaWVudElkKTtcbiAgICAgICAgLy8gVGhlIGNsaWVudCB0cmFuc3BvcnQgdXNlcyB0aGUgbWF0Y2hpbmcgcHJvY2VkdXJlcyBvZiBTZWN0aW9uXG4gICAgICAgIC8vIDE3LjEuMyB0byBhdHRlbXB0IHRvIG1hdGNoIHRoZSByZXNwb25zZSB0byBhbiBleGlzdGluZ1xuICAgICAgICAvLyB0cmFuc2FjdGlvbi4gIElmIHRoZXJlIGlzIGEgbWF0Y2gsIHRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0b1xuICAgICAgICAvLyB0aGF0IHRyYW5zYWN0aW9uLiAgT3RoZXJ3aXNlLCBhbnkgZWxlbWVudCBvdGhlciB0aGFuIGEgc3RhdGVsZXNzXG4gICAgICAgIC8vIHByb3h5IE1VU1Qgc2lsZW50bHkgZGlzY2FyZCB0aGUgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC45XG4gICAgICAgIGlmICh1c2VyQWdlbnRDbGllbnQpIHtcbiAgICAgICAgICAgIHVzZXJBZ2VudENsaWVudC50cmFuc2FjdGlvbi5yZWNlaXZlUmVzcG9uc2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiRGlzY2FyZGluZyB1bm1hdGNoZWQgXCIgKyBtZXNzYWdlLnN0YXR1c0NvZGUgKyBcIiByZXNwb25zZSB0byBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgXCIgKyB1c2VyQWdlbnRDbGllbnRJZCArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFVzZXJBZ2VudENvcmU7XG59KCkpO1xuZXhwb3J0cy5Vc2VyQWdlbnRDb3JlID0gVXNlckFnZW50Q29yZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogQ0FOQ0VMIFVBQy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIENhbmNlbFVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDYW5jZWxVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FuY2VsVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBDYW5jZWxVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLkNhbmNlbFVzZXJBZ2VudENsaWVudCA9IENhbmNlbFVzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZGlhbG9nc18xID0gcmVxdWlyZShcIi4uL2RpYWxvZ3NcIik7XG52YXIgc2Vzc2lvbl8xID0gcmVxdWlyZShcIi4uL3Nlc3Npb25cIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogSU5WSVRFIFVBQy5cbiAqIEByZW1hcmtzXG4gKiAxMyBJbml0aWF0aW5nIGEgU2Vzc2lvblxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xM1xuICogMTMuMSBPdmVydmlld1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4xXG4gKiAxMy4yIFVBQyBQcm9jZXNzaW5nXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjJcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEludml0ZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW52aXRlVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29uZmlybWVkRGlhbG9nQWNrcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgX3RoaXMuY29uZmlybWVkRGlhbG9ncyA9IG5ldyBNYXAoKTtcbiAgICAgICAgX3RoaXMuZWFybHlEaWFsb2dzID0gbmV3IE1hcCgpO1xuICAgICAgICBfdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEludml0ZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhlIFVBQyBjb3JlIGNvbnNpZGVycyB0aGUgSU5WSVRFIHRyYW5zYWN0aW9uIGNvbXBsZXRlZCA2NCpUMSBzZWNvbmRzXG4gICAgICAgIC8vIGFmdGVyIHRoZSByZWNlcHRpb24gb2YgdGhlIGZpcnN0IDJ4eCByZXNwb25zZS4gIEF0IHRoaXMgcG9pbnQgYWxsIHRoZVxuICAgICAgICAvLyBlYXJseSBkaWFsb2dzIHRoYXQgaGF2ZSBub3QgdHJhbnNpdGlvbmVkIHRvIGVzdGFibGlzaGVkIGRpYWxvZ3MgYXJlXG4gICAgICAgIC8vIHRlcm1pbmF0ZWQuICBPbmNlIHRoZSBJTlZJVEUgdHJhbnNhY3Rpb24gaXMgY29uc2lkZXJlZCBjb21wbGV0ZWQgYnlcbiAgICAgICAgLy8gdGhlIFVBQyBjb3JlLCBubyBtb3JlIG5ldyAyeHggcmVzcG9uc2VzIGFyZSBleHBlY3RlZCB0byBhcnJpdmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmLCBhZnRlciBhY2tub3dsZWRnaW5nIGFueSAyeHggcmVzcG9uc2UgdG8gYW4gSU5WSVRFLCB0aGUgVUFDIGRvZXNcbiAgICAgICAgLy8gbm90IHdhbnQgdG8gY29udGludWUgd2l0aCB0aGF0IGRpYWxvZywgdGhlbiB0aGUgVUFDIE1VU1QgdGVybWluYXRlXG4gICAgICAgIC8vIHRoZSBkaWFsb2cgYnkgc2VuZGluZyBhIEJZRSByZXF1ZXN0IGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDE1LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMi40XG4gICAgICAgIHRoaXMuZWFybHlEaWFsb2dzLmZvckVhY2goZnVuY3Rpb24gKGVhcmx5RGlhbG9nKSB7IHJldHVybiBlYXJseURpYWxvZy5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5jbGVhcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNwZWNpYWwgY2FzZSBmb3IgdHJhbnNwb3J0IGVycm9yIHdoaWxlIHNlbmRpbmcgQUNLLlxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRyYW5zcG9ydCBlcnJvclxuICAgICAqL1xuICAgIEludml0ZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5DYWxsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vdCBpbiAnY2FsbGluZycgc3RhdGUsIHRoZSB0cmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2VuZGluZyBhbiBBQ0suXG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlVzZXIgYWdlbnQgY2xpZW50IHJlcXVlc3QgdHJhbnNwb3J0IGVycm9yIHdoaWxlIHNlbmRpbmcgQUNLLlwiKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9uY2UgdGhlIElOVklURSBoYXMgYmVlbiBwYXNzZWQgdG8gdGhlIElOVklURSBjbGllbnQgdHJhbnNhY3Rpb24sIHRoZVxuICAgICAqIFVBQyB3YWl0cyBmb3IgcmVzcG9uc2VzIGZvciB0aGUgSU5WSVRFLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yXG4gICAgICogQHBhcmFtIGluY29taW5nUmVzcG9uc2UgLSBJbmNvbWluZyByZXNwb25zZSB0byBJTlZJVEUgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBJbnZpdGVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5hdXRoZW50aWNhdGlvbkd1YXJkKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBtZXNzYWdlLnN0YXR1c0NvZGUgPyBtZXNzYWdlLnN0YXR1c0NvZGUudG9TdHJpbmcoKSA6IFwiXCI7XG4gICAgICAgIGlmICghc3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2Ugc3RhdHVzIGNvZGUgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xMDAkLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblRyeWluZyh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIFplcm8sIG9uZSBvciBtdWx0aXBsZSBwcm92aXNpb25hbCByZXNwb25zZXMgbWF5IGFycml2ZSBiZWZvcmUgb25lIG9yXG4gICAgICAgICAgICAgICAgLy8gbW9yZSBmaW5hbCByZXNwb25zZXMgYXJlIHJlY2VpdmVkLiAgUHJvdmlzaW9uYWwgcmVzcG9uc2VzIGZvciBhblxuICAgICAgICAgICAgICAgIC8vIElOVklURSByZXF1ZXN0IGNhbiBjcmVhdGUgXCJlYXJseSBkaWFsb2dzXCIuICBJZiBhIHByb3Zpc2lvbmFsIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gaGFzIGEgdGFnIGluIHRoZSBUbyBmaWVsZCwgYW5kIGlmIHRoZSBkaWFsb2cgSUQgb2YgdGhlIHJlc3BvbnNlIGRvZXNcbiAgICAgICAgICAgICAgICAvLyBub3QgbWF0Y2ggYW4gZXhpc3RpbmcgZGlhbG9nLCBvbmUgaXMgY29uc3RydWN0ZWQgdXNpbmcgdGhlIHByb2NlZHVyZXNcbiAgICAgICAgICAgICAgICAvLyBkZWZpbmVkIGluIFNlY3Rpb24gMTIuMS4yLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVhcmx5IGRpYWxvZyB3aWxsIG9ubHkgYmUgbmVlZGVkIGlmIHRoZSBVQUMgbmVlZHMgdG8gc2VuZCBhXG4gICAgICAgICAgICAgICAgLy8gcmVxdWVzdCB0byBpdHMgcGVlciB3aXRoaW4gdGhlIGRpYWxvZyBiZWZvcmUgdGhlIGluaXRpYWwgSU5WSVRFXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gY29tcGxldGVzLiAgSGVhZGVyIGZpZWxkcyBwcmVzZW50IGluIGEgcHJvdmlzaW9uYWxcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZSBhcmUgYXBwbGljYWJsZSBhcyBsb25nIGFzIHRoZSBkaWFsb2cgaXMgaW4gdGhlIGVhcmx5IHN0YXRlXG4gICAgICAgICAgICAgICAgLy8gKGZvciBleGFtcGxlLCBhbiBBbGxvdyBoZWFkZXIgZmllbGQgaW4gYSBwcm92aXNpb25hbCByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5zIHRoZSBtZXRob2RzIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIGRpYWxvZyB3aGlsZSB0aGlzIGlzIGluXG4gICAgICAgICAgICAgICAgLy8gdGhlIGVhcmx5IHN0YXRlKS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMi4xXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm92aXNpb25hbCB3aXRob3V0IHRvIHRhZywgbm8gZGlhbG9nIHRvIGNyZWF0ZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtZXNzYWdlLnRvVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm9uLTEwMCAxeHggSU5WSVRFIHJlc3BvbnNlIHJlY2VpdmVkIHdpdGhvdXQgYSB0byB0YWcsIGRyb3BwaW5nLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIGRpYWxvZyBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZ1N0YXRlID0gZGlhbG9nc18xLkRpYWxvZy5pbml0aWFsRGlhbG9nU3RhdGVGb3JVc2VyQWdlbnRDbGllbnQodGhpcy5tZXNzYWdlLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGF2ZSBleGlzdGluZyBlYXJseSBkaWFsb2cgb3IgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVhcmx5RGlhbG9nID0gdGhpcy5lYXJseURpYWxvZ3MuZ2V0KGRpYWxvZ1N0YXRlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlYXJseURpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gdGhpcy50cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gbm90IGluc3RhbmNlIG9mIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVhcmx5RGlhbG9nID0gbmV3IGRpYWxvZ3NfMS5TZXNzaW9uRGlhbG9nKHRyYW5zYWN0aW9uLCB0aGlzLmNvcmUsIGRpYWxvZ1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2dzLnNldChlYXJseURpYWxvZy5pZCwgZWFybHlEaWFsb2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3Qgb3V0IG9mIG9yZGVyIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgd2hlcmUgdGhlIHJzZXEgdHJhY2tpbmcgaXMgZG9uZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlYXJseURpYWxvZy5yZWxpYWJsZVNlcXVlbmNlR3VhcmQobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCIxeHggSU5WSVRFIHJlbGlhYmxlIHJlc3BvbnNlIHJlY2VpdmVkIG91dCBvZiBvcmRlciwgZHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsIG9mZmVyIGlzIGluIGFuIElOVklURSwgdGhlIGFuc3dlciBNVVNUIGJlIGluIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVsaWFibGUgbm9uLWZhaWx1cmUgbWVzc2FnZSBmcm9tIFVBUyBiYWNrIHRvIFVBQyB3aGljaCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZWxhdGVkIHRvIHRoYXQgSU5WSVRFLiAgRm9yIHRoaXMgc3BlY2lmaWNhdGlvbiwgdGhhdCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHRoZSBmaW5hbCAyeHggcmVzcG9uc2UgdG8gdGhhdCBJTlZJVEUuICBUaGF0IHNhbWUgZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5zd2VyIE1BWSBhbHNvIGJlIHBsYWNlZCBpbiBhbnkgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHNlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJpb3IgdG8gdGhlIGFuc3dlci4gIFRoZSBVQUMgTVVTVCB0cmVhdCB0aGUgZmlyc3Qgc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICAvLyBkZXNjcmlwdGlvbiBpdCByZWNlaXZlcyBhcyB0aGUgYW5zd2VyLCBhbmQgTVVTVCBpZ25vcmUgYW55XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlc3Npb24gZGVzY3JpcHRpb25zIGluIHN1YnNlcXVlbnQgcmVzcG9uc2VzIHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAgICAgICAgIC8vIElOVklURS5cbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhcmx5RGlhbG9nLnNpZ25hbGluZ1N0YXRlID09PSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlEaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlEaWFsb2cuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgcmVzcG9uc2UgdG8gZGVsZWdhdGUuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uXzIgPSBlYXJseURpYWxvZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUHJvZ3Jlc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbl8yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByYWNrOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Z29pbmdQcmFja1JlcXVlc3QgPSBzZXNzaW9uXzIucHJhY2sodW5kZWZpbmVkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGdvaW5nUHJhY2tSZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIDJ4eCByZXNwb25zZXMgbWF5IGFycml2ZSBhdCB0aGUgVUFDIGZvciBhIHNpbmdsZSBJTlZJVEVcbiAgICAgICAgICAgICAgICAvLyByZXF1ZXN0IGR1ZSB0byBhIGZvcmtpbmcgcHJveHkuICBFYWNoIHJlc3BvbnNlIGlzIGRpc3Rpbmd1aXNoZWQgYnlcbiAgICAgICAgICAgICAgICAvLyB0aGUgdGFnIHBhcmFtZXRlciBpbiB0aGUgVG8gaGVhZGVyIGZpZWxkLCBhbmQgZWFjaCByZXByZXNlbnRzIGFcbiAgICAgICAgICAgICAgICAvLyBkaXN0aW5jdCBkaWFsb2csIHdpdGggYSBkaXN0aW5jdCBkaWFsb2cgaWRlbnRpZmllci5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBkaWFsb2cgaWRlbnRpZmllciBpbiB0aGUgMnh4IHJlc3BvbnNlIG1hdGNoZXMgdGhlIGRpYWxvZ1xuICAgICAgICAgICAgICAgIC8vIGlkZW50aWZpZXIgb2YgYW4gZXhpc3RpbmcgZGlhbG9nLCB0aGUgZGlhbG9nIE1VU1QgYmUgdHJhbnNpdGlvbmVkIHRvXG4gICAgICAgICAgICAgICAgLy8gdGhlIFwiY29uZmlybWVkXCIgc3RhdGUsIGFuZCB0aGUgcm91dGUgc2V0IGZvciB0aGUgZGlhbG9nIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAvLyByZWNvbXB1dGVkIGJhc2VkIG9uIHRoZSAyeHggcmVzcG9uc2UgdXNpbmcgdGhlIHByb2NlZHVyZXMgb2YgU2VjdGlvblxuICAgICAgICAgICAgICAgIC8vIDEyLjIuMS4yLiAgT3RoZXJ3aXNlLCBhIG5ldyBkaWFsb2cgaW4gdGhlIFwiY29uZmlybWVkXCIgc3RhdGUgTVVTVCBiZVxuICAgICAgICAgICAgICAgIC8vIGNvbnN0cnVjdGVkIHVzaW5nIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gMTIuMS4yLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgZGlhbG9nIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbG9nU3RhdGUgPSBkaWFsb2dzXzEuRGlhbG9nLmluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudENsaWVudCh0aGlzLm1lc3NhZ2UsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBDdXJyZW50bHkgb3VyIHRyYW5zYWN0aW9uIGxheWVyIGlzIGNhY2hpbmcgdGhlIDJ4eCBBQ0tzIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZyByZXRyYW5zbWlzc2lvbnMgb2YgdGhlIEFDSyB3aGljaCBpcyBhbiBhcHByb2FjaCB3aGljaCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBub3QgdG8gc3BlYy4gSW4gYW55IGV2ZW50LCB0aGlzIGJsb2NrIGlzIGludGVuZGVkIHRvIHByb3ZpZGUgYSB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjIGltcGxlbWVudGF0aW9uIG9mIEFDSyByZXRyYW5zbWlzc2lvbnMsIGJ1dCBpdCBzaG91bGQgbm90IGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpdCBjdXJyZW50bHkuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGlzLmNvbmZpcm1lZERpYWxvZ3MuZ2V0KGRpYWxvZ1N0YXRlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25jZSB0aGUgQUNLIGhhcyBiZWVuIGNvbnN0cnVjdGVkLCB0aGUgcHJvY2VkdXJlcyBvZiBbNF0gYXJlIHVzZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSB0aGUgZGVzdGluYXRpb24gYWRkcmVzcywgcG9ydCBhbmQgdHJhbnNwb3J0LiAgSG93ZXZlciwgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXF1ZXN0IGlzIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGRpcmVjdGx5IGZvciB0cmFuc21pc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByYXRoZXIgdGhhbiBhIGNsaWVudCB0cmFuc2FjdGlvbi4gIFRoaXMgaXMgYmVjYXVzZSB0aGUgVUFDIGNvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZXMgcmV0cmFuc21pc3Npb25zIG9mIHRoZSBBQ0ssIG5vdCB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIuICBUaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFDSyBNVVNUIGJlIHBhc3NlZCB0byB0aGUgY2xpZW50IHRyYW5zcG9ydCBldmVyeSB0aW1lIGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHJhbnNtaXNzaW9uIG9mIHRoZSAyeHggZmluYWwgcmVzcG9uc2UgdGhhdCB0cmlnZ2VyZWQgdGhlIEFDS1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJyaXZlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRnb2luZ0Fja1JlcXVlc3QgPSB0aGlzLmNvbmZpcm1lZERpYWxvZ0Fja3MuZ2V0KGRpYWxvZ1N0YXRlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRnb2luZ0Fja1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSB0aGlzLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNsaWVudCB0cmFuc2FjdGlvbiBub3QgaW5zdGFuY2Ugb2YgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5hY2tSZXNwb25zZShvdXRnb2luZ0Fja1JlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzdGlsbCB3YWl0aW5nIGZvciBhbiBBQ0ssIGRyb3AgdGhlIHJldHJhbnNtaXNzaW9uIG9mIHRoZSAyeHggZmluYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRpYWxvZyBpZGVudGlmaWVyIGluIHRoZSAyeHggcmVzcG9uc2UgbWF0Y2hlcyB0aGUgZGlhbG9nXG4gICAgICAgICAgICAgICAgICAgIC8vIGlkZW50aWZpZXIgb2YgYW4gZXhpc3RpbmcgZGlhbG9nLCB0aGUgZGlhbG9nIE1VU1QgYmUgdHJhbnNpdGlvbmVkIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBcImNvbmZpcm1lZFwiIHN0YXRlLCBhbmQgdGhlIHJvdXRlIHNldCBmb3IgdGhlIGRpYWxvZyBNVVNUIGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY29tcHV0ZWQgYmFzZWQgb24gdGhlIDJ4eCByZXNwb25zZSB1c2luZyB0aGUgcHJvY2VkdXJlcyBvZiBTZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIDEyLjIuMS4yLiBPdGhlcndpc2UsIGEgbmV3IGRpYWxvZyBpbiB0aGUgXCJjb25maXJtZWRcIiBzdGF0ZSBNVVNUIGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0cnVjdGVkIHVzaW5nIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gMTIuMS4yLlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMi40XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZyA9IHRoaXMuZWFybHlEaWFsb2dzLmdldChkaWFsb2dTdGF0ZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWFsb2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jb25maXJtKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cucmVjb21wdXRlUm91dGVTZXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5kZWxldGUoZGlhbG9nLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybWVkRGlhbG9ncy5zZXQoZGlhbG9nLmlkLCBkaWFsb2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gdGhpcy50cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gbm90IGluc3RhbmNlIG9mIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZyA9IG5ldyBkaWFsb2dzXzEuU2Vzc2lvbkRpYWxvZyh0cmFuc2FjdGlvbiwgdGhpcy5jb3JlLCBkaWFsb2dTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1lZERpYWxvZ3Muc2V0KGRpYWxvZy5pZCwgZGlhbG9nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbCBvZmZlciBpcyBpbiBhbiBJTlZJVEUsIHRoZSBhbnN3ZXIgTVVTVCBiZSBpbiBhXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSBVQVMgYmFjayB0byBVQUMgd2hpY2ggaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVsYXRlZCB0byB0aGF0IElOVklURS4gIEZvciB0aGlzIHNwZWNpZmljYXRpb24sIHRoYXQgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSB0aGUgZmluYWwgMnh4IHJlc3BvbnNlIHRvIHRoYXQgSU5WSVRFLiAgVGhhdCBzYW1lIGV4YWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuc3dlciBNQVkgYWxzbyBiZSBwbGFjZWQgaW4gYW55IHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBzZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHByaW9yIHRvIHRoZSBhbnN3ZXIuICBUaGUgVUFDIE1VU1QgdHJlYXQgdGhlIGZpcnN0IHNlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVzY3JpcHRpb24gaXQgcmVjZWl2ZXMgYXMgdGhlIGFuc3dlciwgYW5kIE1VU1QgaWdub3JlIGFueVxuICAgICAgICAgICAgICAgICAgICAvLyBzZXNzaW9uIGRlc2NyaXB0aW9ucyBpbiBzdWJzZXF1ZW50IHJlc3BvbnNlcyB0byB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgICAgICAgICAvLyBJTlZJVEUuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZXNzaW9uIEluaXRpYXRlZCEgOilcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlc3Npb25fMyA9IGRpYWxvZztcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFVBQyBjb3JlIE1VU1QgZ2VuZXJhdGUgYW4gQUNLIHJlcXVlc3QgZm9yIGVhY2ggMnh4IHJlY2VpdmVkIGZyb21cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHRyYW5zYWN0aW9uIGxheWVyLiAgVGhlIGhlYWRlciBmaWVsZHMgb2YgdGhlIEFDSyBhcmUgY29uc3RydWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIHNhbWUgd2F5IGFzIGZvciBhbnkgcmVxdWVzdCBzZW50IHdpdGhpbiBhIGRpYWxvZyAoc2VlIFNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gMTIpIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgQ1NlcSBhbmQgdGhlIGhlYWRlciBmaWVsZHMgcmVsYXRlZCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbi4gIFRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhlIENTZXEgaGVhZGVyIGZpZWxkIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHNhbWUgYXMgdGhlIElOVklURSBiZWluZyBhY2tub3dsZWRnZWQsIGJ1dCB0aGUgQ1NlcSBtZXRob2QgTVVTVFxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBBQ0suICBUaGUgQUNLIE1VU1QgY29udGFpbiB0aGUgc2FtZSBjcmVkZW50aWFscyBhcyB0aGUgSU5WSVRFLiAgSWZcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIDJ4eCBjb250YWlucyBhbiBvZmZlciAoYmFzZWQgb24gdGhlIHJ1bGVzIGFib3ZlKSwgdGhlIEFDSyBNVVNUXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhcnJ5IGFuIGFuc3dlciBpbiBpdHMgYm9keS4gIElmIHRoZSBvZmZlciBpbiB0aGUgMnh4IHJlc3BvbnNlIGlzIG5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBhY2NlcHRhYmxlLCB0aGUgVUFDIGNvcmUgTVVTVCBnZW5lcmF0ZSBhIHZhbGlkIGFuc3dlciBpbiB0aGUgQUNLIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHNlbmQgYSBCWUUgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiBzZXNzaW9uXzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNrOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Z29pbmdBY2tSZXF1ZXN0ID0gc2Vzc2lvbl8zLmFjayhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29uZmlybWVkRGlhbG9nQWNrcy5zZXQoc2Vzc2lvbl8zLmlkLCBvdXRnb2luZ0Fja1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0Z29pbmdBY2tSZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dGdvaW5nQWNrUmVxdWVzdCA9IHNlc3Npb25fMy5hY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybWVkRGlhbG9nQWNrcy5zZXQoc2Vzc2lvbl8zLmlkLCBvdXRnb2luZ0Fja1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgL14zWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIDEyLjMgVGVybWluYXRpb24gb2YgYSBEaWFsb2dcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIEluZGVwZW5kZW50IG9mIHRoZSBtZXRob2QsIGlmIGEgcmVxdWVzdCBvdXRzaWRlIG9mIGEgZGlhbG9nIGdlbmVyYXRlc1xuICAgICAgICAgICAgICAgIC8vIGEgbm9uLTJ4eCBmaW5hbCByZXNwb25zZSwgYW55IGVhcmx5IGRpYWxvZ3MgY3JlYXRlZCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHRvIHRoYXQgcmVxdWVzdCBhcmUgdGVybWluYXRlZC4gIFRoZSBtZWNoYW5pc21cbiAgICAgICAgICAgICAgICAvLyBmb3IgdGVybWluYXRpbmcgY29uZmlybWVkIGRpYWxvZ3MgaXMgbWV0aG9kIHNwZWNpZmljLiAgSW4gdGhpc1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24sIHRoZSBCWUUgbWV0aG9kIHRlcm1pbmF0ZXMgYSBzZXNzaW9uIGFuZCB0aGUgZGlhbG9nXG4gICAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0LiAgU2VlIFNlY3Rpb24gMTUgZm9yIGRldGFpbHMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4zXG4gICAgICAgICAgICAgICAgLy8gQWxsIGVhcmx5IGRpYWxvZ3MgYXJlIGNvbnNpZGVyZWQgdGVybWluYXRlZCB1cG9uIHJlY2VwdGlvbiBvZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBub24tMnh4IGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gQWZ0ZXIgaGF2aW5nIHJlY2VpdmVkIHRoZSBub24tMnh4IGZpbmFsIHJlc3BvbnNlIHRoZSBVQUMgY29yZVxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVycyB0aGUgSU5WSVRFIHRyYW5zYWN0aW9uIGNvbXBsZXRlZC4gIFRoZSBJTlZJVEUgY2xpZW50XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gaGFuZGxlcyB0aGUgZ2VuZXJhdGlvbiBvZiBBQ0tzIGZvciB0aGUgcmVzcG9uc2UgKHNlZVxuICAgICAgICAgICAgICAgIC8vIFNlY3Rpb24gMTcpLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjNcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5mb3JFYWNoKGZ1bmN0aW9uIChlYXJseURpYWxvZykgeyByZXR1cm4gZWFybHlEaWFsb2cuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIC8vIEEgM3h4IHJlc3BvbnNlIG1heSBjb250YWluIG9uZSBvciBtb3JlIENvbnRhY3QgaGVhZGVyIGZpZWxkIHZhbHVlc1xuICAgICAgICAgICAgICAgIC8vIHByb3ZpZGluZyBuZXcgYWRkcmVzc2VzIHdoZXJlIHRoZSBjYWxsZWUgbWlnaHQgYmUgcmVhY2hhYmxlLlxuICAgICAgICAgICAgICAgIC8vIERlcGVuZGluZyBvbiB0aGUgc3RhdHVzIGNvZGUgb2YgdGhlIDN4eCByZXNwb25zZSAoc2VlIFNlY3Rpb24gMjEuMyksXG4gICAgICAgICAgICAgICAgLy8gdGhlIFVBQyBNQVkgY2hvb3NlIHRvIHRyeSB0aG9zZSBuZXcgYWRkcmVzc2VzLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlZGlyZWN0KHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAvXls0LTZdWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIDEyLjMgVGVybWluYXRpb24gb2YgYSBEaWFsb2dcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIEluZGVwZW5kZW50IG9mIHRoZSBtZXRob2QsIGlmIGEgcmVxdWVzdCBvdXRzaWRlIG9mIGEgZGlhbG9nIGdlbmVyYXRlc1xuICAgICAgICAgICAgICAgIC8vIGEgbm9uLTJ4eCBmaW5hbCByZXNwb25zZSwgYW55IGVhcmx5IGRpYWxvZ3MgY3JlYXRlZCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHRvIHRoYXQgcmVxdWVzdCBhcmUgdGVybWluYXRlZC4gIFRoZSBtZWNoYW5pc21cbiAgICAgICAgICAgICAgICAvLyBmb3IgdGVybWluYXRpbmcgY29uZmlybWVkIGRpYWxvZ3MgaXMgbWV0aG9kIHNwZWNpZmljLiAgSW4gdGhpc1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24sIHRoZSBCWUUgbWV0aG9kIHRlcm1pbmF0ZXMgYSBzZXNzaW9uIGFuZCB0aGUgZGlhbG9nXG4gICAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0LiAgU2VlIFNlY3Rpb24gMTUgZm9yIGRldGFpbHMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4zXG4gICAgICAgICAgICAgICAgLy8gQWxsIGVhcmx5IGRpYWxvZ3MgYXJlIGNvbnNpZGVyZWQgdGVybWluYXRlZCB1cG9uIHJlY2VwdGlvbiBvZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBub24tMnh4IGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gQWZ0ZXIgaGF2aW5nIHJlY2VpdmVkIHRoZSBub24tMnh4IGZpbmFsIHJlc3BvbnNlIHRoZSBVQUMgY29yZVxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVycyB0aGUgSU5WSVRFIHRyYW5zYWN0aW9uIGNvbXBsZXRlZC4gIFRoZSBJTlZJVEUgY2xpZW50XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gaGFuZGxlcyB0aGUgZ2VuZXJhdGlvbiBvZiBBQ0tzIGZvciB0aGUgcmVzcG9uc2UgKHNlZVxuICAgICAgICAgICAgICAgIC8vIFNlY3Rpb24gMTcpLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjNcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5mb3JFYWNoKGZ1bmN0aW9uIChlYXJseURpYWxvZykgeyByZXR1cm4gZWFybHlEaWFsb2cuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIC8vIEEgc2luZ2xlIG5vbi0yeHggZmluYWwgcmVzcG9uc2UgbWF5IGJlIHJlY2VpdmVkIGZvciB0aGUgSU5WSVRFLiAgNHh4LFxuICAgICAgICAgICAgICAgIC8vIDV4eCBhbmQgNnh4IHJlc3BvbnNlcyBtYXkgY29udGFpbiBhIENvbnRhY3QgaGVhZGVyIGZpZWxkIHZhbHVlXG4gICAgICAgICAgICAgICAgLy8gaW5kaWNhdGluZyB0aGUgbG9jYXRpb24gd2hlcmUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAvLyBjYW4gYmUgZm91bmQuICBTdWJzZXF1ZW50IGZpbmFsIHJlc3BvbnNlcyAod2hpY2ggd291bGQgb25seSBhcnJpdmVcbiAgICAgICAgICAgICAgICAvLyB1bmRlciBlcnJvciBjb25kaXRpb25zKSBNVVNUIGJlIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjIuM1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25SZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlamVjdCh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZSBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4ZWN1dGluZyB3aGF0IHNob3VsZCBiZSBhbiB1bnJlYWNoYWJsZSBjb2RlIHBhdGggcmVjZWl2aW5nIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlLlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLkludml0ZVVzZXJBZ2VudENsaWVudCA9IEludml0ZVVzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZGlhbG9nc18xID0gcmVxdWlyZShcIi4uL2RpYWxvZ3NcIik7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZShcIi4uL2V4Y2VwdGlvbnNcIik7XG52YXIgc2Vzc2lvbl8xID0gcmVxdWlyZShcIi4uL3Nlc3Npb25cIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnQtY29yZS9hbGxvd2VkLW1ldGhvZHNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBJTlZJVEUgVUFTLlxuICogQHJlbWFya3NcbiAqIDEzIEluaXRpYXRpbmcgYSBTZXNzaW9uXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzXG4gKiAxMy4xIE92ZXJ2aWV3XG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjFcbiAqIDEzLjMgVUFTIFByb2Nlc3NpbmdcbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuM1xuICogQHB1YmxpY1xuICovXG52YXIgSW52aXRlVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEludml0ZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIoY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5RGlhbG9nKSB7XG4gICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9nLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDEzLjMuMS40IFRoZSBJTlZJVEUgaXMgQWNjZXB0ZWRcbiAgICAgKiBUaGUgVUFTIGNvcmUgZ2VuZXJhdGVzIGEgMnh4IHJlc3BvbnNlLiAgVGhpcyByZXNwb25zZSBlc3RhYmxpc2hlcyBhXG4gICAgICogZGlhbG9nLCBhbmQgdGhlcmVmb3JlIGZvbGxvd3MgdGhlIHByb2NlZHVyZXMgb2YgU2VjdGlvbiAxMi4xLjEgaW5cbiAgICAgKiBhZGRpdGlvbiB0byB0aG9zZSBvZiBTZWN0aW9uIDguMi42LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFjY2VwdCBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc3RhdHVzQ29kZTogMjAwIH07IH1cbiAgICAgICAgaWYgKCF0aGlzLmFjY2VwdGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgYWNjZXB0YWJsZSBpbiBzdGF0ZSBcIiArIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyByZXNwb25zZSBlc3RhYmxpc2hlcyBhIGRpYWxvZy4uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjMuMS40XG4gICAgICAgIGlmICghdGhpcy5jb25maXJtZWREaWFsb2cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhcmx5RGlhbG9nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lYXJseURpYWxvZy5jb25maXJtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtZWREaWFsb2cgPSB0aGlzLmVhcmx5RGlhbG9nO1xuICAgICAgICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2cgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSB0aGlzLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBpbnN0YW5jZSBvZiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGRpYWxvZ3NfMS5EaWFsb2cuaW5pdGlhbERpYWxvZ1N0YXRlRm9yVXNlckFnZW50U2VydmVyKHRoaXMubWVzc2FnZSwgdGhpcy50b1RhZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtZWREaWFsb2cgPSBuZXcgZGlhbG9nc18xLlNlc3Npb25EaWFsb2codHJhbnNhY3Rpb24sIHRoaXMuY29yZSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gYSBVQVMgcmVzcG9uZHMgdG8gYSByZXF1ZXN0IHdpdGggYSByZXNwb25zZSB0aGF0IGVzdGFibGlzaGVzIGFcbiAgICAgICAgLy8gZGlhbG9nIChzdWNoIGFzIGEgMnh4IHRvIElOVklURSksIHRoZSBVQVMgTVVTVCBjb3B5IGFsbCBSZWNvcmQtUm91dGVcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIHZhbHVlcyBmcm9tIHRoZSByZXF1ZXN0IGludG8gdGhlIHJlc3BvbnNlIChpbmNsdWRpbmcgdGhlXG4gICAgICAgIC8vIFVSSXMsIFVSSSBwYXJhbWV0ZXJzLCBhbmQgYW55IFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGQgcGFyYW1ldGVycyxcbiAgICAgICAgLy8gd2hldGhlciB0aGV5IGFyZSBrbm93biBvciB1bmtub3duIHRvIHRoZSBVQVMpIGFuZCBNVVNUIG1haW50YWluIHRoZVxuICAgICAgICAvLyBvcmRlciBvZiB0aG9zZSB2YWx1ZXMuICBUaGUgVUFTIE1VU1QgYWRkIGEgQ29udGFjdCBoZWFkZXIgZmllbGQgdG9cbiAgICAgICAgLy8gdGhlIHJlc3BvbnNlLiAgVGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGNvbnRhaW5zIGFuIGFkZHJlc3Mgd2hlcmUgdGhlXG4gICAgICAgIC8vIFVBUyB3b3VsZCBsaWtlIHRvIGJlIGNvbnRhY3RlZCBmb3Igc3Vic2VxdWVudCByZXF1ZXN0cyBpbiB0aGUgZGlhbG9nXG4gICAgICAgIC8vICh3aGljaCBpbmNsdWRlcyB0aGUgQUNLIGZvciBhIDJ4eCByZXNwb25zZSBpbiB0aGUgY2FzZSBvZiBhbiBJTlZJVEUpLlxuICAgICAgICAvLyBHZW5lcmFsbHksIHRoZSBob3N0IHBvcnRpb24gb2YgdGhpcyBVUkkgaXMgdGhlIElQIGFkZHJlc3Mgb3IgRlFETiBvZlxuICAgICAgICAvLyB0aGUgaG9zdC4gIFRoZSBVUkkgcHJvdmlkZWQgaW4gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIE1VU1QgYmUgYSBTSVBcbiAgICAgICAgLy8gb3IgU0lQUyBVUkkuICBJZiB0aGUgcmVxdWVzdCB0aGF0IGluaXRpYXRlZCB0aGUgZGlhbG9nIGNvbnRhaW5lZCBhXG4gICAgICAgIC8vIFNJUFMgVVJJIGluIHRoZSBSZXF1ZXN0LVVSSSBvciBpbiB0aGUgdG9wIFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGRcbiAgICAgICAgLy8gdmFsdWUsIGlmIHRoZXJlIHdhcyBhbnksIG9yIHRoZSBDb250YWN0IGhlYWRlciBmaWVsZCBpZiB0aGVyZSB3YXMgbm9cbiAgICAgICAgLy8gUmVjb3JkLVJvdXRlIGhlYWRlciBmaWVsZCwgdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGluIHRoZSByZXNwb25zZVxuICAgICAgICAvLyBNVVNUIGJlIGEgU0lQUyBVUkkuICBUaGUgVVJJIFNIT1VMRCBoYXZlIGdsb2JhbCBzY29wZSAodGhhdCBpcywgdGhlXG4gICAgICAgIC8vIHNhbWUgVVJJIGNhbiBiZSB1c2VkIGluIG1lc3NhZ2VzIG91dHNpZGUgdGhpcyBkaWFsb2cpLiAgVGhlIHNhbWUgd2F5LFxuICAgICAgICAvLyB0aGUgc2NvcGUgb2YgdGhlIFVSSSBpbiB0aGUgQ29udGFjdCBoZWFkZXIgZmllbGQgb2YgdGhlIElOVklURSBpcyBub3RcbiAgICAgICAgLy8gbGltaXRlZCB0byB0aGlzIGRpYWxvZyBlaXRoZXIuICBJdCBjYW4gdGhlcmVmb3JlIGJlIHVzZWQgaW4gbWVzc2FnZXNcbiAgICAgICAgLy8gdG8gdGhlIFVBQyBldmVuIG91dHNpZGUgdGhpcyBkaWFsb2cuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4xXG4gICAgICAgIHZhciByZWNvcmRSb3V0ZUhlYWRlciA9IHRoaXMubWVzc2FnZVxuICAgICAgICAgICAgLmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIilcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGhlYWRlcikgeyByZXR1cm4gXCJSZWNvcmQtUm91dGU6IFwiICsgaGVhZGVyOyB9KTtcbiAgICAgICAgdmFyIGNvbnRhY3RIZWFkZXIgPSBcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdC50b1N0cmluZygpO1xuICAgICAgICAvLyBBIDJ4eCByZXNwb25zZSB0byBhbiBJTlZJVEUgU0hPVUxEIGNvbnRhaW4gdGhlIEFsbG93IGhlYWRlciBmaWVsZCBhbmRcbiAgICAgICAgLy8gdGhlIFN1cHBvcnRlZCBoZWFkZXIgZmllbGQsIGFuZCBNQVkgY29udGFpbiB0aGUgQWNjZXB0IGhlYWRlciBmaWVsZC5cbiAgICAgICAgLy8gSW5jbHVkaW5nIHRoZXNlIGhlYWRlciBmaWVsZHMgYWxsb3dzIHRoZSBVQUMgdG8gZGV0ZXJtaW5lIHRoZVxuICAgICAgICAvLyBmZWF0dXJlcyBhbmQgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgdGhlIFVBUyBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZVxuICAgICAgICAvLyBjYWxsLCB3aXRob3V0IHByb2JpbmcuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIG5vdCBiZSBoYXJkIGNvZGVkLlxuICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgIC8vIEZJWE1FOiBUT0RPOiBTdXBwb3J0ZWQgaGVhZGVyIChzZWUgcmVwbHkoKSlcbiAgICAgICAgLy8gRklYTUU6IFRPRE86IEFjY2VwdCBoZWFkZXJcbiAgICAgICAgLy8gSWYgdGhlIElOVklURSByZXF1ZXN0IGNvbnRhaW5lZCBhbiBvZmZlciwgYW5kIHRoZSBVQVMgaGFkIG5vdCB5ZXRcbiAgICAgICAgLy8gc2VudCBhbiBhbnN3ZXIsIHRoZSAyeHggTVVTVCBjb250YWluIGFuIGFuc3dlci4gIElmIHRoZSBJTlZJVEUgZGlkXG4gICAgICAgIC8vIG5vdCBjb250YWluIGFuIG9mZmVyLCB0aGUgMnh4IE1VU1QgY29udGFpbiBhbiBvZmZlciBpZiB0aGUgVUFTIGhhZFxuICAgICAgICAvLyBub3QgeWV0IHNlbnQgYW4gb2ZmZXIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgICAgaWYgKCFvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpcm1lZERpYWxvZy5zaWduYWxpbmdTdGF0ZSA9PT0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYm9keSA9IHRoaXMuY29uZmlybWVkRGlhbG9nLmFuc3dlcjsgLy8gcmVzZW5kIHRoZSBhbnN3ZXIgc2VudCBpbiBwcm92aXNpb25hbCByZXNwb25zZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jb25maXJtZWREaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtZWREaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zZSBtdXN0IGhhdmUgYSBib2R5LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMjAwO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzLmNvbmNhdChyZWNvcmRSb3V0ZUhlYWRlcik7XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goYWxsb3dIZWFkZXIpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGNvbnRhY3RIZWFkZXIpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBfc3VwZXIucHJvdG90eXBlLmFjY2VwdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuY29uZmlybWVkRGlhbG9nO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHNsaWJfMS5fX2Fzc2lnbih0c2xpYl8xLl9fYXNzaWduKHt9LCByZXNwb25zZSksIHsgc2Vzc2lvbjogc2Vzc2lvbiB9KTtcbiAgICAgICAgLy8gVXBkYXRlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGVcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgLy8gT25jZSB0aGUgVUFTIGhhcyBzZW50IG9yIHJlY2VpdmVkIGFuIGFuc3dlciB0byB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgLy8gb2ZmZXIsIGl0IE1VU1QgTk9UIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIGluIGFueSByZXNwb25zZXNcbiAgICAgICAgICAgIC8vIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAvLyBzcGVjaWZpY2F0aW9uIGFsb25lIGNhbiBuZXZlciBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyB1bnRpbFxuICAgICAgICAgICAgLy8gY29tcGxldGlvbiBvZiB0aGUgaW5pdGlhbCB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maXJtZWREaWFsb2cuc2lnbmFsaW5nU3RhdGUgIT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1lZERpYWxvZy5zaWduYWxpbmdTdGF0ZVRyYW5zaXRpb24ob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogMTMuMy4xLjEgUHJvZ3Jlc3NcbiAgICAgKiBJZiB0aGUgVUFTIGlzIG5vdCBhYmxlIHRvIGFuc3dlciB0aGUgaW52aXRhdGlvbiBpbW1lZGlhdGVseSwgaXQgY2FuXG4gICAgICogY2hvb3NlIHRvIGluZGljYXRlIHNvbWUga2luZCBvZiBwcm9ncmVzcyB0byB0aGUgVUFDIChmb3IgZXhhbXBsZSwgYW5cbiAgICAgKiBpbmRpY2F0aW9uIHRoYXQgYSBwaG9uZSBpcyByaW5naW5nKS4gIFRoaXMgaXMgYWNjb21wbGlzaGVkIHdpdGggYVxuICAgICAqIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGJldHdlZW4gMTAxIGFuZCAxOTkuICBUaGVzZSBwcm92aXNpb25hbFxuICAgICAqIHJlc3BvbnNlcyBlc3RhYmxpc2ggZWFybHkgZGlhbG9ncyBhbmQgdGhlcmVmb3JlIGZvbGxvdyB0aGUgcHJvY2VkdXJlc1xuICAgICAqIG9mIFNlY3Rpb24gMTIuMS4xIGluIGFkZGl0aW9uIHRvIHRob3NlIG9mIFNlY3Rpb24gOC4yLjYuICBBIFVBUyBNQVlcbiAgICAgKiBzZW5kIGFzIG1hbnkgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIGFzIGl0IGxpa2VzLiAgRWFjaCBvZiB0aGVzZSBNVVNUXG4gICAgICogaW5kaWNhdGUgdGhlIHNhbWUgZGlhbG9nIElELiAgSG93ZXZlciwgdGhlc2Ugd2lsbCBub3QgYmUgZGVsaXZlcmVkXG4gICAgICogcmVsaWFibHkuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgVUFTIGRlc2lyZXMgYW4gZXh0ZW5kZWQgcGVyaW9kIG9mIHRpbWUgdG8gYW5zd2VyIHRoZSBJTlZJVEUsXG4gICAgICogaXQgd2lsbCBuZWVkIHRvIGFzayBmb3IgYW4gXCJleHRlbnNpb25cIiBpbiBvcmRlciB0byBwcmV2ZW50IHByb3hpZXNcbiAgICAgKiBmcm9tIGNhbmNlbGluZyB0aGUgdHJhbnNhY3Rpb24uICBBIHByb3h5IGhhcyB0aGUgb3B0aW9uIG9mIGNhbmNlbGluZ1xuICAgICAqIGEgdHJhbnNhY3Rpb24gd2hlbiB0aGVyZSBpcyBhIGdhcCBvZiAzIG1pbnV0ZXMgYmV0d2VlbiByZXNwb25zZXMgaW4gYVxuICAgICAqIHRyYW5zYWN0aW9uLiAgVG8gcHJldmVudCBjYW5jZWxsYXRpb24sIHRoZSBVQVMgTVVTVCBzZW5kIGEgbm9uLTEwMFxuICAgICAqIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGF0IGV2ZXJ5IG1pbnV0ZSwgdG8gaGFuZGxlIHRoZSBwb3NzaWJpbGl0eSBvZlxuICAgICAqIGxvc3QgcHJvdmlzaW9uYWwgcmVzcG9uc2VzLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjFcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFByb2dyZXNzIG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIEludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDE4MCB9OyB9XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmVzc2FibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgcHJvZ3Jlc3NhYmxlIGluIHN0YXRlIFwiICsgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIHJlc3BvbnNlIGVzdGFibGlzaGVzIGEgZGlhbG9nLi4uXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgICAgaWYgKCF0aGlzLmVhcmx5RGlhbG9nKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSB0aGlzLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgaWYgKCEodHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiBub3QgaW5zdGFuY2Ugb2YgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXRlID0gZGlhbG9nc18xLkRpYWxvZy5pbml0aWFsRGlhbG9nU3RhdGVGb3JVc2VyQWdlbnRTZXJ2ZXIodGhpcy5tZXNzYWdlLCB0aGlzLnRvVGFnLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2cgPSBuZXcgZGlhbG9nc18xLlNlc3Npb25EaWFsb2codHJhbnNhY3Rpb24sIHRoaXMuY29yZSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gYSBVQVMgcmVzcG9uZHMgdG8gYSByZXF1ZXN0IHdpdGggYSByZXNwb25zZSB0aGF0IGVzdGFibGlzaGVzIGFcbiAgICAgICAgLy8gZGlhbG9nIChzdWNoIGFzIGEgMnh4IHRvIElOVklURSksIHRoZSBVQVMgTVVTVCBjb3B5IGFsbCBSZWNvcmQtUm91dGVcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIHZhbHVlcyBmcm9tIHRoZSByZXF1ZXN0IGludG8gdGhlIHJlc3BvbnNlIChpbmNsdWRpbmcgdGhlXG4gICAgICAgIC8vIFVSSXMsIFVSSSBwYXJhbWV0ZXJzLCBhbmQgYW55IFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGQgcGFyYW1ldGVycyxcbiAgICAgICAgLy8gd2hldGhlciB0aGV5IGFyZSBrbm93biBvciB1bmtub3duIHRvIHRoZSBVQVMpIGFuZCBNVVNUIG1haW50YWluIHRoZVxuICAgICAgICAvLyBvcmRlciBvZiB0aG9zZSB2YWx1ZXMuICBUaGUgVUFTIE1VU1QgYWRkIGEgQ29udGFjdCBoZWFkZXIgZmllbGQgdG9cbiAgICAgICAgLy8gdGhlIHJlc3BvbnNlLiAgVGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGNvbnRhaW5zIGFuIGFkZHJlc3Mgd2hlcmUgdGhlXG4gICAgICAgIC8vIFVBUyB3b3VsZCBsaWtlIHRvIGJlIGNvbnRhY3RlZCBmb3Igc3Vic2VxdWVudCByZXF1ZXN0cyBpbiB0aGUgZGlhbG9nXG4gICAgICAgIC8vICh3aGljaCBpbmNsdWRlcyB0aGUgQUNLIGZvciBhIDJ4eCByZXNwb25zZSBpbiB0aGUgY2FzZSBvZiBhbiBJTlZJVEUpLlxuICAgICAgICAvLyBHZW5lcmFsbHksIHRoZSBob3N0IHBvcnRpb24gb2YgdGhpcyBVUkkgaXMgdGhlIElQIGFkZHJlc3Mgb3IgRlFETiBvZlxuICAgICAgICAvLyB0aGUgaG9zdC4gIFRoZSBVUkkgcHJvdmlkZWQgaW4gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIE1VU1QgYmUgYSBTSVBcbiAgICAgICAgLy8gb3IgU0lQUyBVUkkuICBJZiB0aGUgcmVxdWVzdCB0aGF0IGluaXRpYXRlZCB0aGUgZGlhbG9nIGNvbnRhaW5lZCBhXG4gICAgICAgIC8vIFNJUFMgVVJJIGluIHRoZSBSZXF1ZXN0LVVSSSBvciBpbiB0aGUgdG9wIFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGRcbiAgICAgICAgLy8gdmFsdWUsIGlmIHRoZXJlIHdhcyBhbnksIG9yIHRoZSBDb250YWN0IGhlYWRlciBmaWVsZCBpZiB0aGVyZSB3YXMgbm9cbiAgICAgICAgLy8gUmVjb3JkLVJvdXRlIGhlYWRlciBmaWVsZCwgdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGluIHRoZSByZXNwb25zZVxuICAgICAgICAvLyBNVVNUIGJlIGEgU0lQUyBVUkkuICBUaGUgVVJJIFNIT1VMRCBoYXZlIGdsb2JhbCBzY29wZSAodGhhdCBpcywgdGhlXG4gICAgICAgIC8vIHNhbWUgVVJJIGNhbiBiZSB1c2VkIGluIG1lc3NhZ2VzIG91dHNpZGUgdGhpcyBkaWFsb2cpLiAgVGhlIHNhbWUgd2F5LFxuICAgICAgICAvLyB0aGUgc2NvcGUgb2YgdGhlIFVSSSBpbiB0aGUgQ29udGFjdCBoZWFkZXIgZmllbGQgb2YgdGhlIElOVklURSBpcyBub3RcbiAgICAgICAgLy8gbGltaXRlZCB0byB0aGlzIGRpYWxvZyBlaXRoZXIuICBJdCBjYW4gdGhlcmVmb3JlIGJlIHVzZWQgaW4gbWVzc2FnZXNcbiAgICAgICAgLy8gdG8gdGhlIFVBQyBldmVuIG91dHNpZGUgdGhpcyBkaWFsb2cuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4xXG4gICAgICAgIHZhciByZWNvcmRSb3V0ZUhlYWRlciA9IHRoaXMubWVzc2FnZVxuICAgICAgICAgICAgLmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIilcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGhlYWRlcikgeyByZXR1cm4gXCJSZWNvcmQtUm91dGU6IFwiICsgaGVhZGVyOyB9KTtcbiAgICAgICAgdmFyIGNvbnRhY3RIZWFkZXIgPSBcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdDtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBvcHRpb25zLmV4dHJhSGVhZGVycy5jb25jYXQocmVjb3JkUm91dGVIZWFkZXIpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGNvbnRhY3RIZWFkZXIpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBfc3VwZXIucHJvdG90eXBlLnByb2dyZXNzLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5lYXJseURpYWxvZztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRzbGliXzEuX19hc3NpZ24odHNsaWJfMS5fX2Fzc2lnbih7fSwgcmVzcG9uc2UpLCB7IHNlc3Npb246IHNlc3Npb24gfSk7XG4gICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlXG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIC8vIE9uY2UgdGhlIFVBUyBoYXMgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgICAgIC8vIG9mZmVyLCBpdCBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiBhbnkgcmVzcG9uc2VzXG4gICAgICAgICAgICAvLyB0byB0aGUgaW5pdGlhbCBJTlZJVEUuICBUaGlzIG1lYW5zIHRoYXQgYSBVQVMgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgLy8gc3BlY2lmaWNhdGlvbiBhbG9uZSBjYW4gbmV2ZXIgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgdW50aWxcbiAgICAgICAgICAgIC8vIGNvbXBsZXRpb24gb2YgdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAgICAgaWYgKHRoaXMuZWFybHlEaWFsb2cuc2lnbmFsaW5nU3RhdGUgIT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihvcHRpb25zLmJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAxMy4zLjEuMiBUaGUgSU5WSVRFIGlzIFJlZGlyZWN0ZWRcbiAgICAgKiBJZiB0aGUgVUFTIGRlY2lkZXMgdG8gcmVkaXJlY3QgdGhlIGNhbGwsIGEgM3h4IHJlc3BvbnNlIGlzIHNlbnQuICBBXG4gICAgICogMzAwIChNdWx0aXBsZSBDaG9pY2VzKSwgMzAxIChNb3ZlZCBQZXJtYW5lbnRseSkgb3IgMzAyIChNb3ZlZFxuICAgICAqIFRlbXBvcmFyaWx5KSByZXNwb25zZSBTSE9VTEQgY29udGFpbiBhIENvbnRhY3QgaGVhZGVyIGZpZWxkXG4gICAgICogY29udGFpbmluZyBvbmUgb3IgbW9yZSBVUklzIG9mIG5ldyBhZGRyZXNzZXMgdG8gYmUgdHJpZWQuICBUaGVcbiAgICAgKiByZXNwb25zZSBpcyBwYXNzZWQgdG8gdGhlIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHdoaWNoIHdpbGwgZGVhbFxuICAgICAqIHdpdGggaXRzIHJldHJhbnNtaXNzaW9ucy5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjMuMS4yXG4gICAgICogQHBhcmFtIGNvbnRhY3RzIC0gQ29udGFjdHMgdG8gcmVkaXJlY3QgdG8uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZWRpcmVjdCBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLnJlZGlyZWN0ID0gZnVuY3Rpb24gKGNvbnRhY3RzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc3RhdHVzQ29kZTogMzAyIH07IH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVkaXJlY3QuY2FsbCh0aGlzLCBjb250YWN0cywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAxMy4zLjEuMyBUaGUgSU5WSVRFIGlzIFJlamVjdGVkXG4gICAgICogQSBjb21tb24gc2NlbmFyaW8gb2NjdXJzIHdoZW4gdGhlIGNhbGxlZSBpcyBjdXJyZW50bHkgbm90IHdpbGxpbmcgb3JcbiAgICAgKiBhYmxlIHRvIHRha2UgYWRkaXRpb25hbCBjYWxscyBhdCB0aGlzIGVuZCBzeXN0ZW0uICBBIDQ4NiAoQnVzeSBIZXJlKVxuICAgICAqIFNIT1VMRCBiZSByZXR1cm5lZCBpbiBzdWNoIGEgc2NlbmFyaW8uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4zLjEuM1xuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVqZWN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIEludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiA0ODYgfTsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZWplY3QuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLkludml0ZVVzZXJBZ2VudFNlcnZlciA9IEludml0ZVVzZXJBZ2VudFNlcnZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogUFVCTElTSCBVQUMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBQdWJsaXNoVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFB1Ymxpc2hVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHVibGlzaFVzZXJBZ2VudENsaWVudChjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sIGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUHVibGlzaFVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuUHVibGlzaFVzZXJBZ2VudENsaWVudCA9IFB1Ymxpc2hVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFJlLVNVQlNDUklCRSBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZVN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZVN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZVN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcihkaWFsb2csIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlU3Vic2NyaWJlVXNlckFnZW50U2VydmVyID0gUmVTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFJFR0lTVEVSIFVBQy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlZ2lzdGVyVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZ2lzdGVyVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZ2lzdGVyVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZWdpc3RlclVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuUmVnaXN0ZXJVc2VyQWdlbnRDbGllbnQgPSBSZWdpc3RlclVzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LXNlcnZlclwiKTtcbi8qKlxuICogUkVHSVNURVIgVUFTLlxuICogQHB1YmxpY1xuICovXG52YXIgUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIoY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlZ2lzdGVyVXNlckFnZW50U2VydmVyID0gUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHN1YnNjcmlwdGlvbl9kaWFsb2dfMSA9IHJlcXVpcmUoXCIuLi9kaWFsb2dzL3N1YnNjcmlwdGlvbi1kaWFsb2dcIik7XG52YXIgc3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3Vic2NyaXB0aW9uXCIpO1xudmFyIHRpbWVyc18xID0gcmVxdWlyZShcIi4uL3RpbWVyc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtY2xpZW50XCIpO1xuLyoqXG4gKiBTVUJTQ1JJQkUgVUFDLlxuICogQHJlbWFya3NcbiAqIDQuMS4gIFN1YnNjcmliZXIgQmVoYXZpb3JcbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xXG4gKlxuICogVXNlciBhZ2VudCBjbGllbnQgZm9yIGluc3RhbGxhdGlvbiBvZiBhIHNpbmdsZSBzdWJzY3JpcHRpb24gcGVyIFNVQlNDUklCRSByZXF1ZXN0LlxuICogVE9ETzogU3VwcG9ydCBmb3IgaW5zdGFsbGF0aW9uIG9mIG11bHRpcGxlIHN1YnNjcmlwdGlvbnMgb24gZm9ya2VkIFNVQlNDUklCRSByZXF1ZXN0cy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFN1YnNjcmliZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEdldCBldmVudCBmcm9tIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgICAgdmFyIGV2ZW50ID0gbWVzc2FnZS5nZXRIZWFkZXIoXCJFdmVudFwiKTtcbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgdW5kZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCBleHBpcmVzIGZyb20gcmVxdWVzdCBtZXNzYWdlLlxuICAgICAgICB2YXIgZXhwaXJlcyA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKTtcbiAgICAgICAgaWYgKCFleHBpcmVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBpcmVzIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgLy8gRklYTUU6IFN1YnNjcmliZXIgaWQgc2hvdWxkIGFsc28gYmUgbWF0Y2hpbmcgb24gZXZlbnQgaWQuXG4gICAgICAgIF90aGlzLnN1YnNjcmliZXJJZCA9IG1lc3NhZ2UuY2FsbElkICsgbWVzc2FnZS5mcm9tVGFnICsgZXZlbnQ7XG4gICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXNSZXF1ZXN0ZWQgPSBfdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID0gTnVtYmVyKGV4cGlyZXMpO1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25FdmVudCA9IGV2ZW50O1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ7XG4gICAgICAgIC8vIFN0YXJ0IHdhaXRpbmcgZm9yIGEgTk9USUZZIHdlIGNhbiB1c2UgdG8gY3JlYXRlIGEgc3Vic2NyaXB0aW9uLlxuICAgICAgICBfdGhpcy53YWl0Tm90aWZ5U3RhcnQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqIE5vdGUgdGhhdCBUaW1lciBOIG1heSBsaXZlIG9uIHdhaXRpbmcgZm9yIGFuIGluaXRpYWwgTk9USUZZIGFuZFxuICAgICAqIHRoZSBkZWxlZ2F0ZSBtYXkgc3RpbGwgcmVjZWl2ZSB0aGF0IE5PVElGWS4gSWYgeW91IGRvbid0IHdhbnRcbiAgICAgKiB0aGF0IGJlaGF2aW9yIHRoZW4gZWl0aGVyIGNsZWFyIHRoZSBkZWxlZ2F0ZSBzbyB0aGUgZGVsZWdhdGVcbiAgICAgKiBkb2Vzbid0IGdldCBjYWxsZWQgKGEgMjAwIHdpbGwgYmUgc2VudCBpbiByZXNwb25zZSB0byB0aGUgTk9USUZZKVxuICAgICAqIG9yIGNhbGwgYHdhaXROb3RpZnlTdG9wYCB3aGljaCB3aWxsIGNsZWFyIFRpbWVyIE4gYW5kIHJlbW92ZSB0aGlzXG4gICAgICogVUFDIGZyb20gdGhlIGNvcmUgKGEgNDgxIHdpbGwgYmUgc2VudCBpbiByZXNwb25zZSB0byB0aGUgTk9USUZZKS5cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIG91dCBvZiBkaWFsb2cgTk9USUZZIGFzc29jaWF0ZWQgd2l0aCBTVUJTQ1JJQkUgcmVxdWVzdC5cbiAgICAgKiBUaGlzIGlzIHRoZSBmaXJzdCBOT1RJRlkgcmVjZWl2ZWQgYWZ0ZXIgdGhlIFNVQlNDUklCRSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB1YXMgLSBVc2VyIGFnZW50IHNlcnZlciBoYW5kbGluZyB0aGUgc3Vic2NyaXB0aW9uIGNyZWF0aW5nIE5PVElGWS5cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLm9uTm90aWZ5ID0gZnVuY3Rpb24gKHVhcykge1xuICAgICAgICAvLyBOT1RJRlkgcmVxdWVzdHMgYXJlIG1hdGNoZWQgdG8gc3VjaCBTVUJTQ1JJQkUgcmVxdWVzdHMgaWYgdGhleVxuICAgICAgICAvLyBjb250YWluIHRoZSBzYW1lIFwiQ2FsbC1JRFwiLCBhIFwiVG9cIiBoZWFkZXIgZmllbGQgXCJ0YWdcIiBwYXJhbWV0ZXIgdGhhdFxuICAgICAgICAvLyBtYXRjaGVzIHRoZSBcIkZyb21cIiBoZWFkZXIgZmllbGQgXCJ0YWdcIiBwYXJhbWV0ZXIgb2YgdGhlIFNVQlNDUklCRVxuICAgICAgICAvLyByZXF1ZXN0LCBhbmQgdGhlIHNhbWUgXCJFdmVudFwiIGhlYWRlciBmaWVsZC4gIFJ1bGVzIGZvciBjb21wYXJpc29ucyBvZlxuICAgICAgICAvLyB0aGUgXCJFdmVudFwiIGhlYWRlciBmaWVsZHMgYXJlIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDguMi4xLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuNC4xXG4gICAgICAgIHZhciBldmVudCA9IHVhcy5tZXNzYWdlLnBhcnNlSGVhZGVyKFwiRXZlbnRcIikuZXZlbnQ7XG4gICAgICAgIGlmICghZXZlbnQgfHwgZXZlbnQgIT09IHRoaXMuc3Vic2NyaXB0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gcGFyc2UgZXZlbnQuXCIpO1xuICAgICAgICAgICAgdWFzLnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4OSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBOT1RJRlkgcmVxdWVzdHMgTVVTVCBjb250YWluIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgaGVhZGVyIGZpZWxkcyB0aGF0XG4gICAgICAgIC8vIGluZGljYXRlIHRoZSBzdGF0dXMgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuM1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uU3RhdGUgPSB1YXMubWVzc2FnZS5wYXJzZUhlYWRlcihcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFzdWJzY3JpcHRpb25TdGF0ZSB8fCAhc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gcGFyc2Ugc3Vic2NyaXB0aW9uIHN0YXRlLlwiKTtcbiAgICAgICAgICAgIHVhcy5yZWplY3QoeyBzdGF0dXNDb2RlOiA0ODkgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsaWRhdGUgc3Vic2NyaXB0aW9uIHN0YXRlLlxuICAgICAgICB2YXIgc3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZS5zdGF0ZTtcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBcInBlbmRpbmdcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhY3RpdmVcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJJbnZhbGlkIHN1YnNjcmlwdGlvbiBzdGF0ZSBcIiArIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDg5IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEaWFsb2dzIHVzYWdlcyBhcmUgY3JlYXRlZCB1cG9uIGNvbXBsZXRpb24gb2YgYSBOT1RJRlkgdHJhbnNhY3Rpb25cbiAgICAgICAgLy8gZm9yIGEgbmV3IHN1YnNjcmlwdGlvbiwgdW5sZXNzIHRoZSBOT1RJRlkgcmVxdWVzdCBjb250YWlucyBhXG4gICAgICAgIC8vIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgb2YgXCJ0ZXJtaW5hdGVkLlwiXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC40LjFcbiAgICAgICAgaWYgKHN0YXRlICE9PSBcInRlcm1pbmF0ZWRcIikge1xuICAgICAgICAgICAgLy8gVGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIE1VU1QgYmUgcHJlc2VudCBhbmQgY29udGFpbiBleGFjdGx5IG9uZSBTSVBcbiAgICAgICAgICAgIC8vIG9yIFNJUFMgVVJJIGluIGFueSByZXF1ZXN0IHRoYXQgY2FuIHJlc3VsdCBpbiB0aGUgZXN0YWJsaXNobWVudCBvZiBhXG4gICAgICAgICAgICAvLyBkaWFsb2cuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMS4xLjhcbiAgICAgICAgICAgIHZhciBjb250YWN0ID0gdWFzLm1lc3NhZ2UucGFyc2VIZWFkZXIoXCJjb250YWN0XCIpO1xuICAgICAgICAgICAgaWYgKCFjb250YWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkZhaWxlZCB0byBwYXJzZSBjb250YWN0LlwiKTtcbiAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDg5IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbiBhY2NvcmRhbmNlIHdpdGggdGhlIHJ1bGVzIGZvciBwcm94eWluZyBub24tSU5WSVRFIHJlcXVlc3RzIGFzXG4gICAgICAgIC8vIGRlZmluZWQgaW4gW1JGQzMyNjFdLCBzdWNjZXNzZnVsIFNVQlNDUklCRSByZXF1ZXN0cyB3aWxsIHJlY2VpdmUgb25seVxuICAgICAgICAvLyBvbmUgMjAwLWNsYXNzIHJlc3BvbnNlOyBob3dldmVyLCBkdWUgdG8gZm9ya2luZywgdGhlIHN1YnNjcmlwdGlvbiBtYXlcbiAgICAgICAgLy8gaGF2ZSBiZWVuIGFjY2VwdGVkIGJ5IG11bHRpcGxlIG5vZGVzLiAgVGhlIHN1YnNjcmliZXIgTVVTVCB0aGVyZWZvcmVcbiAgICAgICAgLy8gYmUgcHJlcGFyZWQgdG8gcmVjZWl2ZSBOT1RJRlkgcmVxdWVzdHMgd2l0aCBcIkZyb206XCIgdGFncyB0aGF0IGRpZmZlclxuICAgICAgICAvLyBmcm9tIHRoZSBcIlRvOlwiIHRhZyByZWNlaXZlZCBpbiB0aGUgU1VCU0NSSUJFIDIwMC1jbGFzcyByZXNwb25zZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgbXVsdGlwbGUgTk9USUZZIHJlcXVlc3RzIGFyZSByZWNlaXZlZCBpbiBkaWZmZXJlbnQgZGlhbG9ncyBpblxuICAgICAgICAvLyByZXNwb25zZSB0byBhIHNpbmdsZSBTVUJTQ1JJQkUgcmVxdWVzdCwgZWFjaCBkaWFsb2cgcmVwcmVzZW50cyBhXG4gICAgICAgIC8vIGRpZmZlcmVudCBkZXN0aW5hdGlvbiB0byB3aGljaCB0aGUgU1VCU0NSSUJFIHJlcXVlc3Qgd2FzIGZvcmtlZC5cbiAgICAgICAgLy8gU3Vic2NyaWJlciBoYW5kbGluZyBpbiBzdWNoIHNpdHVhdGlvbnMgdmFyaWVzIGJ5IGV2ZW50IHBhY2thZ2U7IHNlZVxuICAgICAgICAvLyBTZWN0aW9uIDUuNC45IGZvciBkZXRhaWxzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS40XG4gICAgICAgIC8vIEVhY2ggZXZlbnQgcGFja2FnZSBNVVNUIHNwZWNpZnkgd2hldGhlciBmb3JrZWQgU1VCU0NSSUJFIHJlcXVlc3RzIGFyZVxuICAgICAgICAvLyBhbGxvd2VkIHRvIGluc3RhbGwgbXVsdGlwbGUgc3Vic2NyaXB0aW9ucy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgc3VjaCBiZWhhdmlvciBpcyBub3QgYWxsb3dlZCwgdGhlIGZpcnN0IHBvdGVudGlhbCBkaWFsb2ctXG4gICAgICAgIC8vIGVzdGFibGlzaGluZyBtZXNzYWdlIHdpbGwgY3JlYXRlIGEgZGlhbG9nLiAgQWxsIHN1YnNlcXVlbnQgTk9USUZZXG4gICAgICAgIC8vIHJlcXVlc3RzIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgU1VCU0NSSUJFIHJlcXVlc3QgKGkuZS4sIGhhdmVcbiAgICAgICAgLy8gbWF0Y2hpbmcgXCJUb1wiLCBcIkZyb21cIiwgXCJDYWxsLUlEXCIsIGFuZCBcIkV2ZW50XCIgaGVhZGVyIGZpZWxkcywgYXMgd2VsbFxuICAgICAgICAvLyBhcyBcIkZyb21cIiBoZWFkZXIgZmllbGQgXCJ0YWdcIiBwYXJhbWV0ZXIgYW5kIFwiRXZlbnRcIiBoZWFkZXIgZmllbGQgXCJpZFwiXG4gICAgICAgIC8vIHBhcmFtZXRlcikgYnV0IHRoYXQgZG8gbm90IG1hdGNoIHRoZSBkaWFsb2cgd291bGQgYmUgcmVqZWN0ZWQgd2l0aCBhXG4gICAgICAgIC8vIDQ4MSByZXNwb25zZS4gIE5vdGUgdGhhdCB0aGUgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIHRoZSBTVUJTQ1JJQkVcbiAgICAgICAgLy8gcmVxdWVzdCBjYW4gYXJyaXZlIGFmdGVyIGEgbWF0Y2hpbmcgTk9USUZZIHJlcXVlc3QgaGFzIGJlZW4gcmVjZWl2ZWQ7XG4gICAgICAgIC8vIHN1Y2ggcmVzcG9uc2VzIG1pZ2h0IG5vdCBjb3JyZWxhdGUgdG8gdGhlIHNhbWUgZGlhbG9nIGVzdGFibGlzaGVkIGJ5XG4gICAgICAgIC8vIHRoZSBOT1RJRlkgcmVxdWVzdC4gIEV4Y2VwdCBhcyByZXF1aXJlZCB0byBjb21wbGV0ZSB0aGUgU1VCU0NSSUJFXG4gICAgICAgIC8vIHRyYW5zYWN0aW9uLCBzdWNoIG5vbi1tYXRjaGluZyAyMDAtY2xhc3MgcmVzcG9uc2VzIGFyZSBpZ25vcmVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiBpbnN0YWxsaW5nIG9mIG11bHRpcGxlIHN1YnNjcmlwdGlvbnMgYnkgd2F5IG9mIGEgc2luZ2xlIGZvcmtlZFxuICAgICAgICAvLyBTVUJTQ1JJQkUgcmVxdWVzdCBpcyBhbGxvd2VkLCB0aGUgc3Vic2NyaWJlciBlc3RhYmxpc2hlcyBhIG5ldyBkaWFsb2dcbiAgICAgICAgLy8gdG93YXJkcyBlYWNoIG5vdGlmaWVyIGJ5IHJldHVybmluZyBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBlYWNoXG4gICAgICAgIC8vIE5PVElGWSByZXF1ZXN0LiAgRWFjaCBkaWFsb2cgaXMgdGhlbiBoYW5kbGVkIGFzIGl0cyBvd24gZW50aXR5IGFuZCBpc1xuICAgICAgICAvLyByZWZyZXNoZWQgaW5kZXBlbmRlbnRseSBvZiB0aGUgb3RoZXIgZGlhbG9ncy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSW4gdGhlIGNhc2UgdGhhdCBtdWx0aXBsZSBzdWJzY3JpcHRpb25zIGFyZSBhbGxvd2VkLCB0aGUgZXZlbnRcbiAgICAgICAgLy8gcGFja2FnZSBNVVNUIHNwZWNpZnkgd2hldGhlciBtZXJnaW5nIG9mIHRoZSBub3RpZmljYXRpb25zIHRvIGZvcm0gYVxuICAgICAgICAvLyBzaW5nbGUgc3RhdGUgaXMgcmVxdWlyZWQsIGFuZCBob3cgc3VjaCBtZXJnaW5nIGlzIHRvIGJlIHBlcmZvcm1lZC5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0IGlzIHBvc3NpYmxlIHRoYXQgc29tZSBldmVudCBwYWNrYWdlcyBtYXkgYmUgZGVmaW5lZCBpblxuICAgICAgICAvLyBzdWNoIGEgd2F5IHRoYXQgZWFjaCBkaWFsb2cgaXMgdGllZCB0byBhIG11dHVhbGx5IGV4Y2x1c2l2ZSBzdGF0ZVxuICAgICAgICAvLyB0aGF0IGlzIHVuYWZmZWN0ZWQgYnkgdGhlIG90aGVyIGRpYWxvZ3M7IHRoaXMgTVVTVCBiZSBjbGVhcmx5IHN0YXRlZFxuICAgICAgICAvLyBpZiBpdCBpcyB0aGUgY2FzZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi01LjQuOVxuICAgICAgICAvLyAqKiogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBvbmx5IGZvciBldmVudCBwYWNrYWdlcyB3aGljaFxuICAgICAgICAvLyBkbyBub3QgYWxsb3cgZm9ya2VkIHJlcXVlc3RzIHRvIGluc3RhbGwgbXVsdGlwbGUgc3Vic2NyaXB0aW9ucy5cbiAgICAgICAgLy8gQXMgc3VjaCBhbmQgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBzcGVjaWZpY2F0aW9uLCB3ZSBzdG9wIHdhaXRpbmdcbiAgICAgICAgLy8gYW5kIGFueSBmdXR1cmUgTk9USUZZIHJlcXVlc3RzIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhIDQ4MS5cbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgYWxyZWFkeSBjcmVhdGVkLiBUaGlzIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgaW5zdGFsbCBvZiBzaW5nbGUgc3Vic2NyaXB0aW9ucy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YWl0Tm90aWZ5U3RvcCgpO1xuICAgICAgICAvLyBVcGRhdGUgZXhwaXJlcy5cbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvblN0YXRlLmV4cGlyZXMgP1xuICAgICAgICAgICAgICAgIE1hdGgubWluKHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcywgTWF0aC5tYXgoc3Vic2NyaXB0aW9uU3RhdGUuZXhwaXJlcywgMCkpIDpcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXM7XG4gICAgICAgIC8vIFVwZGF0ZSBzdWJzY3JpcHRpb24gc3RhdGUuXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwZW5kaW5nXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWN0aXZlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBzdGF0ZSBcIiArIHN0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERpYWxvZ3MgdXNhZ2VzIGFyZSBjcmVhdGVkIHVwb24gY29tcGxldGlvbiBvZiBhIE5PVElGWSB0cmFuc2FjdGlvblxuICAgICAgICAvLyBmb3IgYSBuZXcgc3Vic2NyaXB0aW9uLCB1bmxlc3MgdGhlIE5PVElGWSByZXF1ZXN0IGNvbnRhaW5zIGFcbiAgICAgICAgLy8gXCJTdWJzY3JpcHRpb24tU3RhdGVcIiBvZiBcInRlcm1pbmF0ZWQuXCJcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjQuMVxuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGUgZGlhbG9nIHVzYWdlIGlzIGVzdGFibGlzaGVkIGJ5IHRoZSBOT1RJRlkgcmVxdWVzdCwgdGhlXG4gICAgICAgICAgICAvLyByb3V0ZSBzZXQgYXQgdGhlIHN1YnNjcmliZXIgaXMgdGFrZW4gZnJvbSB0aGUgTk9USUZZIHJlcXVlc3QgaXRzZWxmLFxuICAgICAgICAgICAgLy8gYXMgb3Bwb3NlZCB0byB0aGUgcm91dGUgc2V0IHByZXNlbnQgaW4gdGhlIDIwMC1jbGFzcyByZXNwb25zZSB0byB0aGVcbiAgICAgICAgICAgIC8vIFNVQlNDUklCRSByZXF1ZXN0LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjQuMVxuICAgICAgICAgICAgdmFyIGRpYWxvZ1N0YXRlID0gc3Vic2NyaXB0aW9uX2RpYWxvZ18xLlN1YnNjcmlwdGlvbkRpYWxvZy5pbml0aWFsRGlhbG9nU3RhdGVGb3JTdWJzY3JpcHRpb24odGhpcy5tZXNzYWdlLCB1YXMubWVzc2FnZSk7XG4gICAgICAgICAgICAvLyBTdWJzY3JpcHRpb24gSW5pdGlhdGVkISA6KVxuICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBuZXcgc3Vic2NyaXB0aW9uX2RpYWxvZ18xLlN1YnNjcmlwdGlvbkRpYWxvZyh0aGlzLnN1YnNjcmlwdGlvbkV2ZW50LCB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXMsIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUsIHRoaXMuY29yZSwgZGlhbG9nU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERlbGVnYXRlLlxuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5KSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHVhcztcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLmRpYWxvZztcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkoeyByZXF1ZXN0OiByZXF1ZXN0LCBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS53YWl0Tm90aWZ5U3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5OKSB7XG4gICAgICAgICAgICAvLyBBZGQgb3Vyc2VsdmVzIHRvIHRoZSBjb3JlJ3Mgc3Vic2NyaWJlciBtYXAuXG4gICAgICAgICAgICAvLyBUaGlzIGFsbG93cyB0aGUgY29yZSB0byByb3V0ZSBvdXQgb2YgZGlhbG9nIE5PVElGWSBtZXNzYWdlcyB0byB1cy5cbiAgICAgICAgICAgIHRoaXMuY29yZS5zdWJzY3JpYmVycy5zZXQodGhpcy5zdWJzY3JpYmVySWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5OID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9OKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9OKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS53YWl0Tm90aWZ5U3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuTikge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIG91cnNlbHZlcyB0byB0aGUgY29yZSdzIHN1YnNjcmliZXIgbWFwLlxuICAgICAgICAgICAgLy8gQW55IGZ1dHVyZSBvdXQgb2YgZGlhbG9nIE5PVElGWSBtZXNzYWdlcyB3aWxsIGJlIHJlamVjdGVkIHdpdGggYSA0ODEuXG4gICAgICAgICAgICB0aGlzLmNvcmUuc3Vic2NyaWJlcnMuZGVsZXRlKHRoaXMuc3Vic2NyaWJlcklkKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLk4pO1xuICAgICAgICAgICAgdGhpcy5OID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIGEgcmVzcG9uc2UgZnJvbSB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXNwb25zZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIFN1YnNjcmliZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmF1dGhlbnRpY2F0aW9uR3VhcmQobWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGF0dXNDb2RlICYmIG1lc3NhZ2Uuc3RhdHVzQ29kZSA+PSAyMDAgJiYgbWVzc2FnZS5zdGF0dXNDb2RlIDwgMzAwKSB7XG4gICAgICAgICAgICAvLyAgVGhlIFwiRXhwaXJlc1wiIGhlYWRlciBmaWVsZCBpbiBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBTVUJTQ1JJQkVcbiAgICAgICAgICAgIC8vICByZXF1ZXN0IGluZGljYXRlcyB0aGUgYWN0dWFsIGR1cmF0aW9uIGZvciB3aGljaCB0aGUgc3Vic2NyaXB0aW9uIHdpbGxcbiAgICAgICAgICAgIC8vICByZW1haW4gYWN0aXZlICh1bmxlc3MgcmVmcmVzaGVkKS4gIFRoZSByZWNlaXZlZCB2YWx1ZSBtaWdodCBiZVxuICAgICAgICAgICAgLy8gIHNtYWxsZXIgdGhhbiB0aGUgdmFsdWUgaW5kaWNhdGVkIGluIHRoZSBTVUJTQ1JJQkUgcmVxdWVzdCBidXQgY2Fubm90XG4gICAgICAgICAgICAvLyAgYmUgbGFyZ2VyOyBzZWUgU2VjdGlvbiA0LjIuMSBmb3IgZGV0YWlscy5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMVxuICAgICAgICAgICAgLy8gVGhlIFwiRXhwaXJlc1wiIHZhbHVlcyBwcmVzZW50IGluIFNVQlNDUklCRSAyMDAtY2xhc3MgcmVzcG9uc2VzIGJlaGF2ZVxuICAgICAgICAgICAgLy8gaW4gdGhlIHNhbWUgd2F5IGFzIHRoZXkgZG8gaW4gUkVHSVNURVIgcmVzcG9uc2VzOiB0aGUgc2VydmVyIE1BWVxuICAgICAgICAgICAgLy8gc2hvcnRlbiB0aGUgaW50ZXJ2YWwgYnV0IE1VU1QgTk9UIGxlbmd0aGVuIGl0LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIElmIHRoZSBkdXJhdGlvbiBzcGVjaWZpZWQgaW4gYSBTVUJTQ1JJQkUgcmVxdWVzdCBpcyB1bmFjY2VwdGFibHlcbiAgICAgICAgICAgIC8vICAgIHNob3J0LCB0aGUgbm90aWZpZXIgbWF5IGJlIGFibGUgdG8gc2VuZCBhIDQyMyByZXNwb25zZSwgYXNcbiAgICAgICAgICAgIC8vICAgIGRlc2NyaWJlZCBlYXJsaWVyIGluIHRoaXMgc2VjdGlvbi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAyMDAtY2xhc3MgcmVzcG9uc2VzIHRvIFNVQlNDUklCRSByZXF1ZXN0cyB3aWxsIG5vdCBnZW5lcmFsbHkgY29udGFpblxuICAgICAgICAgICAgLy8gYW55IHVzZWZ1bCBpbmZvcm1hdGlvbiBiZXlvbmQgc3Vic2NyaXB0aW9uIGR1cmF0aW9uOyB0aGVpciBwcmltYXJ5XG4gICAgICAgICAgICAvLyBwdXJwb3NlIGlzIHRvIHNlcnZlIGFzIGEgcmVsaWFiaWxpdHkgbWVjaGFuaXNtLiAgU3RhdGUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgIC8vIHdpbGwgYmUgY29tbXVuaWNhdGVkIHZpYSBhIHN1YnNlcXVlbnQgTk9USUZZIHJlcXVlc3QgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIG5vdGlmaWVyLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjIuMS4xXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKTtcbiAgICAgICAgICAgIGlmICghZXhwaXJlcykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJFeHBpcmVzIGhlYWRlciBtaXNzaW5nIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25FeHBpcmVzUmVjZWl2ZWQgPSBOdW1iZXIoZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkV4cGlyZXNSZWNlaXZlZCA+IHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlc1JlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiRXhwaXJlcyBoZWFkZXIgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gU1VCU0NSSUJFIHdpdGggYSBoaWdoZXIgdmFsdWUgdGhhbiB0aGUgb25lIGluIHRoZSByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uRXhwaXJlc1JlY2VpdmVkIDwgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHN1YnNjcmlwdGlvbkV4cGlyZXNSZWNlaXZlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhIE5PVElGWSBhcnJpdmVkIGJlZm9yZSAyMDAtY2xhc3MgcmVzcG9uc2UgYSBkaWFsb2cgbWF5IGhhdmUgYmVlbiBjcmVhdGVkLlxuICAgICAgICAgICAgLy8gVXBkYXRlZCB0aGUgZGlhbG9ncyBleHBpcmF0aW9uIG9ubHkgaWYgdGhpcyBpbmRpY2F0ZXMgZWFybGllciBleHBpcmF0aW9uLlxuICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nLnN1YnNjcmlwdGlvbkV4cGlyZXMgPiB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzQ29kZSAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPj0gMzAwICYmIG1lc3NhZ2Uuc3RhdHVzQ29kZSA8IDcwMCkge1xuICAgICAgICAgICAgdGhpcy53YWl0Tm90aWZ5U3RvcCgpOyAvLyBObyBOT1RJRlkgd2lsbCBiZSBzZW50IGFmdGVyIGEgbmVnYXRpdmUgZmluYWwgcmVzcG9uc2UuXG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIGVuc3VyZSB0aGF0IHN1YnNjcmliZXJzIGRvIG5vdCB3YWl0IGluZGVmaW5pdGVseSBmb3IgYVxuICAgICAqIHN1YnNjcmlwdGlvbiB0byBiZSBlc3RhYmxpc2hlZCwgYSBzdWJzY3JpYmVyIHN0YXJ0cyBhIFRpbWVyIE4sIHNldCB0b1xuICAgICAqIDY0KlQxLCB3aGVuIGl0IHNlbmRzIGEgU1VCU0NSSUJFIHJlcXVlc3QuICBJZiB0aGlzIFRpbWVyIE4gZXhwaXJlc1xuICAgICAqIHByaW9yIHRvIHRoZSByZWNlaXB0IG9mIGEgTk9USUZZIHJlcXVlc3QsIHRoZSBzdWJzY3JpYmVyIGNvbnNpZGVyc1xuICAgICAqIHRoZSBzdWJzY3JpcHRpb24gZmFpbGVkLCBhbmQgY2xlYW5zIHVwIGFueSBzdGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogc3Vic2NyaXB0aW9uIGF0dGVtcHQuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi40XG4gICAgICovXG4gICAgU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS50aW1lcl9OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVGltZXIgTiBleHBpcmVkIGZvciBTVUJTQ1JJQkUgdXNlciBhZ2VudCBjbGllbnQuIFRpbWVkIG91dCB3YWl0aW5nIGZvciBOT1RJRlkuXCIpO1xuICAgICAgICB0aGlzLndhaXROb3RpZnlTdG9wKCk7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25Ob3RpZnlUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5VGltZW91dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50O1xufSh1c2VyX2FnZW50X2NsaWVudF8xLlVzZXJBZ2VudENsaWVudCkpO1xuZXhwb3J0cy5TdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQgPSBTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFNVQlNDUklCRSBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaWJlVXNlckFnZW50U2VydmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcihjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvcmUgPSBjb3JlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciA9IFN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MSUJSQVJZX1ZFUlNJT04gPSBcIjAuMTUuMTFcIjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL0NvbnN0YW50c1wiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9FeGNlcHRpb25zXCIpO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG52YXIgRFRNRlZhbGlkYXRvcl8xID0gcmVxdWlyZShcIi4vRFRNRlZhbGlkYXRvclwiKTtcbi8qKlxuICogQGNsYXNzIERUTUZcbiAqIEBwYXJhbSB7U0lQLlNlc3Npb259IHNlc3Npb25cbiAqL1xudmFyIERUTUYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRFRNRiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEVE1GKHNlc3Npb24sIHRvbmUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuQyA9IHtcbiAgICAgICAgICAgIE1JTl9EVVJBVElPTjogNzAsXG4gICAgICAgICAgICBNQVhfRFVSQVRJT046IDYwMDAsXG4gICAgICAgICAgICBERUZBVUxUX0RVUkFUSU9OOiAxMDAsXG4gICAgICAgICAgICBNSU5fSU5URVJfVE9ORV9HQVA6IDUwLFxuICAgICAgICAgICAgREVGQVVMVF9JTlRFUl9UT05FX0dBUDogNTAwXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLkRUTUY7XG4gICAgICAgIGlmICh0b25lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgZW5vdWdoIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5sb2dnZXIgPSBzZXNzaW9uLnVhLmdldExvZ2dlcihcInNpcC5pbnZpdGVjb250ZXh0LmR0bWZcIiwgc2Vzc2lvbi5pZCk7XG4gICAgICAgIF90aGlzLm93bmVyID0gc2Vzc2lvbjtcbiAgICAgICAgdmFyIG1vcmVUaGFuT25lVG9uZSA9IGZhbHNlO1xuICAgICAgICAvLyBJZiB0b25lIGlzIGludmFsaWQsIGl0IHdpbGwgYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhbiBleGNlcHRpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIHRvbmUgaW4gdGhlIGNvcnJlY3QgZm9ybWF0LlxuICAgICAgICBfdGhpcy50b25lID0gRFRNRlZhbGlkYXRvcl8xLkRUTUZWYWxpZGF0b3IudmFsaWRhdGUodG9uZSwgbW9yZVRoYW5PbmVUb25lKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcbiAgICAgICAgdmFyIGludGVyVG9uZUdhcCA9IG9wdGlvbnMuaW50ZXJUb25lR2FwO1xuICAgICAgICAvLyBDaGVjayBkdXJhdGlvblxuICAgICAgICBpZiAoZHVyYXRpb24gJiYgIVV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdG9uZSBkdXJhdGlvbjogXCIgKyBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWR1cmF0aW9uKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IF90aGlzLkMuREVGQVVMVF9EVVJBVElPTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkdXJhdGlvbiA8IF90aGlzLkMuTUlOX0RVUkFUSU9OKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIidkdXJhdGlvbicgdmFsdWUgaXMgbG93ZXIgdGhhbiB0aGUgbWluaW11bSBhbGxvd2VkLCBzZXR0aW5nIGl0IHRvIFwiICtcbiAgICAgICAgICAgICAgICBfdGhpcy5DLk1JTl9EVVJBVElPTiArIFwiIG1pbGxpc2Vjb25kc1wiKTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gX3RoaXMuQy5NSU5fRFVSQVRJT047XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHVyYXRpb24gPiBfdGhpcy5DLk1BWF9EVVJBVElPTikge1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCInZHVyYXRpb24nIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bSBhbGxvd2VkLCBzZXR0aW5nIGl0IHRvIFwiICtcbiAgICAgICAgICAgICAgICBfdGhpcy5DLk1BWF9EVVJBVElPTiArIFwiIG1pbGxpc2Vjb25kc1wiKTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gX3RoaXMuQy5NQVhfRFVSQVRJT047XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IE1hdGguYWJzKGR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAvLyBDaGVjayBpbnRlclRvbmVHYXBcbiAgICAgICAgaWYgKGludGVyVG9uZUdhcCAmJiAhVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwoaW50ZXJUb25lR2FwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgaW50ZXJUb25lR2FwOiBcIiArIGludGVyVG9uZUdhcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWludGVyVG9uZUdhcCkge1xuICAgICAgICAgICAgaW50ZXJUb25lR2FwID0gX3RoaXMuQy5ERUZBVUxUX0lOVEVSX1RPTkVfR0FQO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGludGVyVG9uZUdhcCA8IF90aGlzLkMuTUlOX0lOVEVSX1RPTkVfR0FQKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIidpbnRlclRvbmVHYXAnIHZhbHVlIGlzIGxvd2VyIHRoYW4gdGhlIG1pbmltdW0gYWxsb3dlZCwgc2V0dGluZyBpdCB0byBcIiArXG4gICAgICAgICAgICAgICAgX3RoaXMuQy5NSU5fSU5URVJfVE9ORV9HQVAgKyBcIiBtaWxsaXNlY29uZHNcIik7XG4gICAgICAgICAgICBpbnRlclRvbmVHYXAgPSBfdGhpcy5DLk1JTl9JTlRFUl9UT05FX0dBUDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyVG9uZUdhcCA9IE1hdGguYWJzKGludGVyVG9uZUdhcCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuaW50ZXJUb25lR2FwID0gaW50ZXJUb25lR2FwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERUTUYucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBDaGVjayBSVENTZXNzaW9uIFN0YXR1c1xuICAgICAgICBpZiAodGhpcy5vd25lci5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEICYmXG4gICAgICAgICAgICB0aGlzLm93bmVyLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLm93bmVyLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IERUTUYgb3B0aW9uc1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMgPyBvcHRpb25zLmV4dHJhSGVhZGVycy5zbGljZSgpIDogW107XG4gICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vZHRtZi1yZWxheVwiLFxuICAgICAgICAgICAgYm9keTogXCJTaWduYWw9IFwiICsgdGhpcy50b25lICsgXCJcXHJcXG5EdXJhdGlvbj0gXCIgKyB0aGlzLmR1cmF0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm93bmVyLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5vd25lci5zZXNzaW9uLmluZm8odW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihib2R5KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm93bmVyLmVtaXQoXCJkdG1mXCIsIHJlcXVlc3QubWVzc2FnZSwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERUTUYucHJvdG90eXBlLmluaXRfaW5jb21pbmcgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICByZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICBpZiAoIXRoaXMudG9uZSB8fCAhdGhpcy5kdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImludmFsaWQgSU5GTyBEVE1GIHJlY2VpdmVkLCBkaXNjYXJkZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyLmVtaXQoXCJkdG1mXCIsIHJlcXVlc3QubWVzc2FnZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERUTUYucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1c0NvZGUgPyByZXNwb25zZS5zdGF0dXNDb2RlIDogMDtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIC9eMVswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBwcm92aXNpb25hbCByZXNwb25zZXMuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eMlswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN1Y2NlZWRlZFwiLCB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmF0b3I6IFwicmVtb3RlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB2YXIgY2F1c2UgPSBVdGlsc18xLlV0aWxzLnNpcEVycm9yQ2F1c2Uoc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERUTUYucHJvdG90eXBlLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCB1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgICAgIHRoaXMub3duZXIub25SZXF1ZXN0VGltZW91dCgpO1xuICAgIH07XG4gICAgRFRNRi5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUik7XG4gICAgICAgIHRoaXMub3duZXIub25UcmFuc3BvcnRFcnJvcigpO1xuICAgIH07XG4gICAgRFRNRi5wcm90b3R5cGUub25EaWFsb2dFcnJvciA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgcmVzcG9uc2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkRJQUxPR19FUlJPUik7XG4gICAgICAgIHRoaXMub3duZXIub25EaWFsb2dFcnJvcihyZXNwb25zZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRFRNRjtcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLkRUTUYgPSBEVE1GO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgcmVxdWVzdCB0byBlbmQgYSB7QGxpbmsgU2Vzc2lvbn0gKGluY29taW5nIEJZRSkuXG4gKiBAcHVibGljXG4gKi9cbnZhciBCeWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIEJ5ZShpbmNvbWluZ0J5ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5pbmNvbWluZ0J5ZVJlcXVlc3QgPSBpbmNvbWluZ0J5ZVJlcXVlc3Q7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCeWUucHJvdG90eXBlLCBcInJlcXVlc3RcIiwge1xuICAgICAgICAvKiogSW5jb21pbmcgQllFIHJlcXVlc3QgbWVzc2FnZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ0J5ZVJlcXVlc3QubWVzc2FnZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEFjY2VwdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBCeWUucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdCeWVSZXF1ZXN0LmFjY2VwdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgLyoqIFJlamVjdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBCeWUucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdCeWVSZXF1ZXN0LnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ5ZTtcbn0oKSk7XG5leHBvcnRzLkJ5ZSA9IEJ5ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVzIGFuIHtAbGluayBFbWl0dGVyfS5cbiAqIEBwYXJhbSBldmVudEVtaXR0ZXIgLSBBbiBldmVudCBlbWl0dGVyLlxuICogQHBhcmFtIGV2ZW50TmFtZSAtIEV2ZW50IG5hbWUuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gX21ha2VFbWl0dGVyKGV2ZW50RW1pdHRlciwgZXZlbnROYW1lKSB7XG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gdm9pZCAwKSB7IGV2ZW50TmFtZSA9IFwiZXZlbnRcIjsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZExpc3RlbmVyOiBmdW5jdGlvbiAobGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vbmNlKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRFbWl0dGVyLm9uY2UoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgb246IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgZXZlbnRFbWl0dGVyLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICB9LFxuICAgICAgICBvZmY6IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICB9LFxuICAgICAgICBvbmNlOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5vbmNlKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydHMuX21ha2VFbWl0dGVyID0gX21ha2VFbWl0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbnRlbnQtdHlwZS11bnN1cHBvcnRlZFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9yZXF1ZXN0LXBlbmRpbmdcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2Vzc2lvbi1kZXNjcmlwdGlvbi1oYW5kbGVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3Nlc3Npb24tdGVybWluYXRlZFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdGF0ZS10cmFuc2l0aW9uXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4uLy4uL2NvcmVcIik7XG4vKipcbiAqIEFuIGV4Y2VwdGlvbiBpbmRpY2F0aW5nIGFuIHVuc3VwcG9ydGVkIGNvbnRlbnQgdHlwZSBwcmV2ZW50ZWQgZXhlY3V0aW9uLlxuICogQHB1YmxpY1xuICovXG52YXIgQ29udGVudFR5cGVVbnN1cHBvcnRlZEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbnRlbnRUeXBlVW5zdXBwb3J0ZWRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250ZW50VHlwZVVuc3VwcG9ydGVkRXJyb3IobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA/IG1lc3NhZ2UgOiBcIlVuc3VwcG9ydGVkIGNvbnRlbnQgdHlwZS5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbnRlbnRUeXBlVW5zdXBwb3J0ZWRFcnJvcjtcbn0oY29yZV8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5Db250ZW50VHlwZVVuc3VwcG9ydGVkRXJyb3IgPSBDb250ZW50VHlwZVVuc3VwcG9ydGVkRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyBhbiBvdXRzdGFuZGluZyBwcmlvciByZXF1ZXN0IHByZXZlbnRlZCBleGVjdXRpb24uXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZXF1ZXN0UGVuZGluZ0Vycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlcXVlc3RQZW5kaW5nRXJyb3IsIF9zdXBlcik7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIFJlcXVlc3RQZW5kaW5nRXJyb3IobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA/IG1lc3NhZ2UgOiBcIlJlcXVlc3QgcGVuZGluZy5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJlcXVlc3RQZW5kaW5nRXJyb3I7XG59KGNvcmVfMS5FeGNlcHRpb24pKTtcbmV4cG9ydHMuUmVxdWVzdFBlbmRpbmdFcnJvciA9IFJlcXVlc3RQZW5kaW5nRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyBhIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBlcnJvciBvY2N1cmVkLlxuICogQHB1YmxpY1xuICovXG52YXIgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA/IG1lc3NhZ2UgOiBcIlVuc3BlY2lmaWVkIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBlcnJvci5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcjtcbn0oY29yZV8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IgPSBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyB0aGUgc2Vzc2lvbiB0ZXJtaW5hdGVkIGJlZm9yZSB0aGUgYWN0aW9uIGNvbXBsZXRlZC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFNlc3Npb25UZXJtaW5hdGVkRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2Vzc2lvblRlcm1pbmF0ZWRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZXNzaW9uVGVybWluYXRlZEVycm9yKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgXCJUaGUgc2Vzc2lvbiBoYXMgdGVybWluYXRlZC5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNlc3Npb25UZXJtaW5hdGVkRXJyb3I7XG59KGNvcmVfMS5FeGNlcHRpb24pKTtcbmV4cG9ydHMuU2Vzc2lvblRlcm1pbmF0ZWRFcnJvciA9IFNlc3Npb25UZXJtaW5hdGVkRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyBhbiBpbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZXJyb3Igb2NjdXJlZC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFN0YXRlVHJhbnNpdGlvbkVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN0YXRlVHJhbnNpdGlvbkVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0YXRlVHJhbnNpdGlvbkVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UgPyBtZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgc3RhdGUgdHJhbnNpdGlvbi5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN0YXRlVHJhbnNpdGlvbkVycm9yO1xufShjb3JlXzEuRXhjZXB0aW9uKSk7XG5leHBvcnRzLlN0YXRlVHJhbnNpdGlvbkVycm9yID0gU3RhdGVUcmFuc2l0aW9uRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQW4gZXhjaGFuZ2Ugb2YgaW5mb3JtYXRpb24gKGluY29taW5nIElORk8pLlxuICogQHB1YmxpY1xuICovXG52YXIgSW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgZnVuY3Rpb24gSW5mbyhpbmNvbWluZ0luZm9SZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdJbmZvUmVxdWVzdCA9IGluY29taW5nSW5mb1JlcXVlc3Q7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbmZvLnByb3RvdHlwZSwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgLyoqIEluY29taW5nIE1FU1NBR0UgcmVxdWVzdCBtZXNzYWdlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluY29taW5nSW5mb1JlcXVlc3QubWVzc2FnZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEFjY2VwdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBJbmZvLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nSW5mb1JlcXVlc3QuYWNjZXB0KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICAvKiogUmVqZWN0IHRoZSByZXF1ZXN0LiAqL1xuICAgIEluZm8ucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdJbmZvUmVxdWVzdC5yZWplY3Qob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbmZvO1xufSgpKTtcbmV4cG9ydHMuSW5mbyA9IEluZm87XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQSByZWNlaXZlZCBtZXNzYWdlIChpbmNvbWluZyBNRVNTQUdFKS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIE1lc3NhZ2UoaW5jb21pbmdNZXNzYWdlUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmluY29taW5nTWVzc2FnZVJlcXVlc3QgPSBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzc2FnZS5wcm90b3R5cGUsIFwicmVxdWVzdFwiLCB7XG4gICAgICAgIC8qKiBJbmNvbWluZyBNRVNTQUdFIHJlcXVlc3QgbWVzc2FnZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ01lc3NhZ2VSZXF1ZXN0Lm1lc3NhZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBBY2NlcHQgdGhlIHJlcXVlc3QuICovXG4gICAgTWVzc2FnZS5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pbmNvbWluZ01lc3NhZ2VSZXF1ZXN0LmFjY2VwdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgLyoqIFJlamVjdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBNZXNzYWdlLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nTWVzc2FnZVJlcXVlc3QucmVqZWN0KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVzc2FnZTtcbn0oKSk7XG5leHBvcnRzLk1lc3NhZ2UgPSBNZXNzYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgbm90aWZpY2F0aW9uIG9mIGFuIGV2ZW50IChpbmNvbWluZyBOT1RJRlkpLlxuICogQHB1YmxpY1xuICovXG52YXIgTm90aWZpY2F0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBmdW5jdGlvbiBOb3RpZmljYXRpb24oaW5jb21pbmdOb3RpZnlSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdOb3RpZnlSZXF1ZXN0ID0gaW5jb21pbmdOb3RpZnlSZXF1ZXN0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90aWZpY2F0aW9uLnByb3RvdHlwZSwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgLyoqIEluY29taW5nIE5PVElGWSByZXF1ZXN0IG1lc3NhZ2UuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5jb21pbmdOb3RpZnlSZXF1ZXN0Lm1lc3NhZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBBY2NlcHQgdGhlIHJlcXVlc3QuICovXG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nTm90aWZ5UmVxdWVzdC5hY2NlcHQob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIC8qKiBSZWplY3QgdGhlIHJlcXVlc3QuICovXG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nTm90aWZ5UmVxdWVzdC5yZWplY3Qob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBOb3RpZmljYXRpb247XG59KCkpO1xuZXhwb3J0cy5Ob3RpZmljYXRpb24gPSBOb3RpZmljYXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi4vY29yZVwiKTtcbi8qKlxuICogQSByZXF1ZXN0IHRvIGVzdGFibGlzaCBhIHtAbGluayBTZXNzaW9ufSBlbHNld2hlcmUgKGluY29taW5nIFJFRkVSKS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlZmVycmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBmdW5jdGlvbiBSZWZlcnJhbChpbmNvbWluZ1JlZmVyUmVxdWVzdCwgc2Vzc2lvbikge1xuICAgICAgICB0aGlzLmluY29taW5nUmVmZXJSZXF1ZXN0ID0gaW5jb21pbmdSZWZlclJlcXVlc3Q7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWZlcnJhbC5wcm90b3R5cGUsIFwicmVmZXJUb1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlZmVyVG8gPSB0aGlzLmluY29taW5nUmVmZXJSZXF1ZXN0Lm1lc3NhZ2UucGFyc2VIZWFkZXIoXCJyZWZlci10b1wiKTtcbiAgICAgICAgICAgIGlmICghKHJlZmVyVG8gaW5zdGFuY2VvZiBjb3JlXzEuTmFtZUFkZHJIZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIFJlZmVyLVRvIGhlYWRlci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVmZXJUbztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmVycmFsLnByb3RvdHlwZSwgXCJyZWZlcnJlZEJ5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ1JlZmVyUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcInJlZmVycmVkLWJ5XCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVmZXJyYWwucHJvdG90eXBlLCBcInJlcGxhY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZlclRvLnVyaS5nZXRIZWFkZXIoXCJyZXBsYWNlc1wiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmVycmFsLnByb3RvdHlwZSwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgLyoqIEluY29taW5nIFJFRkVSIHJlcXVlc3QgbWVzc2FnZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ1JlZmVyUmVxdWVzdC5tZXNzYWdlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogQWNjZXB0IHRoZSByZXF1ZXN0LiAqL1xuICAgIFJlZmVycmFsLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDIwMiB9OyB9XG4gICAgICAgIHRoaXMuaW5jb21pbmdSZWZlclJlcXVlc3QuYWNjZXB0KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICAvKiogUmVqZWN0IHRoZSByZXF1ZXN0LiAqL1xuICAgIFJlZmVycmFsLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nUmVmZXJSZXF1ZXN0LnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnZpdGVyIHdoaWNoIG1heSBiZSB1c2VkIHRvIHNlbmQgYW4gb3V0IG9mIGRpYWxvZyBJTlZJVEUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogVGhpcyBhIGhlbHBlciBtZXRob2QgdG8gY3JlYXRlIGFuIEludml0ZXIgd2hpY2ggd2lsbCBleGVjdXRlIHRoZSByZWZlcnJhbFxuICAgICAqIG9mIHRoZSBgU2Vzc2lvbmAgd2hpY2ggd2FzIHJlZmVycmVkLiBUaGUgYXBwcm9wcmlhdGUgaGVhZGVycyBhcmUgc2V0IGFuZFxuICAgICAqIHRoZSByZWZlcnJlZCBgU2Vzc2lvbmAgaXMgbGlua2VkIHRvIHRoZSBuZXcgYFNlc3Npb25gLiBOb3RlIHRoYXQgb25seSBhXG4gICAgICogc2luZ2xlIGluc3RhbmNlIG9mIHRoZSBgSW52aXRlcmAgd2lsbCBiZSBjcmVhdGVkIGFuZCByZXR1cm5lZCAoaWYgY2FsbGVkXG4gICAgICogbW9yZSB0aGFuIG9uY2UgYSByZWZlcmVuY2UgdG8gdGhlIHNhbWUgYEludml0ZXJgIHdpbGwgYmUgcmV0dXJuZWQgZXZlcnkgdGltZSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBwYXJhbSBtb2RpZmllcnMgLSBTZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXIgbW9kaWZpZXJzLlxuICAgICAqL1xuICAgIFJlZmVycmFsLnByb3RvdHlwZS5tYWtlSW52aXRlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLmludml0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludml0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhcmdldFVSSSA9IHRoaXMucmVmZXJUby51cmkuY2xvbmUoKTtcbiAgICAgICAgdGFyZ2V0VVJJLmNsZWFySGVhZGVycygpO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgdmFyIHJlcGxhY2VzID0gdGhpcy5yZXBsYWNlcztcbiAgICAgICAgaWYgKHJlcGxhY2VzKSB7XG4gICAgICAgICAgICAvLyBkZWNvZGVVUklDb21wb25lbnQgaXMgYSBob2xkb3ZlciBmcm9tIDJjMDg2ZWI0LiBOb3Qgc3VyZSB0aGF0IGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeVxuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJSZXBsYWNlczogXCIgKyBkZWNvZGVVUklDb21wb25lbnQocmVwbGFjZXMpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVmZXJyZWRCeSA9IHRoaXMucmVmZXJyZWRCeTtcbiAgICAgICAgaWYgKHJlZmVycmVkQnkpIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVmZXJyZWQtQnk6IFwiICsgcmVmZXJyZWRCeSk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBleHRyYUhlYWRlcnM7XG4gICAgICAgIHRoaXMuaW52aXRlciA9IHRoaXMuc2Vzc2lvbi51c2VyQWdlbnQuX21ha2VJbnZpdGVyKHRhcmdldFVSSSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW52aXRlci5fcmVmZXJyZWQgPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5fcmVmZXJyYWwgPSB0aGlzLmludml0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLmludml0ZXI7XG4gICAgfTtcbiAgICByZXR1cm4gUmVmZXJyYWw7XG59KCkpO1xuZXhwb3J0cy5SZWZlcnJhbCA9IFJlZmVycmFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIHtAbGluayBTZXNzaW9ufSBzdGF0ZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIHtAbGluayBTZXNzaW9ufSBiZWhhdmVzIGluIGEgZGV0ZXJtaW5pc3RpYyBtYW5uZXIgYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmdcbiAqIEZpbml0ZSBTdGF0ZSBNYWNoaW5lIChGU00pLlxuICogYGBgdHh0XG4gKiAgICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICogICAgICAgICAgICAgICAgICB8ICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXyAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgIHwgfCAgICAgICAgICAgIF9fX19fX19fX19fX19fX19fX19fX19fX19fX18gICAgfCAgICAgICAgICAgIHxcbiAqIFNlc3Npb24gICAgICAgICAgfCB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgICB2ICAgICAgICAgICAgdlxuICogQ29uc3RydWN0ZWQgLT4gSW5pdGlhbCAtPiBFc3RhYmxpc2hpbmcgLT4gRXN0YWJsaXNoZWQgLT4gVGVybWluYXRpbmcgLT4gVGVybWluYXRlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICB8X19fX19fX19fX19fX19fX19fX19fX19fX19fXiAgIF5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX198XG4gKiBgYGBcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFNlc3Npb25TdGF0ZTtcbihmdW5jdGlvbiAoU2Vzc2lvblN0YXRlKSB7XG4gICAgLyoqXG4gICAgICogSWYgYEludml0ZXJgLCBJTlZJVEUgbm90IHNlbnQgeWV0LlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFIChidXQgbm8gZmluYWwgcmVzcG9uc2Ugc2VudCB5ZXQpLlxuICAgICAqL1xuICAgIFNlc3Npb25TdGF0ZVtcIkluaXRpYWxcIl0gPSBcIkluaXRpYWxcIjtcbiAgICAvKipcbiAgICAgKiBJZiBgSW52aXRlcmAsIHNlbnQgSU5WSVRFIGFuZCB3YWl0aW5nIGZvciBhIGZpbmFsIHJlc3BvbnNlLlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFIGFuZCBhdHRlbXB0aW5nIHRvIHNlbmQgMjAwIGZpbmFsIHJlc3BvbnNlIChidXQgaGFzIG5vdCBzZW50IGl0IHlldCkuXG4gICAgICovXG4gICAgU2Vzc2lvblN0YXRlW1wiRXN0YWJsaXNoaW5nXCJdID0gXCJFc3RhYmxpc2hpbmdcIjtcbiAgICAvKipcbiAgICAgKiBJZiBgSW52aXRlcmAsIHNlbnQgSU5WSVRFIGFuZCByZWNlaXZlZCAyMDAgZmluYWwgcmVzcG9uc2UgYW5kIHNlbnQgQUNLLlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFIGFuZCBzZW50IDIwMCBmaW5hbCByZXNwb25zZS5cbiAgICAgKi9cbiAgICBTZXNzaW9uU3RhdGVbXCJFc3RhYmxpc2hlZFwiXSA9IFwiRXN0YWJsaXNoZWRcIjtcbiAgICAvKipcbiAgICAgKiBJZiBgSW52aXRlcmAsIHNlbnQgSU5WSVRFLCBzZW50IENBTkNFTCBhbmQgbm93IHdhaXRpbmcgZm9yIDQ4NyBmaW5hbCByZXNwb25zZSB0byBBQ0sgKG9yIDIwMCB0byBBQ0sgJiBCWUUpLlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFLCBzZW50IDIwMCBmaW5hbCByZXNwb25zZSBhbmQgbm93IHdhaXRpbmcgb24gQUNLIGFuZCB1cG9uIHJlY2VpcHQgd2lsbCBhdHRlbXB0IEJZRVxuICAgICAqIChhcyB0aGUgcHJvdG9jb2wgc3BlY2lmaWNhdGlvbiByZXF1aXJlcywgYmVmb3JlIHNlbmRpbmcgYSBCWUUgd2UgbXVzdCByZWNlaXZlIHRoZSBBQ0sgLSBzbyB3ZSBhcmUgd2FpdGluZykuXG4gICAgICovXG4gICAgU2Vzc2lvblN0YXRlW1wiVGVybWluYXRpbmdcIl0gPSBcIlRlcm1pbmF0aW5nXCI7XG4gICAgLyoqXG4gICAgICogSWYgYEludml0ZXJgLCBzZW50IElOVklURSBhbmQgcmVjZWl2ZWQgbm9uLTIwMCBmaW5hbCByZXNwb25zZSAob3Igc2VudC9yZWNlaXZlZCBCWUUgYWZ0ZXIgcmVjZWl2aW5nIDIwMCkuXG4gICAgICogSWYgYEludml0YXRpb25gLCByZWNlaXZlZCBJTlZJVEUgYW5kIHNlbnQgbm9uLTIwMCBmaW5hbCByZXNwb25zZSAob3Igc2VudC9yZWNlaXZlZCBCWUUgYWZ0ZXIgc2VuZGluZyAyMDApLlxuICAgICAqL1xuICAgIFNlc3Npb25TdGF0ZVtcIlRlcm1pbmF0ZWRcIl0gPSBcIlRlcm1pbmF0ZWRcIjtcbn0pKFNlc3Npb25TdGF0ZSA9IGV4cG9ydHMuU2Vzc2lvblN0YXRlIHx8IChleHBvcnRzLlNlc3Npb25TdGF0ZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzZXNzaW9uXzEgPSByZXF1aXJlKFwiLi4vYXBpL3Nlc3Npb25cIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi9FbnVtc1wiKTtcbi8qIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlclxuICogQGNsYXNzIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgT2JzZXJ2ZXIgQ2xhc3MuXG4gKiBAcGFyYW0ge1NJUC5TZXNzaW9ufSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKi9cbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlci5wcm90b3R5cGUudHJhY2tBZGRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbiBpbnN0YW5jZW9mIHNlc3Npb25fMS5TZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uLmVtaXQoXCJ0cmFja0FkZGVkXCIpO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyLnByb3RvdHlwZS5kaXJlY3Rpb25DaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uIGluc3RhbmNlb2Ygc2Vzc2lvbl8xLlNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24uZW1pdChcImRpcmVjdGlvbkNoYW5nZWRcIik7XG4gICAgfTtcbiAgICByZXR1cm4gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyO1xufSgpKTtcbmV4cG9ydHMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyID0gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBNb2RpZmllcnMgPSB0c2xpYl8xLl9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9Nb2RpZmllcnNcIikpO1xuZXhwb3J0cy5Nb2RpZmllcnMgPSBNb2RpZmllcnM7XG52YXIgU2ltcGxlXzEgPSByZXF1aXJlKFwiLi9TaW1wbGVcIik7XG5leHBvcnRzLlNpbXBsZSA9IFNpbXBsZV8xLlNpbXBsZTtcbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXCIpO1xuZXhwb3J0cy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcl8xLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI7XG52YXIgVHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi9UcmFuc3BvcnRcIik7XG5leHBvcnRzLlRyYW5zcG9ydCA9IFRyYW5zcG9ydF8xLlRyYW5zcG9ydDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIFVBXzEgPSByZXF1aXJlKFwiLi4vVUFcIik7XG52YXIgTW9kaWZpZXJzID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vTW9kaWZpZXJzXCIpKTtcbi8qIFNpbXBsZVxuICogQGNsYXNzIFNpbXBsZVxuICovXG52YXIgU2ltcGxlU3RhdHVzO1xuKGZ1bmN0aW9uIChTaW1wbGVTdGF0dXMpIHtcbiAgICBTaW1wbGVTdGF0dXNbU2ltcGxlU3RhdHVzW1wiU1RBVFVTX05VTExcIl0gPSAwXSA9IFwiU1RBVFVTX05VTExcIjtcbiAgICBTaW1wbGVTdGF0dXNbU2ltcGxlU3RhdHVzW1wiU1RBVFVTX05FV1wiXSA9IDFdID0gXCJTVEFUVVNfTkVXXCI7XG4gICAgU2ltcGxlU3RhdHVzW1NpbXBsZVN0YXR1c1tcIlNUQVRVU19DT05ORUNUSU5HXCJdID0gMl0gPSBcIlNUQVRVU19DT05ORUNUSU5HXCI7XG4gICAgU2ltcGxlU3RhdHVzW1NpbXBsZVN0YXR1c1tcIlNUQVRVU19DT05ORUNURURcIl0gPSAzXSA9IFwiU1RBVFVTX0NPTk5FQ1RFRFwiO1xuICAgIFNpbXBsZVN0YXR1c1tTaW1wbGVTdGF0dXNbXCJTVEFUVVNfQ09NUExFVEVEXCJdID0gNF0gPSBcIlNUQVRVU19DT01QTEVURURcIjtcbn0pKFNpbXBsZVN0YXR1cyA9IGV4cG9ydHMuU2ltcGxlU3RhdHVzIHx8IChleHBvcnRzLlNpbXBsZVN0YXR1cyA9IHt9KSk7XG52YXIgU2ltcGxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGUob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKlxuICAgICAgICAqICB7XG4gICAgICAgICogICAgbWVkaWE6IHtcbiAgICAgICAgKiAgICAgIHJlbW90ZToge1xuICAgICAgICAqICAgICAgICBhdWRpbzogPERPTSBlbGVtZW50PixcbiAgICAgICAgKiAgICAgICAgdmlkZW86IDxET00gZWxlbWVudD5cbiAgICAgICAgKiAgICAgIH0sXG4gICAgICAgICogICAgICBsb2NhbDoge1xuICAgICAgICAqICAgICAgICB2aWRlbzogPERPTSBlbGVtZW50PlxuICAgICAgICAqICAgICAgfVxuICAgICAgICAqICAgIH0sXG4gICAgICAgICogICAgdWE6IHtcbiAgICAgICAgKiAgICAgICA8VUEgQ29uZmlndXJhdGlvbiBPcHRpb25zPlxuICAgICAgICAqICAgIH1cbiAgICAgICAgKiAgfVxuICAgICAgICAqL1xuICAgICAgICBpZiAob3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8pIHtcbiAgICAgICAgICAgIF90aGlzLnZpZGVvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnZpZGVvID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWVkaWEucmVtb3RlLmF1ZGlvKSB7XG4gICAgICAgICAgICBfdGhpcy5hdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5hdWRpbyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX3RoaXMuYXVkaW8gJiYgIV90aGlzLnZpZGVvKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRvIGF0IGxlYXN0IGF1ZGlvIG9yIHZpZGVvXG4gICAgICAgICAgICAvLyBFcnJvclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIHJlbW90ZSBhdWRpbyBvciB2aWRlbyBlbGVtZW50IGlzIHJlcXVpcmVkIGZvciBTaW1wbGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83OTQ0NDYwL2RldGVjdC1zYWZhcmktYnJvd3NlclxuICAgICAgICB2YXIgYnJvd3NlclVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgaXNTYWZhcmkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlzRmlyZWZveCA9IGZhbHNlO1xuICAgICAgICBpZiAoYnJvd3NlclVhLmluZGV4T2YoXCJzYWZhcmlcIikgPiAtMSAmJiBicm93c2VyVWEuaW5kZXhPZihcImNocm9tZVwiKSA8IDApIHtcbiAgICAgICAgICAgIGlzU2FmYXJpID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChicm93c2VyVWEuaW5kZXhPZihcImZpcmVmb3hcIikgPiAtMSAmJiBicm93c2VyVWEuaW5kZXhPZihcImNocm9tZVwiKSA8IDApIHtcbiAgICAgICAgICAgIGlzRmlyZWZveCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgICAgICAgIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucy5tb2RpZmllcnMgPSBbTW9kaWZpZXJzLnN0cmlwRzcyMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRmlyZWZveCkge1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zLmFsd2F5c0FjcXVpcmVNZWRpYUZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV90aGlzLm9wdGlvbnMudWEudXJpKSB7XG4gICAgICAgICAgICBfdGhpcy5hbm9ueW1vdXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMudWEgPSBuZXcgVUFfMS5VQSh7XG4gICAgICAgICAgICAvLyBVc2VyIENvbmZpZ3VyYWJsZSBPcHRpb25zXG4gICAgICAgICAgICB1cmk6IF90aGlzLm9wdGlvbnMudWEudXJpLFxuICAgICAgICAgICAgYXV0aG9yaXphdGlvblVzZXI6IF90aGlzLm9wdGlvbnMudWEuYXV0aG9yaXphdGlvblVzZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogX3RoaXMub3B0aW9ucy51YS5wYXNzd29yZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBfdGhpcy5vcHRpb25zLnVhLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgLy8gVW5kb2N1bWVudGVkIFwiQWR2YW5jZWRcIiBPcHRpb25zXG4gICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IF90aGlzLm9wdGlvbnMudWEudXNlckFnZW50U3RyaW5nLFxuICAgICAgICAgICAgLy8gRml4ZWQgT3B0aW9uc1xuICAgICAgICAgICAgcmVnaXN0ZXI6IHRydWUsXG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnM6IHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyxcbiAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB0cmFjZVNpcDogX3RoaXMub3B0aW9ucy51YS50cmFjZVNpcCxcbiAgICAgICAgICAgICAgICB3c1NlcnZlcnM6IF90aGlzLm9wdGlvbnMudWEud3NTZXJ2ZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFNpbXBsZVN0YXR1cy5TVEFUVVNfTlVMTDtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gX3RoaXMudWEuZ2V0TG9nZ2VyKFwic2lwLnNpbXBsZVwiKTtcbiAgICAgICAgX3RoaXMudWEub24oXCJyZWdpc3RlcmVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWdpc3RlcmVkXCIsIF90aGlzLnVhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLnVhLm9uKFwidW5yZWdpc3RlcmVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJ1bnJlZ2lzdGVyZWRcIiwgX3RoaXMudWEpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMudWEub24oXCJyZWdpc3RyYXRpb25GYWlsZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInVucmVnaXN0ZXJlZFwiLCBfdGhpcy51YSk7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy51YS5vbihcImludml0ZVwiLCBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhbiBhY3RpdmUgc2Vzc2lvbiByZWplY3QgdGhlIGluY29taW5nIHNlc3Npb25cbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19OVUxMICYmIF90aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTVBMRVRFRCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiUmVqZWN0aW5nIGluY29taW5nIGNhbGwuIFNpbXBsZSBvbmx5IHN1cHBvcnRzIDEgY2FsbCBhdCBhIHRpbWVcIik7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgICAgIF90aGlzLnNldHVwU2Vzc2lvbigpO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInJpbmdpbmdcIiwgX3RoaXMuc2Vzc2lvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy51YS5vbihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJtZXNzYWdlXCIsIG1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGUucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLnVhIHx8ICF0aGlzLmNoZWNrUmVnaXN0cmF0aW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBIHJlZ2lzdGVyZWQgVUEgaXMgcmVxdWlyZWQgZm9yIGNhbGxpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfTlVMTCAmJiB0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTVBMRVRFRCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkNhbm5vdCBtYWtlIG1vcmUgdGhhbiBhIHNpbmdsZSBjYWxsIHdpdGggU2ltcGxlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhZmFyaSBoYWNrLCBiZWNhdXNlIHlvdSBjYW5ub3QgY2FsbCAucGxheSgpIGZyb20gYSBub24gdXNlciBhY3Rpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsICYmIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlbykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlby52b2x1bWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRoaXMudWEuaW52aXRlKGRlc3RpbmF0aW9uLCB7XG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICB2aWRlbzogdGhpcy52aWRlb1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0dXBTZXNzaW9uKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb247XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmFuc3dlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfTkVXICYmIHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVElORykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIGNhbGwgdG8gYW5zd2VyXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhZmFyaSBoYWNrLCBiZWNhdXNlIHlvdSBjYW5ub3QgY2FsbCAucGxheSgpIGZyb20gYSBub24gdXNlciBhY3Rpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmFjY2VwdCh7XG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICB2aWRlbzogdGhpcy52aWRlb1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVtaXQgY2FsbCBpcyBhY3RpdmVcbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19ORVcgJiYgdGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT05ORUNUSU5HKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQ2FsbCBpcyBhbHJlYWR5IGFuc3dlcmVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24ucmVqZWN0KCk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmhhbmd1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVEVEICYmXG4gICAgICAgICAgICB0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkcgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfTkVXKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm8gYWN0aXZlIGNhbGwgdG8gaGFuZyB1cCBvblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT05ORUNURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmJ5ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmhvbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RFRCB8fCAhdGhpcy5zZXNzaW9uIHx8IHRoaXMuc2Vzc2lvbi5sb2NhbEhvbGQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJDYW5ub3QgcHV0IGNhbGwgb24gaG9sZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11dGUoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiUGxhY2luZyBzZXNzaW9uIG9uIGhvbGRcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uaG9sZCgpO1xuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS51bmhvbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RFRCB8fCAhdGhpcy5zZXNzaW9uIHx8ICF0aGlzLnNlc3Npb24ubG9jYWxIb2xkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQ2Fubm90IHVuaG9sZCBhIGNhbGwgdGhhdCBpcyBub3Qgb24gaG9sZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVubXV0ZSgpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJQbGFjaW5nIGNhbGwgb2ZmIGhvbGRcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24udW5ob2xkKCk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLm11dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RFRCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkFuIGFjaXR2ZSBjYWxsIGlzIHJlcXVpcmVkIHRvIG11dGUgYXVkaW9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiTXV0aW5nIEF1ZGlvXCIpO1xuICAgICAgICB0aGlzLnRvZ2dsZU11dGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuZW1pdChcIm11dGVcIiwgdGhpcyk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLnVubXV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQW4gYWN0aXZlIGNhbGwgaXMgcmVxdWlyZWQgdG8gdW5tdXRlIGF1ZGlvXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlVubXV0aW5nIEF1ZGlvXCIpO1xuICAgICAgICB0aGlzLnRvZ2dsZU11dGUoZmFsc2UpO1xuICAgICAgICB0aGlzLmVtaXQoXCJ1bm11dGVcIiwgdGhpcyk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLnNlbmREVE1GID0gZnVuY3Rpb24gKHRvbmUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVEVEIHx8ICF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBbiBhY3RpdmUgY2FsbCBpcyByZXF1aXJlZCB0byBzZW5kIGEgRFRNRiB0b25lXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlNlbmRpbmcgRFRNRiB0b25lOiBcIiArIHRvbmUpO1xuICAgICAgICB0aGlzLnNlc3Npb24uZHRtZih0b25lKTtcbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUubWVzc2FnZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMudWEgfHwgIXRoaXMuY2hlY2tSZWdpc3RyYXRpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkEgcmVnaXN0ZXJlZCBVQSBpcyByZXF1aXJlZCB0byBzZW5kIGEgbWVzc2FnZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlc3RpbmF0aW9uIHx8ICFtZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQSBkZXN0aW5hdGlvbiBhbmQgbWVzc2FnZSBhcmUgcmVxdWlyZWQgdG8gc2VuZCBhIG1lc3NhZ2VcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51YS5tZXNzYWdlKGRlc3RpbmF0aW9uLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8vIFByaXZhdGUgSGVscGVyc1xuICAgIFNpbXBsZS5wcm90b3R5cGUuY2hlY2tSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5hbm9ueW1vdXMgfHwgKHRoaXMudWEgJiYgdGhpcy51YS5pc1JlZ2lzdGVyZWQoKSkpO1xuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5zZXR1cFJlbW90ZU1lZGlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIHNlc3Npb24gdG8gc2V0IHJlbW90ZSBtZWRpYSBvblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHZpZGVvIHRyYWNrLCBpdCB3aWxsIGF0dGFjaCB0aGUgdmlkZW8gYW5kIGF1ZGlvIHRvIHRoZSBzYW1lIGVsZW1lbnRcbiAgICAgICAgdmFyIHBjID0gdGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucGVlckNvbm5lY3Rpb247XG4gICAgICAgIHZhciByZW1vdGVTdHJlYW07XG4gICAgICAgIGlmIChwYy5nZXRSZWNlaXZlcnMpIHtcbiAgICAgICAgICAgIHJlbW90ZVN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xuICAgICAgICAgICAgcGMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAocmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhY2sgPSByZWNlaXZlci50cmFjaztcbiAgICAgICAgICAgICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlU3RyZWFtLmFkZFRyYWNrKHRyYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW90ZVN0cmVhbSA9IHBjLmdldFJlbW90ZVN0cmVhbXMoKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWRlbykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS52aWRlby5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvLnBsYXkoKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcInBsYXkgd2FzIHJlamVjdGVkXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdWRpbykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS5hdWRpby5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLmF1ZGlvLnBsYXkoKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcInBsYXkgd2FzIHJlamVjdGVkXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUuc2V0dXBMb2NhbE1lZGlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIHNlc3Npb24gdG8gc2V0IGxvY2FsIG1lZGlhIG9uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZpZGVvICYmIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbCAmJiB0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8pIHtcbiAgICAgICAgICAgIHZhciBwYyA9IHRoaXMuc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICAgICAgdmFyIGxvY2FsU3RyZWFtXzE7XG4gICAgICAgICAgICBpZiAocGMuZ2V0U2VuZGVycykge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RyZWFtXzEgPSBuZXcgTWVkaWFTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICBwYy5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAoc2VuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFjayA9IHNlbmRlci50cmFjaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLmtpbmQgPT09IFwidmlkZW9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdHJlYW1fMS5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RyZWFtXzEgPSBwYy5nZXRMb2NhbFN0cmVhbXMoKVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlby5zcmNPYmplY3QgPSBsb2NhbFN0cmVhbV8xO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnZvbHVtZSA9IDA7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8ucGxheSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmNsZWFudXBNZWRpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8uc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwgJiYgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5zZXR1cFNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm8gc2Vzc2lvbiB0byBzZXQgdXBcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNpbXBsZVN0YXR1cy5TVEFUVVNfTkVXO1xuICAgICAgICB0aGlzLmVtaXQoXCJuZXdcIiwgdGhpcy5zZXNzaW9uKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25Qcm9ncmVzcygpOyB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiYWNjZXB0ZWRcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25BY2NlcHRlZCgpOyB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwicmVqZWN0ZWRcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25FbmRlZCgpOyB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiZmFpbGVkXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uRmFpbGVkKCk7IH0pO1xuICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJ0ZXJtaW5hdGVkXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uRW5kZWQoKTsgfSk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmRlc3Ryb3lNZWRpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbiAmJiB0aGlzLnNlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS50b2dnbGVNdXRlID0gZnVuY3Rpb24gKG11dGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJObyBzZXNzaW9uIHRvIHRvZ2dsZSBtdXRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYyA9IHRoaXMuc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICBpZiAocGMuZ2V0U2VuZGVycykge1xuICAgICAgICAgICAgcGMuZ2V0U2VuZGVycygpLmZvckVhY2goZnVuY3Rpb24gKHNlbmRlcikge1xuICAgICAgICAgICAgICAgIGlmIChzZW5kZXIudHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyLnRyYWNrLmVuYWJsZWQgPSAhbXV0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBjLmdldExvY2FsU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLmVuYWJsZWQgPSAhbXV0ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cmFjay5lbmFibGVkID0gIW11dGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5vbkFjY2VwdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIHNlc3Npb24gZm9yIGFjY2VwdGluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT05ORUNURUQ7XG4gICAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RlZFwiLCB0aGlzLnNlc3Npb24pO1xuICAgICAgICB0aGlzLnNldHVwTG9jYWxNZWRpYSgpO1xuICAgICAgICB0aGlzLnNldHVwUmVtb3RlTWVkaWEoKTtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5vbihcImFkZFRyYWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiQSB0cmFjayBoYXMgYmVlbiBhZGRlZCwgdHJpZ2dlcmluZyBuZXcgcmVtb3RlTWVkaWEgc2V0dXBcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dXBSZW1vdGVNZWRpYSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5vbihcImFkZFN0cmVhbVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIkEgc3RyZWFtIGhhcyBiZWVuIGFkZGVkLCB0cmlnZ2VyIG5ldyByZW1vdGVNZWRpYSBzZXR1cFwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR1cFJlbW90ZU1lZGlhKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJkdG1mXCIsIGZ1bmN0aW9uIChyZXF1ZXN0LCBkdG1mKSB7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiZHRtZlwiLCBkdG1mLnRvbmUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiYnllXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uRW5kZWQoKTsgfSk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLm9uUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkc7XG4gICAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RpbmdcIiwgdGhpcy5zZXNzaW9uKTtcbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUub25GYWlsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub25FbmRlZCgpO1xuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5vbkVuZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT01QTEVURUQ7XG4gICAgICAgIHRoaXMuZW1pdChcImVuZGVkXCIsIHRoaXMuc2Vzc2lvbik7XG4gICAgICAgIHRoaXMuY2xlYW51cE1lZGlhKCk7XG4gICAgfTtcbiAgICBTaW1wbGUuQyA9IFNpbXBsZVN0YXR1cztcbiAgICByZXR1cm4gU2ltcGxlO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuU2ltcGxlID0gU2ltcGxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcbiIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHsgZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYgfSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFMpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3dlYWstbWFwXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi53ZWFrLW1hcCcpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcud2Vhay1tYXAub2YnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM3LndlYWstbWFwLmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9fY29yZScpLldlYWtNYXA7XG4iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgK1xuICAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICtcbiAgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArXG4gICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICtcbiAgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBET01JdGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBkZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG4iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgPSBnZXRLZXlzKFByb3BlcnRpZXMpO1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIHZhciBpID0gMDtcbiAgdmFyIFA7XG4gIHdoaWxlIChsZW5ndGggPiBpKSBkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbm1vZHVsZS5leHBvcnRzID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgZWFjaCA9IHJlcXVpcmUoJy4vX2FycmF5LW1ldGhvZHMnKSgwKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgbWV0YSA9IHJlcXVpcmUoJy4vX21ldGEnKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL19vYmplY3QtYXNzaWduJyk7XG52YXIgd2VhayA9IHJlcXVpcmUoJy4vX2NvbGxlY3Rpb24td2VhaycpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgdmFsaWRhdGUgPSByZXF1aXJlKCcuL192YWxpZGF0ZS1jb2xsZWN0aW9uJyk7XG52YXIgTkFUSVZFX1dFQUtfTUFQID0gcmVxdWlyZSgnLi9fdmFsaWRhdGUtY29sbGVjdGlvbicpO1xudmFyIElTX0lFMTEgPSAhZ2xvYmFsLkFjdGl2ZVhPYmplY3QgJiYgJ0FjdGl2ZVhPYmplY3QnIGluIGdsb2JhbDtcbnZhciBXRUFLX01BUCA9ICdXZWFrTWFwJztcbnZhciBnZXRXZWFrID0gbWV0YS5nZXRXZWFrO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG52YXIgdW5jYXVnaHRGcm96ZW5TdG9yZSA9IHdlYWsudWZzdG9yZTtcbnZhciBJbnRlcm5hbE1hcDtcblxudmFyIHdyYXBwZXIgPSBmdW5jdGlvbiAoZ2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgIHJldHVybiBnZXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICB9O1xufTtcblxudmFyIG1ldGhvZHMgPSB7XG4gIC8vIDIzLjMuMy4zIFdlYWtNYXAucHJvdG90eXBlLmdldChrZXkpXG4gIGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcbiAgICAgIGlmIChkYXRhID09PSB0cnVlKSByZXR1cm4gdW5jYXVnaHRGcm96ZW5TdG9yZSh2YWxpZGF0ZSh0aGlzLCBXRUFLX01BUCkpLmdldChrZXkpO1xuICAgICAgcmV0dXJuIGRhdGEgPyBkYXRhW3RoaXMuX2ldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcbiAgLy8gMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG4gIHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gd2Vhay5kZWYodmFsaWRhdGUodGhpcywgV0VBS19NQVApLCBrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuLy8gMjMuMyBXZWFrTWFwIE9iamVjdHNcbnZhciAkV2Vha01hcCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29sbGVjdGlvbicpKFdFQUtfTUFQLCB3cmFwcGVyLCBtZXRob2RzLCB3ZWFrLCB0cnVlLCB0cnVlKTtcblxuLy8gSUUxMSBXZWFrTWFwIGZyb3plbiBrZXlzIGZpeFxuaWYgKE5BVElWRV9XRUFLX01BUCAmJiBJU19JRTExKSB7XG4gIEludGVybmFsTWFwID0gd2Vhay5nZXRDb25zdHJ1Y3Rvcih3cmFwcGVyLCBXRUFLX01BUCk7XG4gIGFzc2lnbihJbnRlcm5hbE1hcC5wcm90b3R5cGUsIG1ldGhvZHMpO1xuICBtZXRhLk5FRUQgPSB0cnVlO1xuICBlYWNoKFsnZGVsZXRlJywgJ2hhcycsICdnZXQnLCAnc2V0J10sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcHJvdG8gPSAkV2Vha01hcC5wcm90b3R5cGU7XG4gICAgdmFyIG1ldGhvZCA9IHByb3RvW2tleV07XG4gICAgcmVkZWZpbmUocHJvdG8sIGtleSwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIC8vIHN0b3JlIGZyb3plbiBvYmplY3RzIG9uIGludGVybmFsIHdlYWttYXAgc2hpbVxuICAgICAgaWYgKGlzT2JqZWN0KGEpICYmICFpc0V4dGVuc2libGUoYSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9mKSB0aGlzLl9mID0gbmV3IEludGVybmFsTWFwKCk7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9mW2tleV0oYSwgYik7XG4gICAgICAgIHJldHVybiBrZXkgPT0gJ3NldCcgPyB0aGlzIDogcmVzdWx0O1xuICAgICAgLy8gc3RvcmUgYWxsIHRoZSByZXN0IG9uIG5hdGl2ZSB3ZWFrbWFwXG4gICAgICB9IHJldHVybiBtZXRob2QuY2FsbCh0aGlzLCBhLCBiKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvLyA5LjQuMi4zIEFycmF5U3BlY2llc0NyZWF0ZShvcmlnaW5hbEFycmF5LCBsZW5ndGgpXG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fYXJyYXktc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgKHNwZWNpZXNDb25zdHJ1Y3RvcihvcmlnaW5hbCkpKGxlbmd0aCk7XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gIHZhciBDO1xuICBpZiAoaXNBcnJheShvcmlnaW5hbCkpIHtcbiAgICBDID0gb3JpZ2luYWwuY29uc3RydWN0b3I7XG4gICAgLy8gY3Jvc3MtcmVhbG0gZmFsbGJhY2tcbiAgICBpZiAodHlwZW9mIEMgPT0gJ2Z1bmN0aW9uJyAmJiAoQyA9PT0gQXJyYXkgfHwgaXNBcnJheShDLnByb3RvdHlwZSkpKSBDID0gdW5kZWZpbmVkO1xuICAgIGlmIChpc09iamVjdChDKSkge1xuICAgICAgQyA9IENbU1BFQ0lFU107XG4gICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gcmV0dXJuIEMgPT09IHVuZGVmaW5lZCA/IEFycmF5IDogQztcbn07XG4iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QUyA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJyk7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciAkYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICB2YXIgQSA9IHt9O1xuICB2YXIgQiA9IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIFMgPSBTeW1ib2woKTtcbiAgdmFyIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW1NdID0gNztcbiAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoaykgeyBCW2tdID0gazsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldCk7XG4gIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgd2hpbGUgKGFMZW4gPiBpbmRleCkge1xuICAgIHZhciBTID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgIHZhciBrZXlzID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgIGtleSA9IGtleXNbaisrXTtcbiAgICAgIGlmICghREVTQ1JJUFRPUlMgfHwgaXNFbnVtLmNhbGwoUywga2V5KSkgVFtrZXldID0gU1trZXldO1xuICAgIH1cbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHJlZGVmaW5lQWxsID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJyk7XG52YXIgZ2V0V2VhayA9IHJlcXVpcmUoJy4vX21ldGEnKS5nZXRXZWFrO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIGNyZWF0ZUFycmF5TWV0aG9kID0gcmVxdWlyZSgnLi9fYXJyYXktbWV0aG9kcycpO1xudmFyICRoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB2YWxpZGF0ZSA9IHJlcXVpcmUoJy4vX3ZhbGlkYXRlLWNvbGxlY3Rpb24nKTtcbnZhciBhcnJheUZpbmQgPSBjcmVhdGVBcnJheU1ldGhvZCg1KTtcbnZhciBhcnJheUZpbmRJbmRleCA9IGNyZWF0ZUFycmF5TWV0aG9kKDYpO1xudmFyIGlkID0gMDtcblxuLy8gZmFsbGJhY2sgZm9yIHVuY2F1Z2h0IGZyb3plbiBrZXlzXG52YXIgdW5jYXVnaHRGcm96ZW5TdG9yZSA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gIHJldHVybiB0aGF0Ll9sIHx8ICh0aGF0Ll9sID0gbmV3IFVuY2F1Z2h0RnJvemVuU3RvcmUoKSk7XG59O1xudmFyIFVuY2F1Z2h0RnJvemVuU3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuYSA9IFtdO1xufTtcbnZhciBmaW5kVW5jYXVnaHRGcm96ZW4gPSBmdW5jdGlvbiAoc3RvcmUsIGtleSkge1xuICByZXR1cm4gYXJyYXlGaW5kKHN0b3JlLmEsIGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBpdFswXSA9PT0ga2V5O1xuICB9KTtcbn07XG5VbmNhdWdodEZyb3plblN0b3JlLnByb3RvdHlwZSA9IHtcbiAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGVudHJ5ID0gZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gICAgaWYgKGVudHJ5KSByZXR1cm4gZW50cnlbMV07XG4gIH0sXG4gIGhhczogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhIWZpbmRVbmNhdWdodEZyb3plbih0aGlzLCBrZXkpO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGVudHJ5ID0gZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gICAgaWYgKGVudHJ5KSBlbnRyeVsxXSA9IHZhbHVlO1xuICAgIGVsc2UgdGhpcy5hLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSxcbiAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgaW5kZXggPSBhcnJheUZpbmRJbmRleCh0aGlzLmEsIGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG4gICAgfSk7XG4gICAgaWYgKH5pbmRleCkgdGhpcy5hLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuICEhfmluZGV4O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBOQU1FLCBJU19NQVAsIEFEREVSKSB7XG4gICAgdmFyIEMgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBpdGVyYWJsZSkge1xuICAgICAgYW5JbnN0YW5jZSh0aGF0LCBDLCBOQU1FLCAnX2knKTtcbiAgICAgIHRoYXQuX3QgPSBOQU1FOyAgICAgIC8vIGNvbGxlY3Rpb24gdHlwZVxuICAgICAgdGhhdC5faSA9IGlkKys7ICAgICAgLy8gY29sbGVjdGlvbiBpZFxuICAgICAgdGhhdC5fbCA9IHVuZGVmaW5lZDsgLy8gbGVhayBzdG9yZSBmb3IgdW5jYXVnaHQgZnJvemVuIG9iamVjdHNcbiAgICAgIGlmIChpdGVyYWJsZSAhPSB1bmRlZmluZWQpIGZvck9mKGl0ZXJhYmxlLCBJU19NQVAsIHRoYXRbQURERVJdLCB0aGF0KTtcbiAgICB9KTtcbiAgICByZWRlZmluZUFsbChDLnByb3RvdHlwZSwge1xuICAgICAgLy8gMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcbiAgICAgIC8vIDIzLjQuMy4zIFdlYWtTZXQucHJvdG90eXBlLmRlbGV0ZSh2YWx1ZSlcbiAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKHZhbGlkYXRlKHRoaXMsIE5BTUUpKVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgICAgcmV0dXJuIGRhdGEgJiYgJGhhcyhkYXRhLCB0aGlzLl9pKSAmJiBkZWxldGUgZGF0YVt0aGlzLl9pXTtcbiAgICAgIH0sXG4gICAgICAvLyAyMy4zLjMuNCBXZWFrTWFwLnByb3RvdHlwZS5oYXMoa2V5KVxuICAgICAgLy8gMjMuNC4zLjQgV2Vha1NldC5wcm90b3R5cGUuaGFzKHZhbHVlKVxuICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKHZhbGlkYXRlKHRoaXMsIE5BTUUpKS5oYXMoa2V5KTtcbiAgICAgICAgcmV0dXJuIGRhdGEgJiYgJGhhcyhkYXRhLCB0aGlzLl9pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQztcbiAgfSxcbiAgZGVmOiBmdW5jdGlvbiAodGhhdCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBkYXRhID0gZ2V0V2Vhayhhbk9iamVjdChrZXkpLCB0cnVlKTtcbiAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgdW5jYXVnaHRGcm96ZW5TdG9yZSh0aGF0KS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgZWxzZSBkYXRhW3RoYXQuX2ldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoYXQ7XG4gIH0sXG4gIHVmc3RvcmU6IHVuY2F1Z2h0RnJvemVuU3RvcmVcbn07XG4iLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIGFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcbiIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCAhPSB1bmRlZmluZWQpIHJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG4iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBBUkcgPSBjb2YoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIG1ldGEgPSByZXF1aXJlKCcuL19tZXRhJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgcmVkZWZpbmVBbGwgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBlYWNoID0gcmVxdWlyZSgnLi9fYXJyYXktbWV0aG9kcycpKDApO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTkFNRSwgd3JhcHBlciwgbWV0aG9kcywgY29tbW9uLCBJU19NQVAsIElTX1dFQUspIHtcbiAgdmFyIEJhc2UgPSBnbG9iYWxbTkFNRV07XG4gIHZhciBDID0gQmFzZTtcbiAgdmFyIEFEREVSID0gSVNfTUFQID8gJ3NldCcgOiAnYWRkJztcbiAgdmFyIHByb3RvID0gQyAmJiBDLnByb3RvdHlwZTtcbiAgdmFyIE8gPSB7fTtcbiAgaWYgKCFERVNDUklQVE9SUyB8fCB0eXBlb2YgQyAhPSAnZnVuY3Rpb24nIHx8ICEoSVNfV0VBSyB8fCBwcm90by5mb3JFYWNoICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgbmV3IEMoKS5lbnRyaWVzKCkubmV4dCgpO1xuICB9KSkpIHtcbiAgICAvLyBjcmVhdGUgY29sbGVjdGlvbiBjb25zdHJ1Y3RvclxuICAgIEMgPSBjb21tb24uZ2V0Q29uc3RydWN0b3Iod3JhcHBlciwgTkFNRSwgSVNfTUFQLCBBRERFUik7XG4gICAgcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIG1ldGhvZHMpO1xuICAgIG1ldGEuTkVFRCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgQyA9IHdyYXBwZXIoZnVuY3Rpb24gKHRhcmdldCwgaXRlcmFibGUpIHtcbiAgICAgIGFuSW5zdGFuY2UodGFyZ2V0LCBDLCBOQU1FLCAnX2MnKTtcbiAgICAgIHRhcmdldC5fYyA9IG5ldyBCYXNlKCk7XG4gICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBmb3JPZihpdGVyYWJsZSwgSVNfTUFQLCB0YXJnZXRbQURERVJdLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIGVhY2goJ2FkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTicuc3BsaXQoJywnKSwgZnVuY3Rpb24gKEtFWSkge1xuICAgICAgdmFyIElTX0FEREVSID0gS0VZID09ICdhZGQnIHx8IEtFWSA9PSAnc2V0JztcbiAgICAgIGlmIChLRVkgaW4gcHJvdG8gJiYgIShJU19XRUFLICYmIEtFWSA9PSAnY2xlYXInKSkgaGlkZShDLnByb3RvdHlwZSwgS0VZLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBhbkluc3RhbmNlKHRoaXMsIEMsIEtFWSk7XG4gICAgICAgIGlmICghSVNfQURERVIgJiYgSVNfV0VBSyAmJiAhaXNPYmplY3QoYSkpIHJldHVybiBLRVkgPT0gJ2dldCcgPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2NbS0VZXShhID09PSAwID8gMCA6IGEsIGIpO1xuICAgICAgICByZXR1cm4gSVNfQURERVIgPyB0aGlzIDogcmVzdWx0O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgSVNfV0VBSyB8fCBkUChDLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Muc2l6ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldFRvU3RyaW5nVGFnKEMsIE5BTUUpO1xuXG4gIE9bTkFNRV0gPSBDO1xuICAkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiwgTyk7XG5cbiAgaWYgKCFJU19XRUFLKSBjb21tb24uc2V0U3Ryb25nKEMsIE5BTUUsIElTX01BUCk7XG5cbiAgcmV0dXJuIEM7XG59O1xuIiwiLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtd2Vha21hcC5vZlxucmVxdWlyZSgnLi9fc2V0LWNvbGxlY3Rpb24tb2YnKSgnV2Vha01hcCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tL1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ09MTEVDVElPTikge1xuICAkZXhwb3J0KCRleHBvcnQuUywgQ09MTEVDVElPTiwgeyBvZjogZnVuY3Rpb24gb2YoKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIEEgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIEFbbGVuZ3RoXSA9IGFyZ3VtZW50c1tsZW5ndGhdO1xuICAgIHJldHVybiBuZXcgdGhpcyhBKTtcbiAgfSB9KTtcbn07XG4iLCIvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrbWFwLmZyb21cbnJlcXVpcmUoJy4vX3NldC1jb2xsZWN0aW9uLWZyb20nKSgnV2Vha01hcCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tL1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgZm9yT2YgPSByZXF1aXJlKCcuL19mb3Itb2YnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ09MTEVDVElPTikge1xuICAkZXhwb3J0KCRleHBvcnQuUywgQ09MTEVDVElPTiwgeyBmcm9tOiBmdW5jdGlvbiBmcm9tKHNvdXJjZSAvKiAsIG1hcEZuLCB0aGlzQXJnICovKSB7XG4gICAgdmFyIG1hcEZuID0gYXJndW1lbnRzWzFdO1xuICAgIHZhciBtYXBwaW5nLCBBLCBuLCBjYjtcbiAgICBhRnVuY3Rpb24odGhpcyk7XG4gICAgbWFwcGluZyA9IG1hcEZuICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKG1hcHBpbmcpIGFGdW5jdGlvbihtYXBGbik7XG4gICAgaWYgKHNvdXJjZSA9PSB1bmRlZmluZWQpIHJldHVybiBuZXcgdGhpcygpO1xuICAgIEEgPSBbXTtcbiAgICBpZiAobWFwcGluZykge1xuICAgICAgbiA9IDA7XG4gICAgICBjYiA9IGN0eChtYXBGbiwgYXJndW1lbnRzWzJdLCAyKTtcbiAgICAgIGZvck9mKHNvdXJjZSwgZmFsc2UsIGZ1bmN0aW9uIChuZXh0SXRlbSkge1xuICAgICAgICBBLnB1c2goY2IobmV4dEl0ZW0sIG4rKykpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvck9mKHNvdXJjZSwgZmFsc2UsIEEucHVzaCwgQSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgdGhpcyhBKTtcbiAgfSB9KTtcbn07XG4iLCJpbXBvcnQgeyBVQSwgUmVmZXJDbGllbnRDb250ZXh0IH0gZnJvbSAnc2lwLmpzJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXM2LWV2ZW50LWVtaXR0ZXInO1xuaW1wb3J0IHsgQ2RjdHNDYWxsIH0gZnJvbSAnLi9jZGN0cy1jYWxsJztcblxuLyoqXG4qIFJlcHJlc2VudHMgdGhlIHNvZnR3YXJlIHBob25lIHJ1bm5pbmcgaW4gYSB3ZWIgYnJvd3NlciBvciBvdGhlciBjb250ZXh0LlxuKlxuKiBAY2xhc3NcbiovXG5jbGFzcyBDZGN0c0RldmljZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cbiAgLyoqXG4gICogQ3JlYXRlIGEgbmV3IENkY3RzRGV2aWNlLlxuICAqXG4gICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBDb25maWd1cmF0aW9uIE9iamVjdFxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcuaG9zdCBUaGUgaG9zdCBuYW1lIG9yIElQIGFkZHJlc3Mgb2YgdGhlIFNJUCBzZXJ2ZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnBvcnQgVGhlIHBvcnQgb2YgdGhlIFNJUCBzZXJ2ZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLndzU2VydmVycyBVUkkocykgb2YgdGhlIFdlYlNvY2tldCBTZXJ2ZXJzLiBGb3JtYXQgYHdzczovLzEyMy4wLjAuMDo1MDY2YC4gQW4gYXJyYXkgb2Ygc3RyaW5ncyBpcyBhbHNvIGFjY2VwdGVkLlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcudXNlcm5hbWUgVGhlIHVzZXJuYW1lIGZvciB0aGUgU0lQIHNlcnZlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcucGFzc3dvcmQgVGhlIHBhc3N3ZW9yZCBmb3IgdGhlIFNJUCBzZXJ2ZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmRpc3BsYXlOYW1lIFRoZSBodW1hbiByZWFkYWJsZSBuYW1lIHBhc3NlZCBpbiB0aGUgZnJvbSBmaWVsZC4gV2lsbCBiZSB1c2VkIGZvciBDYWxsZXIgSURcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnN0dW5TZXJ2ZXJzIFVSSShzKSBmb3IgaG93IHRvIGNvbm5lY3QgdG8gdGhlIFNUVU4gc2VydmVycy4gRm9ybWF0IGBzdHVuOnN0dW4uY2RjdHMuY29tOjgwMDBgLiBBbiBhcnJheSBvZiBzdHJpbmdzIGlzIGFsc28gYWNjZXB0ZWQuXG4gICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZy50dXJuU2VydmVycyBEZXRhaWxzIGZvciBob3cgdG8gY29ubmVjdCB0byB0aGUgVFVSTiBzZXJ2ZXJzLiBBbiBhcnJheSBvZiBvYmplY3RzIGlzIGFsc28gYWNjZXB0ZWQuXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy50dXJuU2VydmVycy51cmxzIFVSSShzKSBmb3IgdGhlIFRVUk4gc2VydmVyKHMpLiBGb3JtYXQgYHR1cm46dHVybi5jZGN0cy5jb206ODAwMD90cmFuc3BvcnQ9dGNwYC4gQW4gYXJyYXkgb2Ygc3RyaW5ncyBpcyBhbHNvIGFjY2VwdGVkLlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcudHVyblNlcnZlcnMudXNlcm5hbWUgVXNlcm5hbWUgdG8gYXV0aGVudGljYXRlIG9uIFRVUk4gc2VydmVyKHMpXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy50dXJuU2VydmVycy5wYXNzd29yZCBQYXNzd29yZCB0byBhdXRoZW50aWNhdGUgb24gVFVSTiBzZXJ2ZXIocylcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnJlZ2lzdHJhclNlcnZlciBVUkkgZm9yIHRoZSByZWdpc3RyYXIgU2VydmVyLiBGb3JtYXQgYHNpcDoxMjMuMC4wLjA6NTA2NmBcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IGNvbmZpZy50cmFjZVNpcCBJZiB0cnVlLCBTSVAgdHJhY2VzIHdpbGwgYmUgbG9nZ2VkIHRvIHRoZSBkZXYgY29uc29sZS5cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmxvZ0xldmVsIE9uZSBvZiBcImRlYnVnXCIsIFwibG9nXCIsIFwid2FyblwiLCBcImVycm9yXCIsIFwib2ZmXCIuICBkZWZhdWx0IGlzIFwibG9nXCJcblxuICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICghY29uZmlnIHx8IHR5cGVvZiAoY29uZmlnKSAhPT0gJ29iamVjdCcpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNkY3RzRGV2aWNlOiBNaXNzaW5nIGNvbmZpZ1wiKTsgfVxuICAgIGlmICghY29uZmlnLmhvc3QpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNkY3RzRGV2aWNlOiBNaXNzaW5nICdob3N0JyBwYXJhbWV0ZXJcIik7IH1cbiAgICBpZiAoIWNvbmZpZy5wb3J0KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDZGN0c0RldmljZTogTWlzc2luZyAncG9ydCcgcGFyYW1ldGVyXCIpOyB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIHRoaXMuaG9zdCA9IGNvbmZpZy5ob3N0O1xuICAgIHRoaXMucG9ydCA9IGNvbmZpZy5wb3J0O1xuICAgIHRoaXMudXJpID0gYHNpcDoke2NvbmZpZy51c2VybmFtZX1AJHtjb25maWcuaG9zdH1gO1xuICAgIHRoaXMucGF0aCA9IGNvbmZpZy5wYXRoIHx8ICcnO1xuICAgIHRoaXMud3NTZXJ2ZXJzID0gYXJyYXlpZnkoY29uZmlnLndzU2VydmVycyk7XG4gICAgdGhpcy51c2VybmFtZSA9IGNvbmZpZy51c2VybmFtZTtcbiAgICB0aGlzLnBhc3N3b3JkID0gY29uZmlnLnBhc3N3b3JkO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBjb25maWcuZGlzcGxheU5hbWUgfHwgY29uZmlnLnVzZXJuYW1lO1xuICAgIHRoaXMuc3R1blNlcnZlcnMgPSBhcnJheWlmeShjb25maWcuc3R1blNlcnZlcnMpO1xuICAgIHRoaXMudHVyblNlcnZlcnMgPSBjb25maWcudHVyblNlcnZlcnM7XG4gICAgdGhpcy5yZWdpc3RyYXJTZXJ2ZXIgPSBjb25maWcucmVnaXN0cmFyU2VydmVyO1xuXG4gICAgdGhpcy5fdXNlckFnZW50ID0gbnVsbDtcblxuICAgIHRoaXMuX2Vuc3VyZUNvbm5lY3Rpdml0eVdpdGhTaXBTZXJ2ZXIoKTtcblxuICAgIC8vIGxldCB1cmkgPSBuZXcgU0lQLlVSSShcInNpcFwiLCB0aGlzLnVzZXJuYW1lLCB0aGlzLmhvc3QsIHRoaXMucG9ydCkudG9TdHJpbmcoKTtcblxuICAgIGxldCBzaXBVQUNvbmZpZyA9IHtcbiAgICAgIHVyaTogYHNpcDoke3RoaXMudXNlcm5hbWV9QCR7dGhpcy5ob3N0fWAsXG4gICAgICB0cmFuc3BvcnRPcHRpb25zOiB7IHdzU2VydmVyczogW2B3c3M6Ly8ke3RoaXMuaG9zdH06JHt0aGlzLnBvcnR9JHt0aGlzLnBhdGh9YF0gfSxcbiAgICAgIGF1dGhvcml6YXRpb25Vc2Vyc2lwOiB0aGlzLnVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSxcbiAgICAgIC8vIHN0dW5TZXJ2ZXJzOiB0aGlzLnN0dW5TZXJ2ZXJzLFxuICAgICAgLy8gdHVyblNlcnZlcnM6IHRoaXMudHVyblNlcnZlcnMsXG4gICAgICAvLyByZWdpc3RyYXJTZXJ2ZXI6IHRoaXMucmVnaXN0cmFyU2VydmVyXG4gICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczoge1xuICAgICAgICBjb25zdHJhaW50czoge1xuICAgICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICAgIHZpZGVvOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGNvbmZpZy50cmFjZVNpcCkge1xuICAgICAgc2lwVUFDb25maWcudHJhY2VTaXAgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmxvZ0xldmVsKSB7XG4gICAgICBpZiAoY29uZmlnLmxvZ0xldmVsID09PSBcIm9mZlwiKSB7XG4gICAgICAgIHNpcFVBQ29uZmlnLmxvZyA9IHsgYnVpbHRpbkVuYWJsZWQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXBVQUNvbmZpZy5sb2cgPSB7IGxldmVsOiBjb25maWcubG9nTGV2ZWwgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fdXNlckFnZW50ID0gbmV3IFVBKHNpcFVBQ29uZmlnKTtcblxuICAgIC8qKlxuICAgICogd3NDb25uZWN0aW5nIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgZGV2aWNlIGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gdGhlIFdlYlNvY2tldCBzZXJ2ZXIuXG4gICAgKiBJZiB0aGUgY29ubmVjdGlvbiBkcm9wcywgdGhlIGRldmljZSB3aWxsIHRyeSB0byByZWNvbm5lY3QgYW5kIHRoaXMgZXZlbnQgd2lsbCBmaXJlIGFnYWluLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0RldmljZSN3c0Nvbm5lY3RpbmdcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge251bWJlcn0gYXR0ZW1wdHMgLSB0aGUgbnVtYmVyIG9mIGNvbm5lY3Rpb24gYXR0ZW1wdHMgdGhhdCBoYXZlIGJlZW4gbWFkZVxuICAgICovXG4gICAgdGhpcy5fdXNlckFnZW50Lm9uKFwiY29ubmVjdGluZ1wiLCAoYXJncykgPT4geyB0aGlzLnRyaWdnZXIoXCJ3c0Nvbm5lY3RpbmdcIiwgeyBhdHRlbXB0czogYXJncy5hdHRlbXB0cyB9KTsgfSk7XG5cbiAgICAvKipcbiAgICAqIHdzQ29ubmVjdGVkIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gaGFzIGJlZW4gZXN0YWJsaXNoZWQuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzRGV2aWNlI3dzQ29ubmVjdGVkXG4gICAgKi9cbiAgICB0aGlzLl91c2VyQWdlbnQub24oXCJjb25uZWN0ZWRcIiwgKCkgPT4geyB0aGlzLnRyaWdnZXIoXCJ3c0Nvbm5lY3RlZFwiKTsgfSk7XG5cbiAgICAvKipcbiAgICAqIHdzRGlzY29ubmVjdGVkIGV2ZW50XG4gICAgKlxuICAgICogRnJpZWQgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gYXR0ZW1wdCBmYWlscy5cbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNEZXZpY2Ujd3NEaXNjb25uZWN0ZWRcbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcImRpc2Nvbm5lY3RlZFwiLCAoKSA9PiB7IHRoaXMudHJpZ2dlcihcIndzRGlzY29ubmVjdGVkXCIpOyB9KTtcblxuICAgIC8qKlxuICAgICogcmVnaXN0ZXJlZCBldmVudFxuICAgICpcbiAgICAqIEZpcmVkIHdoZW4gYSB0aGUgZGV2aWNlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkIHRvIHJlY2lldmUgY2FsbHMuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzRGV2aWNlI3JlZ2lzdGVyZWRcbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcInJlZ2lzdGVyZWRcIiwgKCkgPT4geyB0aGlzLnRyaWdnZXIoXCJyZWdpc3RlcmVkXCIpOyB9KTtcblxuICAgIC8qKlxuICAgICogdW5yZWdpc3RlcmVkIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgYXMgdGhlIHJlc3VsdCBvZiBhIGNhbGwgdG8gYHVucmVnaXN0ZXIoKWAgb3IgaWYgYSBwZXJpb2RpYyByZS1yZWdpc3RyYXRpb24gZmFpbHMuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzRGV2aWNlI3VucmVnaXN0ZXJlZFxuICAgICogQHR5cGUge29iamVjdH1cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjYXVzZSAtIG51bGwgaWYgYHVucmVnaXN0ZXIoKWAgd2FzIGNhbGxlZCwgb3RoZXJ3aXNlIHNlZSBbU0lQanMgY2F1c2VzXXtAbGluayBodHRwOi8vc2lwanMuY29tL2FwaS8wLjE1LjAvY2F1c2VzL31cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZSAtIFRoZSBTSVAgbWVzc2FnZSB3aGljaCBjYXVzZWQgdGhlIGZhaWx1cmUsIGlmIGl0IGV4aXN0cy5cbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcInVucmVnaXN0ZXJlZFwiLCAocmVzcG9uc2UsIGNhdXNlKSA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJ1bnJlZ2lzdGVyZWRcIiwgeyBjYXVzZTogY2F1c2UsIHJlc3BvbnNlOiByZXNwb25zZSB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICogcmVnaXN0cmF0aW9uRmFpbGVkIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiBhIHJlZ2lzdHJhdGlvbiBhdHRlcG10IGZhaWxzLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0RldmljZSNyZWdpc3RyYXRpb25GYWlsZWRcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gY2F1c2UgLSBzZWUgW1NJUGpzIGNhdXNlc117QGxpbmsgaHR0cDovL3NpcGpzLmNvbS9hcGkvMC4xNS4wL2NhdXNlcy99XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgU0lQIG1lc3NhZ2Ugd2hpY2ggY2F1c2VkIHRoZSBmYWlsdXJlLCBpZiBpdCBleGlzdHMuXG4gICAgKi9cbiAgICB0aGlzLl91c2VyQWdlbnQub24oXCJyZWdpc3RyYXRpb25GYWlsZWRcIiwgKGNhdXNlLCByZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKFwicmVnaXN0cmF0aW9uRmFpbGVkXCIsIHsgY2F1c2U6IGNhdXNlLCByZXNwb25zZTogcmVzcG9uc2UgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAqIGluY29taW5nSW52aXRlIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgZGV2aWNlIHJlY2lldmVzIGFuIElOVklURSByZXF1ZXN0XG4gICAgKiBAZXZlbnQgQ2RjdHNEZXZpY2UjaW52aXRlXG4gICAgKiBAdHlwZSB7U2Vzc2lvbn1cbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcImludml0ZVwiLCAoc2Vzc2lvbikgPT4ge1xuICAgICAgdGhpcy5fYWN0aXZlQ2FsbCA9IG5ldyBDZGN0c0NhbGwodGhpcy5fdXNlckFnZW50KTtcbiAgICAgIHRoaXMuX2FjdGl2ZUNhbGwuaW5jb21pbmdDYWxsKHNlc3Npb24pO1xuICAgICAgdGhpcy50cmlnZ2VyKFwiaW52aXRlXCIsIHtcbiAgICAgICAgaWQ6IHNlc3Npb24uaWQsXG4gICAgICAgIHBob25lTnVtYmVyOiBzZXNzaW9uLnJlbW90ZUlkZW50aXR5Ll9kaXNwbGF5TmFtZSxcbiAgICAgICAgc3RhdHVzOiBzZXNzaW9uLnN0YXR1cyxcbiAgICAgICAgdHlwZTogJ2luY29taW5nJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgKiBtZXNzYWdlIGV2ZW50XG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzRGV2aWNlI21lc3NhZ2VcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gbWVzc2FnZSAtIENvbnRhaW5zIHRoZSBTSVAgbWVzc2FnZSBzZW50IGFuZCBzZXJ2ZXIgY29udGV4dCBuZWNlc3NhcnkgdG8gcmVjZWl2ZSBhbmQgc2VuZCByZXBsaWVzLlxuICAgICovXG4gICAgdGhpcy5fdXNlckFnZW50Lm9uKFwibWVzc2FnZVwiLCAobWVzc2FnZSkgPT4geyB0aGlzLnRyaWdnZXIoXCJtZXNzYWdlXCIsIHsgbWVzc2FnZTogbWVzc2FnZSB9KTsgfSk7XG5cbiAgfVxuXG4gIC8qKlxuICAqIFN0YXJ0IHRoZSBjb25uZWN0aW9uIHRvIHRoZSBXZWJTb2NrZXQgc2VydmVyLCBhbmQgcmVzdG9yZSB0aGUgcHJldmlvdXMgc3RhdGUgaWYgc3RvcHBlZC5cbiAgKiBZb3UgbmVlZCB0byBzdGFydCB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gYmVmb3JlIHlvdSBjYW4gc2VuZCBvciByZWNpZXZlIGNhbGxzLiBJZiB5b3VcbiAgKiB0cnkgdG8gYGluaXRpYXRlQ2FsbGAgd2l0aG91dCBmaXJzdCBzdGFydGluZyB0aGUgY29ubmVjdGlvbiwgaXQgd2lsbCBiZSBzdGFydGVkIGZvciB5b3UsXG4gICogYnV0IGl0IHdpbGwgbm90IGJlIHN0b3BwZWQgd2hlbiB0aGUgY2FsbCBpcyB0ZXJtaW5hdGVkLlxuICAqL1xuICBzdGFydFdTKCkge1xuICAgIHRoaXMuX3VzZXJBZ2VudC5zdGFydCgpO1xuICB9XG5cbiAgLyoqXG4gICogU3RvcCB0aGUgY29ubmVjdGlvbiB0byB0aGUgV2ViU29ja2V0IHNlcnZlciwgc2F2aW5nIHRoZSBzdGF0ZSBzbyBpdCBjYW4gYmUgcmVzdG9yZWQgbGF0ZXJcbiAgKiAoYnkgYHN0YXJ0YCkuXG4gICovXG4gIHN0b3BXUygpIHtcbiAgICB0aGlzLl91c2VyQWdlbnQuc3RvcCgpO1xuICB9XG5cbiAgLyoqXG4gICogU3RhdHVzIG9mIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAqXG4gICogQHJldHVybiB7Qm9vbGVhbn0gaXNDb25uZWN0ZWQgYHRydWVgIGlmIHRoZSBkZXZpY2UgaXMgY29ubmVjdGVkIHRvIHRoZSBXZWJTb2NrZXQgc2VydmVyLCBgZmFsc2VgIG90aGVyd2lzZVxuICAqL1xuICBpc1dTQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl91c2VyQWdlbnQuaXNDb25uZWN0ZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAqIFJlZ2lzdGVyIHRoZSBkZXZpY2Ugd2l0aCB0aGUgU0lQIHNlcnZlciBzbyB0aGF0IGl0IGNhbiByZWNlaXZlIGluY29taW5nIGNhbGxzLlxuICAqXG4gICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgKiBAcGFyYW0ge1N0cmluZ1tdfSBvcHRpb25zLmV4dHJhSGVhZGVycyBTSVAgaGVhZGVycyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gZWFjaCBSRUdJU1RFUiByZXF1ZXN0LiBFYWNoIGhlYWRlciBpcyBzdHJpbmcgaW4gdGhlIGZvcm1hdCBgXCJYLUhlYWRlci1OYW1lOiBIZWFkZXItdmFsdWVcImAuXG4gICogQGVtaXRzIENkY3RzRGV2aWNlI3JlZ2lzdGVyZWRcbiAgKi9cbiAgcmVnaXN0ZXIob3B0aW9ucykge1xuICAgIHRoaXMuX3VzZXJBZ2VudC5yZWdpc3RlcihvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAqIFVucmVnaXN0ZXIgdGhlIGRldmljZSBmcm9tIHRoZSBTSVAgc2VydmVyOyBpdCB3aWxsIG5vIGxvbmdlciByZWNpZXZlIGluY29taW5nIGNhbGxzLlxuICAqXG4gICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuYWxsIFtPcHRpb25hbF0gLSBpZiBzZXQgJiBgdHJ1ZWAgaXQgd2lsbCB1bnJlZ2lzdGVyICphbGwqIGJpbmRpbmdzIGZvciB0aGUgU0lQIHVzZXIuXG4gICogQHBhcmFtIHtTdHJpbmdbXX0gb3B0aW9ucy5leHRyYUhlYWRlcnMgU0lQIGhlYWRlcnMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIGVhY2ggUkVHSVNURVIgcmVxdWVzdC4gRWFjaCBoZWFkZXIgaXMgc3RyaW5nIGluIHRoZSBmb3JtYXQgYFwiWC1IZWFkZXItTmFtZTogSGVhZGVyLXZhbHVlXCJgLlxuICAqIEBlbWl0cyBDZGN0c0RldmljZSN1bnJlZ2lzdGVyZWRcbiAgKi9cbiAgdW5yZWdpc3RlcihvcHRpb25zKSB7XG4gICAgdGhpcy5fdXNlckFnZW50LnJlZ2lzdGVyKG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICogU3RhdHVzIG9mIFNJUCByZWdpc3RyYXRpb25cbiAgKlxuICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzUmVnaXN0ZXJlZCBgdHJ1ZWAgaWYgdGhlIGRldmljZSBpcyByZWdpc3RlcmVkIHdpdGggdGhlIFNJUCBTZXJ2ZXIsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gICovXG4gIGlzUmVnaXN0ZXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlckFnZW50LmlzUmVnaXN0ZXJlZCgpO1xuICB9XG5cbiAgLyoqXG4gICogTWFrZSBhIHBob25lIGNhbGxcbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBwaG9uZU51bWJlciBUaGUgZGVzaW5hdGlvbiBwaG9uZSBudW1iZXIgdG8gY29ubmVjdCB0by4gSnVzdCBkaWdpdHMsIG5vIHB1bmN0dWF0aW9uLiBFeGFtcGxlIGBcIjEyMDY1NTUxMTExXCJgLlxuICAqIEByZXR1cm4ge0NkY3RzQ2FsbH0gYWN0aXZlQ2FsbCBLZWVwIGFuIGV5ZSBvbiB0aGUgY2FsbCdzIHN0YXRlIGJ5IGxpc3RlbmluZyB0byBldmVudHMgZW1pdHRlZCBieSBhY3RpdmVDYWxsXG4gICovXG4gIGluaXRpYXRlQ2FsbChwaG9uZU51bWJlcikge1xuICAgIC8vIGxldCB1cmkgPSBuZXcgU0lQLlVSSShcInNpcFwiLCBwaG9uZU51bWJlciwgdGhpcy5ob3N0LCB0aGlzLnBvcnQpLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5fYWN0aXZlQ2FsbCA9IG5ldyBDZGN0c0NhbGwodGhpcy5fdXNlckFnZW50KTtcbiAgICB0aGlzLl9hY3RpdmVDYWxsLm1ha2VDYWxsKHBob25lTnVtYmVyKVxuICAgIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24ub24oXCJjYW5jZWxcIiwgKGRhdGEpID0+IHsgdGhpcy50cmlnZ2VyKFwiY2FuY2VsXCIsIGRhdGEpIH0pO1xuICAgIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24ub24oXCJieWVcIiwgKGRhdGEpID0+IHsgdGhpcy50cmlnZ2VyKFwiYnllXCIsIGRhdGEpIH0pO1xuICAgIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24ub24oXCJyZXBsYWNlZFwiLCAoZGF0YSkgPT4geyB0aGlzLnRyaWdnZXIoXCJyZXBsYWNlZFwiLCBkYXRhKSB9KTtcbiAgICB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLm9uKFwiZmFpbGVkXCIsIChyZXNwb25zZSwgY2F1c2UpID0+IHsgdGhpcy50cmlnZ2VyKFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7IH0pO1xuICAgIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24ub24oXCJyZWplY3RlZFwiLCAocmVzcG9uc2UsIGNhdXNlKSA9PiB7IHRoaXMudHJpZ2dlcihcInJlamVjdGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7IH0pO1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmVDYWxsO1xuICB9XG4gIC8qKlxuICAqIEFuc3dlciBwaG9uZSBjYWxsXG4gICpcbiAgKiBAcmV0dXJuIHtDZGN0c0NhbGx9IGFjdGl2ZUNhbGwgS2VlcCBhbiBleWUgb24gdGhlIGNhbGwncyBzdGF0ZSBieSBsaXN0ZW5pbmcgdG8gZXZlbnRzIGVtaXR0ZWQgYnkgYWN0aXZlQ2FsbFxuICAqL1xuICBhY2NlcHQoKSB7XG4gICAgdGhpcy5fYWN0aXZlQ2FsbC5fc2Vzc2lvbi5hY2NlcHQoKVxuICAgIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24ub24oJ3RyYWNrQWRkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucGVlckNvbm5lY3Rpb247XG4gICAgICAvLyB2YXIgdGhpcy5hdWRpb0VsZW1lbnQgPSB0aGlzLmF1ZGlvRWxlbWVudDtcbiAgICAgIHZhciBwbGF5ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2RjdHMtc2lwanMtcmVtb3RlLWF1ZGlvXCIpWzBdO1xuICAgICAgLy8gdGhpcy5hdWRpb0VsZW1lbnQuY2xhc3NOYW1lID0gJ2NkY3RzLXNpcGpzLXJlbW90ZS1hdWRpbyc7XG4gICAgICB2YXIgcmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG4gICAgICBwYy5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWNlaXZlcikge1xuICAgICAgICByZW1vdGVTdHJlYW0uYWRkVHJhY2socmVjZWl2ZXIudHJhY2spO1xuICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIHBsYXllci5zcmNPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBsYXllci5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwbGF5ZXIubW96U3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwbGF5ZXIubW96U3JjT2JqZWN0ID0gcmVtb3RlU3RyZWFtO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGxheWVyLnNyYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcGxheWVyLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVtb3RlU3RyZWFtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuJyk7XG4gICAgICB9XG4gICAgICBwbGF5ZXIucGxheSgpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUNhbGw7XG4gICAgfSlcbiAgICB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLm9uKFwiY2FuY2VsXCIsIChkYXRhKSA9PiB7IHRoaXMudHJpZ2dlcihcImNhbmNlbFwiLCBkYXRhKSB9KTtcbiAgICB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLm9uKFwiYnllXCIsIChkYXRhKSA9PiB7IHRoaXMudHJpZ2dlcihcImJ5ZVwiLCBkYXRhKSB9KTtcbiAgICB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLm9uKFwicmVwbGFjZWRcIiwgKGRhdGEpID0+IHsgdGhpcy50cmlnZ2VyKFwicmVwbGFjZWRcIiwgZGF0YSkgfSk7XG4gICAgdGhpcy5fYWN0aXZlQ2FsbC5fc2Vzc2lvbi5vbihcImZhaWxlZFwiLCAocmVzcG9uc2UsIGNhdXNlKSA9PiB7IHRoaXMudHJpZ2dlcihcImZhaWxlZFwiLCByZXNwb25zZSwgY2F1c2UpOyB9KTtcbiAgICB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLm9uKFwicmVqZWN0ZWRcIiwgKHJlc3BvbnNlLCBjYXVzZSkgPT4geyB0aGlzLnRyaWdnZXIoXCJyZWplY3RlZFwiLCByZXNwb25zZSwgY2F1c2UpOyB9KTtcbiAgICB0aGlzLnRyaWdnZXIoXCJhY2NlcHRlZFwiLCB7XG4gICAgICBpZDogdGhpcy5fYWN0aXZlQ2FsbC5fc2Vzc2lvbi5pZCxcbiAgICAgIHBob25lTnVtYmVyOiB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLnJlbW90ZUlkZW50aXR5LmRpc3BsYXlOYW1lLFxuICAgICAgc3RhcnRUaW1lOiB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLnN0YXJ0VGltZSA/IHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24uc3RhcnRUaW1lIDogbmV3IERhdGUoKSxcbiAgICAgIHN0YXR1czogdGhpcy5fYWN0aXZlQ2FsbC5fc2Vzc2lvbi5zdGF0dXMsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIGNhbGwgY3VycmVudGx5IGluIHByb2dyZXNzXG4gICpcbiAgKiBAcmV0dXJuIHtDZGN0c0NhbGx9IGFjdGl2ZUNhbGwgS2VlcCBhbiBleWUgb24gdGhlIGNhbGwncyBzdGF0ZSBieSBsaXN0ZW5pbmcgdG8gZXZlbnRzIGVtaXR0ZWQgYnkgYWN0aXZlQ2FsbFxuICAqL1xuICBhY3RpdmVDYWxsKCkgeyByZXR1cm4gdGhpcy5fYWN0aXZlQ2FsbDsgfVxuXG4gIC8qKlxuICAgKiBSZWZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGhvbmVOdW1iZXIgVGhlIHBob25lbnVtYmVyIGNhbiB0byByZWZlclxuICAgKi9cbiAgcmVmZXJOdW1iZXIocGhvbmVOdW1iZXIpIHtcbiAgICB0aGlzLl9yZWZlciA9IG5ldyBSZWZlckNsaWVudENvbnRleHQodGhpcy5fdXNlckFnZW50LCB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLCBwaG9uZU51bWJlcilcbiAgICB0aGlzLl9yZWZlci5yZWZlcigpXG4gICAgcmV0dXJuIHRoaXMuX3JlZmVyXG4gIH1cblxuICAvKipcbiAgICogaXNNdXRlZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzTXV0ZWQgVGhlIGlzTXV0ZWQgY2FuIHRvIHJlZmVyXG4gICAqL1xuICBtdXRlKGlzTXV0ZSkge1xuICAgIHZhciBwYyA9IHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wZWVyQ29ubmVjdGlvbjtcbiAgICB2YXIgYXVkaW9UcmFja3MgPSBwYy5nZXRMb2NhbFN0cmVhbXMoKVswXS5nZXRBdWRpb1RyYWNrcygpO1xuXG4gICAgLy8gaWYgTWVkaWFTdHJlYW0gaGFzIHJlZmVyZW5jZSB0byBtaWNyb3Bob25lXG4gICAgaWYgKGF1ZGlvVHJhY2tzWzBdKSB7XG4gICAgICBhdWRpb1RyYWNrc1swXS5lbmFibGVkID0gIWlzTXV0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBjXG4gIH1cblxuICAvKipcbiAgICogaXNIb2xkXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNIb2xkIFRoZSBpc011dGVkIGNhbiB0byByZWZlclxuICAgKi9cbiAgaG9sZChpc0hvbGQpIHtcbiAgICBpZiAoaXNIb2xkKSB7XG4gICAgICB0aGlzLl9hY3RpdmVDYWxsLl9zZXNzaW9uLmhvbGQoKVxuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb25cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYWN0aXZlQ2FsbC5fc2Vzc2lvbi51bmhvbGQoKVxuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb25cbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBFbmQgdGhlIHNlc3Npb25cbiAgKlxuICAqIEBlbWl0cyBUZWxueXhDYWxsI3Rlcm1pbmF0ZWRcbiAgKi9cbiAgcmVqZWN0KCkge1xuICAgIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24udGVybWluYXRlKCk7XG4gIH1cblxuXG4gIC8vIEVuc3VyZSB0aGF0IHdlIGNhbiBjb25uZWN0IHRvIHRoZSBTSVAgc2VydmVyLlxuICAvLyBEdWUgdG8gYSBidWcgaW4gY2hyb21lLCB3ZSBuZWVkIHRvIG9wZW4gYW4gaHR0cCBjb25uZWN0aW9uIHRvIHRoZSBTSVAgc2VydmVyXG4gIC8vIGJlZm9yZSB0cnlpbmcgdG8gY29ubmVjdCB2aWEgV2ViIFNvY2tldC5cbiAgLy9cbiAgLy8gIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTMyOTg4NFxuICBfZW5zdXJlQ29ubmVjdGl2aXR5V2l0aFNpcFNlcnZlcigpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhcIkZhaWxlZCBodHRwIGNvbm5lY3Rpb24gdG8gU0lQIHNlcnZlciBpcyBleHBlY3RlZC4gSXQgaXMgcmVsYXRlZCB0byBhIGNocm9tZSBidWcuXCIpO1xuICAgICAgfSk7XG4gICAgICB4aHIub3BlbihcIkdFVFwiLCBgaHR0cHM6Ly8ke3RoaXMuaG9zdH06JHt0aGlzLnBvcnR9YCwgdHJ1ZSk7XG4gICAgICB4aHIuc2VuZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGRvIG5vdGhpbmcuIElmIGFuIGVycm9yIG9jY3VycywgaXQncyBub3QgZ29pbmcgdG8gbWF0dGVyIGhlcmUuXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFycmF5aWZ5KGl0ZW0pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICByZXR1cm4gaXRlbS5zbGljZSgwKTsgLy8gU2hhbGxvdyBDb3B5XG4gIH0gZWxzZSB7XG4gICAgbGV0IGFyciA9IFtdO1xuICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgIHJldHVybiBhcnI7XG4gIH1cbn1cblxuXG5leHBvcnQgeyBDZGN0c0RldmljZSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==