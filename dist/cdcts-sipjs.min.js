!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cdcts-sipjs",[],t):"object"==typeof exports?exports["cdcts-sipjs"]=t():e["cdcts-sipjs"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=194)}([function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return i})),r.d(t,"__assign",(function(){return s})),r.d(t,"__rest",(function(){return o})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return c})),r.d(t,"__metadata",(function(){return u})),r.d(t,"__awaiter",(function(){return d})),r.d(t,"__generator",(function(){return l})),r.d(t,"__createBinding",(function(){return p})),r.d(t,"__exportStar",(function(){return h})),r.d(t,"__values",(function(){return f})),r.d(t,"__read",(function(){return g})),r.d(t,"__spread",(function(){return v})),r.d(t,"__spreadArrays",(function(){return m})),r.d(t,"__await",(function(){return S})),r.d(t,"__asyncGenerator",(function(){return y})),r.d(t,"__asyncDelegator",(function(){return T})),r.d(t,"__asyncValues",(function(){return b})),r.d(t,"__makeTemplateObject",(function(){return E})),r.d(t,"__importStar",(function(){return _})),r.d(t,"__importDefault",(function(){return C})),r.d(t,"__classPrivateFieldGet",(function(){return R})),r.d(t,"__classPrivateFieldSet",(function(){return w}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function p(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function y(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof S?Promise.resolve(r.value.v).then(c,u):d(s[0][2],r)}catch(e){d(s[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function T(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:S(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function w(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(43),t),n.__exportStar(r(66),t),n.__exportStar(r(119),t),n.__exportStar(r(120),t),n.__exportStar(r(121),t),n.__exportStar(r(66),t),n.__exportStar(r(46),t),n.__exportStar(r(22),t),n.__exportStar(r(44),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(35),t),n.__exportStar(r(31),t),n.__exportStar(r(123),t),n.__exportStar(r(3),t),n.__exportStar(r(30),t),n.__exportStar(r(48),t),n.__exportStar(r(1),t),n.__exportStar(r(125),t),n.__exportStar(r(83),t),n.__exportStar(r(12),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(106),t),n.__exportStar(r(108),t),n.__exportStar(r(110),t),n.__exportStar(r(29),t),n.__exportStar(r(38),t),n.__exportStar(r(37),t),n.__exportStar(r(42),t),n.__exportStar(r(39),t),n.__exportStar(r(65),t),n.__exportStar(r(113),t),n.__exportStar(r(40),t),n.__exportStar(r(114),t),n.__exportStar(r(41),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(1),s=function(){function e(e,t,r,n){this.transactionConstructor=e,this.core=t,this.message=r,this.delegate=n,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.cancel=function(t,r){var s=this;if(void 0===r&&(r={}),!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");var o=this.core.makeOutgoingRequestMessage(n.C.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},r.extraHeaders);if(o.branch=this.message.branch,this.message.headers.Route&&(o.headers.Route=this.message.headers.Route),t&&o.setHeader("Reason",t),this.transaction.state===i.TransactionState.Proceeding)new e(i.NonInviteClientTransaction,this.core,o);else this.transaction.once("stateChanged",(function(){if(s.transaction&&s.transaction.state===i.TransactionState.Proceeding)new e(i.NonInviteClientTransaction,s.core,o)}));return o},e.prototype.authenticationGuard=function(e,t){var r,n,i=e.statusCode;if(!i)throw new Error("Response status code undefined.");if(401!==i&&407!==i)return!0;if(401===i?(r=e.parseHeader("www-authenticate"),n="authorization"):(r=e.parseHeader("proxy-authenticate"),n="proxy-authorization"),!r)return this.logger.warn(i+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||!0!==r.stale))return this.logger.warn(i+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,r))return!0;this.challenged=!0,r.stale&&(this.stale=!0);var s=this.message.cseq+=1;return t&&t.localSequenceNumber&&(t.incrementLocalSequenceNumber(),s=this.message.cseq=t.localSequenceNumber),this.message.setHeader("cseq",s+" "+this.message.method),this.message.setHeader(n,this.credentials.toString()),this.init(),!1},e.prototype.onRequestTimeout=function(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");var e=new n.IncomingResponseMessage;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)},e.prototype.onTransportError=function(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");var t=new n.IncomingResponseMessage;t.statusCode=503,t.reasonPhrase="Service Unavailable",this.receiveResponse(t)},e.prototype.receiveResponse=function(e){if(this.authenticationGuard(e)){var t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(t):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(t):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+t)}}},e.prototype.init=function(){var e=this,t={loggerFactory:this.loggerFactory,onRequestTimeout:function(){return e.onRequestTimeout()},onStateChange:function(t){t===i.TransactionState.Terminated&&(e.core.userAgentClients.delete(n),r===e._transaction&&e.dispose())},onTransportError:function(t){return e.onTransportError(t)},receiveResponse:function(t){return e.receiveResponse(t)}},r=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=r;var n=r.id+r.request.method;this.core.userAgentClients.set(n,this)},e}();t.UserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.STATUS_EARLY=1]="STATUS_EARLY",e[e.STATUS_CONFIRMED=2]="STATUS_CONFIRMED"}(t.DialogStatus||(t.DialogStatus={})),function(e){e[e.STATUS_NULL=0]="STATUS_NULL",e[e.STATUS_INVITE_SENT=1]="STATUS_INVITE_SENT",e[e.STATUS_1XX_RECEIVED=2]="STATUS_1XX_RECEIVED",e[e.STATUS_INVITE_RECEIVED=3]="STATUS_INVITE_RECEIVED",e[e.STATUS_WAITING_FOR_ANSWER=4]="STATUS_WAITING_FOR_ANSWER",e[e.STATUS_ANSWERED=5]="STATUS_ANSWERED",e[e.STATUS_WAITING_FOR_PRACK=6]="STATUS_WAITING_FOR_PRACK",e[e.STATUS_WAITING_FOR_ACK=7]="STATUS_WAITING_FOR_ACK",e[e.STATUS_CANCELED=8]="STATUS_CANCELED",e[e.STATUS_TERMINATED=9]="STATUS_TERMINATED",e[e.STATUS_ANSWERED_WAITING_FOR_PRACK=10]="STATUS_ANSWERED_WAITING_FOR_PRACK",e[e.STATUS_EARLY_MEDIA=11]="STATUS_EARLY_MEDIA",e[e.STATUS_CONFIRMED=12]="STATUS_CONFIRMED"}(t.SessionStatus||(t.SessionStatus={})),function(e){e[e.ClientContext=0]="ClientContext",e[e.ConfigurationError=1]="ConfigurationError",e[e.Dialog=2]="Dialog",e[e.DigestAuthentication=3]="DigestAuthentication",e[e.DTMF=4]="DTMF",e[e.IncomingMessage=5]="IncomingMessage",e[e.IncomingRequest=6]="IncomingRequest",e[e.IncomingResponse=7]="IncomingResponse",e[e.InvalidStateError=8]="InvalidStateError",e[e.InviteClientContext=9]="InviteClientContext",e[e.InviteServerContext=10]="InviteServerContext",e[e.Logger=11]="Logger",e[e.LoggerFactory=12]="LoggerFactory",e[e.MethodParameterError=13]="MethodParameterError",e[e.NameAddrHeader=14]="NameAddrHeader",e[e.NotSupportedError=15]="NotSupportedError",e[e.OutgoingRequest=16]="OutgoingRequest",e[e.Parameters=17]="Parameters",e[e.PublishContext=18]="PublishContext",e[e.ReferClientContext=19]="ReferClientContext",e[e.ReferServerContext=20]="ReferServerContext",e[e.RegisterContext=21]="RegisterContext",e[e.RenegotiationError=22]="RenegotiationError",e[e.RequestSender=23]="RequestSender",e[e.ServerContext=24]="ServerContext",e[e.Session=25]="Session",e[e.SessionDescriptionHandler=26]="SessionDescriptionHandler",e[e.SessionDescriptionHandlerError=27]="SessionDescriptionHandlerError",e[e.SessionDescriptionHandlerObserver=28]="SessionDescriptionHandlerObserver",e[e.Subscription=29]="Subscription",e[e.Transport=30]="Transport",e[e.UA=31]="UA",e[e.URI=32]="URI"}(t.TypeStrings||(t.TypeStrings={})),function(e){e[e.STATUS_INIT=0]="STATUS_INIT",e[e.STATUS_STARTING=1]="STATUS_STARTING",e[e.STATUS_READY=2]="STATUS_READY",e[e.STATUS_USER_CLOSED=3]="STATUS_USER_CLOSED",e[e.STATUS_NOT_READY=4]="STATUS_NOT_READY"}(t.UAStatus||(t.UAStatus={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31),i=r(3),s=r(17),o=r(1),a=function(){function e(e,t,r,n){this.transactionConstructor=e,this.core=t,this.message=r,this.delegate=n,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=r.toTag?r.toTag:s.newTag(),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){if(void 0===e&&(e={statusCode:200}),!this.acceptable)throw new n.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");var t=e.statusCode;if(t<200||t>299)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.progress=function(e){if(void 0===e&&(e={statusCode:180}),!this.progressable)throw new n.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");var t=e.statusCode;if(t<101||t>199)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.redirect=function(e,t){if(void 0===t&&(t={statusCode:302}),!this.redirectable)throw new n.TransactionStateError(this.message.method+" not redirectable in state "+this.transaction.state+".");var r=t.statusCode;if(r<300||r>399)throw new TypeError("Invalid statusCode: "+r);var i=new Array;return e.forEach((function(e){return i.push("Contact: "+e.toString())})),t.extraHeaders=(t.extraHeaders||[]).concat(i),this.reply(t)},e.prototype.reject=function(e){if(void 0===e&&(e={statusCode:480}),!this.rejectable)throw new n.TransactionStateError(this.message.method+" not rejectable in state "+this.transaction.state+".");var t=e.statusCode;if(t<400||t>699)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.trying=function(e){if(!this.tryingable)throw new n.TransactionStateError(this.message.method+" not tryingable in state "+this.transaction.state+".");return this.reply({statusCode:100})},e.prototype.receiveCancel=function(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)},Object.defineProperty(e.prototype,"acceptable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding||this.transaction.state===o.TransactionState.Accepted;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return!1;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"redirectable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rejectable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tryingable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),e.prototype.reply=function(e){e.toTag||100===e.statusCode||(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;var t=i.constructOutgoingResponse(this.message,e);return this.transaction.receiveResponse(e.statusCode,t.message),t},e.prototype.init=function(){var e=this,t={loggerFactory:this.loggerFactory,onStateChange:function(t){t===o.TransactionState.Terminated&&(e.core.userAgentServers.delete(n),e.dispose())},onTransportError:function(t){e.logger.error(t.message),e.delegate&&e.delegate.onTransportError?e.delegate.onTransportError(t):e.logger.error("User agent server response transport error.")}},r=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=r;var n=r.id;this.core.userAgentServers.set(r.id,this)},e}();t.UserAgentServer=a},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,s,o,a;if(u(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=d(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):v(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var u=c.length,d=v(c,u);for(r=0;r<u;++r)s(d[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,s,o;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136);!function(e){e.version=n.LIBRARY_VERSION,e.USER_AGENT="SIP.js/"+n.LIBRARY_VERSION,e.SIP="sip",e.SIPS="sips",function(e){e.CONNECTION_ERROR="Connection Error",e.INTERNAL_ERROR="Internal Error",e.REQUEST_TIMEOUT="Request Timeout",e.SIP_FAILURE_CODE="SIP Failure Code",e.ADDRESS_INCOMPLETE="Address Incomplete",e.AUTHENTICATION_ERROR="Authentication Error",e.BUSY="Busy",e.DIALOG_ERROR="Dialog Error",e.INCOMPATIBLE_SDP="Incompatible SDP",e.NOT_FOUND="Not Found",e.REDIRECTED="Redirected",e.REJECTED="Rejected",e.UNAVAILABLE="Unavailable",e.BAD_MEDIA_DESCRIPTION="Bad Media Description",e.CANCELED="Canceled",e.EXPIRES="Expires",e.NO_ACK="No ACK",e.NO_ANSWER="No Answer",e.NO_PRACK="No PRACK",e.RTP_TIMEOUT="RTP Timeout",e.USER_DENIED_MEDIA_ACCESS="User Denied Media Access",e.WEBRTC_ERROR="WebRTC Error",e.WEBRTC_NOT_SUPPORTED="WebRTC Not Supported"}(e.causes||(e.causes={})),function(e){e.REQUIRED="required",e.SUPPORTED="supported",e.UNSUPPORTED="none"}(e.supported||(e.supported={})),e.SIP_ERROR_CAUSES={ADDRESS_INCOMPLETE:[484],AUTHENTICATION_ERROR:[401,407],BUSY:[486,600],INCOMPATIBLE_SDP:[488,606],NOT_FOUND:[404,604],REDIRECTED:[300,301,302,305,380],REJECTED:[403,603],UNAVAILABLE:[480,410,408,430]},e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK",e.REASON_PHRASE={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},e.OPTION_TAGS={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0},function(e){e.INFO="info",e.RTP="rtp"}(e.dtmfType||(e.dtmfType={}))}(t.C||(t.C={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(29),s=r(41);!function(e){e.defer=function(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e},e.reducePromises=function(e,t){return e.reduce((function(e,t){return e=e.then(t)}),Promise.resolve(t))},e.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length},e.generateFakeSDP=function(e){if(e){var t=e.indexOf("o="),r=e.indexOf("\r\n",t);return"v=0\r\n"+e.slice(t,r)+"\r\ns=-\r\nt=0 0\r\nc=IN IP4 0.0.0.0"}},e.isDecimal=function(e){var t=parseInt(e,10);return!isNaN(t)&&parseFloat(e)===t},e.createRandomToken=function(e,t){void 0===t&&(t=32);for(var r="",n=0;n<e;n++){r+=Math.floor(Math.random()*t).toString(t)}return r},e.newTag=function(){return e.createRandomToken(10)},e.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random());return("x"===e?t:t%4+8).toString(16)}))},e.normalizeTarget=function(t,r){if(t){if(t instanceof s.URI)return t;if("string"==typeof t){var o=t.split("@"),a=void 0,c=void 0;switch(o.length){case 1:if(!r)return;a=t,c=r;break;case 2:a=o[0],c=o[1];break;default:a=o.slice(0,o.length-1).join("@"),c=o[o.length-1]}return a=a.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(a)&&(a=a.replace(/[\-\.\(\)]/g,"")),t=n.C.SIP+":"+e.escapeUser(a)+"@"+c,i.Grammar.URIParse(t)}}else;},e.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},e.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),n=r.length,i="",s=0;s<n;s++)0!==s&&(i+="-"),i+=r[s].charAt(0).toUpperCase()+r[s].substring(1);return t[i]&&(i=t[i]),i},e.sipErrorCause=function(e){for(var t in n.C.SIP_ERROR_CAUSES)if(-1!==n.C.SIP_ERROR_CAUSES[t].indexOf(e))return n.C.causes[t];return n.C.causes.SIP_FAILURE_CODE},e.getReasonPhrase=function(e,t){return t||n.C.REASON_PHRASE[e]||""},e.getReasonHeaderValue=function(t,r){return"SIP;cause="+t+';text="'+(r=e.getReasonPhrase(t,r))+'"'},e.getCancelReason=function(t,r){if(t&&t<200||t>699)throw new TypeError("Invalid statusCode: "+t);if(t)return e.getReasonHeaderValue(t,r)},e.buildStatusLine=function(t,r){if(!t||t<100||t>699)throw new TypeError("Invalid statusCode: "+t);if(r&&"string"!=typeof r&&!(r instanceof String))throw new TypeError("Invalid reason: "+r);return"SIP/2.0 "+t+" "+(r=e.getReasonPhrase(t,r))+"\r\n"},e.fromBodyObj=function(e){var t=e.body,r=e.contentType;return{contentDisposition:function(e){return"application/sdp"===e?"session":"render"}(r),contentType:r,content:t}},e.toBodyObj=function(e){return{body:e.content,contentType:e.contentType}}}(t.Utils||(t.Utils={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),s=r(5);!function(e){var t=function(e){function t(){return e.call(this,"The session description handler has closed.")||this}return n.__extends(t,e),t}(i.Exception);e.ClosedSessionDescriptionHandlerError=t;var r=function(e){function t(){return e.call(this,"The session has terminated.")||this}return n.__extends(t,e),t}(i.Exception);e.TerminatedSessionError=r;var s=function(e){function t(t){return e.call(this,t||"Unsupported session description content type.")||this}return n.__extends(t,e),t}(i.Exception);e.UnsupportedSessionDescriptionContentTypeError=s}(t.Exceptions||(t.Exceptions={}));var o=function(e){function t(t,r,n){var i=e.call(this,n)||this;return i.code=t,i.name=r,i.message=n,i}return n.__extends(t,e),t}(i.Exception);!function(e){var t=function(e){function t(t,r){var n=e.call(this,1,"CONFIGURATION_ERROR",r?"Invalid value "+JSON.stringify(r)+" for parameter '"+t+"'":"Missing parameter: "+t)||this;return n.type=s.TypeStrings.ConfigurationError,n.parameter=t,n.value=r,n}return n.__extends(t,e),t}(o);e.ConfigurationError=t;var r=function(e){function t(t){var r=e.call(this,2,"INVALID_STATE_ERROR","Invalid status: "+t)||this;return r.type=s.TypeStrings.InvalidStateError,r.status=t,r}return n.__extends(t,e),t}(o);e.InvalidStateError=r;var i=function(e){function t(t){var r=e.call(this,3,"NOT_SUPPORTED_ERROR",t)||this;return r.type=s.TypeStrings.NotSupportedError,r}return n.__extends(t,e),t}(o);e.NotSupportedError=i;var a=function(e){function t(t){var r=e.call(this,5,"RENEGOTIATION_ERROR",t)||this;return r.type=s.TypeStrings.RenegotiationError,r}return n.__extends(t,e),t}(o);e.RenegotiationError=a;var c=function(e){function t(t,r,n){var i=e.call(this,6,"METHOD_PARAMETER_ERROR",n?"Invalid value "+JSON.stringify(n)+" for parameter '"+r+"'":"Missing parameter: "+r)||this;return i.type=s.TypeStrings.MethodParameterError,i.method=t,i.parameter=r,i.value=n,i}return n.__extends(t,e),t}(o);e.MethodParameterError=c;var u=function(e){function t(t,r,n){var i=e.call(this,8,"SESSION_DESCRIPTION_HANDLER_ERROR",n||"Error with Session Description Handler")||this;return i.type=s.TypeStrings.SessionDescriptionHandlerError,i.method=t,i.error=r,i}return n.__extends(t,e),t}(o);e.SessionDescriptionHandlerError=u}(t.Exceptions||(t.Exceptions={}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=500;t.Timers={T1:n,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(102)("wks"),i=r(57),s=r(13).Symbol,o="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=o&&s[e]||(o?s:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(19),i=r(96);e.exports=r(16)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){e.exports=!r(26)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=32);for(var r="",n=0;n<e;n++){r+=Math.floor(Math.random()*t).toString(t)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createRandomToken=n,t.getReasonPhrase=function(e){return i[e]||""},t.newTag=function(){return n(10)},t.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),n=r.length,i="",s=0;s<n;s++)0!==s&&(i+="-"),i+=r[s].charAt(0).toUpperCase()+r[s].substring(1);return t[i]&&(i=t[i]),i},t.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length};var i={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(2),a=r(5),c=r(9),u=function(e){function t(r,n,i,s){var o=e.call(this)||this;return o.data={},t.initializer(o,r,n,i,s),o}return n.__extends(t,e),t.initializer=function(e,t,r,n,i){if(e.type=a.TypeStrings.ClientContext,void 0===n)throw new TypeError("Not enough arguments");e.ua=t,e.logger=t.getLogger("sip.clientcontext"),e.method=r;var s=t.normalizeTarget(n);if(!s)throw new TypeError("Invalid target: "+n);var u=t.userAgentCore.configuration.aor;if(i&&i.params&&i.params.fromUri&&!(u="string"==typeof i.params.fromUri?o.Grammar.URIParse(i.params.fromUri):i.params.fromUri))throw new TypeError("Invalid from URI: "+i.params.fromUri);var d=s;if(i&&i.params&&i.params.toUri&&!(d="string"==typeof i.params.toUri?o.Grammar.URIParse(i.params.toUri):i.params.toUri))throw new TypeError("Invalid to URI: "+i.params.toUri);var l,p,h=((i=(i=Object.create(i||Object.prototype))||{}).extraHeaders||[]).slice(),f=i.params||{};i.body&&(l={body:i.body,contentType:i.contentType?i.contentType:"application/sdp"},e.body=l),l&&(p=c.Utils.fromBodyObj(l)),e.request=t.userAgentCore.makeOutgoingRequestMessage(r,s,u,d,f,h,p),e.request.from&&(e.localIdentity=e.request.from),e.request.to&&(e.remoteIdentity=e.request.to)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.request(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.receiveResponse=function(e){var t=e.statusCode||0,r=c.Utils.getReasonPhrase(t);switch(!0){case/^1[0-9]{2}$/.test(t.toString()):this.emit("progress",e,r);break;case/^2[0-9]{2}$/.test(t.toString()):this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("accepted",e,r);break;default:this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("rejected",e,r),this.emit("failed",e,r)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,s.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,s.C.causes.CONNECTION_ERROR)},t}(i.EventEmitter);t.ClientContext=u},function(e,t,r){var n=r(20),i=r(159),s=r(160),o=Object.defineProperty;t.f=r(16)?Object.defineProperty:function(e,t,r){if(n(e),t=s(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(11);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Accepted="Accepted",e.Calling="Calling",e.Completed="Completed",e.Confirmed="Confirmed",e.Proceeding="Proceeding",e.Terminated="Terminated",e.Trying="Trying"}(t.TransactionState||(t.TransactionState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.AllowedMethods=[n.C.ACK,n.C.BYE,n.C.CANCEL,n.C.INFO,n.C.INVITE,n.C.MESSAGE,n.C.NOTIFY,n.C.OPTIONS,n.C.PRACK,n.C.REFER,n.C.REGISTER,n.C.SUBSCRIBE]},function(e,t,r){var n=r(13),i=r(25),s=r(33),o=r(15),a=r(21),c=function(e,t,r){var u,d,l,p=e&c.F,h=e&c.G,f=e&c.S,g=e&c.P,v=e&c.B,m=e&c.W,S=h?i:i[t]||(i[t]={}),y=S.prototype,T=h?n:f?n[t]:(n[t]||{}).prototype;for(u in h&&(r=t),r)(d=!p&&T&&void 0!==T[u])&&a(S,u)||(l=d?T[u]:r[u],S[u]=h&&"function"!=typeof T[u]?r[u]:v&&d?s(l,n):m&&T[u]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):g&&"function"==typeof l?s(Function.call,l):l,g&&((S.virtual||(S.virtual={}))[u]=l,e&c.R&&y&&!y[u]&&o(y,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2);t.DigestAuthentication=i.DigestAuthentication,t.Grammar=i.Grammar,t.IncomingRequest=i.IncomingRequestMessage,t.IncomingResponse=i.IncomingResponseMessage,t.LoggerFactory=i.LoggerFactory,t.NameAddrHeader=i.NameAddrHeader,t.OutgoingRequest=i.OutgoingRequestMessage,t.Parser=i.Parser,t.Timers=i.Timers,t.URI=i.URI;var s=r(18);t.ClientContext=s.ClientContext;var o=r(8);t.C=o.C;var a=r(5);t.DialogStatus=a.DialogStatus,t.SessionStatus=a.SessionStatus,t.TypeStrings=a.TypeStrings,t.UAStatus=a.UAStatus;var c=r(10);t.Exceptions=c.Exceptions;var u=r(84);t.PublishContext=u.PublishContext;var d=r(50);t.ReferClientContext=d.ReferClientContext,t.ReferServerContext=d.ReferServerContext;var l=r(85);t.RegisterContext=l.RegisterContext;var p=r(32);t.ServerContext=p.ServerContext;var h=r(86);t.InviteClientContext=h.InviteClientContext,t.InviteServerContext=h.InviteServerContext,t.Session=h.Session;var f=r(88);t.Subscription=f.Subscription;var g=r(89);t.Transport=g.Transport;var v=r(1),m={InviteClientTransaction:v.InviteClientTransaction,InviteServerTransaction:v.InviteServerTransaction,NonInviteClientTransaction:v.NonInviteClientTransaction,NonInviteServerTransaction:v.NonInviteServerTransaction};t.Transactions=m;var S=r(90);t.makeUserAgentCoreConfigurationFromUA=S.makeUserAgentCoreConfigurationFromUA,t.UA=S.UA;var y=r(9);t.Utils=y.Utils;var T=n.__importStar(r(152));t.Web=T;var b=o.C.version;t.version=b;t.name="sip.js";var E=n.__importStar(r(2));t.Core=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importStar(r(109));!function(e){e.parse=function(e,t){var r={startRule:t};try{n.parse(e,r)}catch(e){r.data=-1}return r.data},e.nameAddrHeaderParse=function(t){var r=e.parse(t,"Name_Addr_Header");return-1!==r?r:void 0},e.URIParse=function(t){var r=e.parse(t,"SIP_URI");return-1!==r?r:void 0}}(t.Grammar||(t.Grammar={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(116),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(45),t),n.__exportStar(r(117),t),n.__exportStar(r(118),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(2),a=r(5),c=r(9),u=function(e){function t(r,n){var i=e.call(this)||this;return i.incomingRequest=n,i.data={},t.initializer(i,r,n),i}return n.__extends(t,e),t.initializer=function(e,t,r){var n=r.message;if(e.type=a.TypeStrings.ServerContext,e.ua=t,e.logger=t.getLogger("sip.servercontext"),e.request=n,n.body&&(e.body=n.body),n.hasHeader("Content-Type")&&(e.contentType=n.getHeader("Content-Type")),e.method=n.method,e.localIdentity=n.to,e.remoteIdentity=n.from,n.hasHeader("P-Asserted-Identity")){var i=n.getHeader("P-Asserted-Identity");i&&(e.assertedIdentity=o.Grammar.nameAddrHeaderParse(i))}},t.prototype.progress=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||180,e.minCode=100,e.maxCode=199,e.events=["progress"],this.reply(e)},t.prototype.accept=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||200,e.minCode=200,e.maxCode=299,e.events=["accepted"],this.reply(e)},t.prototype.reject=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||480,e.minCode=300,e.maxCode=699,e.events=["rejected","failed"],this.reply(e)},t.prototype.reply=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||100,n=e.minCode||100,i=e.maxCode||699,s=c.Utils.getReasonPhrase(r,e.reasonPhrase),a=e.extraHeaders||[],u=e.body?o.fromBodyLegacy(e.body):void 0,d=e.events||[];if(r<n||r>i)throw new TypeError("Invalid statusCode: "+r);var l,p={statusCode:r,reasonPhrase:s,extraHeaders:a,body:u},h=r.toString();switch(!0){case/^100$/.test(h):l=this.incomingRequest.trying(p).message;break;case/^1[0-9]{2}$/.test(h):l=this.incomingRequest.progress(p).message;break;case/^2[0-9]{2}$/.test(h):l=this.incomingRequest.accept(p).message;break;case/^3[0-9]{2}$/.test(h):l=this.incomingRequest.redirect([],p).message;break;case/^[4-6][0-9]{2}$/.test(h):l=this.incomingRequest.reject(p).message;break;default:throw new Error("Invalid status code "+r)}return d.forEach((function(e){t.emit(e,l,s)})),this},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,s.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,s.C.causes.CONNECTION_ERROR)},t}(i.EventEmitter);t.ServerContext=u},function(e,t,r){var n=r(94);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(154)),i=s(r(155));function s(e){return e&&e.__esModule?e:{default:e}}var o=new(s(r(161)).default),a=function(){function e(){(0,n.default)(this,e),o.set(this,{events:{}}),this.eventLength=0}return(0,i.default)(e,[{key:"on",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===t)throw new Error("You must provide a callback method.");if("function"!=typeof t)throw new TypeError("Listener must be a function");return this.events[e]=this.events[e]||[],this.events[e].push({cb:t,once:r}),this.eventLength++,this}},{key:"off",value:function(e,t){if(void 0===t)throw new Error("You must provide a callback method.");if("function"!=typeof t)throw new TypeError("Listener must be a function");if(void 0===this.events[e])throw new Error("Event not found - the event you provided is: "+e);var r=this.events[e];return r.forEach((function(e,n){e.cb===t&&r.splice(n,1)})),0===r.length&&(delete this.events[e],this.eventLength--),this}},{key:"trigger",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(void 0===e)throw new Error("You must provide an event to trigger.");var s=this.events[e],o=[];return void 0!==s&&s.forEach((function(e,r){e.cb.apply(t,n),e.once&&o.unshift(r),o.forEach((function(e,t){s.splice(t,1)}))})),this}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"destroy",value:function(){o.delete(this),this.eventLength=0}},{key:"events",get:function(){return o.get(this).events}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(36),t),n.__exportStar(r(115),t),n.__exportStar(r(80),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=function(){function e(e,t){this.core=e,this.dialogState=t,this.core.dialogs.set(this.id,this)}return e.initialDialogStateForUserAgentClient=function(e,t){var r=t.getHeaders("record-route").reverse(),i=t.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof n.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var s=i.uri,o=e.cseq,a=e.callId,c=e.fromTag,u=t.toTag;if(!a)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!u)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");var d=e.from.uri,l=e.to.uri;if(!t.statusCode)throw new Error("Incoming response status code undefined.");return{id:a+c+u,early:t.statusCode<200,callId:a,localTag:c,remoteTag:u,localSequenceNumber:o,remoteSequenceNumber:void 0,localURI:d,remoteURI:l,remoteTarget:s,routeSet:r,secure:!1}},e.initialDialogStateForUserAgentServer=function(e,t,r){void 0===r&&(r=!1);var i=e.getHeaders("record-route"),s=e.parseHeader("contact");if(!s)throw new Error("Contact undefined.");if(!(s instanceof n.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var o=s.uri,a=e.cseq,c=e.callId,u=t,d=e.fromTag,l=e.from.uri;return{id:c+u+d,early:r,callId:c,localTag:u,remoteTag:d,localSequenceNumber:void 0,remoteSequenceNumber:a,localURI:e.to.uri,remoteURI:l,remoteTarget:o,routeSet:i,secure:!1}},e.prototype.dispose=function(){this.core.dialogs.delete(this.id)},Object.defineProperty(e.prototype,"id",{get:function(){return this.dialogState.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"early",{get:function(){return this.dialogState.early},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callId",{get:function(){return this.dialogState.callId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localTag",{get:function(){return this.dialogState.localTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTag",{get:function(){return this.dialogState.remoteTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localSequenceNumber",{get:function(){return this.dialogState.localSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteSequenceNumber",{get:function(){return this.dialogState.remoteSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localURI",{get:function(){return this.dialogState.localURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteURI",{get:function(){return this.dialogState.remoteURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTarget",{get:function(){return this.dialogState.remoteTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"routeSet",{get:function(){return this.dialogState.routeSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secure",{get:function(){return this.dialogState.secure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userAgentCore",{get:function(){return this.core},enumerable:!0,configurable:!0}),e.prototype.confirm=function(){this.dialogState.early=!1},e.prototype.receiveRequest=function(e){if(e.method!==n.C.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}},e.prototype.recomputeRouteSet=function(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()},e.prototype.createOutgoingRequestMessage=function(e,t){var r,n=this.remoteURI,i=this.remoteTag,s=this.localURI,o=this.localTag,a=this.callId;r=t&&t.cseq?t.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1;var c=this.remoteTarget,u=this.routeSet,d=t&&t.extraHeaders,l=t&&t.body;return this.userAgentCore.makeOutgoingRequestMessage(e,c,s,n,{callId:a,cseq:r,fromTag:o,toTag:i,routeSet:u},d,l)},e.prototype.incrementLocalSequenceNumber=function(){if(!this.dialogState.localSequenceNumber)throw new Error("Local sequence number undefined.");this.dialogState.localSequenceNumber+=1},e.prototype.sequenceGuard=function(e){return e.method===n.C.ACK||(!(this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber)||(this.core.replyStateless(e,{statusCode:500}),!1))},e}();t.Dialog=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(){return e.call(this)||this}return n.__extends(t,e),t}(r(38).IncomingMessage);t.IncomingRequestMessage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),i=r(17),s=function(){function e(){this.headers={}}return e.prototype.addHeader=function(e,t){var r={raw:t};e=i.headerize(e),this.headers[e]?this.headers[e].push(r):this.headers[e]=[r]},e.prototype.getHeader=function(e){var t=this.headers[i.headerize(e)];if(t)return t[0]?t[0].raw:void 0},e.prototype.getHeaders=function(e){var t=this.headers[i.headerize(e)],r=[];if(!t)return[];for(var n=0,s=t;n<s.length;n++){var o=s[n];r.push(o.raw)}return r},e.prototype.hasHeader=function(e){return!!this.headers[i.headerize(e)]},e.prototype.parseHeader=function(e,t){if(void 0===t&&(t=0),e=i.headerize(e),this.headers[e]&&!(t>=this.headers[e].length)){var r=this.headers[e][t],s=r.raw;if(r.parsed)return r.parsed;var o=n.Grammar.parse(s,e.replace(/-/g,"_"));return-1===o?void this.headers[e].splice(t,1):(r.parsed=o,o)}},e.prototype.s=function(e,t){return void 0===t&&(t=0),this.parseHeader(e,t)},e.prototype.setHeader=function(e,t){this.headers[i.headerize(e)]=[{raw:t}]},e.prototype.toString=function(){return this.data},e}();t.IncomingMessage=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r,n){var i=e.call(this,n)||this;return i.uri=t,i._displayName=r,i}return n.__extends(t,e),Object.defineProperty(t.prototype,"friendlyName",{get:function(){return this.displayName||this.uri.aor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this._displayName},set:function(e){this._displayName=e},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))},t.prototype.toString=function(){var e=this.displayName||"0"===this.displayName?'"'+this.displayName+'" ':"";for(var t in e+="<"+this.uri.toString()+">",this.parameters)this.parameters.hasOwnProperty(t)&&(e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]));return e},t}(r(40).Parameters);t.NameAddrHeader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){for(var t in this.parameters={},e)e.hasOwnProperty(t)&&this.setParam(t,e[t])}return e.prototype.setParam=function(e,t){e&&(this.parameters[e.toLowerCase()]=null==t?null:t.toString())},e.prototype.getParam=function(e){if(e)return this.parameters[e.toLowerCase()]},e.prototype.hasParam=function(e){return!!e&&!!this.parameters.hasOwnProperty(e.toLowerCase())},e.prototype.deleteParam=function(e){if(e=e.toLowerCase(),this.parameters.hasOwnProperty(e)){var t=this.parameters[e];return delete this.parameters[e],t}},e.prototype.clearParams=function(){this.parameters={}},e}();t.Parameters=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r,n,i,s,o){var a=e.call(this,s)||this;if(a.headers={},!n)throw new TypeError('missing or invalid "host" parameter');for(var c in t=t||"sip",o)o.hasOwnProperty(c)&&a.setHeader(c,o[c]);return a.raw={scheme:t,user:r,host:n,port:i},a.normal={scheme:t.toLowerCase(),user:r,host:n.toLowerCase(),port:i},a}return n.__extends(t,e),Object.defineProperty(t.prototype,"scheme",{get:function(){return this.normal.scheme},set:function(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.normal.user},set:function(e){this.normal.user=this.raw.user=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this.normal.host},set:function(e){this.raw.host=e,this.normal.host=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aor",{get:function(){return this.normal.user+"@"+this.normal.host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this.normal.port},set:function(e){this.normal.port=this.raw.port=e},enumerable:!0,configurable:!0}),t.prototype.setHeader=function(e,t){this.headers[this.headerize(e)]=t instanceof Array?t:[t]},t.prototype.getHeader=function(e){if(e)return this.headers[this.headerize(e)]},t.prototype.hasHeader=function(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))},t.prototype.deleteHeader=function(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){var t=this.headers[e];return delete this.headers[e],t}},t.prototype.clearHeaders=function(){this.headers={}},t.prototype.clone=function(){return new t(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},t.prototype.toRaw=function(){return this._toString(this._raw)},t.prototype.toString=function(){return this._toString(this._normal)},Object.defineProperty(t.prototype,"_normal",{get:function(){return this.normal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_raw",{get:function(){return this.raw},enumerable:!0,configurable:!0}),t.prototype._toString=function(e){var t=e.scheme+":";for(var r in e.scheme.toLowerCase().match("^sips?$")||(t+="//"),e.user&&(t+=this.escapeUser(e.user)+"@"),t+=e.host,(e.port||0===e.port)&&(t+=":"+e.port),this.parameters)this.parameters.hasOwnProperty(r)&&(t+=";"+r,null!==this.parameters[r]&&(t+="="+this.parameters[r]));var n=[];for(var i in this.headers)if(this.headers.hasOwnProperty(i))for(var s in this.headers[i])this.headers[i].hasOwnProperty(s)&&n.push(i+"="+this.headers[i][s]);return n.length>0&&(t+="?"+n.join("&")),t},t.prototype.escapeUser=function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw e}return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},t.prototype.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),n=r.length,i="",s=0;s<n;s++)0!==s&&(i+="-"),i+=r[s].charAt(0).toUpperCase()+r[s].substring(1);return t[i]&&(i=t[i]),i},t}(r(40).Parameters);t.URI=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(){return e.call(this)||this}return n.__extends(t,e),t}(r(38).IncomingMessage);t.IncomingResponseMessage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(r,n,i,s,o){var a=e.call(this,n,i,t.makeId(r),s,o)||this;return a._request=r,a.user=i,r.setViaHeader(a.id,n.protocol),a}return n.__extends(t,e),t.makeId=function(e){if("CANCEL"===e.method){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())},Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t.prototype.onRequestTimeout=function(){this.user.onRequestTimeout&&this.user.onRequestTimeout()},t}(r(44).Transaction);t.ClientTransaction=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(31),o=function(e){function t(t,r,n,i,s){var o=e.call(this)||this;return o._transport=t,o._user=r,o._id=n,o._state=i,o.logger=r.loggerFactory.getLogger(s,n),o.logger.debug("Constructing "+o.typeToString()+" with id "+o.id+"."),o}return n.__extends(t,e),t.prototype.dispose=function(){this.logger.debug("Destroyed "+this.typeToString()+" with id "+this.id+".")},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){throw new Error("Invalid kind.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transport",{get:function(){return this._transport},enumerable:!0,configurable:!0}),t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.logTransportError=function(e,t){this.logger.error(e.message),this.logger.error("Transport error occurred in "+this.typeToString()+" with id "+this.id+"."),this.logger.error(t)},t.prototype.send=function(e){var t=this;return this.transport.send(e).catch((function(e){if(e instanceof s.TransportError)throw t.onTransportError(e),e;var r;throw r=e&&"string"==typeof e.message?new s.TransportError(e.message):new s.TransportError,t.onTransportError(r),r}))},t.prototype.setState=function(e){this.logger.debug('State change to "'+e+'" on '+this.typeToString()+" with id "+this.id+"."),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.emit("stateChanged")},t.prototype.typeToString=function(){return"UnknownType"},t}(i.EventEmitter);t.Transaction=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.setPrototypeOf(n,r.prototype),n}return n.__extends(t,e),t}(Error);t.Exception=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r,n,i,s){var o=e.call(this,r,n,t.viaBranch,i,s)||this;return o._request=t,o.user=n,o}return n.__extends(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t}(r(44).Transaction);t.ServerTransaction=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=void 0!==t.userAgentCore?t.userAgentCore:t;return e.call(this,i.NonInviteServerTransaction,s,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.NotifyUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(122),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.error=0]="error",e[e.warn=1]="warn",e[e.log=2]="log",e[e.debug=3]="debug"}(t.Levels||(t.Levels={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(18),s=r(8),o=r(2),a=r(5),c=r(10),u=r(32),d=function(e){function t(t,r,n,i){void 0===i&&(i={});var o=this;if(void 0===t||void 0===r||void 0===n)throw new TypeError("Not enough arguments");return(o=e.call(this,t,s.C.REFER,r.remoteIdentity.uri.toString(),i)||this).type=a.TypeStrings.ReferClientContext,o.options=i,o.extraHeaders=(o.options.extraHeaders||[]).slice(),o.applicant=r,o.target=o.initReferTo(n),o.ua&&o.extraHeaders.push("Referred-By: <"+o.ua.configuration.uri+">"),o.extraHeaders.push("Contact: "+r.contact),o.extraHeaders.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),o.extraHeaders.push("Refer-To: "+o.target),o.errorListener=o.onTransportError.bind(o),t.transport&&t.transport.on("transportError",o.errorListener),o}return n.__extends(t,e),t.prototype.refer=function(e){var t=this;void 0===e&&(e={});var r=(this.extraHeaders||[]).slice();return e.extraHeaders&&r.concat(e.extraHeaders),this.applicant.sendRequest(s.C.REFER,{extraHeaders:this.extraHeaders,receiveResponse:function(r){var n=r&&r.statusCode?r.statusCode.toString():"";/^1[0-9]{2}$/.test(n)?t.emit("referRequestProgress",t):/^2[0-9]{2}$/.test(n)?t.emit("referRequestAccepted",t):/^[4-6][0-9]{2}$/.test(n)&&t.emit("referRequestRejected",t),e.receiveResponse&&e.receiveResponse(r)}}),this},t.prototype.receiveNotify=function(e){var t=e.message.hasHeader("Content-Type")?e.message.getHeader("Content-Type"):void 0;if(t&&-1!==t.search(/^message\/sipfrag/)){var r=o.Grammar.parse(e.message.body,"sipfrag");if(-1===r)return void e.reject({statusCode:489,reasonPhrase:"Bad Event"});switch(!0){case/^1[0-9]{2}$/.test(r.status_code):this.emit("referProgress",this);break;case/^2[0-9]{2}$/.test(r.status_code):this.emit("referAccepted",this),!this.options.activeAfterTransfer&&this.applicant.terminate&&this.applicant.terminate();break;default:this.emit("referRejected",this)}return e.accept(),void this.emit("notify",e.message)}e.reject({statusCode:489,reasonPhrase:"Bad Event"})},t.prototype.initReferTo=function(e){var t;if("string"==typeof e){var r=o.Grammar.parse(e,"Refer_To");t=r&&r.uri?r.uri:e;var n=this.ua.normalizeTarget(e);if(!n)throw new TypeError("Invalid target: "+e);t=n}else{if(!e.session)throw new Error("Session undefined.");var i=e.remoteIdentity.friendlyName,s=e.session.remoteTarget.toString(),a=e.session.callId,c=e.session.remoteTag,u=e.session.localTag;t='"'+i+'" <'+s+"?Replaces="+encodeURIComponent(a+";to-tag="+c+";from-tag="+u)+">"}return t},t}(i.ClientContext);t.ReferClientContext=d;var l=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.session=n,i.type=a.TypeStrings.ReferServerContext,i.ua=t,i.status=a.SessionStatus.STATUS_INVITE_RECEIVED,i.fromTag=i.request.fromTag,i.id=i.request.callId+i.fromTag,i.contact=i.ua.contact.toString(),i.logger=t.getLogger("sip.referservercontext",i.id),i.cseq=Math.floor(1e4*Math.random()),i.callId=i.request.callId,i.fromUri=i.request.to.uri,i.fromTag=i.request.to.parameters.tag,i.remoteTarget=i.request.headers.Contact[0].parsed.uri,i.toUri=i.request.from.uri,i.toTag=i.request.fromTag,i.routeSet=i.request.getHeaders("record-route"),i.request.hasHeader("refer-to")?(i.referTo=i.request.parseHeader("refer-to"),i.referredSession=i.ua.findSession(i.request),i.request.hasHeader("referred-by")&&(i.referredBy=i.request.getHeader("referred-by")),i.referTo.uri.hasHeader("replaces")&&(i.replaces=i.referTo.uri.getHeader("replaces")),i.errorListener=i.onTransportError.bind(i),t.transport&&t.transport.on("transportError",i.errorListener),i.status=a.SessionStatus.STATUS_WAITING_FOR_ANSWER,i):(i.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting refer."),i.reject(),i)}return n.__extends(t,e),t.prototype.progress=function(){if(this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new c.Exceptions.InvalidStateError(this.status);this.incomingRequest.trying()},t.prototype.reject=function(t){if(void 0===t&&(t={}),this.status===a.SessionStatus.STATUS_TERMINATED)throw new c.Exceptions.InvalidStateError(this.status);this.logger.log("Rejecting refer"),this.status=a.SessionStatus.STATUS_TERMINATED,e.prototype.reject.call(this,t),this.emit("referRequestRejected",this)},t.prototype.accept=function(e,t){var r=this;if(void 0===e&&(e={}),this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new c.Exceptions.InvalidStateError(this.status);if(this.status=a.SessionStatus.STATUS_ANSWERED,this.incomingRequest.accept({statusCode:202,reasonPhrase:"Accepted"}),this.emit("referRequestAccepted",this),e.followRefer){this.logger.log("Accepted refer, attempting to automatically follow it");var n=this.referTo.uri;if(!n.scheme||!n.scheme.match("^sips?$"))return this.logger.error("SIP.js can only automatically follow SIP refer target"),void this.reject();var i=e.inviteOptions||{},s=(i.extraHeaders||[]).slice();if(this.replaces&&s.push("Replaces: "+decodeURIComponent(this.replaces)),this.referredBy&&s.push("Referred-By: "+this.referredBy),i.extraHeaders=s,n.clearHeaders(),this.targetSession=this.ua.invite(n.toString(),i,t),this.emit("referInviteSent",this),this.targetSession){this.targetSession.once("progress",(function(e){var t=e.statusCode||100,n=e.reasonPhrase;r.sendNotify(("SIP/2.0 "+t+" "+n).trim()),r.emit("referProgress",r),r.referredSession&&r.referredSession.emit("referProgress",r)})),this.targetSession.once("accepted",(function(){r.logger.log("Successfully followed the refer"),r.sendNotify("SIP/2.0 200 OK"),r.emit("referAccepted",r),r.referredSession&&r.referredSession.emit("referAccepted",r)}));var o=function(e){if(r.status!==a.SessionStatus.STATUS_TERMINATED){if(r.logger.log("Refer was not successful. Resuming session"),e&&429===e.statusCode)return r.logger.log("Alerting referrer that identity is required."),void r.sendNotify("SIP/2.0 429 Provide Referrer Identity");r.sendNotify("SIP/2.0 603 Declined"),r.status=a.SessionStatus.STATUS_TERMINATED,r.emit("referRejected",r),r.referredSession&&r.referredSession.emit("referRejected")}};this.targetSession.once("rejected",o),this.targetSession.once("failed",o)}}else this.logger.log("Accepted refer, but did not automatically follow it"),this.sendNotify("SIP/2.0 200 OK"),this.emit("referAccepted",this),this.referredSession&&this.referredSession.emit("referAccepted",this)},t.prototype.sendNotify=function(e){if(this.status!==a.SessionStatus.STATUS_ANSWERED)throw new c.Exceptions.InvalidStateError(this.status);if(-1===o.Grammar.parse(e,"sipfrag"))throw new Error("sipfrag body is required to send notify for refer");var t={contentDisposition:"render",contentType:"message/sipfrag",content:e};if(this.session)this.session.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:t});else{var r=this.ua.userAgentCore.makeOutgoingRequestMessage(s.C.NOTIFY,this.remoteTarget,this.fromUri,this.toUri,{cseq:this.cseq+=1,callId:this.callId,fromTag:this.fromTag,toTag:this.toTag,routeSet:this.routeSet},["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],t),n=this.ua.transport;if(!n)throw new Error("Transport undefined.");var i={loggerFactory:this.ua.getLoggerFactory()};new o.NonInviteClientTransaction(r,n,i)}},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t}(u.ServerContext);t.ReferServerContext=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var r,n=[],i=e.split(/\r\n/),s=0;s<i.length;){var o=i[s];if(/^m=(?:audio|video)/.test(o))r={index:s,stripped:[]},n.push(r);else if(r){var a=/^a=rtpmap:(\d+) ([^/]+)\//.exec(o);if(a&&t===a[2]){i.splice(s,1),r.stripped.push(a[1]);continue}}s++}for(var c=0,u=n;c<u.length;c++){for(var d=u[c],l=i[d.index].split(" "),p=3;p<l.length;)-1===d.stripped.indexOf(l[p])?p++:l.splice(p,1);i[d.index]=l.join(" ")}return i.join("\r\n")};t.stripTcpCandidates=function(e){return e.sdp=(e.sdp||"").replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,""),Promise.resolve(e)},t.stripTelephoneEvent=function(e){return e.sdp=n(e.sdp||"","telephone-event"),Promise.resolve(e)},t.cleanJitsiSdpImageattr=function(e){return e.sdp=(e.sdp||"").replace(/^(a=imageattr:.*?)(x|y)=\[0-/gm,"$1$2=[1:"),Promise.resolve(e)},t.stripG722=function(e){return e.sdp=n(e.sdp||"","G722"),Promise.resolve(e)},t.stripRtpPayload=function(e){return function(t){return t.sdp=n(t.sdp||"",e),Promise.resolve(t)}},t.stripVideo=function(e){return e.sdp=function(e,t){var r=new RegExp("m="+t+".*$","gm"),n=new RegExp("^a=group:.*$","gm");if(r.test(e)){var i,s=(e=e.split(/^m=/gm).filter((function(e){if(e.substr(0,t.length)===t){if(i=e.match(/^a=mid:.*$/gm)){var r=i[0].match(/:.+$/g);r&&(i=r[0].substr(1))}return!1}return!0})).join("m=")).match(n);if(s&&1===s.length){var o=s[0],a=new RegExp(" *"+i+"[^ ]*","g");o=o.replace(a,""),e=e.split(n).join(o)}}return e}(e.sdp||"","video"),Promise.resolve(e)},t.addMidLines=function(e){var t=e.sdp||"";if(-1===t.search(/^a=mid.*$/gm)){var r=t.match(/^m=.*$/gm),n=t.split(/^m=.*$/gm);r&&r.forEach((function(e,t){r[t]=e+"\na=mid:"+t})),n.forEach((function(e,t){r&&r[t]&&(n[t]=e+r[t])})),t=n.join(""),e.sdp=t}return Promise.resolve(e)}},function(e,t,r){var n=r(53),i=r(97);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(54);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(101),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(102)("keys"),i=r(57);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(19).f,i=r(21),s=r(14)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},function(e,t,r){var n=r(97);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(33),i=r(53),s=r(59),o=r(55),a=r(178);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,d=4==e,l=6==e,p=5==e||l,h=t||a;return function(t,a,f){for(var g,v,m=s(t),S=i(m),y=n(a,f,3),T=o(S.length),b=0,E=r?h(t,T):c?h(t,0):void 0;T>b;b++)if((p||b in S)&&(v=y(g=S[b],b,m),e))if(r)E[b]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return b;case 2:E.push(g)}else if(d)return!1;return l?-1:u||d?d:E}}},function(e,t,r){var n=r(57)("meta"),i=r(11),s=r(21),o=r(19).f,a=0,c=Object.isExtensible||function(){return!0},u=!r(26)((function(){return c(Object.preventExtensions({}))})),d=function(e){o(e,n,{value:{i:"O"+ ++a,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!s(e,n)&&d(e),e}}},function(e,t,r){var n=r(33),i=r(185),s=r(186),o=r(20),a=r(55),c=r(187),u={},d={};(t=e.exports=function(e,t,r,l,p){var h,f,g,v,m=p?function(){return e}:c(e),S=n(r,l,t?2:1),y=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(s(m)){for(h=a(e.length);h>y;y++)if((v=t?S(o(f=e[y])[0],f[1]):S(e[y]))===u||v===d)return v}else for(g=m.call(e);!(f=g.next()).done;)if((v=i(g,S,f.value,t))===u||v===d)return v}).BREAK=u,t.RETURN=d},function(e,t,r){var n=r(11);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return d}));var n=r(34);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,t);var r,n,i,c=a(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this))._mute=!1,t._status="starting",t._callType="",t.UA=e,t._docBody=document.getElementsByTagName("body")[0],t.audioElement=!1,t.UA.start(),t}return r=u,(n=[{key:"makeCall",value:function(e){this._callType="outgoing",this._session=this.UA.invite(e,this._getAudioElement()),this._attatchSessionEvents(this._session)}},{key:"incomingCall",value:function(e){this._callType="incoming",this._session=e,this._attatchSessionEvents()}},{key:"_getAudioElement",value:function(){return this.audioElement||(this.audioElement=document.createElement("audio"),this.audioElement.className="cdcts-sipjs-remote-audio",this._docBody.appendChild(this.audioElement)),this.audioElement}},{key:"_attatchSessionEvents",value:function(t){var r=this;this._session.on("connecting",(function(){r.trigger("connecting"),r._status="initiating"})),this._session.on("progress",(function(n){183==n.statusCode&&n.body&&r._session.hasOffer&&!r._session.dialog&&(n.hasHeader("require")&&-1!==n.getHeader("require").indexOf("100rel")||r._session.sessionDescriptionHandler.hasDescription(n.getHeader("Content-Type"))&&(r._session.status=e.Session.C.STATUS_EARLY_MEDIA,r._waitingForApplyingAnswer(t,n))),r.trigger("progress",n)})),this._session.on("accepted",(function(e){r.trigger("accepted",e),r._status="connected"})),this._session.on("dtmf",(function(e,t){return r.trigger("dtmf",e,t)})),this._session.on("muted",(function(e){return r.trigger("muted",e)})),this._session.on("unmuted",(function(e){return r.trigger("unmuted",e)})),this._session.on("cancel",(function(){r.trigger("cancel"),r._status="ended"})),this._session.on("refer",(function(e,t,n){r.trigger("rejected")})),this._session.on("replaced",(function(e){r.trigger("rejected",e)})),this._session.on("rejected",(function(e,t){r.trigger("rejected",e,t),r._status="ended"})),this._session.on("failed",(function(e,t){r.trigger("failed",e,t),r._status="ended"})),this._session.on("terminated",(function(e,t){r.trigger("terminated",e,t),r._status="ended"})),this._session.on("bye",(function(){r.trigger("bye"),r._status="ended"})),this._session.on("trackAdded",(function(){if(t){var e=t.sessionDescriptionHandler.peerConnection,r=new MediaStream;e.getReceivers().forEach((function(e){r.addTrack(e.track)})),void 0!==t.passedOptions.srcObject?t.passedOptions.srcObject=r:void 0!==t.passedOptions.mozSrcObject?t.passedOptions.mozSrcObject=r:void 0!==t.passedOptions.src?t.passedOptions.src=URL.createObjectURL(r):console.log("Error attaching stream to element."),t.passedOptions.play()}}))}},{key:"answer",value:function(){"incoming"===this._callType?(this._session.accept({media:{constraints:{audio:!0,video:!1},render:{remote:this._getAudioElement()}},sessionDescriptionHandlerOptions:{constraints:{audio:!0,video:!1},render:{remote:this._getAudioElement()}}}),console.log("accept",this),this._attatchSessionEvents(this)):console.error("accept() method is only valid on incoming calls")}},{key:"reject",value:function(){"incoming"===this._callType?this._session.reject():console.error("reject() method is only valid on incoming calls")}},{key:"request",get:function(){return!!this._session&&("incoming"===this._callType?this._session.transaction.request:"outgoing"===this._callType&&this._session.request)}},{key:"isInitiating",value:function(){return"initiating"===this._status}},{key:"isConnected",value:function(){return"connected"===this._status}},{key:"isEnded",value:function(){return"ended"===this._status}},{key:"isIncoming",value:function(){return"incoming"===this._callType}},{key:"isOutgoing",value:function(){return"outgoing"===this._callType}},{key:"terminate",value:function(){this._session.terminate()}},{key:"shutdown",value:function(){this.UA.stop()}},{key:"mute",value:function(e){this._mute=e,console.log("this._session",this._session),this._mute?this._session.mute():this._session.unmute()}},{key:"hold",value:function(e){e?this._session.hold():this._session.unhold()}},{key:"isMuted",value:function(){return this._mute}},{key:"sendDigits",value:function(e){this._session.dtmf(e)}},{key:"refer",value:function(e){this._session.refer(e)}},{key:"status",value:function(){return this._status}},{key:"_waitingForApplyingAnswer",value:function(e,t){var r,n=1;setTimeout((function i(){n++,r=setTimeout(i,10),(e&&e.hasAnswer||n>14)&&(e.hasAnswer?clearTimeout(r):15===n&&(clearTimeout(r),e.sessionDescriptionHandler.setDescription(t.body).catch((function(r){e.logger.warn(r),e.failed(t,C.causes.BAD_MEDIA_DESCRIPTION),e.terminate({statusCode:488,reason_phrase:"Bad Media Description"})}))))}),10)}}])&&s(r.prototype,n),i&&s(r,i),u}(r.n(n).a)}).call(this,r(28))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(39),s=r(17),o=function(){function e(t,r,i,o,a,c,u){this.headers={},this.extraHeaders=[],this.options=e.getDefaultOptions(),a&&(this.options=n.__assign(n.__assign({},this.options),a),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),c&&c.length&&(this.extraHeaders=c.slice()),u&&(this.body={body:u.content,contentType:u.contentType}),this.method=t,this.ruri=r.clone(),this.fromURI=i.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:s.newTag(),this.from=e.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=o.clone(),this.toTag=this.options.toTag,this.to=e.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+s.createRandomToken(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}return e.getDefaultOptions=function(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}},e.makeNameAddrHeader=function(e,t,r){var n={};return r&&(n.tag=r),new i.NameAddrHeader(e,t,n)},e.prototype.getHeader=function(e){var t=this.headers[s.headerize(e)];if(t){if(t[0])return t[0]}else for(var r=new RegExp("^\\s*"+e+"\\s*:","i"),n=0,i=this.extraHeaders;n<i.length;n++){var o=i[n];if(r.test(o))return o.substring(o.indexOf(":")+1).trim()}},e.prototype.getHeaders=function(e){var t=[],r=this.headers[s.headerize(e)];if(r)for(var n=0,i=r;n<i.length;n++){var o=i[n];t.push(o)}else for(var a=new RegExp("^\\s*"+e+"\\s*:","i"),c=0,u=this.extraHeaders;c<u.length;c++){var d=u[c];a.test(d)&&t.push(d.substring(d.indexOf(":")+1).trim())}return t},e.prototype.hasHeader=function(e){if(this.headers[s.headerize(e)])return!0;for(var t=new RegExp("^\\s*"+e+"\\s*:","i"),r=0,n=this.extraHeaders;r<n.length;r++){var i=n[r];if(t.test(i))return!0}return!1},e.prototype.setHeader=function(e,t){this.headers[s.headerize(e)]=t instanceof Array?t:[t]},e.prototype.setViaHeader=function(e,t){this.options.hackViaTcp&&(t="TCP");var r="SIP/2.0/"+t;r+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(r+=";rport"),this.setHeader("via",r),this.branch=e},e.prototype.toString=function(){var e="";for(var t in e+=this.method+" "+this.ruri.toRaw()+" SIP/2.0\r\n",this.headers)if(this.headers[t])for(var r=0,n=this.headers[t];r<n.length;r++){e+=t+": "+n[r]+"\r\n"}for(var i=0,o=this.extraHeaders;i<o.length;i++){e+=(t=o[i]).trim()+"\r\n"}return e+="Supported: "+this.options.optionTags.join(", ")+"\r\n",e+="User-Agent: "+this.options.userAgentString+"\r\n",this.body?"string"==typeof this.body?(e+="Content-Length: "+s.str_utf8_length(this.body)+"\r\n\r\n",e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+"\r\n",e+="Content-Length: "+s.str_utf8_length(this.body.body)+"\r\n\r\n",e+=this.body.body):e+="Content-Length: 0\r\n\r\n":e+="Content-Length: 0\r\n\r\n",e},e}();t.OutgoingRequestMessage=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),s=r(43),o=r(22),a=function(e){function t(t,r,n){var s=e.call(this,t,r,n,o.TransactionState.Calling,"sip.transaction.ict")||this;return s.ackRetransmissionCache=new Map,s.B=setTimeout((function(){return s.timer_B()}),i.Timers.TIMER_B),s.send(t.toString()).catch((function(e){s.logTransportError(e,"Failed to send initial outgoing request.")})),s}return n.__extends(t,e),t.prototype.dispose=function(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ict"},enumerable:!0,configurable:!0}),t.prototype.ackResponse=function(e){var t=this,r=e.toTag;if(!r)throw new Error("To tag undefined.");var n="z9hG4bK"+Math.floor(1e7*Math.random());e.setViaHeader(n,this.transport.protocol),this.ackRetransmissionCache.set(r,e),this.send(e.toString()).catch((function(e){t.logTransportError(e,"Failed to send ACK to 2xx response.")}))},t.prototype.receiveResponse=function(e){var t=this,r=e.statusCode;if(!r||r<100||r>699)throw new Error("Invalid status code "+r);switch(this.state){case o.TransactionState.Calling:if(r>=100&&r<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=200&&r<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=300&&r<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(r>=100&&r<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=200&&r<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(r>=300&&r<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Accepted:if(r>=200&&r<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));var n=this.ackRetransmissionCache.get(e.toTag);return n?void this.send(n.toString()).catch((function(e){t.logTransportError(e,"Failed to send retransmission of ACK to 2xx response.")})):void 0}break;case o.TransactionState.Completed:if(r>=300&&r<=699)return void this.ack(e);break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var i="Received unexpected "+r+" response while in state "+this.state+".";this.logger.warn(i)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"INVITE client transaction"},t.prototype.ack=function(e){var t=this,r=this.request.ruri,n=this.request.callId,i=this.request.cseq,s=this.request.getHeader("from"),o=e.getHeader("to"),a=this.request.getHeader("via"),c=this.request.getHeader("route");if(!s)throw new Error("From undefined.");if(!o)throw new Error("To undefined.");if(!a)throw new Error("Via undefined.");var u="ACK "+r+" SIP/2.0\r\n";c&&(u+="Route: "+c+"\r\n"),u+="Via: "+a+"\r\n",u+="To: "+o+"\r\n",u+="From: "+s+"\r\n",u+="Call-ID: "+n+"\r\n",u+="CSeq: "+i+" ACK\r\n",u+="Max-Forwards: 70\r\n",u+="Content-Length: 0\r\n\r\n",this.send(u).catch((function(e){t.logTransportError(e,"Failed to send ACK to non-2xx response.")}))},t.prototype.stateTransition=function(e,t){var r=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+r.state+" to "+e)};switch(e){case o.TransactionState.Calling:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Calling&&n();break;case o.TransactionState.Accepted:case o.TransactionState.Completed:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Accepted&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}this.B&&(clearTimeout(this.B),this.B=void 0),o.TransactionState.Proceeding,e===o.TransactionState.Completed&&(this.D=setTimeout((function(){return r.timer_D()}),i.Timers.TIMER_D)),e===o.TransactionState.Accepted&&(this.M=setTimeout((function(){return r.timer_M()}),i.Timers.TIMER_M)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_A=function(){},t.prototype.timer_B=function(){this.logger.debug("Timer B expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Calling&&(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))},t.prototype.timer_D=function(){this.logger.debug("Timer D expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t.prototype.timer_M=function(){this.logger.debug("Timer M expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Accepted&&this.stateTransition(o.TransactionState.Terminated)},t}(s.ClientTransaction);t.InviteClientTransaction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o,a=t.createOutgoingRequestMessage(i.C.BYE,n);return o=e.call(this,s.NonInviteClientTransaction,t.userAgentCore,a,r)||this,t.dispose(),o}return n.__extends(t,e),t}(r(4).UserAgentClient);t.ByeUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.ByeUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=t.createOutgoingRequestMessage(i.C.INFO,n);return e.call(this,s.NonInviteClientTransaction,t.userAgentCore,o,r)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.InfoUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.InfoUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.MessageUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.MessageUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=t.createOutgoingRequestMessage(i.C.NOTIFY,n);return e.call(this,s.NonInviteClientTransaction,t.userAgentCore,o,r)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.NotifyUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o,a=t.createOutgoingRequestMessage(i.C.PRACK,n);return o=e.call(this,s.NonInviteClientTransaction,t.userAgentCore,a,r)||this,t.signalingStateTransition(a),o}return n.__extends(t,e),t}(r(4).UserAgentClient);t.PrackUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this;return t.signalingStateTransition(r),s.dialog=t,s}return n.__extends(t,e),t.prototype.accept=function(t){return void 0===t&&(t={statusCode:200}),t.body&&this.dialog.signalingStateTransition(t.body),e.prototype.accept.call(this,t)},t}(r(6).UserAgentServer);t.PrackUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=this,a=t.createOutgoingRequestMessage(i.C.INVITE,n);return(o=e.call(this,s.InviteClientTransaction,t.userAgentCore,a,r)||this).delegate=r,t.signalingStateTransition(a),t.reinviteUserAgentClient=o,o.dialog=t,o}return n.__extends(t,e),t.prototype.receiveResponse=function(e){var t=this;if(this.authenticationGuard(e,this.dialog)){var r=e.statusCode?e.statusCode.toString():"";if(!r)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(r):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(r):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:function(e){throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(r):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:function(e){return t.dialog.ack(e)}});break;case/^3[0-9]{2}$/.test(r):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(r):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+r)}}},t}(r(4).UserAgentClient);t.ReInviteUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.InviteServerTransaction,t.userAgentCore,r,n)||this;return t.reinviteUserAgentServer=s,s.dialog=t,s}return n.__extends(t,e),t.prototype.accept=function(t){void 0===t&&(t={statusCode:200}),t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(this.dialog.routeSet.map((function(e){return"Record-Route: "+e})));var r=e.prototype.accept.call(this,t),i=this.dialog,s=n.__assign(n.__assign({},r),{session:i});return t.body&&this.dialog.signalingStateTransition(t.body),this.dialog.reConfirm(),s},t.prototype.progress=function(t){void 0===t&&(t={statusCode:180});var r=e.prototype.progress.call(this,t),i=this.dialog,s=n.__assign(n.__assign({},r),{session:i});return t.body&&this.dialog.signalingStateTransition(t.body),s},t.prototype.redirect=function(e,t){throw void 0===t&&(t={statusCode:302}),this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,new Error("Unimplemented.")},t.prototype.reject=function(t){return void 0===t&&(t={statusCode:488}),this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,e.prototype.reject.call(this,t)},t}(r(6).UserAgentServer);t.ReInviteUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=t.createOutgoingRequestMessage(i.C.REFER,n);return e.call(this,s.NonInviteClientTransaction,t.userAgentCore,o,r)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.ReferUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=void 0!==t.userAgentCore?t.userAgentCore:t;return e.call(this,i.NonInviteServerTransaction,s,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.ReferUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(48),o=r(12),a=r(23),c=r(47),u=r(81),d=function(e){function t(t,r,n,i,s,o){var a=e.call(this,i,s)||this;return a.delegate=o,a._autoRefresh=!1,a._subscriptionEvent=t,a._subscriptionExpires=r,a._subscriptionExpiresInitial=r,a._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),a._subscriptionRefresh=void 0,a._subscriptionRefreshLastSet=void 0,a._subscriptionState=n,a.logger=i.loggerFactory.getLogger("sip.subscribe-dialog"),a.logger.log("SUBSCRIBE dialog "+a.id+" constructed"),a}return n.__extends(t,e),t.initialDialogStateForSubscription=function(e,t){var r=t.getHeaders("record-route"),n=t.parseHeader("contact");if(!n)throw new Error("Contact undefined.");if(!(n instanceof i.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var s=n.uri,o=e.cseq,a=e.callId,c=e.fromTag,u=t.fromTag;if(!a)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!u)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:a+c+u,early:!1,callId:a,localTag:c,remoteTag:u,localSequenceNumber:o,remoteSequenceNumber:void 0,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:s,routeSet:r,secure:!1}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log("SUBSCRIBE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"autoRefresh",{get:function(){return this._autoRefresh},set:function(e){this._autoRefresh=!0,this.refreshTimerSet()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionEvent",{get:function(){return this._subscriptionEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpires",{get:function(){var e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet,t=this._subscriptionExpires-e;return Math.max(t,0)},set:function(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){var t=this.subscriptionRefresh;(void 0===t||t>=e)&&this.refreshTimerSet()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpiresInitial",{get:function(){return this._subscriptionExpiresInitial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionRefresh",{get:function(){if(void 0!==this._subscriptionRefresh&&void 0!==this._subscriptionRefreshLastSet){var e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet,t=this._subscriptionRefresh-e;return Math.max(t,0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionState",{get:function(){return this._subscriptionState},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(t){if(this.logger.log("SUBSCRIBE dialog "+this.id+" received "+t.method+" request"),this.sequenceGuard(t))switch(e.prototype.receiveRequest.call(this,t),t.method){case i.C.NOTIFY:this.onNotify(t);break;default:this.logger.log("SUBSCRIBE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501})}else this.logger.log("SUBSCRIBE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.refresh=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.subscribe=function(e,t){var r=this;if(void 0===t&&(t={}),this.subscriptionState!==s.SubscriptionState.Pending&&this.subscriptionState!==s.SubscriptionState.Active)throw new Error("Invalid state "+this.subscriptionState+'. May only re-subscribe while in state "pending" or "active".');this.logger.log("SUBSCRIBE dialog "+this.id+" sending SUBSCRIBE request");var n=new u.ReSubscribeUserAgentClient(this,e,t);return this.N=setTimeout((function(){return r.timer_N()}),o.Timers.TIMER_N),n},t.prototype.terminate=function(){this.stateTransition(s.SubscriptionState.Terminated),this.onTerminated()},t.prototype.unsubscribe=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: 0"),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.onNotify=function(e){var t=e.parseHeader("Event").event;if(t&&t===this.subscriptionEvent){this.N&&(clearTimeout(this.N),this.N=void 0);var r=e.parseHeader("Subscription-State");if(r&&r.state){var n=r.state,i=r.expires?Math.max(r.expires,0):void 0;switch(n){case"pending":this.stateTransition(s.SubscriptionState.Pending,i);break;case"active":this.stateTransition(s.SubscriptionState.Active,i);break;case"terminated":this.stateTransition(s.SubscriptionState.Terminated,i);break;default:this.logger.warn("Unrecognized subscription state.")}var o=new c.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(o):o.accept()}else this.core.replyStateless(e,{statusCode:489})}else this.core.replyStateless(e,{statusCode:489})},t.prototype.onRefresh=function(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)},t.prototype.onTerminated=function(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()},t.prototype.refreshTimerClear=function(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)},t.prototype.refreshTimerSet=function(){var e=this;if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){var t=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(t/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout((function(){e.refreshTimer=void 0,e._subscriptionRefresh=void 0,e._subscriptionRefreshLastSet=void 0,e.onRefresh(e.refresh())}),t)}},t.prototype.stateTransition=function(e,t){var r=this,n=function(){r.logger.warn("Invalid subscription state transition from "+r.subscriptionState+" to "+e)};switch(e){case s.SubscriptionState.Initial:case s.SubscriptionState.NotifyWait:return void n();case s.SubscriptionState.Pending:if(this.subscriptionState!==s.SubscriptionState.NotifyWait&&this.subscriptionState!==s.SubscriptionState.Pending)return void n();break;case s.SubscriptionState.Active:case s.SubscriptionState.Terminated:if(this.subscriptionState!==s.SubscriptionState.NotifyWait&&this.subscriptionState!==s.SubscriptionState.Pending&&this.subscriptionState!==s.SubscriptionState.Active)return void n();break;default:return void n()}e===s.SubscriptionState.Pending&&t&&(this.subscriptionExpires=t),e===s.SubscriptionState.Active&&t&&(this.subscriptionExpires=t),e===s.SubscriptionState.Terminated&&this.dispose(),this._subscriptionState=e},t.prototype.timer_N=function(){this.subscriptionState!==s.SubscriptionState.Terminated&&(this.stateTransition(s.SubscriptionState.Terminated),this.onTerminated())},t}(r(36).Dialog);t.SubscriptionDialog=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=function(e){function t(t,r,n){var o=this,a=t.createOutgoingRequestMessage(i.C.SUBSCRIBE,n);return(o=e.call(this,s.NonInviteClientTransaction,t.userAgentCore,a,r)||this).dialog=t,o}return n.__extends(t,e),t.prototype.waitNotifyStop=function(){},t.prototype.receiveResponse=function(t){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var r=t.getHeader("Expires");if(r){var n=Number(r);this.dialog.subscriptionExpires>n&&(this.dialog.subscriptionExpires=n)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}if(t.statusCode&&t.statusCode>=400&&t.statusCode<700){-1!==[404,405,410,416,480,481,482,483,484,485,489,501,604].indexOf(t.statusCode)&&this.dialog.terminate()}e.prototype.receiveResponse.call(this,t)},t}(r(4).UserAgentClient);t.ReSubscribeUserAgentClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(49),i=function(){function e(e,t,r){this.logger=e,this.category=t,this.label=r}return e.prototype.error=function(e){this.genericLog(n.Levels.error,e)},e.prototype.warn=function(e){this.genericLog(n.Levels.warn,e)},e.prototype.log=function(e){this.genericLog(n.Levels.log,e)},e.prototype.debug=function(e){this.genericLog(n.Levels.debug,e)},e.prototype.genericLog=function(e,t){this.logger.genericLog(e,this.category,this.label,t)},e}();t.Logger=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(67),t),n.__exportStar(r(68),t),n.__exportStar(r(127),t),n.__exportStar(r(69),t),n.__exportStar(r(70),t),n.__exportStar(r(128),t),n.__exportStar(r(129),t),n.__exportStar(r(71),t),n.__exportStar(r(72),t),n.__exportStar(r(73),t),n.__exportStar(r(47),t),n.__exportStar(r(130),t),n.__exportStar(r(74),t),n.__exportStar(r(75),t),n.__exportStar(r(76),t),n.__exportStar(r(77),t),n.__exportStar(r(81),t),n.__exportStar(r(131),t),n.__exportStar(r(78),t),n.__exportStar(r(79),t),n.__exportStar(r(132),t),n.__exportStar(r(133),t),n.__exportStar(r(134),t),n.__exportStar(r(135),t),n.__exportStar(r(4),t),n.__exportStar(r(6),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(18),s=r(8),o=r(2),a=r(5),c=r(10),u=r(9),d=function(e){function t(t,r,n,i){void 0===i&&(i={});var o=this;if(i.extraHeaders=(i.extraHeaders||[]).slice(),i.contentType=i.contentType||"text/plain","number"!=typeof i.expires||i.expires%1!=0?i.expires=3600:i.expires=Number(i.expires),"boolean"!=typeof i.unpublishOnClose&&(i.unpublishOnClose=!0),null==r||""===r)throw new c.Exceptions.MethodParameterError("Publish","Target",r);if(void 0===(r=t.normalizeTarget(r)))throw new c.Exceptions.MethodParameterError("Publish","Target",r);if((o=e.call(this,t,s.C.PUBLISH,r,i)||this).type=a.TypeStrings.PublishContext,o.options=i,o.target=r,null==n||""===n)throw new c.Exceptions.MethodParameterError("Publish","Event",n);return o.event=n,o.logger=t.getLogger("sip.publish"),o.pubRequestExpires=o.options.expires,o}return n.__extends(t,e),t.prototype.publish=function(e){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.options.body=e,this.pubRequestBody=this.options.body,0===this.pubRequestExpires&&(this.pubRequestExpires=this.options.expires,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]||(this.ua.publishers[this.target.toString()+":"+this.event]=this),this.sendPublishRequest()},t.prototype.unpublish=function(){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,void 0!==this.pubRequestEtag&&this.sendPublishRequest()},t.prototype.close=function(){this.options.unpublishOnClose?this.unpublish():(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]&&delete this.ua.publishers[this.target.toString()+":"+this.event]},t.prototype.onRequestTimeout=function(){e.prototype.onRequestTimeout.call(this),this.emit("unpublished",void 0,s.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){e.prototype.onTransportError.call(this),this.emit("unpublished",void 0,s.C.causes.CONNECTION_ERROR)},t.prototype.receiveResponse=function(e){var t=this,r=e.statusCode||0,n=u.Utils.getReasonPhrase(r);switch(!0){case/^1[0-9]{2}$/.test(r.toString()):this.emit("progress",e,n);break;case/^2[0-9]{2}$/.test(r.toString()):if(e.hasHeader("SIP-ETag")?this.pubRequestEtag=e.getHeader("SIP-ETag"):this.logger.warn("SIP-ETag header missing in a 200-class response to PUBLISH"),e.hasHeader("Expires")){var i=Number(e.getHeader("Expires"));"number"==typeof i&&i>=0&&i<=this.pubRequestExpires?this.pubRequestExpires=i:this.logger.warn("Bad Expires header in a 200-class response to PUBLISH")}else this.logger.warn("Expires header missing in a 200-class response to PUBLISH");0!==this.pubRequestExpires?(this.publishRefreshTimer=setTimeout((function(){return t.refreshRequest()}),900*this.pubRequestExpires),this.emit("published",e,n)):this.emit("unpublished",e,n);break;case/^412$/.test(r.toString()):void 0!==this.pubRequestEtag&&0!==this.pubRequestExpires?(this.logger.warn("412 response to PUBLISH, recovering"),this.pubRequestEtag=void 0,this.emit("progress",e,n),this.publish(this.options.body)):(this.logger.warn("412 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n));break;case/^423$/.test(r.toString()):if(0!==this.pubRequestExpires&&e.hasHeader("Min-Expires")){var s=Number(e.getHeader("Min-Expires"));"number"==typeof s||s>this.pubRequestExpires?(this.logger.warn("423 code in response to PUBLISH, adjusting the Expires value and trying to recover"),this.pubRequestExpires=s,this.emit("progress",e,n),this.publish(this.options.body)):(this.logger.warn("Bad 423 response Min-Expires header received for PUBLISH"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n))}else this.logger.warn("423 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n);break;default:this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n)}0===this.pubRequestExpires&&(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestEtag=void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.publish(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.refreshRequest=function(){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,void 0===this.pubRequestEtag)throw new c.Exceptions.MethodParameterError("Publish","Body",void 0);if(0===this.pubRequestExpires)throw new c.Exceptions.MethodParameterError("Publish","Expire",this.pubRequestExpires);this.sendPublishRequest()},t.prototype.sendPublishRequest=function(){var e=Object.create(this.options||Object.prototype);e.extraHeaders=(this.options.extraHeaders||[]).slice(),e.extraHeaders.push("Event: "+this.event),e.extraHeaders.push("Expires: "+this.pubRequestExpires),void 0!==this.pubRequestEtag&&e.extraHeaders.push("SIP-If-Match: "+this.pubRequestEtag);var t=this.target instanceof o.URI?this.target:this.ua.normalizeTarget(this.target);if(!t)throw new Error("ruri undefined.");var r,n,i=this.options.params||{};void 0!==this.pubRequestBody&&(r={body:this.pubRequestBody,contentType:this.options.contentType}),r&&(n=u.Utils.fromBodyObj(r)),this.request=this.ua.userAgentCore.makeOutgoingRequestMessage(s.C.PUBLISH,t,i.fromUri?i.fromUri:this.ua.userAgentCore.configuration.aor,i.toUri?i.toUri:this.target,i,e.extraHeaders,n),this.send()},t}(i.ClientContext);t.PublishContext=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(18),s=r(8),o=r(2),a=r(5),c=r(10),u=r(9);function d(e){var t={expires:600,extraContactHeaderParams:[],instanceId:void 0,params:{},regId:void 0,registrar:void 0},r={mandatory:{},optional:{expires:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},extraContactHeaderParams:function(e){if(e instanceof Array)return e.filter((function(e){return"string"==typeof e}))},instanceId:function(e){if("string"==typeof e)return/^uuid:/i.test(e)&&(e=e.substr(5)),-1===o.Grammar.parse(e,"uuid")?void 0:e},params:function(e){if("object"==typeof e)return e},regId:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},registrar:function(e){if("string"==typeof e){/^sip:/i.test(e)||(e=s.C.SIP+":"+e);var t=o.Grammar.URIParse(e);return t?t.user?void 0:t:void 0}}}};for(var n in r.mandatory){if(!e.hasOwnProperty(n))throw new c.Exceptions.ConfigurationError(n);var i=e[n];if(void 0===(a=r.mandatory[n](i)))throw new c.Exceptions.ConfigurationError(n,i);t[n]=a}for(var n in r.optional)if(e.hasOwnProperty(n)){var a;if((i=e[n])instanceof Array&&0===i.length)continue;if(null===i||""===i||void 0===i||"number"==typeof i&&isNaN(i))continue;if(void 0===(a=r.optional[n](i)))throw new c.Exceptions.ConfigurationError(n,i);t[n]=a}return t}var l=function(e){function t(t,r){void 0===r&&(r={});var n=this,i=d(r);if(i.regId&&!i.instanceId?i.instanceId=u.Utils.newUUID():!i.regId&&i.instanceId&&(i.regId=1),i.params.toUri=i.params.toUri||t.configuration.uri,i.params.toDisplayName=i.params.toDisplayName||t.configuration.displayName,i.params.callId=i.params.callId||u.Utils.createRandomToken(22),i.params.cseq=i.params.cseq||Math.floor(1e4*Math.random()),!i.registrar){var o={};"object"==typeof t.configuration.uri?(o=t.configuration.uri.clone()).user=void 0:o=t.configuration.uri,i.registrar=o}for(var c in(n=e.call(this,t,s.C.REGISTER,i.registrar,i)||this).type=a.TypeStrings.RegisterContext,n.options=i,n.logger=t.getLogger("sip.registercontext"),n.logger.log("configuration parameters for RegisterContext after validation:"),i)i.hasOwnProperty(c)&&n.logger.log(" "+c+": "+JSON.stringify(i[c]));return n.expires=i.expires,n.contact=t.contact.toString(),n.registered=!1,t.transport.on("disconnected",(function(){return n.onTransportDisconnected()})),n}return n.__extends(t,e),t.prototype.register=function(e){var t=this;void 0===e&&(e={}),this.options=n.__assign(n.__assign({},this.options),e);var r=(this.options.extraHeaders||[]).slice();r.push("Contact: "+this.generateContactHeader(this.expires)),r.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(e){if(e.cseq===t.request.cseq){void 0!==t.registrationTimer&&(clearTimeout(t.registrationTimer),t.registrationTimer=void 0);var r=(e.statusCode||0).toString();switch(!0){case/^1[0-9]{2}$/.test(r):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(r):t.emit("accepted",e);var n=void 0;e.hasHeader("expires")&&(n=Number(e.getHeader("expires"))),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0);var i=e.getHeaders("contact").length;if(!i){t.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(var a=void 0;i--;){if((a=e.parseHeader("contact",i)).uri.user===t.ua.contact.uri.user){n=a.getParam("expires");break}a=void 0}if(!a){t.logger.warn("no Contact header pointing to us, response ignored");break}void 0===n&&(n=t.expires),t.registrationTimer=setTimeout((function(){t.registrationTimer=void 0,t.register(t.options)}),1e3*n-3e3),t.registrationExpiredTimer=setTimeout((function(){t.logger.warn("registration expired"),t.registered&&t.unregistered(void 0,s.C.causes.EXPIRES)}),1e3*n),a.hasParam("temp-gruu")&&(t.ua.contact.tempGruu=o.Grammar.URIParse(a.getParam("temp-gruu").replace(/"/g,""))),a.hasParam("pub-gruu")&&(t.ua.contact.pubGruu=o.Grammar.URIParse(a.getParam("pub-gruu").replace(/"/g,""))),t.registered=!0,t.emit("registered",e||void 0);break;case/^423$/.test(r):e.hasHeader("min-expires")?(t.expires=Number(e.getHeader("min-expires")),t.register(t.options)):(t.logger.warn("423 response received for REGISTER without Min-Expires"),t.registrationFailure(e,s.C.causes.SIP_FAILURE_CODE));break;default:t.registrationFailure(e,u.Utils.sipErrorCause(e.statusCode||0))}}},this.onRequestTimeout=function(){t.registrationFailure(void 0,s.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){t.registrationFailure(void 0,s.C.causes.CONNECTION_ERROR)},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=r,this.send()},t.prototype.close=function(){var e={all:!1,extraHeaders:this.closeHeaders};this.registeredBefore=this.registered,this.registered&&this.unregister(e)},t.prototype.unregister=function(e){var t=this;void 0===e&&(e={}),this.registered||e.all||this.logger.warn("Already unregistered, but sending an unregister anyways.");var r=(e.extraHeaders||[]).slice();this.registered=!1,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),e.all?(r.push("Contact: *"),r.push("Expires: 0")):r.push("Contact: "+this.generateContactHeader(0)),this.receiveResponse=function(e){var r=e&&e.statusCode?e.statusCode.toString():"";switch(!0){case/^1[0-9]{2}$/.test(r):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(r):t.emit("accepted",e),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0),t.unregistered(e);break;default:t.unregistered(e,u.Utils.sipErrorCause(e.statusCode||0))}},this.onRequestTimeout=function(){},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=r,this.send()},t.prototype.unregistered=function(e,t){this.registered=!1,this.emit("unregistered",e||void 0,t||void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.register(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.registrationFailure=function(e,t){this.emit("failed",e||void 0,t||void 0)},t.prototype.onTransportDisconnected=function(){this.registeredBefore=this.registered,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),void 0!==this.registrationExpiredTimer&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0),this.registered&&this.unregistered(void 0,s.C.causes.CONNECTION_ERROR)},t.prototype.generateContactHeader=function(e){void 0===e&&(e=0);var t=this.contact;return this.options.regId&&this.options.instanceId&&(t+=";reg-id="+this.options.regId,t+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach((function(e){t+=";"+e})),t+=";expires="+e},t}(i.ClientContext);t.RegisterContext=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(18),o=r(8),a=r(2),c=r(5),u=r(10),d=r(50),l=r(32),p=r(137),h=r(87),f=r(9),g=function(e){function t(r){var n=e.call(this)||this;if(n.data={},n.type=c.TypeStrings.Session,!r)throw new u.Exceptions.SessionDescriptionHandlerError("A session description handler is required for the session to function");return n.status=t.C.STATUS_NULL,n.pendingReinvite=!1,n.sessionDescriptionHandlerFactory=r,n.hasOffer=!1,n.hasAnswer=!1,n.timers={ackTimer:void 0,expiresTimer:void 0,invite2xxTimer:void 0,userNoAnswerTimer:void 0,rel1xxTimer:void 0,prackTimer:void 0},n.startTime=void 0,n.endTime=void 0,n.tones=void 0,n.localHold=!1,n.earlySdp=void 0,n.rel100=o.C.supported.UNSUPPORTED,n}return n.__extends(t,e),t.prototype.dtmf=function(e,t){var r=this;if(void 0===t&&(t={}),this.status!==c.SessionStatus.STATUS_CONFIRMED&&this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK)throw new u.Exceptions.InvalidStateError(this.status);h.DTMFValidator.validate(e);var n=function(){if(r.status!==c.SessionStatus.STATUS_TERMINATED&&r.tones&&0!==r.tones.length){var e,i=r.tones.shift();","===i.tone?e=2e3:(i.on("failed",(function(){r.tones=void 0})),i.send(t),e=i.duration+i.interToneGap),setTimeout(n,e)}else r.tones=void 0};e=e.toString();var i=this.ua.configuration.dtmfType;this.sessionDescriptionHandler&&i===o.C.dtmfType.RTP&&(this.sessionDescriptionHandler.sendDtmf(e,t)||(this.logger.warn("Attempt to use dtmfType 'RTP' has failed, falling back to INFO packet method"),i=o.C.dtmfType.INFO));if(i===o.C.dtmfType.INFO){for(var s=[],a=e.split("");a.length>0;)s.push(new p.DTMF(this,a.shift(),t));if(Array.isArray(this.tones)&&this.tones.length)return this.tones=this.tones.concat(s),this;this.tones=s,n()}return this},t.prototype.bye=function(e){if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;this.logger.log("terminating Session");var t=e.statusCode;if(t&&(t<200||t>=700))throw new TypeError("Invalid statusCode: "+t);return e.receiveResponse=function(){},this.sendRequest(o.C.BYE,e).terminated()},t.prototype.refer=function(e,t){if(void 0===t&&(t={}),this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);return this.referContext=new d.ReferClientContext(this.ua,this,e,t),this.emit("referRequested",this.referContext),this.referContext.refer(t),this.referContext},t.prototype.sendRequest=function(e,t){if(void 0===t&&(t={}),!this.session)throw new Error("Session undefined.");var r;t.body&&(t.body=f.Utils.fromBodyObj(t.body));var n,i=t.receiveResponse;i&&(r={onAccept:function(e){return i(e.message)},onProgress:function(e){return i(e.message)},onRedirect:function(e){return i(e.message)},onReject:function(e){return i(e.message)},onTrying:function(e){return i(e.message)}});var s=t;switch(e){case o.C.BYE:n=this.session.bye(r,s);break;case o.C.INVITE:n=this.session.invite(r,s);break;case o.C.MESSAGE:n=this.session.message(r,s);break;case o.C.REFER:n=this.session.refer(r,s);break;default:throw new Error("Unexpected "+e+". Method not implemented by user agent core.")}return this.emit(e.toLowerCase(),n.message),this},t.prototype.close=function(){if(this.status===c.SessionStatus.STATUS_TERMINATED)return this;for(var e in this.logger.log("closing INVITE session "+this.id),this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.timers)this.timers[e]&&clearTimeout(this.timers[e]);return this.status=c.SessionStatus.STATUS_TERMINATED,this.ua.transport&&this.ua.transport.removeListener("transportError",this.errorListener),delete this.ua.sessions[this.id],this},t.prototype.hold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);this.localHold?this.logger.log("Session is already on hold, cannot put it on hold again"):(e.modifiers=t,this.sessionDescriptionHandler&&e.modifiers.push(this.sessionDescriptionHandler.holdModifier),this.localHold=!0,this.sendReinvite(e))},t.prototype.unhold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);this.localHold?(e.modifiers=t,this.localHold=!1,this.sendReinvite(e)):this.logger.log("Session is not on hold, cannot unhold it")},t.prototype.reinvite=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=[]),e.modifiers=t,this.sendReinvite(e)},t.prototype.terminate=function(e){return this},t.prototype.onTransportError=function(){this.status!==c.SessionStatus.STATUS_CONFIRMED&&this.status!==c.SessionStatus.STATUS_TERMINATED&&this.failed(void 0,o.C.causes.CONNECTION_ERROR)},t.prototype.onRequestTimeout=function(){this.status===c.SessionStatus.STATUS_CONFIRMED?this.terminated(void 0,o.C.causes.REQUEST_TIMEOUT):this.status!==c.SessionStatus.STATUS_TERMINATED&&(this.failed(void 0,o.C.causes.REQUEST_TIMEOUT),this.terminated(void 0,o.C.causes.REQUEST_TIMEOUT))},t.prototype.onDialogError=function(e){this.status===c.SessionStatus.STATUS_CONFIRMED?this.terminated(e,o.C.causes.DIALOG_ERROR):this.status!==c.SessionStatus.STATUS_TERMINATED&&(this.failed(e,o.C.causes.DIALOG_ERROR),this.terminated(e,o.C.causes.DIALOG_ERROR))},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.onAck=function(e){var t=this,r=function(){clearTimeout(t.timers.ackTimer),clearTimeout(t.timers.invite2xxTimer),t.status=c.SessionStatus.STATUS_CONFIRMED;var r=e.message.getHeader("Content-Disposition");r&&"render"===r.type&&(t.renderbody=e.message.body,t.rendertype=e.message.getHeader("Content-Type")),t.emit("confirmed",e.message)};this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK&&(this.sessionDescriptionHandler&&this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).catch((function(r){throw t.logger.warn(r),t.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),t.failed(e.message,o.C.causes.BAD_MEDIA_DESCRIPTION),t.terminated(e.message,o.C.causes.BAD_MEDIA_DESCRIPTION),r})).then((function(){return r()}))):r())},t.prototype.receiveRequest=function(e){switch(e.message.method){case o.C.BYE:e.accept(),this.status===c.SessionStatus.STATUS_CONFIRMED&&(this.emit("bye",e.message),this.terminated(e.message,o.C.BYE));break;case o.C.INVITE:this.status===c.SessionStatus.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(e));break;case o.C.INFO:if(this.status===c.SessionStatus.STATUS_CONFIRMED||this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.onInfo)return this.onInfo(e.message);var t=e.message.getHeader("content-type");if(t)if(t.match(/^application\/dtmf-relay/i)){if(e.message.body){var r=e.message.body.split("\r\n",2);if(2===r.length){var n=void 0,i=void 0,s=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/;s.test(r[0])&&(n=r[0].replace(s,"$2"));var a=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;a.test(r[1])&&(i=parseInt(r[1].replace(a,"$2"),10)),n&&i&&new p.DTMF(this,n,{duration:i}).init_incoming(e)}}}else e.reject({statusCode:415,extraHeaders:["Accept: application/dtmf-relay"]})}break;case o.C.REFER:if(this.status===c.SessionStatus.STATUS_CONFIRMED)if(this.logger.log("REFER received"),this.referContext=new d.ReferServerContext(this.ua,e,this.session),this.listeners("referRequested").length)this.emit("referRequested",this.referContext);else{this.logger.log("No referRequested listeners, automatically accepting and following the refer");var u={followRefer:!0};this.passedOptions&&(u.inviteOptions=this.passedOptions),this.referContext.accept(u,this.modifiers)}break;case o.C.NOTIFY:if(this.referContext&&this.referContext.type===c.TypeStrings.ReferClientContext&&e.message.hasHeader("event")&&/^refer(;.*)?$/.test(e.message.getHeader("event")))return void this.referContext.receiveNotify(e);e.accept(),this.emit("notify",e.message);break;case o.C.MESSAGE:e.accept(),this.emit("message",e.message)}},t.prototype.receiveReinvite=function(e){var t,r=this;if(this.emit("reinvite",this,e.message),e.message.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(e.message.getHeader("P-Asserted-Identity"))),this.sessionDescriptionHandler){if("0"!==e.message.getHeader("Content-Length")||e.message.getHeader("Content-Type")){if(!this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||""))return e.reject({statusCode:415}),void this.emit("reinviteFailed",this);t=this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then(this.sessionDescriptionHandler.getDescription.bind(this.sessionDescriptionHandler,this.sessionDescriptionHandlerOptions,this.modifiers))}else t=this.sessionDescriptionHandler.getDescription(this.sessionDescriptionHandlerOptions,this.modifiers);t.catch((function(t){var n;throw t.type===c.TypeStrings.SessionDescriptionHandlerError?n=500:t.type===c.TypeStrings.RenegotiationError?(r.emit("renegotiationError",t),r.logger.warn(t.toString()),n=488):(r.logger.error(t),n=488),e.reject({statusCode:n}),r.emit("reinviteFailed",r),t})).then((function(t){var n=["Contact: "+r.contact];e.accept({statusCode:200,extraHeaders:n,body:f.Utils.fromBodyObj(t)}),r.status=c.SessionStatus.STATUS_WAITING_FOR_ACK,r.emit("reinviteAccepted",r)}))}else this.logger.warn("No SessionDescriptionHandler to reinvite")},t.prototype.sendReinvite=function(e){var t=this;if(void 0===e&&(e={}),this.pendingReinvite)this.logger.warn("Reinvite in progress. Please wait until complete, then try again.");else if(this.sessionDescriptionHandler){this.pendingReinvite=!0,e.modifiers=e.modifiers||[];var r=(e.extraHeaders||[]).slice();r.push("Contact: "+this.contact),r.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(e){if(!t.session)throw new Error("Session undefined.");var n={onAccept:function(e){if(t.status!==c.SessionStatus.STATUS_TERMINATED)if(t.pendingReinvite){if(t.status=c.SessionStatus.STATUS_CONFIRMED,t.emit("ack",e.ack()),t.pendingReinvite=!1,clearTimeout(t.timers.invite2xxTimer),!t.sessionDescriptionHandler||!t.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||""))return t.logger.error("2XX response received to re-invite but did not have a description"),t.emit("reinviteFailed",t),void t.emit("renegotiationError",new u.Exceptions.RenegotiationError("2XX response received to re-invite but did not have a description"));t.sessionDescriptionHandler.setDescription(e.message.body,t.sessionDescriptionHandlerOptions,t.modifiers).catch((function(e){throw t.logger.error("Could not set the description in 2XX response"),t.logger.error(e),t.emit("reinviteFailed",t),t.emit("renegotiationError",e),t.sendRequest(o.C.BYE,{extraHeaders:["Reason: "+f.Utils.getReasonHeaderValue(488,"Not Acceptable Here")]}),t.terminated(void 0,o.C.causes.INCOMPATIBLE_SDP),e})).then((function(){t.emit("reinviteAccepted",t)}))}else t.logger.error("Received reinvite response, but have no pending reinvite");else t.logger.error("Received reinvite response, but in STATUS_TERMINATED")},onProgress:function(e){},onRedirect:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new u.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onReject:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new u.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onTrying:function(e){}},i={extraHeaders:r,body:f.Utils.fromBodyObj(e)};t.session.invite(n,i)})).catch((function(e){if(e.type===c.TypeStrings.RenegotiationError)throw t.pendingReinvite=!1,t.emit("renegotiationError",e),t.logger.warn("Renegotiation Error"),t.logger.warn(e.toString()),e;throw t.logger.error("sessionDescriptionHandler error"),t.logger.error(e),e}))}else this.logger.warn("No SessionDescriptionHandler, can't reinvite..")},t.prototype.failed=function(e,t){return this.status===c.SessionStatus.STATUS_TERMINATED||this.emit("failed",e,t),this},t.prototype.rejected=function(e,t){return this.emit("rejected",e,t),this},t.prototype.canceled=function(){return this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.emit("cancel"),this},t.prototype.accepted=function(e,t){return e instanceof String||(t=f.Utils.getReasonPhrase(e&&e.statusCode||0,t)),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),this.emit("accepted",e,t),this},t.prototype.terminated=function(e,t){return this.status===c.SessionStatus.STATUS_TERMINATED||(this.endTime=new Date,this.close(),this.emit("terminated",e,t)),this},t.prototype.connecting=function(e){return this.emit("connecting",{request:e}),this},t.C=c.SessionStatus,t}(i.EventEmitter);t.Session=g;var v=function(e){function t(t,r){var n=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ISC Constructor Failed");(n=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this)._canceled=!1,n.rseq=Math.floor(1e4*Math.random()),n.incomingRequest=r;var i=r.message;l.ServerContext.initializer(n,t,r),n.type=c.TypeStrings.InviteServerContext;var s=i.parseHeader("Content-Disposition");s&&"render"===s.type&&(n.renderbody=i.body,n.rendertype=i.getHeader("Content-Type")),n.status=c.SessionStatus.STATUS_INVITE_RECEIVED,n.fromTag=i.fromTag,n.id=i.callId+n.fromTag,n.request=i,n.contact=n.ua.contact.toString(),n.logger=t.getLogger("sip.inviteservercontext",n.id),n.ua.sessions[n.id]=n;var a=function(e,t){i.hasHeader(e)&&i.getHeader(e).toLowerCase().indexOf("100rel")>=0&&(n.rel100=t)};if(a("require",o.C.supported.REQUIRED),a("supported",o.C.supported.SUPPORTED),n.request.toTag=r.toTag,n.status=c.SessionStatus.STATUS_WAITING_FOR_ANSWER,n.timers.userNoAnswerTimer=setTimeout((function(){r.reject({statusCode:408}),n.failed(i,o.C.causes.NO_ANSWER),n.terminated(i,o.C.causes.NO_ANSWER)}),n.ua.configuration.noAnswerTimeout||60),i.hasHeader("expires")){var u=1e3*Number(i.getHeader("expires")||0);n.timers.expiresTimer=setTimeout((function(){n.status===c.SessionStatus.STATUS_WAITING_FOR_ANSWER&&(r.reject({statusCode:487}),n.failed(i,o.C.causes.EXPIRES),n.terminated(i,o.C.causes.EXPIRES))}),u)}return n.errorListener=n.onTransportError.bind(n),t.transport&&t.transport.on("transportError",n.errorListener),n}return n.__extends(t,e),Object.defineProperty(t.prototype,"autoSendAnInitialProvisionalResponse",{get:function(){return this.rel100!==o.C.supported.REQUIRED},enumerable:!0,configurable:!0}),t.prototype.reply=function(e){return void 0===e&&(e={}),this},t.prototype.reject=function(e){var t=this;if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED)throw new u.Exceptions.InvalidStateError(this.status);this.logger.log("rejecting RTCSession");var r=e.statusCode||480,n=f.Utils.getReasonPhrase(r,e.reasonPhrase),i=e.extraHeaders||[];if(r<300||r>699)throw new TypeError("Invalid statusCode: "+r);var s=e.body?a.fromBodyLegacy(e.body):void 0,o=r<400?this.incomingRequest.redirect([],{statusCode:r,reasonPhrase:n,extraHeaders:i,body:s}):this.incomingRequest.reject({statusCode:r,reasonPhrase:n,extraHeaders:i,body:s});return["rejected","failed"].forEach((function(e){t.emit(e,o.message,n)})),this.terminated()},t.prototype.accept=function(e){var t=this;return void 0===e&&(e={}),this._accept(e).then((function(e){var r=e.message,n=e.session;n.delegate={onAck:function(e){return t.onAck(e)},onAckTimeout:function(){return t.onAckTimeout()},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onMessage:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},t.session=n,t.status=c.SessionStatus.STATUS_WAITING_FOR_ACK,t.accepted(r,f.Utils.getReasonPhrase(200))})).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this},t.prototype.progress=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||180;if(r<100||r>199)throw new TypeError("Invalid statusCode: "+r);if(this.status===c.SessionStatus.STATUS_TERMINATED)return this.logger.warn("Unexpected call for progress while terminated, ignoring"),this;if(this.status===c.SessionStatus.STATUS_ANSWERED)return this.logger.warn("Unexpected call for progress while answered, ignoring"),this;if(this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while answered (waiting for prack), ignoring"),this;if(this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),this;if(100===e.statusCode){try{this.incomingRequest.trying()}catch(e){if(this.onContextError(e),!this._canceled)throw e}return this}return this.rel100===o.C.supported.REQUIRED||this.rel100===o.C.supported.SUPPORTED&&e.rel100||this.rel100===o.C.supported.SUPPORTED&&this.ua.configuration.rel100===o.C.supported.REQUIRED?(this._reliableProgressWaitForPrack(e).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this):(this._progress(e).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this)},t.prototype.terminate=function(e){var t=this;if(void 0===e&&(e={}),!this.session)return this.reject(e),this;switch(this.session.sessionState){case a.SessionState.Initial:case a.SessionState.Early:return this.reject(e),this;case a.SessionState.AckWait:return this.session.delegate={onAck:function(){t.sendRequest(o.C.BYE,e)},onAckTimeout:function(){t.sendRequest(o.C.BYE,e)}},this.emit("bye",this.request),this.terminated(),this;case a.SessionState.Confirmed:return this.bye(e),this;case a.SessionState.Terminated:default:return this}},t.prototype.onCancel=function(e){this.status!==c.SessionStatus.STATUS_WAITING_FOR_ANSWER&&this.status!==c.SessionStatus.STATUS_WAITING_FOR_PRACK&&this.status!==c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&this.status!==c.SessionStatus.STATUS_EARLY_MEDIA&&this.status!==c.SessionStatus.STATUS_ANSWERED||(this.status=c.SessionStatus.STATUS_CANCELED,this.incomingRequest.reject({statusCode:487}),this.canceled(),this.rejected(e,o.C.causes.CANCELED),this.failed(e,o.C.causes.CANCELED),this.terminated(e,o.C.causes.CANCELED))},t.prototype.receiveRequest=function(t){var r=this;switch(t.message.method){case o.C.PRACK:this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK||this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(clearTimeout(this.timers.rel1xxTimer),clearTimeout(this.timers.prackTimer),t.accept(),this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.SessionStatus.STATUS_EARLY_MEDIA,this.accept()),this.status=c.SessionStatus.STATUS_EARLY_MEDIA):(this.sessionDescriptionHandler=this.setupSessionDescriptionHandler(),this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),this.sessionDescriptionHandler.hasDescription(t.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(t.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){clearTimeout(r.timers.rel1xxTimer),clearTimeout(r.timers.prackTimer),t.accept(),r.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(r.status=c.SessionStatus.STATUS_EARLY_MEDIA,r.accept()),r.status=c.SessionStatus.STATUS_EARLY_MEDIA}),(function(e){r.logger.warn(e),r.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),r.failed(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION),r.terminated(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION)}))):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION))):this.status===c.SessionStatus.STATUS_EARLY_MEDIA&&t.accept();break;default:e.prototype.receiveRequest.call(this,t)}},t.prototype.setupSessionDescriptionHandler=function(){return this.sessionDescriptionHandler?this.sessionDescriptionHandler:this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions)},t.prototype.generateResponseOfferAnswer=function(e){if(!this.session){var t=a.getBody(this.incomingRequest.message);return t&&"session"===t.contentDisposition?this.setOfferAndGetAnswer(t,e):this.getOffer(e)}switch(this.session.signalingState){case a.SignalingState.Initial:return this.getOffer(e);case a.SignalingState.Stable:case a.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case a.SignalingState.HaveRemoteOffer:if(!this.session.offer)throw new Error("Session offer undefined");return this.setOfferAndGetAnswer(this.session.offer,e);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.handlePrackOfferAnswer=function(e,t){if(!this.session)throw new Error("Session undefined.");var r=a.getBody(e.message);if(!r||"session"!==r.contentDisposition)return Promise.resolve(void 0);switch(this.session.signalingState){case a.SignalingState.Initial:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.Stable:return this.setAnswer(r,t).then((function(){}));case a.SignalingState.HaveLocalOffer:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.HaveRemoteOffer:return this.setOfferAndGetAnswer(r,t);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.canceled=function(){return this._canceled=!0,e.prototype.canceled.call(this)},t.prototype.terminated=function(t,r){return this.prackNeverArrived(),e.prototype.terminated.call(this,t,r)},t.prototype._accept=function(e){var t=this;return void 0===e&&(e={}),this.onInfo=e.onInfo,this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK?(this.status=c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK,this.waitForArrivalOfPrack().then((function(){t.status=c.SessionStatus.STATUS_ANSWERED,clearTimeout(t.timers.userNoAnswerTimer)})).then((function(){return t.generateResponseOfferAnswer(e)})).then((function(e){return t.incomingRequest.accept({statusCode:200,body:e})}))):this.status!==c.SessionStatus.STATUS_WAITING_FOR_ANSWER?Promise.reject(new u.Exceptions.InvalidStateError(this.status)):(this.status=c.SessionStatus.STATUS_ANSWERED,this.status=c.SessionStatus.STATUS_ANSWERED,clearTimeout(this.timers.userNoAnswerTimer),this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.accept({statusCode:200,body:e})})))},t.prototype._progress=function(e){void 0===e&&(e={});var t=e.statusCode||180,r=e.reasonPhrase,n=(e.extraHeaders||[]).slice(),i=e.body?a.fromBodyLegacy(e.body):void 0;if(183===t&&!i)return this._progressWithSDP(e);try{var s=this.incomingRequest.progress({statusCode:t,reasonPhrase:r,extraHeaders:n,body:i});return this.emit("progress",s.message,r),this.session=s.session,Promise.resolve(s)}catch(e){return Promise.reject(e)}},t.prototype._progressWithSDP=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||183,n=e.reasonPhrase,i=(e.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.progress({statusCode:r,reasonPhrase:n,extraHeaders:i,body:e})})).then((function(e){return t.emit("progress",e.message,n),t.session=e.session,e}))},t.prototype._reliableProgress=function(e){var t=this;void 0===e&&(e={});var r=e.statusCode||183,n=e.reasonPhrase,i=(e.extraHeaders||[]).slice();return i.push("Require: 100rel"),i.push("RSeq: "+Math.floor(1e4*Math.random())),this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.progress({statusCode:r,reasonPhrase:n,extraHeaders:i,body:e})})).then((function(e){return t.emit("progress",e.message,n),t.session=e.session,e}))},t.prototype._reliableProgressWaitForPrack=function(e){var t=this;void 0===e&&(e={});var r,n=e.statusCode||183,i=e.reasonPhrase,s=(e.extraHeaders||[]).slice();return s.push("Require: 100rel"),s.push("RSeq: "+this.rseq++),this.status=c.SessionStatus.STATUS_WAITING_FOR_PRACK,new Promise((function(d,l){var p=!0;return t.generateResponseOfferAnswer(e).then((function(e){return r=e,t.incomingRequest.progress({statusCode:n,reasonPhrase:i,extraHeaders:s,body:r})})).then((function(h){var f,g;t.emit("progress",h.message,i),t.session=h.session,h.session.delegate={onPrack:function(r){f=r,clearTimeout(v),clearTimeout(y),p&&(p=!1,t.handlePrackOfferAnswer(f,e).then((function(e){try{g=f.accept({statusCode:200,body:e}),t.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK&&(t.status=c.SessionStatus.STATUS_WAITING_FOR_ANSWER),t.prackArrived(),d({prackRequest:f,prackResponse:g,progressResponse:h})}catch(e){l(e)}})))}};var v=setTimeout((function(){if(p){p=!1,t.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(y);try{t.incomingRequest.reject({statusCode:504}),t.terminated(void 0,o.C.causes.NO_PRACK),l(new u.Exceptions.TerminatedSessionError)}catch(e){l(e)}}}),64*a.Timers.T1),m=function(){try{t.incomingRequest.progress({statusCode:n,reasonPhrase:i,extraHeaders:s,body:r})}catch(e){return p=!1,void l(e)}y=setTimeout(m,S*=2)},S=a.Timers.T1,y=setTimeout(m,S)}))}))},t.prototype.onAckTimeout=function(){if(this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.logger.log("no ACK received for an extended period of time, terminating the call"),!this.session)throw new Error("Session undefined.");this.session.bye(),this.terminated(void 0,o.C.causes.NO_ACK)}},t.prototype.onContextError=function(e){var t=480;e instanceof a.Exception?e instanceof u.Exceptions.SessionDescriptionHandlerError?(this.logger.error(e.message),e.error&&this.logger.error(e.error)):e instanceof u.Exceptions.TerminatedSessionError?this.logger.warn("Incoming session terminated while waiting for PRACK."):e instanceof u.Exceptions.UnsupportedSessionDescriptionContentTypeError?t=415:e instanceof a.Exception&&this.logger.error(e.message):e instanceof Error?this.logger.error(e.message):(this.logger.error("An error occurred in the session description handler."),this.logger.error(e));try{this.incomingRequest.reject({statusCode:t}),this.failed(this.incomingRequest.message,e.message),this.terminated(this.incomingRequest.message,e.message)}catch(e){return}},t.prototype.prackArrived=function(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.prackNeverArrived=function(){this.waitingForPrackReject&&this.waitingForPrackReject(new u.Exceptions.TerminatedSessionError),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.waitForArrivalOfPrack=function(){var e=this;if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise((function(t,r){e.waitingForPrackResolve=t,e.waitingForPrackReject=r})),this.waitingForPrackPromise},t.prototype.getOffer=function(e){return this.hasOffer=!0,this.getSessionDescriptionHandler().getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(e){return f.Utils.fromBodyObj(e)}))},t.prototype.setAnswer=function(e,t){this.hasAnswer=!0;var r=this.getSessionDescriptionHandler();return r.hasDescription(e.contentType)?r.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers):Promise.reject(new u.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.setOfferAndGetAnswer=function(e,t){this.hasOffer=!0,this.hasAnswer=!0;var r=this.getSessionDescriptionHandler();return r.hasDescription(e.contentType)?r.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers).then((function(){return r.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(e){return f.Utils.fromBodyObj(e)})):Promise.reject(new u.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.getSessionDescriptionHandler=function(){var e=this.sessionDescriptionHandler=this.setupSessionDescriptionHandler();return this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),e},t}(g);t.InviteServerContext=v;var m=function(e){function t(t,r,n,i){void 0===n&&(n={}),void 0===i&&(i=[]);var a=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ICC Constructor Failed");n.params=n.params||{};var d=n.anonymous||!1,l=f.Utils.newTag();n.params.fromTag=l;var p=t.contact.toString({anonymous:d,outbound:d?!t.contact.tempGruu:!t.contact.pubGruu}),h=(n.extraHeaders||[]).slice();if(d&&t.configuration.uri&&(n.params.fromDisplayName="Anonymous",n.params.fromUri="sip:anonymous@anonymous.invalid",h.push("P-Preferred-Identity: "+t.configuration.uri.toString()),h.push("Privacy: id")),h.push("Contact: "+p),h.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.configuration.rel100===o.C.supported.REQUIRED&&h.push("Require: 100rel"),t.configuration.replaces===o.C.supported.REQUIRED&&h.push("Require: replaces"),n.extraHeaders=h,a=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this,s.ClientContext.initializer(a,t,o.C.INVITE,r,n),a.earlyMediaSessionDescriptionHandlers=new Map,a.type=c.TypeStrings.InviteClientContext,a.passedOptions=n,a.sessionDescriptionHandlerOptions=n.sessionDescriptionHandlerOptions||{},a.modifiers=i,a.inviteWithoutSdp=n.inviteWithoutSdp||!1,a.anonymous=n.anonymous||!1,a.renderbody=n.renderbody||void 0,a.rendertype=n.rendertype||"text/plain",a.fromTag=l,a.contact=p,a.status!==c.SessionStatus.STATUS_NULL)throw new u.Exceptions.InvalidStateError(a.status);return a.isCanceled=!1,a.received100=!1,a.method=o.C.INVITE,a.logger=t.getLogger("sip.inviteclientcontext"),t.applicants[a.toString()]=a,a.id=a.request.callId+a.fromTag,a.onInfo=n.onInfo,a.errorListener=a.onTransportError.bind(a),t.transport&&t.transport.on("transportError",a.errorListener),a}return n.__extends(t,e),t.prototype.receiveResponse=function(e){throw new Error("Unimplemented.")},t.prototype.send=function(){return this.sendInvite(),this},t.prototype.invite=function(){var e=this;return this.ua.sessions[this.id]=this,Promise.resolve().then((function(){e.isCanceled||e.status===c.SessionStatus.STATUS_TERMINATED||(e.inviteWithoutSdp?(e.renderbody&&e.rendertype&&(e.request.body={body:e.renderbody,contentType:e.rendertype}),e.status=c.SessionStatus.STATUS_INVITE_SENT,e.send()):(e.sessionDescriptionHandler=e.sessionDescriptionHandlerFactory(e,e.ua.configuration.sessionDescriptionHandlerFactoryOptions||{}),e.emit("SessionDescriptionHandler-created",e.sessionDescriptionHandler),e.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(t){e.isCanceled||e.status===c.SessionStatus.STATUS_TERMINATED||(e.hasOffer=!0,e.request.body=t,e.status=c.SessionStatus.STATUS_INVITE_SENT,e.send())}),(function(t){t.type===c.TypeStrings.SessionDescriptionHandlerError&&(e.logger.log(t.message),t.error&&e.logger.log(t.error)),e.status!==c.SessionStatus.STATUS_TERMINATED&&(e.failed(void 0,o.C.causes.WEBRTC_ERROR),e.terminated(void 0,o.C.causes.WEBRTC_ERROR))}))))})),this},t.prototype.cancel=function(e){if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED||this.status===c.SessionStatus.STATUS_CONFIRMED)throw new u.Exceptions.InvalidStateError(this.status);if(this.isCanceled)throw new u.Exceptions.InvalidStateError(c.SessionStatus.STATUS_CANCELED);this.isCanceled=!0,this.logger.log("Canceling session");var t=f.Utils.getCancelReason(e.statusCode,e.reasonPhrase);return e.extraHeaders=(e.extraHeaders||[]).slice(),this.outgoingInviteRequest&&(this.logger.warn("Canceling session before it was created"),this.outgoingInviteRequest.cancel(t,e)),this.canceled()},t.prototype.terminate=function(e){return this.status===c.SessionStatus.STATUS_TERMINATED||(this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK||this.status===c.SessionStatus.STATUS_CONFIRMED?this.bye(e):this.cancel(e)),this},t.prototype.sendInvite=function(){var e=this;this.outgoingInviteRequest=this.ua.userAgentCore.invite(this.request,{onAccept:function(t){return e.onAccept(t)},onProgress:function(t){return e.onProgress(t)},onRedirect:function(t){return e.onRedirect(t)},onReject:function(t){return e.onReject(t)},onTrying:function(t){return e.onTrying(t)}})},t.prototype.ackAndBye=function(e,t,r,n){if(!this.ua.userAgentCore)throw new Error("Method requires user agent core.");var i=[];r&&i.push("Reason: "+f.Utils.getReasonHeaderValue(r,n));var s=e.ack();this.emit("ack",s.message);var o=t.bye(void 0,{extraHeaders:i});this.emit("bye",o.message)},t.prototype.disposeEarlyMedia=function(){if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");this.earlyMediaSessionDescriptionHandlers.forEach((function(e){e.close()}))},t.prototype.onAccept=function(e){var t=this;if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var r=e.message,n=e.session;if(this.session)this.ackAndBye(e,n);else{if(this.isCanceled)return this.ackAndBye(e,n),void this.emit("bye",this.request);switch(r.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(r.getHeader("P-Asserted-Identity"))),this.session=n,this.session.delegate={onAck:function(e){return t.onAck(e)},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onMessage:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},n.signalingState){case a.SignalingState.Initial:case a.SignalingState.HaveLocalOffer:this.ackAndBye(e,n,400,"Missing session description"),this.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION);break;case a.SignalingState.HaveRemoteOffer:var i=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});if(this.sessionDescriptionHandler=i,this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),!i.hasDescription(r.getHeader("Content-Type")||"")){this.ackAndBye(e,n,400,"Missing session description"),this.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION);break}this.hasOffer=!0,i.setDescription(r.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){return i.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(n){if(!t.isCanceled&&t.status!==c.SessionStatus.STATUS_TERMINATED){t.status=c.SessionStatus.STATUS_CONFIRMED,t.hasAnswer=!0;var i={contentDisposition:"session",contentType:n.contentType,content:n.body},s=e.ack({body:i});t.emit("ack",s.message),t.accepted(r)}})).catch((function(i){if(i.type!==c.TypeStrings.SessionDescriptionHandlerError)throw i;t.logger.warn("invalid description"),t.logger.warn(i.toString()),t.ackAndBye(e,n,488,"Invalid session description"),t.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION)}));break;case a.SignalingState.Stable:var s;if(this.renderbody&&this.rendertype&&(s={body:{contentDisposition:"render",contentType:this.rendertype,content:this.renderbody}}),this.hasOffer&&!this.hasAnswer){if(!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");var u=n.answer;if(!u)throw new Error("Answer is undefined.");this.sessionDescriptionHandler.setDescription(u.content,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){t.hasAnswer=!0,t.status=c.SessionStatus.STATUS_CONFIRMED;var n=e.ack(s);t.emit("ack",n.message),t.accepted(r)})).catch((function(i){t.logger.error(i),t.ackAndBye(e,n,488,"Not Acceptable Here"),t.failed(r,o.C.causes.BAD_MEDIA_DESCRIPTION)}))}else{if(this.sessionDescriptionHandler=this.earlyMediaSessionDescriptionHandlers.get(n.id),!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");this.earlyMediaSessionDescriptionHandlers.delete(n.id),this.hasOffer=!0,this.hasAnswer=!0,this.status=c.SessionStatus.STATUS_CONFIRMED;var d=e.ack();this.emit("ack",d.message),this.accepted(r)}break;case a.SignalingState.Closed:break;default:throw new Error("Unknown session signaling state.")}this.disposeEarlyMedia()}},t.prototype.onProgress=function(e){var t=this;if(!this.isCanceled){if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var r=e.message,n=e.session;if(this.status=c.SessionStatus.STATUS_1XX_RECEIVED,r.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(r.getHeader("P-Asserted-Identity"))),!n)throw new Error("Session undefined.");var i=r.getHeader("require"),s=r.getHeader("rseq"),u=!!(i&&i.includes("100rel")&&s?Number(s):void 0),d=[];if(u&&d.push("RAck: "+r.getHeader("rseq")+" "+r.getHeader("cseq")),n.signalingState===a.SignalingState.Initial)return u&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),e.prack({extraHeaders:d})),void this.emit("progress",r);if(n.signalingState===a.SignalingState.HaveLocalOffer)return u&&e.prack({extraHeaders:d}),void this.emit("progress",r);if(n.signalingState===a.SignalingState.HaveRemoteOffer){if(!u)return void this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response.");var l=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});return this.emit("SessionDescriptionHandler-created",l),this.earlyMediaSessionDescriptionHandlers.set(n.id,l),void l.setDescription(r.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){return l.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(n){var i={contentDisposition:"session",contentType:n.contentType,content:n.body};e.prack({extraHeaders:d,body:i}),t.status=c.SessionStatus.STATUS_EARLY_MEDIA,t.emit("progress",r)})).catch((function(e){t.status!==c.SessionStatus.STATUS_TERMINATED&&(t.failed(void 0,o.C.causes.WEBRTC_ERROR),t.terminated(void 0,o.C.causes.WEBRTC_ERROR))}))}return n.signalingState===a.SignalingState.Stable?(u&&e.prack({extraHeaders:d}),void this.emit("progress",r)):void 0}},t.prototype.onRedirect=function(e){this.disposeEarlyMedia();var t=e.message,r=t.statusCode,n=f.Utils.sipErrorCause(r||0);this.rejected(t,n),this.failed(t,n),this.terminated(t,n)},t.prototype.onReject=function(e){this.disposeEarlyMedia();var t=e.message,r=t.statusCode,n=f.Utils.sipErrorCause(r||0);this.rejected(t,n),this.failed(t,n),this.terminated(t,n)},t.prototype.onTrying=function(e){this.received100=!0,this.emit("progress",e.message)},t}(g);t.InviteClientContext=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.validate=function(t,r){void 0===r&&(r=!0),"string"==typeof t?t=t.toUpperCase():"number"==typeof t?t=t.toString():e.generateInvalidToneError(t);var n=r?/^[0-9A-D#*,]+$/i:/^[0-9A-D#*]$/i;return t.match(n)||e.generateInvalidToneError(t),t},e.generateInvalidToneError=function(e){var t=e&&"boolean"!=typeof e?e.toString().toLowerCase():e;throw new TypeError("Invalid tone(s): "+t)},e}();t.DTMFValidator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(2),a=r(23),c=r(5),u=r(9),d=function(e){function t(t,r,n,i){void 0===i&&(i={});var o=e.call(this)||this;o.data={},o.method=s.C.SUBSCRIBE,o.body=void 0,o.type=c.TypeStrings.Subscription,o.ua=t,o.logger=t.getLogger("sip.subscription"),i.body&&(o.body={body:i.body,contentType:i.contentType?i.contentType:"application/sdp"});var a=t.normalizeTarget(r);if(!a)throw new TypeError("Invalid target: "+r);if(o.uri=a,o.event=n,void 0===i.expires?o.expires=3600:"number"!=typeof i.expires?(t.logger.warn('Option "expires" must be a number. Using default of 3600.'),o.expires=3600):o.expires=i.expires,o.extraHeaders=(i.extraHeaders||[]).slice(),o.context=o.initContext(),o.disposed=!1,o.request=o.context.message,!o.request.from)throw new Error("From undefined.");if(!o.request.to)throw new Error("From undefined.");return o.localIdentity=o.request.from,o.remoteIdentity=o.request.to,o.id=o.request.callId+o.request.from.parameters.tag+o.event,o.ua.subscriptions[o.id]=o,o}return n.__extends(t,e),t.prototype.dispose=function(){this.disposed||(this.retryAfterTimer&&(clearTimeout(this.retryAfterTimer),this.retryAfterTimer=void 0),this.context.dispose(),this.disposed=!0,delete this.ua.subscriptions[this.id])},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.emit=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e.prototype.emit.apply(this,n.__spreadArrays([t],r))},t.prototype.close=function(){if(!this.disposed)switch(this.dispose(),this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:this.onTerminated();break;case o.SubscriptionState.Pending:case o.SubscriptionState.Active:this.unsubscribe();break;case o.SubscriptionState.Terminated:this.onTerminated()}},t.prototype.refresh=function(){var e=this;switch(this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:case o.SubscriptionState.Pending:break;case o.SubscriptionState.Active:if(this.subscription)this.subscription.refresh().delegate={onAccept:function(t){return e.onAccepted(t)},onRedirect:function(t){return e.onFailed(t)},onReject:function(t){return e.onFailed(t)}};break;case o.SubscriptionState.Terminated:}},t.prototype.subscribe=function(){var e=this;switch(this.context.state){case o.SubscriptionState.Initial:this.context.subscribe().then((function(t){t.success?(t.success.subscription&&(e.subscription=t.success.subscription,e.subscription.delegate={onNotify:function(t){return e.onNotify(t)},onRefresh:function(t){return e.onRefresh(t)},onTerminated:function(){return e.close()}}),e.onNotify(t.success.request)):t.failure&&e.onFailed(t.failure.response)}));break;case o.SubscriptionState.NotifyWait:case o.SubscriptionState.Pending:break;case o.SubscriptionState.Active:this.refresh();break;case o.SubscriptionState.Terminated:}return this},t.prototype.unsubscribe=function(){switch(this.dispose(),this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:break;case o.SubscriptionState.Pending:case o.SubscriptionState.Active:this.subscription&&this.subscription.unsubscribe();break;case o.SubscriptionState.Terminated:}this.onTerminated()},t.prototype.onAccepted=function(e){var t=e.message.statusCode?e.message.statusCode:0,r=u.Utils.getReasonPhrase(t);this.emit("accepted",e.message,r)},t.prototype.onFailed=function(e){if(this.close(),e){var t=e.message.statusCode?e.message.statusCode:0,r=u.Utils.getReasonPhrase(t);this.emit("failed",e.message,r),this.emit("rejected",e.message,r)}},t.prototype.onNotify=function(e){var t=this;if(e.accept(),this.emit("notify",{request:e.message}),!this.disposed){var r=e.message.parseHeader("Subscription-State");if(r&&r.state)switch(r.state){case"terminated":if(r.reason)switch(this.logger.log("Terminated subscription with reason "+r.reason),r.reason){case"deactivated":case"timeout":return this.initContext(),void this.subscribe();case"probation":case"giveup":return this.initContext(),void(r.params&&r.params["retry-after"]?this.retryAfterTimer=setTimeout((function(){return t.subscribe()}),r.params["retry-after"]):this.subscribe())}this.close()}}},t.prototype.onRefresh=function(e){var t=this;e.delegate={onAccept:function(e){return t.onAccepted(e)}}},t.prototype.onTerminated=function(){this.emit("terminated")},t.prototype.initContext=function(){var e=this,t={extraHeaders:this.extraHeaders,body:this.body?u.Utils.fromBodyObj(this.body):void 0};return this.context=new l(this.ua.userAgentCore,this.uri,this.event,this.expires,t),this.context.delegate={onAccept:function(t){return e.onAccepted(t)}},this.context},t}(i.EventEmitter);t.Subscription=d;var l=function(){function e(e,t,r,n,i,o){this.core=e,this.target=t,this.event=r,this.expires=n,this.subscribed=!1,this.logger=e.loggerFactory.getLogger("sip.subscription"),this.delegate=o;var c="Allow: "+a.AllowedMethods.toString(),u=(i&&i.extraHeaders||[]).slice();u.push(c),u.push("Event: "+this.event),u.push("Expires: "+this.expires),u.push("Contact: "+this.core.configuration.contact.toString());var d=i&&i.body;this.message=e.makeOutgoingRequestMessage(s.C.SUBSCRIBE,this.target,this.core.configuration.aor,this.target,{},u,d)}return e.prototype.dispose=function(){this.subscription&&this.subscription.dispose(),this.request&&(this.request.waitNotifyStop(),this.request.dispose())},Object.defineProperty(e.prototype,"state",{get:function(){return this.subscription?this.subscription.subscriptionState:this.subscribed?o.SubscriptionState.NotifyWait:o.SubscriptionState.Initial},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(){var e=this;return this.subscribed?Promise.reject(new Error("Not in initial state. Did you call subscribe more than once?")):(this.subscribed=!0,new Promise((function(t,r){if(!e.message)throw new Error("Message undefined.");e.request=e.core.subscribe(e.message,{onAccept:function(t){e.delegate&&e.delegate.onAccept&&e.delegate.onAccept(t)},onNotify:function(r){e.subscription=r.subscription,e.subscription&&(e.subscription.autoRefresh=!0),t({success:r})},onNotifyTimeout:function(){t({failure:{}})},onRedirect:function(e){t({failure:{response:e}})},onReject:function(e){t({failure:{response:e}})}})})))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t,r){var n=e.call(this)||this;return n.logger=t,n}return n.__extends(t,e),Object.defineProperty(t.prototype,"protocol",{get:function(){return this.server&&this.server.scheme?this.server.scheme:"WSS"},enumerable:!0,configurable:!0}),t.prototype.connect=function(e){var t=this;return void 0===e&&(e={}),this.connectPromise(e).then((function(e){e.overrideEvent||t.emit("connected")}))},t.prototype.send=function(e,t){var r=this;return void 0===t&&(t={}),this.sendPromise(e).then((function(e){e.overrideEvent||r.emit("messageSent",e.msg)}))},t.prototype.disconnect=function(e){var t=this;return void 0===e&&(e={}),this.disconnectPromise(e).then((function(e){e.overrideEvent||t.emit("disconnected")}))},t.prototype.afterConnected=function(e){this.isConnected()?e():this.once("connected",e)},t.prototype.waitForConnected=function(){var e=this;return console.warn("DEPRECATION WARNING Transport.waitForConnected(): use afterConnected() instead"),new Promise((function(t){e.afterConnected(t)}))},t}(r(7).EventEmitter);t.Transport=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(18),o=r(8),a=r(2),c=r(5),u=r(10),d=r(84),l=r(50),p=r(85),h=r(32),f=r(86),g=r(88),v=r(9),m=r(91),S=r(93),y=function(e){function t(r){var n=e.call(this)||this;if(n.unloadListener=function(){n.stop()},n.type=c.TypeStrings.UA,n.log=new a.LoggerFactory,n.logger=n.getLogger("sip.ua"),n.configuration={},n.applicants={},n.data={},n.sessions={},n.subscriptions={},n.publishers={},n.status=c.UAStatus.STATUS_INIT,void 0===r?r={}:("string"==typeof r||r instanceof String)&&(r={uri:r}),r.log&&(n.log.builtinEnabled=r.log.builtinEnabled,r.log.hasOwnProperty("connector")&&(n.log.connector=r.log.connector),r.log.hasOwnProperty("level"))){var i=r.log.level,s=void 0;if("string"==typeof i)switch(i){case"error":s=a.Levels.error;break;case"warn":s=a.Levels.warn;break;case"log":s=a.Levels.log;break;case"debug":s=a.Levels.debug}else switch(i){case 0:s=a.Levels.error;break;case 1:s=a.Levels.warn;break;case 2:s=a.Levels.log;break;case 3:s=a.Levels.debug}void 0===s?n.logger.error('Invalid "level" parameter value: '+JSON.stringify(i)):n.log.level=s}n.logger.warn("The UA class has been deprecated and will no longer be available starting with SIP.js release 0.16.0. The UA has been replaced by the UserAgent class. Please update accordingly.");try{n.loadConfig(r)}catch(e){throw n.status=c.UAStatus.STATUS_NOT_READY,n.error=t.C.CONFIGURATION_ERROR,e}if(!n.configuration.transportConstructor)throw new a.TransportError("Transport constructor not set");n.transport=new n.configuration.transportConstructor(n.getLogger("sip.transport"),n.configuration.transportOptions);var u=T(n),d={onInvite:function(e){e.trying(),e.delegate={onCancel:function(e){t.onCancel(e)},onTransportError:function(e){t.onTransportError()}};var t=new f.InviteServerContext(n,e);!function(e,t){if(n.configuration.replaces!==o.C.supported.UNSUPPORTED){var r=t.parseHeader("replaces");if(r){var i=n.sessions[r.call_id+r.replaces_from_tag]||n.sessions[r.call_id+r.replaces_to_tag]||void 0;if(!i)return void n.userAgentCore.replyStateless(t,{statusCode:481});if(i.status===c.SessionStatus.STATUS_TERMINATED)return void n.userAgentCore.replyStateless(t,{statusCode:603});var s=r.call_id+r.replaces_to_tag+r.replaces_from_tag,a=n.userAgentCore.dialogs.get(s);if(!a)return void n.userAgentCore.replyStateless(t,{statusCode:481});if(!a.early&&r.early_only)return void n.userAgentCore.replyStateless(t,{statusCode:486});e.replacee=i}}}(t,e.message),t.autoSendAnInitialProvisionalResponse&&t.progress(),n.emit("invite",t)},onMessage:function(e){var t=new h.ServerContext(n,e);t.body=e.message.body,t.contentType=e.message.getHeader("Content-Type")||"text/plain",e.accept(),n.emit("message",t)},onNotify:function(e){n.configuration.allowLegacyNotifications&&n.listeners("notify").length>0?(e.accept(),n.emit("notify",{request:e.message})):e.reject({statusCode:481})},onRefer:function(e){n.logger.log("Received an out of dialog refer"),n.configuration.allowOutOfDialogRefers||e.reject({statusCode:405}),n.logger.log("Allow out of dialog refers is enabled on the UA");var t=new l.ReferServerContext(n,e);n.listeners("outOfDialogReferRequested").length?n.emit("outOfDialogReferRequested",t):(n.logger.log("No outOfDialogReferRequest listeners, automatically accepting and following the out of dialog refer"),t.accept({followRefer:!0}))},onSubscribe:function(e){n.emit("subscribe",e)}};return n.userAgentCore=new a.UserAgentCore(u,d),n.registerContext=new p.RegisterContext(n,r.registerOptions),n.registerContext.on("failed",n.emit.bind(n,"registrationFailed")),n.registerContext.on("registered",n.emit.bind(n,"registered")),n.registerContext.on("unregistered",n.emit.bind(n,"unregistered")),n.configuration.autostart&&n.start(),n}return n.__extends(t,e),t.prototype.register=function(e){return void 0===e&&(e={}),e.register&&(this.configuration.register=!0),this.registerContext.register(e),this},t.prototype.unregister=function(e){var t=this;return this.configuration.register=!1,this.transport.afterConnected((function(){t.registerContext.unregister(e)})),this},t.prototype.isRegistered=function(){return this.registerContext.registered},t.prototype.invite=function(e,t,r){var n=this,i=new f.InviteClientContext(this,e,t,r);return this.transport.afterConnected((function(){i.invite(),n.emit("inviteSent",i)})),i},t.prototype.subscribe=function(e,t,r){var n=new g.Subscription(this,e,t,r);return this.transport.afterConnected((function(){return n.subscribe()})),n},t.prototype.publish=function(e,t,r,n){var i=new d.PublishContext(this,e,t,n);return this.transport.afterConnected((function(){i.publish(r)})),i},t.prototype.message=function(e,t,r){if(void 0===r&&(r={}),void 0===t)throw new TypeError("Not enough arguments");return r.contentType=r.contentType||"text/plain",r.body=t,this.request(o.C.MESSAGE,e,r)},t.prototype.request=function(e,t,r){var n=new s.ClientContext(this,e,t,r);return this.transport.afterConnected((function(){return n.send()})),n},t.prototype.stop=function(){if(this.logger.log("user requested closure..."),this.status===c.UAStatus.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;for(var e in this.logger.log("closing registerContext"),this.registerContext.close(),this.sessions)this.sessions[e]&&(this.logger.log("closing session "+e),this.sessions[e].terminate());for(var t in this.subscriptions)this.subscriptions[t]&&(this.logger.log("unsubscribe "+t),this.subscriptions[t].unsubscribe());for(var r in this.publishers)this.publishers[r]&&(this.logger.log("unpublish "+r),this.publishers[r].close());for(var n in this.applicants)this.applicants[n]&&this.applicants[n].close();if(this.status=c.UAStatus.STATUS_USER_CLOSED,this.transport.disconnect(),this.userAgentCore.reset(),this.configuration.autostop){var i=!("undefined"==typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"==typeof window||"function"!=typeof window.removeEventListener||i||window.removeEventListener("unload",this.unloadListener)}return this},t.prototype.start=function(){if(this.logger.log("user requested startup..."),this.status===c.UAStatus.STATUS_INIT?(this.status=c.UAStatus.STATUS_STARTING,this.setTransportListeners(),this.emit("transportCreated",this.transport),this.transport.connect()):this.status===c.UAStatus.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=c.UAStatus.STATUS_READY,this.transport.connect()):this.status===c.UAStatus.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===c.UAStatus.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this.configuration.autostop){var e=!("undefined"==typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"==typeof window||"function"!=typeof window.addEventListener||e||window.addEventListener("unload",this.unloadListener)}return this},t.prototype.normalizeTarget=function(e){return v.Utils.normalizeTarget(e,this.configuration.hostportParams)},t.prototype.getLogger=function(e,t){return this.log.getLogger(e,t)},t.prototype.getLoggerFactory=function(){return this.log},t.prototype.getSupportedResponseOptions=function(){var e=[];(this.contact.pubGruu||this.contact.tempGruu)&&e.push("gruu"),this.configuration.rel100===o.C.supported.SUPPORTED&&e.push("100rel"),this.configuration.replaces===o.C.supported.SUPPORTED&&e.push("replaces"),e.push("outbound"),e=e.concat(this.configuration.extraSupported||[]);var t=this.configuration.hackAllowUnregisteredOptionTags||!1,r={};return e=e.filter((function(e){var n=o.C.OPTION_TAGS[e],i=!r[e];return r[e]=!0,(n||t)&&i}))},t.prototype.findSession=function(e){return this.sessions[e.callId+e.fromTag]||this.sessions[e.callId+e.toTag]||void 0},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.onTransportError=function(){this.status!==c.UAStatus.STATUS_USER_CLOSED&&(this.error&&this.error===t.C.NETWORK_ERROR||(this.status=c.UAStatus.STATUS_NOT_READY,this.error=t.C.NETWORK_ERROR))},t.prototype.setTransportListeners=function(){var e=this;this.transport.on("connected",(function(){return e.onTransportConnected()})),this.transport.on("message",(function(t){return e.onTransportReceiveMsg(t)})),this.transport.on("transportError",(function(){return e.onTransportError()}))},t.prototype.onTransportConnected=function(){var e=this;this.configuration.register&&Promise.resolve().then((function(){return e.registerContext.register()}))},t.prototype.onTransportReceiveMsg=function(e){var t=this,r=a.Parser.parseMessage(e,this.getLogger("sip.parser"));if(r)if(this.status===c.UAStatus.STATUS_USER_CLOSED&&r instanceof a.IncomingRequestMessage)this.logger.warn("UA received message when status = USER_CLOSED - aborting");else{var n=function(){for(var e=0,n=["from","to","call_id","cseq","via"];e<n.length;e++){var i=n[e];if(!r.hasHeader(i))return t.logger.warn("Missing mandatory header field : "+i+"."),!1}return!0};if(r instanceof a.IncomingRequestMessage){if(!n())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!r.toTag&&r.callId.substr(0,5)===this.configuration.sipjsId)return void this.userAgentCore.replyStateless(r,{statusCode:482});var i=v.Utils.str_utf8_length(r.body);if((s=r.getHeader("content-length"))&&i<Number(s))return void this.userAgentCore.replyStateless(r,{statusCode:400})}if(r instanceof a.IncomingResponseMessage){if(!n())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(r.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(r.via.host!==this.configuration.viaHost||void 0!==r.via.port)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");var s;i=v.Utils.str_utf8_length(r.body);if((s=r.getHeader("content-length"))&&i<Number(s))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(r instanceof a.IncomingRequestMessage)this.userAgentCore.receiveIncomingRequestFromTransport(r);else{if(!(r instanceof a.IncomingResponseMessage))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(r)}}else this.logger.warn("UA failed to parse incoming SIP message - discarding.")},t.prototype.checkAuthenticationFactory=function(e){if(e instanceof Function)return e.initialize||(e.initialize=function(){return Promise.resolve()}),e},t.prototype.loadConfig=function(e){var t=this,r={viaHost:v.Utils.createRandomToken(12)+".invalid",uri:new a.URI("sip","anonymous."+v.Utils.createRandomToken(6),"anonymous.invalid",void 0,void 0),custom:{},displayName:"",password:void 0,register:!0,registerOptions:{},transportConstructor:S.Transport,transportOptions:{},usePreloadedRoute:!1,userAgentString:o.C.USER_AGENT,noAnswerTimeout:60,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,sessionDescriptionHandlerFactoryOptions:{constraints:{},peerConnectionOptions:{}},extraSupported:[],contactName:v.Utils.createRandomToken(8),contactTransport:"ws",forceRport:!1,autostart:!0,autostop:!0,rel100:o.C.supported.UNSUPPORTED,dtmfType:o.C.dtmfType.INFO,replaces:o.C.supported.UNSUPPORTED,sessionDescriptionHandlerFactory:m.SessionDescriptionHandler.defaultFactory,authenticationFactory:this.checkAuthenticationFactory((function(e){return new a.DigestAuthentication(e.getLoggerFactory(),t.configuration.authorizationUser,t.configuration.password)})),allowLegacyNotifications:!1,allowOutOfDialogRefers:!1,experimentalFeatures:!1},n=this.getConfigurationCheck();for(var i in n.mandatory){if(!e.hasOwnProperty(i))throw new u.Exceptions.ConfigurationError(i);var s=e[i];if(void 0===(c=n.mandatory[i](s)))throw new u.Exceptions.ConfigurationError(i,s);r[i]=c}for(var i in n.optional)if(e.hasOwnProperty(i)){var c;if((s=e[i])instanceof Array&&0===s.length||null===s||""===s||void 0===s||"number"==typeof s&&isNaN(s))continue;if(void 0===(c=n.optional[i](s)))throw new u.Exceptions.ConfigurationError(i,s);r[i]=c}0===r.displayName&&(r.displayName="0"),r.sipjsId=v.Utils.createRandomToken(5);var d=r.uri.clone();if(d.user=void 0,r.hostportParams=d.toRaw().replace(/^sip:/i,""),r.authorizationUser||(r.authorizationUser=r.uri.user),r.noAnswerTimeout=1e3*r.noAnswerTimeout,r.hackIpInContact)if("boolean"==typeof r.hackIpInContact){var l=Math.floor(254*Math.random()+1);r.viaHost="192.0.2."+l}else"string"==typeof r.hackIpInContact&&(r.viaHost=r.hackIpInContact);r.hackWssInTransport&&(r.contactTransport="wss"),this.contact={pubGruu:void 0,tempGruu:void 0,uri:new a.URI("sip",r.contactName,r.viaHost,void 0,{transport:r.contactTransport}),toString:function(e){void 0===e&&(e={});var n=e.anonymous||!1,i=e.outbound||!1,s="<";return s+=n?(t.contact.tempGruu||"sip:anonymous@anonymous.invalid;transport="+r.contactTransport).toString():(t.contact.pubGruu||t.contact.uri).toString(),i&&(s+=";ob"),s+=">"}};var p={};for(var i in r)r.hasOwnProperty(i)&&(p[i]=r[i]);for(var i in Object.assign(this.configuration,p),this.logger.log("configuration parameters after validation:"),r)if(r.hasOwnProperty(i))switch(i){case"uri":case"sessionDescriptionHandlerFactory":this.logger.log(" "+i+": "+r[i]);break;case"password":this.logger.log(" "+i+": NOT SHOWN");break;case"transportConstructor":this.logger.log(" "+i+": "+r[i].name);break;default:this.logger.log(" "+i+": "+JSON.stringify(r[i]))}},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{uri:function(e){/^sip:/i.test(e)||(e=o.C.SIP+":"+e);var t=a.Grammar.URIParse(e);return t&&t.user?t:void 0},transportConstructor:function(e){if(e instanceof Function)return e},transportOptions:function(e){if("object"==typeof e)return e},authorizationUser:function(e){return-1===a.Grammar.parse('"'+e+'"',"quoted_string")?void 0:e},displayName:function(e){return-1===a.Grammar.parse('"'+e+'"',"displayName")?void 0:e},dtmfType:function(e){switch(e){case o.C.dtmfType.RTP:return o.C.dtmfType.RTP;case o.C.dtmfType.INFO:default:return o.C.dtmfType.INFO}},hackViaTcp:function(e){if("boolean"==typeof e)return e},hackIpInContact:function(e){return"boolean"==typeof e||"string"==typeof e&&-1!==a.Grammar.parse(e,"host")?e:void 0},hackWssInTransport:function(e){if("boolean"==typeof e)return e},hackAllowUnregisteredOptionTags:function(e){if("boolean"==typeof e)return e},contactTransport:function(e){if("string"==typeof e)return e},extraSupported:function(e){if(e instanceof Array){for(var t=0,r=e;t<r.length;t++){if("string"!=typeof r[t])return}return e}},forceRport:function(e){if("boolean"==typeof e)return e},noAnswerTimeout:function(e){if(v.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},password:function(e){return String(e)},rel100:function(e){return e===o.C.supported.REQUIRED?o.C.supported.REQUIRED:e===o.C.supported.SUPPORTED?o.C.supported.SUPPORTED:o.C.supported.UNSUPPORTED},replaces:function(e){return e===o.C.supported.REQUIRED?o.C.supported.REQUIRED:e===o.C.supported.SUPPORTED?o.C.supported.SUPPORTED:o.C.supported.UNSUPPORTED},register:function(e){if("boolean"==typeof e)return e},registerOptions:function(e){if("object"==typeof e)return e},usePreloadedRoute:function(e){if("boolean"==typeof e)return e},userAgentString:function(e){if("string"==typeof e)return e},autostart:function(e){if("boolean"==typeof e)return e},autostop:function(e){if("boolean"==typeof e)return e},sessionDescriptionHandlerFactory:function(e){if(e instanceof Function)return e},sessionDescriptionHandlerFactoryOptions:function(e){if("object"==typeof e)return e},authenticationFactory:this.checkAuthenticationFactory,allowLegacyNotifications:function(e){if("boolean"==typeof e)return e},custom:function(e){if("object"==typeof e)return e},contactName:function(e){if("string"==typeof e)return e},experimentalFeatures:function(e){if("boolean"==typeof e)return e}}}},t.C={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10},t}(i.EventEmitter);function T(e){if(!(e.configuration.uri instanceof a.URI))throw new Error("Configuration URI not instance of URI.");var t=e.configuration.uri,r=e.contact,n=e.configuration.displayName?e.configuration.displayName:"",i=!!e.configuration.hackViaTcp,s=e.configuration.usePreloadedRoute&&e.transport.server&&e.transport.server.sipUri?[e.transport.server.sipUri]:[],c=e.configuration.sipjsId||v.Utils.createRandomToken(5),u=[];u.push("outbound"),e.configuration.rel100===o.C.supported.SUPPORTED&&u.push("100rel"),e.configuration.replaces===o.C.supported.SUPPORTED&&u.push("replaces"),e.configuration.extraSupported&&u.push.apply(u,e.configuration.extraSupported),e.configuration.hackAllowUnregisteredOptionTags||(u=u.filter((function(e){return o.C.OPTION_TAGS[e]}))),u=Array.from(new Set(u));var d=e.getSupportedResponseOptions(),l=e.configuration.userAgentString||"sipjs";if(!e.configuration.viaHost)throw new Error("Configuration via host undefined");var p=!!e.configuration.forceRport,h=e.configuration.viaHost;return{aor:t,contact:r,displayName:n,hackViaTcp:i,loggerFactory:e.getLoggerFactory(),routeSet:s,sipjsId:c,supportedOptionTags:u,supportedOptionTagsResponse:d,userAgentHeaderFieldValue:l,viaForceRport:p,viaHost:h,authenticationFactory:function(){if(e.configuration.authenticationFactory)return e.configuration.authenticationFactory(e)},transportAccessor:function(){return e.transport}}}t.UA=y,function(e){!function(e){e.RTP="rtp",e.INFO="info"}(e.DtmfType||(e.DtmfType={}))}(y=t.UA||(t.UA={})),t.UA=y,t.makeUserAgentCoreConfigurationFromUA=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(92),o=r(5),a=r(10),c=r(9),u=n.__importStar(r(51)),d=r(151),l=function(e){function t(t,r,n){var i=e.call(this)||this;return i.type=o.TypeStrings.SessionDescriptionHandler,i.options=n||{},i.logger=t,i.observer=r,i.dtmfSender=void 0,i.shouldAcquireMedia=!0,i.CONTENT_TYPE="application/sdp",i.C={DIRECTION:{NULL:null,SENDRECV:"sendrecv",SENDONLY:"sendonly",RECVONLY:"recvonly",INACTIVE:"inactive"}},i.logger.log("SessionDescriptionHandlerOptions: "+JSON.stringify(i.options)),i.direction=i.C.DIRECTION.NULL,i.modifiers=i.options.modifiers||[],Array.isArray(i.modifiers)||(i.modifiers=[i.modifiers]),i.iceGatheringTimeout=!1,i.initPeerConnection(i.options.peerConnectionOptions),i.constraints=i.checkAndDefaultConstraints(i.options.constraints),i}return n.__extends(t,e),t.defaultFactory=function(e,r){return new t(e instanceof s.Session?e.userAgent.getLogger("sip.sessionDescriptionHandler",e.id):e.ua.getLogger("sip.invitecontext.sessionDescriptionHandler",e.id),new d.SessionDescriptionHandlerObserver(e,r),r)},t.prototype.close=function(){this.logger.log("closing PeerConnection"),this.peerConnection&&"closed"!==this.peerConnection.signalingState&&(this.peerConnection.getSenders?this.peerConnection.getSenders().forEach((function(e){e.track&&e.track.stop()})):(this.logger.warn("Using getLocalStreams which is deprecated"),this.peerConnection.getLocalStreams().forEach((function(e){e.getTracks().forEach((function(e){e.stop()}))}))),this.peerConnection.getReceivers?this.peerConnection.getReceivers().forEach((function(e){e.track&&e.track.stop()})):(this.logger.warn("Using getRemoteStreams which is deprecated"),this.peerConnection.getRemoteStreams().forEach((function(e){e.getTracks().forEach((function(e){e.stop()}))}))),this.resetIceGatheringComplete(),this.peerConnection.close())},t.prototype.getDescription=function(e,t){var r=this;void 0===e&&(e={}),void 0===t&&(t=[]),e.peerConnectionOptions&&this.initPeerConnection(e.peerConnectionOptions);var n=Object.assign({},this.constraints,e.constraints);return n=this.checkAndDefaultConstraints(n),JSON.stringify(n)!==JSON.stringify(this.constraints)&&(this.constraints=n,this.shouldAcquireMedia=!0),Array.isArray(t)||(t=[t]),t=t.concat(this.modifiers),Promise.resolve().then((function(){if(r.shouldAcquireMedia)return r.acquire(r.constraints).then((function(){r.shouldAcquireMedia=!1}))})).then((function(){return r.createOfferOrAnswer(e.RTCOfferOptions,t)})).then((function(e){if(void 0===e.sdp)throw new a.Exceptions.SessionDescriptionHandlerError("getDescription",void 0,"SDP undefined");return r.emit("getDescription",e),{body:e.sdp,contentType:r.CONTENT_TYPE}}))},t.prototype.hasDescription=function(e){return e===this.CONTENT_TYPE},t.prototype.holdModifier=function(e){return e.sdp?(/a=(sendrecv|sendonly|recvonly|inactive)/.test(e.sdp)?(e.sdp=e.sdp.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n"),e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n")):e.sdp=e.sdp.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n"),Promise.resolve(e)):Promise.resolve(e)},t.prototype.setDescription=function(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=[]),t.peerConnectionOptions&&this.initPeerConnection(t.peerConnectionOptions),Array.isArray(r)||(r=[r]),r=r.concat(this.modifiers);var i={type:this.hasOffer("local")?"answer":"offer",sdp:e};return Promise.resolve().then((function(){if(n.shouldAcquireMedia&&n.options.alwaysAcquireMediaFirst)return n.acquire(n.constraints).then((function(){n.shouldAcquireMedia=!1}))})).then((function(){return c.Utils.reducePromises(r,i)})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("setDescription",e,"The modifiers did not resolve successfully");throw n.logger.error(t.message),n.emit("peerConnection-setRemoteDescriptionFailed",t),t})).then((function(e){return n.emit("setDescription",e),n.peerConnection.setRemoteDescription(e)})).catch((function(i){if(i.type===o.TypeStrings.SessionDescriptionHandlerError)throw i;if(/^m=video.+$/gm.test(e)&&!t.disableAudioFallback)return t.disableAudioFallback=!0,n.setDescription(e,t,[u.stripVideo].concat(r));var s=new a.Exceptions.SessionDescriptionHandlerError("setDescription",i);throw s.error&&n.logger.error(s.error),n.emit("peerConnection-setRemoteDescriptionFailed",s),s})).then((function(){n.peerConnection.getReceivers?n.emit("setRemoteDescription",n.peerConnection.getReceivers()):n.emit("setRemoteDescription",n.peerConnection.getRemoteStreams()),n.emit("confirmed",n)}))},t.prototype.sendDtmf=function(e,t){if(void 0===t&&(t={}),!this.dtmfSender&&this.hasBrowserGetSenderSupport()){var r=this.peerConnection.getSenders();r.length>0&&(this.dtmfSender=r[0].dtmf)}if(!this.dtmfSender&&this.hasBrowserTrackSupport()){var n=this.peerConnection.getLocalStreams();if(n.length>0){var i=n[0].getAudioTracks();i.length>0&&(this.dtmfSender=this.peerConnection.createDTMFSender(i[0]))}}if(!this.dtmfSender)return!1;try{this.dtmfSender.insertDTMF(e,t.duration,t.interToneGap)}catch(e){if("InvalidStateError"===e.type||"InvalidCharacterError"===e.type)return this.logger.error(e),!1;throw e}return this.logger.log("DTMF sent via RTP: "+e.toString()),!0},t.prototype.getDirection=function(){return this.direction},t.prototype.on=function(t,r){return e.prototype.on.call(this,t,r)},t.prototype.getMediaStream=function(e){return navigator.mediaDevices.getUserMedia(e)},t.prototype.createOfferOrAnswer=function(e,t){var r=this;void 0===e&&(e={}),void 0===t&&(t=[]);var n=this.hasOffer("remote")?"createAnswer":"createOffer",i=this.peerConnection;return this.logger.log(n),(this.hasOffer("remote")?i.createAnswer:i.createOffer).apply(i,e).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-"+n+"Failed");throw r.emit("peerConnection-"+n+"Failed",t),t})).then((function(e){return c.Utils.reducePromises(t,r.createRTCSessionDescriptionInit(e))})).then((function(e){return r.resetIceGatheringComplete(),r.logger.log("Setting local sdp."),r.logger.log("sdp is "+e.sdp||!1),i.setLocalDescription(e)})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-SetLocalDescriptionFailed");throw r.emit("peerConnection-SetLocalDescriptionFailed",t),t})).then((function(){return r.waitForIceGatheringComplete()})).then((function(){if(!r.peerConnection.localDescription)throw new a.Exceptions.SessionDescriptionHandlerError("Missing local description");var e=r.createRTCSessionDescriptionInit(r.peerConnection.localDescription);return c.Utils.reducePromises(t,e)})).then((function(e){return r.setDirection(e.sdp||""),e})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new a.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e);throw r.logger.error(t.toString()),t}))},t.prototype.createRTCSessionDescriptionInit=function(e){return{type:e.type,sdp:e.sdp}},t.prototype.addDefaultIceCheckingTimeout=function(e){return void 0===e.iceCheckingTimeout&&(e.iceCheckingTimeout=5e3),e},t.prototype.addDefaultIceServers=function(e){return e.iceServers||(e.iceServers=[{urls:"stun:stun.l.google.com:19302"}]),e},t.prototype.checkAndDefaultConstraints=function(e){var t={audio:!0,video:!this.options.alwaysAcquireMediaFirst};return e=e||t,0===Object.keys(e).length&&e.constructor===Object?t:e},t.prototype.hasBrowserTrackSupport=function(){return Boolean(this.peerConnection.addTrack)},t.prototype.hasBrowserGetSenderSupport=function(){return Boolean(this.peerConnection.getSenders)},t.prototype.initPeerConnection=function(e){var t=this;void 0===e&&(e={}),(e=this.addDefaultIceCheckingTimeout(e)).rtcConfiguration=e.rtcConfiguration||{},e.rtcConfiguration=this.addDefaultIceServers(e.rtcConfiguration),this.logger.log("initPeerConnection"),this.peerConnection&&(this.logger.log("Already have a peer connection for this session. Tearing down."),this.resetIceGatheringComplete(),this.peerConnection.close()),this.peerConnection=new RTCPeerConnection(e.rtcConfiguration),this.logger.log("New peer connection created"),"ontrack"in this.peerConnection?this.peerConnection.addEventListener("track",(function(e){t.logger.log("track added"),t.observer.trackAdded(),t.emit("addTrack",e)})):(this.logger.warn("Using onaddstream which is deprecated"),this.peerConnection.onaddstream=function(e){t.logger.log("stream added"),t.emit("addStream",e)}),this.peerConnection.onicecandidate=function(e){t.emit("iceCandidate",e),e.candidate?t.logger.log("ICE candidate received: "+(null===e.candidate.candidate?null:e.candidate.candidate.trim())):null===e.candidate&&(t.logger.log("ICE candidate gathering complete"),t.triggerIceGatheringComplete())},this.peerConnection.onicegatheringstatechange=function(){switch(t.logger.log("RTCIceGatheringState changed: "+t.peerConnection.iceGatheringState),t.peerConnection.iceGatheringState){case"gathering":t.emit("iceGathering",t),!t.iceGatheringTimer&&e.iceCheckingTimeout&&(t.iceGatheringTimeout=!1,t.iceGatheringTimer=setTimeout((function(){t.logger.log("RTCIceChecking Timeout Triggered after "+e.iceCheckingTimeout+" milliseconds"),t.iceGatheringTimeout=!0,t.triggerIceGatheringComplete()}),e.iceCheckingTimeout));break;case"complete":t.triggerIceGatheringComplete()}},this.peerConnection.oniceconnectionstatechange=function(){var e;switch(t.peerConnection.iceConnectionState){case"new":e="iceConnection";break;case"checking":e="iceConnectionChecking";break;case"connected":e="iceConnectionConnected";break;case"completed":e="iceConnectionCompleted";break;case"failed":e="iceConnectionFailed";break;case"disconnected":e="iceConnectionDisconnected";break;case"closed":e="iceConnectionClosed";break;default:return void t.logger.warn("Unknown iceConnection state: "+t.peerConnection.iceConnectionState)}t.logger.log("ICE Connection State changed to "+e),t.emit(e,t)}},t.prototype.acquire=function(e){var t=this;return e=this.checkAndDefaultConstraints(e),new Promise((function(r,n){t.logger.log("acquiring local media"),t.emit("userMediaRequest",e),e.audio||e.video?t.getMediaStream(e).then((function(e){t.observer.trackAdded(),t.emit("userMedia",e),r(e)})).catch((function(e){t.emit("userMediaFailed",e),n(e)})):r([])})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var r=new a.Exceptions.SessionDescriptionHandlerError("acquire",e,"unable to acquire streams");throw t.logger.error(r.message),r.error&&t.logger.error(r.error),r})).then((function(e){return t.logger.log("acquired local media streams"),t.peerConnection.removeTrack&&t.peerConnection.getSenders().forEach((function(e){t.peerConnection.removeTrack(e)})),e})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var r=new a.Exceptions.SessionDescriptionHandlerError("acquire",e,"error removing streams");throw t.logger.error(r.message),r.error&&t.logger.error(r.error),r})).then((function(e){return[].concat(e).forEach((function(e){t.peerConnection.addTrack?e.getTracks().forEach((function(r){t.peerConnection.addTrack(r,e)})):t.peerConnection.addStream(e)})),Promise.resolve()})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var r=new a.Exceptions.SessionDescriptionHandlerError("acquire",e,"error adding stream");throw t.logger.error(r.message),r.error&&t.logger.error(r.error),r}))},t.prototype.hasOffer=function(e){var t="have-"+e+"-offer";return this.peerConnection.signalingState===t},t.prototype.isIceGatheringComplete=function(){return"complete"===this.peerConnection.iceGatheringState||this.iceGatheringTimeout},t.prototype.resetIceGatheringComplete=function(){this.iceGatheringTimeout=!1,this.logger.log("resetIceGatheringComplete"),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.reject(),this.iceGatheringDeferred=void 0)},t.prototype.setDirection=function(e){var t=e.match(/a=(sendrecv|sendonly|recvonly|inactive)/);if(null===t)return this.direction=this.C.DIRECTION.NULL,void this.observer.directionChanged();var r=t[1];switch(r){case this.C.DIRECTION.SENDRECV:case this.C.DIRECTION.SENDONLY:case this.C.DIRECTION.RECVONLY:case this.C.DIRECTION.INACTIVE:this.direction=r;break;default:this.direction=this.C.DIRECTION.NULL}this.observer.directionChanged()},t.prototype.triggerIceGatheringComplete=function(){this.isIceGatheringComplete()&&(this.emit("iceGatheringComplete",this),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.resolve(),this.iceGatheringDeferred=void 0))},t.prototype.waitForIceGatheringComplete=function(){return this.logger.log("waitForIceGatheringComplete"),this.isIceGatheringComplete()?(this.logger.log("ICE is already complete. Return resolved."),Promise.resolve()):(this.iceGatheringDeferred||(this.iceGatheringDeferred=c.Utils.defer()),this.logger.log("ICE is not complete. Returning promise"),this.iceGatheringDeferred?this.iceGatheringDeferred.promise:Promise.resolve())},t}(i.EventEmitter);t.SessionDescriptionHandler=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=r(2),s=r(17),o=r(23),a=r(138),c=r(139),u=r(140),d=r(146),l=r(147),p=r(148),h=r(149),f=r(150),g=function(){function e(e,t){void 0===t&&(t={}),this.pendingReinvite=!1,this._state=f.SessionState.Initial,this._stateEventEmitter=new n.EventEmitter,this.delegate=t.delegate,this._userAgent=e}return e.prototype.dispose=function(){var e=this;switch(this.logger.log("Session "+this.id+" in state "+this._state+" is being disposed"),delete this.userAgent._sessions[this.id],this._sessionDescriptionHandler&&this._sessionDescriptionHandler.close(),this.state){case f.SessionState.Initial:case f.SessionState.Establishing:break;case f.SessionState.Established:return new Promise((function(t,r){e._bye({onAccept:function(){return t()},onRedirect:function(){return t()},onReject:function(){return t()}})}));case f.SessionState.Terminating:case f.SessionState.Terminated:break;default:throw new Error("Unknown state.")}return Promise.resolve()},Object.defineProperty(e.prototype,"assertedIdentity",{get:function(){return this._assertedIdentity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dialog",{get:function(){return this._dialog},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replacee",{get:function(){return this._replacee},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionDescriptionHandler",{get:function(){return this._sessionDescriptionHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionDescriptionHandlerFactory",{get:function(){return this.userAgent.configuration.sessionDescriptionHandlerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateChange",{get:function(){return c._makeEmitter(this._stateEventEmitter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userAgent",{get:function(){return this._userAgent},enumerable:!0,configurable:!0}),e.prototype.bye=function(e){void 0===e&&(e={});var t="Session.bye() may only be called if established session.";switch(this.state){case f.SessionState.Initial:"function"==typeof this.cancel?(t+=" However Inviter.invite() has not yet been called.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"==typeof this.reject&&(t+=" However Invitation.accept() has not yet been called.",t+=" Perhaps you should have called Invitation.reject()?");break;case f.SessionState.Establishing:"function"==typeof this.cancel?(t+=" However a dialog does not yet exist.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"==typeof this.reject&&(t+=" However Invitation.accept() has not yet been called (or not yet resolved).",t+=" Perhaps you should have called Invitation.reject()?");break;case f.SessionState.Established:var r=e.requestDelegate,n=this.copyRequestOptions(e.requestOptions);return this._bye(r,n);case f.SessionState.Terminating:t+=" However this session is already terminating.","function"==typeof this.cancel?t+=" Perhaps you have already called Inviter.cancel()?":"function"==typeof this.reject&&(t+=" Perhaps you have already called Session.bye()?");break;case f.SessionState.Terminated:t+=" However this session is already terminated.";break;default:throw new Error("Unknown state")}return this.logger.error(t),Promise.reject(new Error("Invalid session state "+this.state))},e.prototype.info=function(e){if(void 0===e&&(e={}),this.state!==f.SessionState.Established){return this.logger.error("Session.info() may only be called if established session."),Promise.reject(new Error("Invalid session state "+this.state))}var t=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._info(t,r)},e.prototype.invite=function(e){var t=this;if(void 0===e&&(e={}),this.logger.log("Session.invite"),this.state!==f.SessionState.Established)return Promise.reject(new Error("Invalid session state "+this.state));if(this.pendingReinvite)return Promise.reject(new u.RequestPendingError("Reinvite in progress. Please wait until complete, then try again."));this.pendingReinvite=!0;var r={onAccept:function(r){var n=i.getBody(r.message);if(!n)return t.logger.error("Received 2xx response to re-INVITE without a session description"),t.ackAndBye(r,400,"Missing session description"),t.stateTransition(f.SessionState.Terminated),void(t.pendingReinvite=!1);if(e.withoutSdp){var s={sessionDescriptionHandlerOptions:e.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:e.sessionDescriptionHandlerModifiers};t.setOfferAndGetAnswer(n,s).then((function(e){r.ack({body:e})})).catch((function(e){t.logger.error("Failed to handle offer in 2xx response to re-INVITE"),t.logger.error(e.message),t.state===f.SessionState.Terminated?r.ack():(t.ackAndBye(r,488,"Bad Media Description"),t.stateTransition(f.SessionState.Terminated))})).then((function(){t.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(r)}))}else{s={sessionDescriptionHandlerOptions:t._sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:t._sessionDescriptionHandlerModifiers};t.setAnswer(n,s).then((function(){r.ack()})).catch((function(e){t.logger.error("Failed to handle answer in 2xx response to re-INVITE"),t.logger.error(e.message),t.state!==f.SessionState.Terminated?(t.ackAndBye(r,488,"Bad Media Description"),t.stateTransition(f.SessionState.Terminated)):r.ack()})).then((function(){t.pendingReinvite=!1,e.requestDelegate&&e.requestDelegate.onAccept&&e.requestDelegate.onAccept(r)}))}},onProgress:function(e){},onRedirect:function(e){},onReject:function(r){t.logger.warn("Received a non-2xx response to re-INVITE"),t.pendingReinvite=!1,e.withoutSdp?e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(r):t.rollbackOffer().catch((function(e){if(t.logger.error("Failed to rollback offer on non-2xx response to re-INVITE"),t.logger.error(e.message),t.state!==f.SessionState.Terminated){if(!t.dialog)throw new Error("Dialog undefined.");var r=[];r.push("Reason: "+t.getReasonHeaderValue(500,"Internal Server Error")),t.dialog.bye(void 0,{extraHeaders:r}),t.stateTransition(f.SessionState.Terminated)}})).then((function(){e.requestDelegate&&e.requestDelegate.onReject&&e.requestDelegate.onReject(r)}))},onTrying:function(e){}},n=e.requestOptions||{};if(n.extraHeaders=(n.extraHeaders||[]).slice(),n.extraHeaders.push("Allow: "+o.AllowedMethods.toString()),n.extraHeaders.push("Contact: "+this._contact),e.withoutSdp){if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return Promise.resolve(this.dialog.invite(r,n))}var s={sessionDescriptionHandlerOptions:e.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:e.sessionDescriptionHandlerModifiers};return this.getOffer(s).then((function(e){if(!t.dialog)throw t.pendingReinvite=!1,new Error("Dialog undefined.");return n.body=e,t.dialog.invite(r,n)})).catch((function(e){throw t.logger.error(e.message),t.logger.error("Failed to send re-INVITE"),t.pendingReinvite=!1,e}))},e.prototype.message=function(e){if(void 0===e&&(e={}),this.state!==f.SessionState.Established){return this.logger.error("Session.message() may only be called if established session."),Promise.reject(new Error("Invalid session state "+this.state))}var t=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._message(t,r)},e.prototype.refer=function(e,t){if(void 0===t&&(t={}),this.state!==f.SessionState.Established){return this.logger.error("Session.refer() may only be called if established session."),Promise.reject(new Error("Invalid session state "+this.state))}var r=t.requestDelegate,n=this.copyRequestOptions(t.requestOptions);return n.extraHeaders=n.extraHeaders?n.extraHeaders.concat(this.referExtraHeaders(this.referToString(e))):this.referExtraHeaders(this.referToString(e)),this._refer(t.onNotify,r,n)},e.prototype._bye=function(e,t){var r=this;if(!this.dialog)return Promise.reject(new Error("Session dialog undefined."));var n=this.dialog;switch(n.sessionState){case i.SessionState.Initial:case i.SessionState.Early:throw new Error("Invalid dialog state "+n.sessionState);case i.SessionState.AckWait:return this.stateTransition(f.SessionState.Terminating),new Promise((function(i,s){n.delegate={onAck:function(){var s=n.bye(e,t);r.stateTransition(f.SessionState.Terminated),i(s)},onAckTimeout:function(){var s=n.bye(e,t);r.stateTransition(f.SessionState.Terminated),i(s)}}}));case i.SessionState.Confirmed:var s=n.bye(e,t);return this.stateTransition(f.SessionState.Terminated),Promise.resolve(s);case i.SessionState.Terminated:throw new Error("Invalid dialog state "+n.sessionState);default:throw new Error("Unrecognized state.")}},e.prototype._info=function(e,t){return this.dialog?Promise.resolve(this.dialog.info(e,t)):Promise.reject(new Error("Session dialog undefined."))},e.prototype._message=function(e,t){return this.dialog?Promise.resolve(this.dialog.message(e,t)):Promise.reject(new Error("Session dialog undefined."))},e.prototype._refer=function(e,t,r){return this.dialog?(this.onNotify=e,Promise.resolve(this.dialog.refer(t,r))):Promise.reject(new Error("Session dialog undefined."))},e.prototype.ackAndBye=function(e,t,r){e.ack();var n=[];t&&n.push("Reason: "+this.getReasonHeaderValue(t,r)),e.session.bye(void 0,{extraHeaders:n})},e.prototype.onAckRequest=function(e){var t=this;if(this.logger.log("Session.onAckRequest"),this.state===f.SessionState.Established||this.state===f.SessionState.Terminating){var r=this.dialog;if(!r)throw new Error("Dialog undefined.");switch(r.signalingState){case i.SignalingState.Initial:this.logger.error("Invalid signaling state "+r.signalingState+".");var n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return r.bye(void 0,{extraHeaders:n}),void this.stateTransition(f.SessionState.Terminated);case i.SignalingState.Stable:var s=i.getBody(e.message);if(!s)return;if("render"===s.contentDisposition)return this._renderbody=s.content,void(this._rendertype=s.contentType);if("session"!==s.contentDisposition)return;var o={sessionDescriptionHandlerOptions:this._sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this._sessionDescriptionHandlerModifiers};return void this.setAnswer(s,o).catch((function(e){t.logger.error(e.message);var n=["Reason: "+t.getReasonHeaderValue(488,"Bad Media Description")];r.bye(void 0,{extraHeaders:n}),t.stateTransition(f.SessionState.Terminated)}));case i.SignalingState.HaveLocalOffer:this.logger.error("Invalid signaling state "+r.signalingState+".");n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return r.bye(void 0,{extraHeaders:n}),void this.stateTransition(f.SessionState.Terminated);case i.SignalingState.HaveRemoteOffer:this.logger.error("Invalid signaling state "+r.signalingState+".");n=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return r.bye(void 0,{extraHeaders:n}),void this.stateTransition(f.SessionState.Terminated);case i.SignalingState.Closed:default:throw new Error("Invalid signaling state "+r.signalingState+".")}}else this.logger.error("ACK received while in state "+this.state+", dropping request")},e.prototype.onByeRequest=function(e){if(this.logger.log("Session.onByeRequest"),this.state===f.SessionState.Established){if(this.delegate&&this.delegate.onBye){var t=new a.Bye(e);this.delegate.onBye(t)}else e.accept();this.stateTransition(f.SessionState.Terminated)}else this.logger.error("BYE received while in state "+this.state+", dropping request")},e.prototype.onInfoRequest=function(e){if(this.logger.log("Session.onInfoRequest"),this.state===f.SessionState.Established)if(this.delegate&&this.delegate.onInfo){var t=new d.Info(e);this.delegate.onInfo(t)}else e.accept();else this.logger.error("INFO received while in state "+this.state+", dropping request")},e.prototype.onInviteRequest=function(e){var t=this;if(this.logger.log("Session.onInviteRequest"),this.state===f.SessionState.Established){var r=["Contact: "+this._contact];if(e.message.hasHeader("P-Asserted-Identity")){var n=e.message.getHeader("P-Asserted-Identity");if(!n)throw new Error("Header undefined.");this._assertedIdentity=i.Grammar.nameAddrHeaderParse(n)}var s={sessionDescriptionHandlerOptions:this._sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this._sessionDescriptionHandlerModifiers};this.generateResponseOfferAnswerInDialog(s).then((function(n){var i=e.accept({statusCode:200,extraHeaders:r,body:n});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,i.message,200)})).catch((function(n){if(t.logger.error(n.message),t.logger.error("Failed to handle to re-INVITE request"),!t.dialog)throw new Error("Dialog undefined.");if(t.logger.error(t.dialog.signalingState),t.dialog.signalingState!==i.SignalingState.Stable)t.rollbackOffer().then((function(){var r=e.reject({statusCode:488});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,r.message,488)})).catch((function(n){t.logger.error(n.message),t.logger.error("Failed to rollback offer on re-INVITE request");var i=e.reject({statusCode:488});if(t.state!==f.SessionState.Terminated){if(!t.dialog)throw new Error("Dialog undefined.");[].push("Reason: "+t.getReasonHeaderValue(500,"Internal Server Error")),t.dialog.bye(void 0,{extraHeaders:r}),t.stateTransition(f.SessionState.Terminated)}t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,i.message,488)}));else{var s=e.reject({statusCode:488});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,s.message,488)}}))}else this.logger.error("INVITE received while in state "+this.state+", dropping request")},e.prototype.onMessageRequest=function(e){if(this.logger.log("Session.onMessageRequest"),this.state===f.SessionState.Established)if(this.delegate&&this.delegate.onMessage){var t=new l.Message(e);this.delegate.onMessage(t)}else e.accept();else this.logger.error("MESSAGE received while in state "+this.state+", dropping request")},e.prototype.onNotifyRequest=function(e){if(this.logger.log("Session.onNotifyRequest"),this.state===f.SessionState.Established)if(this.onNotify){var t=new p.Notification(e);this.onNotify(t)}else if(this.delegate&&this.delegate.onNotify){t=new p.Notification(e);this.delegate.onNotify(t)}else e.accept();else this.logger.error("NOTIFY received while in state "+this.state+", dropping request")},e.prototype.onPrackRequest=function(e){if(this.logger.log("Session.onPrackRequest"),this.state===f.SessionState.Established)throw new Error("Unimplemented.");this.logger.error("PRACK received while in state "+this.state+", dropping request")},e.prototype.onReferRequest=function(e){var t=this;if(this.logger.log("Session.onReferRequest"),this.state===f.SessionState.Established){if(!e.message.hasHeader("refer-to"))return this.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting."),void e.reject();var r=new h.Referral(e,this);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(r):(this.logger.log("No delegate available to handle REFER, automatically accepting and following."),r.accept().then((function(){return r.makeInviter(t._referralInviterOptions).invite()})).catch((function(e){t.logger.error(e.message)})))}else this.logger.error("REFER received while in state "+this.state+", dropping request")},e.prototype.generateResponseOfferAnswer=function(e,t){if(this.dialog)return this.generateResponseOfferAnswerInDialog(t);var r=i.getBody(e.message);return r&&"session"===r.contentDisposition?this.setOfferAndGetAnswer(r,t):this.getOffer(t)},e.prototype.generateResponseOfferAnswerInDialog=function(e){if(!this.dialog)throw new Error("Dialog undefined.");switch(this.dialog.signalingState){case i.SignalingState.Initial:return this.getOffer(e);case i.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case i.SignalingState.HaveRemoteOffer:if(!this.dialog.offer)throw new Error("Session offer undefined in signaling state "+this.dialog.signalingState+".");return this.setOfferAndGetAnswer(this.dialog.offer,e);case i.SignalingState.Stable:return this.state!==f.SessionState.Established?Promise.resolve(void 0):this.getOffer(e);case i.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.dialog.signalingState+".")}},e.prototype.getOffer=function(e){var t=this,r=this.setupSessionDescriptionHandler(),n=e.sessionDescriptionHandlerOptions,s=e.sessionDescriptionHandlerModifiers;try{return r.getDescription(n,s).then((function(e){return i.fromBodyLegacy(e)})).catch((function(e){t.logger.error("Session.getOffer: SDH getDescription rejected...");var r=e instanceof Error?e:new Error(e);throw t.logger.error(r.message),r}))}catch(e){this.logger.error("Session.getOffer: SDH getDescription threw...");var o=e instanceof Error?e:new Error(e);return this.logger.error(o.message),Promise.reject(o)}},e.prototype.rollbackOffer=function(){var e=this,t=this.setupSessionDescriptionHandler();if(!t.rollbackDescription)return Promise.resolve();try{return t.rollbackDescription().catch((function(t){e.logger.error("Session.rollbackOffer: SDH rollbackDescription rejected...");var r=t instanceof Error?t:new Error(t);throw e.logger.error(r.message),r}))}catch(e){this.logger.error("Session.rollbackOffer: SDH rollbackDescription threw...");var r=e instanceof Error?e:new Error(e);return this.logger.error(r.message),Promise.reject(r)}},e.prototype.setAnswer=function(e,t){var r=this,n=this.setupSessionDescriptionHandler(),i=t.sessionDescriptionHandlerOptions,s=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new u.ContentTypeUnsupportedError)}catch(e){this.logger.error("Session.setAnswer: SDH hasDescription threw...");var o=e instanceof Error?e:new Error(e);return this.logger.error(o.message),Promise.reject(o)}try{return n.setDescription(e.content,i,s).catch((function(e){r.logger.error("Session.setAnswer: SDH setDescription rejected...");var t=e instanceof Error?e:new Error(e);throw r.logger.error(t.message),t}))}catch(e){this.logger.error("Session.setAnswer: SDH setDescription threw...");o=e instanceof Error?e:new Error(e);return this.logger.error(o.message),Promise.reject(o)}},e.prototype.setOfferAndGetAnswer=function(e,t){var r=this,n=this.setupSessionDescriptionHandler(),s=t.sessionDescriptionHandlerOptions,o=t.sessionDescriptionHandlerModifiers;try{if(!n.hasDescription(e.contentType))return Promise.reject(new u.ContentTypeUnsupportedError)}catch(e){this.logger.error("Session.setOfferAndGetAnswer: SDH hasDescription threw...");var a=e instanceof Error?e:new Error(e);return this.logger.error(a.message),Promise.reject(a)}try{return n.setDescription(e.content,s,o).then((function(){return n.getDescription(s,o)})).then((function(e){return i.fromBodyLegacy(e)})).catch((function(e){r.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription rejected...");var t=e instanceof Error?e:new Error(e);throw r.logger.error(t.message),t}))}catch(e){this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription threw...");a=e instanceof Error?e:new Error(e);return this.logger.error(a.message),Promise.reject(a)}},e.prototype.setSessionDescriptionHandler=function(e){if(this._sessionDescriptionHandler)throw new Error("Session description handler defined.");this._sessionDescriptionHandler=e},e.prototype.setupSessionDescriptionHandler=function(){return this._sessionDescriptionHandler||(this._sessionDescriptionHandler=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions)),this._sessionDescriptionHandler},e.prototype.stateTransition=function(e){var t=this,r=function(){throw new Error("Invalid state transition from "+t._state+" to "+e)};switch(this._state){case f.SessionState.Initial:e!==f.SessionState.Establishing&&e!==f.SessionState.Established&&e!==f.SessionState.Terminating&&e!==f.SessionState.Terminated&&r();break;case f.SessionState.Establishing:e!==f.SessionState.Established&&e!==f.SessionState.Terminating&&e!==f.SessionState.Terminated&&r();break;case f.SessionState.Established:e!==f.SessionState.Terminating&&e!==f.SessionState.Terminated&&r();break;case f.SessionState.Terminating:e!==f.SessionState.Terminated&&r();break;case f.SessionState.Terminated:r();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log("Session "+this.id+" transitioned to state "+this._state),this._stateEventEmitter.emit("event",this._state),e===f.SessionState.Terminated&&this.dispose()},e.prototype.copyRequestOptions=function(e){return void 0===e&&(e={}),{extraHeaders:e.extraHeaders?e.extraHeaders.slice():void 0,body:e.body?{contentDisposition:e.body.contentDisposition||"render",contentType:e.body.contentType||"text/plain",content:e.body.content||""}:void 0}},e.prototype.getReasonHeaderValue=function(e,t){var r=e,n=s.getReasonPhrase(e);return!n&&t&&(n=t),"SIP;cause="+r+';text="'+n+'"'},e.prototype.referExtraHeaders=function(e){var t=[];return t.push("Referred-By: <"+this.userAgent.configuration.uri+">"),t.push("Contact: "+this._contact),t.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.push("Refer-To: "+e),t},e.prototype.referToString=function(e){var t;if(e instanceof i.URI)t=e.toString();else{if(!e.dialog)throw new Error("Dialog undefined.");var r=e.remoteIdentity.friendlyName,n=e.dialog.remoteTarget.toString(),s=e.dialog.callId,o=e.dialog.remoteTag,a=e.dialog.localTag;t='"'+r+'" <'+n+"?Replaces="+encodeURIComponent(s+";to-tag="+o+";from-tag="+a)+">"}return t},e}();t.Session=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),s=r(2),o=r(5),a=r(10),c=r(89),u=r(9);!function(e){e[e.STATUS_CONNECTING=0]="STATUS_CONNECTING",e[e.STATUS_OPEN=1]="STATUS_OPEN",e[e.STATUS_CLOSING=2]="STATUS_CLOSING",e[e.STATUS_CLOSED=3]="STATUS_CLOSED"}(n=t.TransportStatus||(t.TransportStatus={}));var d=function(e){function t(t,r){void 0===r&&(r={});var i=e.call(this,t)||this;return i.type=o.TypeStrings.Transport,i.reconnectionAttempts=0,i.status=n.STATUS_CONNECTING,i.configuration=i.loadConfig(r),i.server=i.configuration.wsServers[0],i}return i.__extends(t,e),t.prototype.isConnected=function(){return this.status===n.STATUS_OPEN},t.prototype.sendPromise=function(e,t){if(void 0===t&&(t={}),void 0===this.ws)return this.onError("unable to send message - WebSocket undefined"),Promise.reject(new Error("WebSocket undefined."));if(!this.statusAssert(n.STATUS_OPEN,t.force))return this.onError("unable to send message - WebSocket not open"),Promise.reject(new Error("WebSocket not open."));!0===this.configuration.traceSip&&this.logger.log("sending WebSocket message:\n\n"+e+"\n");try{this.ws.send(e)}catch(e){return e instanceof e&&Promise.reject(e),Promise.reject(new Error("Failed to send message."))}return Promise.resolve({msg:e})},t.prototype.disconnectPromise=function(e){var t=this;return void 0===e&&(e={}),this.disconnectionPromise?this.disconnectionPromise:(e.code=e.code||1e3,this.statusTransition(n.STATUS_CLOSING,e.force)?(this.emit("disconnecting"),this.disconnectionPromise=new Promise((function(r,n){t.disconnectDeferredResolve=r,t.reconnectTimer&&(clearTimeout(t.reconnectTimer),t.reconnectTimer=void 0),t.ws?(t.stopSendingKeepAlives(),t.logger.log("closing WebSocket "+t.server.wsUri),t.ws.close(e.code,e.reason)):n("Attempted to disconnect but the websocket doesn't exist")})),this.disconnectionPromise):this.status===n.STATUS_CLOSED?Promise.resolve({overrideEvent:!0}):this.connectionPromise?this.connectionPromise.then((function(){return Promise.reject("The websocket did not disconnect")})).catch((function(){return Promise.resolve({overrideEvent:!0})})):Promise.reject("The websocket did not disconnect"))},t.prototype.connectPromise=function(e){var t=this;return void 0===e&&(e={}),this.status!==n.STATUS_CLOSING||e.force?(this.connectionPromise||(this.server=this.server||this.getNextWsServer(e.force),this.connectionPromise=new Promise((function(r,i){if((t.status===n.STATUS_OPEN||t.status===n.STATUS_CLOSING)&&!e.force)return t.logger.warn("WebSocket "+t.server.wsUri+" is already connected"),void i("Failed status check - attempted to open a connection but already open/closing");t.connectDeferredResolve=r,t.connectDeferredReject=i,t.status=n.STATUS_CONNECTING,t.emit("connecting"),t.logger.log("connecting to WebSocket "+t.server.wsUri),t.disposeWs();try{t.ws=new WebSocket(t.server.wsUri,"sip"),t.ws.binaryType="arraybuffer"}catch(e){return t.ws=void 0,t.statusTransition(n.STATUS_CLOSED,!0),t.onError("error connecting to WebSocket "+t.server.wsUri+":"+e),i("Failed to create a websocket"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0)}if(!t.ws)return i("Unexpected instance websocket not set"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0);t.connectionTimeout=setTimeout((function(){t.statusTransition(n.STATUS_CLOSED),t.logger.warn("took too long to connect - exceeded time set in configuration.connectionTimeout: "+t.configuration.connectionTimeout+"s"),t.emit("disconnected",{code:1e3}),t.connectionPromise=void 0,i("Connection timeout"),t.connectDeferredResolve=void 0,t.connectDeferredReject=void 0;var e=t.ws;t.disposeWs(),e&&e.close(1e3)}),1e3*t.configuration.connectionTimeout),t.boundOnOpen=t.onOpen.bind(t),t.boundOnMessage=t.onMessage.bind(t),t.boundOnClose=t.onClose.bind(t),t.boundOnError=t.onWebsocketError.bind(t),t.ws.addEventListener("open",t.boundOnOpen),t.ws.addEventListener("message",t.boundOnMessage),t.ws.addEventListener("close",t.boundOnClose),t.ws.addEventListener("error",t.boundOnError)}))),this.connectionPromise):Promise.reject("WebSocket "+this.server.wsUri+" is closing")},t.prototype.onMessage=function(e){var t,r=e.data;if(/^(\r\n)+$/.test(r))return this.clearKeepAliveTimeout(),void(!0===this.configuration.traceSip&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if(r){if("string"!=typeof r){try{t=String.fromCharCode.apply(null,new Uint8Array(r))}catch(e){return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}!0===this.configuration.traceSip&&this.logger.log("received WebSocket binary message:\n\n"+r+"\n")}else!0===this.configuration.traceSip&&this.logger.log("received WebSocket text message:\n\n"+r+"\n"),t=r;this.emit("message",t)}else this.logger.warn("received empty message, message discarded")},t.prototype.onOpen=function(){if(this.status===n.STATUS_CLOSED){var e=this.ws;return this.disposeWs(),void(e&&e.close(1e3))}this.statusTransition(n.STATUS_OPEN,!0),this.emit("connected"),this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=void 0),this.logger.log("WebSocket "+this.server.wsUri+" connected"),void 0!==this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.reconnectionAttempts=0,this.disconnectionPromise=void 0,this.disconnectDeferredResolve=void 0,this.startSendingKeepAlives(),this.connectDeferredResolve?(this.connectDeferredResolve({overrideEvent:!0}),this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0):this.logger.warn("Unexpected websocket.onOpen with no connectDeferredResolve")},t.prototype.onClose=function(e){if(this.logger.log("WebSocket disconnected (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),this.status!==n.STATUS_CLOSING&&(this.logger.warn("WebSocket closed without SIP.js requesting it"),this.emit("transportError")),this.stopSendingKeepAlives(),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.connectDeferredReject&&this.connectDeferredReject("Websocket Closed"),this.connectionTimeout=void 0,this.connectionPromise=void 0,this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0,this.disconnectDeferredResolve)return this.disconnectDeferredResolve({overrideEvent:!0}),this.statusTransition(n.STATUS_CLOSED),void(this.disconnectDeferredResolve=void 0);this.statusTransition(n.STATUS_CLOSED,!0),this.emit("disconnected",{code:e.code,reason:e.reason}),this.disposeWs(),this.reconnect()},t.prototype.disposeWs=function(){this.ws&&(this.ws.removeEventListener("open",this.boundOnOpen),this.ws.removeEventListener("message",this.boundOnMessage),this.ws.removeEventListener("close",this.boundOnClose),this.ws.removeEventListener("error",this.boundOnError),this.ws=void 0)},t.prototype.onError=function(e){this.logger.warn("Transport error: "+e),this.emit("transportError")},t.prototype.onWebsocketError=function(){this.onError("The Websocket had an error")},t.prototype.reconnect=function(){var e=this;if(this.reconnectionAttempts>0&&this.logger.log("Reconnection attempt "+this.reconnectionAttempts+" failed"),this.noAvailableServers())return this.logger.warn("attempted to get next ws server but there are no available ws servers left"),this.logger.warn("no available ws servers left - going to closed state"),this.statusTransition(n.STATUS_CLOSED,!0),this.emit("closed"),void this.resetServerErrorStatus();this.isConnected()&&(this.logger.warn("attempted to reconnect while connected - forcing disconnect"),this.disconnect({force:!0})),this.reconnectionAttempts+=1,this.reconnectionAttempts>this.configuration.maxReconnectionAttempts?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.wsUri),this.logger.log("transport "+this.server.wsUri+" failed | connection state set to 'error'"),this.server.isError=!0,this.emit("transportError"),this.noAvailableServers()||(this.server=this.getNextWsServer()),this.reconnectionAttempts=0,this.reconnect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.wsUri+" (reconnection attempt "+this.reconnectionAttempts+")"),this.reconnectTimer=setTimeout((function(){e.connect(),e.reconnectTimer=void 0}),1===this.reconnectionAttempts?0:1e3*this.configuration.reconnectionTimeout))},t.prototype.resetServerErrorStatus=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++){t[e].isError=!1}},t.prototype.getNextWsServer=function(e){if(void 0===e&&(e=!1),this.noAvailableServers())throw this.logger.warn("attempted to get next ws server but there are no available ws servers left"),new Error("Attempted to get next ws server, but there are no available ws servers left.");for(var t=[],r=0,n=this.configuration.wsServers;r<n.length;r++){var i=n[r];i.isError&&!e||(0===t.length?t.push(i):i.weight>t[0].weight?t=[i]:i.weight===t[0].weight&&t.push(i))}return t[Math.floor(Math.random()*t.length)]},t.prototype.noAvailableServers=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++){if(!t[e].isError)return!1}return!0},t.prototype.sendKeepAlive=function(){var e=this;if(!this.keepAliveDebounceTimeout)return this.keepAliveDebounceTimeout=setTimeout((function(){e.emit("keepAliveDebounceTimeout"),e.clearKeepAliveTimeout()}),1e3*this.configuration.keepAliveDebounce),this.send("\r\n\r\n")},t.prototype.clearKeepAliveTimeout=function(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0},t.prototype.startSendingKeepAlives=function(){var e,t,r=this;this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval((function(){r.sendKeepAlive(),r.startSendingKeepAlives()}),(e=this.configuration.keepAliveInterval,t=.8*e,1e3*(Math.random()*(e-t)+t))))},t.prototype.stopSendingKeepAlives=function(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0},t.prototype.statusAssert=function(e,t){return e===this.status||(t?(this.logger.warn("Attempted to assert "+Object.keys(n)[this.status]+" as "+Object.keys(n)[e]+"- continuing with option: 'force'"),!0):(this.logger.warn("Tried to assert "+Object.keys(n)[e]+" but is currently "+Object.keys(n)[this.status]),!1))},t.prototype.statusTransition=function(e,t){return void 0===t&&(t=!1),this.logger.log("Attempting to transition status from "+Object.keys(n)[this.status]+" to "+Object.keys(n)[e]),e===n.STATUS_CONNECTING&&this.statusAssert(n.STATUS_CLOSED,t)||e===n.STATUS_OPEN&&this.statusAssert(n.STATUS_CONNECTING,t)||e===n.STATUS_CLOSING&&this.statusAssert(n.STATUS_OPEN,t)||e===n.STATUS_CLOSED?(this.status=e,!0):(this.logger.warn("Status transition failed - result: no-op - reason: either gave an nonexistent status or attempted illegal transition"),!1)},t.prototype.loadConfig=function(e){var t={wsServers:[{scheme:"WSS",sipUri:"<sip:edge.sip.onsip.com;transport=ws;lr>",weight:0,wsUri:"wss://edge.sip.onsip.com",isError:!1}],connectionTimeout:5,maxReconnectionAttempts:3,reconnectionTimeout:4,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!1},r=this.getConfigurationCheck();for(var n in r.mandatory){if(!e.hasOwnProperty(n))throw new a.Exceptions.ConfigurationError(n);var i=e[n];if(void 0===(s=r.mandatory[n](i)))throw new a.Exceptions.ConfigurationError(n,i);t[n]=s}for(var n in r.optional)if(e.hasOwnProperty(n)){var s;if((i=e[n])instanceof Array&&0===i.length||null===i||""===i||void 0===i||"number"==typeof i&&isNaN(i))continue;if(void 0===(s=r.optional[n](i)))throw new a.Exceptions.ConfigurationError(n,i);t[n]=s}var o={};for(var n in t)t.hasOwnProperty(n)&&(o[n]={value:t[n]});var c=Object.defineProperties({},o);for(var n in this.logger.log("configuration parameters after validation:"),t)t.hasOwnProperty(n)&&this.logger.log(" "+n+": "+JSON.stringify(t[n]));return c},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{wsServers:function(e){if("string"==typeof e)e=[{wsUri:e}];else{if(!(e instanceof Array))return;for(var t=0;t<e.length;t++)"string"==typeof e[t]&&(e[t]={wsUri:e[t]})}if(0===e.length)return!1;for(var r=0,n=e;r<n.length;r++){var i=n[r];if(!i.wsUri)return;if(i.weight&&!Number(i.weight))return;var o=s.Grammar.parse(i.wsUri,"absoluteURI");if(-1===o)return;if(["wss","ws","udp"].indexOf(o.scheme)<0)return;i.sipUri="<sip:"+o.host+(o.port?":"+o.port:"")+";transport="+o.scheme.replace(/^wss$/i,"ws")+";lr>",i.weight||(i.weight=0),i.isError=!1,i.scheme=o.scheme.toUpperCase()}return e},keepAliveInterval:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},keepAliveDebounce:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},traceSip:function(e){if("boolean"==typeof e)return e},connectionTimeout:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},maxReconnectionAttempts:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},reconnectionTimeout:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}}}}},t.C=n,t}(c.Transport);t.Transport=d},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(11),i=r(13).document,s=n(i)&&n(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t,r){e.exports=r(15)},function(e,t,r){var n=r(172),i=r(103);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(25),i=r(13),s=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(98)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(15);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(107),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK"}(t.C||(t.C={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(37),i=r(42),s=r(65);function o(e){return!(!e||"string"!=typeof e.content||"string"!=typeof e.contentType||void 0!==e.contentDisposition)||"string"==typeof e.contentDisposition}function a(e){return"application/sdp"===e?"session":"render"}t.fromBodyLegacy=function(e){var t="string"==typeof e?e:e.body,r="string"==typeof e?"application/sdp":e.contentType;return{contentDisposition:a(r),contentType:r,content:t}},t.getBody=function(e){var t,r,c,u;if(e instanceof n.IncomingRequestMessage&&e.body&&(t=(u=e.parseHeader("Content-Disposition"))?u.type:void 0,r=e.parseHeader("Content-Type"),c=e.body),e instanceof i.IncomingResponseMessage&&e.body&&(t=(u=e.parseHeader("Content-Disposition"))?u.type:void 0,r=e.parseHeader("Content-Type"),c=e.body),e instanceof s.OutgoingRequestMessage&&e.body)if(t=e.getHeader("Content-Disposition"),r=e.getHeader("Content-Type"),"string"==typeof e.body){if(!r)throw new Error("Header content type header does not equal body content type.");c=e.body}else{if(r&&r!==e.body.contentType)throw new Error("Header content type header does not equal body content type.");r=e.body.contentType,c=e.body.body}if(o(e)&&(t=e.contentDisposition,r=e.contentType,c=e.content),c){if(r&&!t&&(t=a(r)),!t)throw new Error("Content disposition undefined.");if(!r)throw new Error("Content type undefined.");return{contentDisposition:t,contentType:r,content:c}}},t.isBody=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(39),s=r(41),o=function(e){function t(r,n,i,s){var o=e.call(this)||this;return o.message=r,o.expected=n,o.found=i,o.location=s,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return n.__extends(t,e),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,r,n=e.map(s);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+(((o=t)?'"'+n(o)+'"':"end of input")+" found.");var o},t}(Error);t.SyntaxError=o,t.parse=function(e,t){t=void 0!==t?t:{};var r,n={},a={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231},c=119,u=["\r\n",y("\r\n",!1),/^[0-9]/,T([["0","9"]],!1,!1),/^[a-zA-Z]/,T([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,T([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,T([["\0",""]],!1,!1),/^["]/,T(['"'],!1,!1)," ",y(" ",!1),"\t",y("\t",!1),/^[a-zA-Z0-9]/,T([["a","z"],["A","Z"],["0","9"]],!1,!1),";",y(";",!1),"/",y("/",!1),"?",y("?",!1),":",y(":",!1),"@",y("@",!1),"&",y("&",!1),"=",y("=",!1),"+",y("+",!1),"$",y("$",!1),",",y(",",!1),"-",y("-",!1),"_",y("_",!1),".",y(".",!1),"!",y("!",!1),"~",y("~",!1),"*",y("*",!1),"'",y("'",!1),"(",y("(",!1),")",y(")",!1),"%",y("%",!1),function(){return" "},function(){return":"},/^[!-~]/,T([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,T([["",""]],!1,!1),/^[\x80-\xBF]/,T([["",""]],!1,!1),/^[a-f]/,T([["a","f"]],!1,!1),"`",y("`",!1),"<",y("<",!1),">",y(">",!1),"\\",y("\\",!1),"[",y("[",!1),"]",y("]",!1),"{",y("{",!1),"}",y("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,T([["!","'"]],!1,!1),/^[*-[]/,T([["*","["]],!1,!1),/^[\]-~]/,T([["]","~"]],!1,!1),function(e){return e},/^[#-[]/,T([["#","["]],!1,!1),/^[\0-\t]/,T([["\0","\t"]],!1,!1),/^[\x0B-\f]/,T([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,T([["",""]],!1,!1),function(){(t=t||{data:{}}).data.uri=new s.URI(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){(t=t||{data:{}}).data.uri=new s.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",y("sips",!0),"sip",y("sip",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(){(t=t||{data:{}}).data.user=decodeURIComponent(m().slice(0,-1))},function(){(t=t||{data:{}}).data.password=m()},function(){return(t=t||{data:{}}).data.host=m(),t.data.host},function(){return(t=t||{data:{}}).data.host_type="domain",m()},/^[a-zA-Z0-9_\-]/,T([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,T([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},"::",y("::",!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},function(){return(t=t||{data:{}}).data.host_type="IPv4",m()},"25",y("25",!1),/^[0-5]/,T([["0","5"]],!1,!1),"2",y("2",!1),/^[0-4]/,T([["0","4"]],!1,!1),"1",y("1",!1),/^[1-9]/,T([["1","9"]],!1,!1),function(e){return t=t||{data:{}},e=parseInt(e.join("")),t.data.port=e,e},"transport=",y("transport=",!0),"udp",y("udp",!0),"tcp",y("tcp",!0),"sctp",y("sctp",!0),"tls",y("tls",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",y("user=",!0),"phone",y("phone",!0),"ip",y("ip",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",y("method=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",y("ttl=",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",y("maddr=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",y("lr",!0),function(){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,r){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),r=null===r?void 0:r[1],t.data.uri_params[e.toLowerCase()]=r},function(e,r){e=e.join("").toLowerCase(),r=r.join(""),(t=t||{data:{}}).data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(r):t.data.uri_headers[e]=[r]},function(){"Refer_To"===(t=t||{data:{}}).startRule&&(t.data.uri=new s.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",y("//",!1),function(){(t=t||{data:{}}).data.scheme=m()},y("SIP",!0),function(){(t=t||{data:{}}).data.sip_version=m()},"INVITE",y("INVITE",!1),"ACK",y("ACK",!1),"VXACH",y("VXACH",!1),"OPTIONS",y("OPTIONS",!1),"BYE",y("BYE",!1),"CANCEL",y("CANCEL",!1),"REGISTER",y("REGISTER",!1),"SUBSCRIBE",y("SUBSCRIBE",!1),"NOTIFY",y("NOTIFY",!1),"REFER",y("REFER",!1),"PUBLISH",y("PUBLISH",!1),function(){return(t=t||{data:{}}).data.method=m(),t.data.method},function(e){(t=t||{data:{}}).data.status_code=parseInt(e.join(""))},function(){(t=t||{data:{}}).data.reason_phrase=m()},function(){(t=t||{data:{}}).data=m()},function(){var e,r;for(r=(t=t||{data:{}}).data.multi_header.length,e=0;e<r;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:l,offset:S().start.offset,parsed:e})},function(e){'"'===(e=m().trim())[0]&&(e=e.substring(1,e.length-1)),(t=t||{data:{}}).data.displayName=e},"q",y("q",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.q=e},"expires",y("expires",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",y("0",!1),function(){return parseFloat(m())},function(e,r){(t=t||{data:{}}).data.params||(t.data.params={}),r=null===r?void 0:r[1],t.data.params[e.toLowerCase()]=r},"render",y("render",!0),"session",y("session",!0),"icon",y("icon",!0),"alert",y("alert",!0),function(){"Content_Disposition"===(t=t||{data:{}}).startRule&&(t.data.type=m().toLowerCase())},"handling",y("handling",!0),"optional",y("optional",!0),"required",y("required",!0),function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(){(t=t||{data:{}}).data=m()},"text",y("text",!0),"image",y("image",!0),"audio",y("audio",!0),"video",y("video",!0),"application",y("application",!0),"message",y("message",!0),"multipart",y("multipart",!0),"x-",y("x-",!0),function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(e){(t=t||{data:{}}).data.event=e.toLowerCase()},function(){var e=(t=t||{data:{}}).data.tag;t.data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",y("tag",!0),function(e){(t=t||{data:{}}).data.tag=e},function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(){(t=t||{data:{}}).data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},"digest",y("Digest",!0),"realm",y("realm",!0),function(e){(t=t||{data:{}}).data.realm=e},"domain",y("domain",!0),"nonce",y("nonce",!0),function(e){(t=t||{data:{}}).data.nonce=e},"opaque",y("opaque",!0),function(e){(t=t||{data:{}}).data.opaque=e},"stale",y("stale",!0),"true",y("true",!0),function(){(t=t||{data:{}}).data.stale=!0},"false",y("false",!0),function(){(t=t||{data:{}}).data.stale=!1},"algorithm",y("algorithm",!0),"md5",y("MD5",!0),"md5-sess",y("MD5-sess",!0),function(e){(t=t||{data:{}}).data.algorithm=e.toUpperCase()},"qop",y("qop",!0),"auth-int",y("auth-int",!0),"auth",y("auth",!0),function(e){(t=t||{data:{}}).data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(){var e,r;for(r=(t=t||{data:{}}).data.multi_header.length,e=0;e<r;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:l,offset:S().start.offset,parsed:e})},function(){(t=t||{data:{}}).data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},function(){(t=t||{data:{}}).data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){(t=t||{data:{}}).data={call_id:t.data}},"from-tag",y("from-tag",!0),function(e){(t=t||{data:{}}).data.replaces_from_tag=e},"to-tag",y("to-tag",!0),function(e){(t=t||{data:{}}).data.replaces_to_tag=e},"early-only",y("early-only",!0),function(){(t=t||{data:{}}).data.early_only=!0},function(e,t){return t},function(e,t){return function(e,t){return[e].concat(t)}(e,t)},function(e){"Require"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},"active",y("active",!0),"pending",y("pending",!0),"terminated",y("terminated",!0),function(){(t=t||{data:{}}).data.state=m()},"reason",y("reason",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.reason=e)},function(e){t=t||{data:{}},void 0!==e&&(t.data.expires=e)},"retry_after",y("retry_after",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.retry_after=e)},"deactivated",y("deactivated",!0),"probation",y("probation",!0),"rejected",y("rejected",!0),"timeout",y("timeout",!0),"giveup",y("giveup",!0),"noresource",y("noresource",!0),"invariant",y("invariant",!0),function(e){"Supported"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(){var e=(t=t||{data:{}}).data.tag;t.data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",y("ttl",!0),function(e){(t=t||{data:{}}).data.ttl=e},"maddr",y("maddr",!0),function(e){(t=t||{data:{}}).data.maddr=e},"received",y("received",!0),function(e){(t=t||{data:{}}).data.received=e},"branch",y("branch",!0),function(e){(t=t||{data:{}}).data.branch=e},"rport",y("rport",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.rport=e.join(""))},function(e){(t=t||{data:{}}).data.protocol=e},y("UDP",!0),y("TCP",!0),y("TLS",!0),y("SCTP",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data.host=m()},function(e){(t=t||{data:{}}).data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.deltaSeconds=e)},"refresher",y("refresher",!1),"uas",y("uas",!1),"uac",y("uac",!1),function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.refresher=e)},function(e){"Min_SE"===(t=t||{data:{}}).startRule&&(t.data=e)},"stuns",y("stuns",!0),"stun",y("stun",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(e){(t=t||{data:{}}).data.host=e},"?transport=",y("?transport=",!1),"turns",y("turns",!0),"turn",y("turn",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data=m()},"Referred-By",y("Referred-By",!1),"b",y("b",!1),"cid",y("cid",!1)],d=[R('2 ""6 7!'),R('4"""5!7#'),R('4$""5!7%'),R('4&""5!7\''),R(";'.# &;("),R('4(""5!7)'),R('4*""5!7+'),R('2,""6,7-'),R('2.""6.7/'),R('40""5!71'),R('22""6273. &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),R(";).# &;,"),R('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),R('%%2X""6X7Y/5#;#/,$;#/#$+#)(#\'#("\'#&\'#/"!&,)'),R('%%$;$0#*;$&/,#; /#$+")("\'#&\'#." &"/=#$;$/&#0#*;$&&&#/\'$8":Z" )("\'#&\'#'),R(';.." &"'),R("%$;'.# &;(0)*;'.# &;(&/?#28\"\"6879/0$;//'$8#:[# )(#'#(\"'#&'#"),R('%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("\'#&\'#0=*%$;.0#*;.&/,#;2/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),R('4\\""5!7].# &;3'),R('4^""5!7_'),R('4`""5!7a'),R(';!.) &4b""5!7c'),R('%$;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G. &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),R('%$;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/#0*;). &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),R('2T""6T7U. &2V""6V7W. &2f""6f7g. &2h""6h7i. &2:""6:7;. &2D""6D7E. &22""6273. &28""6879. &2j""6j7k. &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;\'.# &;('),R('%$;). &2F""6F7G. &2J""6J7K. &2L""6L7M. &2X""6X7Y. &2P""6P7Q. &2H""6H7I. &2@""6@7A. &2d""6d7e. &2R""6R7S. &2N""6N7O. &2T""6T7U. &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/#0*;). &2F""6F7G. &2J""6J7K. &2L""6L7M. &2X""6X7Y. &2P""6P7Q. &2H""6H7I. &2@""6@7A. &2d""6d7e. &2R""6R7S. &2N""6N7O. &2T""6T7U. &2V""6V7W. &2f""6f7g. &2h""6h7i. &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),R("%;//?#2P\"\"6P7Q/0$;//'$8#:t# )(#'#(\"'#&'#"),R("%;//?#24\"\"6475/0$;//'$8#:u# )(#'#(\"'#&'#"),R("%;//?#2>\"\"6>7?/0$;//'$8#:v# )(#'#(\"'#&'#"),R("%;//?#2T\"\"6T7U/0$;//'$8#:w# )(#'#(\"'#&'#"),R("%;//?#2V\"\"6V7W/0$;//'$8#:x# )(#'#(\"'#&'#"),R('%2h""6h7i/0#;//\'$8":y" )("\'#&\'#'),R('%;//6#2f""6f7g/\'$8":z" )("\'#&\'#'),R("%;//?#2D\"\"6D7E/0$;//'$8#:{# )(#'#(\"'#&'#"),R("%;//?#22\"\"6273/0$;//'$8#:|# )(#'#(\"'#&'#"),R("%;//?#28\"\"6879/0$;//'$8#:}# )(#'#(\"'#&'#"),R("%;//0#;&/'$8\":~\" )(\"'#&'#"),R("%;&/0#;//'$8\":~\" )(\"'#&'#"),R("%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#(\"'#&'#"),R('4""5!7.A &4""5!7.5 &4""5!7.) &;3.# &;.'),R("%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#(\"'#&'#/\"!&,)"),R("%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/\"!&,)/1$;&/($8$:$!!)($'#(#'#(\"'#&'#"),R(';..G &2L""6L7M.; &4""5!7./ &4""5!7.# &;3'),R('%2j""6j7k/J#4""5!7.5 &4""5!7.) &4""5!7/#$+")("\'#&\'#'),R("%;N/M#28\"\"6879/>$;O.\" &\"/0$;S/'$8$:$ )($'#(#'#(\"'#&'#"),R("%;N/d#28\"\"6879/U$;O.\" &\"/G$;S/>$;_/5$;l.\" &\"/'$8&:& )(&'#(%'#($'#(#'#(\"'#&'#"),R('%3""5$7.) &3""5#7/\' 8!:!! )'),R('%;P/]#%28""6879/,#;R/#$+")("\'#&\'#." &"/6$2:""6:7;/\'$8#:# )(#\'#("\'#&\'#'),R("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),R('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),R('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:! )'),R('%;T/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R("%;U.) &;\\.# &;X/& 8!:! )"),R('%$%;V/2#2J""6J7K/#$+")("\'#&\'#0<*%;V/2#2J""6J7K/#$+")("\'#&\'#&/D#;W/;$2J""6J7K." &"/\'$8#:# )(#\'#("\'#&\'#'),R('$4""5!7/,#0)*4""5!7&&&#'),R('%4$""5!7%/?#$4""5!70)*4""5!7&/#$+")("\'#&\'#'),R('%2l""6l7m/?#;Y/6$2n""6n7o/\'$8#:# )(#\'#("\'#&\'#'),R('%%;Z/#28""6879/$;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/#;Z/$28""6879/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/#;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%2""67/D#;Z/;$28""6879/,$;[/#$+$)($\'#(#\'#("\'#&\'#. &%2""67/,#;[/#$+")("\'#&\'#. &%2""67/,#;Z/#$+")("\'#&\'#. &%;Z/#2""67/$;Z/$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$2""67/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/k$2""67/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/z$%28""6879/,#;Z/#$+")("\'#&\'#." &"/S$2""67/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2""67/,$;[/#$+\')(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2""67/,$;Z/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Y$%28""6879/,#;Z/#$+")("\'#&\'#." &"/2$2""67/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:! )'),R('%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($\'#(#\'#("\'#&\'#'),R("%;Z/;#28\"\"6879/,$;Z/#$+#)(#'#(\"'#&'#.# &;\\"),R("%;]/o#2J\"\"6J7K/`$;]/W$2J\"\"6J7K/H$;]/?$2J\"\"6J7K/0$;]/'$8':' )(''#(&'#(%'#($'#(#'#(\"'#&'#"),R('%2""67/2#4""5!7/#$+")("\'#&\'#. &%2""67/;#4""5!7/,$;!/#$+#)(#\'#("\'#&\'#.j &%2""67/5#;!/,$;!/#$+#)(#\'#("\'#&\'#.B &%4""5!7/,#;!/#$+")("\'#&\'#.# &;!'),R('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:!! )'),R('$%22""6273/,#;`/#$+")("\'#&\'#0<*%22""6273/,#;`/#$+")("\'#&\'#&'),R(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),R('%3""5*7/a#3""5#7.G &3""5#7.; &3""5$7./ &3""5#7.# &;6/($8":"! )("\'#&\'#'),R('%3""5%7/I#3""5%7./ &3""5"7.# &;6/($8":"! )("\'#&\'#'),R('%3""5\'7/1#;/($8":"! )("\'#&\'#'),R('%3""5$7/1#;/($8":"! )("\'#&\'#'),R('%3""5&7/1#;T/($8":"! )("\'#&\'#'),R('%3""5"7/N#%2>""6>7?/,#;6/#$+")("\'#&\'#." &"/\'$8":" )("\'#&\'#'),R('%;h/P#%2>""6>7?/,#;i/#$+")("\'#&\'#." &"/)$8":""! )("\'#&\'#'),R('%$;j/&#0#*;j&&&#/"!&,)'),R('%$;j/&#0#*;j&&&#/"!&,)'),R(";k.) &;+.# &;-"),R('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),R('%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("\'#&\'#0<*%2<""6<7=/,#;m/#$+")("\'#&\'#&/#$+#)(#\'#("\'#&\'#'),R('%;n/A#2>""6>7?/2$;o/)$8#:#"" )(#\'#("\'#&\'#'),R("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),R("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),R('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),R(";.# &;r"),R("%;/G#;'/>$;s/5$;'/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R(";M.# &;t"),R("%;/E#28\"\"6879/6$;u.# &;x/'$8#:# )(#'#(\"'#&'#"),R('%;v.# &;w/J#%26""6677/,#;/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R('%2""67/:#;/1$;w." &"/#$+#)(#\'#("\'#&\'#'),R('%24""6475/,#;{/#$+")("\'#&\'#'),R("%;z/3#$;y0#*;y&/#$+\")(\"'#&'#"),R(";*.) &;+.# &;-"),R(';+. &;-. &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),R('%;|/e#$%24""6475/,#;|/#$+")("\'#&\'#0<*%24""6475/,#;|/#$+")("\'#&\'#&/#$+")("\'#&\'#'),R('%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("\'#&\'#0<*%22""6273/,#;}/#$+")("\'#&\'#&/#$+")("\'#&\'#'),R("$;~0#*;~&"),R(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),R('%%;"/#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("\'#&\'#/& 8!:! )'),R(";.# &;"),R('%%;O/2#2:""6:7;/#$+")("\'#&\'#." &"/,#;S/#$+")("\'#&\'#." &"'),R('$;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/#0*;+. &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),R("$;y0#*;y&"),R('%3""5#7/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/\'$8%:% )(%\'#($\'#(#\'#("\'#&\'#'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R('2""67'),R("%;.Y &;.S &;.M &;.G &;.A &;.; &;.5 &;./ &;.) &;.# &;6/& 8!:! )"),R("%;/G#;'/>$;/5$;'/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R("%;/' 8!:!! )"),R("%;!/5#;!/,$;!/#$+#)(#'#(\"'#&'#"),R("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:! )"),R("%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R('%;9/N#%2:""6:7;/,#;9/#$+")("\'#&\'#." &"/\'$8":" )("\'#&\'#'),R("%;:.c &%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#/& 8!:! )"),R("%;L.# &;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R("%;.\" &\"/>#;@/5$;M/,$;?/#$+$)($'#(#'#(\"'#&'#"),R("%%;6/Y#$%;./,#;6/#$+\")(\"'#&'#06*%;./,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#.# &;H/' 8!:!! )"),R(";.) &;.# &;"),R("%3\"\"5!7/:#;</1$;/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5'7/:#;</1$;/($8#:#! )(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R('%2""67/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/\'$8":" )("\'#&\'#'),R('%;6/J#%;</,#;/#$+")("\'#&\'#." &"/)$8":""! )("\'#&\'#'),R(";6.) &;T.# &;H"),R("%;/Y#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R('%3""5&7.G &3""5\'7.; &3""5$7./ &3""5%7.# &;6/& 8!:! )'),R(";.# &;"),R('%3""5(7/M#;</D$3""5(7./ &3""5(7.# &;6/#$+#)(#\'#("\'#&\'#'),R("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/& 8!:! )"),R("%;/k#;;/b$;/Y$$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),R(";.# &;"),R('3""5$7.S &3""5%7.G &3""5%7.; &3""5%7./ &3""5+7.# &;'),R('3""5\'7./ &3""5)7.# &;'),R(";6.# &;"),R('%3""5"7/,#;6/#$+")("\'#&\'#'),R(";.# &;6"),R("%;6/5#;</,$;/#$+#)(#'#(\"'#&'#"),R(";6.# &;H"),R("%;/5#;./,$;/#$+#)(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/' 8!:!! )"),R('%;/^#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/($8":"!!)("\'#&\'#'),R('%%;7/e#$%2J""6J7K/,#;7/#$+")("\'#&\'#0<*%2J""6J7K/,#;7/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),R("%;L.# &;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R(";.# &;"),R("%3\"\"5#7/:#;</1$;6/($8#:#! )(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/' 8!:!! )"),R("%$;0#*;&/x#;@/o$;M/f$;?/]$$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8%:% )(%'#($'#(#'#(\"'#&'#"),R(";"),R("%3\"\"5&7/k#;./b$;/Y$$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#.# &;"),R("%;6/k#;./b$;/Y$$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),R("%;6/;#;</2$;6.# &;H/#$+#)(#'#(\"'#&'#"),R(";.G &;.A &;.; &;.5 &;./ &;.) &;.# &;"),R("%3\"\"5%7/5#;</,$;/#$+#)(#'#(\"'#&'#"),R("%;I/' 8!:!! )"),R("%3\"\"5&7/#;</$;D/$;/|$$%$;'/&#0#*;'&&&#/,#;/#$+\")(\"'#&'#0C*%$;'/&#0#*;'&&&#/,#;/#$+\")(\"'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),R(";t.# &;w"),R("%3\"\"5%7/5#;</,$;/#$+#)(#'#(\"'#&'#"),R("%;I/' 8!:!! )"),R("%3\"\"5&7/:#;</1$;I/($8#:#! )(#'#(\"'#&'#"),R('%3""5%7/]#;</T$%3""5$7/& 8!:! ).4 &%3""5%7/& 8!:! )/#$+#)(#\'#("\'#&\'#'),R('%3""5)7/R#;</I$3""5#7./ &3""5(7.# &;6/($8#:#! )(#\'#("\'#&\'#'),R('%3""5#7/#;</$;D/$%;/e#$%2D""6D7E/,#;/#$+")("\'#&\'#0<*%2D""6D7E/,#;/#$+")("\'#&\'#&/#$+")("\'#&\'#/,$;E/#$+%)(%\'#($\'#(#\'#("\'#&\'#'),R('%3""5(7./ &3""5$7.# &;6/\' 8!:!! )'),R("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%;/G#;./>$;/5$;./,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/]#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R("%;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R('%;L.O &;.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#\'#("\'#&\'#/]#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/\'$8":" )("\'#&\'#'),R("%;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R("%;/& 8!:! )"),R('%3""5(7/:#;</1$;6/($8#:#! )(#\'#("\'#&\'#.g &%3""5&7/:#;</1$;6/($8#:#! )(#\'#("\'#&\'#.: &%3""5*7/& 8!:! ).# &;'),R('%%;6/k#$%;A/2#;6/)$8":""$ )("\'#&\'#0<*%;A/2#;6/)$8":""$ )("\'#&\'#&/)$8":""! )("\'#&\'#." &"/\' 8!:!! )'),R("%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%;/Y#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%$;!/&#0#*;!&&&#/' 8!:!! )"),R("%;/Y#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R('%3""5&7.; &3""5\'7./ &3""5*7.# &;6/& 8!:! )'),R("%3\"\"5&7/:#;</1$;/($8#:#! )(#'#(\"'#&'#.} &%3\"\"5'7/:#;</1$;/($8#:#! )(#'#(\"'#&'#.P &%3\"\"5+7/:#;</1$;/($8#:#! )(#'#(\"'#&'#.# &;"),R('3""5+7.k &3""5)7._ &3""5(7.S &3""5\'7.G &3""5&7.; &3""5*7./ &3""5)7.# &;6'),R(';1." &"'),R('%%;6/k#$%;A/2#;6/)$8":""$ )("\'#&\'#0<*%;A/2#;6/)$8":""$ )("\'#&\'#&/)$8":""! )("\'#&\'#." &"/\' 8!:!! )'),R("%;L.# &;/]#$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/'$8\":\" )(\"'#&'#"),R(";.# &;"),R("%;/Y#$%;A/,#;/#$+\")(\"'#&'#06*%;A/,#;/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),R("%;/k#;./b$;/Y$$%;B/,#;/#$+\")(\"'#&'#06*%;B/,#;/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),R(";.; &;.5 &;./ &;.) &;.# &;"),R("%3\"\"5#7/:#;</1$;/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5%7/:#;</1$;T/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5(7/F#;</=$;\\.) &;Y.# &;X/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5&7/:#;</1$;6/($8#:#! )(#'#(\"'#&'#"),R("%3\"\"5%7/A#;</8$$;!0#*;!&/($8#:#! )(#'#(\"'#&'#"),R("%;/G#;;/>$;6/5$;;/,$;/#$+%)(%'#($'#(#'#(\"'#&'#"),R('%3""5#7.# &;6/\' 8!:!! )'),R('%3""5#7.G &3""5#7.; &3""5#7./ &3""5$7.# &;6/\' 8!:!! )'),R('%;/D#%;C/,#;/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R("%;U.) &;\\.# &;X/& 8!:! )"),R('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:!! )'),R('%%;!/?#;!." &"/1$;!." &"/#$+#)(#\'#("\'#&\'#/\' 8!:!! )'),R(";"),R('%;/^#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/($8":"!!)("\'#&\'#'),R(";.# &;"),R('%2""67/L#;</C$2""67.) &2""67/($8#:#! )(#\'#("\'#&\'#'),R('%;/^#$%;B/,#;/#$+")("\'#&\'#06*%;B/,#;/#$+")("\'#&\'#&/($8":"!!)("\'#&\'#'),R("%;6/5#;0/,$;/#$+#)(#'#(\"'#&'#"),R("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),R("$;%0#*;%&"),R("%;/;#28\"\"6879/,$;/#$+#)(#'#(\"'#&'#"),R('%3""5%7.) &3""5$7/\' 8!:!! )'),R('%;/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),R("%;\\.) &;X.# &;/' 8!:!! )"),R(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),R('2L""6L7M. &2B""6B7C. &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),R('%;/b#28""6879/S$;/J$%2""67/,#;/#$+")("\'#&\'#." &"/#$+$)($\'#(#\'#("\'#&\'#'),R('%3""5%7.) &3""5$7/\' 8!:!! )'),R('%3""5#7.6 &3""5#7.* &$;+0#*;+&/\' 8!:!! )'),R("%;/#2F\"\"6F7G/x$;/o$2F\"\"6F7G/`$;/W$2F\"\"6F7G/H$;/?$2F\"\"6F7G/0$;/'$8):) )()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),R("%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#(\"'#&'#"),R("%;/,#;/#$+\")(\"'#&'#"),R("%;/5#;/,$;/#$+#)(#'#(\"'#&'#"),R("%;q/T#$;m0#*;m&/D$%; /,#;/#$+\")(\"'#&'#.\" &\"/#$+#)(#'#(\"'#&'#"),R('%2""67.) &2""67/w#;0/n$;/e$$%;B/2#;.# &;/#$+")("\'#&\'#0<*%;B/2#;.# &;/#$+")("\'#&\'#&/#$+$)($\'#(#\'#("\'#&\'#'),R(";.# &;L"),R("%2\"\"67/5#;</,$;/#$+#)(#'#(\"'#&'#"),R("%;D/S#;,/J$2:\"\"6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#(\"'#&'#")],l=0,p=0,h=[{line:1,column:1}],f=0,g=[],v=0;if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=a[t.startRule]}function m(){return e.substring(p,l)}function S(){return E(p,l)}function y(e,t){return{type:"literal",text:e,ignoreCase:t}}function T(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function b(t){var r,n=h[t];if(n)return n;for(r=t-1;!h[r];)r--;for(n={line:(n=h[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return h[t]=n,n}function E(e,t){var r=b(e),n=b(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function _(e){l<f||(l>f&&(f=l,g=[]),g.push(e))}function C(e,t,r){return new o(o.buildMessage(e,t),e,t,r)}function R(e){return e.split("").map((function(e){return e.charCodeAt(0)-32}))}if(t.data={},(r=function t(r){for(var i,s=d[r],o=0,a=[],c=s.length,h=[],f=[];;){for(;o<c;)switch(s[o]){case 0:f.push(u[s[o+1]]),o+=2;break;case 1:f.push(void 0),o++;break;case 2:f.push(null),o++;break;case 3:f.push(n),o++;break;case 4:f.push([]),o++;break;case 5:f.push(l),o++;break;case 6:f.pop(),o++;break;case 7:l=f.pop(),o++;break;case 8:f.length-=s[o+1],o+=2;break;case 9:f.splice(-2,1),o++;break;case 10:f[f.length-2].push(f.pop()),o++;break;case 11:f.push(f.splice(f.length-s[o+1],s[o+1])),o+=2;break;case 12:f.push(e.substring(f.pop(),l)),o++;break;case 13:h.push(c),a.push(o+3+s[o+1]+s[o+2]),f[f.length-1]?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 14:h.push(c),a.push(o+3+s[o+1]+s[o+2]),f[f.length-1]===n?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 15:h.push(c),a.push(o+3+s[o+1]+s[o+2]),f[f.length-1]!==n?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 16:f[f.length-1]!==n?(h.push(c),a.push(o),c=o+2+s[o+1],o+=2):o+=2+s[o+1];break;case 17:h.push(c),a.push(o+3+s[o+1]+s[o+2]),e.length>l?(c=o+3+s[o+1],o+=3):(c=o+3+s[o+1]+s[o+2],o+=3+s[o+1]);break;case 18:h.push(c),a.push(o+4+s[o+2]+s[o+3]),e.substr(l,u[s[o+1]].length)===u[s[o+1]]?(c=o+4+s[o+2],o+=4):(c=o+4+s[o+2]+s[o+3],o+=4+s[o+2]);break;case 19:h.push(c),a.push(o+4+s[o+2]+s[o+3]),e.substr(l,u[s[o+1]].length).toLowerCase()===u[s[o+1]]?(c=o+4+s[o+2],o+=4):(c=o+4+s[o+2]+s[o+3],o+=4+s[o+2]);break;case 20:h.push(c),a.push(o+4+s[o+2]+s[o+3]),u[s[o+1]].test(e.charAt(l))?(c=o+4+s[o+2],o+=4):(c=o+4+s[o+2]+s[o+3],o+=4+s[o+2]);break;case 21:f.push(e.substr(l,s[o+1])),l+=s[o+1],o+=2;break;case 22:f.push(u[s[o+1]]),l+=u[s[o+1]].length,o+=2;break;case 23:f.push(n),0===v&&_(u[s[o+1]]),o+=2;break;case 24:p=f[f.length-1-s[o+1]],o+=2;break;case 25:p=l,o++;break;case 26:i=s.slice(o+4,o+4+s[o+3]).map((function(e){return f[f.length-1-e]})),f.splice(f.length-s[o+2],s[o+2],u[s[o+1]].apply(null,i)),o+=4+s[o+3];break;case 27:f.push(t(s[o+1])),o+=2;break;case 28:v++,o++;break;case 29:v--,o++;break;default:throw new Error("Invalid opcode: "+s[o]+".")}if(!(h.length>0))break;c=h.pop(),o=a.pop()}return f[0]}(c))!==n&&l===e.length)return r;throw r!==n&&l<e.length&&_({type:"end"}),C(g,f<e.length?e.charAt(f):null,f<e.length?E(f,f+1):E(f,f))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importDefault(r(111)),i=r(17),s=function(){function e(e,t,r){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=t,this.password=r,this.nc=0,this.ncHex="00000000"}return e.prototype.authenticate=function(e,t,r){if(this.algorithm=t.algorithm,this.realm=t.realm,this.nonce=t.nonce,this.opaque=t.opaque,this.stale=t.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(t.qop)if(t.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(t.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=i.createRandomToken(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(r),!0},e.prototype.toString=function(){var e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")},e.prototype.updateNcHex=function(){var e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e},e.prototype.calculateResponse=function(e){var t,r=n.default(this.username+":"+this.realm+":"+this.password);"auth"===this.qop?(t=n.default(this.method+":"+this.uri),this.response=n.default(r+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+t)):"auth-int"===this.qop?(t=n.default(this.method+":"+this.uri+":"+n.default(e||"")),this.response=n.default(r+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+t)):void 0===this.qop&&(t=n.default(this.method+":"+this.uri),this.response=n.default(r+":"+this.nonce+":"+t))},e}();t.DigestAuthentication=s},function(e,t,r){var n;e.exports=(n=r(112),function(e){var t=n,r=t.lib,i=r.WordArray,s=r.Hasher,o=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,o=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],g=e[t+4],v=e[t+5],m=e[t+6],S=e[t+7],y=e[t+8],T=e[t+9],b=e[t+10],E=e[t+11],_=e[t+12],C=e[t+13],R=e[t+14],w=e[t+15],A=s[0],I=s[1],O=s[2],x=s[3];A=u(A,I,O,x,o,7,a[0]),x=u(x,A,I,O,c,12,a[1]),O=u(O,x,A,I,h,17,a[2]),I=u(I,O,x,A,f,22,a[3]),A=u(A,I,O,x,g,7,a[4]),x=u(x,A,I,O,v,12,a[5]),O=u(O,x,A,I,m,17,a[6]),I=u(I,O,x,A,S,22,a[7]),A=u(A,I,O,x,y,7,a[8]),x=u(x,A,I,O,T,12,a[9]),O=u(O,x,A,I,b,17,a[10]),I=u(I,O,x,A,E,22,a[11]),A=u(A,I,O,x,_,7,a[12]),x=u(x,A,I,O,C,12,a[13]),O=u(O,x,A,I,R,17,a[14]),A=d(A,I=u(I,O,x,A,w,22,a[15]),O,x,c,5,a[16]),x=d(x,A,I,O,m,9,a[17]),O=d(O,x,A,I,E,14,a[18]),I=d(I,O,x,A,o,20,a[19]),A=d(A,I,O,x,v,5,a[20]),x=d(x,A,I,O,b,9,a[21]),O=d(O,x,A,I,w,14,a[22]),I=d(I,O,x,A,g,20,a[23]),A=d(A,I,O,x,T,5,a[24]),x=d(x,A,I,O,R,9,a[25]),O=d(O,x,A,I,f,14,a[26]),I=d(I,O,x,A,y,20,a[27]),A=d(A,I,O,x,C,5,a[28]),x=d(x,A,I,O,h,9,a[29]),O=d(O,x,A,I,S,14,a[30]),A=l(A,I=d(I,O,x,A,_,20,a[31]),O,x,v,4,a[32]),x=l(x,A,I,O,y,11,a[33]),O=l(O,x,A,I,E,16,a[34]),I=l(I,O,x,A,R,23,a[35]),A=l(A,I,O,x,c,4,a[36]),x=l(x,A,I,O,g,11,a[37]),O=l(O,x,A,I,S,16,a[38]),I=l(I,O,x,A,b,23,a[39]),A=l(A,I,O,x,C,4,a[40]),x=l(x,A,I,O,o,11,a[41]),O=l(O,x,A,I,f,16,a[42]),I=l(I,O,x,A,m,23,a[43]),A=l(A,I,O,x,T,4,a[44]),x=l(x,A,I,O,_,11,a[45]),O=l(O,x,A,I,w,16,a[46]),A=p(A,I=l(I,O,x,A,h,23,a[47]),O,x,o,6,a[48]),x=p(x,A,I,O,S,10,a[49]),O=p(O,x,A,I,R,15,a[50]),I=p(I,O,x,A,v,21,a[51]),A=p(A,I,O,x,_,6,a[52]),x=p(x,A,I,O,f,10,a[53]),O=p(O,x,A,I,b,15,a[54]),I=p(I,O,x,A,c,21,a[55]),A=p(A,I,O,x,y,6,a[56]),x=p(x,A,I,O,w,10,a[57]),O=p(O,x,A,I,m,15,a[58]),I=p(I,O,x,A,C,21,a[59]),A=p(A,I,O,x,g,6,a[60]),x=p(x,A,I,O,E,10,a[61]),O=p(O,x,A,I,h,15,a[62]),I=p(I,O,x,A,T,21,a[63]),s[0]=s[0]+A|0,s[1]=s[1]+I|0,s[2]=s[2]+O|0,s[3]=s[3]+x|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var s=e.floor(n/4294967296),o=n;r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return a},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,s,o){var a=e+(t&r|~t&n)+i+o;return(a<<s|a>>>32-s)+t}function d(e,t,r,n,i,s,o){var a=e+(t&n|r&~n)+i+o;return(a<<s|a>>>32-s)+t}function l(e,t,r,n,i,s,o){var a=e+(t^r^n)+i+o;return(a<<s|a>>>32-s)+t}function p(e,t,r,n,i,s,o){var a=e+(r^(t|~n))+i+o;return(a<<s|a>>>32-s)+t}t.MD5=s._createHelper(c),t.HmacMD5=s._createHmacHelper(c)}(Math),n.MD5)},function(e,t,r){var n;e.exports=(n=n||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},s=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},s=0;s<t;s+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new o.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},d=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,i);if(c){for(var d=0;d<c;d+=s)this._doProcessBlock(n,d);var l=n.splice(0,c);r.sigBytes-=u}return new o.init(l,u)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=l.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math),n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17);t.constructOutgoingResponse=function(e,t){if(t.statusCode<100||t.statusCode>699)throw new TypeError("Invalid statusCode: "+t.statusCode);var r=t.reasonPhrase?t.reasonPhrase:n.getReasonPhrase(t.statusCode),i="SIP/2.0 "+t.statusCode+" "+r+"\r\n";t.statusCode>=100&&t.statusCode,t.statusCode;var s="From: "+e.getHeader("From")+"\r\n",o="Call-ID: "+e.callId+"\r\n",a="CSeq: "+e.cseq+" "+e.method+"\r\n",c=e.getHeaders("via").reduce((function(e,t){return e+"Via: "+t+"\r\n"}),""),u="To: "+e.getHeader("to");if(t.statusCode>100&&!e.parseHeader("to").hasParam("tag")){var d=t.toTag;d||(d=n.newTag()),u+=";tag="+d}u+="\r\n";var l="";t.supported&&(l="Supported: "+t.supported.join(", ")+"\r\n");var p="";t.userAgent&&(p="User-Agent: "+t.userAgent+"\r\n");var h="";return t.extraHeaders&&(h=t.extraHeaders.reduce((function(e,t){return e+t.trim()+"\r\n"}),"")),i+=c,i+=s,i+=u,i+=a,i+=o,i+=l,i+=p,i+=h,t.body?(i+="Content-Type: "+t.body.contentType+"\r\n",i+="Content-Length: "+n.str_utf8_length(t.body.content)+"\r\n\r\n",i+=t.body.content):i+="Content-Length: 0\r\n\r\n",{message:i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),i=r(37),s=r(42);!function(e){function t(e,t){var r=t,n=0,i=0;if(e.substring(r,r+2).match(/(^\r\n)/))return-2;for(;0===n;){if(-1===(i=e.indexOf("\r\n",r)))return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?r=i+2:n=i}return n}function r(e,t,r,i){var o,a=t.indexOf(":",r),c=t.substring(r,a).trim(),u=t.substring(a+1,i).trim();switch(c.toLowerCase()){case"via":case"v":e.addHeader("via",u),1===e.getHeaders("via").length?(o=e.parseHeader("Via"))&&(e.via=o,e.viaBranch=o.branch):o=0;break;case"from":case"f":e.setHeader("from",u),(o=e.parseHeader("from"))&&(e.from=o,e.fromTag=o.getParam("tag"));break;case"to":case"t":e.setHeader("to",u),(o=e.parseHeader("to"))&&(e.to=o,e.toTag=o.getParam("tag"));break;case"record-route":if(-1===(o=n.Grammar.parse(u,"Record_Route"))){o=void 0;break}if(!(o instanceof Array)){o=void 0;break}o.forEach((function(t){e.addHeader("record-route",u.substring(t.position,t.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=t.parsed}));break;case"call-id":case"i":e.setHeader("call-id",u),(o=e.parseHeader("call-id"))&&(e.callId=u);break;case"contact":case"m":if(-1===(o=n.Grammar.parse(u,"Contact"))){o=void 0;break}if(!(o instanceof Array)){o=void 0;break}o.forEach((function(t){e.addHeader("contact",u.substring(t.position,t.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=t.parsed}));break;case"content-length":case"l":e.setHeader("content-length",u),o=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",u),o=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",u),(o=e.parseHeader("cseq"))&&(e.cseq=o.value),e instanceof s.IncomingResponseMessage&&(e.method=o.method);break;case"max-forwards":e.setHeader("max-forwards",u),o=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",u),o=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",u),o=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",u),(o=e.parseHeader("refer-to"))&&(e.referTo=o);break;default:e.addHeader(c.toLowerCase(),u),o=0}return void 0!==o||{error:"error parsing header '"+c+"'"}}e.getHeader=t,e.parseHeader=r,e.parseMessage=function(e,o){var a=0,c=e.indexOf("\r\n");if(-1!==c){var u,d=e.substring(0,c),l=n.Grammar.parse(d,"Request_Response");if(-1!==l){var p;for(l.status_code?((u=new s.IncomingResponseMessage).statusCode=l.status_code,u.reasonPhrase=l.reason_phrase):((u=new i.IncomingRequestMessage).method=l.method,u.ruri=l.uri),u.data=e,a=c+2;;){if(-2===(c=t(e,a))){p=a+2;break}if(-1===c)return void o.error("malformed message");if(!0!==r(u,e,a,c))return void o.error(l.error);a=c+2}return u.hasHeader("content-length")?u.body=e.substr(p,Number(u.getHeader("content-length"))):u.body=e.substring(p),u}o.warn('error parsing first line of SIP message: "'+d+'"')}else o.warn("no CRLF found, not a SIP message, discarded")}}(t.Parser||(t.Parser={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(30),o=r(12),a=r(1),c=r(67),u=r(68),d=r(69),l=r(70),p=r(71),h=r(72),f=r(73),g=r(47),v=r(74),m=r(75),S=r(76),y=r(77),T=r(78),b=r(79),E=function(e){function t(t,r,n,i){var o=e.call(this,r,n)||this;return o.initialTransaction=t,o._signalingState=s.SignalingState.Initial,o.ackWait=!1,o.delegate=i,t instanceof a.InviteServerTransaction&&(o.ackWait=!0),o.early||o.start2xxRetransmissionTimer(),o.signalingStateTransition(t.request),o.logger=r.loggerFactory.getLogger("sip.invite-dialog"),o.logger.log("INVITE dialog "+o.id+" constructed"),o}return n.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._signalingState=s.SignalingState.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log("INVITE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"sessionState",{get:function(){return this.early?s.SessionState.Early:this.ackWait?s.SessionState.AckWait:this._signalingState===s.SignalingState.Closed?s.SessionState.Terminated:s.SessionState.Confirmed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._signalingState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offer",{get:function(){return this._offer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"answer",{get:function(){return this._answer},enumerable:!0,configurable:!0}),t.prototype.confirm=function(){this.early&&this.start2xxRetransmissionTimer(),e.prototype.confirm.call(this)},t.prototype.reConfirm=function(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()},t.prototype.ack=function(e){var t;if(void 0===e&&(e={}),this.logger.log("INVITE dialog "+this.id+" sending ACK request"),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof a.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");t=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof a.InviteClientTransaction))throw new Error("Initial transaction not instance of InviteClientTransaction.");t=this.initialTransaction}e.cseq=t.request.cseq;var r=this.createOutgoingRequestMessage(i.C.ACK,e);return t.ackResponse(r),this.signalingStateTransition(r),{message:r}},t.prototype.bye=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending BYE request"),this.initialTransaction instanceof a.InviteServerTransaction){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==a.TransactionState.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new c.ByeUserAgentClient(this,e,t)},t.prototype.info=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INFO request"),this.early)throw new Error("Dialog not confirmed.");return new d.InfoUserAgentClient(this,e,t)},t.prototype.invite=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INVITE request"),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new S.ReInviteUserAgentClient(this,e,t)},t.prototype.message=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending MESSAGE request"),this.early)throw new Error("Dialog not confirmed.");var r=this.createOutgoingRequestMessage(i.C.MESSAGE,t);return new p.MessageUserAgentClient(this.core,r,e)},t.prototype.notify=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending NOTIFY request"),this.early)throw new Error("Dialog not confirmed.");return new f.NotifyUserAgentClient(this,e,t)},t.prototype.prack=function(e,t){return this.logger.log("INVITE dialog "+this.id+" sending PRACK request"),new v.PrackUserAgentClient(this,e,t)},t.prototype.refer=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending REFER request"),this.early)throw new Error("Dialog not confirmed.");return new T.ReferUserAgentClient(this,e,t)},t.prototype.receiveRequest=function(t){if(this.logger.log("INVITE dialog "+this.id+" received "+t.method+" request"),t.method===i.C.ACK){if(this.ackWait){if(this.initialTransaction instanceof a.InviteClientTransaction)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.initialTransaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.reinviteUserAgentServer.transaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.reinviteUserAgentServer=void 0}return this.signalingStateTransition(t),void(this.delegate&&this.delegate.onAck&&this.delegate.onAck({message:t}))}if(this.sequenceGuard(t)){if(t.method===i.C.INVITE){if(this.reinviteUserAgentServer){var r=["Retry-After: "+(Math.floor(10*Math.random())+1)];return void this.core.replyStateless(t,{statusCode:500,extraHeaders:r})}if(this.reinviteUserAgentClient)return void this.core.replyStateless(t,{statusCode:491})}if(e.prototype.receiveRequest.call(this,t),t.method===i.C.INVITE){var n=t.parseHeader("contact");if(!n)throw new Error("Contact undefined.");if(!(n instanceof i.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=n.uri}switch(t.method){case i.C.BYE:var s=new u.ByeUserAgentServer(this,t);this.delegate&&this.delegate.onBye?this.delegate.onBye(s):s.accept(),this.dispose();break;case i.C.INFO:s=new l.InfoUserAgentServer(this,t);this.delegate&&this.delegate.onInfo?this.delegate.onInfo(s):s.reject({statusCode:469,extraHeaders:["Recv-Info :"]});break;case i.C.INVITE:s=new y.ReInviteUserAgentServer(this,t);this.signalingStateTransition(t),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(s):s.reject({statusCode:488});break;case i.C.MESSAGE:s=new h.MessageUserAgentServer(this.core,t);this.delegate&&this.delegate.onMessage?this.delegate.onMessage(s):s.accept();break;case i.C.NOTIFY:s=new g.NotifyUserAgentServer(this,t);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(s):s.accept();break;case i.C.PRACK:s=new m.PrackUserAgentServer(this,t);this.delegate&&this.delegate.onPrack?this.delegate.onPrack(s):s.accept();break;case i.C.REFER:s=new b.ReferUserAgentServer(this,t);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(s):s.reject();break;default:this.logger.log("INVITE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501})}}else this.logger.log("INVITE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.reliableSequenceGuard=function(e){var t=e.statusCode;if(!t)throw new Error("Status code undefined");if(t>100&&t<200){var r=e.getHeader("require"),n=e.getHeader("rseq"),i=r&&r.includes("100rel")&&n?Number(n):void 0;if(i){if(this.rseq&&this.rseq+1!==i)return!1;this.rseq||(this.rseq=i)}}return!0},t.prototype.signalingStateRollback=function(){this._signalingState!==s.SignalingState.HaveLocalOffer&&this.signalingState!==s.SignalingState.HaveRemoteOffer||this._rollbackOffer&&this._rollbackAnswer&&(this._signalingState=s.SignalingState.Stable,this._offer=this._rollbackOffer,this._answer=this._rollbackAnswer)},t.prototype.signalingStateTransition=function(e){var t=i.getBody(e);if(t&&"session"===t.contentDisposition){if(this._signalingState===s.SignalingState.Stable&&(this._rollbackOffer=this._offer,this._rollbackAnswer=this._answer),e instanceof i.IncomingRequestMessage)switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.HaveRemoteOffer:case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof i.IncomingResponseMessage)switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.HaveRemoteOffer:case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof i.OutgoingRequestMessage)switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:break;case s.SignalingState.HaveRemoteOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(i.isBody(e))switch(this._signalingState){case s.SignalingState.Initial:case s.SignalingState.Stable:this._signalingState=s.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case s.SignalingState.HaveLocalOffer:break;case s.SignalingState.HaveRemoteOffer:this._signalingState=s.SignalingState.Stable,this._answer=t;break;case s.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}}},t.prototype.start2xxRetransmissionTimer=function(){var e=this;if(this.initialTransaction instanceof a.InviteServerTransaction){var t=this.initialTransaction,r=o.Timers.T1,n=function(){e.ackWait?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),r=Math.min(2*r,o.Timers.T2),e.invite2xxTimer=setTimeout(n,r)):e.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,r);var i=function(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",i),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.ackWait&&(e.delegate&&e.delegate.onAckTimeout?e.delegate.onAckTimeout():e.bye()))};t.addListener("stateChanged",i)}},t.prototype.startReInvite2xxRetransmissionTimer=function(){var e=this;if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof a.InviteServerTransaction){var t=this.reinviteUserAgentServer.transaction,r=o.Timers.T1,n=function(){e.reinviteUserAgentServer?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),r=Math.min(2*r,o.Timers.T2),e.invite2xxTimer=setTimeout(n,r)):e.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,r);var i=function(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",i),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.reinviteUserAgentServer)};t.addListener("stateChanged",i)}},t}(r(36).Dialog);t.SessionDialog=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.Early="Early",e.AckWait="AckWait",e.Confirmed="Confirmed",e.Terminated="Terminated"}(t.SessionState||(t.SessionState={})),function(e){e.Initial="Initial",e.HaveLocalOffer="HaveLocalOffer",e.HaveRemoteOffer="HaveRemoteOffer",e.Stable="Stable",e.Closed="Closed"}(t.SignalingState||(t.SignalingState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Transaction state error.")||this}return n.__extends(t,e),t}(r(45).Exception);t.TransactionStateError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Unspecified transport error.")||this}return n.__extends(t,e),t}(r(45).Exception);t.TransportError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(12),o=r(46),a=r(22),c=function(e){function t(t,r,n){return e.call(this,t,r,n,a.TransactionState.Proceeding,"sip.transaction.ist")||this}return n.__extends(t,e),t.prototype.dispose=function(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case a.TransactionState.Proceeding:if(e.method===i.C.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")})));break;case a.TransactionState.Accepted:if(e.method===i.C.INVITE)return;break;case a.TransactionState.Completed:if(e.method===i.C.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}))}if(e.method===i.C.ACK)return void this.stateTransition(a.TransactionState.Confirmed);break;case a.TransactionState.Confirmed:case a.TransactionState.Terminated:if(e.method===i.C.INVITE||e.method===i.C.ACK)return;break;default:throw new Error("Invalid state "+this.state)}var r="INVITE server transaction received unexpected "+e.method+" request while in state "+this.state+".";this.logger.warn(r)},t.prototype.receiveResponse=function(e,t){var r=this;if(e<100||e>699)throw new Error("Invalid status code "+e);switch(this.state){case a.TransactionState.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=t,e>100&&this.startProgressExtensionTimer(),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send 1xx response.")}));if(e>=200&&e<=299)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Accepted),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send 2xx response.")}));if(e>=300&&e<=699)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Completed),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send non-2xx final response.")}));break;case a.TransactionState.Accepted:if(e>=200&&e<=299)return void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send 2xx response.")}));break;case a.TransactionState.Completed:case a.TransactionState.Confirmed:case a.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var n="INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(n),new Error(n)},t.prototype.retransmitAcceptedResponse=function(){var e=this;this.state===a.TransactionState.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch((function(t){e.logTransportError(t,"Failed to send 2xx response.")}))},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e)},t.prototype.typeToString=function(){return"INVITE server transaction"},t.prototype.stateTransition=function(e){var t=this,r=function(){throw new Error("Invalid state transition from "+t.state+" to "+e)};switch(e){case a.TransactionState.Proceeding:r();break;case a.TransactionState.Accepted:case a.TransactionState.Completed:this.state!==a.TransactionState.Proceeding&&r();break;case a.TransactionState.Confirmed:this.state!==a.TransactionState.Completed&&r();break;case a.TransactionState.Terminated:this.state!==a.TransactionState.Accepted&&this.state!==a.TransactionState.Completed&&this.state!==a.TransactionState.Confirmed&&r();break;default:r()}this.stopProgressExtensionTimer(),e===a.TransactionState.Accepted&&(this.L=setTimeout((function(){return t.timer_L()}),s.Timers.TIMER_L)),e===a.TransactionState.Completed&&(this.H=setTimeout((function(){return t.timer_H()}),s.Timers.TIMER_H)),e===a.TransactionState.Confirmed&&(this.I=setTimeout((function(){return t.timer_I()}),s.Timers.TIMER_I)),e===a.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.startProgressExtensionTimer=function(){var e=this;void 0===this.progressExtensionTimer&&(this.progressExtensionTimer=setInterval((function(){if(e.logger.debug("Progress extension timer expired for INVITE server transaction "+e.id+"."),!e.lastProvisionalResponse)throw new Error("Last provisional response undefined.");e.send(e.lastProvisionalResponse).catch((function(t){e.logTransportError(t,"Failed to send retransmission of provisional response.")}))}),s.Timers.PROVISIONAL_RESPONSE_INTERVAL))},t.prototype.stopProgressExtensionTimer=function(){void 0!==this.progressExtensionTimer&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)},t.prototype.timer_G=function(){},t.prototype.timer_H=function(){this.logger.debug("Timer H expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(a.TransactionState.Terminated))},t.prototype.timer_I=function(){this.logger.debug("Timer I expired for INVITE server transaction "+this.id+"."),this.stateTransition(a.TransactionState.Terminated)},t.prototype.timer_L=function(){this.logger.debug("Timer L expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Accepted&&this.stateTransition(a.TransactionState.Terminated)},t}(o.ServerTransaction);t.InviteServerTransaction=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),s=r(43),o=r(22),a=function(e){function t(t,r,n){var s=e.call(this,t,r,n,o.TransactionState.Trying,"sip.transaction.nict")||this;return s.F=setTimeout((function(){return s.timer_F()}),i.Timers.TIMER_F),s.send(t.toString()).catch((function(e){s.logTransportError(e,"Failed to send initial outgoing request.")})),s}return n.__extends(t,e),t.prototype.dispose=function(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nict"},enumerable:!0,configurable:!0}),t.prototype.receiveResponse=function(e){var t=e.statusCode;if(!t||t<100||t>699)throw new Error("Invalid status code "+t);switch(this.state){case o.TransactionState.Trying:if(t>=100&&t<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(t>=100&&t<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));case o.TransactionState.Completed:case o.TransactionState.Terminated:return;default:throw new Error("Invalid state "+this.state)}var r="Non-INVITE client transaction received unexpected "+t+" response while in state "+this.state+".";this.logger.warn(r)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE client transaction"},t.prototype.stateTransition=function(e,t){var r=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+r.state+" to "+e)};switch(e){case o.TransactionState.Trying:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&n();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}e===o.TransactionState.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout((function(){return r.timer_K()}),i.Timers.TIMER_K)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_F=function(){this.logger.debug("Timer F expired for non-INVITE client transaction "+this.id+"."),this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding||(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))},t.prototype.timer_K=function(){this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t}(s.ClientTransaction);t.NonInviteClientTransaction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),s=r(46),o=r(22),a=function(e){function t(t,r,n){return e.call(this,t,r,n,o.TransactionState.Trying,"sip.transaction.nist")||this}return n.__extends(t,e),t.prototype.dispose=function(){this.J&&(clearTimeout(this.J),this.J=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case o.TransactionState.Trying:break;case o.TransactionState.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")}));break;case o.TransactionState.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}));break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}},t.prototype.receiveResponse=function(e,t){var r=this;if(e<100||e>699)throw new Error("Invalid status code "+e);if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case o.TransactionState.Trying:if(this.lastResponse=t,e>=100&&e<200)return this.stateTransition(o.TransactionState.Proceeding),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send provisional response.")}));if(e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send final response.")}));break;case o.TransactionState.Proceeding:if(this.lastResponse=t,e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch((function(e){r.logTransportError(e,"Failed to send final response.")}));break;case o.TransactionState.Completed:return;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var n="Non-INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(n),new Error(n)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE server transaction"},t.prototype.stateTransition=function(e,t){var r=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+r.state+" to "+e)};switch(e){case o.TransactionState.Trying:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&n();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}e===o.TransactionState.Completed&&(this.J=setTimeout((function(){return r.timer_J()}),i.Timers.TIMER_J)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_J=function(){this.logger.debug("Timer J expired for NON-INVITE server transaction "+this.id+"."),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t}(s.ServerTransaction);t.NonInviteServerTransaction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.NotifyWait="NotifyWait",e.Pending="Pending",e.Active="Active",e.Terminated="Terminated"}(t.SubscriptionState||(t.SubscriptionState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(49),t),n.__exportStar(r(124),t),n.__exportStar(r(82),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(49),i=r(82),s=function(){function e(){this.builtinEnabled=!0,this._level=n.Levels.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:n.Levels.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connector",{get:function(){return this._connector},set:function(e){e?"function"==typeof e?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0},enumerable:!0,configurable:!0}),e.prototype.getLogger=function(e,t){if(t&&3===this.level)return new i.Logger(this,e,t);if(this.loggers[e])return this.loggers[e];var r=new i.Logger(this,e);return this.loggers[e]=r,r},e.prototype.genericLog=function(e,t,r,i){this.level>=e&&this.builtinEnabled&&this.print(e,t,r,i),this.connector&&this.connector(n.Levels[e],t,r,i)},e.prototype.print=function(e,t,r,i){if("string"==typeof i){var s=[new Date,t];r&&s.push(r),i=s.concat(i).join(" | ")}switch(e){case n.Levels.error:console.error(i);break;case n.Levels.warn:console.warn(i);break;case n.Levels.log:console.log(i);break;case n.Levels.debug:console.debug(i)}},e}();t.LoggerFactory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(0).__exportStar(r(126),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),s=r(1),o=r(83),a=r(23),c=["application/sdp","application/dtmf-relay"],u=function(){function e(e,t){void 0===t&&(t={}),this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=e,this.delegate=t,this.dialogs=new Map,this.subscribers=new Map,this.logger=e.loggerFactory.getLogger("sip.user-agent-core")}return e.prototype.dispose=function(){this.reset()},e.prototype.reset=function(){this.dialogs.forEach((function(e){return e.dispose()})),this.dialogs.clear(),this.subscribers.forEach((function(e){return e.dispose()})),this.subscribers.clear(),this.userAgentClients.forEach((function(e){return e.dispose()})),this.userAgentClients.clear(),this.userAgentServers.forEach((function(e){return e.dispose()})),this.userAgentServers.clear()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.configuration.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transport",{get:function(){var e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e},enumerable:!0,configurable:!0}),e.prototype.invite=function(e,t){return new o.InviteUserAgentClient(this,e,t)},e.prototype.message=function(e,t){return new o.MessageUserAgentClient(this,e,t)},e.prototype.publish=function(e,t){return new o.PublishUserAgentClient(this,e,t)},e.prototype.register=function(e,t){return new o.RegisterUserAgentClient(this,e,t)},e.prototype.subscribe=function(e,t){return new o.SubscribeUserAgentClient(this,e,t)},e.prototype.request=function(e,t){return new o.UserAgentClient(s.NonInviteClientTransaction,this,e,t)},e.prototype.makeOutgoingRequestMessage=function(e,t,r,s,o,a,c){var u=this.configuration.sipjsId,d=this.configuration.displayName,l=this.configuration.viaForceRport,p=this.configuration.hackViaTcp,h=this.configuration.supportedOptionTags.slice();e===i.C.REGISTER&&h.push("path","gruu"),e===i.C.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&h.push("gruu");var f={callIdPrefix:u,forceRport:l,fromDisplayName:d,hackViaTcp:p,optionTags:h,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},g=n.__assign(n.__assign({},f),o);return new i.OutgoingRequestMessage(e,t,r,s,g,a,c)},e.prototype.receiveIncomingRequestFromTransport=function(e){this.receiveRequestFromTransport(e)},e.prototype.receiveIncomingResponseFromTransport=function(e){this.receiveResponseFromTransport(e)},e.prototype.replyStateless=function(e,t){var r=this,s=this.configuration.userAgentHeaderFieldValue,o=this.configuration.supportedOptionTagsResponse;t=n.__assign(n.__assign({},t),{userAgent:s,supported:o});var a=i.constructOutgoingResponse(e,t);return this.transport.send(a.message).catch((function(t){t instanceof Error&&r.logger.error(t.message),r.logger.error("Transport error occurred sending stateless reply to "+e.method+" request.")})),a},e.prototype.receiveRequestFromTransport=function(e){var t=e.viaBranch,r=this.userAgentServers.get(t);e.method===i.C.ACK&&r&&r.transaction.state===s.TransactionState.Accepted&&r instanceof o.InviteUserAgentServer?this.logger.warn("Discarding out of dialog ACK after 2xx response sent on transaction "+t+"."):e.method!==i.C.CANCEL?r?r.transaction.receiveRequest(e):this.receiveRequest(e):r?(this.replyStateless(e,{statusCode:200}),r.transaction instanceof s.InviteServerTransaction&&r.transaction.state===s.TransactionState.Proceeding&&r instanceof o.InviteUserAgentServer&&r.receiveCancel(e)):this.replyStateless(e,{statusCode:481})},e.prototype.receiveRequest=function(e){if(-1!==a.AllowedMethods.indexOf(e.method)){if(!e.ruri)throw new Error("Request-URI undefined.");if("sip"===e.ruri.scheme){var t=e.ruri,r=function(e){return!!e&&e.user===t.user};if(!r(this.configuration.aor)&&!(r(this.configuration.contact.uri)||r(this.configuration.contact.pubGruu)||r(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==i.C.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==i.C.INVITE||e.hasHeader("Contact")){if(!e.toTag){var n=e.viaBranch;if(!this.userAgentServers.has(n))if(Array.from(this.userAgentServers.values()).some((function(t){return t.transaction.request.fromTag===e.fromTag&&t.transaction.request.callId===e.callId&&t.transaction.request.cseq===e.cseq})))return void this.replyStateless(e,{statusCode:482})}e.toTag?this.receiveInsideDialogRequest(e):this.receiveOutsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}else this.replyStateless(e,{statusCode:416})}else{var s="Allow: "+a.AllowedMethods.toString();this.replyStateless(e,{statusCode:405,extraHeaders:[s]})}},e.prototype.receiveInsideDialogRequest=function(e){if(e.method===i.C.NOTIFY){var t=e.parseHeader("Event");if(!t||!t.event)return void this.replyStateless(e,{statusCode:489});var r=e.callId+e.toTag+t.event,n=this.subscribers.get(r);if(n){var s=new o.NotifyUserAgentServer(this,e);return void n.onNotify(s)}}var u=e.callId+e.toTag+e.fromTag,d=this.dialogs.get(u);if(d){if(e.method===i.C.OPTIONS){var l="Allow: "+a.AllowedMethods.toString(),p="Accept: "+c.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[l,p]})}d.receiveRequest(e)}else e.method!==i.C.ACK&&this.replyStateless(e,{statusCode:481})},e.prototype.receiveOutsideDialogRequest=function(e){switch(e.method){case i.C.ACK:break;case i.C.BYE:this.replyStateless(e,{statusCode:481});break;case i.C.CANCEL:throw new Error("Unexpected out of dialog request method "+e.method+".");case i.C.INFO:this.replyStateless(e,{statusCode:405});break;case i.C.INVITE:var t=new o.InviteUserAgentServer(this,e);this.delegate.onInvite?this.delegate.onInvite(t):t.reject();break;case i.C.MESSAGE:t=new o.MessageUserAgentServer(this,e);this.delegate.onMessage?this.delegate.onMessage(t):t.accept();break;case i.C.NOTIFY:t=new o.NotifyUserAgentServer(this,e);this.delegate.onNotify?this.delegate.onNotify(t):t.reject({statusCode:405});break;case i.C.OPTIONS:var r="Allow: "+a.AllowedMethods.toString(),n="Accept: "+c.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[r,n]});break;case i.C.REFER:t=new o.ReferUserAgentServer(this,e);this.delegate.onRefer?this.delegate.onRefer(t):t.reject({statusCode:405});break;case i.C.REGISTER:t=new o.RegisterUserAgentServer(this,e);this.delegate.onRegister?this.delegate.onRegister(t):t.reject({statusCode:405});break;case i.C.SUBSCRIBE:t=new o.SubscribeUserAgentServer(this,e);this.delegate.onSubscribe?this.delegate.onSubscribe(t):t.reject({statusCode:480});break;default:throw new Error("Unexpected out of dialog request method "+e.method+".")}},e.prototype.receiveResponseFromTransport=function(e){if(e.getHeaders("via").length>1)this.logger.warn("More than one Via header field present in the response, dropping");else{var t=e.viaBranch+e.method,r=this.userAgentClients.get(t);r?r.transaction.receiveResponse(e):this.logger.warn("Discarding unmatched "+e.statusCode+" response to "+e.method+" "+t+".")}},e}();t.UserAgentCore=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.CancelUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(35),s=r(30),o=r(1),a=function(e){function t(t,r,n){var i=e.call(this,o.InviteClientTransaction,t,r,n)||this;return i.confirmedDialogAcks=new Map,i.confirmedDialogs=new Map,i.earlyDialogs=new Map,i.delegate=n,i}return n.__extends(t,e),t.prototype.dispose=function(){this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),e.prototype.dispose.call(this)},t.prototype.onTransportError=function(t){if(this.transaction.state===o.TransactionState.Calling)return e.prototype.onTransportError.call(this,t);this.logger.error(t.message),this.logger.error("User agent client request transport error while sending ACK.")},t.prototype.receiveResponse=function(e){var t=this;if(this.authenticationGuard(e)){var r=e.statusCode?e.statusCode.toString():"";if(!r)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(r):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(r):if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");var n=i.Dialog.initialDialogStateForUserAgentClient(this.message,e),a=this.earlyDialogs.get(n.id);if(!a){if(!((d=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");a=new i.SessionDialog(d,this.core,n),this.earlyDialogs.set(a.id,a)}if(!a.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order, dropping.");a.signalingState!==s.SignalingState.Initial&&a.signalingState!==s.SignalingState.HaveLocalOffer||a.signalingStateTransition(e);var c=a;return void(this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:c,prack:function(e){return c.prack(void 0,e)}}));case/^2[0-9]{2}$/.test(r):n=i.Dialog.initialDialogStateForUserAgentClient(this.message,e);var u=this.confirmedDialogs.get(n.id);if(u){if(p=this.confirmedDialogAcks.get(n.id)){if(!((d=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Client transaction not instance of InviteClientTransaction.");d.ackResponse(p.message)}return}if(u=this.earlyDialogs.get(n.id))u.confirm(),u.recomputeRouteSet(e),this.earlyDialogs.delete(u.id),this.confirmedDialogs.set(u.id,u);else{var d;if(!((d=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");u=new i.SessionDialog(d,this.core,n),this.confirmedDialogs.set(u.id,u)}u.signalingState!==s.SignalingState.Initial&&u.signalingState!==s.SignalingState.HaveLocalOffer||u.signalingStateTransition(e);var l=u;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:l,ack:function(e){var r=l.ack(e);return t.confirmedDialogAcks.set(l.id,r),r}});else{var p=l.ack();this.confirmedDialogAcks.set(l.id,p)}return;case/^3[0-9]{2}$/.test(r):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(r):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error("Invalid status code "+r)}throw new Error("Executing what should be an unreachable code path receiving "+r+" response.")}},t}(r(4).UserAgentClient);t.InviteUserAgentClient=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(35),s=r(31),o=r(30),a=r(1),c=r(23),u=function(e){function t(t,r,n){var i=e.call(this,a.InviteServerTransaction,t,r,n)||this;return i.core=t,i}return n.__extends(t,e),t.prototype.dispose=function(){this.earlyDialog&&this.earlyDialog.dispose(),e.prototype.dispose.call(this)},t.prototype.accept=function(t){if(void 0===t&&(t={statusCode:200}),!this.acceptable)throw new s.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{var r=this.transaction;if(!(r instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var u=i.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new i.SessionDialog(r,this.core,u)}var d=this.message.getHeaders("record-route").map((function(e){return"Record-Route: "+e})),l="Contact: "+this.core.configuration.contact.toString(),p="Allow: "+c.AllowedMethods.toString();if(!t.body)if(this.confirmedDialog.signalingState===o.SignalingState.Stable)t.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===o.SignalingState.Initial||this.confirmedDialog.signalingState===o.SignalingState.HaveRemoteOffer)throw new Error("Response must have a body.");t.statusCode=t.statusCode||200,t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(d),t.extraHeaders.push(p),t.extraHeaders.push(l);var h=e.prototype.accept.call(this,t),f=this.confirmedDialog,g=n.__assign(n.__assign({},h),{session:f});return t.body&&this.confirmedDialog.signalingState!==o.SignalingState.Stable&&this.confirmedDialog.signalingStateTransition(t.body),g},t.prototype.progress=function(t){if(void 0===t&&(t={statusCode:180}),!this.progressable)throw new s.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");if(!this.earlyDialog){var r=this.transaction;if(!(r instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var c=i.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new i.SessionDialog(r,this.core,c)}var u=this.message.getHeaders("record-route").map((function(e){return"Record-Route: "+e})),d="Contact: "+this.core.configuration.contact;t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(u),t.extraHeaders.push(d);var l=e.prototype.progress.call(this,t),p=this.earlyDialog,h=n.__assign(n.__assign({},l),{session:p});return t.body&&this.earlyDialog.signalingState!==o.SignalingState.Stable&&this.earlyDialog.signalingStateTransition(t.body),h},t.prototype.redirect=function(t,r){return void 0===r&&(r={statusCode:302}),e.prototype.redirect.call(this,t,r)},t.prototype.reject=function(t){return void 0===t&&(t={statusCode:486}),e.prototype.reject.call(this,t)},t}(r(6).UserAgentServer);t.InviteUserAgentServer=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.PublishUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,r,n)||this}return n.__extends(t,e),t}(r(6).UserAgentServer);t.ReSubscribeUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){return e.call(this,i.NonInviteClientTransaction,t,r,n)||this}return n.__extends(t,e),t}(r(4).UserAgentClient);t.RegisterUserAgentClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.NonInviteServerTransaction,t,r,n)||this;return s.core=t,s}return n.__extends(t,e),t}(r(6).UserAgentServer);t.RegisterUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(80),s=r(48),o=r(12),a=r(1),c=function(e){function t(t,r,n){var i=this,o=r.getHeader("Event");if(!o)throw new Error("Event undefined");var c=r.getHeader("Expires");if(!c)throw new Error("Expires undefined");return(i=e.call(this,a.NonInviteClientTransaction,t,r,n)||this).delegate=n,i.subscriberId=r.callId+r.fromTag+o,i.subscriptionExpiresRequested=i.subscriptionExpires=Number(c),i.subscriptionEvent=o,i.subscriptionState=s.SubscriptionState.NotifyWait,i.waitNotifyStart(),i}return n.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onNotify=function(e){var t=e.message.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});var r=e.message.parseHeader("Subscription-State");if(!r||!r.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});var n=r.state;switch(n){case"pending":case"active":case"terminated":break;default:return this.logger.warn("Invalid subscription state "+n),void e.reject({statusCode:489})}if("terminated"!==n&&!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489});if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=r.expires?Math.min(this.subscriptionExpires,Math.max(r.expires,0)):this.subscriptionExpires,n){case"pending":this.subscriptionState=s.SubscriptionState.Pending;break;case"active":this.subscriptionState=s.SubscriptionState.Active;break;case"terminated":this.subscriptionState=s.SubscriptionState.Terminated;break;default:throw new Error("Unrecognized state "+n+".")}if(this.subscriptionState!==s.SubscriptionState.Terminated){var o=i.SubscriptionDialog.initialDialogStateForSubscription(this.message,e.message);this.dialog=new i.SubscriptionDialog(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,o)}if(this.delegate&&this.delegate.onNotify){var a=e,c=this.dialog;this.delegate.onNotify({request:a,subscription:c})}else e.accept()},t.prototype.waitNotifyStart=function(){var e=this;this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout((function(){return e.timer_N()}),o.Timers.TIMER_N))},t.prototype.waitNotifyStop=function(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)},t.prototype.receiveResponse=function(t){if(this.authenticationGuard(t)){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var r=t.getHeader("Expires");if(r){var n=Number(r);n>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),n<this.subscriptionExpires&&(this.subscriptionExpires=n)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}t.statusCode&&t.statusCode>=300&&t.statusCode<700&&this.waitNotifyStop(),e.prototype.receiveResponse.call(this,t)}},t.prototype.timer_N=function(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()},t}(r(4).UserAgentClient);t.SubscribeUserAgentClient=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),s=function(e){function t(t,r,n){var s=e.call(this,i.NonInviteServerTransaction,t,r,n)||this;return s.core=t,s}return n.__extends(t,e),t}(r(6).UserAgentServer);t.SubscribeUserAgentServer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIBRARY_VERSION="0.15.11"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(7),s=r(8),o=r(5),a=r(10),c=r(9),u=r(87),d=function(e){function t(t,r,n){void 0===n&&(n={});var i=e.call(this)||this;if(i.C={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500},i.type=o.TypeStrings.DTMF,void 0===r)throw new TypeError("Not enough arguments");i.logger=t.ua.getLogger("sip.invitecontext.dtmf",t.id),i.owner=t;i.tone=u.DTMFValidator.validate(r,!1);var s=n.duration,a=n.interToneGap;if(s&&!c.Utils.isDecimal(s))throw new TypeError("Invalid tone duration: "+s);if(s?s<i.C.MIN_DURATION?(i.logger.warn("'duration' value is lower than the minimum allowed, setting it to "+i.C.MIN_DURATION+" milliseconds"),s=i.C.MIN_DURATION):s>i.C.MAX_DURATION?(i.logger.warn("'duration' value is greater than the maximum allowed, setting it to "+i.C.MAX_DURATION+" milliseconds"),s=i.C.MAX_DURATION):s=Math.abs(s):s=i.C.DEFAULT_DURATION,i.duration=s,a&&!c.Utils.isDecimal(a))throw new TypeError("Invalid interToneGap: "+a);return a?a<i.C.MIN_INTER_TONE_GAP?(i.logger.warn("'interToneGap' value is lower than the minimum allowed, setting it to "+i.C.MIN_INTER_TONE_GAP+" milliseconds"),a=i.C.MIN_INTER_TONE_GAP):a=Math.abs(a):a=i.C.DEFAULT_INTER_TONE_GAP,i.interToneGap=a,i}return n.__extends(t,e),t.prototype.send=function(e){if(void 0===e&&(e={}),this.owner.status!==o.SessionStatus.STATUS_CONFIRMED&&this.owner.status!==o.SessionStatus.STATUS_WAITING_FOR_ACK)throw new a.Exceptions.InvalidStateError(this.owner.status);var t=e.extraHeaders?e.extraHeaders.slice():[],r={contentType:"application/dtmf-relay",body:"Signal= "+this.tone+"\r\nDuration= "+this.duration};if(this.owner.session){var n=this.owner.session.info(void 0,{extraHeaders:t,body:c.Utils.fromBodyObj(r)});this.owner.emit("dtmf",n.message,this)}else;},t.prototype.init_incoming=function(e){e.accept(),this.tone&&this.duration?this.owner.emit("dtmf",e.message,this):this.logger.warn("invalid INFO DTMF received, discarded")},t.prototype.receiveResponse=function(e){var t=e&&e.statusCode?e.statusCode:0;switch(!0){case/^1[0-9]{2}$/.test(t.toString()):break;case/^2[0-9]{2}$/.test(t.toString()):this.emit("succeeded",{originator:"remote",response:e});break;default:var r=c.Utils.sipErrorCause(t);this.emit("failed",e,r)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,s.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},t.prototype.onTransportError=function(){this.emit("failed",void 0,s.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},t.prototype.onDialogError=function(e){this.emit("failed",e,s.C.causes.DIALOG_ERROR),this.owner.onDialogError(e)},t}(i.EventEmitter);t.DTMF=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingByeRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingByeRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingByeRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingByeRequest.reject(e),Promise.resolve()},e}();t.Bye=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeEmitter=function(e,t){return void 0===t&&(t="event"),{addListener:function(r,n){void 0===n&&(n={}),n.once?e.once(t,r):e.addListener(t,r)},removeListener:function(r){e.removeListener(t,r)},on:function(r){e.on(t,r)},off:function(r){e.removeListener(t,r)},once:function(r){e.once(t,r)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);n.__exportStar(r(141),t),n.__exportStar(r(142),t),n.__exportStar(r(143),t),n.__exportStar(r(144),t),n.__exportStar(r(145),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Unsupported content type.")||this}return n.__extends(t,e),t}(r(2).Exception);t.ContentTypeUnsupportedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Request pending.")||this}return n.__extends(t,e),t}(r(2).Exception);t.RequestPendingError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"Unspecified session description handler error.")||this}return n.__extends(t,e),t}(r(2).Exception);t.SessionDescriptionHandlerError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(){return e.call(this,"The session has terminated.")||this}return n.__extends(t,e),t}(r(2).Exception);t.SessionTerminatedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(e){function t(t){return e.call(this,t||"An error occurred during state transition.")||this}return n.__extends(t,e),t}(r(2).Exception);t.StateTransitionError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingInfoRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingInfoRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingInfoRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingInfoRequest.reject(e),Promise.resolve()},e}();t.Info=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingMessageRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingMessageRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingMessageRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingMessageRequest.reject(e),Promise.resolve()},e}();t.Message=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.incomingNotifyRequest=e}return Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingNotifyRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return this.incomingNotifyRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingNotifyRequest.reject(e),Promise.resolve()},e}();t.Notification=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(){function e(e,t){this.incomingReferRequest=e,this.session=t}return Object.defineProperty(e.prototype,"referTo",{get:function(){var e=this.incomingReferRequest.message.parseHeader("refer-to");if(!(e instanceof n.NameAddrHeader))throw new Error("Failed to parse Refer-To header.");return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"referredBy",{get:function(){return this.incomingReferRequest.message.getHeader("referred-by")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replaces",{get:function(){return this.referTo.uri.getHeader("replaces")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return this.incomingReferRequest.message},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){return void 0===e&&(e={statusCode:202}),this.incomingReferRequest.accept(e),Promise.resolve()},e.prototype.reject=function(e){return this.incomingReferRequest.reject(e),Promise.resolve()},e.prototype.makeInviter=function(e){if(this.inviter)return this.inviter;var t=this.referTo.uri.clone();t.clearHeaders();var r=((e=e||{}).extraHeaders||[]).slice(),n=this.replaces;n&&r.push("Replaces: "+decodeURIComponent(n));var i=this.referredBy;return i&&r.push("Referred-By: "+i),e.extraHeaders=r,this.inviter=this.session.userAgent._makeInviter(t,e),this.inviter._referred=this.session,this.session._referral=this.inviter,this.inviter},e}();t.Referral=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.Establishing="Establishing",e.Established="Established",e.Terminating="Terminating",e.Terminated="Terminated"}(t.SessionState||(t.SessionState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(92),i=r(5),s=function(){function e(e,t){this.type=i.TypeStrings.SessionDescriptionHandlerObserver,this.session=e,this.options=t}return e.prototype.trackAdded=function(){this.session instanceof n.Session||this.session.emit("trackAdded")},e.prototype.directionChanged=function(){this.session instanceof n.Session||this.session.emit("directionChanged")},e}();t.SessionDescriptionHandlerObserver=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importStar(r(51));t.Modifiers=n;var i=r(153);t.Simple=i.Simple;var s=r(91);t.SessionDescriptionHandler=s.SessionDescriptionHandler;var o=r(93);t.Transport=o.Transport},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),s=r(7),o=r(90),a=i.__importStar(r(51));!function(e){e[e.STATUS_NULL=0]="STATUS_NULL",e[e.STATUS_NEW=1]="STATUS_NEW",e[e.STATUS_CONNECTING=2]="STATUS_CONNECTING",e[e.STATUS_CONNECTED=3]="STATUS_CONNECTED",e[e.STATUS_COMPLETED=4]="STATUS_COMPLETED"}(n=t.SimpleStatus||(t.SimpleStatus={}));var c=function(e){function t(t){var r=e.call(this)||this;if(t.media.remote.video?r.video=!0:r.video=!1,t.media.remote.audio?r.audio=!0:r.audio=!1,!r.audio&&!r.video)throw new Error("At least one remote audio or video element is required for Simple.");r.options=t;var i=navigator.userAgent.toLowerCase(),s=!1,c=!1;i.indexOf("safari")>-1&&i.indexOf("chrome")<0?s=!0:i.indexOf("firefox")>-1&&i.indexOf("chrome")<0&&(c=!0);var u={};return s&&(u.modifiers=[a.stripG722]),c&&(u.alwaysAcquireMediaFirst=!0),r.options.ua.uri?r.anonymous=!1:r.anonymous=!0,r.ua=new o.UA({uri:r.options.ua.uri,authorizationUser:r.options.ua.authorizationUser,password:r.options.ua.password,displayName:r.options.ua.displayName,userAgentString:r.options.ua.userAgentString,register:!0,sessionDescriptionHandlerFactoryOptions:u,transportOptions:{traceSip:r.options.ua.traceSip,wsServers:r.options.ua.wsServers}}),r.state=n.STATUS_NULL,r.logger=r.ua.getLogger("sip.simple"),r.ua.on("registered",(function(){r.emit("registered",r.ua)})),r.ua.on("unregistered",(function(){r.emit("unregistered",r.ua)})),r.ua.on("registrationFailed",(function(){r.emit("unregistered",r.ua)})),r.ua.on("invite",(function(e){if(r.state!==n.STATUS_NULL&&r.state!==n.STATUS_COMPLETED)return r.logger.warn("Rejecting incoming call. Simple only supports 1 call at a time"),void e.reject();r.session=e,r.setupSession(),r.emit("ringing",r.session)})),r.ua.on("message",(function(e){r.emit("message",e)})),r}return i.__extends(t,e),t.prototype.call=function(e){if(this.ua&&this.checkRegistration()){if(this.state===n.STATUS_NULL||this.state===n.STATUS_COMPLETED)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.autoplay=!0,this.options.media.local.video.volume=0),this.session=this.ua.invite(e,{sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}}),this.setupSession(),this.session;this.logger.warn("Cannot make more than a single call with Simple")}else this.logger.warn("A registered UA is required for calling")},t.prototype.answer=function(){if(this.state===n.STATUS_NEW||this.state===n.STATUS_CONNECTING)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.session.accept({sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}});this.logger.warn("No call to answer")},t.prototype.reject=function(){if(this.state===n.STATUS_NEW||this.state===n.STATUS_CONNECTING)return this.session.reject();this.logger.warn("Call is already answered")},t.prototype.hangup=function(){if(this.state===n.STATUS_CONNECTED||this.state===n.STATUS_CONNECTING||this.state===n.STATUS_NEW)return this.state!==n.STATUS_CONNECTED?this.session.cancel():this.session?this.session.bye():void 0;this.logger.warn("No active call to hang up on")},t.prototype.hold=function(){if(this.state===n.STATUS_CONNECTED&&this.session&&!this.session.localHold)return this.mute(),this.logger.log("Placing session on hold"),this.session.hold();this.logger.warn("Cannot put call on hold")},t.prototype.unhold=function(){if(this.state===n.STATUS_CONNECTED&&this.session&&this.session.localHold)return this.unmute(),this.logger.log("Placing call off hold"),this.session.unhold();this.logger.warn("Cannot unhold a call that is not on hold")},t.prototype.mute=function(){this.state===n.STATUS_CONNECTED?(this.logger.log("Muting Audio"),this.toggleMute(!0),this.emit("mute",this)):this.logger.warn("An acitve call is required to mute audio")},t.prototype.unmute=function(){this.state===n.STATUS_CONNECTED?(this.logger.log("Unmuting Audio"),this.toggleMute(!1),this.emit("unmute",this)):this.logger.warn("An active call is required to unmute audio")},t.prototype.sendDTMF=function(e){this.state===n.STATUS_CONNECTED&&this.session?(this.logger.log("Sending DTMF tone: "+e),this.session.dtmf(e)):this.logger.warn("An active call is required to send a DTMF tone")},t.prototype.message=function(e,t){this.ua&&this.checkRegistration()?e&&t?this.ua.message(e,t):this.logger.warn("A destination and message are required to send a message"):this.logger.warn("A registered UA is required to send a message")},t.prototype.checkRegistration=function(){return this.anonymous||this.ua&&this.ua.isRegistered()},t.prototype.setupRemoteMedia=function(){var e=this;if(this.session){var t,r=this.session.sessionDescriptionHandler.peerConnection;r.getReceivers?(t=new MediaStream,r.getReceivers().forEach((function(e){var r=e.track;r&&t.addTrack(r)}))):t=r.getRemoteStreams()[0],this.video?(this.options.media.remote.video.srcObject=t,this.options.media.remote.video.play().catch((function(){e.logger.log("play was rejected")}))):this.audio&&(this.options.media.remote.audio.srcObject=t,this.options.media.remote.audio.play().catch((function(){e.logger.log("play was rejected")})))}else this.logger.warn("No session to set remote media on")},t.prototype.setupLocalMedia=function(){if(this.session){if(this.video&&this.options.media.local&&this.options.media.local.video){var e,t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?(e=new MediaStream,t.getSenders().forEach((function(t){var r=t.track;r&&"video"===r.kind&&e.addTrack(r)}))):e=t.getLocalStreams()[0],this.options.media.local.video.srcObject=e,this.options.media.local.video.volume=0,this.options.media.local.video.play()}}else this.logger.warn("No session to set local media on")},t.prototype.cleanupMedia=function(){this.video&&(this.options.media.remote.video.srcObject=null,this.options.media.remote.video.pause(),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.srcObject=null,this.options.media.local.video.pause())),this.audio&&(this.options.media.remote.audio.srcObject=null,this.options.media.remote.audio.pause())},t.prototype.setupSession=function(){var e=this;this.session?(this.state=n.STATUS_NEW,this.emit("new",this.session),this.session.on("progress",(function(){return e.onProgress()})),this.session.on("accepted",(function(){return e.onAccepted()})),this.session.on("rejected",(function(){return e.onEnded()})),this.session.on("failed",(function(){return e.onFailed()})),this.session.on("terminated",(function(){return e.onEnded()}))):this.logger.warn("No session to set up")},t.prototype.destroyMedia=function(){this.session&&this.session.sessionDescriptionHandler&&this.session.sessionDescriptionHandler.close()},t.prototype.toggleMute=function(e){if(this.session){var t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?t.getSenders().forEach((function(t){t.track&&(t.track.enabled=!e)})):t.getLocalStreams().forEach((function(t){t.getAudioTracks().forEach((function(t){t.enabled=!e})),t.getVideoTracks().forEach((function(t){t.enabled=!e}))}))}else this.logger.warn("No session to toggle mute")},t.prototype.onAccepted=function(){var e=this;this.session?(this.state=n.STATUS_CONNECTED,this.emit("connected",this.session),this.setupLocalMedia(),this.setupRemoteMedia(),this.session.sessionDescriptionHandler&&(this.session.sessionDescriptionHandler.on("addTrack",(function(){e.logger.log("A track has been added, triggering new remoteMedia setup"),e.setupRemoteMedia()})),this.session.sessionDescriptionHandler.on("addStream",(function(){e.logger.log("A stream has been added, trigger new remoteMedia setup"),e.setupRemoteMedia()}))),this.session.on("dtmf",(function(t,r){e.emit("dtmf",r.tone)})),this.session.on("bye",(function(){return e.onEnded()}))):this.logger.warn("No session for accepting")},t.prototype.onProgress=function(){this.state=n.STATUS_CONNECTING,this.emit("connecting",this.session)},t.prototype.onFailed=function(){this.onEnded()},t.prototype.onEnded=function(){this.state=n.STATUS_COMPLETED,this.emit("ended",this.session),this.cleanupMedia()},t.C=n,t}(s.EventEmitter);t.Simple=c},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(156),s=(n=i)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={default:r(157),__esModule:!0}},function(e,t,r){r(158);var n=r(25).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(24);n(n.S+n.F*!r(16),"Object",{defineProperty:r(19).f})},function(e,t,r){e.exports=!r(16)&&!r(26)((function(){return 7!=Object.defineProperty(r(95)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(11);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){e.exports={default:r(162),__esModule:!0}},function(e,t,r){r(163),r(164),r(177),r(190),r(192),e.exports=r(25).WeakMap},function(e,t){},function(e,t,r){r(165);for(var n=r(13),i=r(15),s=r(27),o=r(14)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],d=n[u],l=d&&d.prototype;l&&!l[o]&&i(l,o,u),s[u]=s.Array}},function(e,t,r){"use strict";var n=r(166),i=r(167),s=r(27),o=r(52);e.exports=r(168)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(98),i=r(24),s=r(99),o=r(15),a=r(27),c=r(169),u=r(58),d=r(176),l=r(14)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,f,g,v,m){c(r,t,f);var S,y,T,b=function(e){if(!p&&e in R)return R[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},E=t+" Iterator",_="values"==g,C=!1,R=e.prototype,w=R[l]||R["@@iterator"]||g&&R[g],A=w||b(g),I=g?_?b("entries"):A:void 0,O="Array"==t&&R.entries||w;if(O&&(T=d(O.call(new e)))!==Object.prototype&&T.next&&(u(T,E,!0),n||"function"==typeof T[l]||o(T,l,h)),_&&w&&"values"!==w.name&&(C=!0,A=function(){return w.call(this)}),n&&!m||!p&&!C&&R[l]||o(R,l,A),a[t]=A,a[E]=h,g)if(S={values:_?A:b("values"),keys:v?A:b("keys"),entries:I},m)for(y in S)y in R||s(R,y,S[y]);else i(i.P+i.F*(p||C),t,S);return S}},function(e,t,r){"use strict";var n=r(170),i=r(96),s=r(58),o={};r(15)(o,r(14)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),s(e,t+" Iterator")}},function(e,t,r){var n=r(20),i=r(171),s=r(103),o=r(56)("IE_PROTO"),a=function(){},c=function(){var e,t=r(95)("iframe"),n=s.length;for(t.style.display="none",r(175).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[s[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[o]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(19),i=r(20),s=r(100);e.exports=r(16)?Object.defineProperties:function(e,t){i(e);for(var r,o=s(t),a=o.length,c=0;a>c;)n.f(e,r=o[c++],t[r]);return e}},function(e,t,r){var n=r(21),i=r(52),s=r(173)(!1),o=r(56)("IE_PROTO");e.exports=function(e,t){var r,a=i(e),c=0,u=[];for(r in a)r!=o&&n(a,r)&&u.push(r);for(;t.length>c;)n(a,r=t[c++])&&(~s(u,r)||u.push(r));return u}},function(e,t,r){var n=r(52),i=r(55),s=r(174);e.exports=function(e){return function(t,r,o){var a,c=n(t),u=i(c.length),d=s(o,u);if(e&&r!=r){for(;u>d;)if((a=c[d++])!=a)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}}},function(e,t,r){var n=r(101),i=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):s(e,t)}},function(e,t,r){var n=r(13).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(21),i=r(59),s=r(56)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){"use strict";var n,i=r(13),s=r(60)(0),o=r(99),a=r(61),c=r(181),u=r(184),d=r(11),l=r(63),p=r(63),h=!i.ActiveXObject&&"ActiveXObject"in i,f=a.getWeak,g=Object.isExtensible,v=u.ufstore,m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},S={get:function(e){if(d(e)){var t=f(e);return!0===t?v(l(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(l(this,"WeakMap"),e,t)}},y=e.exports=r(189)("WeakMap",m,S,u,!0,!0);p&&h&&(c((n=u.getConstructor(m,"WeakMap")).prototype,S),a.NEED=!0,s(["delete","has","get","set"],(function(e){var t=y.prototype,r=t[e];o(t,e,(function(t,i){if(d(t)&&!g(t)){this._f||(this._f=new n);var s=this._f[e](t,i);return"set"==e?this:s}return r.call(this,t,i)}))})))},function(e,t,r){var n=r(179);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(11),i=r(180),s=r(14)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(54);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(16),i=r(100),s=r(182),o=r(183),a=r(59),c=r(53),u=Object.assign;e.exports=!u||r(26)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=a(e),u=arguments.length,d=1,l=s.f,p=o.f;u>d;)for(var h,f=c(arguments[d++]),g=l?i(f).concat(l(f)):i(f),v=g.length,m=0;v>m;)h=g[m++],n&&!p.call(f,h)||(r[h]=f[h]);return r}:u},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(104),i=r(61).getWeak,s=r(20),o=r(11),a=r(105),c=r(62),u=r(60),d=r(21),l=r(63),p=u(5),h=u(6),f=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},m=function(e,t){return p(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,s){var u=e((function(e,n){a(e,u,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=n&&c(n,r,e[s],e)}));return n(u.prototype,{delete:function(e){if(!o(e))return!1;var r=i(e);return!0===r?g(l(this,t)).delete(e):r&&d(r,this._i)&&delete r[this._i]},has:function(e){if(!o(e))return!1;var r=i(e);return!0===r?g(l(this,t)).has(e):r&&d(r,this._i)}}),u},def:function(e,t,r){var n=i(s(t),!0);return!0===n?g(e).set(t,r):n[e._i]=r,e},ufstore:g}},function(e,t,r){var n=r(20);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},function(e,t,r){var n=r(27),i=r(14)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[i]===e)}},function(e,t,r){var n=r(188),i=r(14)("iterator"),s=r(27);e.exports=r(25).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[n(e)]}},function(e,t,r){var n=r(54),i=r(14)("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:s?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){"use strict";var n=r(13),i=r(24),s=r(61),o=r(26),a=r(15),c=r(104),u=r(62),d=r(105),l=r(11),p=r(58),h=r(19).f,f=r(60)(0),g=r(16);e.exports=function(e,t,r,v,m,S){var y=n[e],T=y,b=m?"set":"add",E=T&&T.prototype,_={};return g&&"function"==typeof T&&(S||E.forEach&&!o((function(){(new T).entries().next()})))?(T=t((function(t,r){d(t,T,e,"_c"),t._c=new y,null!=r&&u(r,m,t[b],t)})),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in E)||S&&"clear"==e||a(T.prototype,e,(function(r,n){if(d(this,T,e),!t&&S&&!l(r))return"get"==e&&void 0;var i=this._c[e](0===r?0:r,n);return t?this:i}))})),S||h(T.prototype,"size",{get:function(){return this._c.size}})):(T=v.getConstructor(t,e,m,b),c(T.prototype,r),s.NEED=!0),p(T,e),_[e]=T,i(i.G+i.W+i.F,_),S||v.setStrong(T,e,m),T}},function(e,t,r){r(191)("WeakMap")},function(e,t,r){"use strict";var n=r(24);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){r(193)("WeakMap")},function(e,t,r){"use strict";var n=r(24),i=r(94),s=r(33),o=r(62);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,a,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(r=[],t?(n=0,a=s(c,arguments[2],2),o(e,!1,(function(e){r.push(a(e,n++))}))):o(e,!1,r.push,r),new this(r))}})}},function(e,t,r){"use strict";r.r(t),r.d(t,"CdctsDevice",(function(){return h}));var n=r(28),i=r(34),s=r.n(i),o=r(64);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,r,i,s=d(l);function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=s.call(this),!e||"object"!==a(e))throw new TypeError("CdctsDevice: Missing config");if(!e.host)throw new TypeError("CdctsDevice: Missing 'host' parameter");if(!e.port)throw new TypeError("CdctsDevice: Missing 'port' parameter");t.config=e,t.host=e.host,t.port=e.port,t.uri="sip:".concat(e.username,"@").concat(e.host),t.path=e.path||"",t.wsServers=f(e.wsServers),t.username=e.username,t.password=e.password,t.displayName=e.displayName||e.username,t.stunServers=f(e.stunServers),t.turnServers=e.turnServers,t.registrarServer=e.registrarServer,t._userAgent=null,t._ensureConnectivityWithSipServer();var r={uri:"sip:".concat(t.username,"@").concat(t.host),transportOptions:{wsServers:["wss://".concat(t.host,":").concat(t.port).concat(t.path)]},authorizationUsersip:t.username,password:t.password,displayName:t.displayName,sessionDescriptionHandlerOptions:{constraints:{audio:!0,video:!1}}};return e.traceSip&&(r.traceSip=!0),e.logLevel&&("off"===e.logLevel?r.log={builtinEnabled:!1}:r.log={level:e.logLevel}),t._userAgent=new n.UA(r),t._userAgent.on("connecting",(function(e){t.trigger("wsConnecting",{attempts:e.attempts})})),t._userAgent.on("connected",(function(){t.trigger("wsConnected")})),t._userAgent.on("disconnected",(function(){t.trigger("wsDisconnected")})),t._userAgent.on("registered",(function(){t.trigger("registered")})),t._userAgent.on("unregistered",(function(e,r){t.trigger("unregistered",{cause:r,response:e})})),t._userAgent.on("registrationFailed",(function(e,r){t.trigger("registrationFailed",{cause:e,response:r})})),t._userAgent.on("invite",(function(e){t._activeCall=new o.a(t._userAgent),t._activeCall.incomingCall(e),t.trigger("incomingInvite",{activeCall:t._activeCall}),console.log("****session****",e)})),t._userAgent.on("message",(function(e){t.trigger("message",{message:e})})),t}return t=l,(r=[{key:"startWS",value:function(){this._userAgent.start()}},{key:"stopWS",value:function(){this._userAgent.stop()}},{key:"isWSConnected",value:function(){return this._userAgent.isConnected()}},{key:"register",value:function(e){this._userAgent.register(e)}},{key:"unregister",value:function(e){this._userAgent.register(e)}},{key:"isRegistered",value:function(){return this._userAgent.isRegistered()}},{key:"initiateCall",value:function(e){return this._activeCall=new o.a(this._userAgent),console.log("_activeCall",e,this._activeCall),this._activeCall.makeCall(e),this._activeCall}},{key:"accept",value:function(){this._activeCall._session.accept(),this._activeCall._session.on("trackAdded",(function(){var e=this.sessionDescriptionHandler.peerConnection,t=document.getElementsByClassName("cdcts-sipjs-remote-audio")[0];console.log("player",t);var r=new MediaStream;return e.getReceivers().forEach((function(e){r.addTrack(e.track)})),void 0!==t.srcObject?t.srcObject=r:void 0!==t.mozSrcObject?t.mozSrcObject=r:void 0!==t.src?t.src=URL.createObjectURL(r):console.log("Error attaching stream to element."),t.play(),this._activeCall}))}},{key:"activeCall",value:function(){return this._activeCall}},{key:"referNumber",value:function(e){return console.log("this",this),this._refer=new n.ReferClientContext(n.UA,this,e),this._refer.refer(),_refer}},{key:"_ensureConnectivityWithSipServer",value:function(){try{var e=new XMLHttpRequest;e.addEventListener("error",(function(){console.info("Failed http connection to SIP server is expected. It is related to a chrome bug.")})),e.open("GET","https://".concat(this.host,":").concat(this.port),!0),e.send()}catch(e){}}}])&&c(t.prototype,r),i&&c(t,i),l}(s.a);function f(e){if(Array.isArray(e))return e.slice(0);var t=[];return t.push(e),t}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9tZXNzYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9FbnVtcy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL0NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1V0aWxzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvRXhjZXB0aW9ucy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90aW1lcnMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9DbGllbnRDb250ZXh0LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvdHJhbnNhY3Rpb24tc3RhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnQtY29yZS9hbGxvd2VkLW1ldGhvZHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9tZXNzYWdlcy9ncmFtbWFyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9zZXNzaW9uL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9leGNlcHRpb25zL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvU2VydmVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2VzNi1ldmVudC1lbWl0dGVyL2Rpc3QvZW1pdHRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZGlhbG9ncy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZGlhbG9ncy9kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL21lc3NhZ2VzL2luY29taW5nLXJlcXVlc3QtbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvaW5jb21pbmctbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvbmFtZS1hZGRyLWhlYWRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvcGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvdXJpLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9tZXNzYWdlcy9pbmNvbWluZy1yZXNwb25zZS1tZXNzYWdlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvY2xpZW50LXRyYW5zYWN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvdHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL2V4Y2VwdGlvbnMvZXhjZXB0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvc2VydmVyLXRyYW5zYWN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9ub3RpZnktdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3N1YnNjcmlwdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbG9nL2xldmVscy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1JlZmVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1dlYi9Nb2RpZmllcnMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LW1ldGhvZHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdmFsaWRhdGUtY29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL3NyYy9saWIvY2RjdHMtY2FsbC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvb3V0Z29pbmctcmVxdWVzdC1tZXNzYWdlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvaW52aXRlLWNsaWVudC10cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvYnllLXVzZXItYWdlbnQtY2xpZW50LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9ieWUtdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL2luZm8tdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL2luZm8tdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL21lc3NhZ2UtdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL21lc3NhZ2UtdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL25vdGlmeS11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcHJhY2stdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3ByYWNrLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9yZS1pbnZpdGUtdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3JlLWludml0ZS11c2VyLWFnZW50LXNlcnZlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcmVmZXItdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3JlZmVyLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9kaWFsb2dzL3N1YnNjcmlwdGlvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3JlLXN1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbG9nL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9QdWJsaXNoQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1JlZ2lzdGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1Nlc3Npb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9TZXNzaW9uL0RUTUZWYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9UcmFuc3BvcnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9VQS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1dlYi9TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL3Nlc3Npb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9XZWIvVHJhbnNwb3J0LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvbWV0aG9kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvbWV0aG9kcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL21lc3NhZ2VzL2JvZHkuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9ncmFtbWFyL2Rpc3QvZ3JhbW1hci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbWVzc2FnZXMvZGlnZXN0LWF1dGhlbnRpY2F0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2NyeXB0by1qcy9tZDUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvY3J5cHRvLWpzL2NvcmUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL21lc3NhZ2VzL291dGdvaW5nLXJlc3BvbnNlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9tZXNzYWdlcy9wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL2RpYWxvZ3Mvc2Vzc2lvbi1kaWFsb2cuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3Nlc3Npb24vc2Vzc2lvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZXhjZXB0aW9ucy90cmFuc2FjdGlvbi1zdGF0ZS1lcnJvci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvZXhjZXB0aW9ucy90cmFuc3BvcnQtZXJyb3IuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3RyYW5zYWN0aW9ucy9pbnZpdGUtc2VydmVyLXRyYW5zYWN0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS90cmFuc2FjdGlvbnMvbm9uLWludml0ZS1jbGllbnQtdHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3RyYW5zYWN0aW9ucy9ub24taW52aXRlLXNlcnZlci10cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvc3Vic2NyaXB0aW9uL3N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvbG9nL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS9sb2cvbG9nZ2VyLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnQtY29yZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudC1jb3JlL3VzZXItYWdlbnQtY29yZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvY2FuY2VsLXVzZXItYWdlbnQtY2xpZW50LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9pbnZpdGUtdXNlci1hZ2VudC1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL2ludml0ZS11c2VyLWFnZW50LXNlcnZlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcHVibGlzaC11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcmUtc3Vic2NyaWJlLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvY29yZS91c2VyLWFnZW50cy9yZWdpc3Rlci11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvcmVnaXN0ZXItdXNlci1hZ2VudC1zZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9jb3JlL3VzZXItYWdlbnRzL3N1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2NvcmUvdXNlci1hZ2VudHMvc3Vic2NyaWJlLXVzZXItYWdlbnQtc2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL1Nlc3Npb24vRFRNRi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2FwaS9ieWUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9hcGkvZW1pdHRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2FwaS9leGNlcHRpb25zL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvY29udGVudC10eXBlLXVuc3VwcG9ydGVkLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvcmVxdWVzdC1wZW5kaW5nLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvc2Vzc2lvbi1kZXNjcmlwdGlvbi1oYW5kbGVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvc2Vzc2lvbi10ZXJtaW5hdGVkLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL2V4Y2VwdGlvbnMvc3RhdGUtdHJhbnNpdGlvbi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9zaXAuanMvbGliL2FwaS9pbmZvLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL21lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9hcGkvbm90aWZpY2F0aW9uLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL3JlZmVycmFsLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvYXBpL3Nlc3Npb24tc3RhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvc2lwLmpzL2xpYi9XZWIvU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvV2ViL2luZGV4LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL3NpcC5qcy9saWIvV2ViL1NpbXBsZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy93ZWFrLW1hcC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vd2Vhay1tYXAuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tYWJzb2x1dGUtaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LndlYWstbWFwLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1zcGVjaWVzLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2xsZWN0aW9uLXdlYWsuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2RjdHMtc2lwanMvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LndlYWstbWFwLm9mLmpzIiwid2VicGFjazovL2NkY3RzLXNpcGpzLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtY29sbGVjdGlvbi1vZi5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcud2Vhay1tYXAuZnJvbS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LWNvbGxlY3Rpb24tZnJvbS5qcyIsIndlYnBhY2s6Ly9jZGN0cy1zaXBqcy8uL3NyYy9saWIvY2RjdHMtZGV2aWNlLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJleHRlbmRTdGF0aWNzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfX2V4dGVuZHMiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsIl9fYXNzaWduIiwiYXNzaWduIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJfX3Jlc3QiLCJlIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsIl9fY3JlYXRlQmluZGluZyIsImsiLCJrMiIsInVuZGVmaW5lZCIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiX19yZWFkIiwiYXIiLCJlcnJvciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImEiLCJqIiwiamwiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsInJhdyIsIl9faW1wb3J0U3RhciIsIm1vZCIsImRlZmF1bHQiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJwcml2YXRlTWFwIiwiaGFzIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInNldCIsInRzbGliXzEiLCJtZXNzYWdlc18xIiwidHJhbnNhY3Rpb25zXzEiLCJVc2VyQWdlbnRDbGllbnQiLCJ0cmFuc2FjdGlvbkNvbnN0cnVjdG9yIiwiY29yZSIsIm1lc3NhZ2UiLCJkZWxlZ2F0ZSIsImNoYWxsZW5nZWQiLCJzdGFsZSIsImxvZ2dlciIsImxvZ2dlckZhY3RvcnkiLCJnZXRMb2dnZXIiLCJpbml0IiwiZGlzcG9zZSIsInRyYW5zYWN0aW9uIiwiY29uZmlndXJhYmxlIiwiX3RyYW5zYWN0aW9uIiwiRXJyb3IiLCJjYW5jZWwiLCJyZWFzb24iLCJvcHRpb25zIiwiX3RoaXMiLCJ0byIsImZyb20iLCJtYWtlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZSIsIkMiLCJDQU5DRUwiLCJydXJpIiwidXJpIiwidG9UYWciLCJmcm9tVGFnIiwiY2FsbElkIiwiY3NlcSIsImV4dHJhSGVhZGVycyIsImJyYW5jaCIsImhlYWRlcnMiLCJSb3V0ZSIsInNldEhlYWRlciIsInN0YXRlIiwiVHJhbnNhY3Rpb25TdGF0ZSIsIlByb2NlZWRpbmciLCJOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiIsIm9uY2UiLCJhdXRoZW50aWNhdGlvbkd1YXJkIiwiZGlhbG9nIiwiY2hhbGxlbmdlIiwiYXV0aG9yaXphdGlvbkhlYWRlck5hbWUiLCJzdGF0dXNDb2RlIiwicGFyc2VIZWFkZXIiLCJ3YXJuIiwiY3JlZGVudGlhbHMiLCJjb25maWd1cmF0aW9uIiwiYXV0aGVudGljYXRpb25GYWN0b3J5IiwiYXV0aGVudGljYXRlIiwibG9jYWxTZXF1ZW5jZU51bWJlciIsImluY3JlbWVudExvY2FsU2VxdWVuY2VOdW1iZXIiLCJtZXRob2QiLCJ0b1N0cmluZyIsIm9uUmVxdWVzdFRpbWVvdXQiLCJJbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSIsInJlYXNvblBocmFzZSIsInJlY2VpdmVSZXNwb25zZSIsIm9uVHJhbnNwb3J0RXJyb3IiLCJ0ZXN0Iiwib25UcnlpbmciLCJvblByb2dyZXNzIiwib25BY2NlcHQiLCJvblJlZGlyZWN0Iiwib25SZWplY3QiLCJ1c2VyIiwib25TdGF0ZUNoYW5nZSIsIm5ld1N0YXRlIiwiVGVybWluYXRlZCIsInVzZXJBZ2VudENsaWVudHMiLCJkZWxldGUiLCJ1c2VyQWdlbnRDbGllbnRJZCIsInRyYW5zcG9ydCIsImlkIiwicmVxdWVzdCIsIkRpYWxvZ1N0YXR1cyIsIlNlc3Npb25TdGF0dXMiLCJUeXBlU3RyaW5ncyIsIlVBU3RhdHVzIiwiZXhjZXB0aW9uc18xIiwidXRpbHNfMSIsIlVzZXJBZ2VudFNlcnZlciIsIm5ld1RhZyIsImFjY2VwdCIsImFjY2VwdGFibGUiLCJUcmFuc2FjdGlvblN0YXRlRXJyb3IiLCJyZXBseSIsInByb2dyZXNzIiwicHJvZ3Jlc3NhYmxlIiwicmVkaXJlY3QiLCJjb250YWN0cyIsInJlZGlyZWN0YWJsZSIsImNvbnRhY3RIZWFkZXJzIiwiZm9yRWFjaCIsImNvbnRhY3QiLCJyZWplY3RhYmxlIiwidHJ5aW5nIiwidHJ5aW5nYWJsZSIsInJlY2VpdmVDYW5jZWwiLCJvbkNhbmNlbCIsIkludml0ZVNlcnZlclRyYW5zYWN0aW9uIiwiQWNjZXB0ZWQiLCJOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiIsIlRyeWluZyIsInVzZXJBZ2VudCIsInVzZXJBZ2VudEhlYWRlckZpZWxkVmFsdWUiLCJzdXBwb3J0ZWQiLCJzdXBwb3J0ZWRPcHRpb25UYWdzUmVzcG9uc2UiLCJyZXNwb25zZSIsImNvbnN0cnVjdE91dGdvaW5nUmVzcG9uc2UiLCJ1c2VyQWdlbnRTZXJ2ZXJzIiwidXNlckFnZW50U2VydmVySWQiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0QXBwbHkiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJFdmVudEVtaXR0ZXIiLCJlbWl0dGVyIiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsIndhcm5lZCIsInciLCJTdHJpbmciLCJjb3VudCIsImNvbnNvbGUiLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndyYXBMaXN0ZW5lciIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXIiLCJjb250ZXh0IiwibGVuIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdCIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsImluZGV4Iiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwia2V5cyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJ2ZXJzaW9uXzEiLCJ2ZXJzaW9uIiwiTElCUkFSWV9WRVJTSU9OIiwiVVNFUl9BR0VOVCIsIlNJUCIsIlNJUFMiLCJjYXVzZXMiLCJTSVBfRVJST1JfQ0FVU0VTIiwiQUREUkVTU19JTkNPTVBMRVRFIiwiQVVUSEVOVElDQVRJT05fRVJST1IiLCJCVVNZIiwiSU5DT01QQVRJQkxFX1NEUCIsIk5PVF9GT1VORCIsIlJFRElSRUNURUQiLCJSRUpFQ1RFRCIsIlVOQVZBSUxBQkxFIiwiQUNLIiwiQllFIiwiSU5GTyIsIklOVklURSIsIk1FU1NBR0UiLCJOT1RJRlkiLCJPUFRJT05TIiwiUkVHSVNURVIiLCJVUERBVEUiLCJTVUJTQ1JJQkUiLCJQVUJMSVNIIiwiUkVGRVIiLCJQUkFDSyIsIlJFQVNPTl9QSFJBU0UiLCIxMDAiLCIxODAiLCIxODEiLCIxODIiLCIxODMiLCIxOTkiLCIyMDAiLCIyMDIiLCIyMDQiLCIzMDAiLCIzMDEiLCIzMDIiLCIzMDUiLCIzODAiLCI0MDAiLCI0MDEiLCI0MDIiLCI0MDMiLCI0MDQiLCI0MDUiLCI0MDYiLCI0MDciLCI0MDgiLCI0MTAiLCI0MTIiLCI0MTMiLCI0MTQiLCI0MTUiLCI0MTYiLCI0MTciLCI0MjAiLCI0MjEiLCI0MjIiLCI0MjMiLCI0MjgiLCI0MjkiLCI0MzAiLCI0MzMiLCI0MzYiLCI0MzciLCI0MzgiLCI0MzkiLCI0NDAiLCI0NjkiLCI0NzAiLCI0NzgiLCI0ODAiLCI0ODEiLCI0ODIiLCI0ODMiLCI0ODQiLCI0ODUiLCI0ODYiLCI0ODciLCI0ODgiLCI0ODkiLCI0OTEiLCI0OTMiLCI0OTQiLCI1MDAiLCI1MDEiLCI1MDIiLCI1MDMiLCI1MDQiLCI1MDUiLCI1MTMiLCI1ODAiLCI2MDAiLCI2MDMiLCI2MDQiLCI2MDYiLCJPUFRJT05fVEFHUyIsImR0bWZUeXBlIiwiQ29uc3RhbnRzXzEiLCJncmFtbWFyXzEiLCJ1cmlfMSIsIlV0aWxzIiwiZGVmZXIiLCJkZWZlcnJlZCIsInByb21pc2UiLCJyZWR1Y2VQcm9taXNlcyIsInZhbCIsInJlZHVjZSIsImFjYyIsImZuIiwic3RyX3V0ZjhfbGVuZ3RoIiwic3RyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsImdlbmVyYXRlRmFrZVNEUCIsInN0YXJ0IiwiZW5kIiwiaXNEZWNpbWFsIiwibnVtIiwibnVtQXNOdW0iLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJjcmVhdGVSYW5kb21Ub2tlbiIsInNpemUiLCJiYXNlIiwidG9rZW4iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJuZXdVVUlEIiwibm9ybWFsaXplVGFyZ2V0IiwiZG9tYWluIiwiVVJJIiwidGFyZ2V0QXJyYXkiLCJzcGxpdCIsInRhcmdldFVzZXIiLCJ0YXJnZXREb21haW4iLCJqb2luIiwiZXNjYXBlVXNlciIsIkdyYW1tYXIiLCJVUklQYXJzZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImhlYWRlcml6ZSIsImV4Y2VwdGlvbnMiLCJ0b0xvd2VyQ2FzZSIsInBhcnRzIiwiaG5hbWUiLCJwYXJ0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJzaXBFcnJvckNhdXNlIiwiY2F1c2UiLCJTSVBfRkFJTFVSRV9DT0RFIiwiZ2V0UmVhc29uUGhyYXNlIiwiY29kZSIsInNwZWNpZmljIiwiZ2V0UmVhc29uSGVhZGVyVmFsdWUiLCJnZXRDYW5jZWxSZWFzb24iLCJidWlsZFN0YXR1c0xpbmUiLCJmcm9tQm9keU9iaiIsImJvZHlPYmoiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJjb250ZW50RGlzcG9zaXRpb24iLCJjb250ZW50VHlwZVRvQ29udGVudERpc3Bvc2l0aW9uIiwidG9Cb2R5T2JqIiwiY29yZV8xIiwiRW51bXNfMSIsIkV4Y2VwdGlvbnMiLCJDbG9zZWRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IiLCJfc3VwZXIiLCJFeGNlcHRpb24iLCJUZXJtaW5hdGVkU2Vzc2lvbkVycm9yIiwiVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yIiwiTGVnYWN5RXhjZXB0aW9uIiwiQ29uZmlndXJhdGlvbkVycm9yIiwicGFyYW1ldGVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIkludmFsaWRTdGF0ZUVycm9yIiwic3RhdHVzIiwiTm90U3VwcG9ydGVkRXJyb3IiLCJSZW5lZ290aWF0aW9uRXJyb3IiLCJNZXRob2RQYXJhbWV0ZXJFcnJvciIsIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciIsIml0IiwiVDEiLCJUaW1lcnMiLCJUMiIsIlQ0IiwiVElNRVJfQiIsIlRJTUVSX0QiLCJUSU1FUl9GIiwiVElNRVJfSCIsIlRJTUVSX0kiLCJUSU1FUl9KIiwiVElNRVJfSyIsIlRJTUVSX0wiLCJUSU1FUl9NIiwiVElNRVJfTiIsIlBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMIiwiZ2xvYmFsIiwic2VsZiIsIl9fZyIsInN0b3JlIiwidWlkIiwiVVNFX1NZTUJPTCIsImRQIiwiY3JlYXRlRGVzYyIsImV2ZW50c18xIiwiVXRpbHNfMSIsIkNsaWVudENvbnRleHQiLCJ1YSIsImRhdGEiLCJpbml0aWFsaXplciIsIm9ialRvQ29uc3RydWN0Iiwib3JpZ2luYWxUYXJnZXQiLCJmcm9tVVJJIiwidXNlckFnZW50Q29yZSIsImFvciIsInBhcmFtcyIsImZyb21VcmkiLCJ0b1VSSSIsInRvVXJpIiwibG9jYWxJZGVudGl0eSIsInJlbW90ZUlkZW50aXR5Iiwic2VuZCIsImFwcGxpY2FudHMiLCJSRVFVRVNUX1RJTUVPVVQiLCJDT05ORUNUSU9OX0VSUk9SIiwiYW5PYmplY3QiLCJJRThfRE9NX0RFRklORSIsInRvUHJpbWl0aXZlIiwiTyIsIkF0dHJpYnV0ZXMiLCJpc09iamVjdCIsIkFsbG93ZWRNZXRob2RzIiwiY3R4IiwiaGlkZSIsIiRleHBvcnQiLCJzb3VyY2UiLCJvd24iLCJvdXQiLCJJU19GT1JDRUQiLCJGIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIlMiLCJJU19QUk9UTyIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsInZpcnR1YWwiLCJVIiwiX19lIiwiZXhlYyIsIkRpZ2VzdEF1dGhlbnRpY2F0aW9uIiwiSW5jb21pbmdSZXF1ZXN0IiwiSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSIsIkluY29taW5nUmVzcG9uc2UiLCJMb2dnZXJGYWN0b3J5IiwiTmFtZUFkZHJIZWFkZXIiLCJPdXRnb2luZ1JlcXVlc3QiLCJPdXRnb2luZ1JlcXVlc3RNZXNzYWdlIiwiUGFyc2VyIiwiQ2xpZW50Q29udGV4dF8xIiwiRXhjZXB0aW9uc18xIiwiUHVibGlzaENvbnRleHRfMSIsIlB1Ymxpc2hDb250ZXh0IiwiUmVmZXJDb250ZXh0XzEiLCJSZWZlckNsaWVudENvbnRleHQiLCJSZWZlclNlcnZlckNvbnRleHQiLCJSZWdpc3RlckNvbnRleHRfMSIsIlJlZ2lzdGVyQ29udGV4dCIsIlNlcnZlckNvbnRleHRfMSIsIlNlcnZlckNvbnRleHQiLCJTZXNzaW9uXzEiLCJJbnZpdGVDbGllbnRDb250ZXh0IiwiSW52aXRlU2VydmVyQ29udGV4dCIsIlNlc3Npb24iLCJTdWJzY3JpcHRpb25fMSIsIlN1YnNjcmlwdGlvbiIsIlRyYW5zcG9ydF8xIiwiVHJhbnNwb3J0IiwiVHJhbnNhY3Rpb25zIiwiSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24iLCJVQV8xIiwibWFrZVVzZXJBZ2VudENvcmVDb25maWd1cmF0aW9uRnJvbVVBIiwiVUEiLCJXZWIiLCJDb3JlIiwicGVnR3JhbW1hciIsInBhcnNlIiwiaW5wdXQiLCJzdGFydFJ1bGUiLCJuYW1lQWRkckhlYWRlclBhcnNlIiwibmFtZUFkZHJIZWFkZXIiLCJwYXJzZWROYW1lQWRkckhlYWRlciIsInBhcnNlZFVyaSIsImluY29taW5nUmVxdWVzdCIsIm9iamVjdFRvQ29uc3RydWN0IiwiaGFzSGVhZGVyIiwiZ2V0SGVhZGVyIiwiYXNzZXJ0ZWRJZGVudGl0eSIsIm1pbkNvZGUiLCJtYXhDb2RlIiwiZnJvbUJvZHlMZWdhY3kiLCJyZXNwb25zZU9wdGlvbnMiLCJzdGF0dXNDb2RlU3RyaW5nIiwiZXZlbnQiLCJhRnVuY3Rpb24iLCJfY2xhc3NDYWxsQ2hlY2szIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jcmVhdGVDbGFzczMiLCJvYmoiLCJFbWl0dGVyIiwiZXZlbnRMZW5ndGgiLCJjYiIsInNwbGljZSIsIl9sZW4iLCJfa2V5Iiwib25jZUxpc3RlbmVycyIsIkRpYWxvZyIsImRpYWxvZ1N0YXRlIiwiZGlhbG9ncyIsImluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudENsaWVudCIsIm91dGdvaW5nUmVxdWVzdE1lc3NhZ2UiLCJpbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSIsInJvdXRlU2V0IiwiZ2V0SGVhZGVycyIsInJldmVyc2UiLCJyZW1vdGVUYXJnZXQiLCJsb2NhbFRhZyIsInJlbW90ZVRhZyIsImxvY2FsVVJJIiwicmVtb3RlVVJJIiwiZWFybHkiLCJyZW1vdGVTZXF1ZW5jZU51bWJlciIsInNlY3VyZSIsImluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudFNlcnZlciIsImluY29taW5nUmVxdWVzdE1lc3NhZ2UiLCJjb25maXJtIiwicmVjZWl2ZVJlcXVlc3QiLCJyZWNvbXB1dGVSb3V0ZVNldCIsImNyZWF0ZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UiLCJzZXF1ZW5jZUd1YXJkIiwicmVwbHlTdGF0ZWxlc3MiLCJJbmNvbWluZ01lc3NhZ2UiLCJhZGRIZWFkZXIiLCJoZWFkZXIiLCJfaSIsImhlYWRlcl8xIiwiaGVhZGVyUGFydCIsImlkeCIsInBhcnNlZCIsImRpc3BsYXlOYW1lIiwicGFyYW1ldGVycyIsIl9kaXNwbGF5TmFtZSIsImNsb25lIiwiUGFyYW1ldGVycyIsInBhcmFtIiwic2V0UGFyYW0iLCJnZXRQYXJhbSIsImhhc1BhcmFtIiwiZGVsZXRlUGFyYW0iLCJjbGVhclBhcmFtcyIsInNjaGVtZSIsImhvc3QiLCJwb3J0Iiwibm9ybWFsIiwiZGVsZXRlSGVhZGVyIiwiY2xlYXJIZWFkZXJzIiwiX3JhdyIsInRvUmF3IiwiX3RvU3RyaW5nIiwiX25vcm1hbCIsInVyaVN0cmluZyIsIm1hdGNoIiwiZGVjb2RlZFVzZXIiLCJDbGllbnRUcmFuc2FjdGlvbiIsIl9yZXF1ZXN0IiwibG9nZ2VyQ2F0ZWdvcnkiLCJtYWtlSWQiLCJzZXRWaWFIZWFkZXIiLCJwcm90b2NvbCIsIlRyYW5zYWN0aW9uIiwiX3RyYW5zcG9ydCIsIl91c2VyIiwiX2lkIiwiX3N0YXRlIiwiZGVidWciLCJ0eXBlVG9TdHJpbmciLCJjYWxsYmFjayIsImxvZ1RyYW5zcG9ydEVycm9yIiwiY2F0Y2giLCJUcmFuc3BvcnRFcnJvciIsInRyYW5zcG9ydEVycm9yIiwic2V0U3RhdGUiLCJfbmV3VGFyZ2V0IiwiU2VydmVyVHJhbnNhY3Rpb24iLCJ2aWFCcmFuY2giLCJOb3RpZnlVc2VyQWdlbnRTZXJ2ZXIiLCJkaWFsb2dPckNvcmUiLCJMZXZlbHMiLCJhcHBsaWNhbnQiLCJpbml0UmVmZXJUbyIsInJlZmVyIiwic2VuZFJlcXVlc3QiLCJyZWNlaXZlTm90aWZ5Iiwic2VhcmNoIiwibWVzc2FnZUJvZHkiLCJzdGF0dXNfY29kZSIsImFjdGl2ZUFmdGVyVHJhbnNmZXIiLCJ0ZXJtaW5hdGUiLCJzdHJpbmdPclVSSSIsInRhcmdldFN0cmluZyIsInRhcmdldFVyaSIsInNlc3Npb24iLCJmcmllbmRseU5hbWUiLCJTVEFUVVNfSU5WSVRFX1JFQ0VJVkVEIiwidGFnIiwiQ29udGFjdCIsInJlZmVyVG8iLCJyZWZlcnJlZFNlc3Npb24iLCJmaW5kU2Vzc2lvbiIsInJlZmVycmVkQnkiLCJyZXBsYWNlcyIsIlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIiLCJTVEFUVVNfVEVSTUlOQVRFRCIsImxvZyIsIm1vZGlmaWVycyIsIlNUQVRVU19BTlNXRVJFRCIsImZvbGxvd1JlZmVyIiwiaW52aXRlT3B0aW9ucyIsInRhcmdldFNlc3Npb24iLCJpbnZpdGUiLCJzZW5kTm90aWZ5IiwidHJpbSIsInJlZmVyRmFpbGVkIiwiYm9keVN0ciIsIm5vdGlmeSIsImdldExvZ2dlckZhY3RvcnkiLCJzdHJpcFBheWxvYWQiLCJzZHAiLCJwYXlsb2FkIiwiY3VycmVudE1lZGlhRGVzYyIsIm1lZGlhRGVzY3MiLCJsaW5lcyIsImxpbmUiLCJzdHJpcHBlZCIsInJ0cG1hcCIsIm1lZGlhRGVzY3NfMSIsIm1lZGlhRGVzYyIsIm1saW5lIiwic3RyaXBUY3BDYW5kaWRhdGVzIiwiZGVzY3JpcHRpb24iLCJzdHJpcFRlbGVwaG9uZUV2ZW50IiwiY2xlYW5KaXRzaVNkcEltYWdlYXR0ciIsInN0cmlwRzcyMiIsInN0cmlwUnRwUGF5bG9hZCIsInN0cmlwVmlkZW8iLCJkZXNjcmlwdGlvblJlZ0V4cCIsIlJlZ0V4cCIsImdyb3VwUmVnRXhwIiwibWlkTGluZVRvUmVtb3ZlXzEiLCJncm91cExpbmUiLCJmaWx0ZXIiLCJzZWN0aW9uIiwic3Vic3RyIiwiZ3JvdXBMaW5lUG9ydGlvbiIsImdyb3VwUmVnRXhwUmVwbGFjZSIsInN0cmlwTWVkaWFEZXNjcmlwdGlvbiIsImFkZE1pZExpbmVzIiwibWxpbmVzXzEiLCJzZHBBcnJheV8xIiwiZWxlbSIsIklPYmplY3QiLCJkZWZpbmVkIiwiY29mIiwidG9JbnRlZ2VyIiwibWluIiwic2hhcmVkIiwicHgiLCJkZWYiLCJUQUciLCJzdGF0IiwidG9PYmplY3QiLCJ0b0xlbmd0aCIsImFzYyIsIlRZUEUiLCIkY3JlYXRlIiwiSVNfTUFQIiwiSVNfRklMVEVSIiwiSVNfU09NRSIsIklTX0VWRVJZIiwiSVNfRklORF9JTkRFWCIsIk5PX0hPTEVTIiwiJHRoaXMiLCJjYWxsYmFja2ZuIiwicmVzIiwiTUVUQSIsInNldERlc2MiLCJpc0V4dGVuc2libGUiLCJGUkVFWkUiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInNldE1ldGEiLCJtZXRhIiwiS0VZIiwiTkVFRCIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJpc0FycmF5SXRlciIsImdldEl0ZXJGbiIsIkJSRUFLIiwiUkVUVVJOIiwiaXRlcmFibGUiLCJlbnRyaWVzIiwiSVRFUkFUT1IiLCJpdGVyRm4iLCJfdCIsIkNkY3RzQ2FsbCIsIl9tdXRlIiwiX3N0YXR1cyIsIl9jYWxsVHlwZSIsIl9kb2NCb2R5IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImF1ZGlvRWxlbWVudCIsImludml0ZVVyaSIsIl9zZXNzaW9uIiwiX2dldEF1ZGlvRWxlbWVudCIsIl9hdHRhdGNoU2Vzc2lvbkV2ZW50cyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsInRyaWdnZXIiLCJoYXNPZmZlciIsInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIiLCJoYXNEZXNjcmlwdGlvbiIsIlNUQVRVU19FQVJMWV9NRURJQSIsIl93YWl0aW5nRm9yQXBwbHlpbmdBbnN3ZXIiLCJkdG1mIiwibmV3U2Vzc2lvbiIsInBjIiwicGVlckNvbm5lY3Rpb24iLCJyZW1vdGVTdHJlYW0iLCJNZWRpYVN0cmVhbSIsImdldFJlY2VpdmVycyIsImFkZFRyYWNrIiwidHJhY2siLCJwYXNzZWRPcHRpb25zIiwic3JjT2JqZWN0IiwibW96U3JjT2JqZWN0Iiwic3JjIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicGxheSIsIm1lZGlhIiwiY29uc3RyYWludHMiLCJhdWRpbyIsInZpZGVvIiwicmVuZGVyIiwicmVtb3RlIiwic2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMiLCJzdG9wIiwiaXNNdXRlIiwibXV0ZSIsInVubXV0ZSIsImlzSG9sZCIsImhvbGQiLCJ1bmhvbGQiLCJkaWdpdHMiLCJjbGVhclRpbWVyIiwic2V0VGltZW91dCIsImNoZWNrIiwiaGFzQW5zd2VyIiwiY2xlYXJUaW1lb3V0Iiwic2V0RGVzY3JpcHRpb24iLCJmYWlsZWQiLCJCQURfTUVESUFfREVTQ1JJUFRJT04iLCJyZWFzb25fcGhyYXNlIiwibmFtZV9hZGRyX2hlYWRlcl8xIiwiZ2V0RGVmYXVsdE9wdGlvbnMiLCJvcHRpb25UYWdzIiwibWFrZU5hbWVBZGRySGVhZGVyIiwiZnJvbURpc3BsYXlOYW1lIiwidG9EaXNwbGF5TmFtZSIsImNhbGxJZFByZWZpeCIsImZvcmNlUnBvcnQiLCJoYWNrVmlhVGNwIiwidXNlckFnZW50U3RyaW5nIiwidmlhSG9zdCIsInJlZ2V4cCIsIl9hIiwiZXhIZWFkZXIiLCJoZWFkZXJBcnJheSIsImhlYWRlckFycmF5XzEiLCJfYiIsImV4dHJhSGVhZGVyIiwidmlhIiwibXNnIiwiX2MiLCJ0aW1lcnNfMSIsImNsaWVudF90cmFuc2FjdGlvbl8xIiwidHJhbnNhY3Rpb25fc3RhdGVfMSIsIkNhbGxpbmciLCJhY2tSZXRyYW5zbWlzc2lvbkNhY2hlIiwiTWFwIiwidGltZXJfQiIsIkQiLCJNIiwiYWNrUmVzcG9uc2UiLCJhY2siLCJzdGF0ZVRyYW5zaXRpb24iLCJDb21wbGV0ZWQiLCJyb3V0ZSIsImR1ZVRvVHJhbnNwb3J0RXJyb3IiLCJpbnZhbGlkU3RhdGVUcmFuc2l0aW9uIiwidGltZXJfRCIsInRpbWVyX00iLCJ0aW1lcl9BIiwiQnllVXNlckFnZW50Q2xpZW50IiwiQnllVXNlckFnZW50U2VydmVyIiwiSW5mb1VzZXJBZ2VudENsaWVudCIsIkluZm9Vc2VyQWdlbnRTZXJ2ZXIiLCJNZXNzYWdlVXNlckFnZW50Q2xpZW50IiwiTWVzc2FnZVVzZXJBZ2VudFNlcnZlciIsIk5vdGlmeVVzZXJBZ2VudENsaWVudCIsIlByYWNrVXNlckFnZW50Q2xpZW50Iiwic2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uIiwiUHJhY2tVc2VyQWdlbnRTZXJ2ZXIiLCJSZUludml0ZVVzZXJBZ2VudENsaWVudCIsInJlaW52aXRlVXNlckFnZW50Q2xpZW50IiwicHJhY2siLCJzaWduYWxpbmdTdGF0ZVJvbGxiYWNrIiwiUmVJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIiLCJyZWludml0ZVVzZXJBZ2VudFNlcnZlciIsIm1hcCIsInJlQ29uZmlybSIsIlJlZmVyVXNlckFnZW50Q2xpZW50IiwiUmVmZXJVc2VyQWdlbnRTZXJ2ZXIiLCJzdWJzY3JpcHRpb25fMSIsImFsbG93ZWRfbWV0aG9kc18xIiwibm90aWZ5X3VzZXJfYWdlbnRfc2VydmVyXzEiLCJyZV9zdWJzY3JpYmVfdXNlcl9hZ2VudF9jbGllbnRfMSIsIlN1YnNjcmlwdGlvbkRpYWxvZyIsInN1YnNjcmlwdGlvbkV2ZW50Iiwic3Vic2NyaXB0aW9uRXhwaXJlcyIsInN1YnNjcmlwdGlvblN0YXRlIiwiX2F1dG9SZWZyZXNoIiwiX3N1YnNjcmlwdGlvbkV2ZW50IiwiX3N1YnNjcmlwdGlvbkV4cGlyZXMiLCJfc3Vic2NyaXB0aW9uRXhwaXJlc0luaXRpYWwiLCJfc3Vic2NyaXB0aW9uRXhwaXJlc0xhc3RTZXQiLCJEYXRlIiwibm93IiwiX3N1YnNjcmlwdGlvblJlZnJlc2giLCJfc3Vic2NyaXB0aW9uUmVmcmVzaExhc3RTZXQiLCJfc3Vic2NyaXB0aW9uU3RhdGUiLCJpbml0aWFsRGlhbG9nU3RhdGVGb3JTdWJzY3JpcHRpb24iLCJvdXRnb2luZ1N1YnNjcmliZVJlcXVlc3RNZXNzYWdlIiwiaW5jb21pbmdOb3RpZnlSZXF1ZXN0TWVzc2FnZSIsIk4iLCJyZWZyZXNoVGltZXJDbGVhciIsImF1dG9SZWZyZXNoIiwicmVmcmVzaFRpbWVyU2V0Iiwic2Vjb25kc1NpbmNlTGFzdFNldCIsInNlY29uZHNVbnRpbEV4cGlyZXMiLCJtYXgiLCJleHBpcmVzIiwicmVmcmVzaCIsInN1YnNjcmlwdGlvblJlZnJlc2giLCJvbk5vdGlmeSIsImFsbG93SGVhZGVyIiwic3Vic2NyaXB0aW9uRXhwaXJlc0luaXRpYWwiLCJzdWJzY3JpYmUiLCJTdWJzY3JpcHRpb25TdGF0ZSIsIlBlbmRpbmciLCJBY3RpdmUiLCJ1YWMiLCJSZVN1YnNjcmliZVVzZXJBZ2VudENsaWVudCIsInRpbWVyX04iLCJvblRlcm1pbmF0ZWQiLCJ1bnN1YnNjcmliZSIsInVhcyIsIm9uUmVmcmVzaCIsInJlZnJlc2hUaW1lciIsIm5ld0V4cGlyZXMiLCJJbml0aWFsIiwiTm90aWZ5V2FpdCIsIndhaXROb3RpZnlTdG9wIiwic3Vic2NyaXB0aW9uRXhwaXJlc1JlY2VpdmVkIiwibGV2ZWxzXzEiLCJMb2dnZXIiLCJjYXRlZ29yeSIsImdlbmVyaWNMb2ciLCJsZXZlbCIsInVucHVibGlzaE9uQ2xvc2UiLCJwdWJSZXF1ZXN0RXhwaXJlcyIsInB1Ymxpc2giLCJwdWJsaXNoUmVmcmVzaFRpbWVyIiwicHViUmVxdWVzdEJvZHkiLCJwdWJSZXF1ZXN0RXRhZyIsInB1Ymxpc2hlcnMiLCJzZW5kUHVibGlzaFJlcXVlc3QiLCJ1bnB1Ymxpc2giLCJjbG9zZSIsInJlZnJlc2hSZXF1ZXN0IiwibWluRXhwaXJlcyIsInJlcU9wdGlvbnMiLCJsb2FkQ29uZmlnIiwic2V0dGluZ3MiLCJleHRyYUNvbnRhY3RIZWFkZXJQYXJhbXMiLCJpbnN0YW5jZUlkIiwicmVnSWQiLCJyZWdpc3RyYXIiLCJjb25maWdDaGVjayIsIm1hbmRhdG9yeSIsIm9wdGlvbmFsIiwiY29udGFjdEhlYWRlclBhcmFtIiwiY2hlY2tlZFZhbHVlIiwicmVnaXN0cmFyU2VydmVyIiwicmVnaXN0ZXJlZCIsIm9uVHJhbnNwb3J0RGlzY29ubmVjdGVkIiwicmVnaXN0ZXIiLCJnZW5lcmF0ZUNvbnRhY3RIZWFkZXIiLCJjbG9zZUhlYWRlcnMiLCJjbG9zZVdpdGhIZWFkZXJzIiwicmVnaXN0cmF0aW9uVGltZXIiLCJyZWdpc3RyYXRpb25FeHBpcmVkVGltZXIiLCJ1bnJlZ2lzdGVyZWQiLCJFWFBJUkVTIiwidGVtcEdydXUiLCJwdWJHcnV1IiwicmVnaXN0cmF0aW9uRmFpbHVyZSIsImFsbCIsInJlZ2lzdGVyZWRCZWZvcmUiLCJ1bnJlZ2lzdGVyIiwiRFRNRl8xIiwiRFRNRlZhbGlkYXRvcl8xIiwic2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkiLCJTVEFUVVNfTlVMTCIsInBlbmRpbmdSZWludml0ZSIsInRpbWVycyIsImFja1RpbWVyIiwiZXhwaXJlc1RpbWVyIiwiaW52aXRlMnh4VGltZXIiLCJ1c2VyTm9BbnN3ZXJUaW1lciIsInJlbDF4eFRpbWVyIiwicHJhY2tUaW1lciIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJ0b25lcyIsImxvY2FsSG9sZCIsImVhcmx5U2RwIiwicmVsMTAwIiwiVU5TVVBQT1JURUQiLCJTVEFUVVNfQ09ORklSTUVEIiwiU1RBVFVTX1dBSVRJTkdfRk9SX0FDSyIsIkRUTUZWYWxpZGF0b3IiLCJ2YWxpZGF0ZSIsInNlbmREVE1GIiwidGltZW91dCIsInRvbmUiLCJkdXJhdGlvbiIsImludGVyVG9uZUdhcCIsIlJUUCIsInNlbmREdG1mIiwiZHRtZnMiLCJ0b25lc0FycmF5IiwiRFRNRiIsImlzQXJyYXkiLCJieWUiLCJ0ZXJtaW5hdGVkIiwicmVmZXJDb250ZXh0IiwicmVxdWVzdE9wdGlvbnMiLCJ0aW1lciIsInNlc3Npb25zIiwiaG9sZE1vZGlmaWVyIiwic2VuZFJlaW52aXRlIiwicmVpbnZpdGUiLCJvbkRpYWxvZ0Vycm9yIiwiRElBTE9HX0VSUk9SIiwib25BY2siLCJjb25maXJtU2Vzc2lvbiIsImNvbnRlbnREaXNwIiwicmVuZGVyYm9keSIsInJlbmRlcnR5cGUiLCJyZWNlaXZlUmVpbnZpdGUiLCJvbkluZm8iLCJyZWdUb25lIiwicmVnRHVyYXRpb24iLCJpbml0X2luY29taW5nIiwiZ2V0RGVzY3JpcHRpb24iLCJjYW5jZWxlZCIsImFjY2VwdGVkIiwicmVwbGFjZWUiLCJjb25uZWN0aW5nIiwiaW5jb21pbmdJbnZpdGVSZXF1ZXN0IiwiX2NhbmNlbGVkIiwicnNlcSIsInNldDEwMHJlbCIsInJlbFNldHRpbmciLCJSRVFVSVJFRCIsIlNVUFBPUlRFRCIsIk5PX0FOU1dFUiIsIm5vQW5zd2VyVGltZW91dCIsIl9hY2NlcHQiLCJhY2tSZXF1ZXN0Iiwib25BY2tUaW1lb3V0Iiwib25CeWUiLCJieWVSZXF1ZXN0IiwiaW5mb1JlcXVlc3QiLCJvbkludml0ZSIsImludml0ZVJlcXVlc3QiLCJvbk1lc3NhZ2UiLCJtZXNzYWdlUmVxdWVzdCIsIm5vdGlmeVJlcXVlc3QiLCJvblByYWNrIiwicHJhY2tSZXF1ZXN0Iiwib25SZWZlciIsInJlZmVyUmVxdWVzdCIsIm9uQ29udGV4dEVycm9yIiwiU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLIiwiU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLIiwiX3JlbGlhYmxlUHJvZ3Jlc3NXYWl0Rm9yUHJhY2siLCJfcHJvZ3Jlc3MiLCJzZXNzaW9uU3RhdGUiLCJTZXNzaW9uU3RhdGUiLCJFYXJseSIsIkFja1dhaXQiLCJDb25maXJtZWQiLCJTVEFUVVNfQ0FOQ0VMRUQiLCJDQU5DRUxFRCIsInNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciIsInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyIsImdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlciIsImdldEJvZHkiLCJzZXRPZmZlckFuZEdldEFuc3dlciIsImdldE9mZmVyIiwic2lnbmFsaW5nU3RhdGUiLCJTaWduYWxpbmdTdGF0ZSIsIlN0YWJsZSIsIkhhdmVMb2NhbE9mZmVyIiwiSGF2ZVJlbW90ZU9mZmVyIiwib2ZmZXIiLCJDbG9zZWQiLCJoYW5kbGVQcmFja09mZmVyQW5zd2VyIiwic2V0QW5zd2VyIiwicHJhY2tOZXZlckFycml2ZWQiLCJ3YWl0Rm9yQXJyaXZhbE9mUHJhY2siLCJfcHJvZ3Jlc3NXaXRoU0RQIiwicHJvZ3Jlc3NSZXNwb25zZSIsIl9yZWxpYWJsZVByb2dyZXNzIiwid2FpdGluZ0ZvclByYWNrIiwib2ZmZXJBbnN3ZXIiLCJwcmFja1Jlc3BvbnNlIiwicHJhY2tXYWl0VGltZW91dFRpbWVyIiwicmVsMXh4UmV0cmFuc21pc3Npb25UaW1lciIsInByYWNrUmVzcG9uc2VCb2R5IiwicHJhY2tBcnJpdmVkIiwiTk9fUFJBQ0siLCJyZWwxeHhSZXRyYW5zbWlzc2lvbiIsIk5PX0FDSyIsIndhaXRpbmdGb3JQcmFja1Jlc29sdmUiLCJ3YWl0aW5nRm9yUHJhY2tQcm9taXNlIiwid2FpdGluZ0ZvclByYWNrUmVqZWN0IiwiZ2V0U2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciIsImFuc3dlciIsInNkaCIsImFub255bW91cyIsIm91dGJvdW5kIiwiZWFybHlNZWRpYVNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJzIiwiaW52aXRlV2l0aG91dFNkcCIsImlzQ2FuY2VsZWQiLCJyZWNlaXZlZDEwMCIsInNlbmRJbnZpdGUiLCJTVEFUVVNfSU5WSVRFX1NFTlQiLCJXRUJSVENfRVJST1IiLCJjYW5jZWxSZWFzb24iLCJvdXRnb2luZ0ludml0ZVJlcXVlc3QiLCJpbnZpdGVSZXNwb25zZSIsImFja0FuZEJ5ZSIsIm91dGdvaW5nQWNrUmVxdWVzdCIsIm91dGdvaW5nQnllUmVxdWVzdCIsImRpc3Bvc2VFYXJseU1lZGlhIiwic2RoXzEiLCJvcHRpb25zXzEiLCJTVEFUVVNfMVhYX1JFQ0VJVkVEIiwicmVxdWlyZUhlYWRlciIsInJzZXFIZWFkZXIiLCJyZXNwb25zZVJlbGlhYmxlIiwiaW5jbHVkZXMiLCJzZGhfMiIsIm1vcmVUaGFuT25lVG9uZSIsImdlbmVyYXRlSW52YWxpZFRvbmVFcnJvciIsInJlZ2V4IiwidG9uZUZvck1zZyIsImluaXRDb250ZXh0IiwiZGlzcG9zZWQiLCJzdWJzY3JpcHRpb25zIiwicmV0cnlBZnRlclRpbWVyIiwic3Vic2NyaXB0aW9uIiwib25BY2NlcHRlZCIsIm9uRmFpbGVkIiwic3VjY2VzcyIsImZhaWx1cmUiLCJTdWJzY3JpYmVDbGllbnRDb250ZXh0Iiwic3Vic2NyaWJlZCIsInJlcXVlc3RXaXRoU3Vic2NyaXB0aW9uIiwib25Ob3RpZnlUaW1lb3V0Iiwic2VydmVyIiwiY29ubmVjdCIsImNvbm5lY3RQcm9taXNlIiwib3ZlcnJpZGVFdmVudCIsInNlbmRQcm9taXNlIiwiZGlzY29ubmVjdCIsImRpc2Nvbm5lY3RQcm9taXNlIiwiYWZ0ZXJDb25uZWN0ZWQiLCJpc0Nvbm5lY3RlZCIsIndhaXRGb3JDb25uZWN0ZWQiLCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXzEiLCJ1bmxvYWRMaXN0ZW5lciIsIlNUQVRVU19JTklUIiwiYnVpbHRpbkVuYWJsZWQiLCJjb25uZWN0b3IiLCJub3JtYWxpemVkIiwiU1RBVFVTX05PVF9SRUFEWSIsIkNPTkZJR1VSQVRJT05fRVJST1IiLCJ0cmFuc3BvcnRDb25zdHJ1Y3RvciIsInRyYW5zcG9ydE9wdGlvbnMiLCJ1c2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbiIsInVzZXJBZ2VudENvcmVEZWxlZ2F0ZSIsImNhbGxfaWQiLCJyZXBsYWNlc19mcm9tX3RhZyIsInJlcGxhY2VzX3RvX3RhZyIsInRhcmdldERpYWxvZ0lkIiwidGFyZ2V0RGlhbG9nIiwiZWFybHlfb25seSIsImhhbmRsZUludml0ZVdpdGhSZXBsYWNlc0hlYWRlciIsImF1dG9TZW5kQW5Jbml0aWFsUHJvdmlzaW9uYWxSZXNwb25zZSIsImluY29taW5nTWVzc2FnZVJlcXVlc3QiLCJzZXJ2ZXJDb250ZXh0IiwiaW5jb21pbmdOb3RpZnlSZXF1ZXN0IiwiYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zIiwiaW5jb21pbmdSZWZlclJlcXVlc3QiLCJhbGxvd091dE9mRGlhbG9nUmVmZXJzIiwib25TdWJzY3JpYmUiLCJpbmNvbWluZ1N1YnNjcmliZVJlcXVlc3QiLCJVc2VyQWdlbnRDb3JlIiwicmVnaXN0ZXJDb250ZXh0IiwicmVnaXN0ZXJPcHRpb25zIiwiYXV0b3N0YXJ0IiwiaXNSZWdpc3RlcmVkIiwic3ViIiwicHViIiwicmVxIiwiU1RBVFVTX1VTRVJfQ0xPU0VEIiwicHVibGlzaGVyIiwicmVzZXQiLCJhdXRvc3RvcCIsImdvb2dsZUNocm9tZVBhY2thZ2VkQXBwIiwiY2hyb21lIiwiYXBwIiwicnVudGltZSIsIlNUQVRVU19TVEFSVElORyIsInNldFRyYW5zcG9ydExpc3RlbmVycyIsIlNUQVRVU19SRUFEWSIsImhvc3Rwb3J0UGFyYW1zIiwiZ2V0U3VwcG9ydGVkUmVzcG9uc2VPcHRpb25zIiwiZXh0cmFTdXBwb3J0ZWQiLCJhbGxvd1VucmVnaXN0ZXJlZCIsImhhY2tBbGxvd1VucmVnaXN0ZXJlZE9wdGlvblRhZ3MiLCJvcHRpb25UYWdTZXQiLCJvcHRpb25UYWciLCJ1bmlxdWUiLCJORVRXT1JLX0VSUk9SIiwib25UcmFuc3BvcnRDb25uZWN0ZWQiLCJvblRyYW5zcG9ydFJlY2VpdmVNc2ciLCJtZXNzYWdlU3RyaW5nIiwicGFyc2VNZXNzYWdlIiwiaGFzTWluaW11bUhlYWRlcnMiLCJtYW5kYXRvcnlIZWFkZXJzXzEiLCJzaXBqc0lkIiwiY29udGVudExlbmd0aCIsInJlY2VpdmVJbmNvbWluZ1JlcXVlc3RGcm9tVHJhbnNwb3J0IiwicmVjZWl2ZUluY29taW5nUmVzcG9uc2VGcm9tVHJhbnNwb3J0IiwiY2hlY2tBdXRoZW50aWNhdGlvbkZhY3RvcnkiLCJpbml0aWFsaXplIiwiY3VzdG9tIiwicGFzc3dvcmQiLCJ1c2VQcmVsb2FkZWRSb3V0ZSIsImhhY2tJcEluQ29udGFjdCIsImhhY2tXc3NJblRyYW5zcG9ydCIsInBlZXJDb25uZWN0aW9uT3B0aW9ucyIsImNvbnRhY3ROYW1lIiwiY29udGFjdFRyYW5zcG9ydCIsIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIiLCJkZWZhdWx0RmFjdG9yeSIsImF1dGhvcml6YXRpb25Vc2VyIiwiZXhwZXJpbWVudGFsRmVhdHVyZXMiLCJnZXRDb25maWd1cmF0aW9uQ2hlY2siLCJvY3RldCIsInNrZWxldG9uIiwib3B0aW9uVGFnc18xIiwiQUxMT1dFRF9NRVRIT0RTIiwiQUNDRVBURURfQk9EWV9UWVBFUyIsIk1BWF9GT1JXQVJEUyIsIlRBR19MRU5HVEgiLCJzaXBVcmkiLCJzdXBwb3J0ZWRPcHRpb25UYWdzIiwiU2V0IiwidmlhRm9yY2VScG9ydCIsInRyYW5zcG9ydEFjY2Vzc29yIiwiRHRtZlR5cGUiLCJzZXNzaW9uXzEiLCJNb2RpZmllcnMiLCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXJfMSIsIm9ic2VydmVyIiwiZHRtZlNlbmRlciIsInNob3VsZEFjcXVpcmVNZWRpYSIsIkNPTlRFTlRfVFlQRSIsIkRJUkVDVElPTiIsIk5VTEwiLCJTRU5EUkVDViIsIlNFTkRPTkxZIiwiUkVDVk9OTFkiLCJJTkFDVElWRSIsImRpcmVjdGlvbiIsImljZUdhdGhlcmluZ1RpbWVvdXQiLCJpbml0UGVlckNvbm5lY3Rpb24iLCJjaGVja0FuZERlZmF1bHRDb25zdHJhaW50cyIsIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlciIsImdldFNlbmRlcnMiLCJzZW5kZXIiLCJnZXRMb2NhbFN0cmVhbXMiLCJzdHJlYW0iLCJnZXRUcmFja3MiLCJnZXRSZW1vdGVTdHJlYW1zIiwicmVzZXRJY2VHYXRoZXJpbmdDb21wbGV0ZSIsIm5ld0NvbnN0cmFpbnRzIiwiYWNxdWlyZSIsImNyZWF0ZU9mZmVyT3JBbnN3ZXIiLCJSVENPZmZlck9wdGlvbnMiLCJzZXNzaW9uRGVzY3JpcHRpb24iLCJhbHdheXNBY3F1aXJlTWVkaWFGaXJzdCIsIm1vZGlmaWVkRGVzY3JpcHRpb24iLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsImRpc2FibGVBdWRpb0ZhbGxiYWNrIiwiaGFzQnJvd3NlckdldFNlbmRlclN1cHBvcnQiLCJzZW5kZXJzIiwiaGFzQnJvd3NlclRyYWNrU3VwcG9ydCIsInN0cmVhbXMiLCJhdWRpb1RyYWNrcyIsImdldEF1ZGlvVHJhY2tzIiwiY3JlYXRlRFRNRlNlbmRlciIsImluc2VydERUTUYiLCJnZXREaXJlY3Rpb24iLCJnZXRNZWRpYVN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsIm1ldGhvZE5hbWUiLCJjcmVhdGVBbnN3ZXIiLCJjcmVhdGVPZmZlciIsImNyZWF0ZVJUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXQiLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwid2FpdEZvckljZUdhdGhlcmluZ0NvbXBsZXRlIiwibG9jYWxEZXNjcmlwdGlvbiIsInNldERpcmVjdGlvbiIsIlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiIsImFkZERlZmF1bHRJY2VDaGVja2luZ1RpbWVvdXQiLCJpY2VDaGVja2luZ1RpbWVvdXQiLCJhZGREZWZhdWx0SWNlU2VydmVycyIsInJ0Y0NvbmZpZ3VyYXRpb24iLCJpY2VTZXJ2ZXJzIiwidXJscyIsImRlZmF1bHRDb25zdHJhaW50cyIsIkJvb2xlYW4iLCJSVENQZWVyQ29ubmVjdGlvbiIsInRyYWNrQWRkZWQiLCJvbmFkZHN0cmVhbSIsIm9uaWNlY2FuZGlkYXRlIiwiY2FuZGlkYXRlIiwidHJpZ2dlckljZUdhdGhlcmluZ0NvbXBsZXRlIiwib25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSIsImljZUdhdGhlcmluZ1N0YXRlIiwiaWNlR2F0aGVyaW5nVGltZXIiLCJvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSIsInN0YXRlRXZlbnQiLCJpY2VDb25uZWN0aW9uU3RhdGUiLCJyZW1vdmVUcmFjayIsImFkZFN0cmVhbSIsIndoZXJlIiwib2ZmZXJTdGF0ZSIsImlzSWNlR2F0aGVyaW5nQ29tcGxldGUiLCJpY2VHYXRoZXJpbmdEZWZlcnJlZCIsImRpcmVjdGlvbkNoYW5nZWQiLCJieWVfMSIsImVtaXR0ZXJfMSIsImluZm9fMSIsIm1lc3NhZ2VfMSIsIm5vdGlmaWNhdGlvbl8xIiwicmVmZXJyYWxfMSIsInNlc3Npb25fc3RhdGVfMSIsIl9zdGF0ZUV2ZW50RW1pdHRlciIsIl91c2VyQWdlbnQiLCJfc2Vzc2lvbnMiLCJfc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciIsIkVzdGFibGlzaGluZyIsIkVzdGFibGlzaGVkIiwiX2J5ZSIsIlRlcm1pbmF0aW5nIiwiX2Fzc2VydGVkSWRlbnRpdHkiLCJfZGlhbG9nIiwiX3JlcGxhY2VlIiwiX21ha2VFbWl0dGVyIiwicmVxdWVzdERlbGVnYXRlIiwiY29weVJlcXVlc3RPcHRpb25zIiwiaW5mbyIsIl9pbmZvIiwiUmVxdWVzdFBlbmRpbmdFcnJvciIsIndpdGhvdXRTZHAiLCJhbnN3ZXJPcHRpb25zIiwic2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVycyIsImFuc3dlckJvZHkiLCJfc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMiLCJfc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVycyIsInJvbGxiYWNrT2ZmZXIiLCJfY29udGFjdCIsIm9mZmVyT3B0aW9ucyIsIm9mZmVyQm9keSIsIl9tZXNzYWdlIiwicmVmZXJFeHRyYUhlYWRlcnMiLCJyZWZlclRvU3RyaW5nIiwiX3JlZmVyIiwib25BY2tSZXF1ZXN0IiwiX3JlbmRlcmJvZHkiLCJfcmVuZGVydHlwZSIsIm9uQnllUmVxdWVzdCIsIkJ5ZSIsIm9uSW5mb1JlcXVlc3QiLCJJbmZvIiwib25JbnZpdGVSZXF1ZXN0IiwiZ2VuZXJhdGVSZXNwb25zZU9mZmVyQW5zd2VySW5EaWFsb2ciLCJvdXRnb2luZ1Jlc3BvbnNlIiwiZXJyb3JSb2xsYmFjayIsIm9uTWVzc2FnZVJlcXVlc3QiLCJNZXNzYWdlIiwib25Ob3RpZnlSZXF1ZXN0Iiwibm90aWZpY2F0aW9uIiwiTm90aWZpY2F0aW9uIiwib25QcmFja1JlcXVlc3QiLCJvblJlZmVyUmVxdWVzdCIsInJlZmVycmFsIiwiUmVmZXJyYWwiLCJtYWtlSW52aXRlciIsIl9yZWZlcnJhbEludml0ZXJPcHRpb25zIiwic2RoT3B0aW9ucyIsInNkaE1vZGlmaWVycyIsImJvZHlBbmRDb250ZW50VHlwZSIsInJvbGxiYWNrRGVzY3JpcHRpb24iLCJDb250ZW50VHlwZVVuc3VwcG9ydGVkRXJyb3IiLCJzZXRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyIiwiaW52YWxpZFRyYW5zaXRpb24iLCJ0ZXh0IiwiVHJhbnNwb3J0U3RhdHVzIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJTVEFUVVNfQ09OTkVDVElORyIsIndzU2VydmVycyIsIlNUQVRVU19PUEVOIiwid3MiLCJvbkVycm9yIiwic3RhdHVzQXNzZXJ0IiwiZm9yY2UiLCJ0cmFjZVNpcCIsImRpc2Nvbm5lY3Rpb25Qcm9taXNlIiwic3RhdHVzVHJhbnNpdGlvbiIsIlNUQVRVU19DTE9TSU5HIiwiZGlzY29ubmVjdERlZmVycmVkUmVzb2x2ZSIsInJlY29ubmVjdFRpbWVyIiwic3RvcFNlbmRpbmdLZWVwQWxpdmVzIiwid3NVcmkiLCJTVEFUVVNfQ0xPU0VEIiwiY29ubmVjdGlvblByb21pc2UiLCJnZXROZXh0V3NTZXJ2ZXIiLCJjb25uZWN0RGVmZXJyZWRSZXNvbHZlIiwiY29ubmVjdERlZmVycmVkUmVqZWN0IiwiZGlzcG9zZVdzIiwiV2ViU29ja2V0IiwiYmluYXJ5VHlwZSIsImNvbm5lY3Rpb25UaW1lb3V0IiwiYm91bmRPbk9wZW4iLCJvbk9wZW4iLCJib3VuZE9uTWVzc2FnZSIsImJvdW5kT25DbG9zZSIsIm9uQ2xvc2UiLCJib3VuZE9uRXJyb3IiLCJvbldlYnNvY2tldEVycm9yIiwiZmluaXNoZWREYXRhIiwiY2xlYXJLZWVwQWxpdmVUaW1lb3V0IiwiZnJvbUNoYXJDb2RlIiwiVWludDhBcnJheSIsInN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXMiLCJyZWNvbm5lY3QiLCJub0F2YWlsYWJsZVNlcnZlcnMiLCJyZXNldFNlcnZlckVycm9yU3RhdHVzIiwibWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJpc0Vycm9yIiwicmVjb25uZWN0aW9uVGltZW91dCIsImNhbmRpZGF0ZXMiLCJ3c1NlcnZlciIsIndlaWdodCIsInNlbmRLZWVwQWxpdmUiLCJrZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQiLCJrZWVwQWxpdmVEZWJvdW5jZSIsInVwcGVyQm91bmQiLCJsb3dlckJvdW5kIiwia2VlcEFsaXZlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJyZXR1cm5Db25maWd1cmF0aW9uIiwiZGVmaW5lUHJvcGVydGllcyIsIndzU2VydmVyc18xIiwidXJsIiwiaXMiLCJiaXRtYXAiLCJ3cml0YWJsZSIsIiRrZXlzIiwiZW51bUJ1Z0tleXMiLCJjZWlsIiwiY29weXJpZ2h0Iiwic2FmZSIsIkNvbnN0cnVjdG9yIiwiZm9yYmlkZGVuRmllbGQiLCJpbmNvbWluZ19yZXF1ZXN0X21lc3NhZ2VfMSIsImluY29taW5nX3Jlc3BvbnNlX21lc3NhZ2VfMSIsIm91dGdvaW5nX3JlcXVlc3RfbWVzc2FnZV8xIiwiaXNCb2R5IiwiYm9keUxlZ2FjeSIsIlN5bnRheEVycm9yIiwiZXhwZWN0ZWQiLCJmb3VuZCIsImxvY2F0aW9uIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJidWlsZE1lc3NhZ2UiLCJoZXgiLCJjaCIsImNoYXJDb2RlQXQiLCJsaXRlcmFsRXNjYXBlIiwiY2xhc3NFc2NhcGUiLCJkZXNjcmliZUV4cGVjdGF0aW9uIiwiZXhwZWN0YXRpb24iLCJlc2NhcGVkUGFydHMiLCJpbnZlcnRlZCIsImV4cGVjdGVkMSIsImRlc2NyaXB0aW9ucyIsInNvcnQiLCJkZXNjcmliZUV4cGVjdGVkIiwiZm91bmQxIiwicGVnJHJlc3VsdCIsInBlZyRGQUlMRUQiLCJwZWckc3RhcnRSdWxlSW5kaWNlcyIsIk5hbWVfQWRkcl9IZWFkZXIiLCJSZWNvcmRfUm91dGUiLCJSZXF1ZXN0X1Jlc3BvbnNlIiwiU0lQX1VSSSIsIlN1YnNjcmlwdGlvbl9TdGF0ZSIsIlN1cHBvcnRlZCIsIlJlcXVpcmUiLCJWaWEiLCJhYnNvbHV0ZVVSSSIsIkNhbGxfSUQiLCJDb250ZW50X0Rpc3Bvc2l0aW9uIiwiQ29udGVudF9MZW5ndGgiLCJDb250ZW50X1R5cGUiLCJDU2VxIiwiRXZlbnQiLCJGcm9tIiwiTWF4X0ZvcndhcmRzIiwiTWluX1NFIiwiUHJveHlfQXV0aGVudGljYXRlIiwicXVvdGVkX3N0cmluZyIsIlJlZmVyX1RvIiwiUmVwbGFjZXMiLCJTZXNzaW9uX0V4cGlyZXMiLCJzdHVuX1VSSSIsIlRvIiwidHVybl9VUkkiLCJ1dWlkIiwiV1dXX0F1dGhlbnRpY2F0ZSIsInNpcGZyYWciLCJSZWZlcnJlZF9CeSIsInBlZyRzdGFydFJ1bGVJbmRleCIsInBlZyRjb25zdHMiLCJwZWckbGl0ZXJhbEV4cGVjdGF0aW9uIiwicGVnJGNsYXNzRXhwZWN0YXRpb24iLCJjb250ZW50cyIsImhvc3RfdHlwZSIsInVyaV9wYXJhbXMiLCJ1cmlfaGVhZGVycyIsInVyaV9zY2hlbWUiLCJ0dGwiLCJtYWRkciIsImh2YWx1ZSIsInNpcF92ZXJzaW9uIiwibXVsdGlfaGVhZGVyIiwicGVnJGN1cnJQb3MiLCJvZmZzZXQiLCJkZWx0YV9zZWNvbmRzIiwiY3NlcV92YWx1ZSIsImV2ZW50X3R5cGUiLCJmb3J3YXJkcyIsIm1pbl9leHBpcmVzIiwicmVhbG0iLCJub25jZSIsIm9wYXF1ZSIsImFsZ29yaXRobSIsInFvcF92YWx1ZSIsInFvcCIsInJhY2tfdmFsdWUiLCJmcm9tX3RhZyIsInRvX3RhZyIsImhlYWQiLCJ0YWlsIiwicnNlcV92YWx1ZSIsInJldHJ5X2FmdGVyIiwidmlhX3R0bF92YWx1ZSIsInZpYV9tYWRkciIsInZpYV9yZWNlaXZlZCIsInJlY2VpdmVkIiwidmlhX2JyYW5jaCIsInJlc3BvbnNlX3BvcnQiLCJycG9ydCIsInZpYV9wcm90b2NvbCIsInZpYV90cmFuc3BvcnQiLCJ2aWFfc2VudF9ieV9wb3J0IiwiZGVsdGFTZWNvbmRzIiwiZW5kcG9pbnQiLCJyZWZyZXNoZXIiLCJwZWckYnl0ZWNvZGUiLCJwZWckZGVjb2RlIiwicGVnJHNhdmVkUG9zIiwicGVnJHBvc0RldGFpbHNDYWNoZSIsImNvbHVtbiIsInBlZyRtYXhGYWlsUG9zIiwicGVnJG1heEZhaWxFeHBlY3RlZCIsInBlZyRzaWxlbnRGYWlscyIsInBlZyRjb21wdXRlTG9jYXRpb24iLCJ0ZXh0MSIsImlnbm9yZUNhc2UiLCJwZWckY29tcHV0ZVBvc0RldGFpbHMiLCJwb3MiLCJkZXRhaWxzIiwic3RhcnRQb3MiLCJlbmRQb3MiLCJzdGFydFBvc0RldGFpbHMiLCJlbmRQb3NEZXRhaWxzIiwicGVnJGZhaWwiLCJwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IiLCJsb2NhdGlvbjEiLCJwZWckcGFyc2VSdWxlIiwiYmMiLCJpcCIsImlwcyIsImVuZHMiLCJzdGFjayIsIm1kNV8xIiwidXNlcm5hbWUiLCJuYyIsIm5jSGV4IiwiY25vbmNlIiwidXBkYXRlTmNIZXgiLCJjYWxjdWxhdGVSZXNwb25zZSIsImF1dGhQYXJhbXMiLCJoYTIiLCJoYTEiLCJDcnlwdG9KUyIsIkNfbGliIiwibGliIiwiV29yZEFycmF5IiwiSGFzaGVyIiwiQ19hbGdvIiwiYWxnbyIsIlQiLCJhYnMiLCJzaW4iLCJNRDUiLCJleHRlbmQiLCJfZG9SZXNldCIsIl9oYXNoIiwiX2RvUHJvY2Vzc0Jsb2NrIiwib2Zmc2V0X2kiLCJNX29mZnNldF9pIiwiSCIsIndvcmRzIiwiTV9vZmZzZXRfMCIsIk1fb2Zmc2V0XzEiLCJNX29mZnNldF8yIiwiTV9vZmZzZXRfMyIsIk1fb2Zmc2V0XzQiLCJNX29mZnNldF81IiwiTV9vZmZzZXRfNiIsIk1fb2Zmc2V0XzciLCJNX29mZnNldF84IiwiTV9vZmZzZXRfOSIsIk1fb2Zmc2V0XzEwIiwiTV9vZmZzZXRfMTEiLCJNX29mZnNldF8xMiIsIk1fb2Zmc2V0XzEzIiwiTV9vZmZzZXRfMTQiLCJNX29mZnNldF8xNSIsIkZGIiwiR0ciLCJISCIsIklJIiwiX2RvRmluYWxpemUiLCJfZGF0YSIsImRhdGFXb3JkcyIsIm5CaXRzVG90YWwiLCJfbkRhdGFCeXRlcyIsIm5CaXRzTGVmdCIsInNpZ0J5dGVzIiwibkJpdHNUb3RhbEgiLCJuQml0c1RvdGFsTCIsIl9wcm9jZXNzIiwiaGFzaCIsIkhfaSIsIngiLCJfY3JlYXRlSGVscGVyIiwiSG1hY01ENSIsIl9jcmVhdGVIbWFjSGVscGVyIiwic3VidHlwZSIsIkJhc2UiLCJvdmVycmlkZXMiLCJtaXhJbiIsIiRzdXBlciIsImluc3RhbmNlIiwicHJvcGVydGllcyIsInByb3BlcnR5TmFtZSIsImVuY29kZXIiLCJIZXgiLCJ3b3JkQXJyYXkiLCJ0aGlzV29yZHMiLCJ0aGF0V29yZHMiLCJ0aGlzU2lnQnl0ZXMiLCJ0aGF0U2lnQnl0ZXMiLCJjbGFtcCIsInRoYXRCeXRlIiwibkJ5dGVzIiwicmNhY2hlIiwibV93IiwibV96IiwibWFzayIsIl9yIiwiQ19lbmMiLCJlbmMiLCJoZXhDaGFycyIsImJpdGUiLCJoZXhTdHIiLCJoZXhTdHJMZW5ndGgiLCJMYXRpbjEiLCJsYXRpbjFDaGFycyIsImxhdGluMVN0ciIsImxhdGluMVN0ckxlbmd0aCIsIlV0ZjgiLCJlc2NhcGUiLCJ1dGY4U3RyIiwidW5lc2NhcGUiLCJCdWZmZXJlZEJsb2NrQWxnb3JpdGhtIiwiX2FwcGVuZCIsImRvRmx1c2giLCJkYXRhU2lnQnl0ZXMiLCJibG9ja1NpemUiLCJuQmxvY2tzUmVhZHkiLCJuV29yZHNSZWFkeSIsIl9taW5CdWZmZXJTaXplIiwibkJ5dGVzUmVhZHkiLCJwcm9jZXNzZWRXb3JkcyIsImNmZyIsInVwZGF0ZSIsIm1lc3NhZ2VVcGRhdGUiLCJmaW5hbGl6ZSIsImhhc2hlciIsIkhNQUMiLCJmcm9tSGVhZGVyIiwiY2FsbElkSGVhZGVyIiwiY1NlcUhlYWRlciIsInZpYUhlYWRlcnMiLCJwcmV2aW91cyIsImN1cnJlbnQiLCJ0b0hlYWRlciIsInN1cHBvcnRlZEhlYWRlciIsInVzZXJBZ2VudEhlYWRlciIsImV4dGVuc2lvbkhlYWRlcnMiLCJoZWFkZXJTdGFydCIsInBhcnRpYWxFbmQiLCJoZWFkZXJFbmQiLCJoY29sb25JbmRleCIsImhlYWRlck5hbWUiLCJoZWFkZXJWYWx1ZSIsImZpcnN0TGluZSIsImJvZHlTdGFydCIsImJ5ZV91c2VyX2FnZW50X2NsaWVudF8xIiwiYnllX3VzZXJfYWdlbnRfc2VydmVyXzEiLCJpbmZvX3VzZXJfYWdlbnRfY2xpZW50XzEiLCJpbmZvX3VzZXJfYWdlbnRfc2VydmVyXzEiLCJtZXNzYWdlX3VzZXJfYWdlbnRfY2xpZW50XzEiLCJtZXNzYWdlX3VzZXJfYWdlbnRfc2VydmVyXzEiLCJub3RpZnlfdXNlcl9hZ2VudF9jbGllbnRfMSIsInByYWNrX3VzZXJfYWdlbnRfY2xpZW50XzEiLCJwcmFja191c2VyX2FnZW50X3NlcnZlcl8xIiwicmVfaW52aXRlX3VzZXJfYWdlbnRfY2xpZW50XzEiLCJyZV9pbnZpdGVfdXNlcl9hZ2VudF9zZXJ2ZXJfMSIsInJlZmVyX3VzZXJfYWdlbnRfY2xpZW50XzEiLCJyZWZlcl91c2VyX2FnZW50X3NlcnZlcl8xIiwiU2Vzc2lvbkRpYWxvZyIsImluaXRpYWxUcmFuc2FjdGlvbiIsIl9zaWduYWxpbmdTdGF0ZSIsImFja1dhaXQiLCJzdGFydDJ4eFJldHJhbnNtaXNzaW9uVGltZXIiLCJfb2ZmZXIiLCJfYW5zd2VyIiwic3RhcnRSZUludml0ZTJ4eFJldHJhbnNtaXNzaW9uVGltZXIiLCJyZWxpYWJsZVNlcXVlbmNlR3VhcmQiLCJfcm9sbGJhY2tPZmZlciIsIl9yb2xsYmFja0Fuc3dlciIsInRyYW5zYWN0aW9uXzEiLCJ0aW1lb3V0XzEiLCJyZXRyYW5zbWlzc2lvbl8xIiwicmV0cmFuc21pdEFjY2VwdGVkUmVzcG9uc2UiLCJzdGF0ZUNoYW5nZWRfMSIsInRyYW5zYWN0aW9uXzIiLCJ0aW1lb3V0XzIiLCJyZXRyYW5zbWlzc2lvbl8yIiwic3RhdGVDaGFuZ2VkXzIiLCJzZXJ2ZXJfdHJhbnNhY3Rpb25fMSIsInN0b3BQcm9ncmVzc0V4dGVuc2lvblRpbWVyIiwiSSIsIkwiLCJsYXN0UHJvdmlzaW9uYWxSZXNwb25zZSIsImxhc3RGaW5hbFJlc3BvbnNlIiwic3RhcnRQcm9ncmVzc0V4dGVuc2lvblRpbWVyIiwidGltZXJfTCIsInRpbWVyX0giLCJ0aW1lcl9JIiwicHJvZ3Jlc3NFeHRlbnNpb25UaW1lciIsInRpbWVyX0ciLCJ0aW1lcl9GIiwiSyIsInRpbWVyX0siLCJKIiwibGFzdFJlc3BvbnNlIiwidGltZXJfSiIsImxvZ2dlcl8xIiwiX2xldmVsIiwibG9nZ2VycyIsIm5ld0xldmVsIiwiX2Nvbm5lY3RvciIsImxldmVsVG9Mb2ciLCJwcmludCIsInByZWZpeCIsInVzZXJfYWdlbnRzXzEiLCJhY2NlcHRlZEJvZHlUeXBlcyIsInN1YnNjcmliZXJzIiwiY2xlYXIiLCJzdWJzY3JpYmVyIiwiSW52aXRlVXNlckFnZW50Q2xpZW50IiwiUHVibGlzaFVzZXJBZ2VudENsaWVudCIsIlJlZ2lzdGVyVXNlckFnZW50Q2xpZW50IiwiU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50IiwicmVxdWVzdFVSSSIsImRlZmF1bHRPcHRpb25zIiwicmVjZWl2ZVJlcXVlc3RGcm9tVHJhbnNwb3J0IiwicmVjZWl2ZVJlc3BvbnNlRnJvbVRyYW5zcG9ydCIsInRyYW5zYWN0aW9uSWQiLCJJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIiLCJydXJpTWF0Y2hlcyIsInZhbHVlcyIsInNvbWUiLCJyZWNlaXZlSW5zaWRlRGlhbG9nUmVxdWVzdCIsInJlY2VpdmVPdXRzaWRlRGlhbG9nUmVxdWVzdCIsImV2ZW50XzEiLCJzdWJzY3JpYmVySWQiLCJkaWFsb2dJZCIsImFjY2VwdEhlYWRlciIsIlJlZ2lzdGVyVXNlckFnZW50U2VydmVyIiwib25SZWdpc3RlciIsIlN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciIsInVzZXJBZ2VudENsaWVudCIsIkNhbmNlbFVzZXJBZ2VudENsaWVudCIsImRpYWxvZ3NfMSIsImNvbmZpcm1lZERpYWxvZ0Fja3MiLCJjb25maXJtZWREaWFsb2dzIiwiZWFybHlEaWFsb2dzIiwiZWFybHlEaWFsb2ciLCJzZXNzaW9uXzIiLCJzZXNzaW9uXzMiLCJjb25maXJtZWREaWFsb2ciLCJyZWNvcmRSb3V0ZUhlYWRlciIsImNvbnRhY3RIZWFkZXIiLCJSZVN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciIsInN1YnNjcmlwdGlvbl9kaWFsb2dfMSIsInN1YnNjcmlwdGlvbkV4cGlyZXNSZXF1ZXN0ZWQiLCJ3YWl0Tm90aWZ5U3RhcnQiLCJNSU5fRFVSQVRJT04iLCJNQVhfRFVSQVRJT04iLCJERUZBVUxUX0RVUkFUSU9OIiwiTUlOX0lOVEVSX1RPTkVfR0FQIiwiREVGQVVMVF9JTlRFUl9UT05FX0dBUCIsIm93bmVyIiwib3JpZ2luYXRvciIsImluY29taW5nQnllUmVxdWVzdCIsImV2ZW50RW1pdHRlciIsImV2ZW50TmFtZSIsIlNlc3Npb25UZXJtaW5hdGVkRXJyb3IiLCJTdGF0ZVRyYW5zaXRpb25FcnJvciIsImluY29taW5nSW5mb1JlcXVlc3QiLCJpbnZpdGVyIiwidGFyZ2V0VVJJIiwiX21ha2VJbnZpdGVyIiwiX3JlZmVycmVkIiwiX3JlZmVycmFsIiwiU2ltcGxlXzEiLCJTaW1wbGUiLCJTaW1wbGVTdGF0dXMiLCJicm93c2VyVWEiLCJpc1NhZmFyaSIsImlzRmlyZWZveCIsIlNUQVRVU19DT01QTEVURUQiLCJzZXR1cFNlc3Npb24iLCJkZXN0aW5hdGlvbiIsImNoZWNrUmVnaXN0cmF0aW9uIiwiYXV0b3BsYXkiLCJsb2NhbCIsInZvbHVtZSIsIlNUQVRVU19ORVciLCJoYW5ndXAiLCJTVEFUVVNfQ09OTkVDVEVEIiwidG9nZ2xlTXV0ZSIsInNldHVwUmVtb3RlTWVkaWEiLCJzZXR1cExvY2FsTWVkaWEiLCJsb2NhbFN0cmVhbV8xIiwia2luZCIsImNsZWFudXBNZWRpYSIsInBhdXNlIiwib25FbmRlZCIsImRlc3Ryb3lNZWRpYSIsImVuYWJsZWQiLCJnZXRWaWRlb1RyYWNrcyIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCIkT2JqZWN0IiwidmFsdWVPZiIsIldlYWtNYXAiLCJJdGVyYXRvcnMiLCJUT19TVFJJTkdfVEFHIiwiRE9NSXRlcmFibGVzIiwiTkFNRSIsIkNvbGxlY3Rpb24iLCJwcm90byIsImFkZFRvVW5zY29wYWJsZXMiLCJ0b0lPYmplY3QiLCJpdGVyYXRlZCIsIl9rIiwiQXJndW1lbnRzIiwiTElCUkFSWSIsInJlZGVmaW5lIiwiJGl0ZXJDcmVhdGUiLCJzZXRUb1N0cmluZ1RhZyIsIkJVR0dZIiwicmV0dXJuVGhpcyIsIkRFRkFVTFQiLCJJU19TRVQiLCJGT1JDRUQiLCJtZXRob2RzIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRNZXRob2QiLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsIiRlbnRyaWVzIiwiJGFueU5hdGl2ZSIsImRQcyIsIklFX1BST1RPIiwiRW1wdHkiLCJjcmVhdGVEaWN0IiwiaWZyYW1lRG9jdW1lbnQiLCJpZnJhbWUiLCJzdHlsZSIsImRpc3BsYXkiLCJjb250ZW50V2luZG93Iiwib3BlbiIsIndyaXRlIiwibHQiLCJQcm9wZXJ0aWVzIiwiZ2V0S2V5cyIsImFycmF5SW5kZXhPZiIsIm5hbWVzIiwidG9BYnNvbHV0ZUluZGV4IiwiSVNfSU5DTFVERVMiLCJlbCIsImZyb21JbmRleCIsImRvY3VtZW50RWxlbWVudCIsIk9iamVjdFByb3RvIiwiSW50ZXJuYWxNYXAiLCJlYWNoIiwid2VhayIsIk5BVElWRV9XRUFLX01BUCIsIklTX0lFMTEiLCJBY3RpdmVYT2JqZWN0IiwidW5jYXVnaHRGcm96ZW5TdG9yZSIsInVmc3RvcmUiLCJ3cmFwcGVyIiwiJFdlYWtNYXAiLCJnZXRDb25zdHJ1Y3RvciIsIl9mIiwic3BlY2llc0NvbnN0cnVjdG9yIiwib3JpZ2luYWwiLCJTUEVDSUVTIiwiREVTQ1JJUFRPUlMiLCJnT1BTIiwicElFIiwiJGFzc2lnbiIsIkEiLCJhTGVuIiwiZ2V0U3ltYm9scyIsImlzRW51bSIsInJlZGVmaW5lQWxsIiwiYW5JbnN0YW5jZSIsImZvck9mIiwiY3JlYXRlQXJyYXlNZXRob2QiLCIkaGFzIiwiYXJyYXlGaW5kIiwiYXJyYXlGaW5kSW5kZXgiLCJfbCIsIlVuY2F1Z2h0RnJvemVuU3RvcmUiLCJmaW5kVW5jYXVnaHRGcm96ZW4iLCJlbnRyeSIsIkFEREVSIiwiQXJyYXlQcm90byIsImNsYXNzb2YiLCJnZXRJdGVyYXRvck1ldGhvZCIsIkFSRyIsInRyeUdldCIsImNhbGxlZSIsImZhaWxzIiwiY29tbW9uIiwiSVNfV0VBSyIsIklTX0FEREVSIiwic2V0U3Ryb25nIiwiQ09MTEVDVElPTiIsIm9mIiwibWFwcGluZyIsIm1hcEZuIiwibmV4dEl0ZW0iLCJDZGN0c0RldmljZSIsImNvbmZpZyIsInBhdGgiLCJhcnJheWlmeSIsInN0dW5TZXJ2ZXJzIiwidHVyblNlcnZlcnMiLCJfZW5zdXJlQ29ubmVjdGl2aXR5V2l0aFNpcFNlcnZlciIsInNpcFVBQ29uZmlnIiwiYXV0aG9yaXphdGlvblVzZXJzaXAiLCJsb2dMZXZlbCIsImF0dGVtcHRzIiwiX2FjdGl2ZUNhbGwiLCJpbmNvbWluZ0NhbGwiLCJhY3RpdmVDYWxsIiwicGhvbmVOdW1iZXIiLCJtYWtlQ2FsbCIsInBsYXllciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIml0ZW0iXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFP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LDZCQ3JCakJ0Z0MsT0FBT0MsZUFBZW5CLEVBQVMsYUFBYyxDQUFFeUIsT0FBTyxJQUN0RCxJQUFJdUgsRUFBVSxFQUFRLEdBQ3RCQSxFQUFRbkMsYUFBYSxFQUFRLElBQTRCN0csR0FDekRnSixFQUFRbkMsYUFBYSxFQUFRLElBQTRCN0csR0FDekRnSixFQUFRbkMsYUFBYSxFQUFRLEtBQStCN0csR0FDNURnSixFQUFRbkMsYUFBYSxFQUFRLElBQTZCN0csR0FDMURnSixFQUFRbkMsYUFBYSxFQUFRLElBQTZCN0csR0FDMURnSixFQUFRbkMsYUFBYSxFQUFRLEtBQStCN0csR0FDNURnSixFQUFRbkMsYUFBYSxFQUFRLEtBQStCN0csR0FDNURnSixFQUFRbkMsYUFBYSxFQUFRLElBQWdDN0csR0FDN0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQWdDN0csR0FDN0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQStCN0csR0FDNURnSixFQUFRbkMsYUFBYSxFQUFRLElBQStCN0csR0FDNURnSixFQUFRbkMsYUFBYSxFQUFRLEtBQWdDN0csR0FDN0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQThCN0csR0FDM0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQThCN0csR0FDM0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQWtDN0csR0FDL0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQWtDN0csR0FDL0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQXFDN0csR0FDbEVnSixFQUFRbkMsYUFBYSxFQUFRLEtBQXFDN0csR0FDbEVnSixFQUFRbkMsYUFBYSxFQUFRLElBQThCN0csR0FDM0RnSixFQUFRbkMsYUFBYSxFQUFRLElBQThCN0csR0FDM0RnSixFQUFRbkMsYUFBYSxFQUFRLEtBQWlDN0csR0FDOURnSixFQUFRbkMsYUFBYSxFQUFRLEtBQWlDN0csR0FDOURnSixFQUFRbkMsYUFBYSxFQUFRLEtBQWtDN0csR0FDL0RnSixFQUFRbkMsYUFBYSxFQUFRLEtBQWtDN0csR0FDL0RnSixFQUFRbkMsYUFBYSxFQUFRLEdBQXdCN0csR0FDckRn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QWx5RCxRQUFRK2QsSUFBSSxPQUFPaHVCLE1BQ25CQSxLQUFLbTZDLE9BQVMsSUFBSWwyQixxQkFBbUJrQixLQUFJbmxCLEtBQU1taUUsR0FDL0NuaUUsS0FBS202QyxPQUFPMXRCLFFBQ0wwdEIsUyw4Q0FPVCxXQUNFLElBQ0UsSUFBSW9vQixFQUFNLElBQUlDLGVBQ2RELEVBQUl2eEQsaUJBQWlCLFNBQVMsV0FDNUJmLFFBQVFrcEMsS0FBSyx1RkFFZm9wQixFQUFJbEYsS0FBSyxNQUFULGtCQUEyQnI5RCxLQUFLa3FCLEtBQWhDLFlBQXdDbHFCLEtBQUttcUIsT0FBUSxHQUNyRG80QyxFQUFJcmhELE9BQ0osTUFBTzFnQixVLDhCQTVTYXdOLEtBa1QxQixTQUFTd3pELEVBQVNpQixHQUNoQixHQUFJNWlFLE1BQU0wakMsUUFBUWsvQixHQUNoQixPQUFPQSxFQUFLbjBELE1BQU0sR0FFbEIsSUFBSW9DLEVBQU0sR0FFVixPQURBQSxFQUFJak4sS0FBS2cvRCxHQUNGL3hEIiwiZmlsZSI6ImNkY3RzLXNpcGpzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiY2RjdHMtc2lwanNcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiY2RjdHMtc2lwanNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiY2RjdHMtc2lwanNcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOTQpO1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NsaWVudC10cmFuc2FjdGlvblwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbnZpdGUtY2xpZW50LXRyYW5zYWN0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2ludml0ZS1zZXJ2ZXItdHJhbnNhY3Rpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbm9uLWludml0ZS1jbGllbnQtdHJhbnNhY3Rpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbm9uLWludml0ZS1zZXJ2ZXItdHJhbnNhY3Rpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW52aXRlLWNsaWVudC10cmFuc2FjdGlvblwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zZXJ2ZXItdHJhbnNhY3Rpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHJhbnNhY3Rpb24tc3RhdGVcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHJhbnNhY3Rpb25cIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEEgY29yZSBsaWJyYXJ5IGltcGxlbWVudGluZyBsb3cgbGV2ZWwgU0lQIHByb3RvY29sIGVsZW1lbnRzLlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuLy8gRGlyZWN0b3JpZXNcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2RpYWxvZ3NcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZXhjZXB0aW9uc1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9sb2dcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbWVzc2FnZXNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2Vzc2lvblwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdWJzY3JpcHRpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHJhbnNhY3Rpb25zXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtY29yZVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91c2VyLWFnZW50c1wiKSwgZXhwb3J0cyk7XG4vLyBGaWxlc1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdGltZXJzXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG4vLyBEaXJlY3Rvcmllc1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbWV0aG9kc1wiKSwgZXhwb3J0cyk7XG4vLyBGaWxlc1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYm9keVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9kaWdlc3QtYXV0aGVudGljYXRpb25cIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZ3JhbW1hclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbmNvbWluZy1tZXNzYWdlXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2luY29taW5nLXJlcXVlc3QtbWVzc2FnZVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbmNvbWluZy1yZXNwb25zZS1tZXNzYWdlXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL25hbWUtYWRkci1oZWFkZXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vb3V0Z29pbmctcmVxdWVzdC1tZXNzYWdlXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL291dGdvaW5nLXJlc3BvbnNlXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhcmFtZXRlcnNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcGFyc2VyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3VyaVwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbi8qKlxuICogVXNlciBBZ2VudCBDbGllbnQgKFVBQykuXG4gKiBAcmVtYXJrc1xuICogQSB1c2VyIGFnZW50IGNsaWVudCBpcyBhIGxvZ2ljYWwgZW50aXR5XG4gKiB0aGF0IGNyZWF0ZXMgYSBuZXcgcmVxdWVzdCwgYW5kIHRoZW4gdXNlcyB0aGUgY2xpZW50XG4gKiB0cmFuc2FjdGlvbiBzdGF0ZSBtYWNoaW5lcnkgdG8gc2VuZCBpdC4gIFRoZSByb2xlIG9mIFVBQyBsYXN0c1xuICogb25seSBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoYXQgdHJhbnNhY3Rpb24uICBJbiBvdGhlciB3b3JkcywgaWZcbiAqIGEgcGllY2Ugb2Ygc29mdHdhcmUgaW5pdGlhdGVzIGEgcmVxdWVzdCwgaXQgYWN0cyBhcyBhIFVBQyBmb3JcbiAqIHRoZSBkdXJhdGlvbiBvZiB0aGF0IHRyYW5zYWN0aW9uLiAgSWYgaXQgcmVjZWl2ZXMgYSByZXF1ZXN0XG4gKiBsYXRlciwgaXQgYXNzdW1lcyB0aGUgcm9sZSBvZiBhIHVzZXIgYWdlbnQgc2VydmVyIGZvciB0aGVcbiAqIHByb2Nlc3Npbmcgb2YgdGhhdCB0cmFuc2FjdGlvbi5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tNlxuICogQHB1YmxpY1xuICovXG52YXIgVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVzZXJBZ2VudENsaWVudCh0cmFuc2FjdGlvbkNvbnN0cnVjdG9yLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uQ29uc3RydWN0b3IgPSB0cmFuc2FjdGlvbkNvbnN0cnVjdG9yO1xuICAgICAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuY2hhbGxlbmdlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YWxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gdGhpcy5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC51c2VyLWFnZW50LWNsaWVudFwiKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIFVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5kaXNwb3NlKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZSwgXCJsb2dnZXJGYWN0b3J5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb3JlLmxvZ2dlckZhY3Rvcnk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLCBcInRyYW5zYWN0aW9uXCIsIHtcbiAgICAgICAgLyoqIFRoZSB0cmFuc2FjdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhpcyByZXF1ZXN0LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTaW5jZSByZXF1ZXN0cyBvdGhlciB0aGFuIElOVklURSBhcmUgcmVzcG9uZGVkIHRvIGltbWVkaWF0ZWx5LCBzZW5kaW5nIGFcbiAgICAgKiBDQU5DRUwgZm9yIGEgbm9uLUlOVklURSByZXF1ZXN0IHdvdWxkIGFsd2F5cyBjcmVhdGUgYSByYWNlIGNvbmRpdGlvbi5cbiAgICAgKiBBIENBTkNFTCByZXF1ZXN0IFNIT1VMRCBOT1QgYmUgc2VudCB0byBjYW5jZWwgYSByZXF1ZXN0IG90aGVyIHRoYW4gSU5WSVRFLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOS4xXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBDYW5jZWwgb3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAocmVhc29uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICghdGhpcy50cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZS50bykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG8gdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZS5mcm9tKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGcm9tIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBwcm9jZWR1cmVzIGFyZSB1c2VkIHRvIGNvbnN0cnVjdCBhIENBTkNFTCByZXF1ZXN0LiAgVGhlXG4gICAgICAgIC8vIFJlcXVlc3QtVVJJLCBDYWxsLUlELCBUbywgdGhlIG51bWVyaWMgcGFydCBvZiBDU2VxLCBhbmQgRnJvbSBoZWFkZXJcbiAgICAgICAgLy8gZmllbGRzIGluIHRoZSBDQU5DRUwgcmVxdWVzdCBNVVNUIGJlIGlkZW50aWNhbCB0byB0aG9zZSBpbiB0aGVcbiAgICAgICAgLy8gcmVxdWVzdCBiZWluZyBjYW5jZWxsZWQsIGluY2x1ZGluZyB0YWdzLiAgQSBDQU5DRUwgY29uc3RydWN0ZWQgYnkgYVxuICAgICAgICAvLyBjbGllbnQgTVVTVCBoYXZlIG9ubHkgYSBzaW5nbGUgVmlhIGhlYWRlciBmaWVsZCB2YWx1ZSBtYXRjaGluZyB0aGVcbiAgICAgICAgLy8gdG9wIFZpYSB2YWx1ZSBpbiB0aGUgcmVxdWVzdCBiZWluZyBjYW5jZWxsZWQuICBVc2luZyB0aGUgc2FtZSB2YWx1ZXNcbiAgICAgICAgLy8gZm9yIHRoZXNlIGhlYWRlciBmaWVsZHMgYWxsb3dzIHRoZSBDQU5DRUwgdG8gYmUgbWF0Y2hlZCB3aXRoIHRoZVxuICAgICAgICAvLyByZXF1ZXN0IGl0IGNhbmNlbHMgKFNlY3Rpb24gOS4yIGluZGljYXRlcyBob3cgc3VjaCBtYXRjaGluZyBvY2N1cnMpLlxuICAgICAgICAvLyBIb3dldmVyLCB0aGUgbWV0aG9kIHBhcnQgb2YgdGhlIENTZXEgaGVhZGVyIGZpZWxkIE1VU1QgaGF2ZSBhIHZhbHVlXG4gICAgICAgIC8vIG9mIENBTkNFTC4gIFRoaXMgYWxsb3dzIGl0IHRvIGJlIGlkZW50aWZpZWQgYW5kIHByb2Nlc3NlZCBhcyBhXG4gICAgICAgIC8vIHRyYW5zYWN0aW9uIGluIGl0cyBvd24gcmlnaHQgKFNlZSBTZWN0aW9uIDE3KS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi05LjFcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLmNvcmUubWFrZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UobWVzc2FnZXNfMS5DLkNBTkNFTCwgdGhpcy5tZXNzYWdlLnJ1cmksIHRoaXMubWVzc2FnZS5mcm9tLnVyaSwgdGhpcy5tZXNzYWdlLnRvLnVyaSwge1xuICAgICAgICAgICAgdG9UYWc6IHRoaXMubWVzc2FnZS50b1RhZyxcbiAgICAgICAgICAgIGZyb21UYWc6IHRoaXMubWVzc2FnZS5mcm9tVGFnLFxuICAgICAgICAgICAgY2FsbElkOiB0aGlzLm1lc3NhZ2UuY2FsbElkLFxuICAgICAgICAgICAgY3NlcTogdGhpcy5tZXNzYWdlLmNzZXFcbiAgICAgICAgfSwgb3B0aW9ucy5leHRyYUhlYWRlcnMpO1xuICAgICAgICAvLyBUT0RPOiBSZXZpc2l0IHRoaXMuXG4gICAgICAgIC8vIFRoZSBDQU5DRUwgbmVlZHMgdG8gdXNlIHRoZSBzYW1lIGJyYW5jaCBwYXJhbWV0ZXIgc28gdGhhdFxuICAgICAgICAvLyBpdCBtYXRjaGVzIHRoZSBJTlZJVEUgdHJhbnNhY3Rpb24sIGJ1dCB0aGlzIGlzIGEgaGFja3kgd2F5IHRvIGRvIHRoaXMuXG4gICAgICAgIC8vIE9yIGF0IHRoZSB2ZXJ5IGxlYXN0IG5vdCB3ZWxsIGRvY3VtZW50ZWQuIElmIHRoZSB0aGUgYnJhbmNoIHBhcmFtZXRlclxuICAgICAgICAvLyBpcyBzZXQgb24gdGhlIG91dGdvaW5nIHJlcXVlc3QsIHRoZSB0cmFuc2FjdGlvbiB3aWxsIHVzZSBpdC5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSB0cmFuc2FjdGlvbiB3aWxsIG1ha2UgYSBuZXcgb25lLlxuICAgICAgICBtZXNzYWdlLmJyYW5jaCA9IHRoaXMubWVzc2FnZS5icmFuY2g7XG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2UuaGVhZGVycy5Sb3V0ZSkge1xuICAgICAgICAgICAgbWVzc2FnZS5oZWFkZXJzLlJvdXRlID0gdGhpcy5tZXNzYWdlLmhlYWRlcnMuUm91dGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlYXNvbikge1xuICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJSZWFzb25cIiwgcmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyBwcm92aXNpb25hbCByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZCwgdGhlIENBTkNFTCByZXF1ZXN0IE1VU1RcbiAgICAgICAgLy8gTk9UIGJlIHNlbnQ7IHJhdGhlciwgdGhlIGNsaWVudCBNVVNUIHdhaXQgZm9yIHRoZSBhcnJpdmFsIG9mIGFcbiAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2UgYmVmb3JlIHNlbmRpbmcgdGhlIHJlcXVlc3QuIElmIHRoZSBvcmlnaW5hbFxuICAgICAgICAvLyByZXF1ZXN0IGhhcyBnZW5lcmF0ZWQgYSBmaW5hbCByZXNwb25zZSwgdGhlIENBTkNFTCBTSE9VTEQgTk9UIGJlXG4gICAgICAgIC8vIHNlbnQsIGFzIGl0IGlzIGFuIGVmZmVjdGl2ZSBuby1vcCwgc2luY2UgQ0FOQ0VMIGhhcyBubyBlZmZlY3Qgb25cbiAgICAgICAgLy8gcmVxdWVzdHMgdGhhdCBoYXZlIGFscmVhZHkgZ2VuZXJhdGVkIGEgZmluYWwgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOS4xXG4gICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcpIHtcbiAgICAgICAgICAgIHZhciB1YWMgPSBuZXcgVXNlckFnZW50Q2xpZW50KHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCB0aGlzLmNvcmUsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5vbmNlKFwic3RhdGVDaGFuZ2VkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudHJhbnNhY3Rpb24gJiYgX3RoaXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFjID0gbmV3IFVzZXJBZ2VudENsaWVudCh0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgX3RoaXMuY29yZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBhIDQwMSAoVW5hdXRob3JpemVkKSBvciA0MDcgKFByb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkKVxuICAgICAqIHJlc3BvbnNlIGlzIHJlY2VpdmVkLCB0aGUgVUFDIFNIT1VMRCBmb2xsb3cgdGhlIGF1dGhvcml6YXRpb25cbiAgICAgKiBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gMjIuMiBhbmQgU2VjdGlvbiAyMi4zIHRvIHJldHJ5IHRoZSByZXF1ZXN0IHdpdGhcbiAgICAgKiBjcmVkZW50aWFscy5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMS4zLjVcbiAgICAgKiAyMiBVc2FnZSBvZiBIVFRQIEF1dGhlbnRpY2F0aW9uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0yMlxuICAgICAqIDIyLjEgRnJhbWV3b3JrXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0yMi4xXG4gICAgICogMjIuMiBVc2VyLXRvLVVzZXIgQXV0aGVudGljYXRpb25cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTIyLjJcbiAgICAgKiAyMi4zIFByb3h5LXRvLVVzZXIgQXV0aGVudGljYXRpb25cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTIyLjNcbiAgICAgKlxuICAgICAqIEZJWE1FOiBUaGlzIFwiZ3VhcmQgZm9yIGFuZCByZXRyeSB0aGUgcmVxdWVzdCB3aXRoIGNyZWRlbnRpYWxzXCJcbiAgICAgKiBpbXBsZW1lbnRhdGlvbiBpcyBub3QgY29tcGxldGUgYW5kIGF0IGJlc3QgbWluaW1hbGx5IHBhc3NhYmxlLlxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSBpbmNvbWluZyByZXNwb25zZSB0byBndWFyZC5cbiAgICAgKiBAcGFyYW0gZGlhbG9nIC0gSWYgZGVmaW5lZCwgdGhlIGRpYWxvZyB3aXRoaW4gd2hpY2ggdGhlIHJlc3BvbnNlIHdhcyByZWNlaXZlZC5cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwcm9ncmFtIGV4ZWN1dGlvbiBpcyB0byBjb250aW51ZSBpbiB0aGUgYnJhbmNoIGluIHF1ZXN0aW9uLlxuICAgICAqICAgICAgICAgIE90aGVyd2lzZSB0aGUgcmVxdWVzdCBpcyByZXRyaWVkIHdpdGggY3JlZGVudGlhbHMgYW5kIGN1cnJlbnQgcmVxdWVzdCBwcm9jZXNzaW5nIG11c3Qgc3RvcC5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLmF1dGhlbnRpY2F0aW9uR3VhcmQgPSBmdW5jdGlvbiAobWVzc2FnZSwgZGlhbG9nKSB7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gbWVzc2FnZS5zdGF0dXNDb2RlO1xuICAgICAgICBpZiAoIXN0YXR1c0NvZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc3BvbnNlIHN0YXR1cyBjb2RlIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSA0MDEgKFVuYXV0aG9yaXplZCkgb3IgNDA3IChQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZClcbiAgICAgICAgLy8gcmVzcG9uc2UgaXMgcmVjZWl2ZWQsIHRoZSBVQUMgU0hPVUxEIGZvbGxvdyB0aGUgYXV0aG9yaXphdGlvblxuICAgICAgICAvLyBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gMjIuMiBhbmQgU2VjdGlvbiAyMi4zIHRvIHJldHJ5IHRoZSByZXF1ZXN0IHdpdGhcbiAgICAgICAgLy8gY3JlZGVudGlhbHMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuNVxuICAgICAgICBpZiAoc3RhdHVzQ29kZSAhPT0gNDAxICYmIHN0YXR1c0NvZGUgIT09IDQwNykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGFuZCBwYXJzZSB0aGUgYXBwcm9wcmlhdGUgV1dXLUF1dGhlbnRpY2F0ZSBvciBQcm94eS1BdXRoZW50aWNhdGUgaGVhZGVyLlxuICAgICAgICB2YXIgY2hhbGxlbmdlO1xuICAgICAgICB2YXIgYXV0aG9yaXphdGlvbkhlYWRlck5hbWU7XG4gICAgICAgIGlmIChzdGF0dXNDb2RlID09PSA0MDEpIHtcbiAgICAgICAgICAgIGNoYWxsZW5nZSA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJ3d3ctYXV0aGVudGljYXRlXCIpO1xuICAgICAgICAgICAgYXV0aG9yaXphdGlvbkhlYWRlck5hbWUgPSBcImF1dGhvcml6YXRpb25cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYWxsZW5nZSA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJwcm94eS1hdXRoZW50aWNhdGVcIik7XG4gICAgICAgICAgICBhdXRob3JpemF0aW9uSGVhZGVyTmFtZSA9IFwicHJveHktYXV0aG9yaXphdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZlcmlmeSBpdCBzZWVtcyBhIHZhbGlkIGNoYWxsZW5nZS5cbiAgICAgICAgaWYgKCFjaGFsbGVuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oc3RhdHVzQ29kZSArIFwiIHdpdGggd3Jvbmcgb3IgbWlzc2luZyBjaGFsbGVuZ2UsIGNhbm5vdCBhdXRoZW50aWNhdGVcIik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBdm9pZCBpbmZpbml0ZSBhdXRoZW50aWNhdGlvbnMuXG4gICAgICAgIGlmICh0aGlzLmNoYWxsZW5nZWQgJiYgKHRoaXMuc3RhbGUgfHwgY2hhbGxlbmdlLnN0YWxlICE9PSB0cnVlKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihzdGF0dXNDb2RlICsgXCIgYXBwYXJlbnRseSBpbiBhdXRoZW50aWNhdGlvbiBsb29wLCBjYW5ub3QgYXV0aGVudGljYXRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGNyZWRlbnRpYWxzLlxuICAgICAgICBpZiAoIXRoaXMuY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSB0aGlzLmNvcmUuY29uZmlndXJhdGlvbi5hdXRoZW50aWNhdGlvbkZhY3RvcnkoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVbmFibGUgdG8gb2J0YWluIGNyZWRlbnRpYWxzLCBjYW5ub3QgYXV0aGVudGljYXRlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjaGFsbGVuZ2UgaXMgcmVhbGx5IHZhbGlkLlxuICAgICAgICBpZiAoIXRoaXMuY3JlZGVudGlhbHMuYXV0aGVudGljYXRlKHRoaXMubWVzc2FnZSwgY2hhbGxlbmdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFsbGVuZ2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNoYWxsZW5nZS5zdGFsZSkge1xuICAgICAgICAgICAgdGhpcy5zdGFsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgcmVzcG9uc2UgdG8gb3V0IG9mIGRpYWxvZyByZXF1ZXN0LCBhc3N1bWUgaW5jcmVtZW50aW5nIHRoZSBDU2VxIHdpbGwgc3VmZmljZS5cbiAgICAgICAgdmFyIGNzZXEgPSB0aGlzLm1lc3NhZ2UuY3NlcSArPSAxO1xuICAgICAgICAvLyBJZiByZXNwb25zZSB0byBpbiBkaWFsb2cgcmVxdWVzdCwgZ2V0IGEgdmFsaWQgbmV4dCBDU2VxIG51bWJlci5cbiAgICAgICAgaWYgKGRpYWxvZyAmJiBkaWFsb2cubG9jYWxTZXF1ZW5jZU51bWJlcikge1xuICAgICAgICAgICAgZGlhbG9nLmluY3JlbWVudExvY2FsU2VxdWVuY2VOdW1iZXIoKTtcbiAgICAgICAgICAgIGNzZXEgPSB0aGlzLm1lc3NhZ2UuY3NlcSA9IGRpYWxvZy5sb2NhbFNlcXVlbmNlTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVzc2FnZS5zZXRIZWFkZXIoXCJjc2VxXCIsIGNzZXEgKyBcIiBcIiArIHRoaXMubWVzc2FnZS5tZXRob2QpO1xuICAgICAgICB0aGlzLm1lc3NhZ2Uuc2V0SGVhZGVyKGF1dGhvcml6YXRpb25IZWFkZXJOYW1lLCB0aGlzLmNyZWRlbnRpYWxzLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyBDYWxsaW5nIGluaXQgKGFnYWluKSB3aWxsIHN3YXAgb3V0IG91ciBleGlzdGluZyBjbGllbnQgdHJhbnNhY3Rpb24gd2l0aCBhIG5ldyBvbmUuXG4gICAgICAgIC8vIEZJWE1FOiBIQUNLOiBBbiBhc3N1bXB0aW9uIGlzIGJlaW5nIG1hZGUgaGVyZSB0aGF0IHRoZXJlIGlzIG5vdGhpbmcgdGhhdCBuZWVkcyB0b1xuICAgICAgICAvLyBiZSBjbGVhbmVkIHVwIGJleW9uZCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHdoaWNoIGlzIGJlaW5nIHJlcGxhY2VkLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgLy8gaXQgaXMgYXNzdW1lZCB0aGF0IG5vIGVhcmx5IGRpYWxvZ3MgaGF2ZSBiZWVuIGNyZWF0ZWQuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA4LjEuMy4xIFRyYW5zYWN0aW9uIExheWVyIEVycm9yc1xuICAgICAqIEluIHNvbWUgY2FzZXMsIHRoZSByZXNwb25zZSByZXR1cm5lZCBieSB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIgd2lsbFxuICAgICAqIG5vdCBiZSBhIFNJUCBtZXNzYWdlLCBidXQgcmF0aGVyIGEgdHJhbnNhY3Rpb24gbGF5ZXIgZXJyb3IuICBXaGVuIGFcbiAgICAgKiB0aW1lb3V0IGVycm9yIGlzIHJlY2VpdmVkIGZyb20gdGhlIHRyYW5zYWN0aW9uIGxheWVyLCBpdCBNVVNUIGJlXG4gICAgICogdHJlYXRlZCBhcyBpZiBhIDQwOCAoUmVxdWVzdCBUaW1lb3V0KSBzdGF0dXMgY29kZSBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgKiBJZiBhIGZhdGFsIHRyYW5zcG9ydCBlcnJvciBpcyByZXBvcnRlZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyXG4gICAgICogKGdlbmVyYWxseSwgZHVlIHRvIGZhdGFsIElDTVAgZXJyb3JzIGluIFVEUCBvciBjb25uZWN0aW9uIGZhaWx1cmVzIGluXG4gICAgICogVENQKSwgdGhlIGNvbmRpdGlvbiBNVVNUIGJlIHRyZWF0ZWQgYXMgYSA1MDMgKFNlcnZpY2UgVW5hdmFpbGFibGUpXG4gICAgICogc3RhdHVzIGNvZGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMy4xXG4gICAgICovXG4gICAgVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVXNlciBhZ2VudCBjbGllbnQgcmVxdWVzdCB0aW1lZCBvdXQuIEdlbmVyYXRpbmcgaW50ZXJuYWwgNDA4IFJlcXVlc3QgVGltZW91dC5cIik7XG4gICAgICAgIHZhciBtZXNzYWdlID0gbmV3IG1lc3NhZ2VzXzEuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UoKTtcbiAgICAgICAgbWVzc2FnZS5zdGF0dXNDb2RlID0gNDA4O1xuICAgICAgICBtZXNzYWdlLnJlYXNvblBocmFzZSA9IFwiUmVxdWVzdCBUaW1lb3V0XCI7XG4gICAgICAgIHRoaXMucmVjZWl2ZVJlc3BvbnNlKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA4LjEuMy4xIFRyYW5zYWN0aW9uIExheWVyIEVycm9yc1xuICAgICAqIEluIHNvbWUgY2FzZXMsIHRoZSByZXNwb25zZSByZXR1cm5lZCBieSB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIgd2lsbFxuICAgICAqIG5vdCBiZSBhIFNJUCBtZXNzYWdlLCBidXQgcmF0aGVyIGEgdHJhbnNhY3Rpb24gbGF5ZXIgZXJyb3IuICBXaGVuIGFcbiAgICAgKiB0aW1lb3V0IGVycm9yIGlzIHJlY2VpdmVkIGZyb20gdGhlIHRyYW5zYWN0aW9uIGxheWVyLCBpdCBNVVNUIGJlXG4gICAgICogdHJlYXRlZCBhcyBpZiBhIDQwOCAoUmVxdWVzdCBUaW1lb3V0KSBzdGF0dXMgY29kZSBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgKiBJZiBhIGZhdGFsIHRyYW5zcG9ydCBlcnJvciBpcyByZXBvcnRlZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyXG4gICAgICogKGdlbmVyYWxseSwgZHVlIHRvIGZhdGFsIElDTVAgZXJyb3JzIGluIFVEUCBvciBjb25uZWN0aW9uIGZhaWx1cmVzIGluXG4gICAgICogVENQKSwgdGhlIGNvbmRpdGlvbiBNVVNUIGJlIHRyZWF0ZWQgYXMgYSA1MDMgKFNlcnZpY2UgVW5hdmFpbGFibGUpXG4gICAgICogc3RhdHVzIGNvZGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMy4xXG4gICAgICogQHBhcmFtIGVycm9yIC0gVHJhbnNwb3J0IGVycm9yXG4gICAgICovXG4gICAgVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlVzZXIgYWdlbnQgY2xpZW50IHJlcXVlc3QgdHJhbnNwb3J0IGVycm9yLiBHZW5lcmF0aW5nIGludGVybmFsIDUwMyBTZXJ2aWNlIFVuYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgbWVzc2FnZXNfMS5JbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSgpO1xuICAgICAgICBtZXNzYWdlLnN0YXR1c0NvZGUgPSA1MDM7XG4gICAgICAgIG1lc3NhZ2UucmVhc29uUGhyYXNlID0gXCJTZXJ2aWNlIFVuYXZhaWxhYmxlXCI7XG4gICAgICAgIHRoaXMucmVjZWl2ZVJlc3BvbnNlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjZWl2ZSBhIHJlc3BvbnNlIGZyb20gdGhlIHRyYW5zYWN0aW9uIGxheWVyLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gSW5jb21pbmcgcmVzcG9uc2UgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdGhpcy5hdXRoZW50aWNhdGlvbkd1YXJkKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBtZXNzYWdlLnN0YXR1c0NvZGUgPyBtZXNzYWdlLnN0YXR1c0NvZGUudG9TdHJpbmcoKSA6IFwiXCI7XG4gICAgICAgIGlmICghc3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2Ugc3RhdHVzIGNvZGUgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xMDAkLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblRyeWluZyh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Qcm9ncmVzcyh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjJbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uQWNjZXB0KHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eM1swLTldezJ9JC8udGVzdChzdGF0dXNDb2RlKTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlZGlyZWN0KHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eWzQtNl1bMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVqZWN0KHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdHVzIGNvZGUgXCIgKyBzdGF0dXNDb2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBXZSBhcmUgdGhlIHRyYW5zYWN0aW9uIHVzZXIuXG4gICAgICAgIHZhciB1c2VyID0ge1xuICAgICAgICAgICAgbG9nZ2VyRmFjdG9yeTogdGhpcy5sb2dnZXJGYWN0b3J5LFxuICAgICAgICAgICAgb25SZXF1ZXN0VGltZW91dDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25SZXF1ZXN0VGltZW91dCgpOyB9LFxuICAgICAgICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24gKG5ld1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSB0ZXJtaW5hdGVkIHRyYW5zYWN0aW9uIGZyb20gdGhlIGNvcmUuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvcmUudXNlckFnZW50Q2xpZW50cy5kZWxldGUodXNlckFnZW50Q2xpZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogSEFDSzogT3VyIHRyYW5zYWN0aW9uIG1heSBoYXZlIGJlZW4gc3dhcHBlZCBvdXQgd2l0aCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhdXRoZW50aWNhdGlvbiAoc2VlIGFib3ZlKSwgc28gbWFrZSBzdXJlIHRvIG9ubHkgdG8gZGlzcG9zZSBvZlxuICAgICAgICAgICAgICAgICAgICAvLyBvdXJzZWx2ZXMgaWYgdGhpcyB0ZXJtaW5hdGluZyB0cmFuc2FjdGlvbiBpcyBvdXIgY3VycmVudCB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uID09PSBfdGhpcy5fdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblRyYW5zcG9ydEVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIF90aGlzLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpOyB9LFxuICAgICAgICAgICAgcmVjZWl2ZVJlc3BvbnNlOiBmdW5jdGlvbiAobWVzc2FnZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKG1lc3NhZ2UpOyB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiB3aXRoIHVzIGFzIHRoZSB1c2VyLlxuICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBuZXcgdGhpcy50cmFuc2FjdGlvbkNvbnN0cnVjdG9yKHRoaXMubWVzc2FnZSwgdGhpcy5jb3JlLnRyYW5zcG9ydCwgdXNlcik7XG4gICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb247XG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IHRyYW5zYWN0aW9uIHRvIHRoZSBjb3JlLlxuICAgICAgICB2YXIgdXNlckFnZW50Q2xpZW50SWQgPSB0cmFuc2FjdGlvbi5pZCArIHRyYW5zYWN0aW9uLnJlcXVlc3QubWV0aG9kO1xuICAgICAgICB0aGlzLmNvcmUudXNlckFnZW50Q2xpZW50cy5zZXQodXNlckFnZW50Q2xpZW50SWQsIHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFVzZXJBZ2VudENsaWVudDtcbn0oKSk7XG5leHBvcnRzLlVzZXJBZ2VudENsaWVudCA9IFVzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLy8gZW51bXMgY2FuJ3QgcmVhbGx5IGJlIGRlY2xhcmVkLCBzbyB0aGV5IGFyZSBzZXQgaGVyZS5cbi8vIHB1bGxlZCBvdXQgb2YgaW5kaXZpZHVhbCBmaWxlcyB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBEaWFsb2dTdGF0dXM7XG4oZnVuY3Rpb24gKERpYWxvZ1N0YXR1cykge1xuICAgIERpYWxvZ1N0YXR1c1tEaWFsb2dTdGF0dXNbXCJTVEFUVVNfRUFSTFlcIl0gPSAxXSA9IFwiU1RBVFVTX0VBUkxZXCI7XG4gICAgRGlhbG9nU3RhdHVzW0RpYWxvZ1N0YXR1c1tcIlNUQVRVU19DT05GSVJNRURcIl0gPSAyXSA9IFwiU1RBVFVTX0NPTkZJUk1FRFwiO1xufSkoRGlhbG9nU3RhdHVzID0gZXhwb3J0cy5EaWFsb2dTdGF0dXMgfHwgKGV4cG9ydHMuRGlhbG9nU3RhdHVzID0ge30pKTtcbnZhciBTZXNzaW9uU3RhdHVzO1xuKGZ1bmN0aW9uIChTZXNzaW9uU3RhdHVzKSB7XG4gICAgLy8gU2Vzc2lvbiBzdGF0ZXNcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfTlVMTFwiXSA9IDBdID0gXCJTVEFUVVNfTlVMTFwiO1xuICAgIFNlc3Npb25TdGF0dXNbU2Vzc2lvblN0YXR1c1tcIlNUQVRVU19JTlZJVEVfU0VOVFwiXSA9IDFdID0gXCJTVEFUVVNfSU5WSVRFX1NFTlRcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfMVhYX1JFQ0VJVkVEXCJdID0gMl0gPSBcIlNUQVRVU18xWFhfUkVDRUlWRURcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfSU5WSVRFX1JFQ0VJVkVEXCJdID0gM10gPSBcIlNUQVRVU19JTlZJVEVfUkVDRUlWRURcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSXCJdID0gNF0gPSBcIlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVJcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfQU5TV0VSRURcIl0gPSA1XSA9IFwiU1RBVFVTX0FOU1dFUkVEXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLXCJdID0gNl0gPSBcIlNUQVRVU19XQUlUSU5HX0ZPUl9QUkFDS1wiO1xuICAgIFNlc3Npb25TdGF0dXNbU2Vzc2lvblN0YXR1c1tcIlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0tcIl0gPSA3XSA9IFwiU1RBVFVTX1dBSVRJTkdfRk9SX0FDS1wiO1xuICAgIFNlc3Npb25TdGF0dXNbU2Vzc2lvblN0YXR1c1tcIlNUQVRVU19DQU5DRUxFRFwiXSA9IDhdID0gXCJTVEFUVVNfQ0FOQ0VMRURcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfVEVSTUlOQVRFRFwiXSA9IDldID0gXCJTVEFUVVNfVEVSTUlOQVRFRFwiO1xuICAgIFNlc3Npb25TdGF0dXNbU2Vzc2lvblN0YXR1c1tcIlNUQVRVU19BTlNXRVJFRF9XQUlUSU5HX0ZPUl9QUkFDS1wiXSA9IDEwXSA9IFwiU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLXCI7XG4gICAgU2Vzc2lvblN0YXR1c1tTZXNzaW9uU3RhdHVzW1wiU1RBVFVTX0VBUkxZX01FRElBXCJdID0gMTFdID0gXCJTVEFUVVNfRUFSTFlfTUVESUFcIjtcbiAgICBTZXNzaW9uU3RhdHVzW1Nlc3Npb25TdGF0dXNbXCJTVEFUVVNfQ09ORklSTUVEXCJdID0gMTJdID0gXCJTVEFUVVNfQ09ORklSTUVEXCI7XG59KShTZXNzaW9uU3RhdHVzID0gZXhwb3J0cy5TZXNzaW9uU3RhdHVzIHx8IChleHBvcnRzLlNlc3Npb25TdGF0dXMgPSB7fSkpO1xudmFyIFR5cGVTdHJpbmdzO1xuKGZ1bmN0aW9uIChUeXBlU3RyaW5ncykge1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiQ2xpZW50Q29udGV4dFwiXSA9IDBdID0gXCJDbGllbnRDb250ZXh0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJDb25maWd1cmF0aW9uRXJyb3JcIl0gPSAxXSA9IFwiQ29uZmlndXJhdGlvbkVycm9yXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJEaWFsb2dcIl0gPSAyXSA9IFwiRGlhbG9nXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJEaWdlc3RBdXRoZW50aWNhdGlvblwiXSA9IDNdID0gXCJEaWdlc3RBdXRoZW50aWNhdGlvblwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiRFRNRlwiXSA9IDRdID0gXCJEVE1GXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJJbmNvbWluZ01lc3NhZ2VcIl0gPSA1XSA9IFwiSW5jb21pbmdNZXNzYWdlXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJJbmNvbWluZ1JlcXVlc3RcIl0gPSA2XSA9IFwiSW5jb21pbmdSZXF1ZXN0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJJbmNvbWluZ1Jlc3BvbnNlXCJdID0gN10gPSBcIkluY29taW5nUmVzcG9uc2VcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIkludmFsaWRTdGF0ZUVycm9yXCJdID0gOF0gPSBcIkludmFsaWRTdGF0ZUVycm9yXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJJbnZpdGVDbGllbnRDb250ZXh0XCJdID0gOV0gPSBcIkludml0ZUNsaWVudENvbnRleHRcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIkludml0ZVNlcnZlckNvbnRleHRcIl0gPSAxMF0gPSBcIkludml0ZVNlcnZlckNvbnRleHRcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIkxvZ2dlclwiXSA9IDExXSA9IFwiTG9nZ2VyXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJMb2dnZXJGYWN0b3J5XCJdID0gMTJdID0gXCJMb2dnZXJGYWN0b3J5XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJNZXRob2RQYXJhbWV0ZXJFcnJvclwiXSA9IDEzXSA9IFwiTWV0aG9kUGFyYW1ldGVyRXJyb3JcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIk5hbWVBZGRySGVhZGVyXCJdID0gMTRdID0gXCJOYW1lQWRkckhlYWRlclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiTm90U3VwcG9ydGVkRXJyb3JcIl0gPSAxNV0gPSBcIk5vdFN1cHBvcnRlZEVycm9yXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJPdXRnb2luZ1JlcXVlc3RcIl0gPSAxNl0gPSBcIk91dGdvaW5nUmVxdWVzdFwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiUGFyYW1ldGVyc1wiXSA9IDE3XSA9IFwiUGFyYW1ldGVyc1wiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiUHVibGlzaENvbnRleHRcIl0gPSAxOF0gPSBcIlB1Ymxpc2hDb250ZXh0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJSZWZlckNsaWVudENvbnRleHRcIl0gPSAxOV0gPSBcIlJlZmVyQ2xpZW50Q29udGV4dFwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiUmVmZXJTZXJ2ZXJDb250ZXh0XCJdID0gMjBdID0gXCJSZWZlclNlcnZlckNvbnRleHRcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlJlZ2lzdGVyQ29udGV4dFwiXSA9IDIxXSA9IFwiUmVnaXN0ZXJDb250ZXh0XCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJSZW5lZ290aWF0aW9uRXJyb3JcIl0gPSAyMl0gPSBcIlJlbmVnb3RpYXRpb25FcnJvclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiUmVxdWVzdFNlbmRlclwiXSA9IDIzXSA9IFwiUmVxdWVzdFNlbmRlclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiU2VydmVyQ29udGV4dFwiXSA9IDI0XSA9IFwiU2VydmVyQ29udGV4dFwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiU2Vzc2lvblwiXSA9IDI1XSA9IFwiU2Vzc2lvblwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclwiXSA9IDI2XSA9IFwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yXCJdID0gMjddID0gXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3JcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlclwiXSA9IDI4XSA9IFwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyXCI7XG4gICAgVHlwZVN0cmluZ3NbVHlwZVN0cmluZ3NbXCJTdWJzY3JpcHRpb25cIl0gPSAyOV0gPSBcIlN1YnNjcmlwdGlvblwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiVHJhbnNwb3J0XCJdID0gMzBdID0gXCJUcmFuc3BvcnRcIjtcbiAgICBUeXBlU3RyaW5nc1tUeXBlU3RyaW5nc1tcIlVBXCJdID0gMzFdID0gXCJVQVwiO1xuICAgIFR5cGVTdHJpbmdzW1R5cGVTdHJpbmdzW1wiVVJJXCJdID0gMzJdID0gXCJVUklcIjtcbn0pKFR5cGVTdHJpbmdzID0gZXhwb3J0cy5UeXBlU3RyaW5ncyB8fCAoZXhwb3J0cy5UeXBlU3RyaW5ncyA9IHt9KSk7XG4vLyBVQSBzdGF0dXMgY29kZXNcbnZhciBVQVN0YXR1cztcbihmdW5jdGlvbiAoVUFTdGF0dXMpIHtcbiAgICBVQVN0YXR1c1tVQVN0YXR1c1tcIlNUQVRVU19JTklUXCJdID0gMF0gPSBcIlNUQVRVU19JTklUXCI7XG4gICAgVUFTdGF0dXNbVUFTdGF0dXNbXCJTVEFUVVNfU1RBUlRJTkdcIl0gPSAxXSA9IFwiU1RBVFVTX1NUQVJUSU5HXCI7XG4gICAgVUFTdGF0dXNbVUFTdGF0dXNbXCJTVEFUVVNfUkVBRFlcIl0gPSAyXSA9IFwiU1RBVFVTX1JFQURZXCI7XG4gICAgVUFTdGF0dXNbVUFTdGF0dXNbXCJTVEFUVVNfVVNFUl9DTE9TRURcIl0gPSAzXSA9IFwiU1RBVFVTX1VTRVJfQ0xPU0VEXCI7XG4gICAgVUFTdGF0dXNbVUFTdGF0dXNbXCJTVEFUVVNfTk9UX1JFQURZXCJdID0gNF0gPSBcIlNUQVRVU19OT1RfUkVBRFlcIjtcbn0pKFVBU3RhdHVzID0gZXhwb3J0cy5VQVN0YXR1cyB8fCAoZXhwb3J0cy5VQVN0YXR1cyA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vZXhjZXB0aW9uc1wiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vbWVzc2FnZXMvdXRpbHNcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xuLyoqXG4gKiBVc2VyIEFnZW50IFNlcnZlciAoVUFTKS5cbiAqIEByZW1hcmtzXG4gKiBBIHVzZXIgYWdlbnQgc2VydmVyIGlzIGEgbG9naWNhbCBlbnRpdHlcbiAqIHRoYXQgZ2VuZXJhdGVzIGEgcmVzcG9uc2UgdG8gYSBTSVAgcmVxdWVzdC4gIFRoZSByZXNwb25zZVxuICogYWNjZXB0cywgcmVqZWN0cywgb3IgcmVkaXJlY3RzIHRoZSByZXF1ZXN0LiAgVGhpcyByb2xlIGxhc3RzXG4gKiBvbmx5IGZvciB0aGUgZHVyYXRpb24gb2YgdGhhdCB0cmFuc2FjdGlvbi4gIEluIG90aGVyIHdvcmRzLCBpZlxuICogYSBwaWVjZSBvZiBzb2Z0d2FyZSByZXNwb25kcyB0byBhIHJlcXVlc3QsIGl0IGFjdHMgYXMgYSBVQVMgZm9yXG4gKiB0aGUgZHVyYXRpb24gb2YgdGhhdCB0cmFuc2FjdGlvbi4gIElmIGl0IGdlbmVyYXRlcyBhIHJlcXVlc3RcbiAqIGxhdGVyLCBpdCBhc3N1bWVzIHRoZSByb2xlIG9mIGEgdXNlciBhZ2VudCBjbGllbnQgZm9yIHRoZVxuICogcHJvY2Vzc2luZyBvZiB0aGF0IHRyYW5zYWN0aW9uLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi02XG4gKiBAcHVibGljXG4gKi9cbnZhciBVc2VyQWdlbnRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXNlckFnZW50U2VydmVyKHRyYW5zYWN0aW9uQ29uc3RydWN0b3IsIGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25Db25zdHJ1Y3RvciA9IHRyYW5zYWN0aW9uQ29uc3RydWN0b3I7XG4gICAgICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSB0aGlzLmxvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFwic2lwLnVzZXItYWdlbnQtc2VydmVyXCIpO1xuICAgICAgICB0aGlzLnRvVGFnID0gbWVzc2FnZS50b1RhZyA/IG1lc3NhZ2UudG9UYWcgOiB1dGlsc18xLm5ld1RhZygpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLmRpc3Bvc2UoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLCBcImxvZ2dlckZhY3RvcnlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvcmUubG9nZ2VyRmFjdG9yeTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUsIFwidHJhbnNhY3Rpb25cIiwge1xuICAgICAgICAvKiogVGhlIHRyYW5zYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJlcXVlc3QuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl90cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIHVuZGVmaW5lZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiAyMDAgfTsgfVxuICAgICAgICBpZiAoIXRoaXMuYWNjZXB0YWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlRXJyb3IodGhpcy5tZXNzYWdlLm1ldGhvZCArIFwiIG5vdCBhY2NlcHRhYmxlIGluIHN0YXRlIFwiICsgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgPCAyMDAgfHwgc3RhdHVzQ29kZSA+IDI5OSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgc3RhdHVzQ29kZTogXCIgKyBzdGF0dXNDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLnJlcGx5KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcbiAgICBVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiAxODAgfTsgfVxuICAgICAgICBpZiAoIXRoaXMucHJvZ3Jlc3NhYmxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGVFcnJvcih0aGlzLm1lc3NhZ2UubWV0aG9kICsgXCIgbm90IHByb2dyZXNzYWJsZSBpbiBzdGF0ZSBcIiArIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGU7XG4gICAgICAgIGlmIChzdGF0dXNDb2RlIDwgMTAxIHx8IHN0YXR1c0NvZGUgPiAxOTkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXR1c0NvZGU6IFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gdGhpcy5yZXBseShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5yZWRpcmVjdCA9IGZ1bmN0aW9uIChjb250YWN0cywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDMwMiB9OyB9XG4gICAgICAgIGlmICghdGhpcy5yZWRpcmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgcmVkaXJlY3RhYmxlIGluIHN0YXRlIFwiICsgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgPCAzMDAgfHwgc3RhdHVzQ29kZSA+IDM5OSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgc3RhdHVzQ29kZTogXCIgKyBzdGF0dXNDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFjdEhlYWRlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgY29udGFjdHMuZm9yRWFjaChmdW5jdGlvbiAoY29udGFjdCkgeyByZXR1cm4gY29udGFjdEhlYWRlcnMucHVzaChcIkNvbnRhY3Q6IFwiICsgY29udGFjdC50b1N0cmluZygpKTsgfSk7XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5jb25jYXQoY29udGFjdEhlYWRlcnMpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLnJlcGx5KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcbiAgICBVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc3RhdHVzQ29kZTogNDgwIH07IH1cbiAgICAgICAgaWYgKCF0aGlzLnJlamVjdGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgcmVqZWN0YWJsZSBpbiBzdGF0ZSBcIiArIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGU7XG4gICAgICAgIGlmIChzdGF0dXNDb2RlIDwgNDAwIHx8IHN0YXR1c0NvZGUgPiA2OTkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXR1c0NvZGU6IFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gdGhpcy5yZXBseShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS50cnlpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMudHJ5aW5nYWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlRXJyb3IodGhpcy5tZXNzYWdlLm1ldGhvZCArIFwiIG5vdCB0cnlpbmdhYmxlIGluIHN0YXRlIFwiICsgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLnJlcGx5KHsgc3RhdHVzQ29kZTogMTAwIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgVUFTIGRpZCBub3QgZmluZCBhIG1hdGNoaW5nIHRyYW5zYWN0aW9uIGZvciB0aGUgQ0FOQ0VMXG4gICAgICogYWNjb3JkaW5nIHRvIHRoZSBwcm9jZWR1cmUgYWJvdmUsIGl0IFNIT1VMRCByZXNwb25kIHRvIHRoZSBDQU5DRUxcbiAgICAgKiB3aXRoIGEgNDgxIChDYWxsIExlZy9UcmFuc2FjdGlvbiBEb2VzIE5vdCBFeGlzdCkuICBJZiB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiBmb3IgdGhlIG9yaWdpbmFsIHJlcXVlc3Qgc3RpbGwgZXhpc3RzLCB0aGUgYmVoYXZpb3Igb2YgdGhlIFVBUyBvblxuICAgICAqIHJlY2VpdmluZyBhIENBTkNFTCByZXF1ZXN0IGRlcGVuZHMgb24gd2hldGhlciBpdCBoYXMgYWxyZWFkeSBzZW50IGFcbiAgICAgKiBmaW5hbCByZXNwb25zZSBmb3IgdGhlIG9yaWdpbmFsIHJlcXVlc3QuICBJZiBpdCBoYXMsIHRoZSBDQU5DRUxcbiAgICAgKiByZXF1ZXN0IGhhcyBubyBlZmZlY3Qgb24gdGhlIHByb2Nlc3Npbmcgb2YgdGhlIG9yaWdpbmFsIHJlcXVlc3QsIG5vXG4gICAgICogZWZmZWN0IG9uIGFueSBzZXNzaW9uIHN0YXRlLCBhbmQgbm8gZWZmZWN0IG9uIHRoZSByZXNwb25zZXMgZ2VuZXJhdGVkXG4gICAgICogZm9yIHRoZSBvcmlnaW5hbCByZXF1ZXN0LiAgSWYgdGhlIFVBUyBoYXMgbm90IGlzc3VlZCBhIGZpbmFsIHJlc3BvbnNlXG4gICAgICogZm9yIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBpdHMgYmVoYXZpb3IgZGVwZW5kcyBvbiB0aGUgbWV0aG9kIG9mIHRoZVxuICAgICAqIG9yaWdpbmFsIHJlcXVlc3QuICBJZiB0aGUgb3JpZ2luYWwgcmVxdWVzdCB3YXMgYW4gSU5WSVRFLCB0aGUgVUFTXG4gICAgICogU0hPVUxEIGltbWVkaWF0ZWx5IHJlc3BvbmQgdG8gdGhlIElOVklURSB3aXRoIGEgNDg3IChSZXF1ZXN0XG4gICAgICogVGVybWluYXRlZCkuICBBIENBTkNFTCByZXF1ZXN0IGhhcyBubyBpbXBhY3Qgb24gdGhlIHByb2Nlc3Npbmcgb2ZcbiAgICAgKiB0cmFuc2FjdGlvbnMgd2l0aCBhbnkgb3RoZXIgbWV0aG9kIGRlZmluZWQgaW4gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOS4yXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBJbmNvbWluZyBDQU5DRUwgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLnJlY2VpdmVDYW5jZWwgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyBOb3RlOiBDdXJyZW50bHkgQ0FOQ0VMIGlzIGJlaW5nIGhhbmRsZWQgYXMgYSBzcGVjaWFsIGNhc2UuXG4gICAgICAgIC8vIE5vIFVBUyBpcyBjcmVhdGVkIHRvIGhhbmRsZSB0aGUgQ0FOQ0VMIGFuZCB0aGUgcmVzcG9uc2UgdG9cbiAgICAgICAgLy8gaXQgQ0FOQ0VMIGlzIGJlaW5nIGhhbmRsZWQgc3RhdGVsZXNzbHkgYnkgdGhlIHVzZXIgYWdlbnQgY29yZS5cbiAgICAgICAgLy8gQXMgc3VjaCwgdGhlcmUgaXMgY3VycmVudGx5IG5vIHdheSB0byBleHRlcm5hbGx5IGltcGFjdCB0aGVcbiAgICAgICAgLy8gcmVzcG9uc2UgdG8gdGhlIGEgQ0FOQ0VMIHJlcXVlc3QuXG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25DYW5jZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25DYW5jZWwobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLCBcImFjY2VwdGFibGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHRyYW5zYWN0aW9uIHR5cGUuXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50U2VydmVyLnByb3RvdHlwZSwgXCJwcm9ncmVzc2FibGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQzMjAjc2VjdGlvbi00LjFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNhY3Rpb24gdHlwZS5cIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLCBcInJlZGlyZWN0YWJsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc2FjdGlvbiB0eXBlLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUsIFwicmVqZWN0YWJsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc2FjdGlvbiB0eXBlLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUsIFwidHJ5aW5nYWJsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc2FjdGlvbiB0eXBlLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogV2hlbiBhIFVBUyB3aXNoZXMgdG8gY29uc3RydWN0IGEgcmVzcG9uc2UgdG8gYSByZXF1ZXN0LCBpdCBmb2xsb3dzXG4gICAgICogdGhlIGdlbmVyYWwgcHJvY2VkdXJlcyBkZXRhaWxlZCBpbiB0aGUgZm9sbG93aW5nIHN1YnNlY3Rpb25zLlxuICAgICAqIEFkZGl0aW9uYWwgYmVoYXZpb3JzIHNwZWNpZmljIHRvIHRoZSByZXNwb25zZSBjb2RlIGluIHF1ZXN0aW9uLCB3aGljaFxuICAgICAqIGFyZSBub3QgZGV0YWlsZWQgaW4gdGhpcyBzZWN0aW9uLCBtYXkgYWxzbyBiZSByZXF1aXJlZC5cbiAgICAgKlxuICAgICAqIE9uY2UgYWxsIHByb2NlZHVyZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjcmVhdGlvbiBvZiBhIHJlc3BvbnNlIGhhdmVcbiAgICAgKiBiZWVuIGNvbXBsZXRlZCwgdGhlIFVBUyBoYW5kcyB0aGUgcmVzcG9uc2UgYmFjayB0byB0aGUgc2VydmVyXG4gICAgICogdHJhbnNhY3Rpb24gZnJvbSB3aGljaCBpdCByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi42XG4gICAgICogQHBhcmFtIHN0YXR1c0NvZGUgLSBTdGF0dXMgY29kZSB0byByZXBseSB3aXRoLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVwbHkgb3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5yZXBseSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy50b1RhZyAmJiBvcHRpb25zLnN0YXR1c0NvZGUgIT09IDEwMCkge1xuICAgICAgICAgICAgb3B0aW9ucy50b1RhZyA9IHRoaXMudG9UYWc7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51c2VyQWdlbnQgPSBvcHRpb25zLnVzZXJBZ2VudCB8fCB0aGlzLmNvcmUuY29uZmlndXJhdGlvbi51c2VyQWdlbnRIZWFkZXJGaWVsZFZhbHVlO1xuICAgICAgICBvcHRpb25zLnN1cHBvcnRlZCA9IG9wdGlvbnMuc3VwcG9ydGVkIHx8IHRoaXMuY29yZS5jb25maWd1cmF0aW9uLnN1cHBvcnRlZE9wdGlvblRhZ3NSZXNwb25zZTtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gbWVzc2FnZXNfMS5jb25zdHJ1Y3RPdXRnb2luZ1Jlc3BvbnNlKHRoaXMubWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb24ucmVjZWl2ZVJlc3BvbnNlKG9wdGlvbnMuc3RhdHVzQ29kZSwgcmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuICAgIFVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gV2UgYXJlIHRoZSB0cmFuc2FjdGlvbiB1c2VyLlxuICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIGxvZ2dlckZhY3Rvcnk6IHRoaXMubG9nZ2VyRmFjdG9yeSxcbiAgICAgICAgICAgIG9uU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdGVybWluYXRlZCB0cmFuc2FjdGlvbiBmcm9tIHRoZSBjb3JlLlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLnVzZXJBZ2VudFNlcnZlcnMuZGVsZXRlKHVzZXJBZ2VudFNlcnZlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblRyYW5zcG9ydEVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmRlbGVnYXRlICYmIF90aGlzLmRlbGVnYXRlLm9uVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVsZWdhdGUub25UcmFuc3BvcnRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJVc2VyIGFnZW50IHNlcnZlciByZXNwb25zZSB0cmFuc3BvcnQgZXJyb3IuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIHdpdGggdXMgYXMgdGhlIHVzZXIuXG4gICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IG5ldyB0aGlzLnRyYW5zYWN0aW9uQ29uc3RydWN0b3IodGhpcy5tZXNzYWdlLCB0aGlzLmNvcmUudHJhbnNwb3J0LCB1c2VyKTtcbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbjtcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgdHJhbnNhY3Rpb24gdG8gdGhlIGNvcmUuXG4gICAgICAgIHZhciB1c2VyQWdlbnRTZXJ2ZXJJZCA9IHRyYW5zYWN0aW9uLmlkO1xuICAgICAgICB0aGlzLmNvcmUudXNlckFnZW50U2VydmVycy5zZXQodHJhbnNhY3Rpb24uaWQsIHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFVzZXJBZ2VudFNlcnZlcjtcbn0oKSk7XG5leHBvcnRzLlVzZXJBZ2VudFNlcnZlciA9IFVzZXJBZ2VudFNlcnZlcjtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5vbmNlID0gb25jZTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZW1pdHRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5hbWUsIHJlc29sdmVyKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfTtcblxuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCByZXNvbHZlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7XG4gICAgICBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBlcnJvckxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgaGFuZGxlciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsICdlcnJvcicsIGhhbmRsZXIsIGZsYWdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgbGlzdGVuZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICBlbWl0dGVyLm9uY2UobmFtZSwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEV2ZW50VGFyZ2V0IGRvZXMgbm90IGhhdmUgYGVycm9yYCBldmVudCBzZW1hbnRpY3MgbGlrZSBOb2RlXG4gICAgLy8gRXZlbnRFbWl0dGVycywgd2UgZG8gbm90IGxpc3RlbiBmb3IgYGVycm9yYCBldmVudHMgaGVyZS5cbiAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZykge1xuICAgICAgLy8gSUUgZG9lcyBub3QgaGF2ZSBidWlsdGluIGB7IG9uY2U6IHRydWUgfWAgc3VwcG9ydCBzbyB3ZVxuICAgICAgLy8gaGF2ZSB0byBkbyBpdCBtYW51YWxseS5cbiAgICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgbGlzdGVuZXIoYXJnKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGVtaXR0ZXIpO1xuICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB2ZXJzaW9uXzEgPSByZXF1aXJlKFwiLi92ZXJzaW9uXCIpO1xudmFyIEM7XG4oZnVuY3Rpb24gKEMpIHtcbiAgICBDLnZlcnNpb24gPSB2ZXJzaW9uXzEuTElCUkFSWV9WRVJTSU9OO1xuICAgIEMuVVNFUl9BR0VOVCA9IFwiU0lQLmpzL1wiICsgdmVyc2lvbl8xLkxJQlJBUllfVkVSU0lPTjtcbiAgICAvLyBTSVAgc2NoZW1lXG4gICAgQy5TSVAgPSBcInNpcFwiO1xuICAgIEMuU0lQUyA9IFwic2lwc1wiO1xuICAgIC8vIEVuZCBhbmQgRmFpbHVyZSBjYXVzZXNcbiAgICB2YXIgY2F1c2VzO1xuICAgIChmdW5jdGlvbiAoY2F1c2VzKSB7XG4gICAgICAgIC8vIEdlbmVyaWMgZXJyb3IgY2F1c2VzXG4gICAgICAgIGNhdXNlc1tcIkNPTk5FQ1RJT05fRVJST1JcIl0gPSBcIkNvbm5lY3Rpb24gRXJyb3JcIjtcbiAgICAgICAgY2F1c2VzW1wiSU5URVJOQUxfRVJST1JcIl0gPSBcIkludGVybmFsIEVycm9yXCI7XG4gICAgICAgIGNhdXNlc1tcIlJFUVVFU1RfVElNRU9VVFwiXSA9IFwiUmVxdWVzdCBUaW1lb3V0XCI7XG4gICAgICAgIGNhdXNlc1tcIlNJUF9GQUlMVVJFX0NPREVcIl0gPSBcIlNJUCBGYWlsdXJlIENvZGVcIjtcbiAgICAgICAgLy8gU0lQIGVycm9yIGNhdXNlc1xuICAgICAgICBjYXVzZXNbXCJBRERSRVNTX0lOQ09NUExFVEVcIl0gPSBcIkFkZHJlc3MgSW5jb21wbGV0ZVwiO1xuICAgICAgICBjYXVzZXNbXCJBVVRIRU5USUNBVElPTl9FUlJPUlwiXSA9IFwiQXV0aGVudGljYXRpb24gRXJyb3JcIjtcbiAgICAgICAgY2F1c2VzW1wiQlVTWVwiXSA9IFwiQnVzeVwiO1xuICAgICAgICBjYXVzZXNbXCJESUFMT0dfRVJST1JcIl0gPSBcIkRpYWxvZyBFcnJvclwiO1xuICAgICAgICBjYXVzZXNbXCJJTkNPTVBBVElCTEVfU0RQXCJdID0gXCJJbmNvbXBhdGlibGUgU0RQXCI7XG4gICAgICAgIGNhdXNlc1tcIk5PVF9GT1VORFwiXSA9IFwiTm90IEZvdW5kXCI7XG4gICAgICAgIGNhdXNlc1tcIlJFRElSRUNURURcIl0gPSBcIlJlZGlyZWN0ZWRcIjtcbiAgICAgICAgY2F1c2VzW1wiUkVKRUNURURcIl0gPSBcIlJlamVjdGVkXCI7XG4gICAgICAgIGNhdXNlc1tcIlVOQVZBSUxBQkxFXCJdID0gXCJVbmF2YWlsYWJsZVwiO1xuICAgICAgICAvLyBTZXNzaW9uIGVycm9yIGNhdXNlc1xuICAgICAgICBjYXVzZXNbXCJCQURfTUVESUFfREVTQ1JJUFRJT05cIl0gPSBcIkJhZCBNZWRpYSBEZXNjcmlwdGlvblwiO1xuICAgICAgICBjYXVzZXNbXCJDQU5DRUxFRFwiXSA9IFwiQ2FuY2VsZWRcIjtcbiAgICAgICAgY2F1c2VzW1wiRVhQSVJFU1wiXSA9IFwiRXhwaXJlc1wiO1xuICAgICAgICBjYXVzZXNbXCJOT19BQ0tcIl0gPSBcIk5vIEFDS1wiO1xuICAgICAgICBjYXVzZXNbXCJOT19BTlNXRVJcIl0gPSBcIk5vIEFuc3dlclwiO1xuICAgICAgICBjYXVzZXNbXCJOT19QUkFDS1wiXSA9IFwiTm8gUFJBQ0tcIjtcbiAgICAgICAgY2F1c2VzW1wiUlRQX1RJTUVPVVRcIl0gPSBcIlJUUCBUaW1lb3V0XCI7XG4gICAgICAgIGNhdXNlc1tcIlVTRVJfREVOSUVEX01FRElBX0FDQ0VTU1wiXSA9IFwiVXNlciBEZW5pZWQgTWVkaWEgQWNjZXNzXCI7XG4gICAgICAgIGNhdXNlc1tcIldFQlJUQ19FUlJPUlwiXSA9IFwiV2ViUlRDIEVycm9yXCI7XG4gICAgICAgIGNhdXNlc1tcIldFQlJUQ19OT1RfU1VQUE9SVEVEXCJdID0gXCJXZWJSVEMgTm90IFN1cHBvcnRlZFwiO1xuICAgIH0pKGNhdXNlcyA9IEMuY2F1c2VzIHx8IChDLmNhdXNlcyA9IHt9KSk7XG4gICAgdmFyIHN1cHBvcnRlZDtcbiAgICAoZnVuY3Rpb24gKHN1cHBvcnRlZCkge1xuICAgICAgICBzdXBwb3J0ZWRbXCJSRVFVSVJFRFwiXSA9IFwicmVxdWlyZWRcIjtcbiAgICAgICAgc3VwcG9ydGVkW1wiU1VQUE9SVEVEXCJdID0gXCJzdXBwb3J0ZWRcIjtcbiAgICAgICAgc3VwcG9ydGVkW1wiVU5TVVBQT1JURURcIl0gPSBcIm5vbmVcIjtcbiAgICB9KShzdXBwb3J0ZWQgPSBDLnN1cHBvcnRlZCB8fCAoQy5zdXBwb3J0ZWQgPSB7fSkpO1xuICAgIEMuU0lQX0VSUk9SX0NBVVNFUyA9IHtcbiAgICAgICAgQUREUkVTU19JTkNPTVBMRVRFOiBbNDg0XSxcbiAgICAgICAgQVVUSEVOVElDQVRJT05fRVJST1I6IFs0MDEsIDQwN10sXG4gICAgICAgIEJVU1k6IFs0ODYsIDYwMF0sXG4gICAgICAgIElOQ09NUEFUSUJMRV9TRFA6IFs0ODgsIDYwNl0sXG4gICAgICAgIE5PVF9GT1VORDogWzQwNCwgNjA0XSxcbiAgICAgICAgUkVESVJFQ1RFRDogWzMwMCwgMzAxLCAzMDIsIDMwNSwgMzgwXSxcbiAgICAgICAgUkVKRUNURUQ6IFs0MDMsIDYwM10sXG4gICAgICAgIFVOQVZBSUxBQkxFOiBbNDgwLCA0MTAsIDQwOCwgNDMwXVxuICAgIH07XG4gICAgLy8gU0lQIE1ldGhvZHNcbiAgICBDLkFDSyA9IFwiQUNLXCI7XG4gICAgQy5CWUUgPSBcIkJZRVwiO1xuICAgIEMuQ0FOQ0VMID0gXCJDQU5DRUxcIjtcbiAgICBDLklORk8gPSBcIklORk9cIjtcbiAgICBDLklOVklURSA9IFwiSU5WSVRFXCI7XG4gICAgQy5NRVNTQUdFID0gXCJNRVNTQUdFXCI7XG4gICAgQy5OT1RJRlkgPSBcIk5PVElGWVwiO1xuICAgIEMuT1BUSU9OUyA9IFwiT1BUSU9OU1wiO1xuICAgIEMuUkVHSVNURVIgPSBcIlJFR0lTVEVSXCI7XG4gICAgQy5VUERBVEUgPSBcIlVQREFURVwiO1xuICAgIEMuU1VCU0NSSUJFID0gXCJTVUJTQ1JJQkVcIjtcbiAgICBDLlBVQkxJU0ggPSBcIlBVQkxJU0hcIjtcbiAgICBDLlJFRkVSID0gXCJSRUZFUlwiO1xuICAgIEMuUFJBQ0sgPSBcIlBSQUNLXCI7XG4gICAgLyogU0lQIFJlc3BvbnNlIFJlYXNvbnNcbiAgICAgKiBET0M6IGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvc2lwLXBhcmFtZXRlcnNcbiAgICAgKiBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdmVyc2F0aWNhL092ZXJTSVAvYmxvYi9tYXN0ZXIvbGliL292ZXJzaXAvc2lwL2NvbnN0YW50cy5yYiNMN1xuICAgICAqL1xuICAgIEMuUkVBU09OX1BIUkFTRSA9IHtcbiAgICAgICAgMTAwOiBcIlRyeWluZ1wiLFxuICAgICAgICAxODA6IFwiUmluZ2luZ1wiLFxuICAgICAgICAxODE6IFwiQ2FsbCBJcyBCZWluZyBGb3J3YXJkZWRcIixcbiAgICAgICAgMTgyOiBcIlF1ZXVlZFwiLFxuICAgICAgICAxODM6IFwiU2Vzc2lvbiBQcm9ncmVzc1wiLFxuICAgICAgICAxOTk6IFwiRWFybHkgRGlhbG9nIFRlcm1pbmF0ZWRcIixcbiAgICAgICAgMjAwOiBcIk9LXCIsXG4gICAgICAgIDIwMjogXCJBY2NlcHRlZFwiLFxuICAgICAgICAyMDQ6IFwiTm8gTm90aWZpY2F0aW9uXCIsXG4gICAgICAgIDMwMDogXCJNdWx0aXBsZSBDaG9pY2VzXCIsXG4gICAgICAgIDMwMTogXCJNb3ZlZCBQZXJtYW5lbnRseVwiLFxuICAgICAgICAzMDI6IFwiTW92ZWQgVGVtcG9yYXJpbHlcIixcbiAgICAgICAgMzA1OiBcIlVzZSBQcm94eVwiLFxuICAgICAgICAzODA6IFwiQWx0ZXJuYXRpdmUgU2VydmljZVwiLFxuICAgICAgICA0MDA6IFwiQmFkIFJlcXVlc3RcIixcbiAgICAgICAgNDAxOiBcIlVuYXV0aG9yaXplZFwiLFxuICAgICAgICA0MDI6IFwiUGF5bWVudCBSZXF1aXJlZFwiLFxuICAgICAgICA0MDM6IFwiRm9yYmlkZGVuXCIsXG4gICAgICAgIDQwNDogXCJOb3QgRm91bmRcIixcbiAgICAgICAgNDA1OiBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiLFxuICAgICAgICA0MDY6IFwiTm90IEFjY2VwdGFibGVcIixcbiAgICAgICAgNDA3OiBcIlByb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkXCIsXG4gICAgICAgIDQwODogXCJSZXF1ZXN0IFRpbWVvdXRcIixcbiAgICAgICAgNDEwOiBcIkdvbmVcIixcbiAgICAgICAgNDEyOiBcIkNvbmRpdGlvbmFsIFJlcXVlc3QgRmFpbGVkXCIsXG4gICAgICAgIDQxMzogXCJSZXF1ZXN0IEVudGl0eSBUb28gTGFyZ2VcIixcbiAgICAgICAgNDE0OiBcIlJlcXVlc3QtVVJJIFRvbyBMb25nXCIsXG4gICAgICAgIDQxNTogXCJVbnN1cHBvcnRlZCBNZWRpYSBUeXBlXCIsXG4gICAgICAgIDQxNjogXCJVbnN1cHBvcnRlZCBVUkkgU2NoZW1lXCIsXG4gICAgICAgIDQxNzogXCJVbmtub3duIFJlc291cmNlLVByaW9yaXR5XCIsXG4gICAgICAgIDQyMDogXCJCYWQgRXh0ZW5zaW9uXCIsXG4gICAgICAgIDQyMTogXCJFeHRlbnNpb24gUmVxdWlyZWRcIixcbiAgICAgICAgNDIyOiBcIlNlc3Npb24gSW50ZXJ2YWwgVG9vIFNtYWxsXCIsXG4gICAgICAgIDQyMzogXCJJbnRlcnZhbCBUb28gQnJpZWZcIixcbiAgICAgICAgNDI4OiBcIlVzZSBJZGVudGl0eSBIZWFkZXJcIixcbiAgICAgICAgNDI5OiBcIlByb3ZpZGUgUmVmZXJyZXIgSWRlbnRpdHlcIixcbiAgICAgICAgNDMwOiBcIkZsb3cgRmFpbGVkXCIsXG4gICAgICAgIDQzMzogXCJBbm9ueW1pdHkgRGlzYWxsb3dlZFwiLFxuICAgICAgICA0MzY6IFwiQmFkIElkZW50aXR5LUluZm9cIixcbiAgICAgICAgNDM3OiBcIlVuc3VwcG9ydGVkIENlcnRpZmljYXRlXCIsXG4gICAgICAgIDQzODogXCJJbnZhbGlkIElkZW50aXR5IEhlYWRlclwiLFxuICAgICAgICA0Mzk6IFwiRmlyc3QgSG9wIExhY2tzIE91dGJvdW5kIFN1cHBvcnRcIixcbiAgICAgICAgNDQwOiBcIk1heC1CcmVhZHRoIEV4Y2VlZGVkXCIsXG4gICAgICAgIDQ2OTogXCJCYWQgSW5mbyBQYWNrYWdlXCIsXG4gICAgICAgIDQ3MDogXCJDb25zZW50IE5lZWRlZFwiLFxuICAgICAgICA0Nzg6IFwiVW5yZXNvbHZhYmxlIERlc3RpbmF0aW9uXCIsXG4gICAgICAgIDQ4MDogXCJUZW1wb3JhcmlseSBVbmF2YWlsYWJsZVwiLFxuICAgICAgICA0ODE6IFwiQ2FsbC9UcmFuc2FjdGlvbiBEb2VzIE5vdCBFeGlzdFwiLFxuICAgICAgICA0ODI6IFwiTG9vcCBEZXRlY3RlZFwiLFxuICAgICAgICA0ODM6IFwiVG9vIE1hbnkgSG9wc1wiLFxuICAgICAgICA0ODQ6IFwiQWRkcmVzcyBJbmNvbXBsZXRlXCIsXG4gICAgICAgIDQ4NTogXCJBbWJpZ3VvdXNcIixcbiAgICAgICAgNDg2OiBcIkJ1c3kgSGVyZVwiLFxuICAgICAgICA0ODc6IFwiUmVxdWVzdCBUZXJtaW5hdGVkXCIsXG4gICAgICAgIDQ4ODogXCJOb3QgQWNjZXB0YWJsZSBIZXJlXCIsXG4gICAgICAgIDQ4OTogXCJCYWQgRXZlbnRcIixcbiAgICAgICAgNDkxOiBcIlJlcXVlc3QgUGVuZGluZ1wiLFxuICAgICAgICA0OTM6IFwiVW5kZWNpcGhlcmFibGVcIixcbiAgICAgICAgNDk0OiBcIlNlY3VyaXR5IEFncmVlbWVudCBSZXF1aXJlZFwiLFxuICAgICAgICA1MDA6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsXG4gICAgICAgIDUwMTogXCJOb3QgSW1wbGVtZW50ZWRcIixcbiAgICAgICAgNTAyOiBcIkJhZCBHYXRld2F5XCIsXG4gICAgICAgIDUwMzogXCJTZXJ2aWNlIFVuYXZhaWxhYmxlXCIsXG4gICAgICAgIDUwNDogXCJTZXJ2ZXIgVGltZS1vdXRcIixcbiAgICAgICAgNTA1OiBcIlZlcnNpb24gTm90IFN1cHBvcnRlZFwiLFxuICAgICAgICA1MTM6IFwiTWVzc2FnZSBUb28gTGFyZ2VcIixcbiAgICAgICAgNTgwOiBcIlByZWNvbmRpdGlvbiBGYWlsdXJlXCIsXG4gICAgICAgIDYwMDogXCJCdXN5IEV2ZXJ5d2hlcmVcIixcbiAgICAgICAgNjAzOiBcIkRlY2xpbmVcIixcbiAgICAgICAgNjA0OiBcIkRvZXMgTm90IEV4aXN0IEFueXdoZXJlXCIsXG4gICAgICAgIDYwNjogXCJOb3QgQWNjZXB0YWJsZVwiXG4gICAgfTtcbiAgICAvKiBTSVAgT3B0aW9uIFRhZ3NcbiAgICAgKiBET0M6IGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvc2lwLXBhcmFtZXRlcnMvc2lwLXBhcmFtZXRlcnMueGh0bWwjc2lwLXBhcmFtZXRlcnMtNFxuICAgICAqL1xuICAgIEMuT1BUSU9OX1RBR1MgPSB7XG4gICAgICAgIFwiMTAwcmVsXCI6IHRydWUsXG4gICAgICAgIFwiMTk5XCI6IHRydWUsXG4gICAgICAgIFwiYW5zd2VybW9kZVwiOiB0cnVlLFxuICAgICAgICBcImVhcmx5LXNlc3Npb25cIjogdHJ1ZSxcbiAgICAgICAgXCJldmVudGxpc3RcIjogdHJ1ZSxcbiAgICAgICAgXCJleHBsaWNpdHN1YlwiOiB0cnVlLFxuICAgICAgICBcImZyb20tY2hhbmdlXCI6IHRydWUsXG4gICAgICAgIFwiZ2VvbG9jYXRpb24taHR0cFwiOiB0cnVlLFxuICAgICAgICBcImdlb2xvY2F0aW9uLXNpcFwiOiB0cnVlLFxuICAgICAgICBcImdpblwiOiB0cnVlLFxuICAgICAgICBcImdydXVcIjogdHJ1ZSxcbiAgICAgICAgXCJoaXN0aW5mb1wiOiB0cnVlLFxuICAgICAgICBcImljZVwiOiB0cnVlLFxuICAgICAgICBcImpvaW5cIjogdHJ1ZSxcbiAgICAgICAgXCJtdWx0aXBsZS1yZWZlclwiOiB0cnVlLFxuICAgICAgICBcIm5vcmVmZXJzdWJcIjogdHJ1ZSxcbiAgICAgICAgXCJub3N1YlwiOiB0cnVlLFxuICAgICAgICBcIm91dGJvdW5kXCI6IHRydWUsXG4gICAgICAgIFwicGF0aFwiOiB0cnVlLFxuICAgICAgICBcInBvbGljeVwiOiB0cnVlLFxuICAgICAgICBcInByZWNvbmRpdGlvblwiOiB0cnVlLFxuICAgICAgICBcInByZWZcIjogdHJ1ZSxcbiAgICAgICAgXCJwcml2YWN5XCI6IHRydWUsXG4gICAgICAgIFwicmVjaXBpZW50LWxpc3QtaW52aXRlXCI6IHRydWUsXG4gICAgICAgIFwicmVjaXBpZW50LWxpc3QtbWVzc2FnZVwiOiB0cnVlLFxuICAgICAgICBcInJlY2lwaWVudC1saXN0LXN1YnNjcmliZVwiOiB0cnVlLFxuICAgICAgICBcInJlcGxhY2VzXCI6IHRydWUsXG4gICAgICAgIFwicmVzb3VyY2UtcHJpb3JpdHlcIjogdHJ1ZSxcbiAgICAgICAgXCJzZHAtYW5hdFwiOiB0cnVlLFxuICAgICAgICBcInNlYy1hZ3JlZVwiOiB0cnVlLFxuICAgICAgICBcInRkaWFsb2dcIjogdHJ1ZSxcbiAgICAgICAgXCJ0aW1lclwiOiB0cnVlLFxuICAgICAgICBcInV1aVwiOiB0cnVlIC8vIFJGQyA3NDMzXG4gICAgfTtcbiAgICB2YXIgZHRtZlR5cGU7XG4gICAgKGZ1bmN0aW9uIChkdG1mVHlwZSkge1xuICAgICAgICBkdG1mVHlwZVtcIklORk9cIl0gPSBcImluZm9cIjtcbiAgICAgICAgZHRtZlR5cGVbXCJSVFBcIl0gPSBcInJ0cFwiO1xuICAgIH0pKGR0bWZUeXBlID0gQy5kdG1mVHlwZSB8fCAoQy5kdG1mVHlwZSA9IHt9KSk7XG59KShDID0gZXhwb3J0cy5DIHx8IChleHBvcnRzLkMgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9Db25zdGFudHNcIik7XG52YXIgZ3JhbW1hcl8xID0gcmVxdWlyZShcIi4vY29yZS9tZXNzYWdlcy9ncmFtbWFyXCIpO1xudmFyIHVyaV8xID0gcmVxdWlyZShcIi4vY29yZS9tZXNzYWdlcy91cmlcIik7XG52YXIgVXRpbHM7XG4oZnVuY3Rpb24gKFV0aWxzKSB7XG4gICAgZnVuY3Rpb24gZGVmZXIoKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IHt9O1xuICAgICAgICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfVxuICAgIFV0aWxzLmRlZmVyID0gZGVmZXI7XG4gICAgZnVuY3Rpb24gcmVkdWNlUHJvbWlzZXMoYXJyLCB2YWwpIHtcbiAgICAgICAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZm4pIHtcbiAgICAgICAgICAgIGFjYyA9IGFjYy50aGVuKGZuKTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFByb21pc2UucmVzb2x2ZSh2YWwpKTtcbiAgICB9XG4gICAgVXRpbHMucmVkdWNlUHJvbWlzZXMgPSByZWR1Y2VQcm9taXNlcztcbiAgICBmdW5jdGlvbiBzdHJfdXRmOF9sZW5ndGgoc3RyKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC8lW0EtRlxcZF17Mn0vZywgXCJVXCIpLmxlbmd0aDtcbiAgICB9XG4gICAgVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoID0gc3RyX3V0ZjhfbGVuZ3RoO1xuICAgIGZ1bmN0aW9uIGdlbmVyYXRlRmFrZVNEUChib2R5KSB7XG4gICAgICAgIGlmICghYm9keSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydCA9IGJvZHkuaW5kZXhPZihcIm89XCIpO1xuICAgICAgICB2YXIgZW5kID0gYm9keS5pbmRleE9mKFwiXFxyXFxuXCIsIHN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIFwidj0wXFxyXFxuXCIgKyBib2R5LnNsaWNlKHN0YXJ0LCBlbmQpICsgXCJcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcbmM9SU4gSVA0IDAuMC4wLjBcIjtcbiAgICB9XG4gICAgVXRpbHMuZ2VuZXJhdGVGYWtlU0RQID0gZ2VuZXJhdGVGYWtlU0RQO1xuICAgIGZ1bmN0aW9uIGlzRGVjaW1hbChudW0pIHtcbiAgICAgICAgdmFyIG51bUFzTnVtID0gcGFyc2VJbnQobnVtLCAxMCk7XG4gICAgICAgIHJldHVybiAhaXNOYU4obnVtQXNOdW0pICYmIChwYXJzZUZsb2F0KG51bSkgPT09IG51bUFzTnVtKTtcbiAgICB9XG4gICAgVXRpbHMuaXNEZWNpbWFsID0gaXNEZWNpbWFsO1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmRvbVRva2VuKHNpemUsIGJhc2UpIHtcbiAgICAgICAgaWYgKGJhc2UgPT09IHZvaWQgMCkgeyBiYXNlID0gMzI7IH1cbiAgICAgICAgdmFyIHRva2VuID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmFzZSk7XG4gICAgICAgICAgICB0b2tlbiArPSByLnRvU3RyaW5nKGJhc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4gPSBjcmVhdGVSYW5kb21Ub2tlbjtcbiAgICBmdW5jdGlvbiBuZXdUYWcoKSB7XG4gICAgICAgIC8vIHVzZWQgdG8gdXNlIHRoZSBjb25zdGFudCBpbiBVQVxuICAgICAgICByZXR1cm4gVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4oMTApO1xuICAgIH1cbiAgICBVdGlscy5uZXdUYWcgPSBuZXdUYWc7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3VzZXJzLzEwOTUzOC9icm9vZmFcbiAgICBmdW5jdGlvbiBuZXdVVUlEKCkge1xuICAgICAgICB2YXIgVVVJRCA9IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgdmFyIHIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNik7XG4gICAgICAgICAgICB2YXIgdiA9IGMgPT09IFwieFwiID8gciA6IChyICUgNCArIDgpO1xuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFVVSUQ7XG4gICAgfVxuICAgIFV0aWxzLm5ld1VVSUQgPSBuZXdVVUlEO1xuICAgIC8qXG4gICAgICogTm9ybWFsaXplIFNJUCBVUkkuXG4gICAgICogTk9URTogSXQgZG9lcyBub3QgYWxsb3cgYSBTSVAgVVJJIHdpdGhvdXQgdXNlcm5hbWUuXG4gICAgICogQWNjZXB0cyAnc2lwJywgJ3NpcHMnIGFuZCAndGVsJyBVUklzIGFuZCBjb252ZXJ0IHRoZW0gaW50byAnc2lwJy5cbiAgICAgKiBEZXRlY3RzIHRoZSBkb21haW4gcGFydCAoaWYgZ2l2ZW4pIGFuZCBwcm9wZXJseSBoZXgtZXNjYXBlcyB0aGUgdXNlciBwb3J0aW9uLlxuICAgICAqIElmIHRoZSB1c2VyIHBvcnRpb24gaGFzIG9ubHkgJ3RlbCcgbnVtYmVyIHN5bWJvbHMgdGhlIHVzZXIgcG9ydGlvbiBpcyBjbGVhbiBvZiAndGVsJyB2aXN1YWwgc2VwYXJhdG9ycy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2RvbWFpbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVUYXJnZXQodGFyZ2V0LCBkb21haW4pIHtcbiAgICAgICAgLy8gSWYgbm8gdGFyZ2V0IGlzIGdpdmVuIHRoZW4gcmFpc2UgYW4gZXJyb3IuXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBJZiBhIFNJUC5VUkkgaW5zdGFuY2UgaXMgZ2l2ZW4gdGhlbiByZXR1cm4gaXQuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgdXJpXzEuVVJJKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgLy8gSWYgYSBzdHJpbmcgaXMgZ2l2ZW4gc3BsaXQgaXQgYnkgJ0AnOlxuICAgICAgICAgICAgLy8gLSBMYXN0IGZyYWdtZW50IGlzIHRoZSBkZXNpcmVkIGRvbWFpbi5cbiAgICAgICAgICAgIC8vIC0gT3RoZXJ3aXNlIGFwcGVuZCB0aGUgZ2l2ZW4gZG9tYWluIGFyZ3VtZW50LlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRBcnJheSA9IHRhcmdldC5zcGxpdChcIkBcIik7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0VXNlciA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciB0YXJnZXREb21haW4gPSB2b2lkIDA7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldEFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb21haW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRVc2VyID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXREb21haW4gPSBkb21haW47XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VXNlciA9IHRhcmdldEFycmF5WzBdO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXREb21haW4gPSB0YXJnZXRBcnJheVsxXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VXNlciA9IHRhcmdldEFycmF5LnNsaWNlKDAsIHRhcmdldEFycmF5Lmxlbmd0aCAtIDEpLmpvaW4oXCJAXCIpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXREb21haW4gPSB0YXJnZXRBcnJheVt0YXJnZXRBcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgVVJJIHNjaGVtZSAoaWYgcHJlc2VudCkuXG4gICAgICAgICAgICB0YXJnZXRVc2VyID0gdGFyZ2V0VXNlci5yZXBsYWNlKC9eKHNpcHM/fHRlbCk6L2ksIFwiXCIpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlICd0ZWwnIHZpc3VhbCBzZXBhcmF0b3JzIGlmIHRoZSB1c2VyIHBvcnRpb24ganVzdCBjb250YWlucyAndGVsJyBudW1iZXIgc3ltYm9scy5cbiAgICAgICAgICAgIGlmICgvXltcXC1cXC5cXChcXCldKlxcKz9bMC05XFwtXFwuXFwoXFwpXSskLy50ZXN0KHRhcmdldFVzZXIpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0VXNlciA9IHRhcmdldFVzZXIucmVwbGFjZSgvW1xcLVxcLlxcKFxcKV0vZywgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWlsZCB0aGUgY29tcGxldGUgU0lQIFVSSS5cbiAgICAgICAgICAgIHRhcmdldCA9IENvbnN0YW50c18xLkMuU0lQICsgXCI6XCIgKyBVdGlscy5lc2NhcGVVc2VyKHRhcmdldFVzZXIpICsgXCJAXCIgKyB0YXJnZXREb21haW47XG4gICAgICAgICAgICAvLyBGaW5hbGx5IHBhcnNlIHRoZSByZXN1bHRpbmcgVVJJLlxuICAgICAgICAgICAgcmV0dXJuIGdyYW1tYXJfMS5HcmFtbWFyLlVSSVBhcnNlKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgVXRpbHMubm9ybWFsaXplVGFyZ2V0ID0gbm9ybWFsaXplVGFyZ2V0O1xuICAgIC8qXG4gICAgICogSGV4LWVzY2FwZSBhIFNJUCBVUkkgdXNlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlVXNlcih1c2VyKSB7XG4gICAgICAgIC8vIERvbid0IGhleC1lc2NhcGUgJzonICglM0EpLCAnKycgKCUyQiksICc/JyAoJTNGXCIpLCAnLycgKCUyRikuXG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KHVzZXIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyUzQS9pZywgXCI6XCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJTJCL2lnLCBcIitcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lM0YvaWcsIFwiP1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyUyRi9pZywgXCIvXCIpO1xuICAgIH1cbiAgICBVdGlscy5lc2NhcGVVc2VyID0gZXNjYXBlVXNlcjtcbiAgICBmdW5jdGlvbiBoZWFkZXJpemUoc3RyKSB7XG4gICAgICAgIHZhciBleGNlcHRpb25zID0ge1xuICAgICAgICAgICAgXCJDYWxsLUlkXCI6IFwiQ2FsbC1JRFwiLFxuICAgICAgICAgICAgXCJDc2VxXCI6IFwiQ1NlcVwiLFxuICAgICAgICAgICAgXCJNaW4tU2VcIjogXCJNaW4tU0VcIixcbiAgICAgICAgICAgIFwiUmFja1wiOiBcIlJBY2tcIixcbiAgICAgICAgICAgIFwiUnNlcVwiOiBcIlJTZXFcIixcbiAgICAgICAgICAgIFwiV3d3LUF1dGhlbnRpY2F0ZVwiOiBcIldXVy1BdXRoZW50aWNhdGVcIixcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIFwiLVwiKS5zcGxpdChcIi1cIik7XG4gICAgICAgIHZhciBwYXJ0cyA9IG5hbWUubGVuZ3RoO1xuICAgICAgICB2YXIgaG5hbWUgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciBwYXJ0ID0gMDsgcGFydCA8IHBhcnRzOyBwYXJ0KyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaG5hbWUgKz0gXCItXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBobmFtZSArPSBuYW1lW3BhcnRdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZVtwYXJ0XS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4Y2VwdGlvbnNbaG5hbWVdKSB7XG4gICAgICAgICAgICBobmFtZSA9IGV4Y2VwdGlvbnNbaG5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBobmFtZTtcbiAgICB9XG4gICAgVXRpbHMuaGVhZGVyaXplID0gaGVhZGVyaXplO1xuICAgIGZ1bmN0aW9uIHNpcEVycm9yQ2F1c2Uoc3RhdHVzQ29kZSkge1xuICAgICAgICBmb3IgKHZhciBjYXVzZSBpbiBDb25zdGFudHNfMS5DLlNJUF9FUlJPUl9DQVVTRVMpIHtcbiAgICAgICAgICAgIGlmIChDb25zdGFudHNfMS5DLlNJUF9FUlJPUl9DQVVTRVNbY2F1c2VdLmluZGV4T2Yoc3RhdHVzQ29kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuY2F1c2VzW2NhdXNlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ29uc3RhbnRzXzEuQy5jYXVzZXMuU0lQX0ZBSUxVUkVfQ09ERTtcbiAgICB9XG4gICAgVXRpbHMuc2lwRXJyb3JDYXVzZSA9IHNpcEVycm9yQ2F1c2U7XG4gICAgZnVuY3Rpb24gZ2V0UmVhc29uUGhyYXNlKGNvZGUsIHNwZWNpZmljKSB7XG4gICAgICAgIHJldHVybiBzcGVjaWZpYyB8fCBDb25zdGFudHNfMS5DLlJFQVNPTl9QSFJBU0VbY29kZV0gfHwgXCJcIjtcbiAgICB9XG4gICAgVXRpbHMuZ2V0UmVhc29uUGhyYXNlID0gZ2V0UmVhc29uUGhyYXNlO1xuICAgIGZ1bmN0aW9uIGdldFJlYXNvbkhlYWRlclZhbHVlKGNvZGUsIHJlYXNvbikge1xuICAgICAgICByZWFzb24gPSBVdGlscy5nZXRSZWFzb25QaHJhc2UoY29kZSwgcmVhc29uKTtcbiAgICAgICAgcmV0dXJuIFwiU0lQO2NhdXNlPVwiICsgY29kZSArICc7dGV4dD1cIicgKyByZWFzb24gKyAnXCInO1xuICAgIH1cbiAgICBVdGlscy5nZXRSZWFzb25IZWFkZXJWYWx1ZSA9IGdldFJlYXNvbkhlYWRlclZhbHVlO1xuICAgIGZ1bmN0aW9uIGdldENhbmNlbFJlYXNvbihjb2RlLCByZWFzb24pIHtcbiAgICAgICAgaWYgKGNvZGUgJiYgY29kZSA8IDIwMCB8fCBjb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBVdGlscy5nZXRSZWFzb25IZWFkZXJWYWx1ZShjb2RlLCByZWFzb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFV0aWxzLmdldENhbmNlbFJlYXNvbiA9IGdldENhbmNlbFJlYXNvbjtcbiAgICBmdW5jdGlvbiBidWlsZFN0YXR1c0xpbmUoY29kZSwgcmVhc29uKSB7XG4gICAgICAgIC8vIFZhbGlkYXRlIGNvZGUgYW5kIHJlYXNvbiB2YWx1ZXNcbiAgICAgICAgaWYgKCFjb2RlIHx8IChjb2RlIDwgMTAwIHx8IGNvZGUgPiA2OTkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlYXNvbiAmJiB0eXBlb2YgcmVhc29uICE9PSBcInN0cmluZ1wiICYmICEocmVhc29uIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgcmVhc29uOiBcIiArIHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmVhc29uID0gVXRpbHMuZ2V0UmVhc29uUGhyYXNlKGNvZGUsIHJlYXNvbik7XG4gICAgICAgIHJldHVybiBcIlNJUC8yLjAgXCIgKyBjb2RlICsgXCIgXCIgKyByZWFzb24gKyBcIlxcclxcblwiO1xuICAgIH1cbiAgICBVdGlscy5idWlsZFN0YXR1c0xpbmUgPSBidWlsZFN0YXR1c0xpbmU7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgQm9keSBnaXZlbiBhIEJvZHlPYmouXG4gICAgICogQHBhcmFtIGJvZHlPYmogQm9keSBPYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQm9keU9iaihib2R5T2JqKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gYm9keU9iai5ib2R5O1xuICAgICAgICB2YXIgY29udGVudFR5cGUgPSBib2R5T2JqLmNvbnRlbnRUeXBlO1xuICAgICAgICB2YXIgY29udGVudERpc3Bvc2l0aW9uID0gY29udGVudFR5cGVUb0NvbnRlbnREaXNwb3NpdGlvbihjb250ZW50VHlwZSk7XG4gICAgICAgIHZhciBib2R5ID0geyBjb250ZW50RGlzcG9zaXRpb246IGNvbnRlbnREaXNwb3NpdGlvbiwgY29udGVudFR5cGU6IGNvbnRlbnRUeXBlLCBjb250ZW50OiBjb250ZW50IH07XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH1cbiAgICBVdGlscy5mcm9tQm9keU9iaiA9IGZyb21Cb2R5T2JqO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEJvZHlPYmogZ2l2ZW4gYSBCb2R5LlxuICAgICAqIEBwYXJhbSBib2R5T2JqIEJvZHkgT2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Cb2R5T2JqKGJvZHkpIHtcbiAgICAgICAgdmFyIGJvZHlPYmogPSB7XG4gICAgICAgICAgICBib2R5OiBib2R5LmNvbnRlbnQsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogYm9keS5jb250ZW50VHlwZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYm9keU9iajtcbiAgICB9XG4gICAgVXRpbHMudG9Cb2R5T2JqID0gdG9Cb2R5T2JqO1xuICAgIC8vIElmIHRoZSBDb250ZW50LURpc3Bvc2l0aW9uIGhlYWRlciBmaWVsZCBpcyBtaXNzaW5nLCBib2RpZXMgb2ZcbiAgICAvLyBDb250ZW50LVR5cGUgYXBwbGljYXRpb24vc2RwIGltcGx5IHRoZSBkaXNwb3NpdGlvbiBcInNlc3Npb25cIiwgd2hpbGVcbiAgICAvLyBvdGhlciBjb250ZW50IHR5cGVzIGltcGx5IFwicmVuZGVyXCIuXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbiAgICBmdW5jdGlvbiBjb250ZW50VHlwZVRvQ29udGVudERpc3Bvc2l0aW9uKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGlmIChjb250ZW50VHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9zZHBcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwic2Vzc2lvblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwicmVuZGVyXCI7XG4gICAgICAgIH1cbiAgICB9XG59KShVdGlscyA9IGV4cG9ydHMuVXRpbHMgfHwgKGV4cG9ydHMuVXRpbHMgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xudmFyIEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbi8vIHRzbGludDpkaXNhYmxlOm1heC1jbGFzc2VzLXBlci1maWxlXG52YXIgRXhjZXB0aW9ucztcbihmdW5jdGlvbiAoRXhjZXB0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGhhcyBjbG9zZWQuXG4gICAgICogT2NjdXJzIHdoZW4gZ2V0RGVzY3JpcHRpb24oKSBvciBzZXREZXNjcmlwdGlvbigpIGFyZSBjYWxsZWQgYWZ0ZXIgY2xvc2UoKSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICogT2NjdXJzIHdoZW4gY2xvc2UoKSBpcyBjYWxsZWQgd2hpbGUgZ2V0RGVzY3JpcHRpb24oKSBvciBzZXREZXNjcmlwdGlvbigpIGFyZSBpbiBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICB2YXIgQ2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDbG9zZWRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIENsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcigpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBcIlRoZSBzZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXIgaGFzIGNsb3NlZC5cIikgfHwgdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yO1xuICAgIH0oY29yZV8xLkV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuQ2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yID0gQ2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGUgc2Vzc2lvbiB0ZXJtaW5hdGVkIGJlZm9yZSB0aGUgYWN0aW9uIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICB2YXIgVGVybWluYXRlZFNlc3Npb25FcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgdHNsaWJfMS5fX2V4dGVuZHMoVGVybWluYXRlZFNlc3Npb25FcnJvciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gVGVybWluYXRlZFNlc3Npb25FcnJvcigpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBcIlRoZSBzZXNzaW9uIGhhcyB0ZXJtaW5hdGVkLlwiKSB8fCB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUZXJtaW5hdGVkU2Vzc2lvbkVycm9yO1xuICAgIH0oY29yZV8xLkV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuVGVybWluYXRlZFNlc3Npb25FcnJvciA9IFRlcm1pbmF0ZWRTZXNzaW9uRXJyb3I7XG4gICAgLyoqXG4gICAgICogVW5zdXBwb3J0ZWQgc2Vzc2lvbiBkZXNjcmlwdGlvbiBjb250ZW50IHR5cGUuXG4gICAgICovXG4gICAgdmFyIFVuc3VwcG9ydGVkU2Vzc2lvbkRlc2NyaXB0aW9uQ29udGVudFR5cGVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgdHNsaWJfMS5fX2V4dGVuZHMoVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZFNlc3Npb25EZXNjcmlwdGlvbkNvbnRlbnRUeXBlRXJyb3IobWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UgPyBtZXNzYWdlIDogXCJVbnN1cHBvcnRlZCBzZXNzaW9uIGRlc2NyaXB0aW9uIGNvbnRlbnQgdHlwZS5cIikgfHwgdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yO1xuICAgIH0oY29yZV8xLkV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yID0gVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yO1xufSkoRXhjZXB0aW9ucyA9IGV4cG9ydHMuRXhjZXB0aW9ucyB8fCAoZXhwb3J0cy5FeGNlcHRpb25zID0ge30pKTtcbi8qKlxuICogREVQUkVDQVRFRDogVGhlIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uIG9mIGV4Y2VwdGlvbnMgaW4gdGhpcyBsaWJyYXJ5IGF0dGVtcHRlZCB0b1xuICogZGVhbCB3aXRoIHRoZSBsYWNrIG9mIHR5cGUgY2hlY2tpbmcgaW4gSmF2YVNjcmlwdCBieSBhZGRpbmcgYSBcInR5cGVcIiBhdHRyaWJ1dGVcbiAqIHRvIG9iamVjdHMgYW5kIHVzaW5nIHRoYXQgdG8gZGlzY3JpbWluYXRlLiBPbiB0b3Agb2YgdGhhdCBpdCBsYXllcmVkIGFsbGNvYXRlZFxuICogXCJjb2RlXCIgbnVtYmVycyBhbmQgY29uc3RhbnQgXCJuYW1lXCIgc3RyaW5ncy4gQWxsIG9mIHRoYXQgaXMgdW5uZWNlc3Nhcnkgd2hlbiB1c2luZ1xuICogVHlwZVNjcmlwdCwgaW5oZXJpdGluZyBmcm9tIEVycm9yIGFuZCBwcm9wZXJseSBzZXR0aW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uLi5cbiAqL1xudmFyIExlZ2FjeUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhMZWdhY3lFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGVnYWN5RXhjZXB0aW9uKGNvZGUsIG5hbWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIF90aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gTGVnYWN5RXhjZXB0aW9uO1xufShjb3JlXzEuRXhjZXB0aW9uKSk7XG4oZnVuY3Rpb24gKEV4Y2VwdGlvbnMpIHtcbiAgICB2YXIgQ29uZmlndXJhdGlvbkVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb25maWd1cmF0aW9uRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIENvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAxLCBcIkNPTkZJR1VSQVRJT05fRVJST1JcIiwgKCF2YWx1ZSkgPyBcIk1pc3NpbmcgcGFyYW1ldGVyOiBcIiArIHBhcmFtZXRlciA6XG4gICAgICAgICAgICAgICAgXCJJbnZhbGlkIHZhbHVlIFwiICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgXCIgZm9yIHBhcmFtZXRlciAnXCIgKyBwYXJhbWV0ZXIgKyBcIidcIikgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLkNvbmZpZ3VyYXRpb25FcnJvcjtcbiAgICAgICAgICAgIF90aGlzLnBhcmFtZXRlciA9IHBhcmFtZXRlcjtcbiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvbmZpZ3VyYXRpb25FcnJvcjtcbiAgICB9KExlZ2FjeUV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yID0gQ29uZmlndXJhdGlvbkVycm9yO1xuICAgIHZhciBJbnZhbGlkU3RhdGVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgdHNsaWJfMS5fX2V4dGVuZHMoSW52YWxpZFN0YXRlRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEludmFsaWRTdGF0ZUVycm9yKHN0YXR1cykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgMiwgXCJJTlZBTElEX1NUQVRFX0VSUk9SXCIsIFwiSW52YWxpZCBzdGF0dXM6IFwiICsgc3RhdHVzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuSW52YWxpZFN0YXRlRXJyb3I7XG4gICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEludmFsaWRTdGF0ZUVycm9yO1xuICAgIH0oTGVnYWN5RXhjZXB0aW9uKSk7XG4gICAgRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvciA9IEludmFsaWRTdGF0ZUVycm9yO1xuICAgIHZhciBOb3RTdXBwb3J0ZWRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgdHNsaWJfMS5fX2V4dGVuZHMoTm90U3VwcG9ydGVkRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5vdFN1cHBvcnRlZEVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIDMsIFwiTk9UX1NVUFBPUlRFRF9FUlJPUlwiLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuTm90U3VwcG9ydGVkRXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5vdFN1cHBvcnRlZEVycm9yO1xuICAgIH0oTGVnYWN5RXhjZXB0aW9uKSk7XG4gICAgRXhjZXB0aW9ucy5Ob3RTdXBwb3J0ZWRFcnJvciA9IE5vdFN1cHBvcnRlZEVycm9yO1xuICAgIC8vIDQgd2FzIEdldERlc2NyaXB0aW9uRXJyb3IsIHdoaWNoIHdhcyBkZXByZWNhdGVkIGFuZCBub3cgcmVtb3ZlZFxuICAgIHZhciBSZW5lZ290aWF0aW9uRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIHRzbGliXzEuX19leHRlbmRzKFJlbmVnb3RpYXRpb25FcnJvciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gUmVuZWdvdGlhdGlvbkVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIDUsIFwiUkVORUdPVElBVElPTl9FUlJPUlwiLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuUmVuZWdvdGlhdGlvbkVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZW5lZ290aWF0aW9uRXJyb3I7XG4gICAgfShMZWdhY3lFeGNlcHRpb24pKTtcbiAgICBFeGNlcHRpb25zLlJlbmVnb3RpYXRpb25FcnJvciA9IFJlbmVnb3RpYXRpb25FcnJvcjtcbiAgICB2YXIgTWV0aG9kUGFyYW1ldGVyRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIHRzbGliXzEuX19leHRlbmRzKE1ldGhvZFBhcmFtZXRlckVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBNZXRob2RQYXJhbWV0ZXJFcnJvcihtZXRob2QsIHBhcmFtZXRlciwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIDYsIFwiTUVUSE9EX1BBUkFNRVRFUl9FUlJPUlwiLCAoIXZhbHVlKSA/XG4gICAgICAgICAgICAgICAgXCJNaXNzaW5nIHBhcmFtZXRlcjogXCIgKyBwYXJhbWV0ZXIgOlxuICAgICAgICAgICAgICAgIFwiSW52YWxpZCB2YWx1ZSBcIiArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArIFwiIGZvciBwYXJhbWV0ZXIgJ1wiICsgcGFyYW1ldGVyICsgXCInXCIpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5NZXRob2RQYXJhbWV0ZXJFcnJvcjtcbiAgICAgICAgICAgIF90aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgIF90aGlzLnBhcmFtZXRlciA9IHBhcmFtZXRlcjtcbiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1ldGhvZFBhcmFtZXRlckVycm9yO1xuICAgIH0oTGVnYWN5RXhjZXB0aW9uKSk7XG4gICAgRXhjZXB0aW9ucy5NZXRob2RQYXJhbWV0ZXJFcnJvciA9IE1ldGhvZFBhcmFtZXRlckVycm9yO1xuICAgIC8vIDcgd2FzIFRyYW5zcG9ydEVycm9yLCB3aGljaCB3YXMgcmVwbGFjZWRcbiAgICB2YXIgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihtZXRob2QsIGVycm9yLCBtZXNzYWdlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCA4LCBcIlNFU1NJT05fREVTQ1JJUFRJT05fSEFORExFUl9FUlJPUlwiLCBtZXNzYWdlIHx8IFwiRXJyb3Igd2l0aCBTZXNzaW9uIERlc2NyaXB0aW9uIEhhbmRsZXJcIikgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcjtcbiAgICAgICAgICAgIF90aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgIF90aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcjtcbiAgICB9KExlZ2FjeUV4Y2VwdGlvbikpO1xuICAgIEV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yID0gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yO1xufSkoRXhjZXB0aW9ucyA9IGV4cG9ydHMuRXhjZXB0aW9ucyB8fCAoZXhwb3J0cy5FeGNlcHRpb25zID0ge30pKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVDEgPSA1MDA7XG52YXIgVDIgPSA0MDAwO1xudmFyIFQ0ID0gNTAwMDtcbi8qKlxuICogVGltZXJzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnRzLlRpbWVycyA9IHtcbiAgICBUMTogVDEsXG4gICAgVDI6IFQyLFxuICAgIFQ0OiBUNCxcbiAgICBUSU1FUl9COiA2NCAqIFQxLFxuICAgIFRJTUVSX0Q6IDAgKiBUMSxcbiAgICBUSU1FUl9GOiA2NCAqIFQxLFxuICAgIFRJTUVSX0g6IDY0ICogVDEsXG4gICAgVElNRVJfSTogMCAqIFQ0LFxuICAgIFRJTUVSX0o6IDAgKiBUMSxcbiAgICBUSU1FUl9LOiAwICogVDQsXG4gICAgVElNRVJfTDogNjQgKiBUMSxcbiAgICBUSU1FUl9NOiA2NCAqIFQxLFxuICAgIFRJTUVSX046IDY0ICogVDEsXG4gICAgUFJPVklTSU9OQUxfUkVTUE9OU0VfSU5URVJWQUw6IDYwMDAwIC8vIFNlZSBSRkMgMzI2MSBTZWN0aW9uIDEzLjMuMS4xXG59O1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpIF9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwidmFyIHN0b3JlID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xudmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbDtcbnZhciBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQHBhcmFtIHNpemUgLVxuICogQHBhcmFtIGJhc2UgLVxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJhbmRvbVRva2VuKHNpemUsIGJhc2UpIHtcbiAgICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7IGJhc2UgPSAzMjsgfVxuICAgIHZhciB0b2tlbiA9IFwiXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgdmFyIHIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiYXNlKTtcbiAgICAgICAgdG9rZW4gKz0gci50b1N0cmluZyhiYXNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VuO1xufVxuZXhwb3J0cy5jcmVhdGVSYW5kb21Ub2tlbiA9IGNyZWF0ZVJhbmRvbVRva2VuO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2V0UmVhc29uUGhyYXNlKGNvZGUpIHtcbiAgICByZXR1cm4gUkVBU09OX1BIUkFTRVtjb2RlXSB8fCBcIlwiO1xufVxuZXhwb3J0cy5nZXRSZWFzb25QaHJhc2UgPSBnZXRSZWFzb25QaHJhc2U7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBuZXdUYWcoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJhbmRvbVRva2VuKDEwKTtcbn1cbmV4cG9ydHMubmV3VGFnID0gbmV3VGFnO1xuLyoqXG4gKiBAcGFyYW0gc3RyIC1cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBoZWFkZXJpemUoc3RyKSB7XG4gICAgdmFyIGV4Y2VwdGlvbnMgPSB7XG4gICAgICAgIFwiQ2FsbC1JZFwiOiBcIkNhbGwtSURcIixcbiAgICAgICAgXCJDc2VxXCI6IFwiQ1NlcVwiLFxuICAgICAgICBcIk1pbi1TZVwiOiBcIk1pbi1TRVwiLFxuICAgICAgICBcIlJhY2tcIjogXCJSQWNrXCIsXG4gICAgICAgIFwiUnNlcVwiOiBcIlJTZXFcIixcbiAgICAgICAgXCJXd3ctQXV0aGVudGljYXRlXCI6IFwiV1dXLUF1dGhlbnRpY2F0ZVwiLFxuICAgIH07XG4gICAgdmFyIG5hbWUgPSBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIFwiLVwiKS5zcGxpdChcIi1cIik7XG4gICAgdmFyIHBhcnRzID0gbmFtZS5sZW5ndGg7XG4gICAgdmFyIGhuYW1lID0gXCJcIjtcbiAgICBmb3IgKHZhciBwYXJ0ID0gMDsgcGFydCA8IHBhcnRzOyBwYXJ0KyspIHtcbiAgICAgICAgaWYgKHBhcnQgIT09IDApIHtcbiAgICAgICAgICAgIGhuYW1lICs9IFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIGhuYW1lICs9IG5hbWVbcGFydF0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lW3BhcnRdLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKGV4Y2VwdGlvbnNbaG5hbWVdKSB7XG4gICAgICAgIGhuYW1lID0gZXhjZXB0aW9uc1tobmFtZV07XG4gICAgfVxuICAgIHJldHVybiBobmFtZTtcbn1cbmV4cG9ydHMuaGVhZGVyaXplID0gaGVhZGVyaXplO1xuLyoqXG4gKiBAcGFyYW0gc3RyIC1cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBzdHJfdXRmOF9sZW5ndGgoc3RyKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoLyVbQS1GXFxkXXsyfS9nLCBcIlVcIikubGVuZ3RoO1xufVxuZXhwb3J0cy5zdHJfdXRmOF9sZW5ndGggPSBzdHJfdXRmOF9sZW5ndGg7XG4vKipcbiAqIFNJUCBSZXNwb25zZSBSZWFzb25zXG4gKiBET0M6IGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvc2lwLXBhcmFtZXRlcnNcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgUkVBU09OX1BIUkFTRSA9IHtcbiAgICAxMDA6IFwiVHJ5aW5nXCIsXG4gICAgMTgwOiBcIlJpbmdpbmdcIixcbiAgICAxODE6IFwiQ2FsbCBJcyBCZWluZyBGb3J3YXJkZWRcIixcbiAgICAxODI6IFwiUXVldWVkXCIsXG4gICAgMTgzOiBcIlNlc3Npb24gUHJvZ3Jlc3NcIixcbiAgICAxOTk6IFwiRWFybHkgRGlhbG9nIFRlcm1pbmF0ZWRcIixcbiAgICAyMDA6IFwiT0tcIixcbiAgICAyMDI6IFwiQWNjZXB0ZWRcIixcbiAgICAyMDQ6IFwiTm8gTm90aWZpY2F0aW9uXCIsXG4gICAgMzAwOiBcIk11bHRpcGxlIENob2ljZXNcIixcbiAgICAzMDE6IFwiTW92ZWQgUGVybWFuZW50bHlcIixcbiAgICAzMDI6IFwiTW92ZWQgVGVtcG9yYXJpbHlcIixcbiAgICAzMDU6IFwiVXNlIFByb3h5XCIsXG4gICAgMzgwOiBcIkFsdGVybmF0aXZlIFNlcnZpY2VcIixcbiAgICA0MDA6IFwiQmFkIFJlcXVlc3RcIixcbiAgICA0MDE6IFwiVW5hdXRob3JpemVkXCIsXG4gICAgNDAyOiBcIlBheW1lbnQgUmVxdWlyZWRcIixcbiAgICA0MDM6IFwiRm9yYmlkZGVuXCIsXG4gICAgNDA0OiBcIk5vdCBGb3VuZFwiLFxuICAgIDQwNTogXCJNZXRob2QgTm90IEFsbG93ZWRcIixcbiAgICA0MDY6IFwiTm90IEFjY2VwdGFibGVcIixcbiAgICA0MDc6IFwiUHJveHkgQXV0aGVudGljYXRpb24gUmVxdWlyZWRcIixcbiAgICA0MDg6IFwiUmVxdWVzdCBUaW1lb3V0XCIsXG4gICAgNDEwOiBcIkdvbmVcIixcbiAgICA0MTI6IFwiQ29uZGl0aW9uYWwgUmVxdWVzdCBGYWlsZWRcIixcbiAgICA0MTM6IFwiUmVxdWVzdCBFbnRpdHkgVG9vIExhcmdlXCIsXG4gICAgNDE0OiBcIlJlcXVlc3QtVVJJIFRvbyBMb25nXCIsXG4gICAgNDE1OiBcIlVuc3VwcG9ydGVkIE1lZGlhIFR5cGVcIixcbiAgICA0MTY6IFwiVW5zdXBwb3J0ZWQgVVJJIFNjaGVtZVwiLFxuICAgIDQxNzogXCJVbmtub3duIFJlc291cmNlLVByaW9yaXR5XCIsXG4gICAgNDIwOiBcIkJhZCBFeHRlbnNpb25cIixcbiAgICA0MjE6IFwiRXh0ZW5zaW9uIFJlcXVpcmVkXCIsXG4gICAgNDIyOiBcIlNlc3Npb24gSW50ZXJ2YWwgVG9vIFNtYWxsXCIsXG4gICAgNDIzOiBcIkludGVydmFsIFRvbyBCcmllZlwiLFxuICAgIDQyODogXCJVc2UgSWRlbnRpdHkgSGVhZGVyXCIsXG4gICAgNDI5OiBcIlByb3ZpZGUgUmVmZXJyZXIgSWRlbnRpdHlcIixcbiAgICA0MzA6IFwiRmxvdyBGYWlsZWRcIixcbiAgICA0MzM6IFwiQW5vbnltaXR5IERpc2FsbG93ZWRcIixcbiAgICA0MzY6IFwiQmFkIElkZW50aXR5LUluZm9cIixcbiAgICA0Mzc6IFwiVW5zdXBwb3J0ZWQgQ2VydGlmaWNhdGVcIixcbiAgICA0Mzg6IFwiSW52YWxpZCBJZGVudGl0eSBIZWFkZXJcIixcbiAgICA0Mzk6IFwiRmlyc3QgSG9wIExhY2tzIE91dGJvdW5kIFN1cHBvcnRcIixcbiAgICA0NDA6IFwiTWF4LUJyZWFkdGggRXhjZWVkZWRcIixcbiAgICA0Njk6IFwiQmFkIEluZm8gUGFja2FnZVwiLFxuICAgIDQ3MDogXCJDb25zZW50IE5lZWRlZFwiLFxuICAgIDQ3ODogXCJVbnJlc29sdmFibGUgRGVzdGluYXRpb25cIixcbiAgICA0ODA6IFwiVGVtcG9yYXJpbHkgVW5hdmFpbGFibGVcIixcbiAgICA0ODE6IFwiQ2FsbC9UcmFuc2FjdGlvbiBEb2VzIE5vdCBFeGlzdFwiLFxuICAgIDQ4MjogXCJMb29wIERldGVjdGVkXCIsXG4gICAgNDgzOiBcIlRvbyBNYW55IEhvcHNcIixcbiAgICA0ODQ6IFwiQWRkcmVzcyBJbmNvbXBsZXRlXCIsXG4gICAgNDg1OiBcIkFtYmlndW91c1wiLFxuICAgIDQ4NjogXCJCdXN5IEhlcmVcIixcbiAgICA0ODc6IFwiUmVxdWVzdCBUZXJtaW5hdGVkXCIsXG4gICAgNDg4OiBcIk5vdCBBY2NlcHRhYmxlIEhlcmVcIixcbiAgICA0ODk6IFwiQmFkIEV2ZW50XCIsXG4gICAgNDkxOiBcIlJlcXVlc3QgUGVuZGluZ1wiLFxuICAgIDQ5MzogXCJVbmRlY2lwaGVyYWJsZVwiLFxuICAgIDQ5NDogXCJTZWN1cml0eSBBZ3JlZW1lbnQgUmVxdWlyZWRcIixcbiAgICA1MDA6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsXG4gICAgNTAxOiBcIk5vdCBJbXBsZW1lbnRlZFwiLFxuICAgIDUwMjogXCJCYWQgR2F0ZXdheVwiLFxuICAgIDUwMzogXCJTZXJ2aWNlIFVuYXZhaWxhYmxlXCIsXG4gICAgNTA0OiBcIlNlcnZlciBUaW1lLW91dFwiLFxuICAgIDUwNTogXCJWZXJzaW9uIE5vdCBTdXBwb3J0ZWRcIixcbiAgICA1MTM6IFwiTWVzc2FnZSBUb28gTGFyZ2VcIixcbiAgICA1ODA6IFwiUHJlY29uZGl0aW9uIEZhaWx1cmVcIixcbiAgICA2MDA6IFwiQnVzeSBFdmVyeXdoZXJlXCIsXG4gICAgNjAzOiBcIkRlY2xpbmVcIixcbiAgICA2MDQ6IFwiRG9lcyBOb3QgRXhpc3QgQW55d2hlcmVcIixcbiAgICA2MDY6IFwiTm90IEFjY2VwdGFibGVcIlxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi9VdGlsc1wiKTtcbnZhciBDbGllbnRDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENsaWVudENvbnRleHQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2xpZW50Q29udGV4dCh1YSwgbWV0aG9kLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGF0YSA9IHt9O1xuICAgICAgICBDbGllbnRDb250ZXh0LmluaXRpYWxpemVyKF90aGlzLCB1YSwgbWV0aG9kLCB0YXJnZXQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENsaWVudENvbnRleHQuaW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAob2JqVG9Db25zdHJ1Y3QsIHVhLCBtZXRob2QsIG9yaWdpbmFsVGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIG9ialRvQ29uc3RydWN0LnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLkNsaWVudENvbnRleHQ7XG4gICAgICAgIC8vIFZhbGlkYXRlIGFyZ3VtZW50c1xuICAgICAgICBpZiAob3JpZ2luYWxUYXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIG9ialRvQ29uc3RydWN0LnVhID0gdWE7XG4gICAgICAgIG9ialRvQ29uc3RydWN0LmxvZ2dlciA9IHVhLmdldExvZ2dlcihcInNpcC5jbGllbnRjb250ZXh0XCIpO1xuICAgICAgICBvYmpUb0NvbnN0cnVjdC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHZhciB0YXJnZXQgPSB1YS5ub3JtYWxpemVUYXJnZXQob3JpZ2luYWxUYXJnZXQpO1xuICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFyZ2V0OiBcIiArIG9yaWdpbmFsVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnJvbVVSSSA9IHVhLnVzZXJBZ2VudENvcmUuY29uZmlndXJhdGlvbi5hb3I7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucGFyYW1zICYmIG9wdGlvbnMucGFyYW1zLmZyb21VcmkpIHtcbiAgICAgICAgICAgIGZyb21VUkkgPVxuICAgICAgICAgICAgICAgICh0eXBlb2Ygb3B0aW9ucy5wYXJhbXMuZnJvbVVyaSA9PT0gXCJzdHJpbmdcIikgP1xuICAgICAgICAgICAgICAgICAgICBjb3JlXzEuR3JhbW1hci5VUklQYXJzZShvcHRpb25zLnBhcmFtcy5mcm9tVXJpKSA6XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyYW1zLmZyb21Vcmk7XG4gICAgICAgICAgICBpZiAoIWZyb21VUkkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBmcm9tIFVSSTogXCIgKyBvcHRpb25zLnBhcmFtcy5mcm9tVXJpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdG9VUkkgPSB0YXJnZXQ7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucGFyYW1zICYmIG9wdGlvbnMucGFyYW1zLnRvVXJpKSB7XG4gICAgICAgICAgICB0b1VSSSA9XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBvcHRpb25zLnBhcmFtcy50b1VyaSA9PT0gXCJzdHJpbmdcIikgP1xuICAgICAgICAgICAgICAgICAgICBjb3JlXzEuR3JhbW1hci5VUklQYXJzZShvcHRpb25zLnBhcmFtcy50b1VyaSkgOlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtcy50b1VyaTtcbiAgICAgICAgICAgIGlmICghdG9VUkkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB0byBVUkk6IFwiICsgb3B0aW9ucy5wYXJhbXMudG9VcmkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIE9wdGlvbnNcbiAgICAgICAgKiAtIGV4dHJhSGVhZGVyc1xuICAgICAgICAqIC0gcGFyYW1zXG4gICAgICAgICogLSBjb250ZW50VHlwZVxuICAgICAgICAqIC0gYm9keVxuICAgICAgICAqL1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IG9wdGlvbnMucGFyYW1zIHx8IHt9O1xuICAgICAgICB2YXIgYm9keU9iajtcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgYm9keU9iaiA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiBvcHRpb25zLmJvZHksXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IG9wdGlvbnMuY29udGVudFR5cGUgPyBvcHRpb25zLmNvbnRlbnRUeXBlIDogXCJhcHBsaWNhdGlvbi9zZHBcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9ialRvQ29uc3RydWN0LmJvZHkgPSBib2R5T2JqO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5O1xuICAgICAgICBpZiAoYm9keU9iaikge1xuICAgICAgICAgICAgYm9keSA9IFV0aWxzXzEuVXRpbHMuZnJvbUJvZHlPYmooYm9keU9iaik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVpbGQgdGhlIHJlcXVlc3RcbiAgICAgICAgb2JqVG9Db25zdHJ1Y3QucmVxdWVzdCA9IHVhLnVzZXJBZ2VudENvcmUubWFrZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UobWV0aG9kLCB0YXJnZXQsIGZyb21VUkksIHRvVVJJLCBwYXJhbXMsIGV4dHJhSGVhZGVycywgYm9keSk7XG4gICAgICAgIC8qIFNldCBvdGhlciBwcm9wZXJ0aWVzIGZyb20gdGhlIHJlcXVlc3QgKi9cbiAgICAgICAgaWYgKG9ialRvQ29uc3RydWN0LnJlcXVlc3QuZnJvbSkge1xuICAgICAgICAgICAgb2JqVG9Db25zdHJ1Y3QubG9jYWxJZGVudGl0eSA9IG9ialRvQ29uc3RydWN0LnJlcXVlc3QuZnJvbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqVG9Db25zdHJ1Y3QucmVxdWVzdC50bykge1xuICAgICAgICAgICAgb2JqVG9Db25zdHJ1Y3QucmVtb3RlSWRlbnRpdHkgPSBvYmpUb0NvbnN0cnVjdC5yZXF1ZXN0LnRvO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDbGllbnRDb250ZXh0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnVhLnVzZXJBZ2VudENvcmUucmVxdWVzdCh0aGlzLnJlcXVlc3QsIHtcbiAgICAgICAgICAgIG9uQWNjZXB0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25SZWRpcmVjdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICBvblJlamVjdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICBvblRyeWluZzogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQ2xpZW50Q29udGV4dC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZSB8fCAwO1xuICAgICAgICB2YXIgY2F1c2UgPSBVdGlsc18xLlV0aWxzLmdldFJlYXNvblBocmFzZShzdGF0dXNDb2RlKTtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIC9eMVswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInByb2dyZXNzXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eMlswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVhLmFwcGxpY2FudHNbdGhpcy50b1N0cmluZygpXSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy51YS5hcHBsaWNhbnRzW3RoaXMudG9TdHJpbmcoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFjY2VwdGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVhLmFwcGxpY2FudHNbdGhpcy50b1N0cmluZygpXSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy51YS5hcHBsaWNhbnRzW3RoaXMudG9TdHJpbmcoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJlamVjdGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENsaWVudENvbnRleHQucHJvdG90eXBlLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCB1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgfTtcbiAgICBDbGllbnRDb250ZXh0LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgdW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICB9O1xuICAgIHJldHVybiBDbGllbnRDb250ZXh0O1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuQ2xpZW50Q29udGV4dCA9IENsaWVudENvbnRleHQ7XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBUcmFuc2FjdGlvbiBzdGF0ZS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFRyYW5zYWN0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKFRyYW5zYWN0aW9uU3RhdGUpIHtcbiAgICBUcmFuc2FjdGlvblN0YXRlW1wiQWNjZXB0ZWRcIl0gPSBcIkFjY2VwdGVkXCI7XG4gICAgVHJhbnNhY3Rpb25TdGF0ZVtcIkNhbGxpbmdcIl0gPSBcIkNhbGxpbmdcIjtcbiAgICBUcmFuc2FjdGlvblN0YXRlW1wiQ29tcGxldGVkXCJdID0gXCJDb21wbGV0ZWRcIjtcbiAgICBUcmFuc2FjdGlvblN0YXRlW1wiQ29uZmlybWVkXCJdID0gXCJDb25maXJtZWRcIjtcbiAgICBUcmFuc2FjdGlvblN0YXRlW1wiUHJvY2VlZGluZ1wiXSA9IFwiUHJvY2VlZGluZ1wiO1xuICAgIFRyYW5zYWN0aW9uU3RhdGVbXCJUZXJtaW5hdGVkXCJdID0gXCJUZXJtaW5hdGVkXCI7XG4gICAgVHJhbnNhY3Rpb25TdGF0ZVtcIlRyeWluZ1wiXSA9IFwiVHJ5aW5nXCI7XG59KShUcmFuc2FjdGlvblN0YXRlID0gZXhwb3J0cy5UcmFuc2FjdGlvblN0YXRlIHx8IChleHBvcnRzLlRyYW5zYWN0aW9uU3RhdGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbi8qKlxuICogRklYTUU6IFRPRE86IFNob3VsZCBiZSBjb25maWd1cmFibGUvdmFyaWFibGUuXG4gKi9cbmV4cG9ydHMuQWxsb3dlZE1ldGhvZHMgPSBbXG4gICAgbWVzc2FnZXNfMS5DLkFDSyxcbiAgICBtZXNzYWdlc18xLkMuQllFLFxuICAgIG1lc3NhZ2VzXzEuQy5DQU5DRUwsXG4gICAgbWVzc2FnZXNfMS5DLklORk8sXG4gICAgbWVzc2FnZXNfMS5DLklOVklURSxcbiAgICBtZXNzYWdlc18xLkMuTUVTU0FHRSxcbiAgICBtZXNzYWdlc18xLkMuTk9USUZZLFxuICAgIG1lc3NhZ2VzXzEuQy5PUFRJT05TLFxuICAgIG1lc3NhZ2VzXzEuQy5QUkFDSyxcbiAgICBtZXNzYWdlc18xLkMuUkVGRVIsXG4gICAgbWVzc2FnZXNfMS5DLlJFR0lTVEVSLFxuICAgIG1lc3NhZ2VzXzEuQy5TVUJTQ1JJQkVcbl07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXTtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBrZXksIG93biwgb3V0O1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChvd24gJiYgaGFzKGV4cG9ydHMsIGtleSkpIGNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24gKEMpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBDKSB7XG4gICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQygpO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZiAoSVNfUFJPVE8pIHtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZiAodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSkgaGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcbiIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjYuMTInIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4vY29yZVwiKTtcbmV4cG9ydHMuRGlnZXN0QXV0aGVudGljYXRpb24gPSBjb3JlXzEuRGlnZXN0QXV0aGVudGljYXRpb247XG5leHBvcnRzLkdyYW1tYXIgPSBjb3JlXzEuR3JhbW1hcjtcbmV4cG9ydHMuSW5jb21pbmdSZXF1ZXN0ID0gY29yZV8xLkluY29taW5nUmVxdWVzdE1lc3NhZ2U7XG5leHBvcnRzLkluY29taW5nUmVzcG9uc2UgPSBjb3JlXzEuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2U7XG5leHBvcnRzLkxvZ2dlckZhY3RvcnkgPSBjb3JlXzEuTG9nZ2VyRmFjdG9yeTtcbmV4cG9ydHMuTmFtZUFkZHJIZWFkZXIgPSBjb3JlXzEuTmFtZUFkZHJIZWFkZXI7XG5leHBvcnRzLk91dGdvaW5nUmVxdWVzdCA9IGNvcmVfMS5PdXRnb2luZ1JlcXVlc3RNZXNzYWdlO1xuZXhwb3J0cy5QYXJzZXIgPSBjb3JlXzEuUGFyc2VyO1xuZXhwb3J0cy5UaW1lcnMgPSBjb3JlXzEuVGltZXJzO1xuZXhwb3J0cy5VUkkgPSBjb3JlXzEuVVJJO1xudmFyIENsaWVudENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL0NsaWVudENvbnRleHRcIik7XG5leHBvcnRzLkNsaWVudENvbnRleHQgPSBDbGllbnRDb250ZXh0XzEuQ2xpZW50Q29udGV4dDtcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbmV4cG9ydHMuQyA9IENvbnN0YW50c18xLkM7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xuZXhwb3J0cy5EaWFsb2dTdGF0dXMgPSBFbnVtc18xLkRpYWxvZ1N0YXR1cztcbmV4cG9ydHMuU2Vzc2lvblN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cztcbmV4cG9ydHMuVHlwZVN0cmluZ3MgPSBFbnVtc18xLlR5cGVTdHJpbmdzO1xuZXhwb3J0cy5VQVN0YXR1cyA9IEVudW1zXzEuVUFTdGF0dXM7XG52YXIgRXhjZXB0aW9uc18xID0gcmVxdWlyZShcIi4vRXhjZXB0aW9uc1wiKTtcbmV4cG9ydHMuRXhjZXB0aW9ucyA9IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zO1xudmFyIFB1Ymxpc2hDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9QdWJsaXNoQ29udGV4dFwiKTtcbmV4cG9ydHMuUHVibGlzaENvbnRleHQgPSBQdWJsaXNoQ29udGV4dF8xLlB1Ymxpc2hDb250ZXh0O1xudmFyIFJlZmVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUmVmZXJDb250ZXh0XCIpO1xuZXhwb3J0cy5SZWZlckNsaWVudENvbnRleHQgPSBSZWZlckNvbnRleHRfMS5SZWZlckNsaWVudENvbnRleHQ7XG5leHBvcnRzLlJlZmVyU2VydmVyQ29udGV4dCA9IFJlZmVyQ29udGV4dF8xLlJlZmVyU2VydmVyQ29udGV4dDtcbnZhciBSZWdpc3RlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1JlZ2lzdGVyQ29udGV4dFwiKTtcbmV4cG9ydHMuUmVnaXN0ZXJDb250ZXh0ID0gUmVnaXN0ZXJDb250ZXh0XzEuUmVnaXN0ZXJDb250ZXh0O1xudmFyIFNlcnZlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1NlcnZlckNvbnRleHRcIik7XG5leHBvcnRzLlNlcnZlckNvbnRleHQgPSBTZXJ2ZXJDb250ZXh0XzEuU2VydmVyQ29udGV4dDtcbnZhciBTZXNzaW9uXzEgPSByZXF1aXJlKFwiLi9TZXNzaW9uXCIpO1xuZXhwb3J0cy5JbnZpdGVDbGllbnRDb250ZXh0ID0gU2Vzc2lvbl8xLkludml0ZUNsaWVudENvbnRleHQ7XG5leHBvcnRzLkludml0ZVNlcnZlckNvbnRleHQgPSBTZXNzaW9uXzEuSW52aXRlU2VydmVyQ29udGV4dDtcbmV4cG9ydHMuU2Vzc2lvbiA9IFNlc3Npb25fMS5TZXNzaW9uO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZShcIi4vU3Vic2NyaXB0aW9uXCIpO1xuZXhwb3J0cy5TdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb247XG52YXIgVHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi9UcmFuc3BvcnRcIik7XG5leHBvcnRzLlRyYW5zcG9ydCA9IFRyYW5zcG9ydF8xLlRyYW5zcG9ydDtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2NvcmUvdHJhbnNhY3Rpb25zXCIpO1xudmFyIFRyYW5zYWN0aW9ucyA9IHtcbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbjogdHJhbnNhY3Rpb25zXzEuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uc18xLkludml0ZVNlcnZlclRyYW5zYWN0aW9uLFxuICAgIE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbixcbiAgICBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjogdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb25cbn07XG5leHBvcnRzLlRyYW5zYWN0aW9ucyA9IFRyYW5zYWN0aW9ucztcbnZhciBVQV8xID0gcmVxdWlyZShcIi4vVUFcIik7XG5leHBvcnRzLm1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQSA9IFVBXzEubWFrZVVzZXJBZ2VudENvcmVDb25maWd1cmF0aW9uRnJvbVVBO1xuZXhwb3J0cy5VQSA9IFVBXzEuVUE7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuZXhwb3J0cy5VdGlscyA9IFV0aWxzXzEuVXRpbHM7XG52YXIgV2ViID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vV2ViL2luZGV4XCIpKTtcbmV4cG9ydHMuV2ViID0gV2ViO1xudmFyIHZlcnNpb24gPSBDb25zdGFudHNfMS5DLnZlcnNpb247XG5leHBvcnRzLnZlcnNpb24gPSB2ZXJzaW9uO1xudmFyIG5hbWUgPSBcInNpcC5qc1wiO1xuZXhwb3J0cy5uYW1lID0gbmFtZTtcbnZhciBDb3JlID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vY29yZS9pbmRleFwiKSk7XG5leHBvcnRzLkNvcmUgPSBDb3JlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBwZWdHcmFtbWFyID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIocmVxdWlyZShcIi4uLy4uL2dyYW1tYXIvZGlzdC9ncmFtbWFyXCIpKTtcbi8qKlxuICogR3JhbW1hci5cbiAqIEBpbnRlcm5hbFxuICovXG52YXIgR3JhbW1hcjtcbihmdW5jdGlvbiAoR3JhbW1hcikge1xuICAgIC8qKlxuICAgICAqIFBhcnNlLlxuICAgICAqIEBwYXJhbSBpbnB1dCAtXG4gICAgICogQHBhcmFtIHN0YXJ0UnVsZSAtXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2UoaW5wdXQsIHN0YXJ0UnVsZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHsgc3RhcnRSdWxlOiBzdGFydFJ1bGUgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBlZ0dyYW1tYXIucGFyc2UoaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9ucy5kYXRhO1xuICAgIH1cbiAgICBHcmFtbWFyLnBhcnNlID0gcGFyc2U7XG4gICAgLyoqXG4gICAgICogUGFyc2UgdGhlIGdpdmVuIHN0cmluZyBhbmQgcmV0dXJucyBhIFNJUC5OYW1lQWRkckhlYWRlciBpbnN0YW5jZSBvciB1bmRlZmluZWQgaWZcbiAgICAgKiBpdCBpcyBhbiBpbnZhbGlkIE5hbWVBZGRySGVhZGVyLlxuICAgICAqIEBwYXJhbSBuYW1lX2FkZHJfaGVhZGVyIC1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYW1lQWRkckhlYWRlclBhcnNlKG5hbWVBZGRySGVhZGVyKSB7XG4gICAgICAgIHZhciBwYXJzZWROYW1lQWRkckhlYWRlciA9IEdyYW1tYXIucGFyc2UobmFtZUFkZHJIZWFkZXIsIFwiTmFtZV9BZGRyX0hlYWRlclwiKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZE5hbWVBZGRySGVhZGVyICE9PSAtMSA/IHBhcnNlZE5hbWVBZGRySGVhZGVyIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBHcmFtbWFyLm5hbWVBZGRySGVhZGVyUGFyc2UgPSBuYW1lQWRkckhlYWRlclBhcnNlO1xuICAgIC8qKlxuICAgICAqIFBhcnNlIHRoZSBnaXZlbiBzdHJpbmcgYW5kIHJldHVybnMgYSBTSVAuVVJJIGluc3RhbmNlIG9yIHVuZGVmaW5lZCBpZlxuICAgICAqIGl0IGlzIGFuIGludmFsaWQgVVJJLlxuICAgICAqIEBwYXJhbSB1cmkgLVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVSSVBhcnNlKHVyaSkge1xuICAgICAgICB2YXIgcGFyc2VkVXJpID0gR3JhbW1hci5wYXJzZSh1cmksIFwiU0lQX1VSSVwiKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZFVyaSAhPT0gLTEgPyBwYXJzZWRVcmkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIEdyYW1tYXIuVVJJUGFyc2UgPSBVUklQYXJzZTtcbn0pKEdyYW1tYXIgPSBleHBvcnRzLkdyYW1tYXIgfHwgKGV4cG9ydHMuR3JhbW1hciA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2Vzc2lvblwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZXhjZXB0aW9uXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uLXN0YXRlLWVycm9yXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RyYW5zcG9ydC1lcnJvclwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xudmFyIEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG52YXIgU2VydmVyQ29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTZXJ2ZXJDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNlcnZlckNvbnRleHQodWEsIGluY29taW5nUmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pbmNvbWluZ1JlcXVlc3QgPSBpbmNvbWluZ1JlcXVlc3Q7XG4gICAgICAgIF90aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgU2VydmVyQ29udGV4dC5pbml0aWFsaXplcihfdGhpcywgdWEsIGluY29taW5nUmVxdWVzdCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLy8gaGFjayB0byBnZXQgYXJvdW5kIG91ciBtdWx0aXBsZSBpbmhlcml0YW5jZSBpc3N1ZXNcbiAgICBTZXJ2ZXJDb250ZXh0LmluaXRpYWxpemVyID0gZnVuY3Rpb24gKG9iamVjdFRvQ29uc3RydWN0LCB1YSwgaW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICAgIHZhciByZXF1ZXN0ID0gaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2U7XG4gICAgICAgIG9iamVjdFRvQ29uc3RydWN0LnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlcnZlckNvbnRleHQ7XG4gICAgICAgIG9iamVjdFRvQ29uc3RydWN0LnVhID0gdWE7XG4gICAgICAgIG9iamVjdFRvQ29uc3RydWN0LmxvZ2dlciA9IHVhLmdldExvZ2dlcihcInNpcC5zZXJ2ZXJjb250ZXh0XCIpO1xuICAgICAgICBvYmplY3RUb0NvbnN0cnVjdC5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgaWYgKHJlcXVlc3QuYm9keSkge1xuICAgICAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QuYm9keSA9IHJlcXVlc3QuYm9keTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWVzdC5oYXNIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpIHtcbiAgICAgICAgICAgIG9iamVjdFRvQ29uc3RydWN0LmNvbnRlbnRUeXBlID0gcmVxdWVzdC5nZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QubWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgICAgIG9iamVjdFRvQ29uc3RydWN0LmxvY2FsSWRlbnRpdHkgPSByZXF1ZXN0LnRvO1xuICAgICAgICBvYmplY3RUb0NvbnN0cnVjdC5yZW1vdGVJZGVudGl0eSA9IHJlcXVlc3QuZnJvbTtcbiAgICAgICAgdmFyIGhhc0Fzc2VydGVkSWRlbnRpdHkgPSByZXF1ZXN0Lmhhc0hlYWRlcihcIlAtQXNzZXJ0ZWQtSWRlbnRpdHlcIik7XG4gICAgICAgIGlmIChoYXNBc3NlcnRlZElkZW50aXR5KSB7XG4gICAgICAgICAgICB2YXIgYXNzZXJ0ZWRJZGVudGl0eSA9IHJlcXVlc3QuZ2V0SGVhZGVyKFwiUC1Bc3NlcnRlZC1JZGVudGl0eVwiKTtcbiAgICAgICAgICAgIGlmIChhc3NlcnRlZElkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0VG9Db25zdHJ1Y3QuYXNzZXJ0ZWRJZGVudGl0eSA9IGNvcmVfMS5HcmFtbWFyLm5hbWVBZGRySGVhZGVyUGFyc2UoYXNzZXJ0ZWRJZGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlcnZlckNvbnRleHQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgb3B0aW9ucy5zdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDE4MDtcbiAgICAgICAgb3B0aW9ucy5taW5Db2RlID0gMTAwO1xuICAgICAgICBvcHRpb25zLm1heENvZGUgPSAxOTk7XG4gICAgICAgIG9wdGlvbnMuZXZlbnRzID0gW1wicHJvZ3Jlc3NcIl07XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGx5KG9wdGlvbnMpO1xuICAgIH07XG4gICAgU2VydmVyQ29udGV4dC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgb3B0aW9ucy5zdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDIwMDtcbiAgICAgICAgb3B0aW9ucy5taW5Db2RlID0gMjAwO1xuICAgICAgICBvcHRpb25zLm1heENvZGUgPSAyOTk7XG4gICAgICAgIG9wdGlvbnMuZXZlbnRzID0gW1wiYWNjZXB0ZWRcIl07XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGx5KG9wdGlvbnMpO1xuICAgIH07XG4gICAgU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgb3B0aW9ucy5zdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDQ4MDtcbiAgICAgICAgb3B0aW9ucy5taW5Db2RlID0gMzAwO1xuICAgICAgICBvcHRpb25zLm1heENvZGUgPSA2OTk7XG4gICAgICAgIG9wdGlvbnMuZXZlbnRzID0gW1wicmVqZWN0ZWRcIiwgXCJmYWlsZWRcIl07XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGx5KG9wdGlvbnMpO1xuICAgIH07XG4gICAgU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVwbHkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZSB8fCAxMDA7XG4gICAgICAgIHZhciBtaW5Db2RlID0gb3B0aW9ucy5taW5Db2RlIHx8IDEwMDtcbiAgICAgICAgdmFyIG1heENvZGUgPSBvcHRpb25zLm1heENvZGUgfHwgNjk5O1xuICAgICAgICB2YXIgcmVhc29uUGhyYXNlID0gVXRpbHNfMS5VdGlscy5nZXRSZWFzb25QaHJhc2Uoc3RhdHVzQ29kZSwgb3B0aW9ucy5yZWFzb25QaHJhc2UpO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW107XG4gICAgICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5ID8gY29yZV8xLmZyb21Cb2R5TGVnYWN5KG9wdGlvbnMuYm9keSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBldmVudHMgPSBvcHRpb25zLmV2ZW50cyB8fCBbXTtcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgPCBtaW5Db2RlIHx8IHN0YXR1c0NvZGUgPiBtYXhDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNwb25zZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgcmVhc29uUGhyYXNlOiByZWFzb25QaHJhc2UsXG4gICAgICAgICAgICBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHlcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICB2YXIgc3RhdHVzQ29kZVN0cmluZyA9IHN0YXR1c0NvZGUudG9TdHJpbmcoKTtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIC9eMTAwJC8udGVzdChzdGF0dXNDb2RlU3RyaW5nKTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMuaW5jb21pbmdSZXF1ZXN0LnRyeWluZyhyZXNwb25zZU9wdGlvbnMpLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eMVswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlU3RyaW5nKTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMuaW5jb21pbmdSZXF1ZXN0LnByb2dyZXNzKHJlc3BvbnNlT3B0aW9ucykubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGVTdHJpbmcpOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5pbmNvbWluZ1JlcXVlc3QuYWNjZXB0KHJlc3BvbnNlT3B0aW9ucykubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14zWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGVTdHJpbmcpOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5pbmNvbWluZ1JlcXVlc3QucmVkaXJlY3QoW10sIHJlc3BvbnNlT3B0aW9ucykubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL15bNC02XVswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlU3RyaW5nKTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMuaW5jb21pbmdSZXF1ZXN0LnJlamVjdChyZXNwb25zZU9wdGlvbnMpLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdHVzIGNvZGUgXCIgKyBzdGF0dXNDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoZXZlbnQsIHJlc3BvbnNlLCByZWFzb25QaHJhc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgdW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH07XG4gICAgU2VydmVyQ29udGV4dC5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUik7XG4gICAgfTtcbiAgICByZXR1cm4gU2VydmVyQ29udGV4dDtcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLlNlcnZlckNvbnRleHQgPSBTZXJ2ZXJDb250ZXh0O1xuIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF93ZWFrTWFwID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL3dlYWstbWFwJyk7XG5cbnZhciBfd2Vha01hcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93ZWFrTWFwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGVtaXR0ZXIgPSBuZXcgX3dlYWtNYXAyLmRlZmF1bHQoKTtcblxudmFyIEVtaXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEVtaXR0ZXIoKSB7XG5cdFx0KDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRW1pdHRlcik7XG5cblx0XHRlbWl0dGVyLnNldCh0aGlzLCB7XG5cdFx0XHRldmVudHM6IHt9XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV2ZW50TGVuZ3RoID0gMDtcblx0fVxuXG5cdCgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEVtaXR0ZXIsIFt7XG5cdFx0a2V5OiAnb24nLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgY2IpIHtcblx0XHRcdHZhciBvbmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuXHRcdFx0aWYgKHR5cGVvZiBjYiA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwcm92aWRlIGEgY2FsbGJhY2sgbWV0aG9kLicpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudF0gPSB0aGlzLmV2ZW50c1tldmVudF0gfHwgW107XG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudF0ucHVzaCh7XG5cdFx0XHRcdGNiOiBjYixcblx0XHRcdFx0b25jZTogb25jZVxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZXZlbnRMZW5ndGgrKztcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnb2ZmJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2ZW50LCBjYikge1xuXHRcdFx0aWYgKHR5cGVvZiBjYiA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwcm92aWRlIGEgY2FsbGJhY2sgbWV0aG9kLicpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFdmVudCBub3QgZm91bmQgLSB0aGUgZXZlbnQgeW91IHByb3ZpZGVkIGlzOiAnICsgZXZlbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuXG5cdFx0XHRsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSkge1xuXHRcdFx0XHRpZiAodi5jYiA9PT0gY2IpIHtcblx0XHRcdFx0XHRsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuZXZlbnRzW2V2ZW50XTtcblxuXHRcdFx0XHR0aGlzLmV2ZW50TGVuZ3RoLS07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ3RyaWdnZXInLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdFx0YXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgZXZlbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSBhbiBldmVudCB0byB0cmlnZ2VyLicpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdO1xuXHRcdFx0dmFyIG9uY2VMaXN0ZW5lcnMgPSBbXTtcblxuXHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lcnMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XG5cdFx0XHRcdFx0di5jYi5hcHBseShfdGhpcywgYXJncyk7XG5cblx0XHRcdFx0XHRpZiAodi5vbmNlKSBvbmNlTGlzdGVuZXJzLnVuc2hpZnQoayk7XG5cblx0XHRcdFx0XHRvbmNlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVycy5zcGxpY2UoaywgMSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvbmNlJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gb25jZShldmVudCwgY2IpIHtcblx0XHRcdHRoaXMub24oZXZlbnQsIGNiLCB0cnVlKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdkZXN0cm95Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRcdGVtaXR0ZXIuZGVsZXRlKHRoaXMpO1xuXG5cdFx0XHR0aGlzLmV2ZW50TGVuZ3RoID0gMDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdldmVudHMnLFxuXHRcdGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcdFx0cmV0dXJuIGVtaXR0ZXIuZ2V0KHRoaXMpLmV2ZW50cztcblx0XHR9XG5cdH1dKTtcblx0cmV0dXJuIEVtaXR0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEVtaXR0ZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2RpYWxvZ1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zZXNzaW9uLWRpYWxvZ1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdWJzY3JpcHRpb24tZGlhbG9nXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vbWVzc2FnZXNcIik7XG4vKipcbiAqIERpYWxvZy5cbiAqIEByZW1hcmtzXG4gKiBBIGtleSBjb25jZXB0IGZvciBhIHVzZXIgYWdlbnQgaXMgdGhhdCBvZiBhIGRpYWxvZy4gIEEgZGlhbG9nXG4gKiByZXByZXNlbnRzIGEgcGVlci10by1wZWVyIFNJUCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gdXNlciBhZ2VudHNcbiAqIHRoYXQgcGVyc2lzdHMgZm9yIHNvbWUgdGltZS4gIFRoZSBkaWFsb2cgZmFjaWxpdGF0ZXMgc2VxdWVuY2luZyBvZlxuICogbWVzc2FnZXMgYmV0d2VlbiB0aGUgdXNlciBhZ2VudHMgYW5kIHByb3BlciByb3V0aW5nIG9mIHJlcXVlc3RzXG4gKiBiZXR3ZWVuIGJvdGggb2YgdGhlbS4gIFRoZSBkaWFsb2cgcmVwcmVzZW50cyBhIGNvbnRleHQgaW4gd2hpY2ggdG9cbiAqIGludGVycHJldCBTSVAgbWVzc2FnZXMuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyXG4gKiBAcHVibGljXG4gKi9cbnZhciBEaWFsb2cgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogRGlhbG9nIGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSBjb3JlIC0gVXNlciBhZ2VudCBjb3JlLlxuICAgICAqIEBwYXJhbSBkaWFsb2dTdGF0ZSAtIEluaXRpYWwgZGlhbG9nIHN0YXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpYWxvZyhjb3JlLCBkaWFsb2dTdGF0ZSkge1xuICAgICAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgICAgICB0aGlzLmRpYWxvZ1N0YXRlID0gZGlhbG9nU3RhdGU7XG4gICAgICAgIHRoaXMuY29yZS5kaWFsb2dzLnNldCh0aGlzLmlkLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBhIFVBQyByZWNlaXZlcyBhIHJlc3BvbnNlIHRoYXQgZXN0YWJsaXNoZXMgYSBkaWFsb2csIGl0XG4gICAgICogY29uc3RydWN0cyB0aGUgc3RhdGUgb2YgdGhlIGRpYWxvZy4gIFRoaXMgc3RhdGUgTVVTVCBiZSBtYWludGFpbmVkXG4gICAgICogZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgZGlhbG9nLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICogQHBhcmFtIG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgLSBPdXRnb2luZyByZXF1ZXN0IG1lc3NhZ2UgZm9yIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gaW5jb21pbmdSZXNwb25zZU1lc3NhZ2UgLSBJbmNvbWluZyByZXNwb25zZSBtZXNzYWdlIGNyZWF0aW5nIGRpYWxvZy5cbiAgICAgKi9cbiAgICBEaWFsb2cuaW5pdGlhbERpYWxvZ1N0YXRlRm9yVXNlckFnZW50Q2xpZW50ID0gZnVuY3Rpb24gKG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UsIGluY29taW5nUmVzcG9uc2VNZXNzYWdlKSB7XG4gICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IHdhcyBzZW50IG92ZXIgVExTLCBhbmQgdGhlIFJlcXVlc3QtVVJJIGNvbnRhaW5lZCBhXG4gICAgICAgIC8vIFNJUFMgVVJJLCB0aGUgXCJzZWN1cmVcIiBmbGFnIGlzIHNldCB0byBUUlVFLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMlxuICAgICAgICB2YXIgc2VjdXJlID0gZmFsc2U7IC8vIEZJWE1FOiBDdXJyZW50bHkgbm8gc3VwcG9ydCBmb3IgVExTLlxuICAgICAgICAvLyBUaGUgcm91dGUgc2V0IE1VU1QgYmUgc2V0IHRvIHRoZSBsaXN0IG9mIFVSSXMgaW4gdGhlIFJlY29yZC1Sb3V0ZVxuICAgICAgICAvLyBoZWFkZXIgZmllbGQgZnJvbSB0aGUgcmVzcG9uc2UsIHRha2VuIGluIHJldmVyc2Ugb3JkZXIgYW5kIHByZXNlcnZpbmdcbiAgICAgICAgLy8gYWxsIFVSSSBwYXJhbWV0ZXJzLiAgSWYgbm8gUmVjb3JkLVJvdXRlIGhlYWRlciBmaWVsZCBpcyBwcmVzZW50IGluXG4gICAgICAgIC8vIHRoZSByZXNwb25zZSwgdGhlIHJvdXRlIHNldCBNVVNUIGJlIHNldCB0byB0aGUgZW1wdHkgc2V0LiAgVGhpcyByb3V0ZVxuICAgICAgICAvLyBzZXQsIGV2ZW4gaWYgZW1wdHksIG92ZXJyaWRlcyBhbnkgcHJlLWV4aXN0aW5nIHJvdXRlIHNldCBmb3IgZnV0dXJlXG4gICAgICAgIC8vIHJlcXVlc3RzIGluIHRoaXMgZGlhbG9nLiAgVGhlIHJlbW90ZSB0YXJnZXQgTVVTVCBiZSBzZXQgdG8gdGhlIFVSSVxuICAgICAgICAvLyBmcm9tIHRoZSBDb250YWN0IGhlYWRlciBmaWVsZCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICAgIHZhciByb3V0ZVNldCA9IGluY29taW5nUmVzcG9uc2VNZXNzYWdlLmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIikucmV2ZXJzZSgpO1xuICAgICAgICB2YXIgY29udGFjdCA9IGluY29taW5nUmVzcG9uc2VNZXNzYWdlLnBhcnNlSGVhZGVyKFwiY29udGFjdFwiKTtcbiAgICAgICAgaWYgKCFjb250YWN0KSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udGFjdCB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGNvbnRhY3QgaW5zdGFuY2VvZiBtZXNzYWdlc18xLk5hbWVBZGRySGVhZGVyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udGFjdCBub3QgaW5zdGFuY2Ugb2YgTmFtZUFkZHJIZWFkZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW1vdGVUYXJnZXQgPSBjb250YWN0LnVyaTtcbiAgICAgICAgLy8gVGhlIGxvY2FsIHNlcXVlbmNlIG51bWJlciBNVVNUIGJlIHNldCB0byB0aGUgdmFsdWUgb2YgdGhlIHNlcXVlbmNlXG4gICAgICAgIC8vIG51bWJlciBpbiB0aGUgQ1NlcSBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3QuICBUaGUgcmVtb3RlIHNlcXVlbmNlXG4gICAgICAgIC8vIG51bWJlciBNVVNUIGJlIGVtcHR5IChpdCBpcyBlc3RhYmxpc2hlZCB3aGVuIHRoZSByZW1vdGUgVUEgc2VuZHMgYVxuICAgICAgICAvLyByZXF1ZXN0IHdpdGhpbiB0aGUgZGlhbG9nKS4gIFRoZSBjYWxsIGlkZW50aWZpZXIgY29tcG9uZW50IG9mIHRoZVxuICAgICAgICAvLyBkaWFsb2cgSUQgTVVTVCBiZSBzZXQgdG8gdGhlIHZhbHVlIG9mIHRoZSBDYWxsLUlEIGluIHRoZSByZXF1ZXN0LlxuICAgICAgICAvLyBUaGUgbG9jYWwgdGFnIGNvbXBvbmVudCBvZiB0aGUgZGlhbG9nIElEIE1VU1QgYmUgc2V0IHRvIHRoZSB0YWcgaW5cbiAgICAgICAgLy8gdGhlIEZyb20gZmllbGQgaW4gdGhlIHJlcXVlc3QsIGFuZCB0aGUgcmVtb3RlIHRhZyBjb21wb25lbnQgb2YgdGhlXG4gICAgICAgIC8vIGRpYWxvZyBJRCBNVVNUIGJlIHNldCB0byB0aGUgdGFnIGluIHRoZSBUbyBmaWVsZCBvZiB0aGUgcmVzcG9uc2UuICBBXG4gICAgICAgIC8vIFVBQyBNVVNUIGJlIHByZXBhcmVkIHRvIHJlY2VpdmUgYSByZXNwb25zZSB3aXRob3V0IGEgdGFnIGluIHRoZSBUb1xuICAgICAgICAvLyBmaWVsZCwgaW4gd2hpY2ggY2FzZSB0aGUgdGFnIGlzIGNvbnNpZGVyZWQgdG8gaGF2ZSBhIHZhbHVlIG9mIG51bGwuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIFRoaXMgaXMgdG8gbWFpbnRhaW4gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBSRkMgMjU0Mywgd2hpY2hcbiAgICAgICAgLy8gICAgZGlkIG5vdCBtYW5kYXRlIFRvIHRhZ3MuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICAgIHZhciBsb2NhbFNlcXVlbmNlTnVtYmVyID0gb3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5jc2VxO1xuICAgICAgICB2YXIgcmVtb3RlU2VxdWVuY2VOdW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBjYWxsSWQgPSBvdXRnb2luZ1JlcXVlc3RNZXNzYWdlLmNhbGxJZDtcbiAgICAgICAgdmFyIGxvY2FsVGFnID0gb3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5mcm9tVGFnO1xuICAgICAgICB2YXIgcmVtb3RlVGFnID0gaW5jb21pbmdSZXNwb25zZU1lc3NhZ2UudG9UYWc7XG4gICAgICAgIGlmICghY2FsbElkKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbCBpZCB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbG9jYWxUYWcpIHsgLy8gVE9ETzogUmV2aWV3IHRvIG1ha2Ugc3VyZSB0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGcm9tIHRhZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVtb3RlVGFnKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG8gdGFnIHVuZGVmaW5lZC5cIik7IC8vIEZJWE1FOiBObyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJGQyAyNTQzXG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHJlbW90ZSBVUkkgTVVTVCBiZSBzZXQgdG8gdGhlIFVSSSBpbiB0aGUgVG8gZmllbGQsIGFuZCB0aGUgbG9jYWxcbiAgICAgICAgLy8gVVJJIE1VU1QgYmUgc2V0IHRvIHRoZSBVUkkgaW4gdGhlIEZyb20gZmllbGQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICAgIGlmICghb3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5mcm9tKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS50bykgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvY2FsVVJJID0gb3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5mcm9tLnVyaTtcbiAgICAgICAgdmFyIHJlbW90ZVVSSSA9IG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UudG8udXJpO1xuICAgICAgICAvLyBBIGRpYWxvZyBjYW4gYWxzbyBiZSBpbiB0aGUgXCJlYXJseVwiIHN0YXRlLCB3aGljaCBvY2N1cnMgd2hlbiBpdCBpc1xuICAgICAgICAvLyBjcmVhdGVkIHdpdGggYSBwcm92aXNpb25hbCByZXNwb25zZSwgYW5kIHRoZW4gdHJhbnNpdGlvbiB0byB0aGVcbiAgICAgICAgLy8gXCJjb25maXJtZWRcIiBzdGF0ZSB3aGVuIGEgMnh4IGZpbmFsIHJlc3BvbnNlIGFycml2ZXMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTJcbiAgICAgICAgaWYgKCFpbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZS5zdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbWluZyByZXNwb25zZSBzdGF0dXMgY29kZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlYXJseSA9IGluY29taW5nUmVzcG9uc2VNZXNzYWdlLnN0YXR1c0NvZGUgPCAyMDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHZhciBkaWFsb2dTdGF0ZSA9IHtcbiAgICAgICAgICAgIGlkOiBjYWxsSWQgKyBsb2NhbFRhZyArIHJlbW90ZVRhZyxcbiAgICAgICAgICAgIGVhcmx5OiBlYXJseSxcbiAgICAgICAgICAgIGNhbGxJZDogY2FsbElkLFxuICAgICAgICAgICAgbG9jYWxUYWc6IGxvY2FsVGFnLFxuICAgICAgICAgICAgcmVtb3RlVGFnOiByZW1vdGVUYWcsXG4gICAgICAgICAgICBsb2NhbFNlcXVlbmNlTnVtYmVyOiBsb2NhbFNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgcmVtb3RlU2VxdWVuY2VOdW1iZXI6IHJlbW90ZVNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgbG9jYWxVUkk6IGxvY2FsVVJJLFxuICAgICAgICAgICAgcmVtb3RlVVJJOiByZW1vdGVVUkksXG4gICAgICAgICAgICByZW1vdGVUYXJnZXQ6IHJlbW90ZVRhcmdldCxcbiAgICAgICAgICAgIHJvdXRlU2V0OiByb3V0ZVNldCxcbiAgICAgICAgICAgIHNlY3VyZTogc2VjdXJlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaWFsb2dTdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBVQVMgdGhlbiBjb25zdHJ1Y3RzIHRoZSBzdGF0ZSBvZiB0aGUgZGlhbG9nLiAgVGhpcyBzdGF0ZSBNVVNUIGJlXG4gICAgICogbWFpbnRhaW5lZCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBkaWFsb2cuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjFcbiAgICAgKiBAcGFyYW0gaW5jb21pbmdSZXF1ZXN0TWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZSBjcmVhdGluZyBkaWFsb2cuXG4gICAgICogQHBhcmFtIHRvVGFnIC0gVGFnIGluIHRoZSBUbyBmaWVsZCBpbiB0aGUgcmVzcG9uc2UgdG8gdGhlIGluY29taW5nIHJlcXVlc3QuXG4gICAgICovXG4gICAgRGlhbG9nLmluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudFNlcnZlciA9IGZ1bmN0aW9uIChpbmNvbWluZ1JlcXVlc3RNZXNzYWdlLCB0b1RhZywgZWFybHkpIHtcbiAgICAgICAgaWYgKGVhcmx5ID09PSB2b2lkIDApIHsgZWFybHkgPSBmYWxzZTsgfVxuICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBhcnJpdmVkIG92ZXIgVExTLCBhbmQgdGhlIFJlcXVlc3QtVVJJIGNvbnRhaW5lZCBhIFNJUFNcbiAgICAgICAgLy8gVVJJLCB0aGUgXCJzZWN1cmVcIiBmbGFnIGlzIHNldCB0byBUUlVFLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMVxuICAgICAgICB2YXIgc2VjdXJlID0gZmFsc2U7IC8vIEZJWE1FOiBDdXJyZW50bHkgbm8gc3VwcG9ydCBmb3IgVExTLlxuICAgICAgICAvLyBUaGUgcm91dGUgc2V0IE1VU1QgYmUgc2V0IHRvIHRoZSBsaXN0IG9mIFVSSXMgaW4gdGhlIFJlY29yZC1Sb3V0ZVxuICAgICAgICAvLyBoZWFkZXIgZmllbGQgZnJvbSB0aGUgcmVxdWVzdCwgdGFrZW4gaW4gb3JkZXIgYW5kIHByZXNlcnZpbmcgYWxsIFVSSVxuICAgICAgICAvLyBwYXJhbWV0ZXJzLiAgSWYgbm8gUmVjb3JkLVJvdXRlIGhlYWRlciBmaWVsZCBpcyBwcmVzZW50IGluIHRoZVxuICAgICAgICAvLyByZXF1ZXN0LCB0aGUgcm91dGUgc2V0IE1VU1QgYmUgc2V0IHRvIHRoZSBlbXB0eSBzZXQuICBUaGlzIHJvdXRlIHNldCxcbiAgICAgICAgLy8gZXZlbiBpZiBlbXB0eSwgb3ZlcnJpZGVzIGFueSBwcmUtZXhpc3Rpbmcgcm91dGUgc2V0IGZvciBmdXR1cmVcbiAgICAgICAgLy8gcmVxdWVzdHMgaW4gdGhpcyBkaWFsb2cuICBUaGUgcmVtb3RlIHRhcmdldCBNVVNUIGJlIHNldCB0byB0aGUgVVJJXG4gICAgICAgIC8vIGZyb20gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIG9mIHRoZSByZXF1ZXN0LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMVxuICAgICAgICB2YXIgcm91dGVTZXQgPSBpbmNvbWluZ1JlcXVlc3RNZXNzYWdlLmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIik7XG4gICAgICAgIHZhciBjb250YWN0ID0gaW5jb21pbmdSZXF1ZXN0TWVzc2FnZS5wYXJzZUhlYWRlcihcImNvbnRhY3RcIik7XG4gICAgICAgIGlmICghY29udGFjdCkgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhY3QgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjb250YWN0IGluc3RhbmNlb2YgbWVzc2FnZXNfMS5OYW1lQWRkckhlYWRlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhY3Qgbm90IGluc3RhbmNlIG9mIE5hbWVBZGRySGVhZGVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVtb3RlVGFyZ2V0ID0gY29udGFjdC51cmk7XG4gICAgICAgIC8vIFRoZSByZW1vdGUgc2VxdWVuY2UgbnVtYmVyIE1VU1QgYmUgc2V0IHRvIHRoZSB2YWx1ZSBvZiB0aGUgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVyIGluIHRoZSBDU2VxIGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdC4gIFRoZSBsb2NhbCBzZXF1ZW5jZVxuICAgICAgICAvLyBudW1iZXIgTVVTVCBiZSBlbXB0eS4gIFRoZSBjYWxsIGlkZW50aWZpZXIgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgSURcbiAgICAgICAgLy8gTVVTVCBiZSBzZXQgdG8gdGhlIHZhbHVlIG9mIHRoZSBDYWxsLUlEIGluIHRoZSByZXF1ZXN0LiAgVGhlIGxvY2FsXG4gICAgICAgIC8vIHRhZyBjb21wb25lbnQgb2YgdGhlIGRpYWxvZyBJRCBNVVNUIGJlIHNldCB0byB0aGUgdGFnIGluIHRoZSBUbyBmaWVsZFxuICAgICAgICAvLyBpbiB0aGUgcmVzcG9uc2UgdG8gdGhlIHJlcXVlc3QgKHdoaWNoIGFsd2F5cyBpbmNsdWRlcyBhIHRhZyksIGFuZCB0aGVcbiAgICAgICAgLy8gcmVtb3RlIHRhZyBjb21wb25lbnQgb2YgdGhlIGRpYWxvZyBJRCBNVVNUIGJlIHNldCB0byB0aGUgdGFnIGZyb20gdGhlXG4gICAgICAgIC8vIEZyb20gZmllbGQgaW4gdGhlIHJlcXVlc3QuICBBIFVBUyBNVVNUIGJlIHByZXBhcmVkIHRvIHJlY2VpdmUgYVxuICAgICAgICAvLyByZXF1ZXN0IHdpdGhvdXQgYSB0YWcgaW4gdGhlIEZyb20gZmllbGQsIGluIHdoaWNoIGNhc2UgdGhlIHRhZyBpc1xuICAgICAgICAvLyBjb25zaWRlcmVkIHRvIGhhdmUgYSB2YWx1ZSBvZiBudWxsLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICBUaGlzIGlzIHRvIG1haW50YWluIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggUkZDIDI1NDMsIHdoaWNoXG4gICAgICAgIC8vICAgIGRpZCBub3QgbWFuZGF0ZSBGcm9tIHRhZ3MuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4xXG4gICAgICAgIHZhciByZW1vdGVTZXF1ZW5jZU51bWJlciA9IGluY29taW5nUmVxdWVzdE1lc3NhZ2UuY3NlcTtcbiAgICAgICAgdmFyIGxvY2FsU2VxdWVuY2VOdW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBjYWxsSWQgPSBpbmNvbWluZ1JlcXVlc3RNZXNzYWdlLmNhbGxJZDtcbiAgICAgICAgdmFyIGxvY2FsVGFnID0gdG9UYWc7XG4gICAgICAgIHZhciByZW1vdGVUYWcgPSBpbmNvbWluZ1JlcXVlc3RNZXNzYWdlLmZyb21UYWc7XG4gICAgICAgIC8vIFRoZSByZW1vdGUgVVJJIE1VU1QgYmUgc2V0IHRvIHRoZSBVUkkgaW4gdGhlIEZyb20gZmllbGQsIGFuZCB0aGVcbiAgICAgICAgLy8gbG9jYWwgVVJJIE1VU1QgYmUgc2V0IHRvIHRoZSBVUkkgaW4gdGhlIFRvIGZpZWxkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjEuMVxuICAgICAgICB2YXIgcmVtb3RlVVJJID0gaW5jb21pbmdSZXF1ZXN0TWVzc2FnZS5mcm9tLnVyaTtcbiAgICAgICAgdmFyIGxvY2FsVVJJID0gaW5jb21pbmdSZXF1ZXN0TWVzc2FnZS50by51cmk7XG4gICAgICAgIHZhciBkaWFsb2dTdGF0ZSA9IHtcbiAgICAgICAgICAgIGlkOiBjYWxsSWQgKyBsb2NhbFRhZyArIHJlbW90ZVRhZyxcbiAgICAgICAgICAgIGVhcmx5OiBlYXJseSxcbiAgICAgICAgICAgIGNhbGxJZDogY2FsbElkLFxuICAgICAgICAgICAgbG9jYWxUYWc6IGxvY2FsVGFnLFxuICAgICAgICAgICAgcmVtb3RlVGFnOiByZW1vdGVUYWcsXG4gICAgICAgICAgICBsb2NhbFNlcXVlbmNlTnVtYmVyOiBsb2NhbFNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgcmVtb3RlU2VxdWVuY2VOdW1iZXI6IHJlbW90ZVNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgbG9jYWxVUkk6IGxvY2FsVVJJLFxuICAgICAgICAgICAgcmVtb3RlVVJJOiByZW1vdGVVUkksXG4gICAgICAgICAgICByZW1vdGVUYXJnZXQ6IHJlbW90ZVRhcmdldCxcbiAgICAgICAgICAgIHJvdXRlU2V0OiByb3V0ZVNldCxcbiAgICAgICAgICAgIHNlY3VyZTogc2VjdXJlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaWFsb2dTdGF0ZTtcbiAgICB9O1xuICAgIC8qKiBEZXN0cnVjdG9yLiAqL1xuICAgIERpYWxvZy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb3JlLmRpYWxvZ3MuZGVsZXRlKHRoaXMuaWQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwiaWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkaWFsb2cgaXMgaWRlbnRpZmllZCBhdCBlYWNoIFVBIHdpdGggYSBkaWFsb2cgSUQsIHdoaWNoIGNvbnNpc3RzIG9mXG4gICAgICAgICAqIGEgQ2FsbC1JRCB2YWx1ZSwgYSBsb2NhbCB0YWcgYW5kIGEgcmVtb3RlIHRhZy4gIFRoZSBkaWFsb2cgSUQgYXQgZWFjaFxuICAgICAgICAgKiBVQSBpbnZvbHZlZCBpbiB0aGUgZGlhbG9nIGlzIG5vdCB0aGUgc2FtZS4gIFNwZWNpZmljYWxseSwgdGhlIGxvY2FsXG4gICAgICAgICAqIHRhZyBhdCBvbmUgVUEgaXMgaWRlbnRpY2FsIHRvIHRoZSByZW1vdGUgdGFnIGF0IHRoZSBwZWVyIFVBLiAgVGhlXG4gICAgICAgICAqIHRhZ3MgYXJlIG9wYXF1ZSB0b2tlbnMgdGhhdCBmYWNpbGl0YXRlIHRoZSBnZW5lcmF0aW9uIG9mIHVuaXF1ZVxuICAgICAgICAgKiBkaWFsb2cgSURzLlxuICAgICAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpYWxvZ1N0YXRlLmlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlhbG9nLnByb3RvdHlwZSwgXCJlYXJseVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRpYWxvZyBjYW4gYWxzbyBiZSBpbiB0aGUgXCJlYXJseVwiIHN0YXRlLCB3aGljaCBvY2N1cnMgd2hlbiBpdCBpc1xuICAgICAgICAgKiBjcmVhdGVkIHdpdGggYSBwcm92aXNpb25hbCByZXNwb25zZSwgYW5kIHRoZW4gaXQgdHJhbnNpdGlvbiB0byB0aGVcbiAgICAgICAgICogXCJjb25maXJtZWRcIiBzdGF0ZSB3aGVuIGEgMnh4IGZpbmFsIHJlc3BvbnNlIHJlY2VpdmVkIG9yIGlzIHNlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IFJGQyAzMjYxIGlzIGNvbmNpc2Ugb24gd2hlbiBhIGRpYWxvZyBpcyBcImNvbmZpcm1lZFwiLCBidXQgaXRcbiAgICAgICAgICogY2FuIGJlIGEgcG9pbnQgb2YgY29uZnVzaW9uIGlmIGFuIElOVklURSBkaWFsb2cgaXMgXCJjb25maXJtZWRcIiBhZnRlclxuICAgICAgICAgKiBhIDJ4eCBpcyBzZW50IG9yIGFmdGVyIHJlY2VpdmluZyB0aGUgQUNLIGZvciB0aGUgMnh4IHJlc3BvbnNlLlxuICAgICAgICAgKiBXaXRoIGNhcmVmdWwgcmVhZGluZyBpdCBjYW4gYmUgaW5mZXJyZWQgYSBkaWFsb2cgaXMgYWx3YXlzIGlzXG4gICAgICAgICAqIFwiY29uZmlybWVkXCIgd2hlbiB0aGUgMnh4IGlzIHNlbnQgKHJlZ2FyZGxlc3Mgb2YgdHlwZSBvZiBkaWFsb2cpLlxuICAgICAgICAgKiBIb3dldmVyIGEgSU5WSVRFIGRpYWxvZyBkb2VzIGhhdmUgYWRkaXRpb25hbCBjb25zaWRlcmF0aW9uc1xuICAgICAgICAgKiB3aGVuIGl0IGlzIGNvbmZpcm1lZCBidXQgYW4gQUNLIGhhcyBub3QgeWV0IGJlZW4gcmVjZWl2ZWQgKGluXG4gICAgICAgICAqIHBhcnRpY3VsYXIgd2l0aCByZWdhcmQgdG8gYSBjYWxsZWUgc2VuZGluZyBCWUUgcmVxdWVzdHMpLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5lYXJseTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwiY2FsbElkXCIsIHtcbiAgICAgICAgLyoqIENhbGwgaWRlbnRpZmllciBjb21wb25lbnQgb2YgdGhlIGRpYWxvZyBpZC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5jYWxsSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcImxvY2FsVGFnXCIsIHtcbiAgICAgICAgLyoqIExvY2FsIHRhZyBjb21wb25lbnQgb2YgdGhlIGRpYWxvZyBpZC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5sb2NhbFRhZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwicmVtb3RlVGFnXCIsIHtcbiAgICAgICAgLyoqIFJlbW90ZSB0YWcgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgaWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUucmVtb3RlVGFnO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlhbG9nLnByb3RvdHlwZSwgXCJsb2NhbFNlcXVlbmNlTnVtYmVyXCIsIHtcbiAgICAgICAgLyoqIExvY2FsIHNlcXVlbmNlIG51bWJlciAodXNlZCB0byBvcmRlciByZXF1ZXN0cyBmcm9tIHRoZSBVQSB0byBpdHMgcGVlcikuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUubG9jYWxTZXF1ZW5jZU51bWJlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwicmVtb3RlU2VxdWVuY2VOdW1iZXJcIiwge1xuICAgICAgICAvKiogUmVtb3RlIHNlcXVlbmNlIG51bWJlciAodXNlZCB0byBvcmRlciByZXF1ZXN0cyBmcm9tIGl0cyBwZWVyIHRvIHRoZSBVQSkuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUucmVtb3RlU2VxdWVuY2VOdW1iZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcImxvY2FsVVJJXCIsIHtcbiAgICAgICAgLyoqIExvY2FsIFVSSS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5sb2NhbFVSSTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwicmVtb3RlVVJJXCIsIHtcbiAgICAgICAgLyoqIFJlbW90ZSBVUkkuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nU3RhdGUucmVtb3RlVVJJO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlhbG9nLnByb3RvdHlwZSwgXCJyZW1vdGVUYXJnZXRcIiwge1xuICAgICAgICAvKiogUmVtb3RlIHRhcmdldC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5yZW1vdGVUYXJnZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcInJvdXRlU2V0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdXRlIHNldCwgd2hpY2ggaXMgYW4gb3JkZXJlZCBsaXN0IG9mIFVSSXMuIFRoZSByb3V0ZSBzZXQgaXMgdGhlXG4gICAgICAgICAqIGxpc3Qgb2Ygc2VydmVycyB0aGF0IG5lZWQgdG8gYmUgdHJhdmVyc2VkIHRvIHNlbmQgYSByZXF1ZXN0IHRvIHRoZSBwZWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5yb3V0ZVNldDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZy5wcm90b3R5cGUsIFwic2VjdXJlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSByZXF1ZXN0IHdhcyBzZW50IG92ZXIgVExTLCBhbmQgdGhlIFJlcXVlc3QtVVJJIGNvbnRhaW5lZFxuICAgICAgICAgKiBhIFNJUFMgVVJJLCB0aGUgXCJzZWN1cmVcIiBmbGFnIGlzIHNldCB0byB0cnVlLiAqTk9UIElNUExFTUVOVEVEKlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dTdGF0ZS5zZWN1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2cucHJvdG90eXBlLCBcInVzZXJBZ2VudENvcmVcIiwge1xuICAgICAgICAvKiogVGhlIHVzZXIgYWdlbnQgY29yZSBzZXJ2aWNpbmcgdGhpcyBkaWFsb2cuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29yZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIENvbmZpcm0gdGhlIGRpYWxvZy4gT25seSBtYXR0ZXJzIGlmIGRpYWxvZyBpcyBjdXJyZW50bHkgZWFybHkuICovXG4gICAgRGlhbG9nLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpYWxvZ1N0YXRlLmVhcmx5ID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBzZW50IHdpdGhpbiBhIGRpYWxvZywgYXMgYW55IG90aGVyIHJlcXVlc3RzLCBhcmUgYXRvbWljLiAgSWZcbiAgICAgKiBhIHBhcnRpY3VsYXIgcmVxdWVzdCBpcyBhY2NlcHRlZCBieSB0aGUgVUFTLCBhbGwgdGhlIHN0YXRlIGNoYW5nZXNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggaXQgYXJlIHBlcmZvcm1lZC4gIElmIHRoZSByZXF1ZXN0IGlzIHJlamVjdGVkLCBub25lXG4gICAgICogb2YgdGhlIHN0YXRlIGNoYW5nZXMgYXJlIHBlcmZvcm1lZC5cbiAgICAgKlxuICAgICAqICAgIE5vdGUgdGhhdCBzb21lIHJlcXVlc3RzLCBzdWNoIGFzIElOVklURXMsIGFmZmVjdCBzZXZlcmFsIHBpZWNlcyBvZlxuICAgICAqICAgIHN0YXRlLlxuICAgICAqXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZSB3aXRoaW4gdGhpcyBkaWFsb2cuXG4gICAgICovXG4gICAgRGlhbG9nLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIC8vIEFDSyBndWFyZC5cbiAgICAgICAgLy8gQnkgY29udmVudGlvbiwgdGhlIGhhbmRsaW5nIG9mIEFDS3MgaXMgdGhlIHJlc3BvbnNpYmlsaXR5XG4gICAgICAgIC8vIHRoZSBwYXJ0aWN1bGFyIGRpYWxvZyBpbXBsZW1lbnRhdGlvbi4gRm9yIGV4YW1wbGUsIHNlZSBTZXNzaW9uRGlhbG9nLlxuICAgICAgICAvLyBGdXJ0aGVybW9yZSwgQUNLcyBoYXZlIHNhbWUgc2VxdWVuY2UgbnVtYmVyIGFzIHRoZSBhc3NvY2lhdGVkIElOVklURS5cbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIHJlbW90ZSBzZXF1ZW5jZSBudW1iZXIgd2FzIG5vdCBlbXB0eSwgYnV0IHRoZSBzZXF1ZW5jZSBudW1iZXJcbiAgICAgICAgLy8gb2YgdGhlIHJlcXVlc3QgaXMgbG93ZXIgdGhhbiB0aGUgcmVtb3RlIHNlcXVlbmNlIG51bWJlciwgdGhlIHJlcXVlc3RcbiAgICAgICAgLy8gaXMgb3V0IG9mIG9yZGVyIGFuZCBNVVNUIGJlIHJlamVjdGVkIHdpdGggYSA1MDAgKFNlcnZlciBJbnRlcm5hbFxuICAgICAgICAvLyBFcnJvcikgcmVzcG9uc2UuICBJZiB0aGUgcmVtb3RlIHNlcXVlbmNlIG51bWJlciB3YXMgbm90IGVtcHR5LCBhbmRcbiAgICAgICAgLy8gdGhlIHNlcXVlbmNlIG51bWJlciBvZiB0aGUgcmVxdWVzdCBpcyBncmVhdGVyIHRoYW4gdGhlIHJlbW90ZVxuICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIsIHRoZSByZXF1ZXN0IGlzIGluIG9yZGVyLiAgSXQgaXMgcG9zc2libGUgZm9yIHRoZVxuICAgICAgICAvLyBDU2VxIHNlcXVlbmNlIG51bWJlciB0byBiZSBoaWdoZXIgdGhhbiB0aGUgcmVtb3RlIHNlcXVlbmNlIG51bWJlciBieVxuICAgICAgICAvLyBtb3JlIHRoYW4gb25lLiAgVGhpcyBpcyBub3QgYW4gZXJyb3IgY29uZGl0aW9uLCBhbmQgYSBVQVMgU0hPVUxEIGJlXG4gICAgICAgIC8vIHByZXBhcmVkIHRvIHJlY2VpdmUgYW5kIHByb2Nlc3MgcmVxdWVzdHMgd2l0aCBDU2VxIHZhbHVlcyBtb3JlIHRoYW5cbiAgICAgICAgLy8gb25lIGhpZ2hlciB0aGFuIHRoZSBwcmV2aW91cyByZWNlaXZlZCByZXF1ZXN0LiAgVGhlIFVBUyBNVVNUIHRoZW4gc2V0XG4gICAgICAgIC8vIHRoZSByZW1vdGUgc2VxdWVuY2UgbnVtYmVyIHRvIHRoZSB2YWx1ZSBvZiB0aGUgc2VxdWVuY2UgbnVtYmVyIGluIHRoZVxuICAgICAgICAvLyBDU2VxIGhlYWRlciBmaWVsZCB2YWx1ZSBpbiB0aGUgcmVxdWVzdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgSWYgYSBwcm94eSBjaGFsbGVuZ2VzIGEgcmVxdWVzdCBnZW5lcmF0ZWQgYnkgdGhlIFVBQywgdGhlIFVBQyBoYXNcbiAgICAgICAgLy8gICAgdG8gcmVzdWJtaXQgdGhlIHJlcXVlc3Qgd2l0aCBjcmVkZW50aWFscy4gIFRoZSByZXN1Ym1pdHRlZCByZXF1ZXN0XG4gICAgICAgIC8vICAgIHdpbGwgaGF2ZSBhIG5ldyBDU2VxIG51bWJlci4gIFRoZSBVQVMgd2lsbCBuZXZlciBzZWUgdGhlIGZpcnN0XG4gICAgICAgIC8vICAgIHJlcXVlc3QsIGFuZCB0aHVzLCBpdCB3aWxsIG5vdGljZSBhIGdhcCBpbiB0aGUgQ1NlcSBudW1iZXIgc3BhY2UuXG4gICAgICAgIC8vICAgIFN1Y2ggYSBnYXAgZG9lcyBub3QgcmVwcmVzZW50IGFueSBlcnJvciBjb25kaXRpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZVNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jc2VxIDw9IHRoaXMucmVtb3RlU2VxdWVuY2VOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdXQgb2Ygc2VxdWVuY2UgaW4gZGlhbG9nIHJlcXVlc3QuIERpZCB5b3UgZm9yZ2V0IHRvIGNhbGwgc2VxdWVuY2VHdWFyZCgpP1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlhbG9nU3RhdGUucmVtb3RlU2VxdWVuY2VOdW1iZXIgPSBtZXNzYWdlLmNzZXE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIHJlbW90ZSBzZXF1ZW5jZSBudW1iZXIgaXMgZW1wdHksIGl0IE1VU1QgYmUgc2V0IHRvIHRoZSB2YWx1ZVxuICAgICAgICAvLyBvZiB0aGUgc2VxdWVuY2UgbnVtYmVyIGluIHRoZSBDU2VxIGhlYWRlciBmaWVsZCB2YWx1ZSBpbiB0aGUgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjJcbiAgICAgICAgaWYgKCF0aGlzLnJlbW90ZVNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1N0YXRlLnJlbW90ZVNlcXVlbmNlTnVtYmVyID0gbWVzc2FnZS5jc2VxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gYSBVQVMgcmVjZWl2ZXMgYSB0YXJnZXQgcmVmcmVzaCByZXF1ZXN0LCBpdCBNVVNUIHJlcGxhY2UgdGhlXG4gICAgICAgIC8vIGRpYWxvZydzIHJlbW90ZSB0YXJnZXQgVVJJIHdpdGggdGhlIFVSSSBmcm9tIHRoZSBDb250YWN0IGhlYWRlciBmaWVsZFxuICAgICAgICAvLyBpbiB0aGF0IHJlcXVlc3QsIGlmIHByZXNlbnQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICAgIC8vIE5vdGU6IFwidGFyZ2V0IHJlZnJlc2ggcmVxdWVzdFwiIHByb2Nlc3NpbmcgZGVsZWdhdGVkIHRvIHN1Yi1jbGFzcy5cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBkaWFsb2cgaWRlbnRpZmllciBpbiB0aGUgMnh4IHJlc3BvbnNlIG1hdGNoZXMgdGhlIGRpYWxvZ1xuICAgICAqIGlkZW50aWZpZXIgb2YgYW4gZXhpc3RpbmcgZGlhbG9nLCB0aGUgZGlhbG9nIE1VU1QgYmUgdHJhbnNpdGlvbmVkIHRvXG4gICAgICogdGhlIFwiY29uZmlybWVkXCIgc3RhdGUsIGFuZCB0aGUgcm91dGUgc2V0IGZvciB0aGUgZGlhbG9nIE1VU1QgYmVcbiAgICAgKiByZWNvbXB1dGVkIGJhc2VkIG9uIHRoZSAyeHggcmVzcG9uc2UgdXNpbmcgdGhlIHByb2NlZHVyZXMgb2YgU2VjdGlvblxuICAgICAqIDEyLjIuMS4yLiAgT3RoZXJ3aXNlLCBhIG5ldyBkaWFsb2cgaW4gdGhlIFwiY29uZmlybWVkXCIgc3RhdGUgTVVTVCBiZVxuICAgICAqIGNvbnN0cnVjdGVkIHVzaW5nIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gMTIuMS4yLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHBpZWNlIG9mIHN0YXRlIHRoYXQgaXMgcmVjb21wdXRlZCBpcyB0aGUgcm91dGVcbiAgICAgKiBzZXQuICBPdGhlciBwaWVjZXMgb2Ygc3RhdGUgc3VjaCBhcyB0aGUgaGlnaGVzdCBzZXF1ZW5jZSBudW1iZXJzXG4gICAgICogKHJlbW90ZSBhbmQgbG9jYWwpIHNlbnQgd2l0aGluIHRoZSBkaWFsb2cgYXJlIG5vdCByZWNvbXB1dGVkLiAgVGhlXG4gICAgICogcm91dGUgc2V0IG9ubHkgaXMgcmVjb21wdXRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuICBSRkNcbiAgICAgKiAyNTQzIGRpZCBub3QgbWFuZGF0ZSBtaXJyb3Jpbmcgb2YgdGhlIFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGQgaW5cbiAgICAgKiBhIDF4eCwgb25seSAyeHguICBIb3dldmVyLCB3ZSBjYW5ub3QgdXBkYXRlIHRoZSBlbnRpcmUgc3RhdGUgb2ZcbiAgICAgKiB0aGUgZGlhbG9nLCBzaW5jZSBtaWQtZGlhbG9nIHJlcXVlc3RzIG1heSBoYXZlIGJlZW4gc2VudCB3aXRoaW5cbiAgICAgKiB0aGUgZWFybHkgZGlhbG9nLCBtb2RpZnlpbmcgdGhlIHNlcXVlbmNlIG51bWJlcnMsIGZvciBleGFtcGxlLlxuICAgICAqXG4gICAgICogIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgKi9cbiAgICBEaWFsb2cucHJvdG90eXBlLnJlY29tcHV0ZVJvdXRlU2V0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5kaWFsb2dTdGF0ZS5yb3V0ZVNldCA9IG1lc3NhZ2UuZ2V0SGVhZGVycyhcInJlY29yZC1yb3V0ZVwiKS5yZXZlcnNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHJlcXVlc3Qgd2l0aGluIGEgZGlhbG9nIGlzIGNvbnN0cnVjdGVkIGJ5IHVzaW5nIG1hbnkgb2YgdGhlXG4gICAgICogY29tcG9uZW50cyBvZiB0aGUgc3RhdGUgc3RvcmVkIGFzIHBhcnQgb2YgdGhlIGRpYWxvZy5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMS4xXG4gICAgICogQHBhcmFtIG1ldGhvZCAtIE91dGdvaW5nIHJlcXVlc3QgbWV0aG9kLlxuICAgICAqL1xuICAgIERpYWxvZy5wcm90b3R5cGUuY3JlYXRlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXRob2QsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVGhlIFVSSSBpbiB0aGUgVG8gZmllbGQgb2YgdGhlIHJlcXVlc3QgTVVTVCBiZSBzZXQgdG8gdGhlIHJlbW90ZSBVUklcbiAgICAgICAgLy8gZnJvbSB0aGUgZGlhbG9nIHN0YXRlLiAgVGhlIHRhZyBpbiB0aGUgVG8gaGVhZGVyIGZpZWxkIG9mIHRoZSByZXF1ZXN0XG4gICAgICAgIC8vIE1VU1QgYmUgc2V0IHRvIHRoZSByZW1vdGUgdGFnIG9mIHRoZSBkaWFsb2cgSUQuICBUaGUgRnJvbSBVUkkgb2YgdGhlXG4gICAgICAgIC8vIHJlcXVlc3QgTVVTVCBiZSBzZXQgdG8gdGhlIGxvY2FsIFVSSSBmcm9tIHRoZSBkaWFsb2cgc3RhdGUuICBUaGUgdGFnXG4gICAgICAgIC8vIGluIHRoZSBGcm9tIGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdCBNVVNUIGJlIHNldCB0byB0aGUgbG9jYWwgdGFnXG4gICAgICAgIC8vIG9mIHRoZSBkaWFsb2cgSUQuICBJZiB0aGUgdmFsdWUgb2YgdGhlIHJlbW90ZSBvciBsb2NhbCB0YWdzIGlzIG51bGwsXG4gICAgICAgIC8vIHRoZSB0YWcgcGFyYW1ldGVyIE1VU1QgYmUgb21pdHRlZCBmcm9tIHRoZSBUbyBvciBGcm9tIGhlYWRlciBmaWVsZHMsXG4gICAgICAgIC8vIHJlc3BlY3RpdmVseS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgVXNhZ2Ugb2YgdGhlIFVSSSBmcm9tIHRoZSBUbyBhbmQgRnJvbSBmaWVsZHMgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgIC8vICAgIHJlcXVlc3Qgd2l0aGluIHN1YnNlcXVlbnQgcmVxdWVzdHMgaXMgZG9uZSBmb3IgYmFja3dhcmRzXG4gICAgICAgIC8vICAgIGNvbXBhdGliaWxpdHkgd2l0aCBSRkMgMjU0Mywgd2hpY2ggdXNlZCB0aGUgVVJJIGZvciBkaWFsb2dcbiAgICAgICAgLy8gICAgaWRlbnRpZmljYXRpb24uICBJbiB0aGlzIHNwZWNpZmljYXRpb24sIG9ubHkgdGhlIHRhZ3MgYXJlIHVzZWQgZm9yXG4gICAgICAgIC8vICAgIGRpYWxvZyBpZGVudGlmaWNhdGlvbi4gIEl0IGlzIGV4cGVjdGVkIHRoYXQgbWFuZGF0b3J5IHJlZmxlY3Rpb25cbiAgICAgICAgLy8gICAgb2YgdGhlIG9yaWdpbmFsIFRvIGFuZCBGcm9tIFVSSSBpbiBtaWQtZGlhbG9nIHJlcXVlc3RzIHdpbGwgYmVcbiAgICAgICAgLy8gICAgZGVwcmVjYXRlZCBpbiBhIHN1YnNlcXVlbnQgcmV2aXNpb24gb2YgdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMS4xXG4gICAgICAgIHZhciB0b1VyaSA9IHRoaXMucmVtb3RlVVJJO1xuICAgICAgICB2YXIgdG9UYWcgPSB0aGlzLnJlbW90ZVRhZztcbiAgICAgICAgdmFyIGZyb21VcmkgPSB0aGlzLmxvY2FsVVJJO1xuICAgICAgICB2YXIgZnJvbVRhZyA9IHRoaXMubG9jYWxUYWc7XG4gICAgICAgIC8vIFRoZSBDYWxsLUlEIG9mIHRoZSByZXF1ZXN0IE1VU1QgYmUgc2V0IHRvIHRoZSBDYWxsLUlEIG9mIHRoZSBkaWFsb2cuXG4gICAgICAgIC8vIFJlcXVlc3RzIHdpdGhpbiBhIGRpYWxvZyBNVVNUIGNvbnRhaW4gc3RyaWN0bHkgbW9ub3RvbmljYWxseVxuICAgICAgICAvLyBpbmNyZWFzaW5nIGFuZCBjb250aWd1b3VzIENTZXEgc2VxdWVuY2UgbnVtYmVycyAoaW5jcmVhc2luZy1ieS1vbmUpXG4gICAgICAgIC8vIGluIGVhY2ggZGlyZWN0aW9uIChleGNlcHRpbmcgQUNLIGFuZCBDQU5DRUwgb2YgY291cnNlLCB3aG9zZSBudW1iZXJzXG4gICAgICAgIC8vIGVxdWFsIHRoZSByZXF1ZXN0cyBiZWluZyBhY2tub3dsZWRnZWQgb3IgY2FuY2VsbGVkKS4gIFRoZXJlZm9yZSwgaWZcbiAgICAgICAgLy8gdGhlIGxvY2FsIHNlcXVlbmNlIG51bWJlciBpcyBub3QgZW1wdHksIHRoZSB2YWx1ZSBvZiB0aGUgbG9jYWxcbiAgICAgICAgLy8gc2VxdWVuY2UgbnVtYmVyIE1VU1QgYmUgaW5jcmVtZW50ZWQgYnkgb25lLCBhbmQgdGhpcyB2YWx1ZSBNVVNUIGJlXG4gICAgICAgIC8vIHBsYWNlZCBpbnRvIHRoZSBDU2VxIGhlYWRlciBmaWVsZC4gIElmIHRoZSBsb2NhbCBzZXF1ZW5jZSBudW1iZXIgaXNcbiAgICAgICAgLy8gZW1wdHksIGFuIGluaXRpYWwgdmFsdWUgTVVTVCBiZSBjaG9zZW4gdXNpbmcgdGhlIGd1aWRlbGluZXMgb2ZcbiAgICAgICAgLy8gU2VjdGlvbiA4LjEuMS41LiAgVGhlIG1ldGhvZCBmaWVsZCBpbiB0aGUgQ1NlcSBoZWFkZXIgZmllbGQgdmFsdWVcbiAgICAgICAgLy8gTVVTVCBtYXRjaCB0aGUgbWV0aG9kIG9mIHRoZSByZXF1ZXN0LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMS4xXG4gICAgICAgIHZhciBjYWxsSWQgPSB0aGlzLmNhbGxJZDtcbiAgICAgICAgdmFyIGNzZXE7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY3NlcSkge1xuICAgICAgICAgICAgY3NlcSA9IG9wdGlvbnMuY3NlcTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5kaWFsb2dTdGF0ZS5sb2NhbFNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgICAgICBjc2VxID0gdGhpcy5kaWFsb2dTdGF0ZS5sb2NhbFNlcXVlbmNlTnVtYmVyID0gMTsgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMS41XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjc2VxID0gdGhpcy5kaWFsb2dTdGF0ZS5sb2NhbFNlcXVlbmNlTnVtYmVyICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIFVBQyB1c2VzIHRoZSByZW1vdGUgdGFyZ2V0IGFuZCByb3V0ZSBzZXQgdG8gYnVpbGQgdGhlIFJlcXVlc3QtVVJJXG4gICAgICAgIC8vIGFuZCBSb3V0ZSBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3QuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZSByb3V0ZSBzZXQgaXMgZW1wdHksIHRoZSBVQUMgTVVTVCBwbGFjZSB0aGUgcmVtb3RlIHRhcmdldCBVUklcbiAgICAgICAgLy8gaW50byB0aGUgUmVxdWVzdC1VUkkuICBUaGUgVUFDIE1VU1QgTk9UIGFkZCBhIFJvdXRlIGhlYWRlciBmaWVsZCB0b1xuICAgICAgICAvLyB0aGUgcmVxdWVzdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlIHJvdXRlIHNldCBpcyBub3QgZW1wdHksIGFuZCB0aGUgZmlyc3QgVVJJIGluIHRoZSByb3V0ZSBzZXRcbiAgICAgICAgLy8gY29udGFpbnMgdGhlIGxyIHBhcmFtZXRlciAoc2VlIFNlY3Rpb24gMTkuMS4xKSwgdGhlIFVBQyBNVVNUIHBsYWNlXG4gICAgICAgIC8vIHRoZSByZW1vdGUgdGFyZ2V0IFVSSSBpbnRvIHRoZSBSZXF1ZXN0LVVSSSBhbmQgTVVTVCBpbmNsdWRlIGEgUm91dGVcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIGNvbnRhaW5pbmcgdGhlIHJvdXRlIHNldCB2YWx1ZXMgaW4gb3JkZXIsIGluY2x1ZGluZyBhbGxcbiAgICAgICAgLy8gcGFyYW1ldGVycy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlIHJvdXRlIHNldCBpcyBub3QgZW1wdHksIGFuZCBpdHMgZmlyc3QgVVJJIGRvZXMgbm90IGNvbnRhaW4gdGhlXG4gICAgICAgIC8vIGxyIHBhcmFtZXRlciwgdGhlIFVBQyBNVVNUIHBsYWNlIHRoZSBmaXJzdCBVUkkgZnJvbSB0aGUgcm91dGUgc2V0XG4gICAgICAgIC8vIGludG8gdGhlIFJlcXVlc3QtVVJJLCBzdHJpcHBpbmcgYW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IGFsbG93ZWRcbiAgICAgICAgLy8gaW4gYSBSZXF1ZXN0LVVSSS4gIFRoZSBVQUMgTVVTVCBhZGQgYSBSb3V0ZSBoZWFkZXIgZmllbGQgY29udGFpbmluZ1xuICAgICAgICAvLyB0aGUgcmVtYWluZGVyIG9mIHRoZSByb3V0ZSBzZXQgdmFsdWVzIGluIG9yZGVyLCBpbmNsdWRpbmcgYWxsXG4gICAgICAgIC8vIHBhcmFtZXRlcnMuICBUaGUgVUFDIE1VU1QgdGhlbiBwbGFjZSB0aGUgcmVtb3RlIHRhcmdldCBVUkkgaW50byB0aGVcbiAgICAgICAgLy8gUm91dGUgaGVhZGVyIGZpZWxkIGFzIHRoZSBsYXN0IHZhbHVlLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMS4xXG4gICAgICAgIC8vIFRoZSBsciBwYXJhbWV0ZXIsIHdoZW4gcHJlc2VudCwgaW5kaWNhdGVzIHRoYXQgdGhlIGVsZW1lbnRcbiAgICAgICAgLy8gcmVzcG9uc2libGUgZm9yIHRoaXMgcmVzb3VyY2UgaW1wbGVtZW50cyB0aGUgcm91dGluZyBtZWNoYW5pc21zXG4gICAgICAgIC8vIHNwZWNpZmllZCBpbiB0aGlzIGRvY3VtZW50LiAgVGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSB1c2VkIGluIHRoZVxuICAgICAgICAvLyBVUklzIHByb3hpZXMgcGxhY2UgaW50byBSZWNvcmQtUm91dGUgaGVhZGVyIGZpZWxkIHZhbHVlcywgYW5kXG4gICAgICAgIC8vIG1heSBhcHBlYXIgaW4gdGhlIFVSSXMgaW4gYSBwcmUtZXhpc3Rpbmcgcm91dGUgc2V0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIHBhcmFtZXRlciBpcyB1c2VkIHRvIGFjaGlldmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aFxuICAgICAgICAvLyBzeXN0ZW1zIGltcGxlbWVudGluZyB0aGUgc3RyaWN0LXJvdXRpbmcgbWVjaGFuaXNtcyBvZiBSRkMgMjU0M1xuICAgICAgICAvLyBhbmQgdGhlIHJmYzI1NDNiaXMgZHJhZnRzIHVwIHRvIGJpcy0wNS4gIEFuIGVsZW1lbnQgcHJlcGFyaW5nXG4gICAgICAgIC8vIHRvIHNlbmQgYSByZXF1ZXN0IGJhc2VkIG9uIGEgVVJJIG5vdCBjb250YWluaW5nIHRoaXMgcGFyYW1ldGVyXG4gICAgICAgIC8vIGNhbiBhc3N1bWUgdGhlIHJlY2VpdmluZyBlbGVtZW50IGltcGxlbWVudHMgc3RyaWN0LXJvdXRpbmcgYW5kXG4gICAgICAgIC8vIHJlZm9ybWF0IHRoZSBtZXNzYWdlIHRvIHByZXNlcnZlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGVcbiAgICAgICAgLy8gUmVxdWVzdC1VUkkuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTkuMS4xXG4gICAgICAgIC8vIE5PVEU6IE5vdCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIFJGQyAyNTQzIChubyBzdXBwb3J0IGZvciBzdHJpY3Qtcm91dGluZykuXG4gICAgICAgIHZhciBydXJpID0gdGhpcy5yZW1vdGVUYXJnZXQ7XG4gICAgICAgIHZhciByb3V0ZVNldCA9IHRoaXMucm91dGVTZXQ7XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSBvcHRpb25zICYmIG9wdGlvbnMuZXh0cmFIZWFkZXJzO1xuICAgICAgICB2YXIgYm9keSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ib2R5O1xuICAgICAgICAvLyBUaGUgcmVsYXRpdmUgb3JkZXIgb2YgaGVhZGVyIGZpZWxkcyB3aXRoIGRpZmZlcmVudCBmaWVsZCBuYW1lcyBpcyBub3RcbiAgICAgICAgLy8gc2lnbmlmaWNhbnQuICBIb3dldmVyLCBpdCBpcyBSRUNPTU1FTkRFRCB0aGF0IGhlYWRlciBmaWVsZHMgd2hpY2ggYXJlXG4gICAgICAgIC8vIG5lZWRlZCBmb3IgcHJveHkgcHJvY2Vzc2luZyAoVmlhLCBSb3V0ZSwgUmVjb3JkLVJvdXRlLCBQcm94eS1SZXF1aXJlLFxuICAgICAgICAvLyBNYXgtRm9yd2FyZHMsIGFuZCBQcm94eS1BdXRob3JpemF0aW9uLCBmb3IgZXhhbXBsZSkgYXBwZWFyIHRvd2FyZHNcbiAgICAgICAgLy8gdGhlIHRvcCBvZiB0aGUgbWVzc2FnZSB0byBmYWNpbGl0YXRlIHJhcGlkIHBhcnNpbmcuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tNy4zLjFcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLnVzZXJBZ2VudENvcmUubWFrZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UobWV0aG9kLCBydXJpLCBmcm9tVXJpLCB0b1VyaSwge1xuICAgICAgICAgICAgY2FsbElkOiBjYWxsSWQsXG4gICAgICAgICAgICBjc2VxOiBjc2VxLFxuICAgICAgICAgICAgZnJvbVRhZzogZnJvbVRhZyxcbiAgICAgICAgICAgIHRvVGFnOiB0b1RhZyxcbiAgICAgICAgICAgIHJvdXRlU2V0OiByb3V0ZVNldFxuICAgICAgICB9LCBleHRyYUhlYWRlcnMsIGJvZHkpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluY3JlbWVudCB0aGUgbG9jYWwgc2VxdWVuY2UgbnVtYmVyIGJ5IG9uZS5cbiAgICAgKiBJdCBmZWVscyBsaWtlIHRoaXMgc2hvdWxkIGJlIHByb3RlY3RlZCwgYnV0IHRoZSBjdXJyZW50IGF1dGhlbnRpY2F0aW9uIGhhbmRsaW5nIGN1cnJlbnRseVxuICAgICAqIG5lZWRzIHRoaXMgdG8ga2VlcCB0aGUgZGlhbG9nIGluIHN5bmMgd2hlbiBcImF1dG8gcmUtc2VuZHNcIiByZXF1ZXN0IG1lc3NhZ2VzLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIERpYWxvZy5wcm90b3R5cGUuaW5jcmVtZW50TG9jYWxTZXF1ZW5jZU51bWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZ1N0YXRlLmxvY2FsU2VxdWVuY2VOdW1iZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvY2FsIHNlcXVlbmNlIG51bWJlciB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlhbG9nU3RhdGUubG9jYWxTZXF1ZW5jZU51bWJlciArPSAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHJlbW90ZSBzZXF1ZW5jZSBudW1iZXIgd2FzIG5vdCBlbXB0eSwgYnV0IHRoZSBzZXF1ZW5jZSBudW1iZXJcbiAgICAgKiBvZiB0aGUgcmVxdWVzdCBpcyBsb3dlciB0aGFuIHRoZSByZW1vdGUgc2VxdWVuY2UgbnVtYmVyLCB0aGUgcmVxdWVzdFxuICAgICAqIGlzIG91dCBvZiBvcmRlciBhbmQgTVVTVCBiZSByZWplY3RlZCB3aXRoIGEgNTAwIChTZXJ2ZXIgSW50ZXJuYWxcbiAgICAgKiBFcnJvcikgcmVzcG9uc2UuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEluY29taW5nIHJlcXVlc3QgdG8gZ3VhcmQuXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcHJvZ3JhbSBleGVjdXRpb24gaXMgdG8gY29udGludWUgaW4gdGhlIGJyYW5jaCBpbiBxdWVzdGlvbi5cbiAgICAgKiAgICAgICAgICBPdGhlcndpc2UgYSA1MDAgU2VydmVyIEludGVybmFsIEVycm9yIHdhcyBzdGF0ZWxlc3Mgc2VudCBhbmQgcmVxdWVzdCBwcm9jZXNzaW5nIG11c3Qgc3RvcC5cbiAgICAgKi9cbiAgICBEaWFsb2cucHJvdG90eXBlLnNlcXVlbmNlR3VhcmQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyBBQ0sgZ3VhcmQuXG4gICAgICAgIC8vIEJ5IGNvbnZlbnRpb24sIGhhbmRsaW5nIG9mIHVuZXhwZWN0ZWQgQUNLcyBpcyByZXNwb25zaWJpbGl0eVxuICAgICAgICAvLyB0aGUgcGFydGljdWxhciBkaWFsb2cgaW1wbGVtZW50YXRpb24uIEZvciBleGFtcGxlLCBzZWUgU2Vzc2lvbkRpYWxvZy5cbiAgICAgICAgLy8gRnVydGhlcm1vcmUsIHdlIGNhbm5vdCByZXBseSB0byBhbiBcIm91dCBvZiBzZXF1ZW5jZVwiIEFDSy5cbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlOiBXZSBhcmUgcmVqZWN0aW5nIG9uIFwibGVzcyB0aGFuIG9yIGVxdWFsIHRvXCIgdGhlIHJlbW90ZVxuICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgKGV4Y2VwdGluZyBBQ0sgd2hvc2UgbnVtYmVycyBlcXVhbCB0aGUgcmVxdWVzdHNcbiAgICAgICAgLy8gYmVpbmcgYWNrbm93bGVkZ2VkIG9yIGNhbmNlbGxlZCksIHdoaWNoIGlzIHRoZSBjb3JyZWN0IHRoaW5nIHRvXG4gICAgICAgIC8vIGRvIGluIG91ciBjYXNlLiBUaGUgb25seSB0aW1lIGEgcmVxdWVzdCB3aXRoIHRoZSBzYW1lIHNlcXVlbmNlIG51bWJlclxuICAgICAgICAvLyB3aWxsIHNob3cgdXAgaGVyZSBpZiBpcyBhKSBpdCBpcyBhIHZlcnkgbGF0ZSByZXRyYW5zbWlzc2lvbiBvZiBhXG4gICAgICAgIC8vIHJlcXVlc3Qgd2UgYWxyZWFkeSBoYW5kbGVkIG9yIGIpIGl0IGlzIGEgZGlmZmVyZW50IHJlcXVlc3Qgd2l0aCB0aGVcbiAgICAgICAgLy8gc2FtZSBzZXF1ZW5jZSBudW1iZXIgd2hpY2ggd291bGQgYmUgdmlvbGF0aW9uIG9mIHRoZSBzdGFuZGFyZC5cbiAgICAgICAgLy8gUmVxdWVzdCByZXRyYW5zbWlzc2lvbnMgYXJlIGFic29yYmVkIGJ5IHRoZSB0cmFuc2FjdGlvbiBsYXllcixcbiAgICAgICAgLy8gc28gYW55IHJlcXVlc3Qgd2l0aCBhIGR1cGxpY2F0ZSBzZXF1ZW5jZSBudW1iZXIgZ2V0dGluZyBoZXJlXG4gICAgICAgIC8vIHdvdWxkIGhhdmUgdG8gYmUgYSByZXRyYW5zbWlzc2lvbiBhZnRlciB0aGUgdHJhbnNhY3Rpb24gdGVybWluYXRlZFxuICAgICAgICAvLyBvciBhIGJyb2tlbiByZXF1ZXN0ICh3aXRoIHVuaXF1ZSB2aWEgYnJhbmNoIHZhbHVlKS5cbiAgICAgICAgLy8gUmVxdWVzdHMgd2l0aGluIGEgZGlhbG9nIE1VU1QgY29udGFpbiBzdHJpY3RseSBtb25vdG9uaWNhbGx5XG4gICAgICAgIC8vIGluY3JlYXNpbmcgYW5kIGNvbnRpZ3VvdXMgQ1NlcSBzZXF1ZW5jZSBudW1iZXJzIChpbmNyZWFzaW5nLWJ5LW9uZSlcbiAgICAgICAgLy8gaW4gZWFjaCBkaXJlY3Rpb24gKGV4Y2VwdGluZyBBQ0sgYW5kIENBTkNFTCBvZiBjb3Vyc2UsIHdob3NlIG51bWJlcnNcbiAgICAgICAgLy8gZXF1YWwgdGhlIHJlcXVlc3RzIGJlaW5nIGFja25vd2xlZGdlZCBvciBjYW5jZWxsZWQpLiAgVGhlcmVmb3JlLCBpZlxuICAgICAgICAvLyB0aGUgbG9jYWwgc2VxdWVuY2UgbnVtYmVyIGlzIG5vdCBlbXB0eSwgdGhlIHZhbHVlIG9mIHRoZSBsb2NhbFxuICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgTVVTVCBiZSBpbmNyZW1lbnRlZCBieSBvbmUsIGFuZCB0aGlzIHZhbHVlIE1VU1QgYmVcbiAgICAgICAgLy8gcGxhY2VkIGludG8gdGhlIENTZXEgaGVhZGVyIGZpZWxkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMS4xXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZVNlcXVlbmNlTnVtYmVyICYmIG1lc3NhZ2UuY3NlcSA8PSB0aGlzLnJlbW90ZVNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA1MDAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gRGlhbG9nO1xufSgpKTtcbmV4cG9ydHMuRGlhbG9nID0gRGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBpbmNvbWluZ19tZXNzYWdlXzEgPSByZXF1aXJlKFwiLi9pbmNvbWluZy1tZXNzYWdlXCIpO1xuLyoqXG4gKiBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2UuXG4gKiBAcHVibGljXG4gKi9cbnZhciBJbmNvbWluZ1JlcXVlc3RNZXNzYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEluY29taW5nUmVxdWVzdE1lc3NhZ2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBJbmNvbWluZ1JlcXVlc3RNZXNzYWdlO1xufShpbmNvbWluZ19tZXNzYWdlXzEuSW5jb21pbmdNZXNzYWdlKSk7XG5leHBvcnRzLkluY29taW5nUmVxdWVzdE1lc3NhZ2UgPSBJbmNvbWluZ1JlcXVlc3RNZXNzYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ3JhbW1hcl8xID0gcmVxdWlyZShcIi4vZ3JhbW1hclwiKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG4vKipcbiAqIEluY29taW5nIG1lc3NhZ2UuXG4gKiBAcHVibGljXG4gKi9cbnZhciBJbmNvbWluZ01lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW5jb21pbmdNZXNzYWdlKCkge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGEgaGVhZGVyIG9mIHRoZSBnaXZlbiBuYW1lIGFuZCB2YWx1ZSBpbnRvIHRoZSBsYXN0IHBvc2l0aW9uIG9mIHRoZVxuICAgICAqIGhlYWRlciBhcnJheS5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIGhlYWRlciBuYW1lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gaGVhZGVyIHZhbHVlXG4gICAgICovXG4gICAgSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS5hZGRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGhlYWRlciA9IHsgcmF3OiB2YWx1ZSB9O1xuICAgICAgICBuYW1lID0gdXRpbHNfMS5oZWFkZXJpemUobmFtZSk7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1tuYW1lXS5wdXNoKGhlYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbbmFtZV0gPSBbaGVhZGVyXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gaGVhZGVyIG5hbWUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gaGVhZGVyIG5hbWVcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBzcGVjaWZpZWQgaGVhZGVyLCB1bmRlZmluZWQgaWYgaGVhZGVyIGRvZXNuJ3QgZXhpc3QuXG4gICAgICovXG4gICAgSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5oZWFkZXJzW3V0aWxzXzEuaGVhZGVyaXplKG5hbWUpXTtcbiAgICAgICAgaWYgKGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGhlYWRlclswXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXJbMF0ucmF3O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGhlYWRlci9zIG9mIHRoZSBnaXZlbiBuYW1lLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gaGVhZGVyIG5hbWVcbiAgICAgKiBAcmV0dXJucyBBcnJheSAtIHdpdGggYWxsIHRoZSBoZWFkZXJzIG9mIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAgICAgKi9cbiAgICBJbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLmdldEhlYWRlcnMgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5oZWFkZXJzW3V0aWxzXzEuaGVhZGVyaXplKG5hbWUpXTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgaGVhZGVyXzEgPSBoZWFkZXI7IF9pIDwgaGVhZGVyXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaGVhZGVyUGFydCA9IGhlYWRlcl8xW19pXTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGhlYWRlclBhcnQucmF3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmVyaWZ5IHRoZSBleGlzdGVuY2Ugb2YgdGhlIGdpdmVuIGhlYWRlci5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIGhlYWRlciBuYW1lXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBoZWFkZXIgd2l0aCBnaXZlbiBuYW1lIGV4aXN0cywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS5oYXNIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmhlYWRlcnNbdXRpbHNfMS5oZWFkZXJpemUobmFtZSldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2UgdGhlIGdpdmVuIGhlYWRlciBvbiB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEBwYXJhbSBpZHggLSBoZWFkZXIgaW5kZXhcbiAgICAgKiBAcmV0dXJucyBQYXJzZWQgaGVhZGVyIG9iamVjdCwgdW5kZWZpbmVkIGlmIHRoZVxuICAgICAqICAgaGVhZGVyIGlzIG5vdCBwcmVzZW50IG9yIGluIGNhc2Ugb2YgYSBwYXJzaW5nIGVycm9yLlxuICAgICAqL1xuICAgIEluY29taW5nTWVzc2FnZS5wcm90b3R5cGUucGFyc2VIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgaWR4KSB7XG4gICAgICAgIGlmIChpZHggPT09IHZvaWQgMCkgeyBpZHggPSAwOyB9XG4gICAgICAgIG5hbWUgPSB1dGlsc18xLmhlYWRlcml6ZShuYW1lKTtcbiAgICAgICAgaWYgKCF0aGlzLmhlYWRlcnNbbmFtZV0pIHtcbiAgICAgICAgICAgIC8vIHRoaXMubG9nZ2VyLmxvZyhcImhlYWRlciAnXCIgKyBuYW1lICsgXCInIG5vdCBwcmVzZW50XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlkeCA+PSB0aGlzLmhlYWRlcnNbbmFtZV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyB0aGlzLmxvZ2dlci5sb2coXCJub3Qgc28gbWFueSAnXCIgKyBuYW1lICsgXCInIGhlYWRlcnMgcHJlc2VudFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5oZWFkZXJzW25hbWVdW2lkeF07XG4gICAgICAgIHZhciB2YWx1ZSA9IGhlYWRlci5yYXc7XG4gICAgICAgIGlmIChoZWFkZXIucGFyc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyLnBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdWJzdGl0dXRlICctJyBieSAnXycgZm9yIGdyYW1tYXIgcnVsZSBtYXRjaGluZy5cbiAgICAgICAgdmFyIHBhcnNlZCA9IGdyYW1tYXJfMS5HcmFtbWFyLnBhcnNlKHZhbHVlLCBuYW1lLnJlcGxhY2UoLy0vZywgXCJfXCIpKTtcbiAgICAgICAgaWYgKHBhcnNlZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1tuYW1lXS5zcGxpY2UoaWR4LCAxKTsgLy8gZGVsZXRlIGZyb20gaGVhZGVyc1xuICAgICAgICAgICAgLy8gdGhpcy5sb2dnZXIud2FybignZXJyb3IgcGFyc2luZyBcIicgKyBuYW1lICsgJ1wiIGhlYWRlciBmaWVsZCB3aXRoIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWFkZXIucGFyc2VkID0gcGFyc2VkO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTWVzc2FnZSBIZWFkZXIgYXR0cmlidXRlIHNlbGVjdG9yLiBBbGlhcyBvZiBwYXJzZUhlYWRlci5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIGhlYWRlciBuYW1lXG4gICAgICogQHBhcmFtIGlkeCAtIGhlYWRlciBpbmRleFxuICAgICAqIEByZXR1cm5zIFBhcnNlZCBoZWFkZXIgb2JqZWN0LCB1bmRlZmluZWQgaWYgdGhlXG4gICAgICogICBoZWFkZXIgaXMgbm90IHByZXNlbnQgb3IgaW4gY2FzZSBvZiBhIHBhcnNpbmcgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1lc3NhZ2UucygndmlhJywzKS5wb3J0XG4gICAgICovXG4gICAgSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS5zID0gZnVuY3Rpb24gKG5hbWUsIGlkeCkge1xuICAgICAgICBpZiAoaWR4ID09PSB2b2lkIDApIHsgaWR4ID0gMDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUhlYWRlcihuYW1lLCBpZHgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVwbGFjZSB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGhlYWRlciBieSB0aGUgdmFsdWUuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIGhlYWRlciB2YWx1ZVxuICAgICAqL1xuICAgIEluY29taW5nTWVzc2FnZS5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1t1dGlsc18xLmhlYWRlcml6ZShuYW1lKV0gPSBbeyByYXc6IHZhbHVlIH1dO1xuICAgIH07XG4gICAgSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBJbmNvbWluZ01lc3NhZ2U7XG59KCkpO1xuZXhwb3J0cy5JbmNvbWluZ01lc3NhZ2UgPSBJbmNvbWluZ01lc3NhZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHBhcmFtZXRlcnNfMSA9IHJlcXVpcmUoXCIuL3BhcmFtZXRlcnNcIik7XG4vKipcbiAqIE5hbWUgQWRkcmVzcyBTSVAgaGVhZGVyLlxuICogQHB1YmxpY1xuICovXG52YXIgTmFtZUFkZHJIZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTmFtZUFkZHJIZWFkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gdXJpIC1cbiAgICAgKiBAcGFyYW0gZGlzcGxheU5hbWUgLVxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOYW1lQWRkckhlYWRlcih1cmksIGRpc3BsYXlOYW1lLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmFtZXRlcnMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnVyaSA9IHVyaTtcbiAgICAgICAgX3RoaXMuX2Rpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5hbWVBZGRySGVhZGVyLnByb3RvdHlwZSwgXCJmcmllbmRseU5hbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlOYW1lIHx8IHRoaXMudXJpLmFvcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5hbWVBZGRySGVhZGVyLnByb3RvdHlwZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGlzcGxheU5hbWU7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5TmFtZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOYW1lQWRkckhlYWRlci5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTmFtZUFkZHJIZWFkZXIodGhpcy51cmkuY2xvbmUoKSwgdGhpcy5fZGlzcGxheU5hbWUsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbWV0ZXJzKSkpO1xuICAgIH07XG4gICAgTmFtZUFkZHJIZWFkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYm9keSA9ICh0aGlzLmRpc3BsYXlOYW1lIHx8IHRoaXMuZGlzcGxheU5hbWUgPT09IFwiMFwiKSA/ICdcIicgKyB0aGlzLmRpc3BsYXlOYW1lICsgJ1wiICcgOiBcIlwiO1xuICAgICAgICBib2R5ICs9IFwiPFwiICsgdGhpcy51cmkudG9TdHJpbmcoKSArIFwiPlwiO1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICBib2R5ICs9IFwiO1wiICsgcGFyYW1ldGVyO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVyXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBib2R5ICs9IFwiPVwiICsgdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH07XG4gICAgcmV0dXJuIE5hbWVBZGRySGVhZGVyO1xufShwYXJhbWV0ZXJzXzEuUGFyYW1ldGVycykpO1xuZXhwb3J0cy5OYW1lQWRkckhlYWRlciA9IE5hbWVBZGRySGVhZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgUGFyYW1ldGVycyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJhbWV0ZXJzKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0ge307XG4gICAgICAgIGZvciAodmFyIHBhcmFtIGluIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KHBhcmFtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFyYW0ocGFyYW0sIHBhcmFtZXRlcnNbcGFyYW1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBQYXJhbWV0ZXJzLnByb3RvdHlwZS5zZXRQYXJhbSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVyc1trZXkudG9Mb3dlckNhc2UoKV0gPSAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiIHx8IHZhbHVlID09PSBudWxsKSA/IG51bGwgOiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYXJhbWV0ZXJzLnByb3RvdHlwZS5nZXRQYXJhbSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVyc1trZXkudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhcmFtZXRlcnMucHJvdG90eXBlLmhhc1BhcmFtID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLnBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkoa2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFBhcmFtZXRlcnMucHJvdG90eXBlLmRlbGV0ZVBhcmFtID0gZnVuY3Rpb24gKHBhcmFtZXRlcikge1xuICAgICAgICBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVyXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVyXTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFyYW1ldGVycy5wcm90b3R5cGUuY2xlYXJQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHt9O1xuICAgIH07XG4gICAgcmV0dXJuIFBhcmFtZXRlcnM7XG59KCkpO1xuZXhwb3J0cy5QYXJhbWV0ZXJzID0gUGFyYW1ldGVycztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgcGFyYW1ldGVyc18xID0gcmVxdWlyZShcIi4vcGFyYW1ldGVyc1wiKTtcbi8qKlxuICogVVJJLlxuICogQHB1YmxpY1xuICovXG52YXIgVVJJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFVSSSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBzY2hlbWUgLVxuICAgICAqIEBwYXJhbSB1c2VyIC1cbiAgICAgKiBAcGFyYW0gaG9zdCAtXG4gICAgICogQHBhcmFtIHBvcnQgLVxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC1cbiAgICAgKiBAcGFyYW0gaGVhZGVycyAtXG4gICAgICovXG4gICAgZnVuY3Rpb24gVVJJKHNjaGVtZSwgdXNlciwgaG9zdCwgcG9ydCwgcGFyYW1ldGVycywgaGVhZGVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJhbWV0ZXJzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5oZWFkZXJzID0ge307XG4gICAgICAgIC8vIENoZWNrc1xuICAgICAgICBpZiAoIWhvc3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21pc3Npbmcgb3IgaW52YWxpZCBcImhvc3RcIiBwYXJhbWV0ZXInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbml0aWFsaXplIHBhcmFtZXRlcnNcbiAgICAgICAgc2NoZW1lID0gc2NoZW1lIHx8IFwic2lwXCI7XG4gICAgICAgIGZvciAodmFyIGhlYWRlciBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0SGVhZGVyKGhlYWRlciwgaGVhZGVyc1toZWFkZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSYXcgVVJJXG4gICAgICAgIF90aGlzLnJhdyA9IHtcbiAgICAgICAgICAgIHNjaGVtZTogc2NoZW1lLFxuICAgICAgICAgICAgdXNlcjogdXNlcixcbiAgICAgICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgICAgICBwb3J0OiBwb3J0XG4gICAgICAgIH07XG4gICAgICAgIC8vIE5vcm1hbGl6ZWQgVVJJXG4gICAgICAgIF90aGlzLm5vcm1hbCA9IHtcbiAgICAgICAgICAgIHNjaGVtZTogc2NoZW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgaG9zdDogaG9zdC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgcG9ydDogcG9ydFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcInNjaGVtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5ub3JtYWwuc2NoZW1lOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yYXcuc2NoZW1lID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbC5zY2hlbWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVVJJLnByb3RvdHlwZSwgXCJ1c2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5vcm1hbC51c2VyOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3JtYWwudXNlciA9IHRoaXMucmF3LnVzZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSSS5wcm90b3R5cGUsIFwiaG9zdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5ub3JtYWwuaG9zdDsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmF3Lmhvc3QgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsLmhvc3QgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVVJJLnByb3RvdHlwZSwgXCJhb3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubm9ybWFsLnVzZXIgKyBcIkBcIiArIHRoaXMubm9ybWFsLmhvc3Q7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcInBvcnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubm9ybWFsLnBvcnQ7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbC5wb3J0ID0gdGhpcy5yYXcucG9ydCA9IHZhbHVlID09PSAwID8gdmFsdWUgOiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgVVJJLnByb3RvdHlwZS5zZXRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzW3RoaXMuaGVhZGVyaXplKG5hbWUpXSA9ICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9O1xuICAgIFVSSS5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnNbdGhpcy5oZWFkZXJpemUobmFtZSldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLmhhc0hlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiAhIW5hbWUgJiYgISF0aGlzLmhlYWRlcnMuaGFzT3duUHJvcGVydHkodGhpcy5oZWFkZXJpemUobmFtZSkpO1xuICAgIH07XG4gICAgVVJJLnByb3RvdHlwZS5kZWxldGVIZWFkZXIgPSBmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgIGhlYWRlciA9IHRoaXMuaGVhZGVyaXplKGhlYWRlcik7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyKSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5oZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5oZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVSSS5wcm90b3R5cGUuY2xlYXJIZWFkZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSB7fTtcbiAgICB9O1xuICAgIFVSSS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVVJJKHRoaXMuX3Jhdy5zY2hlbWUsIHRoaXMuX3Jhdy51c2VyIHx8IFwiXCIsIHRoaXMuX3Jhdy5ob3N0LCB0aGlzLl9yYXcucG9ydCwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnBhcmFtZXRlcnMpKSwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmhlYWRlcnMpKSk7XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLnRvUmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9TdHJpbmcodGhpcy5fcmF3KTtcbiAgICB9O1xuICAgIFVSSS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b1N0cmluZyh0aGlzLl9ub3JtYWwpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSSS5wcm90b3R5cGUsIFwiX25vcm1hbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5ub3JtYWw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcIl9yYXdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucmF3OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBVUkkucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgICAgdmFyIHVyaVN0cmluZyA9IHVyaS5zY2hlbWUgKyBcIjpcIjtcbiAgICAgICAgLy8gYWRkIHNsYXNoZXMgaWYgaXQncyBub3QgYSBzaXAocykgVVJJXG4gICAgICAgIGlmICghdXJpLnNjaGVtZS50b0xvd2VyQ2FzZSgpLm1hdGNoKFwiXnNpcHM/JFwiKSkge1xuICAgICAgICAgICAgdXJpU3RyaW5nICs9IFwiLy9cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJpLnVzZXIpIHtcbiAgICAgICAgICAgIHVyaVN0cmluZyArPSB0aGlzLmVzY2FwZVVzZXIodXJpLnVzZXIpICsgXCJAXCI7XG4gICAgICAgIH1cbiAgICAgICAgdXJpU3RyaW5nICs9IHVyaS5ob3N0O1xuICAgICAgICBpZiAodXJpLnBvcnQgfHwgdXJpLnBvcnQgPT09IDApIHtcbiAgICAgICAgICAgIHVyaVN0cmluZyArPSBcIjpcIiArIHVyaS5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHBhcmFtZXRlciBpbiB0aGlzLnBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHVyaVN0cmluZyArPSBcIjtcIiArIHBhcmFtZXRlcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJpU3RyaW5nICs9IFwiPVwiICsgdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBoZWFkZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGhlYWRlciBpbiB0aGlzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGlkeCBpbiB0aGlzLmhlYWRlcnNbaGVhZGVyXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzW2hlYWRlcl0uaGFzT3duUHJvcGVydHkoaWR4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5wdXNoKGhlYWRlciArIFwiPVwiICsgdGhpcy5oZWFkZXJzW2hlYWRlcl1baWR4XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdXJpU3RyaW5nICs9IFwiP1wiICsgaGVhZGVycy5qb2luKFwiJlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJpU3RyaW5nO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBIZXgtZXNjYXBlIGEgU0lQIFVSSSB1c2VyLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVzZXJcbiAgICAgKi9cbiAgICBVUkkucHJvdG90eXBlLmVzY2FwZVVzZXIgPSBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB2YXIgZGVjb2RlZFVzZXI7XG4gICAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIGNhbGxlZCBieSB0b1N0cmluZyBhYm92ZSB3aGljaCBzaG91bGQgbmV2ZXIgdGhyb3csIGJ1dFxuICAgICAgICAvLyBkZWNvZGVVUklDb21wb25lbnQgY2FuIHRocm93IGFuZCBJJ3ZlIHNlZW4gb25lIGNhc2UgaW4gcHJvZHVjdGlvbiB3aGVyZVxuICAgICAgICAvLyBpdCBkaWQgdGhyb3cgcmVzdWx0aW5nIGluIGEgY2FzY2FkaW5nIGZhaWx1cmUuIFRoaXMgY2xhc3Mgc2hvdWxkIGJlXG4gICAgICAgIC8vIGZpeGVkIHNvIHRoYXQgZGVjb2RlVVJJQ29tcG9uZW50IGlzIG5vdCBjYWxsZWQgYXQgdGhpcyBwb2ludCAoaW4gdG9TdHJpbmcpLlxuICAgICAgICAvLyBUaGUgdXNlciBzaG91bGQgYmUgZGVjb2RlZCB3aGVuIHRoZSBVUkkgaXMgY29uc3RydWN0b3Igb3Igc29tZSBvdGhlclxuICAgICAgICAvLyBwbGFjZSB3aGVyZSB3ZSBjYW4gY2F0Y2ggdGhlIGVycm9yIGJlZm9yZSB0aGUgVVJJIGlzIGNyZWF0ZWQgb3Igc29tZXN1Y2guXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZWNvZGVkVXNlciA9IGRlY29kZVVSSUNvbXBvbmVudCh1c2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IGhleC1lc2NhcGUgJzonICglM0EpLCAnKycgKCUyQiksICc/JyAoJTNGXCIpLCAnLycgKCUyRikuXG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZGVjb2RlZFVzZXIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJTNBL2lnLCBcIjpcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lMkIvaWcsIFwiK1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyUzRi9pZywgXCI/XCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJTJGL2lnLCBcIi9cIik7XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLmhlYWRlcml6ZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIGV4Y2VwdGlvbnMgPSB7XG4gICAgICAgICAgICBcIkNhbGwtSWRcIjogXCJDYWxsLUlEXCIsXG4gICAgICAgICAgICBcIkNzZXFcIjogXCJDU2VxXCIsXG4gICAgICAgICAgICBcIk1pbi1TZVwiOiBcIk1pbi1TRVwiLFxuICAgICAgICAgICAgXCJSYWNrXCI6IFwiUkFja1wiLFxuICAgICAgICAgICAgXCJSc2VxXCI6IFwiUlNlcVwiLFxuICAgICAgICAgICAgXCJXd3ctQXV0aGVudGljYXRlXCI6IFwiV1dXLUF1dGhlbnRpY2F0ZVwiLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbmFtZSA9IHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywgXCItXCIpLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgdmFyIHBhcnRzID0gbmFtZS5sZW5ndGg7XG4gICAgICAgIHZhciBobmFtZSA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIHBhcnQgPSAwOyBwYXJ0IDwgcGFydHM7IHBhcnQrKykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBobmFtZSArPSBcIi1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhuYW1lICs9IG5hbWVbcGFydF0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lW3BhcnRdLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhjZXB0aW9uc1tobmFtZV0pIHtcbiAgICAgICAgICAgIGhuYW1lID0gZXhjZXB0aW9uc1tobmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhuYW1lO1xuICAgIH07XG4gICAgcmV0dXJuIFVSSTtcbn0ocGFyYW1ldGVyc18xLlBhcmFtZXRlcnMpKTtcbmV4cG9ydHMuVVJJID0gVVJJO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBpbmNvbWluZ19tZXNzYWdlXzEgPSByZXF1aXJlKFwiLi9pbmNvbWluZy1tZXNzYWdlXCIpO1xuLyoqXG4gKiBJbmNvbWluZyByZXNwb25zZSBtZXNzYWdlLlxuICogQHB1YmxpY1xuICovXG52YXIgSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gSW5jb21pbmdSZXNwb25zZU1lc3NhZ2U7XG59KGluY29taW5nX21lc3NhZ2VfMS5JbmNvbWluZ01lc3NhZ2UpKTtcbmV4cG9ydHMuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UgPSBJbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uXCIpO1xuLyoqXG4gKiBDbGllbnQgVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogVGhlIGNsaWVudCB0cmFuc2FjdGlvbiBwcm92aWRlcyBpdHMgZnVuY3Rpb25hbGl0eSB0aHJvdWdoIHRoZVxuICogbWFpbnRlbmFuY2Ugb2YgYSBzdGF0ZSBtYWNoaW5lLlxuICpcbiAqIFRoZSBUVSBjb21tdW5pY2F0ZXMgd2l0aCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHRocm91Z2ggYSBzaW1wbGVcbiAqIGludGVyZmFjZS4gIFdoZW4gdGhlIFRVIHdpc2hlcyB0byBpbml0aWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiwgaXRcbiAqIGNyZWF0ZXMgYSBjbGllbnQgdHJhbnNhY3Rpb24gYW5kIHBhc3NlcyBpdCB0aGUgU0lQIHJlcXVlc3QgdG8gc2VuZFxuICogYW5kIGFuIElQIGFkZHJlc3MsIHBvcnQsIGFuZCB0cmFuc3BvcnQgdG8gd2hpY2ggdG8gc2VuZCBpdC4gIFRoZVxuICogY2xpZW50IHRyYW5zYWN0aW9uIGJlZ2lucyBleGVjdXRpb24gb2YgaXRzIHN0YXRlIG1hY2hpbmUuICBWYWxpZFxuICogcmVzcG9uc2VzIGFyZSBwYXNzZWQgdXAgdG8gdGhlIFRVIGZyb20gdGhlIGNsaWVudCB0cmFuc2FjdGlvbi5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMVxuICogQHB1YmxpY1xuICovXG52YXIgQ2xpZW50VHJhbnNhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ2xpZW50VHJhbnNhY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2xpZW50VHJhbnNhY3Rpb24oX3JlcXVlc3QsIHRyYW5zcG9ydCwgdXNlciwgc3RhdGUsIGxvZ2dlckNhdGVnb3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zcG9ydCwgdXNlciwgQ2xpZW50VHJhbnNhY3Rpb24ubWFrZUlkKF9yZXF1ZXN0KSwgc3RhdGUsIGxvZ2dlckNhdGVnb3J5KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcmVxdWVzdCA9IF9yZXF1ZXN0O1xuICAgICAgICBfdGhpcy51c2VyID0gdXNlcjtcbiAgICAgICAgLy8gVGhlIFZpYSBoZWFkZXIgZmllbGQgaW5kaWNhdGVzIHRoZSB0cmFuc3BvcnQgdXNlZCBmb3IgdGhlIHRyYW5zYWN0aW9uXG4gICAgICAgIC8vIGFuZCBpZGVudGlmaWVzIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgcmVzcG9uc2UgaXMgdG8gYmUgc2VudC4gIEEgVmlhXG4gICAgICAgIC8vIGhlYWRlciBmaWVsZCB2YWx1ZSBpcyBhZGRlZCBvbmx5IGFmdGVyIHRoZSB0cmFuc3BvcnQgdGhhdCB3aWxsIGJlXG4gICAgICAgIC8vIHVzZWQgdG8gcmVhY2ggdGhlIG5leHQgaG9wIGhhcyBiZWVuIHNlbGVjdGVkICh3aGljaCBtYXkgaW52b2x2ZSB0aGVcbiAgICAgICAgLy8gdXNhZ2Ugb2YgdGhlIHByb2NlZHVyZXMgaW4gWzRdKS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMS43XG4gICAgICAgIF9yZXF1ZXN0LnNldFZpYUhlYWRlcihfdGhpcy5pZCwgdHJhbnNwb3J0LnByb3RvY29sKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDbGllbnRUcmFuc2FjdGlvbi5tYWtlSWQgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiQ0FOQ0VMXCIpIHtcbiAgICAgICAgICAgIGlmICghcmVxdWVzdC5icmFuY2gpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdXRnb2luZyBDQU5DRUwgcmVxdWVzdCB3aXRob3V0IGEgYnJhbmNoLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmJyYW5jaDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIno5aEc0YktcIiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgLyoqIFRoZSBvdXRnb2luZyByZXF1ZXN0IHRoZSB0cmFuc2FjdGlvbiBoYW5kbGluZy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSA0MDggdG8gbm9uLUlOVklURSB3aWxsIGFsd2F5cyBhcnJpdmUgdG9vIGxhdGUgdG8gYmUgdXNlZnVsIChbM10pLFxuICAgICAqIFRoZSBjbGllbnQgYWxyZWFkeSBoYXMgZnVsbCBrbm93bGVkZ2Ugb2YgdGhlIHRpbWVvdXQuIFRoZSBvbmx5XG4gICAgICogaW5mb3JtYXRpb24gdGhpcyBtZXNzYWdlIHdvdWxkIGNvbnZleSBpcyB3aGV0aGVyIG9yIG5vdCB0aGUgc2VydmVyXG4gICAgICogYmVsaWV2ZWQgdGhlIHRyYW5zYWN0aW9uIHRpbWVkIG91dC4gSG93ZXZlciwgd2l0aCB0aGUgY3VycmVudCBkZXNpZ25cbiAgICAgKiBvZiB0aGUgTklULCBhIGNsaWVudCBjYW5ub3QgZG8gYW55dGhpbmcgd2l0aCB0aGlzIGtub3dsZWRnZS4gVGh1cyxcbiAgICAgKiB0aGUgNDA4IGlzIHNpbXBseSB3YXN0aW5nIG5ldHdvcmsgcmVzb3VyY2VzIGFuZCBjb250cmlidXRlcyB0byB0aGVcbiAgICAgKiByZXNwb25zZSBib21iYXJkbWVudCBpbGx1c3RyYXRlZCBpbiBbM10uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQzMjAjc2VjdGlvbi00LjFcbiAgICAgKi9cbiAgICBDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUub25SZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlci5vblJlcXVlc3RUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLnVzZXIub25SZXF1ZXN0VGltZW91dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2xpZW50VHJhbnNhY3Rpb247XG59KHRyYW5zYWN0aW9uXzEuVHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuQ2xpZW50VHJhbnNhY3Rpb24gPSBDbGllbnRUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9leGNlcHRpb25zXCIpO1xuLyoqXG4gKiBUcmFuc2FjdGlvbi5cbiAqIEByZW1hcmtzXG4gKiBTSVAgaXMgYSB0cmFuc2FjdGlvbmFsIHByb3RvY29sOiBpbnRlcmFjdGlvbnMgYmV0d2VlbiBjb21wb25lbnRzIHRha2VcbiAqIHBsYWNlIGluIGEgc2VyaWVzIG9mIGluZGVwZW5kZW50IG1lc3NhZ2UgZXhjaGFuZ2VzLiAgU3BlY2lmaWNhbGx5LCBhXG4gKiBTSVAgdHJhbnNhY3Rpb24gY29uc2lzdHMgb2YgYSBzaW5nbGUgcmVxdWVzdCBhbmQgYW55IHJlc3BvbnNlcyB0b1xuICogdGhhdCByZXF1ZXN0LCB3aGljaCBpbmNsdWRlIHplcm8gb3IgbW9yZSBwcm92aXNpb25hbCByZXNwb25zZXMgYW5kXG4gKiBvbmUgb3IgbW9yZSBmaW5hbCByZXNwb25zZXMuICBJbiB0aGUgY2FzZSBvZiBhIHRyYW5zYWN0aW9uIHdoZXJlIHRoZVxuICogcmVxdWVzdCB3YXMgYW4gSU5WSVRFIChrbm93biBhcyBhbiBJTlZJVEUgdHJhbnNhY3Rpb24pLCB0aGVcbiAqIHRyYW5zYWN0aW9uIGFsc28gaW5jbHVkZXMgdGhlIEFDSyBvbmx5IGlmIHRoZSBmaW5hbCByZXNwb25zZSB3YXMgbm90XG4gKiBhIDJ4eCByZXNwb25zZS4gIElmIHRoZSByZXNwb25zZSB3YXMgYSAyeHgsIHRoZSBBQ0sgaXMgbm90IGNvbnNpZGVyZWRcbiAqIHBhcnQgb2YgdGhlIHRyYW5zYWN0aW9uLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xN1xuICogQHB1YmxpY1xuICovXG52YXIgVHJhbnNhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVHJhbnNhY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVHJhbnNhY3Rpb24oX3RyYW5zcG9ydCwgX3VzZXIsIF9pZCwgX3N0YXRlLCBsb2dnZXJDYXRlZ29yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdHJhbnNwb3J0ID0gX3RyYW5zcG9ydDtcbiAgICAgICAgX3RoaXMuX3VzZXIgPSBfdXNlcjtcbiAgICAgICAgX3RoaXMuX2lkID0gX2lkO1xuICAgICAgICBfdGhpcy5fc3RhdGUgPSBfc3RhdGU7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IF91c2VyLmxvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKGxvZ2dlckNhdGVnb3J5LCBfaWQpO1xuICAgICAgICBfdGhpcy5sb2dnZXIuZGVidWcoXCJDb25zdHJ1Y3RpbmcgXCIgKyBfdGhpcy50eXBlVG9TdHJpbmcoKSArIFwiIHdpdGggaWQgXCIgKyBfdGhpcy5pZCArIFwiLlwiKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqIE9uY2UgdGhlIHRyYW5zYWN0aW9uIGlzIGluIHRoZSBcInRlcm1pbmF0ZWRcIiBzdGF0ZSwgaXQgaXMgZGVzdHJveWVkXG4gICAgICogaW1tZWRpYXRlbHkgYW5kIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBgZGlzcG9zZWAuIEhvd2V2ZXIsIGlmIGFcbiAgICAgKiB0cmFuc2FjdGlvbiBuZWVkcyB0byBiZSBlbmRlZCBwcmVtYXR1cmVseSwgdGhlIHRyYW5zYWN0aW9uIHVzZXIgbWF5XG4gICAgICogZG8gc28gYnkgY2FsbGluZyB0aGlzIG1ldGhvZCAoZm9yIGV4YW1wbGUsIHBlcmhhcHMgdGhlIFVBIGlzIHNodXR0aW5nIGRvd24pLlxuICAgICAqIE5vIHN0YXRlIHRyYW5zaXRpb24gd2lsbCBvY2N1ciB1cG9uIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFsbCBvdXRzdGFuZGluZ1xuICAgICAqIHRyYW5zbWlzc2lvbiB0aW1lcnMgd2lsbCBiZSBjYW5jZWxsZWQsIGFuZCB1c2Ugb2YgdGhlIHRyYW5zYWN0aW9uIGFmdGVyXG4gICAgICogY2FsbGluZyBgZGlzcG9zZWAgaXMgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRlc3Ryb3llZCBcIiArIHRoaXMudHlwZVRvU3RyaW5nKCkgKyBcIiB3aXRoIGlkIFwiICsgdGhpcy5pZCArIFwiLlwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwiaWRcIiwge1xuICAgICAgICAvKiogVHJhbnNhY3Rpb24gaWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBcImtpbmRcIiwge1xuICAgICAgICAvKiogVHJhbnNhY3Rpb24ga2luZC4gRGVwcmVjYXRlZC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGtpbmQuXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBcInN0YXRlXCIsIHtcbiAgICAgICAgLyoqIFRyYW5zYWN0aW9uIHN0YXRlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgXCJ0cmFuc3BvcnRcIiwge1xuICAgICAgICAvKiogVHJhbnNhY3Rpb24gdHJhbnNwb3J0LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykgeyByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIG5hbWUsIGNhbGxiYWNrKTsgfTtcbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUubG9nVHJhbnNwb3J0RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiVHJhbnNwb3J0IGVycm9yIG9jY3VycmVkIGluIFwiICsgdGhpcy50eXBlVG9TdHJpbmcoKSArIFwiIHdpdGggaWQgXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhc3MgbWVzc2FnZSB0byB0cmFuc3BvcnQgZm9yIHRyYW5zbWlzc2lvbi4gSWYgdHJhbnNwb3J0IGZhaWxzLFxuICAgICAqIHRoZSB0cmFuc2FjdGlvbiB1c2VyIGlzIG5vdGlmaWVkIGJ5IGNhbGxiYWNrIHRvIG9uVHJhbnNwb3J0RXJyb3IoKS5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqIFJlamVjdHMgd2l0aCBgVHJhbnNwb3J0RXJyb3JgIGlmIHRyYW5zcG9ydCBmYWlscy5cbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5zZW5kKG1lc3NhZ2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHRyYW5zcG9ydCByZWplY3RzLCBpdCBTSE9VTEQgcmVqZWN0IHdpdGggYSBUcmFuc3BvcnRFcnJvci5cbiAgICAgICAgICAgIC8vIEJ1dCB0aGUgdHJhbnNwb3J0IG1heSBiZSBleHRlcm5hbCBjb2RlLCBzbyB3ZSBhcmUgY2FyZWZ1bFxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGNvbnZlcnQgaXQgdG8gYSBUcmFuc3BvcnRFcnJvciBpZiBuZWVkIGJlLlxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgZXhjZXB0aW9uc18xLlRyYW5zcG9ydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25UcmFuc3BvcnRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHJhbnNwb3J0RXJyb3I7XG4gICAgICAgICAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnRFcnJvciA9IG5ldyBleGNlcHRpb25zXzEuVHJhbnNwb3J0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnRFcnJvciA9IG5ldyBleGNlcHRpb25zXzEuVHJhbnNwb3J0RXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLm9uVHJhbnNwb3J0RXJyb3IodHJhbnNwb3J0RXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgdHJhbnNwb3J0RXJyb3I7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiU3RhdGUgY2hhbmdlIHRvIFxcXCJcIiArIHN0YXRlICsgXCJcXFwiIG9uIFwiICsgdGhpcy50eXBlVG9TdHJpbmcoKSArIFwiIHdpdGggaWQgXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICBpZiAodGhpcy5fdXNlci5vblN0YXRlQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VyLm9uU3RhdGVDaGFuZ2Uoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdChcInN0YXRlQ2hhbmdlZFwiKTtcbiAgICB9O1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS50eXBlVG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIlVua25vd25UeXBlXCI7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhbnNhY3Rpb247XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5UcmFuc2FjdGlvbiA9IFRyYW5zYWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbi8qKlxuICogQW4gRXhjZXB0aW9uIGlzIGNvbnNpZGVyZWQgYSBjb25kaXRpb24gdGhhdCBhIHJlYXNvbmFibGUgYXBwbGljYXRpb24gbWF5IHdpc2ggdG8gY2F0Y2guXG4gKiBBbiBFcnJvciBpbmRpY2F0ZXMgc2VyaW91cyBwcm9ibGVtcyB0aGF0IGEgcmVhc29uYWJsZSBhcHBsaWNhdGlvbiBzaG91bGQgbm90IHRyeSB0byBjYXRjaC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF9uZXdUYXJnZXQgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIF9uZXdUYXJnZXQucHJvdG90eXBlKTsgLy8gcmVzdG9yZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRXhjZXB0aW9uO1xufShFcnJvcikpO1xuZXhwb3J0cy5FeGNlcHRpb24gPSBFeGNlcHRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvblwiKTtcbi8qKlxuICogU2VydmVyIFRyYW5zYWN0aW9uLlxuICogQHJlbWFya3NcbiAqIFRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gaXMgcmVzcG9uc2libGUgZm9yIHRoZSBkZWxpdmVyeSBvZiByZXF1ZXN0cyB0b1xuICogdGhlIFRVIGFuZCB0aGUgcmVsaWFibGUgdHJhbnNtaXNzaW9uIG9mIHJlc3BvbnNlcy4gIEl0IGFjY29tcGxpc2hlc1xuICogdGhpcyB0aHJvdWdoIGEgc3RhdGUgbWFjaGluZS4gIFNlcnZlciB0cmFuc2FjdGlvbnMgYXJlIGNyZWF0ZWQgYnkgdGhlXG4gKiBjb3JlIHdoZW4gYSByZXF1ZXN0IGlzIHJlY2VpdmVkLCBhbmQgdHJhbnNhY3Rpb24gaGFuZGxpbmcgaXMgZGVzaXJlZFxuICogZm9yIHRoYXQgcmVxdWVzdCAodGhpcyBpcyBub3QgYWx3YXlzIHRoZSBjYXNlKS5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMlxuICogQHB1YmxpY1xuICovXG52YXIgU2VydmVyVHJhbnNhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2VydmVyVHJhbnNhY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VydmVyVHJhbnNhY3Rpb24oX3JlcXVlc3QsIHRyYW5zcG9ydCwgdXNlciwgc3RhdGUsIGxvZ2dlckNhdGVnb3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zcG9ydCwgdXNlciwgX3JlcXVlc3QudmlhQnJhbmNoLCBzdGF0ZSwgbG9nZ2VyQ2F0ZWdvcnkpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9yZXF1ZXN0ID0gX3JlcXVlc3Q7XG4gICAgICAgIF90aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwicmVxdWVzdFwiLCB7XG4gICAgICAgIC8qKiBUaGUgaW5jb21pbmcgcmVxdWVzdCB0aGUgdHJhbnNhY3Rpb24gaGFuZGxpbmcuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTZXJ2ZXJUcmFuc2FjdGlvbjtcbn0odHJhbnNhY3Rpb25fMS5UcmFuc2FjdGlvbikpO1xuZXhwb3J0cy5TZXJ2ZXJUcmFuc2FjdGlvbiA9IFNlcnZlclRyYW5zYWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBOT1RJRlkgVUFTLlxuICogQHB1YmxpY1xuICovXG52YXIgTm90aWZ5VXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE5vdGlmeVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBOT1RJRlkgVUFTIGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSBkaWFsb2dPckNvcmUgLSBEaWFsb2cgZm9yIGluIGRpYWxvZyBOT1RJRlksIFVzZXJBZ2VudENvcmUgZm9yIG91dCBvZiBkaWFsb2cgTk9USUZZIChkZXByZWNhdGVkKS5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIE5PVElGWSByZXF1ZXN0IG1lc3NhZ2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm90aWZ5VXNlckFnZW50U2VydmVyKGRpYWxvZ09yQ29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVzZXJBZ2VudENvcmUgPSBpbnN0YW5jZU9mRGlhbG9nKGRpYWxvZ09yQ29yZSkgP1xuICAgICAgICAgICAgZGlhbG9nT3JDb3JlLnVzZXJBZ2VudENvcmUgOlxuICAgICAgICAgICAgZGlhbG9nT3JDb3JlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLCB1c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gTm90aWZ5VXNlckFnZW50U2VydmVyO1xufSh1c2VyX2FnZW50X3NlcnZlcl8xLlVzZXJBZ2VudFNlcnZlcikpO1xuZXhwb3J0cy5Ob3RpZnlVc2VyQWdlbnRTZXJ2ZXIgPSBOb3RpZnlVc2VyQWdlbnRTZXJ2ZXI7XG5mdW5jdGlvbiBpbnN0YW5jZU9mRGlhbG9nKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QudXNlckFnZW50Q29yZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3N1YnNjcmlwdGlvblwiKSwgZXhwb3J0cyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogTG9nIGxldmVscy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIExldmVscztcbihmdW5jdGlvbiAoTGV2ZWxzKSB7XG4gICAgTGV2ZWxzW0xldmVsc1tcImVycm9yXCJdID0gMF0gPSBcImVycm9yXCI7XG4gICAgTGV2ZWxzW0xldmVsc1tcIndhcm5cIl0gPSAxXSA9IFwid2FyblwiO1xuICAgIExldmVsc1tMZXZlbHNbXCJsb2dcIl0gPSAyXSA9IFwibG9nXCI7XG4gICAgTGV2ZWxzW0xldmVsc1tcImRlYnVnXCJdID0gM10gPSBcImRlYnVnXCI7XG59KShMZXZlbHMgPSBleHBvcnRzLkxldmVscyB8fCAoZXhwb3J0cy5MZXZlbHMgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG52YXIgU2VydmVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vU2VydmVyQ29udGV4dFwiKTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtY2xhc3Nlcy1wZXItZmlsZVxudmFyIFJlZmVyQ2xpZW50Q29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZWZlckNsaWVudENvbnRleHQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmZXJDbGllbnRDb250ZXh0KHVhLCBhcHBsaWNhbnQsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodWEgPT09IHVuZGVmaW5lZCB8fCBhcHBsaWNhbnQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdWEsIENvbnN0YW50c18xLkMuUkVGRVIsIGFwcGxpY2FudC5yZW1vdGVJZGVudGl0eS51cmkudG9TdHJpbmcoKSwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuUmVmZXJDbGllbnRDb250ZXh0O1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgX3RoaXMuZXh0cmFIZWFkZXJzID0gKF90aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBfdGhpcy5hcHBsaWNhbnQgPSBhcHBsaWNhbnQ7XG4gICAgICAgIF90aGlzLnRhcmdldCA9IF90aGlzLmluaXRSZWZlclRvKHRhcmdldCk7XG4gICAgICAgIGlmIChfdGhpcy51YSkge1xuICAgICAgICAgICAgX3RoaXMuZXh0cmFIZWFkZXJzLnB1c2goXCJSZWZlcnJlZC1CeTogPFwiICsgX3RoaXMudWEuY29uZmlndXJhdGlvbi51cmkgKyBcIj5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogQ2hlY2sgdGhhdCB0aGlzIGlzIGNvcnJlY3QgaXNjL2ljY1xuICAgICAgICBfdGhpcy5leHRyYUhlYWRlcnMucHVzaChcIkNvbnRhY3Q6IFwiICsgYXBwbGljYW50LmNvbnRhY3QpO1xuICAgICAgICAvLyB0aGlzIGlzIFVBLkMuQUxMT1dFRF9NRVRIT0RTLCByZW1vdmVkIHRvIGdldCBhcm91bmQgY2lyY3VsYXIgZGVwZW5kZW5jeVxuICAgICAgICBfdGhpcy5leHRyYUhlYWRlcnMucHVzaChcIkFsbG93OiBcIiArIFtcbiAgICAgICAgICAgIFwiQUNLXCIsXG4gICAgICAgICAgICBcIkNBTkNFTFwiLFxuICAgICAgICAgICAgXCJJTlZJVEVcIixcbiAgICAgICAgICAgIFwiTUVTU0FHRVwiLFxuICAgICAgICAgICAgXCJCWUVcIixcbiAgICAgICAgICAgIFwiT1BUSU9OU1wiLFxuICAgICAgICAgICAgXCJJTkZPXCIsXG4gICAgICAgICAgICBcIk5PVElGWVwiLFxuICAgICAgICAgICAgXCJSRUZFUlwiXG4gICAgICAgIF0udG9TdHJpbmcoKSk7XG4gICAgICAgIF90aGlzLmV4dHJhSGVhZGVycy5wdXNoKFwiUmVmZXItVG86IFwiICsgX3RoaXMudGFyZ2V0KTtcbiAgICAgICAgX3RoaXMuZXJyb3JMaXN0ZW5lciA9IF90aGlzLm9uVHJhbnNwb3J0RXJyb3IuYmluZChfdGhpcyk7XG4gICAgICAgIGlmICh1YS50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHVhLnRyYW5zcG9ydC5vbihcInRyYW5zcG9ydEVycm9yXCIsIF90aGlzLmVycm9yTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVmZXJDbGllbnRDb250ZXh0LnByb3RvdHlwZS5yZWZlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAodGhpcy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGlmIChvcHRpb25zLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLmNvbmNhdChvcHRpb25zLmV4dHJhSGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcHBsaWNhbnQuc2VuZFJlcXVlc3QoQ29uc3RhbnRzXzEuQy5SRUZFUiwge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiB0aGlzLmV4dHJhSGVhZGVycyxcbiAgICAgICAgICAgIHJlY2VpdmVSZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXNDb2RlID8gcmVzcG9uc2Uuc3RhdHVzQ29kZS50b1N0cmluZygpIDogXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAoL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWZlclJlcXVlc3RQcm9ncmVzc1wiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eMlswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVmZXJSZXF1ZXN0QWNjZXB0ZWRcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvXls0LTZdWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWZlclJlcXVlc3RSZWplY3RlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlY2VpdmVSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSZWZlckNsaWVudENvbnRleHQucHJvdG90eXBlLnJlY2VpdmVOb3RpZnkgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAvLyBJZiB3ZSBjYW4gY29ycmVjdGx5IGhhbmRsZSB0aGlzLCB0aGVuIHdlIG5lZWQgdG8gc2VuZCBhIDIwMCBPSyFcbiAgICAgICAgdmFyIGNvbnRlbnRUeXBlID0gcmVxdWVzdC5tZXNzYWdlLmhhc0hlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSA/XG4gICAgICAgICAgICByZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuc2VhcmNoKC9ebWVzc2FnZVxcL3NpcGZyYWcvKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlQm9keSA9IGNvcmVfMS5HcmFtbWFyLnBhcnNlKHJlcXVlc3QubWVzc2FnZS5ib2R5LCBcInNpcGZyYWdcIik7XG4gICAgICAgICAgICBpZiAobWVzc2FnZUJvZHkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5yZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiA0ODksXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvblBocmFzZTogXCJCYWQgRXZlbnRcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgKC9eMVswLTldezJ9JC8udGVzdChtZXNzYWdlQm9keS5zdGF0dXNfY29kZSkpOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWZlclByb2dyZXNzXCIsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICgvXjJbMC05XXsyfSQvLnRlc3QobWVzc2FnZUJvZHkuc3RhdHVzX2NvZGUpKTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVmZXJBY2NlcHRlZFwiLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYWN0aXZlQWZ0ZXJUcmFuc2ZlciAmJiB0aGlzLmFwcGxpY2FudC50ZXJtaW5hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbGljYW50LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJlZmVyUmVqZWN0ZWRcIiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcIm5vdGlmeVwiLCByZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QucmVqZWN0KHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQ4OSxcbiAgICAgICAgICAgIHJlYXNvblBocmFzZTogXCJCYWQgRXZlbnRcIlxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlZmVyQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuaW5pdFJlZmVyVG8gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciBzdHJpbmdPclVSSTtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIFJFRkVSIHdpdGhvdXQgUmVwbGFjZXMgKEJsaW5kIFRyYW5zZmVyKVxuICAgICAgICAgICAgdmFyIHRhcmdldFN0cmluZyA9IGNvcmVfMS5HcmFtbWFyLnBhcnNlKHRhcmdldCwgXCJSZWZlcl9Ub1wiKTtcbiAgICAgICAgICAgIHN0cmluZ09yVVJJID0gdGFyZ2V0U3RyaW5nICYmIHRhcmdldFN0cmluZy51cmkgPyB0YXJnZXRTdHJpbmcudXJpIDogdGFyZ2V0O1xuICAgICAgICAgICAgLy8gQ2hlY2sgdGFyZ2V0IHZhbGlkaXR5XG4gICAgICAgICAgICB2YXIgdGFyZ2V0VXJpID0gdGhpcy51YS5ub3JtYWxpemVUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0VXJpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFyZ2V0OiBcIiArIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJpbmdPclVSSSA9IHRhcmdldFVyaTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJFRkVSIHdpdGggUmVwbGFjZXMgKEF0dGVuZGVkIFRyYW5zZmVyKVxuICAgICAgICAgICAgaWYgKCF0YXJnZXQuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHRhcmdldC5yZW1vdGVJZGVudGl0eS5mcmllbmRseU5hbWU7XG4gICAgICAgICAgICB2YXIgcmVtb3RlVGFyZ2V0ID0gdGFyZ2V0LnNlc3Npb24ucmVtb3RlVGFyZ2V0LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgY2FsbElkID0gdGFyZ2V0LnNlc3Npb24uY2FsbElkO1xuICAgICAgICAgICAgdmFyIHJlbW90ZVRhZyA9IHRhcmdldC5zZXNzaW9uLnJlbW90ZVRhZztcbiAgICAgICAgICAgIHZhciBsb2NhbFRhZyA9IHRhcmdldC5zZXNzaW9uLmxvY2FsVGFnO1xuICAgICAgICAgICAgdmFyIHJlcGxhY2VzID0gZW5jb2RlVVJJQ29tcG9uZW50KGNhbGxJZCArIFwiO3RvLXRhZz1cIiArIHJlbW90ZVRhZyArIFwiO2Zyb20tdGFnPVwiICsgbG9jYWxUYWcpO1xuICAgICAgICAgICAgc3RyaW5nT3JVUkkgPSBcIlxcXCJcIiArIGRpc3BsYXlOYW1lICsgXCJcXFwiIDxcIiArIHJlbW90ZVRhcmdldCArIFwiP1JlcGxhY2VzPVwiICsgcmVwbGFjZXMgKyBcIj5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyaW5nT3JVUkk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVmZXJDbGllbnRDb250ZXh0O1xufShDbGllbnRDb250ZXh0XzEuQ2xpZW50Q29udGV4dCkpO1xuZXhwb3J0cy5SZWZlckNsaWVudENvbnRleHQgPSBSZWZlckNsaWVudENvbnRleHQ7XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWNsYXNzZXMtcGVyLWZpbGVcbnZhciBSZWZlclNlcnZlckNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmZXJTZXJ2ZXJDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZmVyU2VydmVyQ29udGV4dCh1YSwgaW5jb21pbmdSZXF1ZXN0LCBzZXNzaW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHVhLCBpbmNvbWluZ1JlcXVlc3QpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5SZWZlclNlcnZlckNvbnRleHQ7XG4gICAgICAgIF90aGlzLnVhID0gdWE7XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfSU5WSVRFX1JFQ0VJVkVEO1xuICAgICAgICBfdGhpcy5mcm9tVGFnID0gX3RoaXMucmVxdWVzdC5mcm9tVGFnO1xuICAgICAgICBfdGhpcy5pZCA9IF90aGlzLnJlcXVlc3QuY2FsbElkICsgX3RoaXMuZnJvbVRhZztcbiAgICAgICAgX3RoaXMuY29udGFjdCA9IF90aGlzLnVhLmNvbnRhY3QudG9TdHJpbmcoKTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLnJlZmVyc2VydmVyY29udGV4dFwiLCBfdGhpcy5pZCk7XG4gICAgICAgIC8vIE5lZWRlZCB0byBzZW5kIHRoZSBOT1RJRlknc1xuICAgICAgICBfdGhpcy5jc2VxID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuICAgICAgICBfdGhpcy5jYWxsSWQgPSBfdGhpcy5yZXF1ZXN0LmNhbGxJZDtcbiAgICAgICAgX3RoaXMuZnJvbVVyaSA9IF90aGlzLnJlcXVlc3QudG8udXJpO1xuICAgICAgICBfdGhpcy5mcm9tVGFnID0gX3RoaXMucmVxdWVzdC50by5wYXJhbWV0ZXJzLnRhZztcbiAgICAgICAgX3RoaXMucmVtb3RlVGFyZ2V0ID0gX3RoaXMucmVxdWVzdC5oZWFkZXJzLkNvbnRhY3RbMF0ucGFyc2VkLnVyaTtcbiAgICAgICAgX3RoaXMudG9VcmkgPSBfdGhpcy5yZXF1ZXN0LmZyb20udXJpO1xuICAgICAgICBfdGhpcy50b1RhZyA9IF90aGlzLnJlcXVlc3QuZnJvbVRhZztcbiAgICAgICAgX3RoaXMucm91dGVTZXQgPSBfdGhpcy5yZXF1ZXN0LmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIik7XG4gICAgICAgIC8vIFJGQyAzNTE1IDIuNC4xXG4gICAgICAgIGlmICghX3RoaXMucmVxdWVzdC5oYXNIZWFkZXIoXCJyZWZlci10b1wiKSkge1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJJbnZhbGlkIFJFRkVSIHBhY2tldC4gQSByZWZlci10byBoZWFkZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyByZWZlci5cIik7XG4gICAgICAgICAgICBfdGhpcy5yZWplY3QoKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5yZWZlclRvID0gX3RoaXMucmVxdWVzdC5wYXJzZUhlYWRlcihcInJlZmVyLXRvXCIpO1xuICAgICAgICAvLyBUT0RPOiBNdXN0IHNldCBleHBpcmF0aW9uIHRpbWVyIGFuZCBzZW5kIDIwMiBpZiB0aGVyZSBpcyBubyByZXNwb25zZSBieSB0aGVuXG4gICAgICAgIF90aGlzLnJlZmVycmVkU2Vzc2lvbiA9IF90aGlzLnVhLmZpbmRTZXNzaW9uKF90aGlzLnJlcXVlc3QpO1xuICAgICAgICBpZiAoX3RoaXMucmVxdWVzdC5oYXNIZWFkZXIoXCJyZWZlcnJlZC1ieVwiKSkge1xuICAgICAgICAgICAgX3RoaXMucmVmZXJyZWRCeSA9IF90aGlzLnJlcXVlc3QuZ2V0SGVhZGVyKFwicmVmZXJyZWQtYnlcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLnJlZmVyVG8udXJpLmhhc0hlYWRlcihcInJlcGxhY2VzXCIpKSB7XG4gICAgICAgICAgICBfdGhpcy5yZXBsYWNlcyA9IF90aGlzLnJlZmVyVG8udXJpLmdldEhlYWRlcihcInJlcGxhY2VzXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmVycm9yTGlzdGVuZXIgPSBfdGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB1YS50cmFuc3BvcnQub24oXCJ0cmFuc3BvcnRFcnJvclwiLCBfdGhpcy5lcnJvckxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWZlclNlcnZlckNvbnRleHQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnRyeWluZygpO1xuICAgIH07XG4gICAgUmVmZXJTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJSZWplY3RpbmcgcmVmZXJcIik7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlamVjdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmVtaXQoXCJyZWZlclJlcXVlc3RSZWplY3RlZFwiLCB0aGlzKTtcbiAgICB9O1xuICAgIFJlZmVyU2VydmVyQ29udGV4dC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMsIG1vZGlmaWVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LmFjY2VwdCh7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDIsXG4gICAgICAgICAgICByZWFzb25QaHJhc2U6IFwiQWNjZXB0ZWRcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbWl0KFwicmVmZXJSZXF1ZXN0QWNjZXB0ZWRcIiwgdGhpcyk7XG4gICAgICAgIGlmIChvcHRpb25zLmZvbGxvd1JlZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJBY2NlcHRlZCByZWZlciwgYXR0ZW1wdGluZyB0byBhdXRvbWF0aWNhbGx5IGZvbGxvdyBpdFwiKTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnJlZmVyVG8udXJpO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQuc2NoZW1lIHx8ICF0YXJnZXQuc2NoZW1lLm1hdGNoKFwiXnNpcHM/JFwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiU0lQLmpzIGNhbiBvbmx5IGF1dG9tYXRpY2FsbHkgZm9sbG93IFNJUCByZWZlciB0YXJnZXRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW52aXRlT3B0aW9ucyA9IG9wdGlvbnMuaW52aXRlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAoaW52aXRlT3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXBsYWNlcykge1xuICAgICAgICAgICAgICAgIC8vIGRlY29kZVVSSUNvbXBvbmVudCBpcyBhIGhvbGRvdmVyIGZyb20gMmMwODZlYjQuIE5vdCBzdXJlIHRoYXQgaXQgaXMgYWN0dWFsbHkgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJSZXBsYWNlczogXCIgKyBkZWNvZGVVUklDb21wb25lbnQodGhpcy5yZXBsYWNlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucmVmZXJyZWRCeSkge1xuICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVmZXJyZWQtQnk6IFwiICsgdGhpcy5yZWZlcnJlZEJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludml0ZU9wdGlvbnMuZXh0cmFIZWFkZXJzID0gZXh0cmFIZWFkZXJzO1xuICAgICAgICAgICAgdGFyZ2V0LmNsZWFySGVhZGVycygpO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRTZXNzaW9uID0gdGhpcy51YS5pbnZpdGUodGFyZ2V0LnRvU3RyaW5nKCksIGludml0ZU9wdGlvbnMsIG1vZGlmaWVycyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWZlckludml0ZVNlbnRcIiwgdGhpcyk7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRTZXNzaW9uLm9uY2UoXCJwcm9ncmVzc1wiLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlIHx8IDEwMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYXNvblBocmFzZSA9IHJlc3BvbnNlLnJlYXNvblBocmFzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VuZE5vdGlmeSgoXCJTSVAvMi4wIFwiICsgc3RhdHVzQ29kZSArIFwiIFwiICsgcmVhc29uUGhyYXNlKS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVmZXJQcm9ncmVzc1wiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWZlcnJlZFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZmVycmVkU2Vzc2lvbi5lbWl0KFwicmVmZXJQcm9ncmVzc1wiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFNlc3Npb24ub25jZShcImFjY2VwdGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIlN1Y2Nlc3NmdWxseSBmb2xsb3dlZCB0aGUgcmVmZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbmROb3RpZnkoXCJTSVAvMi4wIDIwMCBPS1wiKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlZmVyQWNjZXB0ZWRcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVmZXJyZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWZlcnJlZFNlc3Npb24uZW1pdChcInJlZmVyQWNjZXB0ZWRcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHJlZmVyRmFpbGVkID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBObyB0aHJvdyBoZXJlIGJlY2F1c2UgaXQgaXMgcG9zc2libGUgdGhpcyBnZXRzIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJSZWZlciB3YXMgbm90IHN1Y2Nlc3NmdWwuIFJlc3VtaW5nIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXNDb2RlID09PSA0MjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJBbGVydGluZyByZWZlcnJlciB0aGF0IGlkZW50aXR5IGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbmROb3RpZnkoXCJTSVAvMi4wIDQyOSBQcm92aWRlIFJlZmVycmVyIElkZW50aXR5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbmROb3RpZnkoXCJTSVAvMi4wIDYwMyBEZWNsaW5lZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTXVzdCBjaGFuZ2UgdGhlIHN0YXR1cyBhZnRlciBzZW5kaW5nIHRoZSBmaW5hbCBOb3RpZnkgb3IgaXQgd2lsbCBub3Qgc2VuZCBkdWUgdG8gY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVmZXJSZWplY3RlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWZlcnJlZFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZmVycmVkU2Vzc2lvbi5lbWl0KFwicmVmZXJSZWplY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRTZXNzaW9uLm9uY2UoXCJyZWplY3RlZFwiLCByZWZlckZhaWxlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRTZXNzaW9uLm9uY2UoXCJmYWlsZWRcIiwgcmVmZXJGYWlsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiQWNjZXB0ZWQgcmVmZXIsIGJ1dCBkaWQgbm90IGF1dG9tYXRpY2FsbHkgZm9sbG93IGl0XCIpO1xuICAgICAgICAgICAgdGhpcy5zZW5kTm90aWZ5KFwiU0lQLzIuMCAyMDAgT0tcIik7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWZlckFjY2VwdGVkXCIsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVmZXJyZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZlcnJlZFNlc3Npb24uZW1pdChcInJlZmVyQWNjZXB0ZWRcIiwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZmVyU2VydmVyQ29udGV4dC5wcm90b3R5cGUuc2VuZE5vdGlmeSA9IGZ1bmN0aW9uIChib2R5U3RyKSB7XG4gICAgICAgIC8vIEZJWE1FOiBQb3J0ZWQgdGhpcy4gQ2xlYW4gaXQgdXAuIFNlc3Npb24ga25vd3MgaXRzIHN0YXRlLlxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcmVfMS5HcmFtbWFyLnBhcnNlKGJvZHlTdHIsIFwic2lwZnJhZ1wiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInNpcGZyYWcgYm9keSBpcyByZXF1aXJlZCB0byBzZW5kIG5vdGlmeSBmb3IgcmVmZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSB7XG4gICAgICAgICAgICBjb250ZW50RGlzcG9zaXRpb246IFwicmVuZGVyXCIsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJtZXNzYWdlL3NpcGZyYWdcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGJvZHlTdHJcbiAgICAgICAgfTtcbiAgICAgICAgLy8gTk9USUZZIHJlcXVlc3RzIHNlbnQgaW4gc2FtZSBkaWFsb2cgYXMgaW4gZGlhbG9nIFJFRkVSLlxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ubm90aWZ5KHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVyczogW1xuICAgICAgICAgICAgICAgICAgICBcIkV2ZW50OiByZWZlclwiLFxuICAgICAgICAgICAgICAgICAgICBcIlN1YnNjcmlwdGlvbi1TdGF0ZTogdGVybWluYXRlZFwiLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgYm9keTogYm9keVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGltcGxpY2l0IHN1YnNjcmlwdGlvbiBjcmVhdGVkIGJ5IGEgUkVGRVIgaXMgdGhlIHNhbWUgYXMgYVxuICAgICAgICAvLyBzdWJzY3JpcHRpb24gY3JlYXRlZCB3aXRoIGEgU1VCU0NSSUJFIHJlcXVlc3QuICBUaGUgYWdlbnQgaXNzdWluZyB0aGVcbiAgICAgICAgLy8gUkVGRVIgY2FuIHRlcm1pbmF0ZSB0aGlzIHN1YnNjcmlwdGlvbiBwcmVtYXR1cmVseSBieSB1bnN1YnNjcmliaW5nXG4gICAgICAgIC8vIHVzaW5nIHRoZSBtZWNoYW5pc21zIGRlc2NyaWJlZCBpbiBbMl0uICBUZXJtaW5hdGluZyBhIHN1YnNjcmlwdGlvbixcbiAgICAgICAgLy8gZWl0aGVyIGJ5IGV4cGxpY2l0bHkgdW5zdWJzY3JpYmluZyBvciByZWplY3RpbmcgTk9USUZZLCBpcyBub3QgYW5cbiAgICAgICAgLy8gaW5kaWNhdGlvbiB0aGF0IHRoZSByZWZlcmVuY2VkIHJlcXVlc3Qgc2hvdWxkIGJlIHdpdGhkcmF3biBvclxuICAgICAgICAvLyBhYmFuZG9uZWQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNTE1I3NlY3Rpb24tMi40LjRcbiAgICAgICAgLy8gTk9USUZZIHJlcXVlc3RzIHNlbnQgaW4gbmV3IGRpYWxvZyBmb3Igb3V0IG9mIGRpYWxvZyBSRUZFUi5cbiAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIGJlIGRvbmUgaW4gYSBzdWJzY3JpYmUgZGlhbG9nIHRvIHNhdGlzZnkgdGhlIGFib3ZlLlxuICAgICAgICB2YXIgcmVxdWVzdCA9IHRoaXMudWEudXNlckFnZW50Q29yZS5tYWtlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZShDb25zdGFudHNfMS5DLk5PVElGWSwgdGhpcy5yZW1vdGVUYXJnZXQsIHRoaXMuZnJvbVVyaSwgdGhpcy50b1VyaSwge1xuICAgICAgICAgICAgY3NlcTogdGhpcy5jc2VxICs9IDEsXG4gICAgICAgICAgICBjYWxsSWQ6IHRoaXMuY2FsbElkLFxuICAgICAgICAgICAgZnJvbVRhZzogdGhpcy5mcm9tVGFnLFxuICAgICAgICAgICAgdG9UYWc6IHRoaXMudG9UYWcsXG4gICAgICAgICAgICByb3V0ZVNldDogdGhpcy5yb3V0ZVNldFxuICAgICAgICB9LCBbXG4gICAgICAgICAgICBcIkV2ZW50OiByZWZlclwiLFxuICAgICAgICAgICAgXCJTdWJzY3JpcHRpb24tU3RhdGU6IHRlcm1pbmF0ZWRcIixcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlOiBtZXNzYWdlL3NpcGZyYWdcIlxuICAgICAgICBdLCBib2R5KTtcbiAgICAgICAgdmFyIHRyYW5zcG9ydCA9IHRoaXMudWEudHJhbnNwb3J0O1xuICAgICAgICBpZiAoIXRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNwb3J0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZXIgPSB7XG4gICAgICAgICAgICBsb2dnZXJGYWN0b3J5OiB0aGlzLnVhLmdldExvZ2dlckZhY3RvcnkoKVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbmljID0gbmV3IGNvcmVfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpO1xuICAgIH07XG4gICAgUmVmZXJTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykgeyByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIG5hbWUsIGNhbGxiYWNrKTsgfTtcbiAgICByZXR1cm4gUmVmZXJTZXJ2ZXJDb250ZXh0O1xufShTZXJ2ZXJDb250ZXh0XzEuU2VydmVyQ29udGV4dCkpO1xuZXhwb3J0cy5SZWZlclNlcnZlckNvbnRleHQgPSBSZWZlclNlcnZlckNvbnRleHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzdHJpcFBheWxvYWQgPSBmdW5jdGlvbiAoc2RwLCBwYXlsb2FkKSB7XG4gICAgdmFyIG1lZGlhRGVzY3MgPSBbXTtcbiAgICB2YXIgbGluZXMgPSBzZHAuc3BsaXQoL1xcclxcbi8pO1xuICAgIHZhciBjdXJyZW50TWVkaWFEZXNjO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOykge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICBpZiAoL15tPSg/OmF1ZGlvfHZpZGVvKS8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgY3VycmVudE1lZGlhRGVzYyA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICBzdHJpcHBlZDogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtZWRpYURlc2NzLnB1c2goY3VycmVudE1lZGlhRGVzYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudE1lZGlhRGVzYykge1xuICAgICAgICAgICAgdmFyIHJ0cG1hcCA9IC9eYT1ydHBtYXA6KFxcZCspIChbXi9dKylcXC8vLmV4ZWMobGluZSk7XG4gICAgICAgICAgICBpZiAocnRwbWFwICYmIHBheWxvYWQgPT09IHJ0cG1hcFsyXSkge1xuICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50TWVkaWFEZXNjLnN0cmlwcGVkLnB1c2gocnRwbWFwWzFdKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gRG9uJ3QgaW5jcmVtZW50ICdpJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgZm9yICh2YXIgX2kgPSAwLCBtZWRpYURlc2NzXzEgPSBtZWRpYURlc2NzOyBfaSA8IG1lZGlhRGVzY3NfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIG1lZGlhRGVzYyA9IG1lZGlhRGVzY3NfMVtfaV07XG4gICAgICAgIHZhciBtbGluZSA9IGxpbmVzW21lZGlhRGVzYy5pbmRleF0uc3BsaXQoXCIgXCIpO1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpcnN0IDMgcGFyYW1ldGVycyBvZiB0aGUgbWxpbmUuIFRoZSBjb2RlYyBpbmZvcm1hdGlvbiBpcyBhZnRlciB0aGF0XG4gICAgICAgIGZvciAodmFyIGogPSAzOyBqIDwgbWxpbmUubGVuZ3RoOykge1xuICAgICAgICAgICAgaWYgKG1lZGlhRGVzYy5zdHJpcHBlZC5pbmRleE9mKG1saW5lW2pdKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtbGluZS5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgICAgbGluZXNbbWVkaWFEZXNjLmluZGV4XSA9IG1saW5lLmpvaW4oXCIgXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbGluZXMuam9pbihcIlxcclxcblwiKTtcbn07XG52YXIgc3RyaXBNZWRpYURlc2NyaXB0aW9uID0gZnVuY3Rpb24gKHNkcCwgZGVzY3JpcHRpb24pIHtcbiAgICB2YXIgZGVzY3JpcHRpb25SZWdFeHAgPSBuZXcgUmVnRXhwKFwibT1cIiArIGRlc2NyaXB0aW9uICsgXCIuKiRcIiwgXCJnbVwiKTtcbiAgICB2YXIgZ3JvdXBSZWdFeHAgPSBuZXcgUmVnRXhwKFwiXmE9Z3JvdXA6LiokXCIsIFwiZ21cIik7XG4gICAgaWYgKGRlc2NyaXB0aW9uUmVnRXhwLnRlc3Qoc2RwKSkge1xuICAgICAgICB2YXIgbWlkTGluZVRvUmVtb3ZlXzE7XG4gICAgICAgIHNkcCA9IHNkcC5zcGxpdCgvXm09L2dtKS5maWx0ZXIoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChzZWN0aW9uLnN1YnN0cigwLCBkZXNjcmlwdGlvbi5sZW5ndGgpID09PSBkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIG1pZExpbmVUb1JlbW92ZV8xID0gc2VjdGlvbi5tYXRjaCgvXmE9bWlkOi4qJC9nbSk7XG4gICAgICAgICAgICAgICAgaWYgKG1pZExpbmVUb1JlbW92ZV8xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGVwID0gbWlkTGluZVRvUmVtb3ZlXzFbMF0ubWF0Y2goLzouKyQvZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRMaW5lVG9SZW1vdmVfMSA9IHN0ZXBbMF0uc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KS5qb2luKFwibT1cIik7XG4gICAgICAgIHZhciBncm91cExpbmUgPSBzZHAubWF0Y2goZ3JvdXBSZWdFeHApO1xuICAgICAgICBpZiAoZ3JvdXBMaW5lICYmIGdyb3VwTGluZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHZhciBncm91cExpbmVQb3J0aW9uID0gZ3JvdXBMaW5lWzBdO1xuICAgICAgICAgICAgdmFyIGdyb3VwUmVnRXhwUmVwbGFjZSA9IG5ldyBSZWdFeHAoXCJcXCAqXCIgKyBtaWRMaW5lVG9SZW1vdmVfMSArIFwiW15cXCBdKlwiLCBcImdcIik7XG4gICAgICAgICAgICBncm91cExpbmVQb3J0aW9uID0gZ3JvdXBMaW5lUG9ydGlvbi5yZXBsYWNlKGdyb3VwUmVnRXhwUmVwbGFjZSwgXCJcIik7XG4gICAgICAgICAgICBzZHAgPSBzZHAuc3BsaXQoZ3JvdXBSZWdFeHApLmpvaW4oZ3JvdXBMaW5lUG9ydGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNkcDtcbn07XG5mdW5jdGlvbiBzdHJpcFRjcENhbmRpZGF0ZXMoZGVzY3JpcHRpb24pIHtcbiAgICBkZXNjcmlwdGlvbi5zZHAgPSAoZGVzY3JpcHRpb24uc2RwIHx8IFwiXCIpLnJlcGxhY2UoL15hPWNhbmRpZGF0ZTpcXGQrIFxcZCsgdGNwIC4qP1xcclxcbi9pbWcsIFwiXCIpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzY3JpcHRpb24pO1xufVxuZXhwb3J0cy5zdHJpcFRjcENhbmRpZGF0ZXMgPSBzdHJpcFRjcENhbmRpZGF0ZXM7XG5mdW5jdGlvbiBzdHJpcFRlbGVwaG9uZUV2ZW50KGRlc2NyaXB0aW9uKSB7XG4gICAgZGVzY3JpcHRpb24uc2RwID0gc3RyaXBQYXlsb2FkKGRlc2NyaXB0aW9uLnNkcCB8fCBcIlwiLCBcInRlbGVwaG9uZS1ldmVudFwiKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2NyaXB0aW9uKTtcbn1cbmV4cG9ydHMuc3RyaXBUZWxlcGhvbmVFdmVudCA9IHN0cmlwVGVsZXBob25lRXZlbnQ7XG5mdW5jdGlvbiBjbGVhbkppdHNpU2RwSW1hZ2VhdHRyKGRlc2NyaXB0aW9uKSB7XG4gICAgZGVzY3JpcHRpb24uc2RwID0gKGRlc2NyaXB0aW9uLnNkcCB8fCBcIlwiKS5yZXBsYWNlKC9eKGE9aW1hZ2VhdHRyOi4qPykoeHx5KT1cXFswLS9nbSwgXCIkMSQyPVsxOlwiKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2NyaXB0aW9uKTtcbn1cbmV4cG9ydHMuY2xlYW5KaXRzaVNkcEltYWdlYXR0ciA9IGNsZWFuSml0c2lTZHBJbWFnZWF0dHI7XG5mdW5jdGlvbiBzdHJpcEc3MjIoZGVzY3JpcHRpb24pIHtcbiAgICBkZXNjcmlwdGlvbi5zZHAgPSBzdHJpcFBheWxvYWQoZGVzY3JpcHRpb24uc2RwIHx8IFwiXCIsIFwiRzcyMlwiKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2NyaXB0aW9uKTtcbn1cbmV4cG9ydHMuc3RyaXBHNzIyID0gc3RyaXBHNzIyO1xuZnVuY3Rpb24gc3RyaXBSdHBQYXlsb2FkKHBheWxvYWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGRlc2NyaXB0aW9uLnNkcCA9IHN0cmlwUGF5bG9hZChkZXNjcmlwdGlvbi5zZHAgfHwgXCJcIiwgcGF5bG9hZCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzY3JpcHRpb24pO1xuICAgIH07XG59XG5leHBvcnRzLnN0cmlwUnRwUGF5bG9hZCA9IHN0cmlwUnRwUGF5bG9hZDtcbmZ1bmN0aW9uIHN0cmlwVmlkZW8oZGVzY3JpcHRpb24pIHtcbiAgICBkZXNjcmlwdGlvbi5zZHAgPSBzdHJpcE1lZGlhRGVzY3JpcHRpb24oZGVzY3JpcHRpb24uc2RwIHx8IFwiXCIsIFwidmlkZW9cIik7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjcmlwdGlvbik7XG59XG5leHBvcnRzLnN0cmlwVmlkZW8gPSBzdHJpcFZpZGVvO1xuZnVuY3Rpb24gYWRkTWlkTGluZXMoZGVzY3JpcHRpb24pIHtcbiAgICB2YXIgc2RwID0gZGVzY3JpcHRpb24uc2RwIHx8IFwiXCI7XG4gICAgaWYgKHNkcC5zZWFyY2goL15hPW1pZC4qJC9nbSkgPT09IC0xKSB7XG4gICAgICAgIHZhciBtbGluZXNfMSA9IHNkcC5tYXRjaCgvXm09LiokL2dtKTtcbiAgICAgICAgdmFyIHNkcEFycmF5XzEgPSBzZHAuc3BsaXQoL15tPS4qJC9nbSk7XG4gICAgICAgIGlmIChtbGluZXNfMSkge1xuICAgICAgICAgICAgbWxpbmVzXzEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgbWxpbmVzXzFbaWR4XSA9IGVsZW0gKyBcIlxcbmE9bWlkOlwiICsgaWR4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2RwQXJyYXlfMS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtLCBpZHgpIHtcbiAgICAgICAgICAgIGlmIChtbGluZXNfMSAmJiBtbGluZXNfMVtpZHhdKSB7XG4gICAgICAgICAgICAgICAgc2RwQXJyYXlfMVtpZHhdID0gZWxlbSArIG1saW5lc18xW2lkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZHAgPSBzZHBBcnJheV8xLmpvaW4oXCJcIik7XG4gICAgICAgIGRlc2NyaXB0aW9uLnNkcCA9IHNkcDtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjcmlwdGlvbik7XG59XG5leHBvcnRzLmFkZE1pZExpbmVzID0gYWRkTWlkTGluZXM7XG4iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcbiIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iLCJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcbiIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuIiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iLCIvLyAwIC0+IEFycmF5I2ZvckVhY2hcbi8vIDEgLT4gQXJyYXkjbWFwXG4vLyAyIC0+IEFycmF5I2ZpbHRlclxuLy8gMyAtPiBBcnJheSNzb21lXG4vLyA0IC0+IEFycmF5I2V2ZXJ5XG4vLyA1IC0+IEFycmF5I2ZpbmRcbi8vIDYgLT4gQXJyYXkjZmluZEluZGV4XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgYXNjID0gcmVxdWlyZSgnLi9fYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRZUEUsICRjcmVhdGUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBOT19IT0xFUyA9IFRZUEUgPT0gNSB8fCBJU19GSU5EX0lOREVYO1xuICB2YXIgY3JlYXRlID0gJGNyZWF0ZSB8fCBhc2M7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGNhbGxiYWNrZm4sIHRoYXQpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgc2VsZiA9IElPYmplY3QoTyk7XG4gICAgdmFyIGYgPSBjdHgoY2FsbGJhY2tmbiwgdGhhdCwgMyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKHNlbGYubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciByZXN1bHQgPSBJU19NQVAgPyBjcmVhdGUoJHRoaXMsIGxlbmd0aCkgOiBJU19GSUxURVIgPyBjcmVhdGUoJHRoaXMsIDApIDogdW5kZWZpbmVkO1xuICAgIHZhciB2YWwsIHJlcztcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgIHZhbCA9IHNlbGZbaW5kZXhdO1xuICAgICAgcmVzID0gZih2YWwsIGluZGV4LCBPKTtcbiAgICAgIGlmIChUWVBFKSB7XG4gICAgICAgIGlmIChJU19NQVApIHJlc3VsdFtpbmRleF0gPSByZXM7ICAgLy8gbWFwXG4gICAgICAgIGVsc2UgaWYgKHJlcykgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHZhbDsgICAgICAgICAgICAgIC8vIGZpbmRcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBpbmRleDsgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICBjYXNlIDI6IHJlc3VsdC5wdXNoKHZhbCk7ICAgICAgICAvLyBmaWx0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChJU19FVkVSWSkgcmV0dXJuIGZhbHNlOyAvLyBldmVyeVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogcmVzdWx0O1xuICB9O1xufTtcbiIsInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgQlJFQUsgPSB7fTtcbnZhciBSRVRVUk4gPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUikge1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyYWJsZTsgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSk7XG4gIHZhciBmID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0O1xuICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmIChpc0FycmF5SXRlcihpdGVyRm4pKSBmb3IgKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOykge1xuICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBUWVBFKSB7XG4gIGlmICghaXNPYmplY3QoaXQpIHx8IGl0Ll90ICE9PSBUWVBFKSB0aHJvdyBUeXBlRXJyb3IoJ0luY29tcGF0aWJsZSByZWNlaXZlciwgJyArIFRZUEUgKyAnIHJlcXVpcmVkIScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdlczYtZXZlbnQtZW1pdHRlcic7XG5cbmV4cG9ydCBjbGFzcyBDZGN0c0NhbGwgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gIC8qKlxuICAqIENyZWF0ZSBhIENkY3RzQ2FsbC4gTm9ybWFsbHkgY3JlYXRlZCBieSBDZGN0c0RldmljZS5cbiAgKlxuICAqIE9uY2UgYSBjYWxsIGlzIGNyZWF0ZWQsIHlvdSBjYW4gZWl0aGVyIG1ha2UgYSBjYWxsIHdpdGggYG1ha2VDYWxsKClgXG4gICogb3Igc2V0IHlvdXJzZWxmIHVwIHRvIHJlY2lldmUgYW4gaW5jb21pbmcgY2FsbCB3aXRoIGBpbmNvbWluZ0NhbGwoKWBcbiAgKlxuICAqIEBwYXJhbSB7VUF9IFVBIC0gQSBTSVAuanMgVXNlciBBZ2VudFxuICAqIEBwYXJhbSB7U3RyaW5nfSBpbnZpdGVVcmkgLSBBIFByb3Blcmx5IGZvcm1hdHRlZCBTSVAuanMgaW52aXRlIFVSSSAoY3JlYXRlIHdpdGggU0lQLlVSSSlcbiAgKlxuICAqIEBlbWl0cyBDZGN0c0NhbGwjY29ubmVjdGluZ1xuICAqL1xuICBjb25zdHJ1Y3RvcihVQSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fbXV0ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3N0YXR1cyA9ICdzdGFydGluZyc7XG4gICAgdGhpcy5fY2FsbFR5cGUgPSAnJztcbiAgICB0aGlzLlVBID0gVUE7XG4gICAgdGhpcy5fZG9jQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG4gICAgdGhpcy5hdWRpb0VsZW1lbnQgPSBmYWxzZTtcblxuICAgIHRoaXMuVUEuc3RhcnQoKTtcblxuICB9XG5cbiAgLyoqXG4gICogTWFrZSBhIGNhbGwgdG8gYSBwaG9uZSBudW1iZXJcbiAgKlxuICAqIEBwYXJhbSB7VVJJfSBpbnZpdGVVcmkgLSBBIFNJUC5qcyBVUkkgdGhhdCBpbmNsdWRlcyB0aGUgcGhvbmUgbnVtYmVyIHRvIGNvbm5lY3QgdG9cbiAgKi9cbiAgbWFrZUNhbGwoaW52aXRlVXJpKSB7XG4gICAgdGhpcy5fY2FsbFR5cGUgPSAnb3V0Z29pbmcnO1xuICAgIHRoaXMuX3Nlc3Npb24gPSB0aGlzLlVBLmludml0ZShpbnZpdGVVcmksIHRoaXMuX2dldEF1ZGlvRWxlbWVudCgpKTtcbiAgICB0aGlzLl9hdHRhdGNoU2Vzc2lvbkV2ZW50cyh0aGlzLl9zZXNzaW9uKTtcbiAgfVxuXG4gIC8qKlxuICAqIFNldCB1cCB0byBoYW5kbGUgYW4gaW5jb21pbmcgY2FsbC5cbiAgKiBUaGUgY2FsbGluZyBmdW5jdGlvbiB3aWxsIHRoZW4gYmUgYWJsZSB0byBhY2NlcHQgb3IgcmVqZWN0IHRoZSBjYWxsLlxuICAqXG4gICogQHBhcmFtIHtTZXNzaW9ufSBzZXNzaW9uIC0gQSBTSVAuanMgU2Vzc2lvbiwgc3BlY2lmaWNhbGx5IG9mIHRoZSBTSVAuU2VydmVyQ29udGV4dCB0eXBlXG4gICovXG4gIGluY29taW5nQ2FsbChzZXNzaW9uKSB7XG4gICAgdGhpcy5fY2FsbFR5cGUgPSAnaW5jb21pbmcnO1xuICAgIHRoaXMuX3Nlc3Npb24gPSBzZXNzaW9uO1xuICAgIHRoaXMuX2F0dGF0Y2hTZXNzaW9uRXZlbnRzKCk7XG4gIH1cblxuXG4gIF9nZXRBdWRpb0VsZW1lbnQoKSB7XG4gICAgaWYgKCF0aGlzLmF1ZGlvRWxlbWVudCkge1xuICAgICAgdGhpcy5hdWRpb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgdGhpcy5hdWRpb0VsZW1lbnQuY2xhc3NOYW1lID0gJ2NkY3RzLXNpcGpzLXJlbW90ZS1hdWRpbyc7XG4gICAgICB0aGlzLl9kb2NCb2R5LmFwcGVuZENoaWxkKHRoaXMuYXVkaW9FbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXVkaW9FbGVtZW50O1xuICB9XG5cbiAgX2F0dGF0Y2hTZXNzaW9uRXZlbnRzKHNlc3Npb24pIHtcbiAgICAvKipcbiAgICAqIGNvbm5lY3RpbmcgZXZlbnQ6XG4gICAgKlxuICAgICogRmlyZWQgYXMgdGhlIHN5c3RlbSBzdGFydHMgdG8gbWFrZSB0aGUgY29ubmVjdGlvbi5cbiAgICAqIFRoaXMgaXMgYWZ0ZXIgdGhlIHVzZXJNZWRpYSAobWljcm9waG9uZSkgaGFzIGJlZW4gYXF1aXJlZC5cbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI2Nvbm5lY3RpbmdcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwiY29ubmVjdGluZ1wiLCAoKSA9PiB7IHRoaXMudHJpZ2dlcihcImNvbm5lY3RpbmdcIik7IHRoaXMuX3N0YXR1cyA9ICdpbml0aWF0aW5nJzsgfSk7XG5cbiAgICAvKipcbiAgICAqIHByb2dyZXNzIGV2ZW50OlxuICAgICpcbiAgICAqIFVzdWFsbHkgZmlyZWQgdHdpY2UgZHVyaW5nIGNhbGwgaW50aWFsaXphdGlvbiwgb25jZSBmb3IgVFJZSU5HIGFuZCBvbmNlIGZvciBSSU5HSU5HLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjcHJvZ3Jlc3NcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gcmVzcG9uc2UgLSBEZXRhaWxzIG9mIHRoZSByZXNwb25zZVxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcInByb2dyZXNzXCIsIChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT0gMTgzICYmIHJlc3BvbnNlLmJvZHkgJiYgdGhpcy5fc2Vzc2lvbi5oYXNPZmZlciAmJiAhdGhpcy5fc2Vzc2lvbi5kaWFsb2cpIHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5oYXNIZWFkZXIoJ3JlcXVpcmUnKSB8fCByZXNwb25zZS5nZXRIZWFkZXIoJ3JlcXVpcmUnKS5pbmRleE9mKCcxMDByZWwnKSA9PT0gLTEpIHtcbiAgICAgICAgICBpZiAodGhpcy5fc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlc3BvbnNlLmdldEhlYWRlcignQ29udGVudC1UeXBlJykpKSB7XG4gICAgICAgICAgICAvLyBAaGFjazogaHR0cHM6Ly9naXRodWIuY29tL29uc2lwL1NJUC5qcy9pc3N1ZXMvMjQyXG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uLnN0YXR1cyA9IFNJUC5TZXNzaW9uLkMuU1RBVFVTX0VBUkxZX01FRElBXG4gICAgICAgICAgICB0aGlzLl93YWl0aW5nRm9yQXBwbHlpbmdBbnN3ZXIoc2Vzc2lvbiwgcmVzcG9uc2UpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnRyaWdnZXIoXCJwcm9ncmVzc1wiLCByZXNwb25zZSlcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICogYWNjZXB0ZWQgZXZlbnQ6XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgY2FsbCB3YXMgYWNjZXB0ZWQgYnkgdGhlIGNhbGxlZS4gVGhlIGNhbGwgaXMgbm93IGNvbm5lY3RlZC5cbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI2FjY2VwdGVkXG4gICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGEgLSBEZXRhaWxzIG9mIHRoZSByZXNwb25zZVxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcImFjY2VwdGVkXCIsIChkYXRhKSA9PiB7IHRoaXMudHJpZ2dlcihcImFjY2VwdGVkXCIsIGRhdGEpLCB0aGlzLl9zdGF0dXMgPSAnY29ubmVjdGVkJzsgfSk7XG5cbiAgICAvKipcbiAgICAqIGR0bWYgZXZlbnQ6XG4gICAgKlxuICAgICogU2VudCB3aGVuIHRoZSB1c2VyIGhhcyBzdWNjZXNzZnVsbHkgc2VudCBhIERUTUYgKGtleXBhZCkgc2lnbmFsLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjZHRtZlxuICAgICogQHR5cGUge29iamVjdH1cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXF1ZXN0IC0gRGV0YWlscyBvZiB0aGUgcmVxdWVzdFxuICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGR0bWYgLSB0aGUga2V5KHMpIHRoYXQgd2VyZSBzdWJtaXR0ZWRcbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJkdG1mXCIsIChyZXF1ZXN0LCBkdG1mKSA9PiB0aGlzLnRyaWdnZXIoXCJkdG1mXCIsIHJlcXVlc3QsIGR0bWYpKTtcblxuICAgIC8qKlxuICAgICogbXV0ZWQgZXZlbnQ6XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgc3lzdGVtIGhhcyBzdWNjZXNzZnVsbHkgcmVzcG9uZGVkIHRvIGEgbXV0ZSByZXF1ZXN0LlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0NhbGwjbXV0ZWRcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gZGF0YSAtIERldGFpbHMgb2YgdGhlIHJlc3BvbnNlXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwibXV0ZWRcIiwgKGRhdGEpID0+IHRoaXMudHJpZ2dlcihcIm11dGVkXCIsIGRhdGEpKTtcblxuICAgIC8qKlxuICAgICogdW5tdXRlZCBldmVudFxuICAgICpcbiAgICAqIEZpcmVkIHdoZW4gdGhlIHN5c3RlbSBoYXMgc3VjY2Vzc2Z1bGx5IHJlc3BvbmRlZCB0byBhbiB1bm11dGUgcmVxdWVzdC5cbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI3VubXV0ZWRcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gZGF0YSAtIERldGFpbHMgb2YgdGhlIHJlc3BvbnNlXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwidW5tdXRlZFwiLCAoZGF0YSkgPT4gdGhpcy50cmlnZ2VyKFwidW5tdXRlZFwiLCBkYXRhKSk7XG5cbiAgICAvKipcbiAgICAqIGNhbmNlbCBldmVudDpcbiAgICAqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBjYWxsIHdhcyB0ZXJtaW5hdGVkIGJlZm9yZSBlbmQgdG8gZW5kIGNvbm5lY3Rpb24gd2FzIGVzdGFibGlzaGVkLFxuICAgICogdXN1YWxseSBieSB0aGUgdXNlcidzIHJlcXVlc3QuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzQ2FsbCNjYW5jZWxcbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJjYW5jZWxcIiwgKCkgPT4geyB0aGlzLnRyaWdnZXIoXCJjYW5jZWxcIik7IHRoaXMuX3N0YXR1cyA9ICdlbmRlZCcgfSk7XG5cbiAgICAvKipcbiAgICAqIHJlZmVyIGV2ZW50XG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzQ2FsbCNyZWZlclxuICAgICogQHByb3BlcnR5IHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZVxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IG5ld1Nlc3Npb25cbiAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb24ub24oXCJyZWZlclwiLCAoY2FsbGJhY2ssIHJlc3BvbnNlLCBuZXdTZXNzaW9uKSA9PiB7IHRoaXMudHJpZ2dlcihcInJlamVjdGVkXCIpOyB9KTtcblxuICAgIC8qKlxuICAgICogcmVwbGFjZWQgZXZlbnRcbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI3JlcGxhY2VkXG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gbmV3U2Vzc2lvblxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcInJlcGxhY2VkXCIsIChuZXdTZXNzaW9uKSA9PiB7IHRoaXMudHJpZ2dlcihcInJlamVjdGVkXCIsIG5ld1Nlc3Npb24pOyB9KTtcblxuICAgIC8qKlxuICAgICogcmVqZWN0ZWQgZXZlbnRcbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI3JlamVjdGVkXG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gcmVzcG9uc2VcbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjYXVzZVxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcInJlamVjdGVkXCIsIChyZXNwb25zZSwgY2F1c2UpID0+IHsgdGhpcy50cmlnZ2VyKFwicmVqZWN0ZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTsgdGhpcy5fc3RhdHVzID0gJ2VuZGVkJyB9KTtcblxuICAgIC8qKlxuICAgICogZmFpbGVkIGV2ZW50XG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzQ2FsbCNmYWlsZWRcbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZVxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNhdXNlXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwiZmFpbGVkXCIsIChyZXNwb25zZSwgY2F1c2UpID0+IHsgdGhpcy50cmlnZ2VyKFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7IHRoaXMuX3N0YXR1cyA9ICdlbmRlZCcgfSk7XG5cbiAgICAvKipcbiAgICAqIHRlcm1pbmF0ZWQgZXZlbnRcbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI3Rlcm1pbmF0ZWRcbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZVxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IGNhdXNlXG4gICAgKi9cbiAgICB0aGlzLl9zZXNzaW9uLm9uKFwidGVybWluYXRlZFwiLCAobWVzc2FnZSwgY2F1c2UpID0+IHsgdGhpcy50cmlnZ2VyKFwidGVybWluYXRlZFwiLCBtZXNzYWdlLCBjYXVzZSk7IHRoaXMuX3N0YXR1cyA9ICdlbmRlZCc7IH0pO1xuXG4gICAgLyoqXG4gICAgKiBieWUgZXZlbnRcbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI2J5ZVxuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbihcImJ5ZVwiLCAoKSA9PiB7IHRoaXMudHJpZ2dlcihcImJ5ZVwiKTsgdGhpcy5fc3RhdHVzID0gJ2VuZGVkJyB9KTtcblxuICAgIC8qKlxuICAgICogdXNlck1lZGlhUmVxdWVzdCBldmVudDpcbiAgICAqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBldmVyeSB0aW1lIHRoZSBzeXN0ZW0gY2hlY2tzIHRvIHNlZSBpZiBpdCBoYXMgbWljcm9waG9uZSBwZXJtaXNzaW9uIGZyb20gdGhlIHVzZXIuXG4gICAgKiBZb3UgY2FuIHVzZSB0aGlzIHRvIGRldGVjdCB3aGVuIHRoZSBicm93c2VyJ3MgXCJBbGxvdyB3ZWJzaXRlIHRvIHVzZSBtaWNyb3Bob25lXCIgZGlhbG9nIGlzIG9wZW4sXG4gICAgKiBidXQgeW91IHdpbGwgbmVlZCB0byBiZSBzb21ld2hhdCBjYXJlZnVsLiBUaGlzIGV2ZW50IHdpbGwgZmlyZSBldmVuIGlmIHRoZSB1c2VyIGFscmVhZHkgaGFzXG4gICAgKiBnaXZlbiBwZXJtaXNzaW9uLCB0aGVuIHdpbGwgYmUgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYSB7QGxpbmsgQ2RjdHNDYWxsI3VzZXJNZWRpYX0gZXZlbnQuXG4gICAgKiBJZiB5b3Ugd2lzaCB0byBoYXZlIHlvdXIgVUkgZGlzcGxheSBzb21lIHNvcnQgb2YgXCJhc2tpbmcgZm9yIHBlcm1pc3Npb25cIiBlbGVtZW50LCB5b3UgbWF5IG5lZWQgdG9cbiAgICAqIGRlYm91bmNlIHRoaXMgZXZlbnQ7IGxpc3RlbmluZyBmb3Ige0BsaW5rIENkY3RzQ2FsbCN1c2VyTWVkaWF9IHRvIGNhbmNlbCB5b3VyIFVJIHVwZGF0ZS5cbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNDYWxsI3VzZXJNZWRpYVJlcXVlc3RcbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjb25zdHJhaW50c1xuICAgICovXG4gICAgdGhpcy5fc2Vzc2lvbi5vbigndHJhY2tBZGRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgIHZhciBwYyA9IHNlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wZWVyQ29ubmVjdGlvbjtcbiAgICAgICAgLy8gdmFyIHRoaXMuYXVkaW9FbGVtZW50ID0gdGhpcy5hdWRpb0VsZW1lbnQ7XG4gICAgICAgIC8vIHRoaXMuYXVkaW9FbGVtZW50LmNsYXNzTmFtZSA9ICdjZGN0cy1zaXBqcy1yZW1vdGUtYXVkaW8nO1xuICAgICAgICB2YXIgcmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG4gICAgICAgIHBjLmdldFJlY2VpdmVycygpLmZvckVhY2goZnVuY3Rpb24gKHJlY2VpdmVyKSB7XG4gICAgICAgICAgcmVtb3RlU3RyZWFtLmFkZFRyYWNrKHJlY2VpdmVyLnRyYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2Ygc2Vzc2lvbi5wYXNzZWRPcHRpb25zLnNyY09iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZXNzaW9uLnBhc3NlZE9wdGlvbnMuc3JjT2JqZWN0ID0gcmVtb3RlU3RyZWFtO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZXNzaW9uLnBhc3NlZE9wdGlvbnMubW96U3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlc3Npb24ucGFzc2VkT3B0aW9ucy5tb3pTcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlc3Npb24ucGFzc2VkT3B0aW9ucy5zcmMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2Vzc2lvbi5wYXNzZWRPcHRpb25zLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVtb3RlU3RyZWFtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LicpO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb24ucGFzc2VkT3B0aW9ucy5wbGF5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJ1c2VyTWVkaWFSZXF1ZXN0XCIsIChjb25zdHJhaW50cykgPT4ge3RoaXMudHJpZ2dlcihcInVzZXJNZWRpYVJlcXVlc3RcIiwgY29uc3RyYWludHMpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiB1c2VyTWVkaWEgZXZlbnQ6XG4gICAgLy8gKlxuICAgIC8vICogRmlyZWQgd2hlbiB0aGUgc3lzdGVtIGhhcyBhcXVpcmVkIHBlcm1pc3Npb24gdG8gdXNlIHRoZSBtaWNyb3Bob25lLiBUaGlzIHdpbGwgaGFwcGVuIGVpdGhlclxuICAgIC8vICogaW1tZWRpYXRlbHkgYWZ0ZXIge0BsaW5rIENkY3RzQ2FsbCN1c2VyTWVkaWFSZXF1ZXN0fSBpZiB0aGUgdXNlciBoYXMgcHJldmlvdXNseSBnaXZlbiBwZXJtaXNzaW9uXG4gICAgLy8gKiBvciBhZnRlciB0aGUgdXNlciBhcHByb3ZlcyB0aGUgcmVxdWVzdC5cbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI3VzZXJNZWRpYVxuICAgIC8vICogQHByb3BlcnR5IHtvYmplY3R9IHN0cmVhbVxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJ1c2VyTWVkaWFcIiwgKHN0cmVhbSkgPT4ge3RoaXMudHJpZ2dlcihcInVzZXJNZWRpYVwiLCBzdHJlYW0pO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiB1c2VyTWVkaWFGYWlsZWQgZXZlbnQ6XG4gICAgLy8gKlxuICAgIC8vICogRmlyZWQgd2hlbiB0aGUgdXNlciByZWZ1c2VzIHBlcm1pc3Npb24gdG8gdXNlIHRoZSBtaWNyb3Bob25lLiBUaGVyZSBpcyBubyB3YXkgYmFjayBmcm9tIHRoaXNcbiAgICAvLyAqIGV4Y2VwdCBmb3IgdGhlIHVzZXIgdG8gZ28gaW50byBicm93c2VyIHNldHRpbmdzIGFuZCByZW1vdmUgdGhlIGV4Y2VwdGlvbiBmb3IgeW91ciBzaXRlLlxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjdXNlck1lZGlhRmFpbGVkXG4gICAgLy8gKiBAcHJvcGVydHkge29iamVjdH0gZXJyb3JcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwidXNlck1lZGlhRmFpbGVkXCIsIChlcnJvcikgPT4ge3RoaXMudHJpZ2dlcihcInVzZXJNZWRpYUZhaWxlZFwiLCBlcnJvcik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUdhdGhlcmluZyBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjaWNlR2F0aGVyaW5nXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImljZUdhdGhlcmluZ1wiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlR2F0aGVyaW5nXCIpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBpY2VDYW5kaWRhdGUgZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2ljZUNhbmRpZGF0ZVxuICAgIC8vICogQHByb3BlcnR5IHtvYmplY3R9IGNhbmRpZGF0ZVxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJpY2VDYW5kaWRhdGVcIiwgKGNhbmRpZGF0ZSkgPT4ge3RoaXMudHJpZ2dlcihcImljZUNhbmRpZGF0ZVwiLCBjYW5kaWRhdGUpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBpY2VHYXRoZXJpbmdDb21wbGV0ZSBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjaWNlR2F0aGVyaW5nQ29tcGxldGVcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlR2F0aGVyaW5nQ29tcGxldGVcIiwgKCkgPT4ge3RoaXMudHJpZ2dlcihcImljZUdhdGhlcmluZ0NvbXBsZXRlXCIpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBpY2VDb25uZWN0aW9uIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNpY2VDb25uZWN0aW9uXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImljZUNvbm5lY3Rpb25cIiwgKCkgPT4ge3RoaXMudHJpZ2dlcihcImljZUNvbm5lY3Rpb25cIik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUNvbm5lY3Rpb25DaGVja2luZyBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjaWNlQ29ubmVjdGlvbkNoZWNraW5nXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImljZUNvbm5lY3Rpb25DaGVja2luZ1wiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlQ29ubmVjdGlvbkNoZWNraW5nXCIpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBpY2VDb25uZWN0aW9uQ29ubmVjdGVkIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNpY2VDb25uZWN0aW9uQ29ubmVjdGVkXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImljZUNvbm5lY3Rpb25Db25uZWN0ZWRcIiwgKCkgPT4ge3RoaXMudHJpZ2dlcihcImljZUNvbm5lY3Rpb25Db25uZWN0ZWRcIik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUNvbm5lY3Rpb25Db21wbGV0ZWQgZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2ljZUNvbm5lY3Rpb25Db21wbGV0ZWRcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlQ29ubmVjdGlvbkNvbXBsZXRlZFwiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlQ29ubmVjdGlvbkNvbXBsZXRlZFwiKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogaWNlQ29ubmVjdGlvbkZhaWxlZCBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjaWNlQ29ubmVjdGlvbkZhaWxlZFxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJpY2VDb25uZWN0aW9uRmFpbGVkXCIsICgpID0+IHt0aGlzLnRyaWdnZXIoXCJpY2VDb25uZWN0aW9uRmFpbGVkXCIpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBpY2VDb25uZWN0aW9uRGlzY29ubmVjdGVkIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNpY2VDb25uZWN0aW9uRGlzY29ubmVjdGVkXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImljZUNvbm5lY3Rpb25EaXNjb25uZWN0ZWRcIiwgKCkgPT4ge3RoaXMudHJpZ2dlcihcImljZUNvbm5lY3Rpb25EaXNjb25uZWN0ZWRcIik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGljZUNvbm5lY3Rpb25DbG9zZWQgZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2ljZUNvbm5lY3Rpb25DbG9zZWRcbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiaWNlQ29ubmVjdGlvbkNsb3NlZFwiLCAoKSA9PiB7dGhpcy50cmlnZ2VyKFwiaWNlQ29ubmVjdGlvbkNsb3NlZFwiKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogZ2V0RGVzY3JpcHRpb24gZXZlbnRcbiAgICAvLyAqXG4gICAgLy8gKiBAZXZlbnQgQ2RjdHNDYWxsI2dldERlc2NyaXB0aW9uXG4gICAgLy8gKiBAcHJvcGVydHkge29iamVjdH0gc2RwV3JhcHBlclxuICAgIC8vICovXG4gICAgLy8gdGhpcy5fc2Vzc2lvbi5tZWRpYUhhbmRsZXIub24oXCJnZXREZXNjcmlwdGlvblwiLCAoc2RwV3JhcHBlcikgPT4ge3RoaXMudHJpZ2dlcihcImdldERlc2NyaXB0aW9uXCIsIHNkcFdyYXBwZXIpO30pO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gKiBzZXREZXNjcmlwdGlvbiBldmVudFxuICAgIC8vICpcbiAgICAvLyAqIEBldmVudCBDZGN0c0NhbGwjc2V0RGVzY3JpcHRpb25cbiAgICAvLyAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBzZHBXcmFwcGVyXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcInNldERlc2NyaXB0aW9uXCIsIChzZHBXcmFwcGVyKSA9PiB7dGhpcy50cmlnZ2VyKFwic2V0RGVzY3JpcHRpb25cIiwgc2RwV3JhcHBlcik7fSk7XG5cbiAgICAvLyAvKipcbiAgICAvLyAqIGRhdGFDaGFubmVsIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNkYXRhQ2hhbm5lbFxuICAgIC8vICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGFDaGFubmVsXG4gICAgLy8gKi9cbiAgICAvLyB0aGlzLl9zZXNzaW9uLm1lZGlhSGFuZGxlci5vbihcImRhdGFDaGFubmVsXCIsIChkYXRhQ2hhbm5lbCkgPT4ge3RoaXMudHJpZ2dlcihcImRhdGFDaGFubmVsXCIsIGRhdGFDaGFubmVsKTt9KTtcblxuICAgIC8vIC8qKlxuICAgIC8vICogYWRkU3RyZWFtIGV2ZW50XG4gICAgLy8gKlxuICAgIC8vICogQGV2ZW50IENkY3RzQ2FsbCNhZGRTdHJlYW1cbiAgICAvLyAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBzdHJlYW1cbiAgICAvLyAqL1xuICAgIC8vIHRoaXMuX3Nlc3Npb24ubWVkaWFIYW5kbGVyLm9uKFwiYWRkU3RyZWFtXCIsIChzdHJlYW0pID0+IHt0aGlzLnRyaWdnZXIoXCJhZGRTdHJlYW1cIiwgc3RyZWFtKTt9KTtcblxuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdCBhbiBpbmNvbWluZyBjYWxsLlxuICAgKiBXaGVuIGEgY2FsbCBpcyByZWNlaXZlZCBgQ2RjdHNEZXZpY2VgIHdpbGwgY3JlYXRlIGEgbmV3IGBDZGN0c0NhbGxgIGZvciB0aGUgc2Vzc2lvblxuICAgKiBhbmQgZW1pdCBhIGBpbmNvbWluZ0ludml0ZWAgZXZlbnQuXG4gICAqIFRoZSBuZXcgYENkY3RzQ2FsbGAgaXMgcGFzc2VkIGFsb25nIHdpdGggdGhlIGV2ZW50LiBDYWxsIGBhY2NlcHQoKWAgdG8gYWNjZXB0IHRoZSBjYWxsLlxuICAgKi9cbiAgYW5zd2VyKCkge1xuICAgIGlmICh0aGlzLl9jYWxsVHlwZSAhPT0gJ2luY29taW5nJykge1xuICAgICAgY29uc29sZS5lcnJvcihcImFjY2VwdCgpIG1ldGhvZCBpcyBvbmx5IHZhbGlkIG9uIGluY29taW5nIGNhbGxzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Nlc3Npb24uYWNjZXB0KHtcbiAgICAgIG1lZGlhOiB7XG4gICAgICAgIGNvbnN0cmFpbnRzOiB7IGF1ZGlvOiB0cnVlLCB2aWRlbzogZmFsc2UgfSxcbiAgICAgICAgcmVuZGVyOiB7IHJlbW90ZTogdGhpcy5fZ2V0QXVkaW9FbGVtZW50KCkgfVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zOiB7XG4gICAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICAgICAgdmlkZW86IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogeyByZW1vdGU6IHRoaXMuX2dldEF1ZGlvRWxlbWVudCgpIH1cbiAgICAgIH1cblxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKFwiYWNjZXB0XCIsIHRoaXMpXG4gICAgdGhpcy5fYXR0YXRjaFNlc3Npb25FdmVudHModGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVqZWN0IGFuIGluY29taW5nIGNhbGwuXG4gICAqIFdoZW4gYSBjYWxsIGlzIHJlY2VpdmVkIGBDZGN0c0RldmljZWAgd2lsbCBjcmVhdGUgYSBuZXcgYENkY3RzQ2FsbGAgZm9yIHRoZSBzZXNzaW9uXG4gICAqIGFuZCBlbWl0IGEgYGluY29taW5nSW52aXRlYCBldmVudC5cbiAgICogVGhlIG5ldyBgQ2RjdHNDYWxsYCBpcyBwYXNzZWQgYWxvbmcgd2l0aCB0aGUgZXZlbnQuIENhbGwgYHJlamVjdCgpYCB0byByZWplY3QgdGhlIGNhbGwuXG4gICAqL1xuICByZWplY3QoKSB7XG4gICAgaWYgKHRoaXMuX2NhbGxUeXBlICE9PSAnaW5jb21pbmcnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwicmVqZWN0KCkgbWV0aG9kIGlzIG9ubHkgdmFsaWQgb24gaW5jb21pbmcgY2FsbHNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3Nlc3Npb24ucmVqZWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHJlcXVlc3Qgb2JqZWN0IGNvbnRhaW5zIG1ldGFkYXRhIGFib3V0IHRoZSBjdXJyZW50IHNlc3Npb24sXG4gICAqIGluY2x1ZGluZyB0aGUgd2hvIHRoZSBjYWxsIGlzIGdvaW5nIGB0b2AgYW5kIGluIHRoZSBjYXNlIG9mIGluY29taW5nIGNhbGxzLFxuICAgKiB3aG8gdGhlIGNhbGwgaXMgY29taW5nIGBmcm9tYC5cbiAgICpcbiAgICogQHJldHVybiB7b2JqZWN0fSByZXF1ZXN0XG4gICAqL1xuICBnZXQgcmVxdWVzdCgpIHtcbiAgICBpZiAoIXRoaXMuX3Nlc3Npb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY2FsbFR5cGUgPT09ICdpbmNvbWluZycpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uLnRyYW5zYWN0aW9uLnJlcXVlc3Q7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jYWxsVHlwZSA9PT0gJ291dGdvaW5nJykge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nlc3Npb24ucmVxdWVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIElzIHRoZSBjYWxsIHN0aWxsIGluaXRpYXRpbmc/XG4gICpcbiAgKiBAcmV0dXJuIHtCb29sZWFufSBpc0luaXRpYXRpbmdcbiAgKi9cbiAgaXNJbml0aWF0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09ICdpbml0aWF0aW5nJztcbiAgfVxuXG4gIC8qKlxuICAqIEhhcyB0aGUgY2FsbCBjb25uZWN0ZWQ/XG4gICpcbiAgKiBAcmV0dXJuIHtCb29sZWFufSBpc0Nvbm5lY3RlZFxuICAqL1xuICBpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdHVzID09PSAnY29ubmVjdGVkJztcbiAgfVxuXG4gIC8qKlxuICAqIEhhcyB0aGUgY2FsbCBlbmRlZD9cbiAgKlxuICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzRW5kZWRcbiAgKi9cbiAgaXNFbmRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdHVzID09PSAnZW5kZWQnO1xuICB9XG5cbiAgLyoqXG4gICogSXMgdGhpcyBhbiBpbmNvbWluZyBjYWxsP1xuICAqXG4gICogQHJldHVybiB7Qm9vbGVhbn0gaXNJbmNvbWluZ1xuICAqL1xuICBpc0luY29taW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxsVHlwZSA9PT0gJ2luY29taW5nJztcbiAgfVxuXG4gIC8qKlxuICAqIElzIHRoaXMgYW4gb3V0Z29pbmcgY2FsbD9cbiAgKlxuICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzT3V0Z29pbmdcbiAgKi9cbiAgaXNPdXRnb2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FsbFR5cGUgPT09ICdvdXRnb2luZyc7XG4gIH1cblxuICAvKipcbiAgKiBFbmQgdGhlIHNlc3Npb25cbiAgKlxuICAqIEBlbWl0cyBDZGN0c0NhbGwjdGVybWluYXRlZFxuICAqL1xuICB0ZXJtaW5hdGUoKSB7XG4gICAgdGhpcy5fc2Vzc2lvbi50ZXJtaW5hdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAqIFNodXRkb3duIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBXZWJSVEMgc2VydmVyc1xuICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgQ2RjdHNEZXZpY2Uuc3RvcFdTIGluc3RlYWQuXG4gICovXG4gIHNodXRkb3duKCkge1xuICAgIHRoaXMuVUEuc3RvcCgpO1xuICB9XG5cbiAgLyoqXG4gICogVG9nZ2xlIG11dGVcbiAgKlxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNdXRlIC0gaWYgdHJ1ZSB5b3Ugd2FudCBtdXRlIHRvIGJlIE9OXG4gICovXG4gIG11dGUoaXNNdXRlIC8qYm9vbCovKSB7XG4gICAgdGhpcy5fbXV0ZSA9IGlzTXV0ZTtcbiAgICBjb25zb2xlLmxvZyhcInRoaXMuX3Nlc3Npb25cIix0aGlzLl9zZXNzaW9uKVxuICAgIGlmICh0aGlzLl9tdXRlKSB7XG4gICAgICB0aGlzLl9zZXNzaW9uLm11dGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Vzc2lvbi51bm11dGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBUb2dnbGUgaG9sZFxuICAqXG4gICogQHBhcmFtIHtib29sZWFufSBpc0hvbGQgLSBpZiB0cnVlIHlvdSB3YW50IG11dGUgdG8gYmUgT05cbiAgKi9cbiAgaG9sZChpc0hvbGQgLypib29sKi8pIHtcbiAgICBpZiAoaXNIb2xkKSB7XG4gICAgICB0aGlzLl9zZXNzaW9uLmhvbGQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Vzc2lvbi51bmhvbGQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBDdXJyZW50IG11dGUgc3RhdGVcbiAgKlxuICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgY2FsbCBpcyBvbiBtdXRlXG4gICovXG4gIGlzTXV0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX211dGU7XG4gIH1cblxuICAvKipcbiAgKiBTZW5kIHBob25lIGtleXBhZCBwcmVzc2VzIChEVE1GIHRvbmVzKVxuICAqXG4gICogVXNlZCBhZnRlciB0aGUgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAgKlxuICAqIEBwYXJhbSB7c3RyaW5nfSBkaWdpdHMgLSBhIHN0cmluZyBjb250YWluZyBkaWdpdHMgMC05LCAqLCAjXG4gICogQGVtaXRzIENkY3RzQ2FsbCNkdG1mXG4gICovXG4gIHNlbmREaWdpdHMoZGlnaXRzKSB7XG4gICAgdGhpcy5fc2Vzc2lvbi5kdG1mKGRpZ2l0cyk7XG4gIH1cblxuICAvKipcbiAgKiBTZW5kIHBob25lIGtleXBhZCBwcmVzc2VzIChEVE1GIHRvbmVzKVxuICAqXG4gICogVXNlZCBhZnRlciB0aGUgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAgKlxuICAqIEBwYXJhbSB7c3RyaW5nfSBkaWdpdHMgLSBhIHN0cmluZyBjb250YWluZyBkaWdpdHMgMC05LCAqLCAjXG4gICogQGVtaXRzIENkY3RzQ2FsbCNkdG1mXG4gICovXG4gIHJlZmVyKGRpZ2l0cykge1xuICAgIHRoaXMuX3Nlc3Npb24ucmVmZXIoZGlnaXRzKTtcbiAgfVxuXG4gIC8qKlxuICAqIFRoZSBcInNpbXBsZVwiIHN0YXR1cy5cbiAgKlxuICAqIEFsbCBvZiB0aGUgbWFueSBwaGFzZXMgb2YgdGhlIGNhbGwgYm9pbGVkIGRvd24gaW50byAzIHN0YXRlczogSW5pdGlhdGluZywgQ29ubmVjdGVkIGFuZCBFbmRlZC5cbiAgKlxuICAqIEByZXR1cm4ge3N0cmluZ30gb25lIG9mIGluaXRpYXRpbmcsIGNvbm5lY3RlZCwgZW5kZWRcbiAgKi9cbiAgc3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gIH1cblxuICBfd2FpdGluZ0ZvckFwcGx5aW5nQW5zd2VyKHNlc3Npb24sIHJlc3BvbnNlKSB7XG4gICAgbGV0IGkgPSAxLFxuICAgICAgY2xlYXJUaW1lclxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiBjaGVjaygpIHtcbiAgICAgIGkrK1xuICAgICAgY2xlYXJUaW1lciA9IHNldFRpbWVvdXQoY2hlY2ssIDEwKVxuICAgICAgaWYgKHNlc3Npb24gJiYgc2Vzc2lvbi5oYXNBbnN3ZXIgfHwgaSA+IDE0KSB7XG4gICAgICAgIGlmIChzZXNzaW9uLmhhc0Fuc3dlcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dChjbGVhclRpbWVyKVxuICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDE1KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGNsZWFyVGltZXIpXG4gICAgICAgICAgc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHkpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgc2Vzc2lvbi5sb2dnZXIud2FybihlcnJvcilcbiAgICAgICAgICAgIHNlc3Npb24uZmFpbGVkKHJlc3BvbnNlLCBDLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pXG4gICAgICAgICAgICBzZXNzaW9uLnRlcm1pbmF0ZSh7IHN0YXR1c0NvZGU6IDQ4OCwgcmVhc29uX3BocmFzZTogJ0JhZCBNZWRpYSBEZXNjcmlwdGlvbicgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTApXG4gIH1cblxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBuYW1lX2FkZHJfaGVhZGVyXzEgPSByZXF1aXJlKFwiLi9uYW1lLWFkZHItaGVhZGVyXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbi8qKlxuICogT3V0Z29pbmcgU0lQIHJlcXVlc3QgbWVzc2FnZS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZShtZXRob2QsIHJ1cmksIGZyb21VUkksIHRvVVJJLCBvcHRpb25zLCBleHRyYUhlYWRlcnMsIGJvZHkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0ge307XG4gICAgICAgIHRoaXMuZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE91dGdvaW5nUmVxdWVzdE1lc3NhZ2UuZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgICAgICAgLy8gT3B0aW9ucyAtIG1lcmdlIGEgZGVlcCBjb3B5XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vcHRpb25UYWdzICYmIHRoaXMub3B0aW9ucy5vcHRpb25UYWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vcHRpb25UYWdzID0gdGhpcy5vcHRpb25zLm9wdGlvblRhZ3Muc2xpY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucm91dGVTZXQgJiYgdGhpcy5vcHRpb25zLnJvdXRlU2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yb3V0ZVNldCA9IHRoaXMub3B0aW9ucy5yb3V0ZVNldC5zbGljZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhIGhlYWRlcnMgLSBkZWVwIGNvcHlcbiAgICAgICAgaWYgKGV4dHJhSGVhZGVycyAmJiBleHRyYUhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmV4dHJhSGVhZGVycyA9IGV4dHJhSGVhZGVycy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJvZHkgLSBkZWVwIGNvcHlcbiAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGludGVybmFsIHJlcHJlc2VudGF0aW9uIHNob3VsZCBiZSBCb2R5XG4gICAgICAgICAgICAvLyB0aGlzLmJvZHkgPSB7IC4uLmJvZHkgfTtcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiBib2R5LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGJvZHkuY29udGVudFR5cGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWV0aG9kXG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAvLyBSVVJJXG4gICAgICAgIHRoaXMucnVyaSA9IHJ1cmkuY2xvbmUoKTtcbiAgICAgICAgLy8gRnJvbVxuICAgICAgICB0aGlzLmZyb21VUkkgPSBmcm9tVVJJLmNsb25lKCk7XG4gICAgICAgIHRoaXMuZnJvbVRhZyA9IHRoaXMub3B0aW9ucy5mcm9tVGFnID8gdGhpcy5vcHRpb25zLmZyb21UYWcgOiB1dGlsc18xLm5ld1RhZygpO1xuICAgICAgICB0aGlzLmZyb20gPSBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLm1ha2VOYW1lQWRkckhlYWRlcih0aGlzLmZyb21VUkksIHRoaXMub3B0aW9ucy5mcm9tRGlzcGxheU5hbWUsIHRoaXMuZnJvbVRhZyk7XG4gICAgICAgIC8vIFRvXG4gICAgICAgIHRoaXMudG9VUkkgPSB0b1VSSS5jbG9uZSgpO1xuICAgICAgICB0aGlzLnRvVGFnID0gdGhpcy5vcHRpb25zLnRvVGFnO1xuICAgICAgICB0aGlzLnRvID0gT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5tYWtlTmFtZUFkZHJIZWFkZXIodGhpcy50b1VSSSwgdGhpcy5vcHRpb25zLnRvRGlzcGxheU5hbWUsIHRoaXMudG9UYWcpO1xuICAgICAgICAvLyBDYWxsLUlEXG4gICAgICAgIHRoaXMuY2FsbElkID0gdGhpcy5vcHRpb25zLmNhbGxJZCA/IHRoaXMub3B0aW9ucy5jYWxsSWQgOiB0aGlzLm9wdGlvbnMuY2FsbElkUHJlZml4ICsgdXRpbHNfMS5jcmVhdGVSYW5kb21Ub2tlbigxNSk7XG4gICAgICAgIC8vIENTZXFcbiAgICAgICAgdGhpcy5jc2VxID0gdGhpcy5vcHRpb25zLmNzZXE7XG4gICAgICAgIC8vIFRoZSByZWxhdGl2ZSBvcmRlciBvZiBoZWFkZXIgZmllbGRzIHdpdGggZGlmZmVyZW50IGZpZWxkIG5hbWVzIGlzIG5vdFxuICAgICAgICAvLyBzaWduaWZpY2FudC4gIEhvd2V2ZXIsIGl0IGlzIFJFQ09NTUVOREVEIHRoYXQgaGVhZGVyIGZpZWxkcyB3aGljaCBhcmVcbiAgICAgICAgLy8gbmVlZGVkIGZvciBwcm94eSBwcm9jZXNzaW5nIChWaWEsIFJvdXRlLCBSZWNvcmQtUm91dGUsIFByb3h5LVJlcXVpcmUsXG4gICAgICAgIC8vIE1heC1Gb3J3YXJkcywgYW5kIFByb3h5LUF1dGhvcml6YXRpb24sIGZvciBleGFtcGxlKSBhcHBlYXIgdG93YXJkc1xuICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBtZXNzYWdlIHRvIGZhY2lsaXRhdGUgcmFwaWQgcGFyc2luZy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi03LjMuMVxuICAgICAgICB0aGlzLnNldEhlYWRlcihcInJvdXRlXCIsIHRoaXMub3B0aW9ucy5yb3V0ZVNldCk7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwidmlhXCIsIFwiXCIpO1xuICAgICAgICB0aGlzLnNldEhlYWRlcihcInRvXCIsIHRoaXMudG8udG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwiZnJvbVwiLCB0aGlzLmZyb20udG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwiY3NlcVwiLCB0aGlzLmNzZXEgKyBcIiBcIiArIHRoaXMubWV0aG9kKTtcbiAgICAgICAgdGhpcy5zZXRIZWFkZXIoXCJjYWxsLWlkXCIsIHRoaXMuY2FsbElkKTtcbiAgICAgICAgdGhpcy5zZXRIZWFkZXIoXCJtYXgtZm9yd2FyZHNcIiwgXCI3MFwiKTtcbiAgICB9XG4gICAgLyoqIEdldCBhIGNvcHkgb2YgdGhlIGRlZmF1bHQgb3B0aW9ucy4gKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLmdldERlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbElkOiBcIlwiLFxuICAgICAgICAgICAgY2FsbElkUHJlZml4OiBcIlwiLFxuICAgICAgICAgICAgY3NlcTogMSxcbiAgICAgICAgICAgIHRvRGlzcGxheU5hbWU6IFwiXCIsXG4gICAgICAgICAgICB0b1RhZzogXCJcIixcbiAgICAgICAgICAgIGZyb21EaXNwbGF5TmFtZTogXCJcIixcbiAgICAgICAgICAgIGZyb21UYWc6IFwiXCIsXG4gICAgICAgICAgICBmb3JjZVJwb3J0OiBmYWxzZSxcbiAgICAgICAgICAgIGhhY2tWaWFUY3A6IGZhbHNlLFxuICAgICAgICAgICAgb3B0aW9uVGFnczogW1wib3V0Ym91bmRcIl0sXG4gICAgICAgICAgICByb3V0ZVNldDogW10sXG4gICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IFwic2lwLmpzXCIsXG4gICAgICAgICAgICB2aWFIb3N0OiBcIlwiXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLm1ha2VOYW1lQWRkckhlYWRlciA9IGZ1bmN0aW9uICh1cmksIGRpc3BsYXlOYW1lLCB0YWcpIHtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7fTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgcGFyYW1ldGVycy50YWcgPSB0YWc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBuYW1lX2FkZHJfaGVhZGVyXzEuTmFtZUFkZHJIZWFkZXIodXJpLCBkaXNwbGF5TmFtZSwgcGFyYW1ldGVycyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBoZWFkZXIgbmFtZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEByZXR1cm5zIFJldHVybnMgdGhlIHNwZWNpZmllZCBoZWFkZXIsIHVuZGVmaW5lZCBpZiBoZWFkZXIgZG9lc24ndCBleGlzdC5cbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5oZWFkZXJzW3V0aWxzXzEuaGVhZGVyaXplKG5hbWUpXTtcbiAgICAgICAgaWYgKGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGhlYWRlclswXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXJbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChcIl5cXFxccypcIiArIG5hbWUgKyBcIlxcXFxzKjpcIiwgXCJpXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZXh0cmFIZWFkZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBleEhlYWRlciA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpZiAocmVnZXhwLnRlc3QoZXhIZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleEhlYWRlci5zdWJzdHJpbmcoZXhIZWFkZXIuaW5kZXhPZihcIjpcIikgKyAxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaGVhZGVyL3Mgb2YgdGhlIGdpdmVuIG5hbWUuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEByZXR1cm5zIEFycmF5IHdpdGggYWxsIHRoZSBoZWFkZXJzIG9mIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5nZXRIZWFkZXJzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaGVhZGVyQXJyYXkgPSB0aGlzLmhlYWRlcnNbdXRpbHNfMS5oZWFkZXJpemUobmFtZSldO1xuICAgICAgICBpZiAoaGVhZGVyQXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgaGVhZGVyQXJyYXlfMSA9IGhlYWRlckFycmF5OyBfaSA8IGhlYWRlckFycmF5XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlclBhcnQgPSBoZWFkZXJBcnJheV8xW19pXTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChoZWFkZXJQYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKFwiXlxcXFxzKlwiICsgbmFtZSArIFwiXFxcXHMqOlwiLCBcImlcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gdGhpcy5leHRyYUhlYWRlcnM7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4SGVhZGVyID0gX2JbX2FdO1xuICAgICAgICAgICAgICAgIGlmIChyZWdleHAudGVzdChleEhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZXhIZWFkZXIuc3Vic3RyaW5nKGV4SGVhZGVyLmluZGV4T2YoXCI6XCIpICsgMSkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZlcmlmeSB0aGUgZXhpc3RlbmNlIG9mIHRoZSBnaXZlbiBoZWFkZXIuXG4gICAgICogQHBhcmFtIG5hbWUgLSBoZWFkZXIgbmFtZVxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgaGVhZGVyIHdpdGggZ2l2ZW4gbmFtZSBleGlzdHMsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIE91dGdvaW5nUmVxdWVzdE1lc3NhZ2UucHJvdG90eXBlLmhhc0hlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnNbdXRpbHNfMS5oZWFkZXJpemUobmFtZSldKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKFwiXlxcXFxzKlwiICsgbmFtZSArIFwiXFxcXHMqOlwiLCBcImlcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5leHRyYUhlYWRlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVyID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChyZWdleHAudGVzdChleHRyYUhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgdGhlIHRoZSBnaXZlbiBoZWFkZXIgYnkgdGhlIGdpdmVuIHZhbHVlLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gaGVhZGVyIG5hbWVcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBoZWFkZXIgdmFsdWVcbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5zZXRIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzW3V0aWxzXzEuaGVhZGVyaXplKG5hbWUpXSA9ICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBWaWEgaGVhZGVyIGZpZWxkIGluZGljYXRlcyB0aGUgdHJhbnNwb3J0IHVzZWQgZm9yIHRoZSB0cmFuc2FjdGlvblxuICAgICAqIGFuZCBpZGVudGlmaWVzIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgcmVzcG9uc2UgaXMgdG8gYmUgc2VudC4gIEEgVmlhXG4gICAgICogaGVhZGVyIGZpZWxkIHZhbHVlIGlzIGFkZGVkIG9ubHkgYWZ0ZXIgdGhlIHRyYW5zcG9ydCB0aGF0IHdpbGwgYmVcbiAgICAgKiB1c2VkIHRvIHJlYWNoIHRoZSBuZXh0IGhvcCBoYXMgYmVlbiBzZWxlY3RlZCAod2hpY2ggbWF5IGludm9sdmUgdGhlXG4gICAgICogdXNhZ2Ugb2YgdGhlIHByb2NlZHVyZXMgaW4gWzRdKS5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIFVBQyBjcmVhdGVzIGEgcmVxdWVzdCwgaXQgTVVTVCBpbnNlcnQgYSBWaWEgaW50byB0aGF0XG4gICAgICogcmVxdWVzdC4gIFRoZSBwcm90b2NvbCBuYW1lIGFuZCBwcm90b2NvbCB2ZXJzaW9uIGluIHRoZSBoZWFkZXIgZmllbGRcbiAgICAgKiBNVVNUIGJlIFNJUCBhbmQgMi4wLCByZXNwZWN0aXZlbHkuICBUaGUgVmlhIGhlYWRlciBmaWVsZCB2YWx1ZSBNVVNUXG4gICAgICogY29udGFpbiBhIGJyYW5jaCBwYXJhbWV0ZXIuICBUaGlzIHBhcmFtZXRlciBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZVxuICAgICAqIHRyYW5zYWN0aW9uIGNyZWF0ZWQgYnkgdGhhdCByZXF1ZXN0LiAgVGhpcyBwYXJhbWV0ZXIgaXMgdXNlZCBieSBib3RoXG4gICAgICogdGhlIGNsaWVudCBhbmQgdGhlIHNlcnZlci5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMS4xLjdcbiAgICAgKiBAcGFyYW0gYnJhbmNoUGFyYW1ldGVyIC0gVGhlIGJyYW5jaCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSBzZW50IHByb3RvY29sIHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlLnByb3RvdHlwZS5zZXRWaWFIZWFkZXIgPSBmdW5jdGlvbiAoYnJhbmNoLCB0cmFuc3BvcnQpIHtcbiAgICAgICAgLy8gRklYTUU6IEhhY2tcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oYWNrVmlhVGNwKSB7XG4gICAgICAgICAgICB0cmFuc3BvcnQgPSBcIlRDUFwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aWEgPSBcIlNJUC8yLjAvXCIgKyB0cmFuc3BvcnQ7XG4gICAgICAgIHZpYSArPSBcIiBcIiArIHRoaXMub3B0aW9ucy52aWFIb3N0ICsgXCI7YnJhbmNoPVwiICsgYnJhbmNoO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlUnBvcnQpIHtcbiAgICAgICAgICAgIHZpYSArPSBcIjtycG9ydFwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKFwidmlhXCIsIHZpYSk7XG4gICAgICAgIHRoaXMuYnJhbmNoID0gYnJhbmNoO1xuICAgIH07XG4gICAgT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtc2cgPSBcIlwiO1xuICAgICAgICBtc2cgKz0gdGhpcy5tZXRob2QgKyBcIiBcIiArIHRoaXMucnVyaS50b1JhdygpICsgXCIgU0lQLzIuMFxcclxcblwiO1xuICAgICAgICBmb3IgKHZhciBoZWFkZXIgaW4gdGhpcy5oZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzW2hlYWRlcl0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5oZWFkZXJzW2hlYWRlcl07IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXJQYXJ0ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICBtc2cgKz0gaGVhZGVyICsgXCI6IFwiICsgaGVhZGVyUGFydCArIFwiXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0aGlzLmV4dHJhSGVhZGVyczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgIHZhciBoZWFkZXIgPSBfY1tfYl07XG4gICAgICAgICAgICBtc2cgKz0gaGVhZGVyLnRyaW0oKSArIFwiXFxyXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgbXNnICs9IFwiU3VwcG9ydGVkOiBcIiArIHRoaXMub3B0aW9ucy5vcHRpb25UYWdzLmpvaW4oXCIsIFwiKSArIFwiXFxyXFxuXCI7XG4gICAgICAgIG1zZyArPSBcIlVzZXItQWdlbnQ6IFwiICsgdGhpcy5vcHRpb25zLnVzZXJBZ2VudFN0cmluZyArIFwiXFxyXFxuXCI7XG4gICAgICAgIGlmICh0aGlzLmJvZHkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5ib2R5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbXNnICs9IFwiQ29udGVudC1MZW5ndGg6IFwiICsgdXRpbHNfMS5zdHJfdXRmOF9sZW5ndGgodGhpcy5ib2R5KSArIFwiXFxyXFxuXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgbXNnICs9IHRoaXMuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHkuYm9keSAmJiB0aGlzLmJvZHkuY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnICs9IFwiQ29udGVudC1UeXBlOiBcIiArIHRoaXMuYm9keS5jb250ZW50VHlwZSArIFwiXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIHV0aWxzXzEuc3RyX3V0ZjhfbGVuZ3RoKHRoaXMuYm9keS5ib2R5KSArIFwiXFxyXFxuXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSB0aGlzLmJvZHkuYm9keTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIDAgKyBcIlxcclxcblxcclxcblwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1zZyArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIDAgKyBcIlxcclxcblxcclxcblwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZTtcbn0oKSk7XG5leHBvcnRzLk91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgPSBPdXRnb2luZ1JlcXVlc3RNZXNzYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0aW1lcnNfMSA9IHJlcXVpcmUoXCIuLi90aW1lcnNcIik7XG52YXIgY2xpZW50X3RyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9jbGllbnQtdHJhbnNhY3Rpb25cIik7XG52YXIgdHJhbnNhY3Rpb25fc3RhdGVfMSA9IHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uLXN0YXRlXCIpO1xuLyoqXG4gKiBJTlZJVEUgQ2xpZW50IFRyYW5zYWN0aW9uLlxuICogQHJlbWFya3NcbiAqIFRoZSBJTlZJVEUgdHJhbnNhY3Rpb24gY29uc2lzdHMgb2YgYSB0aHJlZS13YXkgaGFuZHNoYWtlLiAgVGhlIGNsaWVudFxuICogdHJhbnNhY3Rpb24gc2VuZHMgYW4gSU5WSVRFLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIHNlbmRzIHJlc3BvbnNlcyxcbiAqIGFuZCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHNlbmRzIGFuIEFDSy5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4xXG4gKiBAcHVibGljXG4gKi9cbnZhciBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci5cbiAgICAgKiBVcG9uIGNvbnN0cnVjdGlvbiwgdGhlIG91dGdvaW5nIHJlcXVlc3QncyBWaWEgaGVhZGVyIGlzIHVwZGF0ZWQgYnkgY2FsbGluZyBgc2V0VmlhSGVhZGVyYC5cbiAgICAgKiBUaGVuIGB0b1N0cmluZ2AgaXMgY2FsbGVkIG9uIHRoZSBvdXRnb2luZyByZXF1ZXN0IGFuZCB0aGUgbWVzc2FnZSBpcyBzZW50IHZpYSB0aGUgdHJhbnNwb3J0LlxuICAgICAqIEFmdGVyIGNvbnN0cnVjdGlvbiB0aGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBpbiB0aGUgXCJjYWxsaW5nXCIgc3RhdGUgYW5kIHRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIHdpbGwgZXF1YWwgdGhlIGJyYW5jaCBwYXJhbWV0ZXIgc2V0IGluIHRoZSBWaWEgaGVhZGVyIG9mIHRoZSBvdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4xXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgb3V0Z29pbmcgSU5WSVRFIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdCwgdHJhbnNwb3J0LCB1c2VyLCB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ2FsbGluZywgXCJzaXAudHJhbnNhY3Rpb24uaWN0XCIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2YgMnh4IHRvLXRhZyB0byBBQ0suXG4gICAgICAgICAqIElmIHZhbHVlIGlzIG5vdCB1bmRlZmluZWQsIHZhbHVlIGlzIHRoZSBBQ0sgd2hpY2ggd2FzIHNlbnQuXG4gICAgICAgICAqIElmIGtleSBleGlzdHMgYnV0IHZhbHVlIGlzIHVuZGVmaW5lZCwgYSAyeHggd2FzIHJlY2VpdmVkIGJ1dCB0aGUgQUNLIG5vdCB5ZXQgc2VudC5cbiAgICAgICAgICogT3RoZXJ3aXNlLCBhIDJ4eCB3YXMgbm90ICh5ZXQpIHJlY2VpdmVkIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWNrUmV0cmFuc21pc3Npb25DYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gRklYTUU6IFRpbWVyIEEgZm9yIHVucmVsaWFibGUgdHJhbnNwb3J0IG5vdCBpbXBsZW1lbnRlZFxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiBhbiB1bnJlbGlhYmxlIHRyYW5zcG9ydCBpcyBiZWluZyB1c2VkLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uXG4gICAgICAgIC8vIE1VU1Qgc3RhcnQgdGltZXIgQSB3aXRoIGEgdmFsdWUgb2YgVDEuIElmIGEgcmVsaWFibGUgdHJhbnNwb3J0IGlzIGJlaW5nIHVzZWQsXG4gICAgICAgIC8vIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIE5PVCBzdGFydCB0aW1lciBBIChUaW1lciBBIGNvbnRyb2xzIHJlcXVlc3QgcmV0cmFuc21pc3Npb25zKS5cbiAgICAgICAgLy8gRm9yIGFueSB0cmFuc3BvcnQsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCBzdGFydCB0aW1lciBCIHdpdGggYSB2YWx1ZVxuICAgICAgICAvLyBvZiA2NCpUMSBzZWNvbmRzIChUaW1lciBCIGNvbnRyb2xzIHRyYW5zYWN0aW9uIHRpbWVvdXRzKS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAgICAvL1xuICAgICAgICAvLyBXaGlsZSBub3Qgc3BlbGxlZCBvdXQgaW4gdGhlIFJGQywgVGltZXIgQiBpcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGF0IGEgc2VuZGVyXG4gICAgICAgIC8vIHdpbGwgd2FpdCBmb3IgYW4gSU5WSVRFIG1lc3NhZ2UgdG8gYmUgYWNrbm93bGVkZ2VkIChhIFNJUCByZXNwb25zZSBtZXNzYWdlIGlzIHJlY2VpdmVkKS5cbiAgICAgICAgLy8gU28gVGltZXIgQiBzaG91bGQgYmUgY2xlYXJlZCB3aGVuIHRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBwcm9jZWVkcyBmcm9tIFwiQ2FsbGluZ1wiLlxuICAgICAgICBfdGhpcy5CID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9CKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9CKTtcbiAgICAgICAgX3RoaXMuc2VuZChyZXF1ZXN0LnRvU3RyaW5nKCkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgaW5pdGlhbCBvdXRnb2luZyByZXF1ZXN0LlwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuQikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuQik7XG4gICAgICAgICAgICB0aGlzLkIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuRCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuRCk7XG4gICAgICAgICAgICB0aGlzLkQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuTSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuTSk7XG4gICAgICAgICAgICB0aGlzLk0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLCBcImtpbmRcIiwge1xuICAgICAgICAvKiogVHJhbnNhY3Rpb24ga2luZC4gRGVwcmVjYXRlZC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJpY3RcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQUNLIGEgMnh4IGZpbmFsIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogVGhlIHRyYW5zYWN0aW9uIGluY2x1ZGVzIHRoZSBBQ0sgb25seSBpZiB0aGUgZmluYWwgcmVzcG9uc2Ugd2FzIG5vdCBhIDJ4eCByZXNwb25zZSAodGhlXG4gICAgICogdHJhbnNhY3Rpb24gd2lsbCBnZW5lcmF0ZSBhbmQgc2VuZCB0aGUgQUNLIHRvIHRoZSB0cmFuc3BvcnQgYXV0b21hZ2ljYWxseSkuIElmIHRoZVxuICAgICAqIGZpbmFsIHJlc3BvbnNlIHdhcyBhIDJ4eCwgdGhlIEFDSyBpcyBub3QgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSB0cmFuc2FjdGlvbiAodGhlXG4gICAgICogdHJhbnNhY3Rpb24gdXNlciBuZWVkcyB0byBnZW5lcmF0ZSBhbmQgc2VuZCB0aGUgQUNLKS5cbiAgICAgKlxuICAgICAqIFRoaXMgbGlicmFyeSBpcyBub3Qgc3RyaWN0bHkgUkZDIGNvbXBsaWFudCB3aXRoIHJlZ2FyZCB0byBBQ0sgaGFuZGxpbmcgZm9yIDJ4eCBmaW5hbFxuICAgICAqIHJlc3BvbnNlcy4gU3BlY2lmaWNhbGx5LCByZXRyYW5zbWlzc2lvbnMgb2YgQUNLcyB0byBhIDJ4eCBmaW5hbCByZXNwb25zZXMgaXMgaGFuZGxlZFxuICAgICAqIGJ5IHRoZSB0cmFuc2FjdGlvbiBsYXllciAoaW5zdGVhZCBvZiB0aGUgVUFDIGNvcmUpLiBUaGUgXCJzdGFuZGFyZFwiIGFwcHJvYWNoIGlzIGZvclxuICAgICAqIHRoZSBVQUMgY29yZSB0byByZWNlaXZlIGFsbCAyeHggcmVzcG9uc2VzIGFuZCBtYW5hZ2Ugc2VuZGluZyBBQ0sgcmV0cmFuc21pc3Npb25zIHRvXG4gICAgICogdGhlIHRyYW5zcG9ydCBkaXJlY3RseS4gSGVyZWluIHRoZSB0cmFuc2FjdGlvbiBsYXllciBtYW5hZ2VzIHNlbmRpbmcgQUNLcyB0byAyeHggcmVzcG9uc2VzXG4gICAgICogYW5kIGFueSByZXRyYW5zbWlzc2lvbnMgb2YgdGhvc2UgQUNLcyBhcyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWNrIC0gVGhlIG91dGdvaW5nIEFDSyByZXF1ZXN0LlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5hY2tSZXNwb25zZSA9IGZ1bmN0aW9uIChhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRvVGFnID0gYWNrLnRvVGFnO1xuICAgICAgICBpZiAoIXRvVGFnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUbyB0YWcgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWQgPSBcIno5aEc0YktcIiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKTtcbiAgICAgICAgYWNrLnNldFZpYUhlYWRlcihpZCwgdGhpcy50cmFuc3BvcnQucHJvdG9jb2wpO1xuICAgICAgICB0aGlzLmFja1JldHJhbnNtaXNzaW9uQ2FjaGUuc2V0KHRvVGFnLCBhY2spOyAvLyBBZGQgdG8gQUNLIHJldHJhbnNtaXNzaW9uIGNhY2hlXG4gICAgICAgIHRoaXMuc2VuZChhY2sudG9TdHJpbmcoKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCBBQ0sgdG8gMnh4IHJlc3BvbnNlLlwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBpbmNvbWluZyByZXNwb25zZXMgZnJvbSB0aGUgdHJhbnNwb3J0IHdoaWNoIG1hdGNoIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgICogQHBhcmFtIHJlc3BvbnNlIC0gVGhlIGluY29taW5nIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgICBpZiAoIXN0YXR1c0NvZGUgfHwgc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXR1cyBjb2RlIFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5DYWxsaW5nOlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gcmVjZWl2ZXMgYSBwcm92aXNpb25hbCByZXNwb25zZSB3aGlsZSBpblxuICAgICAgICAgICAgICAgIC8vIHRoZSBcIkNhbGxpbmdcIiBzdGF0ZSwgaXQgdHJhbnNpdGlvbnMgdG8gdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlLiBJbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBcIlByb2NlZWRpbmdcIiBzdGF0ZSwgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiBTSE9VTEQgTk9UIHJldHJhbnNtaXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gcmVxdWVzdCBhbnkgbG9uZ2VyLiBGdXJ0aGVybW9yZSwgdGhlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAvLyBwYXNzZWQgdG8gdGhlIFRVLiAgQW55IGZ1cnRoZXIgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIE1VU1QgYmUgcGFzc2VkXG4gICAgICAgICAgICAgICAgLy8gdXAgdG8gdGhlIFRVIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMS4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBhIDJ4eCByZXNwb25zZSBpcyByZWNlaXZlZCB3aGlsZSBpbiBlaXRoZXIgdGhlIFwiQ2FsbGluZ1wiIG9yXG4gICAgICAgICAgICAgICAgLy8gXCJQcm9jZWVkaW5nXCIgc3RhdGVzLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUuLi4gVGhlIDJ4eCByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB1cCB0byB0aGUgVFUuXG4gICAgICAgICAgICAgICAgLy8gVGhlIGNsaWVudCB0cmFuc2FjdGlvbiBNVVNUIE5PVCBnZW5lcmF0ZSBhbiBBQ0sgdG8gdGhlIDJ4eCByZXNwb25zZSAtLSBpdHNcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGluZyBpcyBkZWxlZ2F0ZWQgdG8gdGhlIFRVLiBBIFVBQyBjb3JlIHdpbGwgc2VuZCBhbiBBQ0sgdG9cbiAgICAgICAgICAgICAgICAvLyB0aGUgMnh4IHJlc3BvbnNlIHVzaW5nIGEgbmV3IHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC40XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gMjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWNrUmV0cmFuc21pc3Npb25DYWNoZS5zZXQocmVzcG9uc2UudG9UYWcsIHVuZGVmaW5lZCk7IC8vIFByaW1lIHRoZSBBQ0sgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBpbiBlaXRoZXIgdGhlIFwiQ2FsbGluZ1wiIG9yIFwiUHJvY2VlZGluZ1wiIHN0YXRlcywgcmVjZXB0aW9uIG9mXG4gICAgICAgICAgICAgICAgLy8gYSByZXNwb25zZSB3aXRoIHN0YXR1cyBjb2RlIGZyb20gMzAwLTY5OSBNVVNUIGNhdXNlIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbiB0byB0cmFuc2l0aW9uIHRvIFwiQ29tcGxldGVkXCIuIFRoZSBjbGllbnQgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICAvLyBNVVNUIHBhc3MgdGhlIHJlY2VpdmVkIHJlc3BvbnNlIHVwIHRvIHRoZSBUVSwgYW5kIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbiBNVVNUIGdlbmVyYXRlIGFuIEFDSyByZXF1ZXN0LCBldmVuIGlmIHRoZSB0cmFuc3BvcnQgaXNcbiAgICAgICAgICAgICAgICAvLyByZWxpYWJsZSAoZ3VpZGVsaW5lcyBmb3IgY29uc3RydWN0aW5nIHRoZSBBQ0sgZnJvbSB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyBhcmUgZ2l2ZW4gaW4gU2VjdGlvbiAxNy4xLjEuMyksIGFuZCB0aGVuIHBhc3MgdGhlIEFDSyB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbi4gVGhlIEFDSyBNVVNUIGJlIHNlbnQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gc2FtZSBhZGRyZXNzLCBwb3J0LCBhbmQgdHJhbnNwb3J0IHRvIHdoaWNoIHRoZSBvcmlnaW5hbCByZXF1ZXN0IHdhcyBzZW50LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC40XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMzAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIE5PVCByZXRyYW5zbWl0IHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgYW55IGxvbmdlci4gRnVydGhlcm1vcmUsIHRoZSBwcm92aXNpb25hbCByZXNwb25zZSBNVVNUIGJlXG4gICAgICAgICAgICAgICAgLy8gcGFzc2VkIHRvIHRoZSBUVS4gIEFueSBmdXJ0aGVyIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBNVVNUIGJlIHBhc3NlZFxuICAgICAgICAgICAgICAgIC8vIHVwIHRvIHRoZSBUVSB3aGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDEwMCAmJiBzdGF0dXNDb2RlIDw9IDE5OSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGEgMnh4IHJlc3BvbnNlIGlzIHJlY2VpdmVkIHdoaWxlIGluIGVpdGhlciB0aGUgXCJDYWxsaW5nXCIgb3IgXCJQcm9jZWVkaW5nXCIgc3RhdGVzLFxuICAgICAgICAgICAgICAgIC8vIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUuLi5cbiAgICAgICAgICAgICAgICAvLyBUaGUgMnh4IHJlc3BvbnNlIE1VU1QgYmUgcGFzc2VkIHVwIHRvIHRoZSBUVS4gVGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIE1VU1QgTk9UIGdlbmVyYXRlIGFuIEFDSyB0byB0aGUgMnh4IHJlc3BvbnNlIC0tIGl0c1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nIGlzIGRlbGVnYXRlZCB0byB0aGUgVFUuIEEgVUFDIGNvcmUgd2lsbCBzZW5kIGFuIEFDSyB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZSAyeHggcmVzcG9uc2UgdXNpbmcgYSBuZXcgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAyMDAgJiYgc3RhdHVzQ29kZSA8PSAyOTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2tSZXRyYW5zbWlzc2lvbkNhY2hlLnNldChyZXNwb25zZS50b1RhZywgdW5kZWZpbmVkKTsgLy8gUHJpbWUgdGhlIEFDSyBjYWNoZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQWNjZXB0ZWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGluIGVpdGhlciB0aGUgXCJDYWxsaW5nXCIgb3IgXCJQcm9jZWVkaW5nXCIgc3RhdGVzLCByZWNlcHRpb24gb2ZcbiAgICAgICAgICAgICAgICAvLyBhIHJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGUgZnJvbSAzMDAtNjk5IE1VU1QgY2F1c2UgdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIHRvIHRyYW5zaXRpb24gdG8gXCJDb21wbGV0ZWRcIi4gVGhlIGNsaWVudCB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgIC8vIE1VU1QgcGFzcyB0aGUgcmVjZWl2ZWQgcmVzcG9uc2UgdXAgdG8gdGhlIFRVLCBhbmQgdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIE1VU1QgZ2VuZXJhdGUgYW4gQUNLIHJlcXVlc3QsIGV2ZW4gaWYgdGhlIHRyYW5zcG9ydCBpc1xuICAgICAgICAgICAgICAgIC8vIHJlbGlhYmxlIChndWlkZWxpbmVzIGZvciBjb25zdHJ1Y3RpbmcgdGhlIEFDSyBmcm9tIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIGFyZSBnaXZlbiBpbiBTZWN0aW9uIDE3LjEuMS4zKSwgYW5kIHRoZW4gcGFzcyB0aGUgQUNLIHRvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLiBUaGUgQUNLIE1VU1QgYmUgc2VudCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyBzYW1lIGFkZHJlc3MsIHBvcnQsIGFuZCB0cmFuc3BvcnQgdG8gd2hpY2ggdGhlIG9yaWdpbmFsIHJlcXVlc3Qgd2FzIHNlbnQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAzMDAgJiYgc3RhdHVzQ29kZSA8PSA2OTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZDpcbiAgICAgICAgICAgICAgICAvLyBUaGUgcHVycG9zZSBvZiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlIGlzIHRvIGFsbG93IHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbiB0byBjb250aW51ZSB0byBleGlzdCB0byByZWNlaXZlLCBhbmQgcGFzcyB0byB0aGUgVFUsXG4gICAgICAgICAgICAgICAgLy8gYW55IHJldHJhbnNtaXNzaW9ucyBvZiB0aGUgMnh4IHJlc3BvbnNlIGFuZCBhbnkgYWRkaXRpb25hbCAyeHhcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgZnJvbSBvdGhlciBicmFuY2hlcyBvZiB0aGUgSU5WSVRFIGlmIGl0IGZvcmtlZFxuICAgICAgICAgICAgICAgIC8vIGRvd25zdHJlYW0uIFRpbWVyIE0gcmVmbGVjdHMgdGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gdXNlciB3aWxsIHdhaXQgZm9yIHN1Y2ggbWVzc2FnZXMuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBBbnkgMnh4IHJlc3BvbnNlcyB0aGF0IG1hdGNoIHRoaXMgY2xpZW50IHRyYW5zYWN0aW9uIGFuZCB0aGF0IGFyZVxuICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUgTVVTVCBiZSBwYXNzZWQgdXAgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gVFUuIFRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCBOT1QgZ2VuZXJhdGUgYW4gQUNLIHRvIHRoZSAyeHhcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZS4gVGhlIGNsaWVudCB0cmFuc2FjdGlvbiB0YWtlcyBubyBmdXJ0aGVyIGFjdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguNFxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDIwMCAmJiBzdGF0dXNDb2RlIDw9IDI5OSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGhlcmVpbiBpcyBpbnRlbnRpb25hbGx5IG5vdCBSRkMgY29tcGxpYW50LlxuICAgICAgICAgICAgICAgICAgICAvLyBXaGlsZSB0aGUgZmlyc3QgMnh4IHJlc3BvbnNlIGZvciBhIGdpdmVuIGJyYW5jaCBpcyBwYXNzZWQgdXAgdG8gdGhlIFRVLFxuICAgICAgICAgICAgICAgICAgICAvLyByZXRyYW5zbWlzc2lvbnMgb2YgMnh4IHJlc3BvbnNlcyBhcmUgYWJzb3JiZWQgYW5kIHRoZSBBQ0sgYXNzb2NpYXRlZFxuICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIHRoZSBvcmlnaW5hbCByZXNwb25zZSBpcyByZXNlbnQuIFRoaXMgYXBwcm9hY2ggaXMgdGFrZW4gYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAvLyBvdXIgY3VycmVudCB0cmFuc2FjdGlvbiB1c2VycyBhcmUgbm90IGN1cnJlbnRseSBpbiBhIGdvb2QgcG9zaXRpb24gdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVhbCB3aXRoIDJ4eCByZXRyYW5zbWlzc2lvbi4gVGhpcyBTSE9VTEQgTk9UIGNhdXNlIGFueSBjb21wbGlhbmNlIGlzc3VlcyAtIDspXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjYWNoZSBoaXQsIHBhc3MgdGhlIHJlc3BvbnNlIHRvIHRoZSBUVS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFja1JldHJhbnNtaXNzaW9uQ2FjaGUuaGFzKHJlc3BvbnNlLnRvVGFnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2tSZXRyYW5zbWlzc2lvbkNhY2hlLnNldChyZXNwb25zZS50b1RhZywgdW5kZWZpbmVkKTsgLy8gUHJpbWUgdGhlIEFDSyBjYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgY2FjaGUgaGl0LCB0cnkgcHVsbGluZyB0aGUgQUNLIGZyb20gY2FjaGUgYW5kIHJldHJhbnNtaXR0aW5nIGl0LlxuICAgICAgICAgICAgICAgICAgICB2YXIgYWNrID0gdGhpcy5hY2tSZXRyYW5zbWlzc2lvbkNhY2hlLmdldChyZXNwb25zZS50b1RhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChhY2sudG9TdHJpbmcoKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgcmV0cmFuc21pc3Npb24gb2YgQUNLIHRvIDJ4eCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbiBBQ0sgd2FzIG5vdCBmb3VuZCBpbiBjYWNoZSB0aGVuIHdlIGhhdmUgcmVjZWl2ZWQgYSByZXRyYW5zbWl0dGVkIDJ4eFxuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZSBiZWZvcmUgdGhlIFRVIHJlc3BvbmRlZCB0byB0aGUgb3JpZ2luYWwgcmVzcG9uc2UgKHdlIGRvbid0IGhhdmUgYW4gQUNLIHlldCkuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvIGRpc2NhcmQgdGhpcyByZXNwb25zZSB1bmRlciB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoZSBUVSB3aWxsIGV2ZW50dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHVzIGEgQUNLIGZvciB0aGUgb3JpZ2luYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQ6XG4gICAgICAgICAgICAgICAgLy8gQW55IHJldHJhbnNtaXNzaW9ucyBvZiBhIHJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGUgMzAwLTY5OSB0aGF0XG4gICAgICAgICAgICAgICAgLy8gYXJlIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlIE1VU1QgY2F1c2UgdGhlIEFDSyB0b1xuICAgICAgICAgICAgICAgIC8vIGJlIHJlLXBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGZvciByZXRyYW5zbWlzc2lvbiwgYnV0IHRoZVxuICAgICAgICAgICAgICAgIC8vIG5ld2x5IHJlY2VpdmVkIHJlc3BvbnNlIE1VU1QgTk9UIGJlIHBhc3NlZCB1cCB0byB0aGUgVFUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAzMDAgJiYgc3RhdHVzQ29kZSA8PSA2OTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2socmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFueSByZXNwb25zZSByZWNlaXZlZCB0aGF0IGRvZXMgbm90IG1hdGNoIGFuIGV4aXN0aW5nIGNsaWVudFxuICAgICAgICAvLyB0cmFuc2FjdGlvbiBzdGF0ZSBtYWNoaW5lIGlzIHNpbXBseSBkcm9wcGVkLiAoSW1wbGVtZW50YXRpb25zIGFyZSxcbiAgICAgICAgLy8gb2YgY291cnNlLCBmcmVlIHRvIGxvZyBvciBkbyBvdGhlciBpbXBsZW1lbnRhdGlvbi1zcGVjaWZpYyB0aGluZ3NcbiAgICAgICAgLy8gd2l0aCBzdWNoIHJlc3BvbnNlcywgYnV0IHRoZSBpbXBsZW1lbnRlciBzaG91bGQgYmUgc3VyZSB0byBjb25zaWRlclxuICAgICAgICAvLyB0aGUgaW1wYWN0IG9mIGxhcmdlIG51bWJlcnMgb2YgbWFsaWNpb3VzIHN0cmF5IHJlc3BvbnNlcy4pXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tNy4yXG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJSZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLlwiO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHRyYW5zYWN0aW9uIFNIT1VMRCBpbmZvcm0gdGhlIFRVIHRoYXQgYSB0cmFuc3BvcnQgZmFpbHVyZVxuICAgICAqIGhhcyBvY2N1cnJlZCwgYW5kIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIHRyYW5zaXRpb24gZGlyZWN0bHlcbiAgICAgKiB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuICBUaGUgVFUgd2lsbCBoYW5kbGUgdGhlIGZhaWxvdmVyXG4gICAgICogbWVjaGFuaXNtcyBkZXNjcmliZWQgaW4gWzRdLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS40XG4gICAgICogQHBhcmFtIGVycm9yIC0gVGhlIGVycm9yLlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZXIub25UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkLCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKiBGb3IgbG9nZ2luZy4gKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudHlwZVRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJJTlZJVEUgY2xpZW50IHRyYW5zYWN0aW9uXCI7XG4gICAgfTtcbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuYWNrID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFRoZSBBQ0sgcmVxdWVzdCBjb25zdHJ1Y3RlZCBieSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgY29udGFpblxuICAgICAgICAvLyB2YWx1ZXMgZm9yIHRoZSBDYWxsLUlELCBGcm9tLCBhbmQgUmVxdWVzdC1VUkkgdGhhdCBhcmUgZXF1YWwgdG8gdGhlXG4gICAgICAgIC8vIHZhbHVlcyBvZiB0aG9zZSBoZWFkZXIgZmllbGRzIGluIHRoZSByZXF1ZXN0IHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0XG4gICAgICAgIC8vIGJ5IHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gKGNhbGwgdGhpcyB0aGUgXCJvcmlnaW5hbCByZXF1ZXN0XCIpLiBUaGUgVG9cbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIGluIHRoZSBBQ0sgTVVTVCBlcXVhbCB0aGUgVG8gaGVhZGVyIGZpZWxkIGluIHRoZVxuICAgICAgICAvLyByZXNwb25zZSBiZWluZyBhY2tub3dsZWRnZWQsIGFuZCB0aGVyZWZvcmUgd2lsbCB1c3VhbGx5IGRpZmZlciBmcm9tXG4gICAgICAgIC8vIHRoZSBUbyBoZWFkZXIgZmllbGQgaW4gdGhlIG9yaWdpbmFsIHJlcXVlc3QgYnkgdGhlIGFkZGl0aW9uIG9mIHRoZVxuICAgICAgICAvLyB0YWcgcGFyYW1ldGVyLiBUaGUgQUNLIE1VU1QgY29udGFpbiBhIHNpbmdsZSBWaWEgaGVhZGVyIGZpZWxkLCBhbmRcbiAgICAgICAgLy8gdGhpcyBNVVNUIGJlIGVxdWFsIHRvIHRoZSB0b3AgVmlhIGhlYWRlciBmaWVsZCBvZiB0aGUgb3JpZ2luYWxcbiAgICAgICAgLy8gcmVxdWVzdC4gVGhlIENTZXEgaGVhZGVyIGZpZWxkIGluIHRoZSBBQ0sgTVVTVCBjb250YWluIHRoZSBzYW1lXG4gICAgICAgIC8vIHZhbHVlIGZvciB0aGUgc2VxdWVuY2UgbnVtYmVyIGFzIHdhcyBwcmVzZW50IGluIHRoZSBvcmlnaW5hbCByZXF1ZXN0LFxuICAgICAgICAvLyBidXQgdGhlIG1ldGhvZCBwYXJhbWV0ZXIgTVVTVCBiZSBlcXVhbCB0byBcIkFDS1wiLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgSU5WSVRFIHJlcXVlc3Qgd2hvc2UgcmVzcG9uc2UgaXMgYmVpbmcgYWNrbm93bGVkZ2VkIGhhZCBSb3V0ZVxuICAgICAgICAvLyBoZWFkZXIgZmllbGRzLCB0aG9zZSBoZWFkZXIgZmllbGRzIE1VU1QgYXBwZWFyIGluIHRoZSBBQ0suIFRoaXMgaXNcbiAgICAgICAgLy8gdG8gZW5zdXJlIHRoYXQgdGhlIEFDSyBjYW4gYmUgcm91dGVkIHByb3Blcmx5IHRocm91Z2ggYW55IGRvd25zdHJlYW1cbiAgICAgICAgLy8gc3RhdGVsZXNzIHByb3hpZXMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4xLjNcbiAgICAgICAgdmFyIHJ1cmkgPSB0aGlzLnJlcXVlc3QucnVyaTtcbiAgICAgICAgdmFyIGNhbGxJZCA9IHRoaXMucmVxdWVzdC5jYWxsSWQ7XG4gICAgICAgIHZhciBjc2VxID0gdGhpcy5yZXF1ZXN0LmNzZXE7XG4gICAgICAgIHZhciBmcm9tID0gdGhpcy5yZXF1ZXN0LmdldEhlYWRlcihcImZyb21cIik7XG4gICAgICAgIHZhciB0byA9IHJlc3BvbnNlLmdldEhlYWRlcihcInRvXCIpO1xuICAgICAgICB2YXIgdmlhID0gdGhpcy5yZXF1ZXN0LmdldEhlYWRlcihcInZpYVwiKTtcbiAgICAgICAgdmFyIHJvdXRlID0gdGhpcy5yZXF1ZXN0LmdldEhlYWRlcihcInJvdXRlXCIpO1xuICAgICAgICBpZiAoIWZyb20pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZyb20gdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRvKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUbyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmlhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWaWEgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWNrID0gXCJBQ0sgXCIgKyBydXJpICsgXCIgU0lQLzIuMFxcclxcblwiO1xuICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgIGFjayArPSBcIlJvdXRlOiBcIiArIHJvdXRlICsgXCJcXHJcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBhY2sgKz0gXCJWaWE6IFwiICsgdmlhICsgXCJcXHJcXG5cIjtcbiAgICAgICAgYWNrICs9IFwiVG86IFwiICsgdG8gKyBcIlxcclxcblwiO1xuICAgICAgICBhY2sgKz0gXCJGcm9tOiBcIiArIGZyb20gKyBcIlxcclxcblwiO1xuICAgICAgICBhY2sgKz0gXCJDYWxsLUlEOiBcIiArIGNhbGxJZCArIFwiXFxyXFxuXCI7XG4gICAgICAgIGFjayArPSBcIkNTZXE6IFwiICsgY3NlcSArIFwiIEFDS1xcclxcblwiO1xuICAgICAgICBhY2sgKz0gXCJNYXgtRm9yd2FyZHM6IDcwXFxyXFxuXCI7XG4gICAgICAgIGFjayArPSBcIkNvbnRlbnQtTGVuZ3RoOiAwXFxyXFxuXFxyXFxuXCI7XG4gICAgICAgIC8vIFRPT086IFwiVXNlci1BZ2VudFwiIGhlYWRlclxuICAgICAgICB0aGlzLnNlbmQoYWNrKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIEFDSyB0byBub24tMnh4IHJlc3BvbnNlLlwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYSBzdGF0ZSB0cmFuc2l0aW9uLlxuICAgICAqIEBwYXJhbSBuZXdTdGF0ZSAtIE5ldyBzdGF0ZS5cbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuc3RhdGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBkdWVUb1RyYW5zcG9ydEVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChkdWVUb1RyYW5zcG9ydEVycm9yID09PSB2b2lkIDApIHsgZHVlVG9UcmFuc3BvcnRFcnJvciA9IGZhbHNlOyB9XG4gICAgICAgIC8vIEFzc2VydCB2YWxpZCBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgICAgdmFyIGludmFsaWRTdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBcIiArIF90aGlzLnN0YXRlICsgXCIgdG8gXCIgKyBuZXdTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNhbGxpbmc6XG4gICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNhbGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkOlxuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ2FsbGluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNhbGxpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkdWVUb1RyYW5zcG9ydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGlsZSBub3Qgc3BlbGxlZCBvdXQgaW4gdGhlIFJGQywgVGltZXIgQiBpcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGF0IGEgc2VuZGVyXG4gICAgICAgIC8vIHdpbGwgd2FpdCBmb3IgYW4gSU5WSVRFIG1lc3NhZ2UgdG8gYmUgYWNrbm93bGVkZ2VkIChhIFNJUCByZXNwb25zZSBtZXNzYWdlIGlzIHJlY2VpdmVkKS5cbiAgICAgICAgLy8gU28gVGltZXIgQiBzaG91bGQgYmUgY2xlYXJlZCB3aGVuIHRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBwcm9jZWVkcyBmcm9tIFwiQ2FsbGluZ1wiLlxuICAgICAgICBpZiAodGhpcy5CKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5CKTtcbiAgICAgICAgICAgIHRoaXMuQiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKSB7XG4gICAgICAgICAgICAvLyBUaW1lcnMgaGF2ZSBubyBlZmZlY3Qgb24gXCJQcm9jZWVkaW5nXCIgc3RhdGUuXG4gICAgICAgICAgICAvLyBJbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgIC8vIFNIT1VMRCBOT1QgcmV0cmFuc21pdCB0aGUgcmVxdWVzdCBhbnkgbG9uZ2VyLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCBzdGFydCBUaW1lciBEIHdoZW4gaXQgZW50ZXJzIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlXG4gICAgICAgIC8vIGZvciBhbnkgcmVhc29uLCB3aXRoIGEgdmFsdWUgb2YgYXQgbGVhc3QgMzIgc2Vjb25kcyBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzLFxuICAgICAgICAvLyBhbmQgYSB2YWx1ZSBvZiB6ZXJvIHNlY29uZHMgZm9yIHJlbGlhYmxlIHRyYW5zcG9ydHMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC40XG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5EID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9EKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9EKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlLFxuICAgICAgICAvLyBhbmQgVGltZXIgTSBNVVNUIGJlIHN0YXJ0ZWQgd2l0aCBhIHZhbHVlIG9mIDY0KlQxLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguNFxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZCkge1xuICAgICAgICAgICAgdGhpcy5NID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9NKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9NKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmNlIHRoZSB0cmFuc2FjdGlvbiBpcyBpbiB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUsIGl0IE1VU1QgYmUgZGVzdHJveWVkIGltbWVkaWF0ZWx5LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguN1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiB0aW1lciBBIGZpcmVzLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgcmV0cmFuc21pdCB0aGVcbiAgICAgKiByZXF1ZXN0IGJ5IHBhc3NpbmcgaXQgdG8gdGhlIHRyYW5zcG9ydCBsYXllciwgYW5kIE1VU1QgcmVzZXQgdGhlXG4gICAgICogdGltZXIgd2l0aCBhIHZhbHVlIG9mIDIqVDEuXG4gICAgICogV2hlbiB0aW1lciBBIGZpcmVzIDIqVDEgc2Vjb25kcyBsYXRlciwgdGhlIHJlcXVlc3QgTVVTVCBiZVxuICAgICAqIHJldHJhbnNtaXR0ZWQgYWdhaW4gKGFzc3VtaW5nIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gaXMgc3RpbGwgaW4gdGhpc1xuICAgICAqIHN0YXRlKS4gVGhpcyBwcm9jZXNzIE1VU1QgY29udGludWUgc28gdGhhdCB0aGUgcmVxdWVzdCBpc1xuICAgICAqIHJldHJhbnNtaXR0ZWQgd2l0aCBpbnRlcnZhbHMgdGhhdCBkb3VibGUgYWZ0ZXIgZWFjaCB0cmFuc21pc3Npb24uXG4gICAgICogVGhlc2UgcmV0cmFuc21pc3Npb25zIFNIT1VMRCBvbmx5IGJlIGRvbmUgd2hpbGUgdGhlIGNsaWVudFxuICAgICAqIHRyYW5zYWN0aW9uIGlzIGluIHRoZSBcIkNhbGxpbmdcIiBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMS4yXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0EgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gaXMgc3RpbGwgaW4gdGhlIFwiQ2FsbGluZ1wiIHN0YXRlIHdoZW4gdGltZXJcbiAgICAgKiBCIGZpcmVzLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIFNIT1VMRCBpbmZvcm0gdGhlIFRVIHRoYXQgYSB0aW1lb3V0XG4gICAgICogaGFzIG9jY3VycmVkLiAgVGhlIGNsaWVudCB0cmFuc2FjdGlvbiBNVVNUIE5PVCBnZW5lcmF0ZSBhbiBBQ0suXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjEuMlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9CID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlRpbWVyIEIgZXhwaXJlZCBmb3IgSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiBcIiArIHRoaXMuaWQgKyBcIi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ2FsbGluZykge1xuICAgICAgICAgICAgdGhpcy5vblJlcXVlc3RUaW1lb3V0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIFRpbWVyIEQgZmlyZXMgd2hpbGUgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiBpcyBpbiB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSxcbiAgICAgKiB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgbW92ZSB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudGltZXJfRCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJUaW1lciBEIGV4cGlyZWQgZm9yIElOVklURSBjbGllbnQgdHJhbnNhY3Rpb24gXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBUaW1lciBNIGZpcmVzIHdoaWxlIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gaXMgaW4gdGhlIFwiQWNjZXB0ZWRcIlxuICAgICAqIHN0YXRlLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgbW92ZSB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjRcbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudGltZXJfTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJUaW1lciBNIGV4cGlyZWQgZm9yIElOVklURSBjbGllbnQgdHJhbnNhY3Rpb24gXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbn0oY2xpZW50X3RyYW5zYWN0aW9uXzEuQ2xpZW50VHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24gPSBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtY2xpZW50XCIpO1xuLyoqXG4gKiBCWUUgVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgQnllVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJ5ZVVzZXJBZ2VudENsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCeWVVc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5CWUUsIG9wdGlvbnMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIGRpYWxvZy5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJ5ZVVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuQnllVXNlckFnZW50Q2xpZW50ID0gQnllVXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBCWUUgVUFTLlxuICogQHB1YmxpY1xuICovXG52YXIgQnllVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJ5ZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCeWVVc2VyQWdlbnRTZXJ2ZXIoZGlhbG9nLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJ5ZVVzZXJBZ2VudFNlcnZlcjtcbn0odXNlcl9hZ2VudF9zZXJ2ZXJfMS5Vc2VyQWdlbnRTZXJ2ZXIpKTtcbmV4cG9ydHMuQnllVXNlckFnZW50U2VydmVyID0gQnllVXNlckFnZW50U2VydmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIElORk8gVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgSW5mb1VzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbmZvVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluZm9Vc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5JTkZPLCBvcHRpb25zKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBJbmZvVXNlckFnZW50Q2xpZW50O1xufSh1c2VyX2FnZW50X2NsaWVudF8xLlVzZXJBZ2VudENsaWVudCkpO1xuZXhwb3J0cy5JbmZvVXNlckFnZW50Q2xpZW50ID0gSW5mb1VzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LXNlcnZlclwiKTtcbi8qKlxuICogSU5GTyBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBJbmZvVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEluZm9Vc2VyQWdlbnRTZXJ2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5mb1VzZXJBZ2VudFNlcnZlcihkaWFsb2csIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gSW5mb1VzZXJBZ2VudFNlcnZlcjtcbn0odXNlcl9hZ2VudF9zZXJ2ZXJfMS5Vc2VyQWdlbnRTZXJ2ZXIpKTtcbmV4cG9ydHMuSW5mb1VzZXJBZ2VudFNlcnZlciA9IEluZm9Vc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIE1FU1NBR0UgVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgTWVzc2FnZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXNzYWdlVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lc3NhZ2VVc2VyQWdlbnRDbGllbnQoY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE1lc3NhZ2VVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLk1lc3NhZ2VVc2VyQWdlbnRDbGllbnQgPSBNZXNzYWdlVXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBNRVNTQUdFIFVBUy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE1lc3NhZ2VVc2VyQWdlbnRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWVzc2FnZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZXNzYWdlVXNlckFnZW50U2VydmVyKGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBNZXNzYWdlVXNlckFnZW50U2VydmVyO1xufSh1c2VyX2FnZW50X3NlcnZlcl8xLlVzZXJBZ2VudFNlcnZlcikpO1xuZXhwb3J0cy5NZXNzYWdlVXNlckFnZW50U2VydmVyID0gTWVzc2FnZVVzZXJBZ2VudFNlcnZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtY2xpZW50XCIpO1xuLyoqXG4gKiBOT1RJRlkgVUFTLlxuICogQHB1YmxpY1xuICovXG52YXIgTm90aWZ5VXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE5vdGlmeVVzZXJBZ2VudENsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOb3RpZnlVc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5OT1RJRlksIG9wdGlvbnMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE5vdGlmeVVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuTm90aWZ5VXNlckFnZW50Q2xpZW50ID0gTm90aWZ5VXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFBSQUNLIFVBQy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFByYWNrVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFByYWNrVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByYWNrVXNlckFnZW50Q2xpZW50KGRpYWxvZywgZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkaWFsb2cuY3JlYXRlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZShtZXNzYWdlc18xLkMuUFJBQ0ssIG9wdGlvbnMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIGRpYWxvZy5zaWduYWxpbmdTdGF0ZVRyYW5zaXRpb24obWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFByYWNrVXNlckFnZW50Q2xpZW50O1xufSh1c2VyX2FnZW50X2NsaWVudF8xLlVzZXJBZ2VudENsaWVudCkpO1xuZXhwb3J0cy5QcmFja1VzZXJBZ2VudENsaWVudCA9IFByYWNrVXNlckFnZW50Q2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBQUkFDSyBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBQcmFja1VzZXJBZ2VudFNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhQcmFja1VzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcmFja1VzZXJBZ2VudFNlcnZlcihkaWFsb2csIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLCBkaWFsb2cudXNlckFnZW50Q29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlIHdpdGggb2ZmZXIvYW5zd2VyIGluIGJvZHlcbiAgICAgICAgZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgX3RoaXMuZGlhbG9nID0gZGlhbG9nO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZGlhbG9nIHNpZ25hbGluZyBzdGF0ZSBvbiBhIDJ4eCByZXNwb25zZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFByYWNrVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDIwMCB9OyB9XG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlIHdpdGggb2ZmZXIvYW5zd2VyIGluIGJvZHlcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihvcHRpb25zLmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmFjY2VwdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIFByYWNrVXNlckFnZW50U2VydmVyO1xufSh1c2VyX2FnZW50X3NlcnZlcl8xLlVzZXJBZ2VudFNlcnZlcikpO1xuZXhwb3J0cy5QcmFja1VzZXJBZ2VudFNlcnZlciA9IFByYWNrVXNlckFnZW50U2VydmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFJlLUlOVklURSBVQUMuXG4gKiBAcmVtYXJrc1xuICogMTQgTW9kaWZ5aW5nIGFuIEV4aXN0aW5nIFNlc3Npb25cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTRcbiAqIDE0LjEgVUFDIEJlaGF2aW9yXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjFcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlSW52aXRlVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlSW52aXRlVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlSW52aXRlVXNlckFnZW50Q2xpZW50KGRpYWxvZywgZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkaWFsb2cuY3JlYXRlT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZShtZXNzYWdlc18xLkMuSU5WSVRFLCBvcHRpb25zKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICBkaWFsb2cuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG1lc3NhZ2UpO1xuICAgICAgICAvLyBGSVhNRTogVE9ETzogbmV4dCBsaW5lIG9idmlvdXNseSBuZWVkcyB0byBiZSBpbXByb3ZlZC4uLlxuICAgICAgICBkaWFsb2cucmVpbnZpdGVVc2VyQWdlbnRDbGllbnQgPSBfdGhpczsgLy8gbGV0IHRoZSBkaWFsb2cga25vdyByZS1pbnZpdGUgcmVxdWVzdCBzZW50XG4gICAgICAgIF90aGlzLmRpYWxvZyA9IGRpYWxvZztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZUludml0ZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmF1dGhlbnRpY2F0aW9uR3VhcmQobWVzc2FnZSwgdGhpcy5kaWFsb2cpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBtZXNzYWdlLnN0YXR1c0NvZGUgPyBtZXNzYWdlLnN0YXR1c0NvZGUudG9TdHJpbmcoKSA6IFwiXCI7XG4gICAgICAgIGlmICghc3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2Ugc3RhdHVzIGNvZGUgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xMDAkLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblRyeWluZyh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Qcm9ncmVzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5kaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmFjazogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjJbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGUgd2l0aCBvZmZlci9hbnN3ZXIgaW4gYm9keVxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uQWNjZXB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25BY2NlcHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb246IHRoaXMuZGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNrOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRnb2luZ0Fja1JlcXVlc3QgPSBfdGhpcy5kaWFsb2cuYWNrKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRnb2luZ0Fja1JlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14zWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5yZWludml0ZVVzZXJBZ2VudENsaWVudCA9IHVuZGVmaW5lZDsgLy8gQUNLIHdhcyBoYW5kbGVkIGJ5IHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWRpcmVjdCh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXls0LTZdWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5yZWludml0ZVVzZXJBZ2VudENsaWVudCA9IHVuZGVmaW5lZDsgLy8gQUNLIHdhcyBoYW5kbGVkIGJ5IHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVqZWN0KHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgVUEgcmVjZWl2ZXMgYSBub24tMnh4IGZpbmFsIHJlc3BvbnNlIHRvIGEgcmUtSU5WSVRFLCB0aGUgc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICAvLyBwYXJhbWV0ZXJzIE1VU1QgcmVtYWluIHVuY2hhbmdlZCwgYXMgaWYgbm8gcmUtSU5WSVRFIGhhZCBiZWVuIGlzc3VlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0LCBhcyBzdGF0ZWQgaW4gU2VjdGlvbiAxMi4yLjEuMiwgaWYgdGhlIG5vbi0yeHggZmluYWxcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaXMgYSA0ODEgKENhbGwvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3QpLCBvciBhIDQwOFxuICAgICAgICAgICAgICAgICAgICAvLyAoUmVxdWVzdCBUaW1lb3V0KSwgb3Igbm8gcmVzcG9uc2UgYXQgYWxsIGlzIHJlY2VpdmVkIGZvciB0aGUgcmUtXG4gICAgICAgICAgICAgICAgICAgIC8vIElOVklURSAodGhhdCBpcywgYSB0aW1lb3V0IGlzIHJldHVybmVkIGJ5IHRoZSBJTlZJVEUgY2xpZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uKSwgdGhlIFVBQyB3aWxsIHRlcm1pbmF0ZSB0aGUgZGlhbG9nLlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIFVBQyByZWNlaXZlcyBhIDQ5MSByZXNwb25zZSB0byBhIHJlLUlOVklURSwgaXQgU0hPVUxEIHN0YXJ0IGFcbiAgICAgICAgICAgICAgICAgICAgLy8gdGltZXIgd2l0aCBhIHZhbHVlIFQgY2hvc2VuIGFzIGZvbGxvd3M6XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDEuIElmIHRoZSBVQUMgaXMgdGhlIG93bmVyIG9mIHRoZSBDYWxsLUlEIG9mIHRoZSBkaWFsb2cgSURcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgKG1lYW5pbmcgaXQgZ2VuZXJhdGVkIHRoZSB2YWx1ZSksIFQgaGFzIGEgcmFuZG9tbHkgY2hvc2VuIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGJldHdlZW4gMi4xIGFuZCA0IHNlY29uZHMgaW4gdW5pdHMgb2YgMTAgbXMuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDIuIElmIHRoZSBVQUMgaXMgbm90IHRoZSBvd25lciBvZiB0aGUgQ2FsbC1JRCBvZiB0aGUgZGlhbG9nIElELCBUXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGhhcyBhIHJhbmRvbWx5IGNob3NlbiB2YWx1ZSBvZiBiZXR3ZWVuIDAgYW5kIDIgc2Vjb25kcyBpbiB1bml0c1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBvZiAxMCBtcy5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgdGltZXIgZmlyZXMsIHRoZSBVQUMgU0hPVUxEIGF0dGVtcHQgdGhlIHJlLUlOVklURSBvbmNlIG1vcmUsXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IHN0aWxsIGRlc2lyZXMgZm9yIHRoYXQgc2Vzc2lvbiBtb2RpZmljYXRpb24gdG8gdGFrZSBwbGFjZS4gIEZvclxuICAgICAgICAgICAgICAgICAgICAvLyBleGFtcGxlLCBpZiB0aGUgY2FsbCB3YXMgYWxyZWFkeSBodW5nIHVwIHdpdGggYSBCWUUsIHRoZSByZS1JTlZJVEVcbiAgICAgICAgICAgICAgICAgICAgLy8gd291bGQgbm90IHRha2UgcGxhY2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTQuMVxuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhlIGFib3ZlLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZSBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVJbnZpdGVVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLlJlSW52aXRlVXNlckFnZW50Q2xpZW50ID0gUmVJbnZpdGVVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFJlLUlOVklURSBVQVMuXG4gKiBAcmVtYXJrc1xuICogMTQgTW9kaWZ5aW5nIGFuIEV4aXN0aW5nIFNlc3Npb25cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTRcbiAqIDE0LjIgVUFTIEJlaGF2aW9yXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjJcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlSW52aXRlVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlSW52aXRlVXNlckFnZW50U2VydmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlSW52aXRlVXNlckFnZW50U2VydmVyKGRpYWxvZywgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgZGlhbG9nLnJlaW52aXRlVXNlckFnZW50U2VydmVyID0gX3RoaXM7XG4gICAgICAgIF90aGlzLmRpYWxvZyA9IGRpYWxvZztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGUgb24gYSAyeHggcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBSZUludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiAyMDAgfTsgfVxuICAgICAgICAvLyBGSVhNRTogVGhlIG5leHQgdHdvIGxpbmVzIFNIT1VMRCBnbyBhd2F5LCBidXQgSSBzdXBwb3NlIGl0J3MgdGVjaG5pY2FsbHkgaGFybWxlc3MuLi5cbiAgICAgICAgLy8gVGhlc2UgYXJlIGhlcmUgYmVjYXVzZSBzb21lIHZlcnNpb25zIG9mIFNJUC5qcyBwcmlvciB0byAwLjEzLjggc2V0IHRoZSByb3V0ZSBzZXRcbiAgICAgICAgLy8gb2YgYWxsIGluIGRpYWxvZyBBQ0tzIGJhc2VkIG9uIHRoZSBSZWNvcmQtUm91dGUgaGVhZGVycyBpbiB0aGUgYXNzb2NpYXRlZCAyeHhcbiAgICAgICAgLy8gcmVzcG9uc2UuIFdoaWxlIHRoaXMgd29ya2VkIGZvciBkaWFsb2cgZm9ybWluZyAyeHggcmVzcG9uc2VzLCBpdCB3YXMgdGVjaG5pY2FsbHlcbiAgICAgICAgLy8gYnJva2VuIGZvciByZS1JTlZJVEUgQUNLUyBhcyBpdCBvbmx5IHdvcmtlZCBpZiB0aGUgVUFTIHBvcHVsYXRlZCB0aGUgUmVjb3JkLVJvdXRlXG4gICAgICAgIC8vIGhlYWRlcnMgaW4gdGhlIHJlLUlOVklURSAyeHggcmVzcG9uc2UgKHdoaWNoIGlzIG5vdCByZXF1aXJlZCBhbmQgYSB3YXN0ZSBvZiBiYW5kd2lkdGhcbiAgICAgICAgLy8gYXMgdGhlIHNob3VsZCBiZSBpZ25vcmVkIGlmIHByZXNlbnQgaW4gcmUtSU5WSVRFIEFDS1MpIGFuZCB0aGUgVUFTIHBvcHVsYXRlZFxuICAgICAgICAvLyB0aGUgUmVjb3JkLVJvdXRlIGhlYWRlcnMgd2l0aCB0aGUgY29ycmVjdCB2YWx1ZXMgKHdvdWxkIGJlIHdlaXJkIG5vdCB0b28sIGJ1dC4uLikuXG4gICAgICAgIC8vIEFueXdheSwgZm9yIG5vdyB0aGUgdGVjaG5pY2FsbHkgdXNlbGVzcyBSZWNvcmQtUm91dGUgaGVhZGVycyBhcmUgYmVpbmcgYWRkZWRcbiAgICAgICAgLy8gdG8gbWFpbnRhaW4gXCJiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVwiIHdpdGggdGhlIG9sZGVyIGJyb2tlbiB2ZXJzaW9ucyBvZiBTSVAuanMuXG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW107XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMuY29uY2F0KHRoaXMuZGlhbG9nLnJvdXRlU2V0Lm1hcChmdW5jdGlvbiAocm91dGUpIHsgcmV0dXJuIFwiUmVjb3JkLVJvdXRlOiBcIiArIHJvdXRlOyB9KSk7XG4gICAgICAgIC8vIFNlbmQgYW5kIHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3N1cGVyLnByb3RvdHlwZS5hY2NlcHQuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLmRpYWxvZztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRzbGliXzEuX19hc3NpZ24odHNsaWJfMS5fX2Fzc2lnbih7fSwgcmVzcG9uc2UpLCB7IHNlc3Npb246IHNlc3Npb24gfSk7XG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlIHdpdGggb2ZmZXIvYW5zd2VyIGluIGJvZHlcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihvcHRpb25zLmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBkaWFsb2dcbiAgICAgICAgdGhpcy5kaWFsb2cucmVDb25maXJtKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGUgb24gYSAxeHggcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBQcm9ncmVzcyBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBSZUludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDE4MCB9OyB9XG4gICAgICAgIC8vIFNlbmQgYW5kIHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3N1cGVyLnByb3RvdHlwZS5wcm9ncmVzcy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZGlhbG9nO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHNsaWJfMS5fX2Fzc2lnbih0c2xpYl8xLl9fYXNzaWduKHt9LCByZXNwb25zZSksIHsgc2Vzc2lvbjogc2Vzc2lvbiB9KTtcbiAgICAgICAgLy8gVXBkYXRlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGVcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2cuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG9wdGlvbnMuYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRPRE86IE5vdCBZZXQgU3VwcG9ydGVkXG4gICAgICogQHBhcmFtIGNvbnRhY3RzIC0gQ29udGFjdHMgdG8gcmVkaXJlY3QgdG8uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZWRpcmVjdCBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBSZUludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucmVkaXJlY3QgPSBmdW5jdGlvbiAoY29udGFjdHMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiAzMDIgfTsgfVxuICAgICAgICB0aGlzLmRpYWxvZy5zaWduYWxpbmdTdGF0ZVJvbGxiYWNrKCk7XG4gICAgICAgIHRoaXMuZGlhbG9nLnJlaW52aXRlVXNlckFnZW50U2VydmVyID0gdW5kZWZpbmVkOyAvLyBBQ0sgd2lsbCBiZSBoYW5kbGVkIGJ5IHRyYW5zYWN0aW9uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogMy4xIEJhY2tncm91bmQgb24gUmUtSU5WSVRFIEhhbmRsaW5nIGJ5IFVBU3NcbiAgICAgKiBBbiBlcnJvciByZXNwb25zZSB0byBhIHJlLUlOVklURSBoYXMgdGhlIGZvbGxvd2luZyBzZW1hbnRpY3MuICBBc1xuICAgICAqIHNwZWNpZmllZCBpbiBTZWN0aW9uIDEyLjIuMiBvZiBSRkMgMzI2MSBbUkZDMzI2MV0sIGlmIGEgcmUtSU5WSVRFIGlzXG4gICAgICogcmVqZWN0ZWQsIG5vIHN0YXRlIGNoYW5nZXMgYXJlIHBlcmZvcm1lZC5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjE0MSNzZWN0aW9uLTMuMVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVqZWN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFJlSW52aXRlVXNlckFnZW50U2VydmVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDQ4OCB9OyB9XG4gICAgICAgIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2soKTtcbiAgICAgICAgdGhpcy5kaWFsb2cucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIgPSB1bmRlZmluZWQ7IC8vIEFDSyB3aWxsIGJlIGhhbmRsZWQgYnkgdHJhbnNhY3Rpb25cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVqZWN0LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVJbnZpdGVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlSW52aXRlVXNlckFnZW50U2VydmVyID0gUmVJbnZpdGVVc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIG1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vbWVzc2FnZXNcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogUkVGRVIgVUFDLlxuICogQHB1YmxpY1xuICovXG52YXIgUmVmZXJVc2VyQWdlbnRDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmZXJVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmZXJVc2VyQWdlbnRDbGllbnQoZGlhbG9nLCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGRpYWxvZy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5SRUZFUiwgb3B0aW9ucyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVmZXJVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLlJlZmVyVXNlckFnZW50Q2xpZW50ID0gUmVmZXJVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFJFRkVSIFVBUy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlZmVyVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZmVyVXNlckFnZW50U2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIFJFRkVSIFVBUyBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gZGlhbG9nT3JDb3JlIC0gRGlhbG9nIGZvciBpbiBkaWFsb2cgUkVGRVIsIFVzZXJBZ2VudENvcmUgZm9yIG91dCBvZiBkaWFsb2cgUkVGRVIuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyBSRUZFUiByZXF1ZXN0IG1lc3NhZ2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVmZXJVc2VyQWdlbnRTZXJ2ZXIoZGlhbG9nT3JDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdXNlckFnZW50Q29yZSA9IGluc3RhbmNlT2ZTZXNzaW9uRGlhbG9nKGRpYWxvZ09yQ29yZSkgP1xuICAgICAgICAgICAgZGlhbG9nT3JDb3JlLnVzZXJBZ2VudENvcmUgOlxuICAgICAgICAgICAgZGlhbG9nT3JDb3JlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLCB1c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVmZXJVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlZmVyVXNlckFnZW50U2VydmVyID0gUmVmZXJVc2VyQWdlbnRTZXJ2ZXI7XG5mdW5jdGlvbiBpbnN0YW5jZU9mU2Vzc2lvbkRpYWxvZyhvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0LnVzZXJBZ2VudENvcmUgIT09IHVuZGVmaW5lZDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlc1wiKTtcbnZhciBzdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9zdWJzY3JpcHRpb25cIik7XG52YXIgdGltZXJzXzEgPSByZXF1aXJlKFwiLi4vdGltZXJzXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnQtY29yZS9hbGxvd2VkLW1ldGhvZHNcIik7XG52YXIgbm90aWZ5X3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbm90aWZ5LXVzZXItYWdlbnQtc2VydmVyXCIpO1xudmFyIHJlX3N1YnNjcmliZV91c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnRzL3JlLXN1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudFwiKTtcbnZhciBkaWFsb2dfMSA9IHJlcXVpcmUoXCIuL2RpYWxvZ1wiKTtcbi8qKlxuICogU3Vic2NyaXB0aW9uIERpYWxvZy5cbiAqIEByZW1hcmtzXG4gKiBTSVAtU3BlY2lmaWMgRXZlbnQgTm90aWZpY2F0aW9uXG4gKlxuICogQWJzdHJhY3RcbiAqXG4gKiAgICBUaGlzIGRvY3VtZW50IGRlc2NyaWJlcyBhbiBleHRlbnNpb24gdG8gdGhlIFNlc3Npb24gSW5pdGlhdGlvblxuICogICAgUHJvdG9jb2wgKFNJUCkgZGVmaW5lZCBieSBSRkMgMzI2MS4gIFRoZSBwdXJwb3NlIG9mIHRoaXMgZXh0ZW5zaW9uIGlzXG4gKiAgICB0byBwcm92aWRlIGFuIGV4dGVuc2libGUgZnJhbWV3b3JrIGJ5IHdoaWNoIFNJUCBub2RlcyBjYW4gcmVxdWVzdFxuICogICAgbm90aWZpY2F0aW9uIGZyb20gcmVtb3RlIG5vZGVzIGluZGljYXRpbmcgdGhhdCBjZXJ0YWluIGV2ZW50cyBoYXZlXG4gKiAgICBvY2N1cnJlZC5cbiAqXG4gKiAgICBOb3RlIHRoYXQgdGhlIGV2ZW50IG5vdGlmaWNhdGlvbiBtZWNoYW5pc21zIGRlZmluZWQgaGVyZWluIGFyZSBOT1RcbiAqICAgIGludGVuZGVkIHRvIGJlIGEgZ2VuZXJhbC1wdXJwb3NlIGluZnJhc3RydWN0dXJlIGZvciBhbGwgY2xhc3NlcyBvZlxuICogICAgZXZlbnQgc3Vic2NyaXB0aW9uIGFuZCBub3RpZmljYXRpb24uXG4gKlxuICogICAgVGhpcyBkb2N1bWVudCByZXByZXNlbnRzIGEgYmFja3dhcmRzLWNvbXBhdGlibGUgaW1wcm92ZW1lbnQgb24gdGhlXG4gKiAgICBvcmlnaW5hbCBtZWNoYW5pc20gZGVzY3JpYmVkIGJ5IFJGQyAzMjY1LCB0YWtpbmcgaW50byBhY2NvdW50IHNldmVyYWxcbiAqICAgIHllYXJzIG9mIGltcGxlbWVudGF0aW9uIGV4cGVyaWVuY2UuICBBY2NvcmRpbmdseSwgdGhpcyBkb2N1bWVudFxuICogICAgb2Jzb2xldGVzIFJGQyAzMjY1LiAgVGhpcyBkb2N1bWVudCBhbHNvIHVwZGF0ZXMgUkZDIDQ2NjAgc2xpZ2h0bHkgdG9cbiAqICAgIGFjY29tbW9kYXRlIHNvbWUgc21hbGwgY2hhbmdlcyB0byB0aGUgbWVjaGFuaXNtIHRoYXQgd2VyZSBkaXNjdXNzZWRcbiAqICAgIGluIHRoYXQgZG9jdW1lbnQuXG4gKlxuICogIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1XG4gKiBAcHVibGljXG4gKi9cbnZhciBTdWJzY3JpcHRpb25EaWFsb2cgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaXB0aW9uRGlhbG9nLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbkRpYWxvZyhzdWJzY3JpcHRpb25FdmVudCwgc3Vic2NyaXB0aW9uRXhwaXJlcywgc3Vic2NyaXB0aW9uU3RhdGUsIGNvcmUsIHN0YXRlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb3JlLCBzdGF0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgX3RoaXMuX2F1dG9SZWZyZXNoID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25FdmVudCA9IHN1YnNjcmlwdGlvbkV2ZW50O1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHN1YnNjcmlwdGlvbkV4cGlyZXM7XG4gICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzSW5pdGlhbCA9IHN1YnNjcmlwdGlvbkV4cGlyZXM7XG4gICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uUmVmcmVzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2hMYXN0U2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uU3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gY29yZS5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC5zdWJzY3JpYmUtZGlhbG9nXCIpO1xuICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIF90aGlzLmlkICsgXCIgY29uc3RydWN0ZWRcIik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBhIFVBQyByZWNlaXZlcyBhIHJlc3BvbnNlIHRoYXQgZXN0YWJsaXNoZXMgYSBkaWFsb2csIGl0XG4gICAgICogY29uc3RydWN0cyB0aGUgc3RhdGUgb2YgdGhlIGRpYWxvZy4gIFRoaXMgc3RhdGUgTVVTVCBiZSBtYWludGFpbmVkXG4gICAgICogZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgZGlhbG9nLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICogQHBhcmFtIG91dGdvaW5nUmVxdWVzdE1lc3NhZ2UgLSBPdXRnb2luZyByZXF1ZXN0IG1lc3NhZ2UgZm9yIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gaW5jb21pbmdSZXNwb25zZU1lc3NhZ2UgLSBJbmNvbWluZyByZXNwb25zZSBtZXNzYWdlIGNyZWF0aW5nIGRpYWxvZy5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cuaW5pdGlhbERpYWxvZ1N0YXRlRm9yU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG91dGdvaW5nU3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UsIGluY29taW5nTm90aWZ5UmVxdWVzdE1lc3NhZ2UpIHtcbiAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3Qgd2FzIHNlbnQgb3ZlciBUTFMsIGFuZCB0aGUgUmVxdWVzdC1VUkkgY29udGFpbmVkIGFcbiAgICAgICAgLy8gU0lQUyBVUkksIHRoZSBcInNlY3VyZVwiIGZsYWcgaXMgc2V0IHRvIFRSVUUuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICAgIHZhciBzZWN1cmUgPSBmYWxzZTsgLy8gRklYTUU6IEN1cnJlbnRseSBubyBzdXBwb3J0IGZvciBUTFMuXG4gICAgICAgIC8vIFRoZSByb3V0ZSBzZXQgTVVTVCBiZSBzZXQgdG8gdGhlIGxpc3Qgb2YgVVJJcyBpbiB0aGUgUmVjb3JkLVJvdXRlXG4gICAgICAgIC8vIGhlYWRlciBmaWVsZCBmcm9tIHRoZSByZXNwb25zZSwgdGFrZW4gaW4gcmV2ZXJzZSBvcmRlciBhbmQgcHJlc2VydmluZ1xuICAgICAgICAvLyBhbGwgVVJJIHBhcmFtZXRlcnMuICBJZiBubyBSZWNvcmQtUm91dGUgaGVhZGVyIGZpZWxkIGlzIHByZXNlbnQgaW5cbiAgICAgICAgLy8gdGhlIHJlc3BvbnNlLCB0aGUgcm91dGUgc2V0IE1VU1QgYmUgc2V0IHRvIHRoZSBlbXB0eSBzZXQuICBUaGlzIHJvdXRlXG4gICAgICAgIC8vIHNldCwgZXZlbiBpZiBlbXB0eSwgb3ZlcnJpZGVzIGFueSBwcmUtZXhpc3Rpbmcgcm91dGUgc2V0IGZvciBmdXR1cmVcbiAgICAgICAgLy8gcmVxdWVzdHMgaW4gdGhpcyBkaWFsb2cuICBUaGUgcmVtb3RlIHRhcmdldCBNVVNUIGJlIHNldCB0byB0aGUgVVJJXG4gICAgICAgIC8vIGZyb20gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIG9mIHRoZSByZXNwb25zZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjJcbiAgICAgICAgdmFyIHJvdXRlU2V0ID0gaW5jb21pbmdOb3RpZnlSZXF1ZXN0TWVzc2FnZS5nZXRIZWFkZXJzKFwicmVjb3JkLXJvdXRlXCIpO1xuICAgICAgICB2YXIgY29udGFjdCA9IGluY29taW5nTm90aWZ5UmVxdWVzdE1lc3NhZ2UucGFyc2VIZWFkZXIoXCJjb250YWN0XCIpO1xuICAgICAgICBpZiAoIWNvbnRhY3QpIHsgLy8gVE9ETzogUmV2aWV3IHRvIG1ha2Ugc3VyZSB0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY29udGFjdCBpbnN0YW5jZW9mIG1lc3NhZ2VzXzEuTmFtZUFkZHJIZWFkZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IG5vdCBpbnN0YW5jZSBvZiBOYW1lQWRkckhlYWRlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbW90ZVRhcmdldCA9IGNvbnRhY3QudXJpO1xuICAgICAgICAvLyBUaGUgbG9jYWwgc2VxdWVuY2UgbnVtYmVyIE1VU1QgYmUgc2V0IHRvIHRoZSB2YWx1ZSBvZiB0aGUgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVyIGluIHRoZSBDU2VxIGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdC4gIFRoZSByZW1vdGUgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVyIE1VU1QgYmUgZW1wdHkgKGl0IGlzIGVzdGFibGlzaGVkIHdoZW4gdGhlIHJlbW90ZSBVQSBzZW5kcyBhXG4gICAgICAgIC8vIHJlcXVlc3Qgd2l0aGluIHRoZSBkaWFsb2cpLiAgVGhlIGNhbGwgaWRlbnRpZmllciBjb21wb25lbnQgb2YgdGhlXG4gICAgICAgIC8vIGRpYWxvZyBJRCBNVVNUIGJlIHNldCB0byB0aGUgdmFsdWUgb2YgdGhlIENhbGwtSUQgaW4gdGhlIHJlcXVlc3QuXG4gICAgICAgIC8vIFRoZSBsb2NhbCB0YWcgY29tcG9uZW50IG9mIHRoZSBkaWFsb2cgSUQgTVVTVCBiZSBzZXQgdG8gdGhlIHRhZyBpblxuICAgICAgICAvLyB0aGUgRnJvbSBmaWVsZCBpbiB0aGUgcmVxdWVzdCwgYW5kIHRoZSByZW1vdGUgdGFnIGNvbXBvbmVudCBvZiB0aGVcbiAgICAgICAgLy8gZGlhbG9nIElEIE1VU1QgYmUgc2V0IHRvIHRoZSB0YWcgaW4gdGhlIFRvIGZpZWxkIG9mIHRoZSByZXNwb25zZS4gIEFcbiAgICAgICAgLy8gVUFDIE1VU1QgYmUgcHJlcGFyZWQgdG8gcmVjZWl2ZSBhIHJlc3BvbnNlIHdpdGhvdXQgYSB0YWcgaW4gdGhlIFRvXG4gICAgICAgIC8vIGZpZWxkLCBpbiB3aGljaCBjYXNlIHRoZSB0YWcgaXMgY29uc2lkZXJlZCB0byBoYXZlIGEgdmFsdWUgb2YgbnVsbC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgVGhpcyBpcyB0byBtYWludGFpbiBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJGQyAyNTQzLCB3aGljaFxuICAgICAgICAvLyAgICBkaWQgbm90IG1hbmRhdGUgVG8gdGFncy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4xLjJcbiAgICAgICAgdmFyIGxvY2FsU2VxdWVuY2VOdW1iZXIgPSBvdXRnb2luZ1N1YnNjcmliZVJlcXVlc3RNZXNzYWdlLmNzZXE7XG4gICAgICAgIHZhciByZW1vdGVTZXF1ZW5jZU51bWJlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGNhbGxJZCA9IG91dGdvaW5nU3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UuY2FsbElkO1xuICAgICAgICB2YXIgbG9jYWxUYWcgPSBvdXRnb2luZ1N1YnNjcmliZVJlcXVlc3RNZXNzYWdlLmZyb21UYWc7XG4gICAgICAgIHZhciByZW1vdGVUYWcgPSBpbmNvbWluZ05vdGlmeVJlcXVlc3RNZXNzYWdlLmZyb21UYWc7XG4gICAgICAgIGlmICghY2FsbElkKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbCBpZCB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbG9jYWxUYWcpIHsgLy8gVE9ETzogUmV2aWV3IHRvIG1ha2Ugc3VyZSB0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGcm9tIHRhZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVtb3RlVGFnKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG8gdGFnIHVuZGVmaW5lZC5cIik7IC8vIEZJWE1FOiBObyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJGQyAyNTQzXG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHJlbW90ZSBVUkkgTVVTVCBiZSBzZXQgdG8gdGhlIFVSSSBpbiB0aGUgVG8gZmllbGQsIGFuZCB0aGUgbG9jYWxcbiAgICAgICAgLy8gVVJJIE1VU1QgYmUgc2V0IHRvIHRoZSBVUkkgaW4gdGhlIEZyb20gZmllbGQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4yXG4gICAgICAgIGlmICghb3V0Z29pbmdTdWJzY3JpYmVSZXF1ZXN0TWVzc2FnZS5mcm9tKSB7IC8vIFRPRE86IFJldmlldyB0byBtYWtlIHN1cmUgdGhpcyB3aWxsIG5ldmVyIGhhcHBlblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3V0Z29pbmdTdWJzY3JpYmVSZXF1ZXN0TWVzc2FnZS50bykgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvY2FsVVJJID0gb3V0Z29pbmdTdWJzY3JpYmVSZXF1ZXN0TWVzc2FnZS5mcm9tLnVyaTtcbiAgICAgICAgdmFyIHJlbW90ZVVSSSA9IG91dGdvaW5nU3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UudG8udXJpO1xuICAgICAgICAvLyBBIGRpYWxvZyBjYW4gYWxzbyBiZSBpbiB0aGUgXCJlYXJseVwiIHN0YXRlLCB3aGljaCBvY2N1cnMgd2hlbiBpdCBpc1xuICAgICAgICAvLyBjcmVhdGVkIHdpdGggYSBwcm92aXNpb25hbCByZXNwb25zZSwgYW5kIHRoZW4gdHJhbnNpdGlvbiB0byB0aGVcbiAgICAgICAgLy8gXCJjb25maXJtZWRcIiBzdGF0ZSB3aGVuIGEgMnh4IGZpbmFsIHJlc3BvbnNlIGFycml2ZXMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTJcbiAgICAgICAgdmFyIGVhcmx5ID0gZmFsc2U7XG4gICAgICAgIHZhciBkaWFsb2dTdGF0ZSA9IHtcbiAgICAgICAgICAgIGlkOiBjYWxsSWQgKyBsb2NhbFRhZyArIHJlbW90ZVRhZyxcbiAgICAgICAgICAgIGVhcmx5OiBlYXJseSxcbiAgICAgICAgICAgIGNhbGxJZDogY2FsbElkLFxuICAgICAgICAgICAgbG9jYWxUYWc6IGxvY2FsVGFnLFxuICAgICAgICAgICAgcmVtb3RlVGFnOiByZW1vdGVUYWcsXG4gICAgICAgICAgICBsb2NhbFNlcXVlbmNlTnVtYmVyOiBsb2NhbFNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgcmVtb3RlU2VxdWVuY2VOdW1iZXI6IHJlbW90ZVNlcXVlbmNlTnVtYmVyLFxuICAgICAgICAgICAgbG9jYWxVUkk6IGxvY2FsVVJJLFxuICAgICAgICAgICAgcmVtb3RlVVJJOiByZW1vdGVVUkksXG4gICAgICAgICAgICByZW1vdGVUYXJnZXQ6IHJlbW90ZVRhcmdldCxcbiAgICAgICAgICAgIHJvdXRlU2V0OiByb3V0ZVNldCxcbiAgICAgICAgICAgIHNlY3VyZTogc2VjdXJlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaWFsb2dTdGF0ZTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLk4pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLk4pO1xuICAgICAgICAgICAgdGhpcy5OID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcmVzaFRpbWVyQ2xlYXIoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiBkZXN0cm95ZWRcIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZSwgXCJhdXRvUmVmcmVzaFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9SZWZyZXNoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhdXRvUmVmcmVzaCkge1xuICAgICAgICAgICAgdGhpcy5fYXV0b1JlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGltZXJTZXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uRXZlbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25FdmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uRXhwaXJlc1wiLCB7XG4gICAgICAgIC8qKiBOdW1iZXIgb2Ygc2Vjb25kcyB1bnRpbCBzdWJzY3JpcHRpb24gZXhwaXJlcy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1NpbmNlTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIC0gdGhpcy5fc3Vic2NyaXB0aW9uRXhwaXJlc0xhc3RTZXQ7XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1VudGlsRXhwaXJlcyA9IHRoaXMuX3N1YnNjcmlwdGlvbkV4cGlyZXMgLSBzZWNvbmRzU2luY2VMYXN0U2V0O1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHNlY29uZHNVbnRpbEV4cGlyZXMsIDApO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChleHBpcmVzKSB7XG4gICAgICAgICAgICBpZiAoZXhwaXJlcyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBpcmVzIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHplcm8uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uRXhwaXJlcyA9IGV4cGlyZXM7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b1JlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHRoaXMuc3Vic2NyaXB0aW9uUmVmcmVzaDtcbiAgICAgICAgICAgICAgICBpZiAocmVmcmVzaCA9PT0gdW5kZWZpbmVkIHx8IHJlZnJlc2ggPj0gZXhwaXJlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hUaW1lclNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uRXhwaXJlc0luaXRpYWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpcHRpb25FeHBpcmVzSW5pdGlhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUsIFwic3Vic2NyaXB0aW9uUmVmcmVzaFwiLCB7XG4gICAgICAgIC8qKiBOdW1iZXIgb2Ygc2Vjb25kcyB1bnRpbCBzdWJzY3JpcHRpb24gYXV0byByZWZyZXNoLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25SZWZyZXNoID09PSB1bmRlZmluZWQgfHwgdGhpcy5fc3Vic2NyaXB0aW9uUmVmcmVzaExhc3RTZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1NpbmNlTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIC0gdGhpcy5fc3Vic2NyaXB0aW9uUmVmcmVzaExhc3RTZXQ7XG4gICAgICAgICAgICB2YXIgc2Vjb25kc1VudGlsRXhwaXJlcyA9IHRoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2ggLSBzZWNvbmRzU2luY2VMYXN0U2V0O1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHNlY29uZHNVbnRpbEV4cGlyZXMsIDApO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZSwgXCJzdWJzY3JpcHRpb25TdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvblN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIGluIGRpYWxvZyByZXF1ZXN0IG1lc3NhZ2UgZnJvbSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSAgVGhlIGluY29taW5nIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdFwiKTtcbiAgICAgICAgLy8gUmVxdWVzdCB3aXRoaW4gYSBkaWFsb2cgb3V0IG9mIHNlcXVlbmNlIGd1YXJkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICBpZiAoIXRoaXMuc2VxdWVuY2VHdWFyZChtZXNzYWdlKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU1VCU0NSSUJFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWplY3RlZCBvdXQgb2Ygb3JkZXIgXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3QuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlcXVlc3Qgd2l0aGluIGEgZGlhbG9nIGNvbW1vbiBwcm9jZXNzaW5nLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0LmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIC8vIFN3aXRjaCBvbiBtZXRob2QgYW5kIHRoZW4gZGVsZWdhdGUuXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk5PVElGWTpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTm90aWZ5KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTVUJTQ1JJQkUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHJlY2VpdmVkIHVuaW1wbGVtZW50ZWQgXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3RcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3JlLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNTAxIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA0LjEuMi4yLiAgUmVmcmVzaGluZyBvZiBTdWJzY3JpcHRpb25zXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBvcHRpb25zID0ge307XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGFsbG93SGVhZGVyKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkV2ZW50OiBcIiArIHRoaXMuc3Vic2NyaXB0aW9uRXZlbnQpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiRXhwaXJlczogXCIgKyB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXNJbml0aWFsKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdC50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlKHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA0LjEuMi4yLiAgUmVmcmVzaGluZyBvZiBTdWJzY3JpcHRpb25zXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICogQHBhcmFtIGRlbGVnYXRlIC0gRGVsZWdhdGUgdG8gaGFuZGxlIHJlc3BvbnNlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvblN0YXRlICE9PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5QZW5kaW5nICYmIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRoaXMgbmVlZHMgdG8gYmUgYSBwcm9wZXIgZXhjZXB0aW9uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIFwiICsgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSArIFwiLiBNYXkgb25seSByZS1zdWJzY3JpYmUgd2hpbGUgaW4gc3RhdGUgXFxcInBlbmRpbmdcXFwiIG9yIFxcXCJhY3RpdmVcXFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTVUJTQ1JJQkUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgU1VCU0NSSUJFIHJlcXVlc3RcIik7XG4gICAgICAgIHZhciB1YWMgPSBuZXcgcmVfc3Vic2NyaWJlX3VzZXJfYWdlbnRfY2xpZW50XzEuUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQodGhpcywgZGVsZWdhdGUsIG9wdGlvbnMpO1xuICAgICAgICAvLyBXaGVuIHJlZnJlc2hpbmcgYSBzdWJzY3JpcHRpb24sIGEgc3Vic2NyaWJlciBzdGFydHMgVGltZXIgTiwgc2V0IHRvXG4gICAgICAgIC8vIDY0KlQxLCB3aGVuIGl0IHNlbmRzIHRoZSBTVUJTQ1JJQkUgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICAgIHRoaXMuTiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudGltZXJfTigpOyB9LCB0aW1lcnNfMS5UaW1lcnMuVElNRVJfTik7XG4gICAgICAgIHJldHVybiB1YWM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA0LjQuMS4gIERpYWxvZyBDcmVhdGlvbiBhbmQgVGVybWluYXRpb25cbiAgICAgKiBBIHN1YnNjcmlwdGlvbiBpcyBkZXN0cm95ZWQgYWZ0ZXIgYSBub3RpZmllciBzZW5kcyBhIE5PVElGWSByZXF1ZXN0XG4gICAgICogd2l0aCBhIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgb2YgXCJ0ZXJtaW5hdGVkXCIsIG9yIGluIGNlcnRhaW4gZXJyb3JcbiAgICAgKiBzaXR1YXRpb25zIGRlc2NyaWJlZCBlbHNld2hlcmUgaW4gdGhpcyBkb2N1bWVudC5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuNC4xXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICB0aGlzLm9uVGVybWluYXRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogNC4xLjIuMy4gIFVuc3Vic2NyaWJpbmdcbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4yLjNcbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBvcHRpb25zID0ge307XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGFsbG93SGVhZGVyKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkV2ZW50OiBcIiArIHRoaXMuc3Vic2NyaXB0aW9uRXZlbnQpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiRXhwaXJlczogMFwiKTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMucHVzaChcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdC50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlKHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIE5PVElGWSByZXF1ZXN0cy5cbiAgICAgKiBUaGlzIGRvZXMgbm90IGluY2x1ZGUgdGhlIGZpcnN0IE5PVElGWSB3aGljaCBjcmVhdGVkIHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgaW5jb21pbmcgTk9USUZZIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLm9uTm90aWZ5ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gSWYsIGZvciBzb21lIHJlYXNvbiwgdGhlIGV2ZW50IHBhY2thZ2UgZGVzaWduYXRlZCBpbiB0aGUgXCJFdmVudFwiXG4gICAgICAgIC8vIGhlYWRlciBmaWVsZCBvZiB0aGUgTk9USUZZIHJlcXVlc3QgaXMgbm90IHN1cHBvcnRlZCwgdGhlIHN1YnNjcmliZXJcbiAgICAgICAgLy8gd2lsbCByZXNwb25kIHdpdGggYSA0ODkgKEJhZCBFdmVudCkgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjNcbiAgICAgICAgdmFyIGV2ZW50ID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIkV2ZW50XCIpLmV2ZW50O1xuICAgICAgICBpZiAoIWV2ZW50IHx8IGV2ZW50ICE9PSB0aGlzLnN1YnNjcmlwdGlvbkV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0ODkgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW4gdGhlIHN0YXRlIGRpYWdyYW0sIFwiUmUtc3Vic2NyaXB0aW9uIHRpbWVzIG91dFwiIG1lYW5zIHRoYXQgYW5cbiAgICAgICAgLy8gYXR0ZW1wdCB0byByZWZyZXNoIG9yIHVwZGF0ZSB0aGUgc3Vic2NyaXB0aW9uIHVzaW5nIGEgbmV3IFNVQlNDUklCRVxuICAgICAgICAvLyByZXF1ZXN0IGRvZXMgbm90IHJlc3VsdCBpbiBhIE5PVElGWSByZXF1ZXN0IGJlZm9yZSB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAgICAvLyBUaW1lciBOIGV4cGlyZXMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjJcbiAgICAgICAgaWYgKHRoaXMuTikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuTik7XG4gICAgICAgICAgICB0aGlzLk4gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTk9USUZZIHJlcXVlc3RzIE1VU1QgY29udGFpbiBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIGhlYWRlciBmaWVsZHMgdGhhdFxuICAgICAgICAvLyBpbmRpY2F0ZSB0aGUgc3RhdHVzIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjNcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvblN0YXRlID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFzdWJzY3JpcHRpb25TdGF0ZSB8fCAhc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29yZS5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQ4OSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZS5zdGF0ZTtcbiAgICAgICAgdmFyIGV4cGlyZXMgPSBzdWJzY3JpcHRpb25TdGF0ZS5leHBpcmVzID8gTWF0aC5tYXgoc3Vic2NyaXB0aW9uU3RhdGUuZXhwaXJlcywgMCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFVwZGF0ZSBvdXIgc3RhdGUgYW5kIGV4cGlyYXRpb24uXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwZW5kaW5nXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuUGVuZGluZywgZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWN0aXZlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlLCBleHBpcmVzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCwgZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVbnJlY29nbml6ZWQgc3Vic2NyaXB0aW9uIHN0YXRlLlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxlZ2F0ZSByZW1haW5kZXIgb2YgTk9USUZZIGhhbmRsaW5nLlxuICAgICAgICB2YXIgdWFzID0gbmV3IG5vdGlmeV91c2VyX2FnZW50X3NlcnZlcl8xLk5vdGlmeVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbk5vdGlmeSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbk5vdGlmeSh1YXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdWFzLmFjY2VwdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLm9uUmVmcmVzaCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25SZWZyZXNoKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVmcmVzaChyZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS5vblRlcm1pbmF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uVGVybWluYXRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb25EaWFsb2cucHJvdG90eXBlLnJlZnJlc2hUaW1lckNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZWZyZXNoVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS5yZWZyZXNoVGltZXJTZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVmcmVzaFRpbWVyQ2xlYXIoKTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1JlZnJlc2ggJiYgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID4gMCkge1xuICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXMgKiA5MDA7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25SZWZyZXNoID0gTWF0aC5mbG9vcihyZWZyZXNoIC8gMTAwMCk7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25SZWZyZXNoTGFzdFNldCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmlwdGlvblJlZnJlc2hMYXN0U2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uUmVmcmVzaChfdGhpcy5yZWZyZXNoKCkpO1xuICAgICAgICAgICAgfSwgcmVmcmVzaCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbkRpYWxvZy5wcm90b3R5cGUuc3RhdGVUcmFuc2l0aW9uID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBuZXdFeHBpcmVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEFzc2VydCB2YWxpZCBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgICAgdmFyIGludmFsaWRTdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIkludmFsaWQgc3Vic2NyaXB0aW9uIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBcIiArIF90aGlzLnN1YnNjcmlwdGlvblN0YXRlICsgXCIgdG8gXCIgKyBuZXdTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2Ugc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5Ob3RpZnlXYWl0OlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuTm90aWZ5V2FpdCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvblN0YXRlICE9PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5QZW5kaW5nICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUgIT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuUGVuZGluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvblN0YXRlICE9PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIHZhbHVlIGlzIFwicGVuZGluZ1wiLCB0aGUgc3Vic2NyaXB0aW9uIGhhc1xuICAgICAgICAvLyBiZWVuIHJlY2VpdmVkIGJ5IHRoZSBub3RpZmllciwgYnV0IHRoZXJlIGlzIGluc3VmZmljaWVudCBwb2xpY3lcbiAgICAgICAgLy8gaW5mb3JtYXRpb24gdG8gZ3JhbnQgb3IgZGVueSB0aGUgc3Vic2NyaXB0aW9uIHlldC4gIElmIHRoZSBoZWFkZXJcbiAgICAgICAgLy8gZmllbGQgYWxzbyBjb250YWlucyBhbiBcImV4cGlyZXNcIiBwYXJhbWV0ZXIsIHRoZSBzdWJzY3JpYmVyIFNIT1VMRFxuICAgICAgICAvLyB0YWtlIGl0IGFzIHRoZSBhdXRob3JpdGF0aXZlIHN1YnNjcmlwdGlvbiBkdXJhdGlvbiBhbmQgYWRqdXN0XG4gICAgICAgIC8vIGFjY29yZGluZ2x5LiAgTm8gZnVydGhlciBhY3Rpb24gaXMgbmVjZXNzYXJ5IG9uIHRoZSBwYXJ0IG9mIHRoZVxuICAgICAgICAvLyBzdWJzY3JpYmVyLiAgVGhlIFwicmV0cnktYWZ0ZXJcIiBhbmQgXCJyZWFzb25cIiBwYXJhbWV0ZXJzIGhhdmUgbm9cbiAgICAgICAgLy8gc2VtYW50aWNzIGZvciBcInBlbmRpbmdcIi5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuM1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmcpIHtcbiAgICAgICAgICAgIGlmIChuZXdFeHBpcmVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID0gbmV3RXhwaXJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgXCJTdWJzY3JpcHRpb24tU3RhdGVcIiBoZWFkZXIgZmllbGQgdmFsdWUgaXMgXCJhY3RpdmVcIiwgaXQgbWVhbnNcbiAgICAgICAgLy8gdGhhdCB0aGUgc3Vic2NyaXB0aW9uIGhhcyBiZWVuIGFjY2VwdGVkIGFuZCAoaW4gZ2VuZXJhbCkgaGFzIGJlZW5cbiAgICAgICAgLy8gYXV0aG9yaXplZC4gIElmIHRoZSBoZWFkZXIgZmllbGQgYWxzbyBjb250YWlucyBhbiBcImV4cGlyZXNcIlxuICAgICAgICAvLyBwYXJhbWV0ZXIsIHRoZSBzdWJzY3JpYmVyIFNIT1VMRCB0YWtlIGl0IGFzIHRoZSBhdXRob3JpdGF0aXZlXG4gICAgICAgIC8vIHN1YnNjcmlwdGlvbiBkdXJhdGlvbiBhbmQgYWRqdXN0IGFjY29yZGluZ2x5LiAgVGhlIFwicmV0cnktYWZ0ZXJcIiBhbmRcbiAgICAgICAgLy8gXCJyZWFzb25cIiBwYXJhbWV0ZXJzIGhhdmUgbm8gc2VtYW50aWNzIGZvciBcImFjdGl2ZVwiLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4zXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAobmV3RXhwaXJlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IG5ld0V4cGlyZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgdmFsdWUgaXMgXCJ0ZXJtaW5hdGVkXCIsIHRoZSBzdWJzY3JpYmVyXG4gICAgICAgIC8vIE1VU1QgY29uc2lkZXIgdGhlIHN1YnNjcmlwdGlvbiB0ZXJtaW5hdGVkLiAgVGhlIFwiZXhwaXJlc1wiIHBhcmFtZXRlclxuICAgICAgICAvLyBoYXMgbm8gc2VtYW50aWNzIGZvciBcInRlcm1pbmF0ZWRcIiAtLSBub3RpZmllcnMgU0hPVUxEIE5PVCBpbmNsdWRlIGFuXG4gICAgICAgIC8vIFwiZXhwaXJlc1wiIHBhcmFtZXRlciBvbiBhIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgaGVhZGVyIGZpZWxkIHdpdGggYVxuICAgICAgICAvLyB2YWx1ZSBvZiBcInRlcm1pbmF0ZWRcIiwgYW5kIHN1YnNjcmliZXJzIE1VU1QgaWdub3JlIGFueSBzdWNoXG4gICAgICAgIC8vIHBhcmFtZXRlciwgaWYgcHJlc2VudC5cbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSBzdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25TdGF0ZSA9IG5ld1N0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiByZWZyZXNoaW5nIGEgc3Vic2NyaXB0aW9uLCBhIHN1YnNjcmliZXIgc3RhcnRzIFRpbWVyIE4sIHNldCB0b1xuICAgICAqIDY0KlQxLCB3aGVuIGl0IHNlbmRzIHRoZSBTVUJTQ1JJQkUgcmVxdWVzdC4gIElmIHRoaXMgVGltZXIgTiBleHBpcmVzXG4gICAgICogcHJpb3IgdG8gdGhlIHJlY2VpcHQgb2YgYSBOT1RJRlkgcmVxdWVzdCwgdGhlIHN1YnNjcmliZXIgY29uc2lkZXJzXG4gICAgICogdGhlIHN1YnNjcmlwdGlvbiB0ZXJtaW5hdGVkLiAgSWYgdGhlIHN1YnNjcmliZXIgcmVjZWl2ZXMgYSBzdWNjZXNzXG4gICAgICogcmVzcG9uc2UgdG8gdGhlIFNVQlNDUklCRSByZXF1ZXN0IHRoYXQgaW5kaWNhdGVzIHRoYXQgbm8gTk9USUZZXG4gICAgICogcmVxdWVzdCB3aWxsIGJlIGdlbmVyYXRlZCAtLSBzdWNoIGFzIHRoZSAyMDQgcmVzcG9uc2UgZGVmaW5lZCBmb3IgdXNlXG4gICAgICogd2l0aCB0aGUgb3B0aW9uYWwgZXh0ZW5zaW9uIGRlc2NyaWJlZCBpbiBbUkZDNTgzOV0gLS0gdGhlbiBpdCBNVVNUXG4gICAgICogY2FuY2VsIFRpbWVyIE4uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4yXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uRGlhbG9nLnByb3RvdHlwZS50aW1lcl9OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICB0aGlzLm9uVGVybWluYXRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uRGlhbG9nO1xufShkaWFsb2dfMS5EaWFsb2cpKTtcbmV4cG9ydHMuU3Vic2NyaXB0aW9uRGlhbG9nID0gU3Vic2NyaXB0aW9uRGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFJlLVNVQlNDUklCRSBVQUMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZVN1YnNjcmliZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZVN1YnNjcmliZVVzZXJBZ2VudENsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZVN1YnNjcmliZVVzZXJBZ2VudENsaWVudChkaWFsb2csIGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtZXNzYWdlID0gZGlhbG9nLmNyZWF0ZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UobWVzc2FnZXNfMS5DLlNVQlNDUklCRSwgb3B0aW9ucyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sIGRpYWxvZy51c2VyQWdlbnRDb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGlhbG9nID0gZGlhbG9nO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS53YWl0Tm90aWZ5U3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETzogUGxhY2Vob2xkZXIuIE5vdCB1dGlsaXplZCBjdXJyZW50bHkuXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgYSByZXNwb25zZSBmcm9tIHRoZSB0cmFuc2FjdGlvbiBsYXllci5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXR1c0NvZGUgJiYgbWVzc2FnZS5zdGF0dXNDb2RlID49IDIwMCAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPCAzMDApIHtcbiAgICAgICAgICAgIC8vICBUaGUgXCJFeHBpcmVzXCIgaGVhZGVyIGZpZWxkIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRVxuICAgICAgICAgICAgLy8gIHJlcXVlc3QgaW5kaWNhdGVzIHRoZSBhY3R1YWwgZHVyYXRpb24gZm9yIHdoaWNoIHRoZSBzdWJzY3JpcHRpb24gd2lsbFxuICAgICAgICAgICAgLy8gIHJlbWFpbiBhY3RpdmUgKHVubGVzcyByZWZyZXNoZWQpLiAgVGhlIHJlY2VpdmVkIHZhbHVlIG1pZ2h0IGJlXG4gICAgICAgICAgICAvLyAgc21hbGxlciB0aGFuIHRoZSB2YWx1ZSBpbmRpY2F0ZWQgaW4gdGhlIFNVQlNDUklCRSByZXF1ZXN0IGJ1dCBjYW5ub3RcbiAgICAgICAgICAgIC8vICBiZSBsYXJnZXI7IHNlZSBTZWN0aW9uIDQuMi4xIGZvciBkZXRhaWxzLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4xXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKTtcbiAgICAgICAgICAgIGlmICghZXhwaXJlcykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJFeHBpcmVzIGhlYWRlciBtaXNzaW5nIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25FeHBpcmVzUmVjZWl2ZWQgPSBOdW1iZXIoZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nLnN1YnNjcmlwdGlvbkV4cGlyZXMgPiBzdWJzY3JpcHRpb25FeHBpcmVzUmVjZWl2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHN1YnNjcmlwdGlvbkV4cGlyZXNSZWNlaXZlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzQ29kZSAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPj0gNDAwICYmIG1lc3NhZ2Uuc3RhdHVzQ29kZSA8IDcwMCkge1xuICAgICAgICAgICAgLy8gSWYgYSBTVUJTQ1JJQkUgcmVxdWVzdCB0byByZWZyZXNoIGEgc3Vic2NyaXB0aW9uIHJlY2VpdmVzIGEgNDA0LCA0MDUsXG4gICAgICAgICAgICAvLyA0MTAsIDQxNiwgNDgwLTQ4NSwgNDg5LCA1MDEsIG9yIDYwNCByZXNwb25zZSwgdGhlIHN1YnNjcmliZXIgTVVTVFxuICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIHN1YnNjcmlwdGlvbiB0ZXJtaW5hdGVkLiAgKFNlZSBbUkZDNTA1N10gZm9yIGZ1cnRoZXJcbiAgICAgICAgICAgIC8vIGRldGFpbHMgYW5kIG5vdGVzIGFib3V0IHRoZSBlZmZlY3Qgb2YgZXJyb3IgY29kZXMgb24gZGlhbG9ncyBhbmRcbiAgICAgICAgICAgIC8vIHVzYWdlcyB3aXRoaW4gZGlhbG9nLCBzdWNoIGFzIHN1YnNjcmlwdGlvbnMpLiAgSWYgdGhlIHN1YnNjcmliZXJcbiAgICAgICAgICAgIC8vIHdpc2hlcyB0byByZS1zdWJzY3JpYmUgdG8gdGhlIHN0YXRlLCBoZSBkb2VzIHNvIGJ5IGNvbXBvc2luZyBhblxuICAgICAgICAgICAgLy8gdW5yZWxhdGVkIGluaXRpYWwgU1VCU0NSSUJFIHJlcXVlc3Qgd2l0aCBhIGZyZXNobHkgZ2VuZXJhdGVkIENhbGwtSURcbiAgICAgICAgICAgIC8vIGFuZCBhIG5ldywgdW5pcXVlIFwiRnJvbVwiIHRhZyAoc2VlIFNlY3Rpb24gNC4xLjIuMSkuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4yLjJcbiAgICAgICAgICAgIHZhciBlcnJvckNvZGVzID0gWzQwNCwgNDA1LCA0MTAsIDQxNiwgNDgwLCA0ODEsIDQ4MiwgNDgzLCA0ODQsIDQ4NSwgNDg5LCA1MDEsIDYwNF07XG4gICAgICAgICAgICBpZiAoZXJyb3JDb2Rlcy5pbmRleE9mKG1lc3NhZ2Uuc3RhdHVzQ29kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cudGVybWluYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhIFNVQlNDUklCRSByZXF1ZXN0IHRvIHJlZnJlc2ggYSBzdWJzY3JpcHRpb24gZmFpbHMgd2l0aCBhbnkgZXJyb3JcbiAgICAgICAgICAgIC8vIGNvZGUgb3RoZXIgdGhhbiB0aG9zZSBsaXN0ZWQgYWJvdmUsIHRoZSBvcmlnaW5hbCBzdWJzY3JpcHRpb24gaXNcbiAgICAgICAgICAgIC8vIHN0aWxsIGNvbnNpZGVyZWQgdmFsaWQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgbW9zdCByZWNlbnRseSBrbm93blxuICAgICAgICAgICAgLy8gXCJFeHBpcmVzXCIgdmFsdWUgYXMgbmVnb3RpYXRlZCBieSB0aGUgbW9zdCByZWNlbnQgc3VjY2Vzc2Z1bCBTVUJTQ1JJQkVcbiAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uLCBvciBhcyBjb21tdW5pY2F0ZWQgYnkgYSBOT1RJRlkgcmVxdWVzdCBpbiBpdHNcbiAgICAgICAgICAgIC8vIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgaGVhZGVyIGZpZWxkIFwiZXhwaXJlc1wiIHBhcmFtZXRlci5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMlxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLlJlU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50ID0gUmVTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsZXZlbHNfMSA9IHJlcXVpcmUoXCIuL2xldmVsc1wiKTtcbi8qKlxuICogTG9nZ2VyLlxuICogQHB1YmxpY1xuICovXG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvZ2dlcihsb2dnZXIsIGNhdGVnb3J5LCBsYWJlbCkge1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgfVxuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoY29udGVudCkgeyB0aGlzLmdlbmVyaWNMb2cobGV2ZWxzXzEuTGV2ZWxzLmVycm9yLCBjb250ZW50KTsgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAoY29udGVudCkgeyB0aGlzLmdlbmVyaWNMb2cobGV2ZWxzXzEuTGV2ZWxzLndhcm4sIGNvbnRlbnQpOyB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGNvbnRlbnQpIHsgdGhpcy5nZW5lcmljTG9nKGxldmVsc18xLkxldmVscy5sb2csIGNvbnRlbnQpOyB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoY29udGVudCkgeyB0aGlzLmdlbmVyaWNMb2cobGV2ZWxzXzEuTGV2ZWxzLmRlYnVnLCBjb250ZW50KTsgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmdlbmVyaWNMb2cgPSBmdW5jdGlvbiAobGV2ZWwsIGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZ2VuZXJpY0xvZyhsZXZlbCwgdGhpcy5jYXRlZ29yeSwgdGhpcy5sYWJlbCwgY29udGVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gTG9nZ2VyO1xufSgpKTtcbmV4cG9ydHMuTG9nZ2VyID0gTG9nZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2J5ZS11c2VyLWFnZW50LWNsaWVudFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ieWUtdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY2FuY2VsLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2luZm8tdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW5mby11c2VyLWFnZW50LXNlcnZlclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbnZpdGUtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW52aXRlLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21lc3NhZ2UtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbWVzc2FnZS11c2VyLWFnZW50LXNlcnZlclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ub3RpZnktdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbm90aWZ5LXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3B1Ymxpc2gtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcHJhY2stdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcHJhY2stdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcmUtaW52aXRlLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlLWludml0ZS11c2VyLWFnZW50LXNlcnZlclwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9yZS1zdWJzY3JpYmUtdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcmUtc3Vic2NyaWJlLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZmVyLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZmVyLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZ2lzdGVyLXVzZXItYWdlbnQtY2xpZW50XCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3JlZ2lzdGVyLXVzZXItYWdlbnQtc2VydmVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3N1YnNjcmliZS11c2VyLWFnZW50LWNsaWVudFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdWJzY3JpYmUtdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuLyoqXG4gKiBTSVAgUHVibGlzaCAoU0lQIEV4dGVuc2lvbiBmb3IgRXZlbnQgU3RhdGUgUHVibGljYXRpb24gUkZDMzkwMylcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBQdWJsaXNoQ29udGV4dC5cbiAqL1xudmFyIFB1Ymxpc2hDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFB1Ymxpc2hDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFB1Ymxpc2hDb250ZXh0KHVhLCB0YXJnZXQsIGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBvcHRpb25zLmNvbnRlbnRUeXBlID0gKG9wdGlvbnMuY29udGVudFR5cGUgfHwgXCJ0ZXh0L3BsYWluXCIpO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZXhwaXJlcyAhPT0gXCJudW1iZXJcIiB8fCAob3B0aW9ucy5leHBpcmVzICUgMSkgIT09IDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZXhwaXJlcyA9IDM2MDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLmV4cGlyZXMgPSBOdW1iZXIob3B0aW9ucy5leHBpcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIChvcHRpb25zLnVucHVibGlzaE9uQ2xvc2UpICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgb3B0aW9ucy51bnB1Ymxpc2hPbkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gXCJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLk1ldGhvZFBhcmFtZXRlckVycm9yKFwiUHVibGlzaFwiLCBcIlRhcmdldFwiLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdWEubm9ybWFsaXplVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3IoXCJQdWJsaXNoXCIsIFwiVGFyZ2V0XCIsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB1YSwgQ29uc3RhbnRzXzEuQy5QVUJMSVNILCB0YXJnZXQsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlB1Ymxpc2hDb250ZXh0O1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgX3RoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBpZiAoZXZlbnQgPT09IHVuZGVmaW5lZCB8fCBldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gXCJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLk1ldGhvZFBhcmFtZXRlckVycm9yKFwiUHVibGlzaFwiLCBcIkV2ZW50XCIsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLnB1Ymxpc2hcIik7XG4gICAgICAgIF90aGlzLnB1YlJlcXVlc3RFeHBpcmVzID0gX3RoaXMub3B0aW9ucy5leHBpcmVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gRXZlbnQgYm9keSB0byBwdWJsaXNoLCBvcHRpb25hbFxuICAgICAqL1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5wdWJsaXNoID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYmVmb3JlIHRoZSBydW5cbiAgICAgICAgaWYgKHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXMgSW5pdGFsIG9yIE1vZGlmeSByZXF1ZXN0XG4gICAgICAgIHRoaXMub3B0aW9ucy5ib2R5ID0gYm9keTtcbiAgICAgICAgdGhpcy5wdWJSZXF1ZXN0Qm9keSA9IHRoaXMub3B0aW9ucy5ib2R5O1xuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBJbml0aWFsIHJlcXVlc3QgYWZ0ZXIgdW5wdWJsaXNoXG4gICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFeHBpcmVzID0gdGhpcy5vcHRpb25zLmV4cGlyZXM7XG4gICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFdGFnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpICsgXCI6XCIgKyB0aGlzLmV2ZW50XSkpIHtcbiAgICAgICAgICAgIHRoaXMudWEucHVibGlzaGVyc1t0aGlzLnRhcmdldC50b1N0cmluZygpICsgXCI6XCIgKyB0aGlzLmV2ZW50XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW5kUHVibGlzaFJlcXVlc3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucHVibGlzaFxuICAgICAqL1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS51bnB1Ymxpc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIENsZWFuIHVwIGJlZm9yZSB0aGUgcnVuXG4gICAgICAgIGlmICh0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoUmVmcmVzaFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHViUmVxdWVzdEJvZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRQdWJsaXNoUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZVxuICAgICAqL1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU2VuZCB1bnB1Ymxpc2gsIGlmIHJlcXVlc3RlZFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnVucHVibGlzaE9uQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMudW5wdWJsaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wdWJsaXNoUmVmcmVzaFRpbWVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoUmVmcmVzaFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0Qm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXRhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51YS5wdWJsaXNoZXJzW3RoaXMudGFyZ2V0LnRvU3RyaW5nKCkgKyBcIjpcIiArIHRoaXMuZXZlbnRdKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy51YS5wdWJsaXNoZXJzW3RoaXMudGFyZ2V0LnRvU3RyaW5nKCkgKyBcIjpcIiArIHRoaXMuZXZlbnRdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdWJsaXNoQ29udGV4dC5wcm90b3R5cGUub25SZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdChcInVucHVibGlzaGVkXCIsIHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKTtcbiAgICB9O1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KFwidW5wdWJsaXNoZWRcIiwgdW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICB9O1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlIHx8IDA7XG4gICAgICAgIHZhciBjYXVzZSA9IFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHN0YXR1c0NvZGUpO1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUudG9TdHJpbmcoKSk6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUudG9TdHJpbmcoKSk6XG4gICAgICAgICAgICAgICAgLy8gU2V0IFNJUC1FdGFnXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc0hlYWRlcihcIlNJUC1FVGFnXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV0YWcgPSByZXNwb25zZS5nZXRIZWFkZXIoXCJTSVAtRVRhZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJTSVAtRVRhZyBoZWFkZXIgbWlzc2luZyBpbiBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBQVUJMSVNIXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgRXhwaXJlXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc0hlYWRlcihcIkV4cGlyZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSBOdW1iZXIocmVzcG9uc2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwaXJlcyA9PT0gXCJudW1iZXJcIiAmJiBleHBpcmVzID49IDAgJiYgZXhwaXJlcyA8PSB0aGlzLnB1YlJlcXVlc3RFeHBpcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFeHBpcmVzID0gZXhwaXJlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJCYWQgRXhwaXJlcyBoZWFkZXIgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gUFVCTElTSFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkV4cGlyZXMgaGVhZGVyIG1pc3NpbmcgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gUFVCTElTSFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV4cGlyZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgcmVmcmVzaFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlZnJlc2hSZXF1ZXN0KCk7IH0sIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgKiA5MDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwdWJsaXNoZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInVucHVibGlzaGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAvXjQxMiQvLnRlc3Qoc3RhdHVzQ29kZS50b1N0cmluZygpKTpcbiAgICAgICAgICAgICAgICAvLyA0MTIgY29kZSBtZWFucyBubyBtYXRjaGluZyBFVGFnIC0gcG9zc2libHkgdGhlIFBVQkxJU0ggZXhwaXJlZFxuICAgICAgICAgICAgICAgIC8vIFJlc3VibWl0IGFzIG5ldyByZXF1ZXN0LCBpZiB0aGUgY3VycmVudCByZXF1ZXN0IGlzIG5vdCBhIFwicmVtb3ZlXCJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXRhZyAhPT0gdW5kZWZpbmVkICYmIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIjQxMiByZXNwb25zZSB0byBQVUJMSVNILCByZWNvdmVyaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFdGFnID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2godGhpcy5vcHRpb25zLmJvZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIjQxMiByZXNwb25zZSB0byBQVUJMSVNILCByZWNvdmVyeSBmYWlsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidW5wdWJsaXNoZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eNDIzJC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIC8vIDQyMyBjb2RlIG1lYW5zIHdlIG5lZWQgdG8gYWRqdXN0IHRoZSBFeHBpcmVzIGludGVydmFsIHVwXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV4cGlyZXMgIT09IDAgJiYgcmVzcG9uc2UuaGFzSGVhZGVyKFwiTWluLUV4cGlyZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbkV4cGlyZXMgPSBOdW1iZXIocmVzcG9uc2UuZ2V0SGVhZGVyKFwiTWluLUV4cGlyZXNcIikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbkV4cGlyZXMgPT09IFwibnVtYmVyXCIgfHwgbWluRXhwaXJlcyA+IHRoaXMucHViUmVxdWVzdEV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCI0MjMgY29kZSBpbiByZXNwb25zZSB0byBQVUJMSVNILCBhZGp1c3RpbmcgdGhlIEV4cGlyZXMgdmFsdWUgYW5kIHRyeWluZyB0byByZWNvdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9IG1pbkV4cGlyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKHRoaXMub3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJCYWQgNDIzIHJlc3BvbnNlIE1pbi1FeHBpcmVzIGhlYWRlciByZWNlaXZlZCBmb3IgUFVCTElTSFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJ1bnB1Ymxpc2hlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiNDIzIHJlc3BvbnNlIHRvIFBVQkxJU0gsIHJlY292ZXJ5IGZhaWxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJ1bnB1Ymxpc2hlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwidW5wdWJsaXNoZWRcIiwgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB0aGUgY2xlYW51cFxuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXhwaXJlcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaFJlZnJlc2hUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHViUmVxdWVzdEJvZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnB1YlJlcXVlc3RFdGFnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdWJsaXNoQ29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy51YS51c2VyQWdlbnRDb3JlLnB1Ymxpc2godGhpcy5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBvbkFjY2VwdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFB1Ymxpc2hDb250ZXh0LnByb3RvdHlwZS5yZWZyZXNoUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYmVmb3JlIHRoZSBydW5cbiAgICAgICAgaWYgKHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHVibGlzaFJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hSZWZyZXNoVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyBSZWZyZXNoIHJlcXVlc3RcbiAgICAgICAgdGhpcy5wdWJSZXF1ZXN0Qm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV0YWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gUmVxdWVzdCBub3QgdmFsaWRcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5NZXRob2RQYXJhbWV0ZXJFcnJvcihcIlB1Ymxpc2hcIiwgXCJCb2R5XCIsIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEV4cGlyZXMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFJlcXVlc3Qgbm90IHZhbGlkXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3IoXCJQdWJsaXNoXCIsIFwiRXhwaXJlXCIsIHRoaXMucHViUmVxdWVzdEV4cGlyZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VuZFB1Ymxpc2hSZXF1ZXN0KCk7XG4gICAgfTtcbiAgICBQdWJsaXNoQ29udGV4dC5wcm90b3R5cGUuc2VuZFB1Ymxpc2hSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxT3B0aW9ucyA9IE9iamVjdC5jcmVhdGUodGhpcy5vcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICAgICAgICByZXFPcHRpb25zLmV4dHJhSGVhZGVycyA9ICh0aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICByZXFPcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiRXZlbnQ6IFwiICsgdGhpcy5ldmVudCk7XG4gICAgICAgIHJlcU9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goXCJFeHBpcmVzOiBcIiArIHRoaXMucHViUmVxdWVzdEV4cGlyZXMpO1xuICAgICAgICBpZiAodGhpcy5wdWJSZXF1ZXN0RXRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXFPcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKFwiU0lQLUlmLU1hdGNoOiBcIiArIHRoaXMucHViUmVxdWVzdEV0YWcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBydXJpID0gdGhpcy50YXJnZXQgaW5zdGFuY2VvZiBjb3JlXzEuVVJJID8gdGhpcy50YXJnZXQgOiB0aGlzLnVhLm5vcm1hbGl6ZVRhcmdldCh0aGlzLnRhcmdldCk7XG4gICAgICAgIGlmICghcnVyaSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicnVyaSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLm9wdGlvbnMucGFyYW1zIHx8IHt9O1xuICAgICAgICB2YXIgYm9keU9iajtcbiAgICAgICAgaWYgKHRoaXMucHViUmVxdWVzdEJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm9keU9iaiA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiB0aGlzLnB1YlJlcXVlc3RCb2R5LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0aGlzLm9wdGlvbnMuY29udGVudFR5cGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHk7XG4gICAgICAgIGlmIChib2R5T2JqKSB7XG4gICAgICAgICAgICBib2R5ID0gVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihib2R5T2JqKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcXVlc3QgPSB0aGlzLnVhLnVzZXJBZ2VudENvcmUubWFrZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UoQ29uc3RhbnRzXzEuQy5QVUJMSVNILCBydXJpLCBwYXJhbXMuZnJvbVVyaSA/IHBhcmFtcy5mcm9tVXJpIDogdGhpcy51YS51c2VyQWdlbnRDb3JlLmNvbmZpZ3VyYXRpb24uYW9yLCBwYXJhbXMudG9VcmkgPyBwYXJhbXMudG9VcmkgOiB0aGlzLnRhcmdldCwgcGFyYW1zLCByZXFPcHRpb25zLmV4dHJhSGVhZGVycywgYm9keSk7XG4gICAgICAgIHRoaXMuc2VuZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1Ymxpc2hDb250ZXh0O1xufShDbGllbnRDb250ZXh0XzEuQ2xpZW50Q29udGV4dCkpO1xuZXhwb3J0cy5QdWJsaXNoQ29udGV4dCA9IFB1Ymxpc2hDb250ZXh0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuLyoqXG4gKiBDb25maWd1cmF0aW9uIGxvYWQuXG4gKiBAcHJpdmF0ZVxuICogcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBsb2FkQ29uZmlnKGNvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgIGV4cGlyZXM6IDYwMCxcbiAgICAgICAgZXh0cmFDb250YWN0SGVhZGVyUGFyYW1zOiBbXSxcbiAgICAgICAgaW5zdGFuY2VJZDogdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICByZWdJZDogdW5kZWZpbmVkLFxuICAgICAgICByZWdpc3RyYXI6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIHZhciBjb25maWdDaGVjayA9IGdldENvbmZpZ3VyYXRpb25DaGVjaygpO1xuICAgIC8vIENoZWNrIE1hbmRhdG9yeSBwYXJhbWV0ZXJzXG4gICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIGNvbmZpZ0NoZWNrLm1hbmRhdG9yeSkge1xuICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlndXJhdGlvbltwYXJhbWV0ZXJdO1xuICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGNvbmZpZ0NoZWNrLm1hbmRhdG9yeVtwYXJhbWV0ZXJdKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2sub3B0aW9uYWwpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlndXJhdGlvbltwYXJhbWV0ZXJdO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSwgYnV0IHNob3VsZG4ndCBiZSwgYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgdmFsdWUgaXMgbnVsbCwgZW1wdHkgc3RyaW5nLCBvciB1bmRlZmluZWQgdGhlbiBhcHBseSBpdHMgZGVmYXVsdCB2YWx1ZS5cbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSBudW1iZXIgd2l0aCBOYU4gdmFsdWUgdGhlbiBhbHNvIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgLy8gTk9URTogSlMgZG9lcyBub3QgYWxsb3cgXCJ2YWx1ZSA9PT0gTmFOXCIsIHRoZSBmb2xsb3dpbmcgZG9lcyB0aGUgd29yazpcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiAodmFsdWUpID09PSBcIm51bWJlclwiICYmIGlzTmFOKHZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGVja2VkVmFsdWUgPSBjb25maWdDaGVjay5vcHRpb25hbFtwYXJhbWV0ZXJdKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZXR0aW5ncztcbn1cbmZ1bmN0aW9uIGdldENvbmZpZ3VyYXRpb25DaGVjaygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtYW5kYXRvcnk6IHt9LFxuICAgICAgICBvcHRpb25hbDoge1xuICAgICAgICAgICAgZXhwaXJlczogZnVuY3Rpb24gKGV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwoZXhwaXJlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGV4cGlyZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4dHJhQ29udGFjdEhlYWRlclBhcmFtczogZnVuY3Rpb24gKGV4dHJhQ29udGFjdEhlYWRlclBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUNvbnRhY3RIZWFkZXJQYXJhbXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFDb250YWN0SGVhZGVyUGFyYW1zLmZpbHRlcihmdW5jdGlvbiAoY29udGFjdEhlYWRlclBhcmFtKSB7IHJldHVybiAodHlwZW9mIGNvbnRhY3RIZWFkZXJQYXJhbSA9PT0gXCJzdHJpbmdcIik7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnN0YW5jZUlkOiBmdW5jdGlvbiAoaW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoL151dWlkOi9pLnRlc3QoaW5zdGFuY2VJZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWQgPSBpbnN0YW5jZUlkLnN1YnN0cig1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvcmVfMS5HcmFtbWFyLnBhcnNlKGluc3RhbmNlSWQsIFwidXVpZFwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlSWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtczogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ0lkOiBmdW5jdGlvbiAocmVnSWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwocmVnSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IE51bWJlcihyZWdJZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnaXN0cmFyOiBmdW5jdGlvbiAocmVnaXN0cmFyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWdpc3RyYXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIS9ec2lwOi9pLnRlc3QocmVnaXN0cmFyKSkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXIgPSBDb25zdGFudHNfMS5DLlNJUCArIFwiOlwiICsgcmVnaXN0cmFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UocmVnaXN0cmFyKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbnZhciBSZWdpc3RlckNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVnaXN0ZXJDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZ2lzdGVyQ29udGV4dCh1YSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSBsb2FkQ29uZmlnKG9wdGlvbnMpO1xuICAgICAgICBpZiAoc2V0dGluZ3MucmVnSWQgJiYgIXNldHRpbmdzLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmluc3RhbmNlSWQgPSBVdGlsc18xLlV0aWxzLm5ld1VVSUQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghc2V0dGluZ3MucmVnSWQgJiYgc2V0dGluZ3MuaW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgc2V0dGluZ3MucmVnSWQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLnBhcmFtcy50b1VyaSA9IHNldHRpbmdzLnBhcmFtcy50b1VyaSB8fCB1YS5jb25maWd1cmF0aW9uLnVyaTtcbiAgICAgICAgc2V0dGluZ3MucGFyYW1zLnRvRGlzcGxheU5hbWUgPSBzZXR0aW5ncy5wYXJhbXMudG9EaXNwbGF5TmFtZSB8fCB1YS5jb25maWd1cmF0aW9uLmRpc3BsYXlOYW1lO1xuICAgICAgICBzZXR0aW5ncy5wYXJhbXMuY2FsbElkID0gc2V0dGluZ3MucGFyYW1zLmNhbGxJZCB8fCBVdGlsc18xLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDIyKTtcbiAgICAgICAgc2V0dGluZ3MucGFyYW1zLmNzZXEgPSBzZXR0aW5ncy5wYXJhbXMuY3NlcSB8fCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICAgIC8qIElmIG5vICdyZWdpc3RyYXJTZXJ2ZXInIGlzIHNldCB1c2UgdGhlICd1cmknIHZhbHVlIHdpdGhvdXQgdXNlciBwb3J0aW9uLiAqL1xuICAgICAgICBpZiAoIXNldHRpbmdzLnJlZ2lzdHJhcikge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdHJhclNlcnZlciA9IHt9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1YS5jb25maWd1cmF0aW9uLnVyaSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHJlZ2lzdHJhclNlcnZlciA9IHVhLmNvbmZpZ3VyYXRpb24udXJpLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgcmVnaXN0cmFyU2VydmVyLnVzZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWdpc3RyYXJTZXJ2ZXIgPSB1YS5jb25maWd1cmF0aW9uLnVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzLnJlZ2lzdHJhciA9IHJlZ2lzdHJhclNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHVhLCBDb25zdGFudHNfMS5DLlJFR0lTVEVSLCBzZXR0aW5ncy5yZWdpc3RyYXIsIHNldHRpbmdzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5SZWdpc3RlckNvbnRleHQ7XG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBzZXR0aW5ncztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLnJlZ2lzdGVyY29udGV4dFwiKTtcbiAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcImNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBmb3IgUmVnaXN0ZXJDb250ZXh0IGFmdGVyIHZhbGlkYXRpb246XCIpO1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIsK3IFwiICsgcGFyYW1ldGVyICsgXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3NbcGFyYW1ldGVyXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlZ2lzdHJhdGlvbiBleHBpcmVzXG4gICAgICAgIF90aGlzLmV4cGlyZXMgPSBzZXR0aW5ncy5leHBpcmVzO1xuICAgICAgICAvLyBDb250YWN0IGhlYWRlclxuICAgICAgICBfdGhpcy5jb250YWN0ID0gdWEuY29udGFjdC50b1N0cmluZygpO1xuICAgICAgICAvLyBTZXQgc3RhdHVzXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgdWEudHJhbnNwb3J0Lm9uKFwiZGlzY29ubmVjdGVkXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uVHJhbnNwb3J0RGlzY29ubmVjdGVkKCk7IH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBIYW5kbGUgT3B0aW9uc1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKHRoaXMub3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQ29udGFjdDogXCIgKyB0aGlzLmdlbmVyYXRlQ29udGFjdEhlYWRlcih0aGlzLmV4cGlyZXMpKTtcbiAgICAgICAgLy8gdGhpcyBpcyBVQS5DLkFMTE9XRURfTUVUSE9EUywgcmVtb3ZlZCB0byBnZXQgYXJvdW5kIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJBbGxvdzogXCIgKyBbXG4gICAgICAgICAgICBcIkFDS1wiLFxuICAgICAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgICAgICBcIk1FU1NBR0VcIixcbiAgICAgICAgICAgIFwiQllFXCIsXG4gICAgICAgICAgICBcIk9QVElPTlNcIixcbiAgICAgICAgICAgIFwiSU5GT1wiLFxuICAgICAgICAgICAgXCJOT1RJRllcIixcbiAgICAgICAgICAgIFwiUkVGRVJcIlxuICAgICAgICBdLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyBTYXZlIG9yaWdpbmFsIGV4dHJhSGVhZGVycyB0byBiZSB1c2VkIGluIC5jbG9zZVxuICAgICAgICB0aGlzLmNsb3NlSGVhZGVycyA9IHRoaXMub3B0aW9ucy5jbG9zZVdpdGhIZWFkZXJzID9cbiAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpIDogW107XG4gICAgICAgIHRoaXMucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBEaXNjYXJkIHJlc3BvbnNlcyB0byBvbGRlciBSRUdJU1RFUi91bi1SRUdJU1RFUiByZXF1ZXN0cy5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jc2VxICE9PSBfdGhpcy5yZXF1ZXN0LmNzZXEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDbGVhciByZWdpc3RyYXRpb24gdGltZXJcbiAgICAgICAgICAgIGlmIChfdGhpcy5yZWdpc3RyYXRpb25UaW1lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnJlZ2lzdHJhdGlvblRpbWVyKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RyYXRpb25UaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGF0dXNDb2RlID0gKHJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC9eMlswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlKTpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFjY2VwdGVkXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNIZWFkZXIoXCJleHBpcmVzXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gTnVtYmVyKHJlc3BvbnNlLmdldEhlYWRlcihcImV4cGlyZXNcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2VhcmNoIHRoZSBDb250YWN0IHBvaW50aW5nIHRvIHVzIGFuZCB1cGRhdGUgdGhlIGV4cGlyZXMgdmFsdWUgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWN0cyA9IHJlc3BvbnNlLmdldEhlYWRlcnMoXCJjb250YWN0XCIpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJubyBDb250YWN0IGhlYWRlciBpbiByZXNwb25zZSB0byBSRUdJU1RFUiwgcmVzcG9uc2UgaWdub3JlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWN0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY29udGFjdHMtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9IHJlc3BvbnNlLnBhcnNlSGVhZGVyKFwiY29udGFjdFwiLCBjb250YWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdC51cmkudXNlciA9PT0gX3RoaXMudWEuY29udGFjdC51cmkudXNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMgPSBjb250YWN0LmdldFBhcmFtKFwiZXhwaXJlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIm5vIENvbnRhY3QgaGVhZGVyIHBvaW50aW5nIHRvIHVzLCByZXNwb25zZSBpZ25vcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGlyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9IF90aGlzLmV4cGlyZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmUtUmVnaXN0ZXIgYmVmb3JlIHRoZSBleHBpcmF0aW9uIGludGVydmFsIGhhcyBlbGFwc2VkLlxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgdGhhdCwgZGVjcmVhc2UgdGhlIGV4cGlyZXMgdmFsdWUuIGllOiAzIHNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZ2lzdHJhdGlvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0ZXIoX3RoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIChleHBpcmVzICogMTAwMCkgLSAzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcInJlZ2lzdHJhdGlvbiBleHBpcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51bnJlZ2lzdGVyZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5FWFBJUkVTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZXhwaXJlcyAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGdydXUgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0Lmhhc1BhcmFtKFwidGVtcC1ncnV1XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51YS5jb250YWN0LnRlbXBHcnV1ID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UoY29udGFjdC5nZXRQYXJhbShcInRlbXAtZ3J1dVwiKS5yZXBsYWNlKC9cIi9nLCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QuaGFzUGFyYW0oXCJwdWItZ3J1dVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWEuY29udGFjdC5wdWJHcnV1ID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UoY29udGFjdC5nZXRQYXJhbShcInB1Yi1ncnV1XCIpLnJlcGxhY2UoL1wiL2csIFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlZ2lzdGVyZWRcIiwgcmVzcG9uc2UgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gSW50ZXJ2YWwgdG9vIGJyaWVmIFJGQzMyNjEgMTAuMi44XG4gICAgICAgICAgICAgICAgY2FzZSAvXjQyMyQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNIZWFkZXIoXCJtaW4tZXhwaXJlc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVhc2Ugb3VyIHJlZ2lzdHJhdGlvbiBpbnRlcnZhbCB0byB0aGUgc3VnZ2VzdGVkIG1pbmltdW1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmV4cGlyZXMgPSBOdW1iZXIocmVzcG9uc2UuZ2V0SGVhZGVyKFwibWluLWV4cGlyZXNcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0aGUgcmVnaXN0cmF0aW9uIGFnYWluIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RlcihfdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gVGhpcyByZXNwb25zZSBNVVNUIGNvbnRhaW4gYSBNaW4tRXhwaXJlcyBoZWFkZXIgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiNDIzIHJlc3BvbnNlIHJlY2VpdmVkIGZvciBSRUdJU1RFUiB3aXRob3V0IE1pbi1FeHBpcmVzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRmFpbHVyZShyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuU0lQX0ZBSUxVUkVfQ09ERSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRmFpbHVyZShyZXNwb25zZSwgVXRpbHNfMS5VdGlscy5zaXBFcnJvckNhdXNlKHJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5yZWdpc3RyYXRpb25GYWlsdXJlKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRmFpbHVyZSh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlcXVlc3QuY3NlcSsrO1xuICAgICAgICB0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKFwiY3NlcVwiLCB0aGlzLnJlcXVlc3QuY3NlcSArIFwiIFJFR0lTVEVSXCIpO1xuICAgICAgICB0aGlzLnJlcXVlc3QuZXh0cmFIZWFkZXJzID0gZXh0cmFIZWFkZXJzO1xuICAgICAgICB0aGlzLnNlbmQoKTtcbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgYWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGV4dHJhSGVhZGVyczogdGhpcy5jbG9zZUhlYWRlcnNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkQmVmb3JlID0gdGhpcy5yZWdpc3RlcmVkO1xuICAgICAgICBpZiAodGhpcy5yZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXIob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICghdGhpcy5yZWdpc3RlcmVkICYmICFvcHRpb25zLmFsbCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkFscmVhZHkgdW5yZWdpc3RlcmVkLCBidXQgc2VuZGluZyBhbiB1bnJlZ2lzdGVyIGFueXdheXMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZCA9IGZhbHNlO1xuICAgICAgICAvLyBDbGVhciB0aGUgcmVnaXN0cmF0aW9uIHRpbWVyLlxuICAgICAgICBpZiAodGhpcy5yZWdpc3RyYXRpb25UaW1lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWdpc3RyYXRpb25UaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFsbCkge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiAqXCIpO1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJFeHBpcmVzOiAwXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuZ2VuZXJhdGVDb250YWN0SGVhZGVyKDApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSkgPyByZXNwb25zZS5zdGF0dXNDb2RlLnRvU3RyaW5nKCkgOiBcIlwiO1xuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3Qoc3RhdHVzQ29kZSk6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwiYWNjZXB0ZWRcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVucmVnaXN0ZXJlZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVucmVnaXN0ZXJlZChyZXNwb25zZSwgVXRpbHNfMS5VdGlscy5zaXBFcnJvckNhdXNlKHJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBOb3QgYWN0dWFsbHkgdW5yZWdpc3RlcmVkLi4uXG4gICAgICAgICAgICAvLyB0aGlzLnVucmVnaXN0ZXJlZCh1bmRlZmluZWQsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlcXVlc3QuY3NlcSsrO1xuICAgICAgICB0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKFwiY3NlcVwiLCB0aGlzLnJlcXVlc3QuY3NlcSArIFwiIFJFR0lTVEVSXCIpO1xuICAgICAgICB0aGlzLnJlcXVlc3QuZXh0cmFIZWFkZXJzID0gZXh0cmFIZWFkZXJzO1xuICAgICAgICB0aGlzLnNlbmQoKTtcbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUudW5yZWdpc3RlcmVkID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjYXVzZSkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbWl0KFwidW5yZWdpc3RlcmVkXCIsIHJlc3BvbnNlIHx8IHVuZGVmaW5lZCwgY2F1c2UgfHwgdW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIFJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy51YS51c2VyQWdlbnRDb3JlLnJlZ2lzdGVyKHRoaXMucmVxdWVzdCwge1xuICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICBvblJlZGlyZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgIG9uVHJ5aW5nOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlKTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSZWdpc3RlckNvbnRleHQucHJvdG90eXBlLnJlZ2lzdHJhdGlvbkZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNhdXNlKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZSB8fCB1bmRlZmluZWQsIGNhdXNlIHx8IHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICBSZWdpc3RlckNvbnRleHQucHJvdG90eXBlLm9uVHJhbnNwb3J0RGlzY29ubmVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRCZWZvcmUgPSB0aGlzLnJlZ2lzdGVyZWQ7XG4gICAgICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cmF0aW9uVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJlZCh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgRnVuY3Rpb24gdG8gZ2VuZXJhdGUgQ29udGFjdCBIZWFkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBSZWdpc3RlckNvbnRleHQucHJvdG90eXBlLmdlbmVyYXRlQ29udGFjdEhlYWRlciA9IGZ1bmN0aW9uIChleHBpcmVzKSB7XG4gICAgICAgIGlmIChleHBpcmVzID09PSB2b2lkIDApIHsgZXhwaXJlcyA9IDA7IH1cbiAgICAgICAgdmFyIGNvbnRhY3QgPSB0aGlzLmNvbnRhY3Q7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVnSWQgJiYgdGhpcy5vcHRpb25zLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgIGNvbnRhY3QgKz0gXCI7cmVnLWlkPVwiICsgdGhpcy5vcHRpb25zLnJlZ0lkO1xuICAgICAgICAgICAgY29udGFjdCArPSAnOytzaXAuaW5zdGFuY2U9XCI8dXJuOnV1aWQ6JyArIHRoaXMub3B0aW9ucy5pbnN0YW5jZUlkICsgJz5cIic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRyYUNvbnRhY3RIZWFkZXJQYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5leHRyYUNvbnRhY3RIZWFkZXJQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgY29udGFjdCArPSBcIjtcIiArIGhlYWRlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhY3QgKz0gXCI7ZXhwaXJlcz1cIiArIGV4cGlyZXM7XG4gICAgICAgIHJldHVybiBjb250YWN0O1xuICAgIH07XG4gICAgcmV0dXJuIFJlZ2lzdGVyQ29udGV4dDtcbn0oQ2xpZW50Q29udGV4dF8xLkNsaWVudENvbnRleHQpKTtcbmV4cG9ydHMuUmVnaXN0ZXJDb250ZXh0ID0gUmVnaXN0ZXJDb250ZXh0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG52YXIgQ2xpZW50Q29udGV4dF8xID0gcmVxdWlyZShcIi4vQ2xpZW50Q29udGV4dFwiKTtcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xudmFyIEVudW1zXzEgPSByZXF1aXJlKFwiLi9FbnVtc1wiKTtcbnZhciBFeGNlcHRpb25zXzEgPSByZXF1aXJlKFwiLi9FeGNlcHRpb25zXCIpO1xudmFyIFJlZmVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUmVmZXJDb250ZXh0XCIpO1xudmFyIFNlcnZlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1NlcnZlckNvbnRleHRcIik7XG52YXIgRFRNRl8xID0gcmVxdWlyZShcIi4vU2Vzc2lvbi9EVE1GXCIpO1xudmFyIERUTUZWYWxpZGF0b3JfMSA9IHJlcXVpcmUoXCIuL1Nlc3Npb24vRFRNRlZhbGlkYXRvclwiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG4vKlxuICogQHBhcmFtIHtmdW5jdGlvbiByZXR1cm5pbmcgU0lQLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJ9IFtzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeV1cbiAqICAgICAgICAoU2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkgYXJndW1lbnQgb2YgdGhlIFVBIGNvbnN0cnVjdG9yLilcbiAqL1xudmFyIFNlc3Npb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2Vzc2lvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZXNzaW9uKHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbjtcbiAgICAgICAgaWYgKCFzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcIkEgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGlzIHJlcXVpcmVkIGZvciB0aGUgc2Vzc2lvbiB0byBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0dXMgPSBTZXNzaW9uLkMuU1RBVFVTX05VTEw7XG4gICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSA9IHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5O1xuICAgICAgICBfdGhpcy5oYXNPZmZlciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNBbnN3ZXIgPSBmYWxzZTtcbiAgICAgICAgLy8gU2Vzc2lvbiBUaW1lcnNcbiAgICAgICAgX3RoaXMudGltZXJzID0ge1xuICAgICAgICAgICAgYWNrVGltZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGV4cGlyZXNUaW1lcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaW52aXRlMnh4VGltZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVzZXJOb0Fuc3dlclRpbWVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByZWwxeHhUaW1lcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJhY2tUaW1lcjogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIC8vIFNlc3Npb24gaW5mb1xuICAgICAgICBfdGhpcy5zdGFydFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLmVuZFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLnRvbmVzID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBIb2xkIHN0YXRlXG4gICAgICAgIF90aGlzLmxvY2FsSG9sZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5lYXJseVNkcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMucmVsMTAwID0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZHRtZiA9IGZ1bmN0aW9uICh0b25lcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBDaGVjayBTZXNzaW9uIFN0YXR1c1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEICYmIHRoaXMuc3RhdHVzICE9PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayB0b25lcycgdmFsaWRpdHlcbiAgICAgICAgRFRNRlZhbGlkYXRvcl8xLkRUTUZWYWxpZGF0b3IudmFsaWRhdGUodG9uZXMpO1xuICAgICAgICB2YXIgc2VuZERUTUYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQgfHwgIV90aGlzLnRvbmVzIHx8IF90aGlzLnRvbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFN0b3Agc2VuZGluZyBEVE1GXG4gICAgICAgICAgICAgICAgX3RoaXMudG9uZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGR0bWYgPSBfdGhpcy50b25lcy5zaGlmdCgpO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICAgICAgICBpZiAoZHRtZi50b25lID09PSBcIixcIikge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSAyMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZHRtZi5vbihcImZhaWxlZFwiLCBmdW5jdGlvbiAoKSB7IF90aGlzLnRvbmVzID0gdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgICAgICAgICBkdG1mLnNlbmQob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IGR0bWYuZHVyYXRpb24gKyBkdG1mLmludGVyVG9uZUdhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCB0aW1lb3V0IGZvciB0aGUgbmV4dCB0b25lXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHNlbmREVE1GLCB0aW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdG9uZXMgPSB0b25lcy50b1N0cmluZygpO1xuICAgICAgICB2YXIgZHRtZlR5cGUgPSB0aGlzLnVhLmNvbmZpZ3VyYXRpb24uZHRtZlR5cGU7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgJiYgZHRtZlR5cGUgPT09IENvbnN0YW50c18xLkMuZHRtZlR5cGUuUlRQKSB7XG4gICAgICAgICAgICB2YXIgc2VudCA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZW5kRHRtZih0b25lcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIXNlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQXR0ZW1wdCB0byB1c2UgZHRtZlR5cGUgJ1JUUCcgaGFzIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIElORk8gcGFja2V0IG1ldGhvZFwiKTtcbiAgICAgICAgICAgICAgICBkdG1mVHlwZSA9IENvbnN0YW50c18xLkMuZHRtZlR5cGUuSU5GTztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZHRtZlR5cGUgPT09IENvbnN0YW50c18xLkMuZHRtZlR5cGUuSU5GTykge1xuICAgICAgICAgICAgdmFyIGR0bWZzID0gW107XG4gICAgICAgICAgICB2YXIgdG9uZXNBcnJheSA9IHRvbmVzLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgd2hpbGUgKHRvbmVzQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGR0bWZzLnB1c2gobmV3IERUTUZfMS5EVE1GKHRoaXMsIHRvbmVzQXJyYXkuc2hpZnQoKSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy50b25lcykgJiYgdGhpcy50b25lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBUb25lcyBhcmUgYWxyZWFkeSBxdWV1ZWQsIGp1c3QgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAgICAgICAgICAgIHRoaXMudG9uZXMgPSB0aGlzLnRvbmVzLmNvbmNhdChkdG1mcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRvbmVzID0gZHRtZnM7XG4gICAgICAgICAgICBzZW5kRFRNRigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuYnllID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gQ2hlY2sgU2Vzc2lvbiBTdGF0dXNcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiRXJyb3I6IEF0dGVtcHRlZCB0byBzZW5kIEJZRSBpbiBhIHRlcm1pbmF0ZWQgc2Vzc2lvbi5cIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJ0ZXJtaW5hdGluZyBTZXNzaW9uXCIpO1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgJiYgKHN0YXR1c0NvZGUgPCAyMDAgfHwgc3RhdHVzQ29kZSA+PSA3MDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdChDb25zdGFudHNfMS5DLkJZRSwgb3B0aW9ucykudGVybWluYXRlZCgpO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUucmVmZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIENoZWNrIFNlc3Npb24gU3RhdHVzXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZlckNvbnRleHQgPSBuZXcgUmVmZXJDb250ZXh0XzEuUmVmZXJDbGllbnRDb250ZXh0KHRoaXMudWEsIHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW1pdChcInJlZmVyUmVxdWVzdGVkXCIsIHRoaXMucmVmZXJDb250ZXh0KTtcbiAgICAgICAgdGhpcy5yZWZlckNvbnRleHQucmVmZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyQ29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmRzIGluIGRpYWxvZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBtZXRob2QgUmVxdWVzdCBtZXRob2QuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiAobWV0aG9kLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29udmVydCBhbnkgXCJib2R5XCIgb3B0aW9uIHRvIGEgQm9keS5cbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgb3B0aW9ucy5ib2R5ID0gVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihvcHRpb25zLmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnZlcnQgYW55IFwicmVjZWl2ZVJlc3BvbnNlXCIgY2FsbGJhY2sgb3B0aW9uIHBhc3NlZCB0byBhbiBPdXRnb2luZ1JlcXVlc3REZWxlZ2F0ZS5cbiAgICAgICAgdmFyIGRlbGVnYXRlO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBvcHRpb25zLnJlY2VpdmVSZXNwb25zZTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBkZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICBvbkFjY2VwdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBjYWxsYmFjayhyZXNwb25zZS5tZXNzYWdlKTsgfSxcbiAgICAgICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIGNhbGxiYWNrKHJlc3BvbnNlLm1lc3NhZ2UpOyB9LFxuICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gY2FsbGJhY2socmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gY2FsbGJhY2socmVzcG9uc2UubWVzc2FnZSk7IH0sXG4gICAgICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gY2FsbGJhY2socmVzcG9uc2UubWVzc2FnZSk7IH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVlc3Q7XG4gICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuQllFOlxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB0aGlzLnNlc3Npb24uYnllKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuSU5WSVRFOlxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB0aGlzLnNlc3Npb24uaW52aXRlKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuTUVTU0FHRTpcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gdGhpcy5zZXNzaW9uLm1lc3NhZ2UoZGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5SRUZFUjpcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gdGhpcy5zZXNzaW9uLnJlZmVyKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgXCIgKyBtZXRob2QgKyBcIi4gTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCBieSB1c2VyIGFnZW50IGNvcmUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvcnRlZCAtIEVtaXQgdGhlIHJlcXVlc3QgZXZlbnRcbiAgICAgICAgdGhpcy5lbWl0KG1ldGhvZC50b0xvd2VyQ2FzZSgpLCByZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiY2xvc2luZyBJTlZJVEUgc2Vzc2lvbiBcIiArIHRoaXMuaWQpO1xuICAgICAgICAvLyAxc3QgU3RlcC4gVGVybWluYXRlIG1lZGlhLlxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAybmQgU3RlcC4gVGVybWluYXRlIHNpZ25hbGluZy5cbiAgICAgICAgLy8gQ2xlYXIgc2Vzc2lvbiB0aW1lcnNcbiAgICAgICAgZm9yICh2YXIgdGltZXIgaW4gdGhpcy50aW1lcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyc1t0aW1lcl0pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnNbdGltZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRDtcbiAgICAgICAgaWYgKHRoaXMudWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLnVhLnRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcInRyYW5zcG9ydEVycm9yXCIsIHRoaXMuZXJyb3JMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMudWEuc2Vzc2lvbnNbdGhpcy5pZF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuaG9sZCA9IGZ1bmN0aW9uIChvcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IFtdOyB9XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0sgJiYgdGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxvY2FsSG9sZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBpcyBhbHJlYWR5IG9uIGhvbGQsIGNhbm5vdCBwdXQgaXQgb24gaG9sZCBhZ2FpblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgb3B0aW9ucy5tb2RpZmllcnMucHVzaCh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaG9sZE1vZGlmaWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvY2FsSG9sZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VuZFJlaW52aXRlKG9wdGlvbnMpO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUudW5ob2xkID0gZnVuY3Rpb24gKG9wdGlvbnMsIG1vZGlmaWVycykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAobW9kaWZpZXJzID09PSB2b2lkIDApIHsgbW9kaWZpZXJzID0gW107IH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzICE9PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSyAmJiB0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxvY2FsSG9sZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBpcyBub3Qgb24gaG9sZCwgY2Fubm90IHVuaG9sZCBpdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICAgICAgdGhpcy5sb2NhbEhvbGQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZW5kUmVpbnZpdGUob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWludml0ZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IFtdOyB9XG4gICAgICAgIG9wdGlvbnMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVpbnZpdGUob3B0aW9ucyk7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBoZXJlIGZvciB0eXBlcyBhbmQgdG8gYmUgb3ZlcnJpZGRlblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQgJiYgdGhpcy5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgdGhpcy5mYWlsZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUub25SZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmZhaWxlZCh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkRpYWxvZ0Vycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuRElBTE9HX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuRElBTE9HX0VSUk9SKTtcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuRElBTE9HX0VSUk9SKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkFjayA9IGZ1bmN0aW9uIChpbmNvbWluZ1JlcXVlc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbmZpcm1TZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVycy5hY2tUaW1lcik7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXJzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnREaXNwID0gaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChjb250ZW50RGlzcCAmJiBjb250ZW50RGlzcC50eXBlID09PSBcInJlbmRlclwiKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyYm9keSA9IGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmJvZHk7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVydHlwZSA9IGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJjb25maXJtZWRcIiwgaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSB8fCBcIlwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQW5zd2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuc2V0RGVzY3JpcHRpb24oaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuYm9keSwgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgdGhpcy5tb2RpZmllcnMpLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKGUpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogXCI0ODhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvblBocmFzZTogXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlybVNlc3Npb24oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maXJtU2Vzc2lvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdCA9IGZ1bmN0aW9uIChpbmNvbWluZ1JlcXVlc3QpIHtcbiAgICAgICAgc3dpdGNoIChpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5tZXRob2QpIHsgLy8gVE9ETzogVGhpcyBuZWVkcyBhIGRlZmF1bHQgY2FzZVxuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5DLkJZRTpcbiAgICAgICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJieWVcIiwgaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UsIENvbnN0YW50c18xLkMuQllFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuSU5WSVRFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwicmUtSU5WSVRFIHJlY2VpdmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVSZWludml0ZShpbmNvbWluZ1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5JTkZPOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQgfHwgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25JbmZvKGluY29taW5nUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFR5cGUgPSBpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5nZXRIZWFkZXIoXCJjb250ZW50LXR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlLm1hdGNoKC9eYXBwbGljYXRpb25cXC9kdG1mLXJlbGF5L2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5ib2R5LnNwbGl0KFwiXFxyXFxuXCIsIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b25lID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ1RvbmUgPSAvXihTaWduYWxcXHMqPz1cXHMqPykoWzAtOUEtRCMqXXsxfSkoXFxzKT8uKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnVG9uZS50ZXN0KGJvZHlbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9uZSA9IGJvZHlbMF0ucmVwbGFjZShyZWdUb25lLCBcIiQyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ0R1cmF0aW9uID0gL14oRHVyYXRpb25cXHM/PVxccz8pKFswLTldezEsNH0pKFxccyk/LiovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ0R1cmF0aW9uLnRlc3QoYm9keVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHBhcnNlSW50KGJvZHlbMV0ucmVwbGFjZShyZWdEdXJhdGlvbiwgXCIkMlwiKSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvbmUgJiYgZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRFRNRl8xLkRUTUYodGhpcywgdG9uZSwgeyBkdXJhdGlvbjogZHVyYXRpb24gfSkuaW5pdF9pbmNvbWluZyhpbmNvbWluZ1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBbXCJBY2NlcHQ6IGFwcGxpY2F0aW9uL2R0bWYtcmVsYXlcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5SRUZFUjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlJFRkVSIHJlY2VpdmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZmVyQ29udGV4dCA9IG5ldyBSZWZlckNvbnRleHRfMS5SZWZlclNlcnZlckNvbnRleHQodGhpcy51YSwgaW5jb21pbmdSZXF1ZXN0LCB0aGlzLnNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnMoXCJyZWZlclJlcXVlc3RlZFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInJlZmVyUmVxdWVzdGVkXCIsIHRoaXMucmVmZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIk5vIHJlZmVyUmVxdWVzdGVkIGxpc3RlbmVycywgYXV0b21hdGljYWxseSBhY2NlcHRpbmcgYW5kIGZvbGxvd2luZyB0aGUgcmVmZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsgZm9sbG93UmVmZXI6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhc3NlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmludml0ZU9wdGlvbnMgPSB0aGlzLnBhc3NlZE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZmVyQ29udGV4dC5hY2NlcHQob3B0aW9ucywgdGhpcy5tb2RpZmllcnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5DLk5PVElGWTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWZlckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZlckNvbnRleHQudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5SZWZlckNsaWVudENvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuaGFzSGVhZGVyKFwiZXZlbnRcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgL15yZWZlcig7LiopPyQvLnRlc3QoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiZXZlbnRcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmZXJDb250ZXh0LnJlY2VpdmVOb3RpZnkoaW5jb21pbmdSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwibm90aWZ5XCIsIGluY29taW5nUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5NRVNTQUdFOlxuICAgICAgICAgICAgICAgIGluY29taW5nUmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJtZXNzYWdlXCIsIGluY29taW5nUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW4gZGlhbG9nIElOVklURSBSZWNlcHRpb25cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWNlaXZlUmVpbnZpdGUgPSBmdW5jdGlvbiAoaW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICAgIC8vIFRPRE86IFNob3VsZCBwcm9iYWJseSBjaGVjayBzdGF0ZSBvZiB0aGUgc2Vzc2lvblxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmVtaXQoXCJyZWludml0ZVwiLCB0aGlzLCBpbmNvbWluZ1JlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgIGlmIChpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5oYXNIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydGVkSWRlbnRpdHkgPVxuICAgICAgICAgICAgICAgIGNvcmVfMS5HcmFtbWFyLm5hbWVBZGRySGVhZGVyUGFyc2UoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiUC1Bc3NlcnRlZC1JZGVudGl0eVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb21pc2U7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm8gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciB0byByZWludml0ZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1MZW5ndGhcIikgPT09IFwiMFwiICYmXG4gICAgICAgICAgICAhaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKSB7IC8vIEludml0ZSB3L28gU0RQXG4gICAgICAgICAgICBwcm9taXNlID0gdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24oaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAvLyBJbnZpdGUgdy8gU0RQXG4gICAgICAgICAgICBwcm9taXNlID0gdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnNldERlc2NyaXB0aW9uKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKS50aGVuKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5nZXREZXNjcmlwdGlvbi5iaW5kKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciwgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgdGhpcy5tb2RpZmllcnMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gQmFkIFBhY2tldCAoc2hvdWxkIG5ldmVyIGdldCBoaXQpXG4gICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QucmVqZWN0KHsgc3RhdHVzQ29kZTogNDE1IH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVpbnZpdGVGYWlsZWRcIiwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHN0YXR1c0NvZGU7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPSA1MDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuUmVuZWdvdGlhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlbmVnb3RpYXRpb25FcnJvclwiLCBlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPSA0ODg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9IDQ4ODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluY29taW5nUmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlIH0pO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlaW52aXRlRmFpbGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgY291bGQgYmUgYmV0dGVyXG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtcIkNvbnRhY3Q6IFwiICsgX3RoaXMuY29udGFjdF07XG4gICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihkZXNjcmlwdGlvbilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0s7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVpbnZpdGVBY2NlcHRlZFwiLCBfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuc2VuZFJlaW52aXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlaW52aXRlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiUmVpbnZpdGUgaW4gcHJvZ3Jlc3MuIFBsZWFzZSB3YWl0IHVudGlsIGNvbXBsZXRlLCB0aGVuIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJObyBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLCBjYW4ndCByZWludml0ZS4uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZ1JlaW52aXRlID0gdHJ1ZTtcbiAgICAgICAgb3B0aW9ucy5tb2RpZmllcnMgPSBvcHRpb25zLm1vZGlmaWVycyB8fCBbXTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuY29udGFjdCk7XG4gICAgICAgIC8vIHRoaXMgaXMgVUEuQy5BTExPV0VEX01FVEhPRFMsIHJlbW92ZWQgdG8gZ2V0IGFyb3VuZCBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQWxsb3c6IFwiICsgW1xuICAgICAgICAgICAgXCJBQ0tcIixcbiAgICAgICAgICAgIFwiQ0FOQ0VMXCIsXG4gICAgICAgICAgICBcIklOVklURVwiLFxuICAgICAgICAgICAgXCJNRVNTQUdFXCIsXG4gICAgICAgICAgICBcIkJZRVwiLFxuICAgICAgICAgICAgXCJPUFRJT05TXCIsXG4gICAgICAgICAgICBcIklORk9cIixcbiAgICAgICAgICAgIFwiTk9USUZZXCIsXG4gICAgICAgICAgICBcIlJFRkVSXCJcbiAgICAgICAgXS50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uKG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIHVuZGVmaW5lZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGVsZWdhdGUgPSB7XG4gICAgICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlJlY2VpdmVkIHJlaW52aXRlIHJlc3BvbnNlLCBidXQgaW4gU1RBVFVTX1RFUk1JTkFURURcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBEbyB3ZSBuZWVkIHRvIHNlbmQgYSBTSVAgcmVzcG9uc2U/XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5wZW5kaW5nUmVpbnZpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlJlY2VpdmVkIHJlaW52aXRlIHJlc3BvbnNlLCBidXQgaGF2ZSBubyBwZW5kaW5nIHJlaW52aXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogRG8gd2UgbmVlZCB0byBzZW5kIGEgU0lQIHJlc3BvbnNlP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaHkgaXMgdGhpcyBzZXQgaGVyZT9cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIDE3LjEuMS4xIC0gRm9yIGVhY2ggZmluYWwgcmVzcG9uc2UgdGhhdCBpcyByZWNlaXZlZCBhdCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHNlbmRzIGFuIEFDSyxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFja1wiLCByZXNwb25zZS5hY2soKSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBBbGwgb2YgdGhlc2UgdGltZXJzIHNob3VsZCBtb3ZlIGludG8gdGhlIFRyYW5zYWN0aW9uIGxheWVyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lcnMuaW52aXRlMnh4VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlc3BvbnNlLm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCIyWFggcmVzcG9uc2UgcmVjZWl2ZWQgdG8gcmUtaW52aXRlIGJ1dCBkaWQgbm90IGhhdmUgYSBkZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWludml0ZUZhaWxlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVuZWdvdGlhdGlvbkVycm9yXCIsIG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5SZW5lZ290aWF0aW9uRXJyb3IoXCIyWFggcmVzcG9uc2UgcmVjZWl2ZWQgdG8gcmUtaW52aXRlIGJ1dCBkaWQgbm90IGhhdmUgYSBkZXNjcmlwdGlvblwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLm1lc3NhZ2UuYm9keSwgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIF90aGlzLm1vZGlmaWVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKFwiQ291bGQgbm90IHNldCB0aGUgZGVzY3JpcHRpb24gaW4gMlhYIHJlc3BvbnNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInJlaW52aXRlRmFpbGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChDb25zdGFudHNfMS5DLkJZRSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVyczogW1wiUmVhc29uOiBcIiArIFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoNDg4LCBcIk5vdCBBY2NlcHRhYmxlIEhlcmVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRlcm1pbmF0ZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5JTkNPTVBBVElCTEVfU0RQKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicmVpbnZpdGVBY2NlcHRlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogRG9lcyBBQ0sgbmVlZCB0byBiZSBzZW50P1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIlJlY2VpdmVkIGEgbm9uIDFYWCBvciAyWFggcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWludml0ZUZhaWxlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlJlbmVnb3RpYXRpb25FcnJvcihcIkludmFsaWQgcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIikpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogRG9lcyBBQ0sgbmVlZCB0byBiZSBzZW50P1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIlJlY2VpdmVkIGEgbm9uIDFYWCBvciAyWFggcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWludml0ZUZhaWxlZFwiLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlJlbmVnb3RpYXRpb25FcnJvcihcIkludmFsaWQgcmVzcG9uc2UgdG8gYSByZS1pbnZpdGVcIikpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiBVdGlsc18xLlV0aWxzLmZyb21Cb2R5T2JqKGRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNlc3Npb24uaW52aXRlKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlJlbmVnb3RpYXRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZW5lZ290aWF0aW9uRXJyb3JcIiwgZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJSZW5lZ290aWF0aW9uIEVycm9yXCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgZXJyb3JcIik7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmZhaWxlZCA9IGZ1bmN0aW9uIChyZXNwb25zZSwgY2F1c2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnJlamVjdGVkID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjYXVzZSkge1xuICAgICAgICB0aGlzLmVtaXQoXCJyZWplY3RlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmNhbmNlbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJjYW5jZWxcIik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuYWNjZXB0ZWQgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNhdXNlKSB7XG4gICAgICAgIGlmICghKHJlc3BvbnNlIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgY2F1c2UgPSBVdGlsc18xLlV0aWxzLmdldFJlYXNvblBocmFzZSgocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSkgfHwgMCwgY2F1c2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMucmVwbGFjZWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVwbGFjZWUuZW1pdChcInJlcGxhY2VkXCIsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZXBsYWNlZS50ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJhY2NlcHRlZFwiLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnRlcm1pbmF0ZWQgPSBmdW5jdGlvbiAobWVzc2FnZSwgY2F1c2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5lbWl0KFwidGVybWluYXRlZFwiLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuY29ubmVjdGluZyA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RpbmdcIiwgeyByZXF1ZXN0OiByZXF1ZXN0IH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNlc3Npb24uQyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cztcbiAgICByZXR1cm4gU2Vzc2lvbjtcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLlNlc3Npb24gPSBTZXNzaW9uO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1jbGFzc2VzLXBlci1maWxlXG52YXIgSW52aXRlU2VydmVyQ29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVTZXJ2ZXJDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEludml0ZVNlcnZlckNvbnRleHQodWEsIGluY29taW5nSW52aXRlUmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXVhLmNvbmZpZ3VyYXRpb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIHVhLmxvZ2dlci53YXJuKFwiQ2FuJ3QgYnVpbGQgSVNDIHdpdGhvdXQgU0RIIEZhY3RvcnlcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJU0MgQ29uc3RydWN0b3IgRmFpbGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdWEuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2NhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnJzZXEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICAgIF90aGlzLmluY29taW5nUmVxdWVzdCA9IGluY29taW5nSW52aXRlUmVxdWVzdDtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBpbmNvbWluZ0ludml0ZVJlcXVlc3QubWVzc2FnZTtcbiAgICAgICAgU2VydmVyQ29udGV4dF8xLlNlcnZlckNvbnRleHQuaW5pdGlhbGl6ZXIoX3RoaXMsIHVhLCBpbmNvbWluZ0ludml0ZVJlcXVlc3QpO1xuICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5JbnZpdGVTZXJ2ZXJDb250ZXh0O1xuICAgICAgICB2YXIgY29udGVudERpc3AgPSByZXF1ZXN0LnBhcnNlSGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiKTtcbiAgICAgICAgaWYgKGNvbnRlbnREaXNwICYmIGNvbnRlbnREaXNwLnR5cGUgPT09IFwicmVuZGVyXCIpIHtcbiAgICAgICAgICAgIF90aGlzLnJlbmRlcmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXJ0eXBlID0gcmVxdWVzdC5nZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19JTlZJVEVfUkVDRUlWRUQ7XG4gICAgICAgIF90aGlzLmZyb21UYWcgPSByZXF1ZXN0LmZyb21UYWc7XG4gICAgICAgIF90aGlzLmlkID0gcmVxdWVzdC5jYWxsSWQgKyBfdGhpcy5mcm9tVGFnO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgX3RoaXMuY29udGFjdCA9IF90aGlzLnVhLmNvbnRhY3QudG9TdHJpbmcoKTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKFwic2lwLmludml0ZXNlcnZlcmNvbnRleHRcIiwgX3RoaXMuaWQpO1xuICAgICAgICAvLyBTYXZlIHRoZSBzZXNzaW9uIGludG8gdGhlIHVhIHNlc3Npb25zIGNvbGxlY3Rpb24uXG4gICAgICAgIF90aGlzLnVhLnNlc3Npb25zW190aGlzLmlkXSA9IF90aGlzO1xuICAgICAgICAvLyBTZXQgMTAwcmVsIGlmIG5lY2Vzc2FyeVxuICAgICAgICB2YXIgc2V0MTAwcmVsID0gZnVuY3Rpb24gKGhlYWRlciwgcmVsU2V0dGluZykge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3QuaGFzSGVhZGVyKGhlYWRlcikgJiYgcmVxdWVzdC5nZXRIZWFkZXIoaGVhZGVyKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIxMDByZWxcIikgPj0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbDEwMCA9IHJlbFNldHRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldDEwMHJlbChcInJlcXVpcmVcIiwgQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpO1xuICAgICAgICBzZXQxMDByZWwoXCJzdXBwb3J0ZWRcIiwgQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKTtcbiAgICAgICAgLy8gU2V0IHRoZSB0b1RhZyBvbiB0aGUgaW5jb21pbmcgcmVxdWVzdCB0byB0aGUgdG9UYWcgd2hpY2hcbiAgICAgICAgLy8gd2lsbCBiZSB1c2VkIGluIHRoZSByZXNwb25zZSB0byB0aGUgaW5jb21pbmcgcmVxdWVzdCEhIVxuICAgICAgICAvLyBGSVhNRTogSEFDSzogVGhpcyBpcyBhIGhhY2sgdG8gcG9ydCBhbiBleGlzdGluZyBiZWhhdmlvci5cbiAgICAgICAgLy8gVGhlIGJlaGF2aW9yIGJlaW5nIHBvcnRlZCBhcHBlYXJzIHRvIGJlIGEgaGFjayBpdHNlbGYsXG4gICAgICAgIC8vIHNvIHRoaXMgaXMgYSBoYWNrIHRvIHBvcnQgYSBoYWNrLiBBdCBsZWFzdCBvbmUgdGVzdCBzcGVjXG4gICAgICAgIC8vIHJlbGllcyBvbiBpdCAod2hpY2ggaXMgeWV0IGFub3RoZXIgaGFjaykuXG4gICAgICAgIF90aGlzLnJlcXVlc3QudG9UYWcgPSBpbmNvbWluZ0ludml0ZVJlcXVlc3QudG9UYWc7XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSO1xuICAgICAgICAvLyBTZXQgdXNlck5vQW5zd2VyVGltZXJcbiAgICAgICAgX3RoaXMudGltZXJzLnVzZXJOb0Fuc3dlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbmNvbWluZ0ludml0ZVJlcXVlc3QucmVqZWN0KHsgc3RhdHVzQ29kZTogNDA4IH0pO1xuICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLk5PX0FOU1dFUik7XG4gICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLk5PX0FOU1dFUik7XG4gICAgICAgIH0sIF90aGlzLnVhLmNvbmZpZ3VyYXRpb24ubm9BbnN3ZXJUaW1lb3V0IHx8IDYwKTtcbiAgICAgICAgLyogU2V0IGV4cGlyZXNUaW1lclxuICAgICAgICAqIFJGQzMyNjEgMTMuMy4xXG4gICAgICAgICovXG4gICAgICAgIC8vIEdldCB0aGUgRXhwaXJlcyBoZWFkZXIgdmFsdWUgaWYgZXhpc3RzXG4gICAgICAgIGlmIChyZXF1ZXN0Lmhhc0hlYWRlcihcImV4cGlyZXNcIikpIHtcbiAgICAgICAgICAgIHZhciBleHBpcmVzID0gTnVtYmVyKHJlcXVlc3QuZ2V0SGVhZGVyKFwiZXhwaXJlc1wiKSB8fCAwKSAqIDEwMDA7XG4gICAgICAgICAgICBfdGhpcy50aW1lcnMuZXhwaXJlc1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdJbnZpdGVSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4NyB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLkVYUElSRVMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIENvbnN0YW50c18xLkMuY2F1c2VzLkVYUElSRVMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGV4cGlyZXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmVycm9yTGlzdGVuZXIgPSBfdGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB1YS50cmFuc3BvcnQub24oXCJ0cmFuc3BvcnRFcnJvclwiLCBfdGhpcy5lcnJvckxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZpdGVTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZSwgXCJhdXRvU2VuZEFuSW5pdGlhbFByb3Zpc2lvbmFsUmVzcG9uc2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgYSBmaXJzdCBwcm92aXNpb25hbCByZXNwb25zZSBhZnRlciB0aGUgMTAwIFRyeWluZ1xuICAgICAgICAgKiB3aWxsIGJlIHNlbnQgYXV0b21hdGljYWxseS4gVGhpcyBpcyBmYWxzZSBpdCB0aGUgVUFDIHJlcXVpcmVkXG4gICAgICAgICAqIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyAoMTAwcmVsIGluIFJlcXVpcmUgaGVhZGVyKSxcbiAgICAgICAgICogb3RoZXJ3aXNlIGl0IGlzIHRydWUuIFRoZSBwcm92aXNpb25hbCBpcyBzZW50IGJ5IGNhbGxpbmdcbiAgICAgICAgICogYHByb2dyZXNzKClgIHdpdGhvdXQgYW55IG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZJWE1FOiBUT0RPOiBJdCBzZWVtcyByZWFzb25hYmxlIHRoYXQgdGhlIElTQyB1c2VyIHNob3VsZFxuICAgICAgICAgKiBiZSBhYmxlIHRvIG9wdGlvbmFsbHkgZGlzYWJsZSB0aGlzIGJlaGF2aW9yLiBBcyB0aGUgcHJvdmlzaW9uYWxcbiAgICAgICAgICogaXMgc2VudCBwcmlvciB0byB0aGUgXCJpbnZpdGVcIiBldmVudCBiZWluZyBlbWl0dGVkLCBpdCdzIGEga25vd25cbiAgICAgICAgICogaXNzdWUgdGhhdCB0aGUgSVNDIHVzZXIgY2Fubm90IHJlZ2lzdGVyIGxpc3RlbmVycyBvciBkbyBhbnkgb3RoZXJcbiAgICAgICAgICogc2V0dXAgcHJpb3IgdG8gdGhlIGNhbGwgdG8gYHByb2dyZXNzKClgLiBBcyBhbiBleGFtcGxlIHdoeSB0aGlzIGlzXG4gICAgICAgICAqIGFuIGlzc3VlLCBzZXR0aW5nIGB1YS5jb25maWd1cmF0aW9uLnJlbDEwMGAgdG8gUkVRVUlSRUQgd2lsbCByZXN1bHRcbiAgICAgICAgICogaW4gYW4gYXR0ZW1wdCBieSBgcHJvZ3Jlc3MoKWAgdG8gc2VuZCBhIDE4MyB3aXRoIFNEUCBwcm9kdWNlZCBieVxuICAgICAgICAgKiBjYWxsaW5nIGBnZXREZXNjcmlwdGlvbigpYCBvbiBhIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciwgYnV0XG4gICAgICAgICAqIHRoZSBJU0MgdXNlciBjYW5ub3QgcGVyZm9ybSBhbnkgcG90ZW50aWFsbHkgcmVxdWlyZWQgc2Vzc2lvbiBkZXNjcmlwdGlvblxuICAgICAgICAgKiBoYW5kbGVyIGluaXRpYWxpemF0aW9uICh0aHVzIHByZXZlbnRpbmcgdGhlIHV0aWxpemF0aW9uIG9mIHNldHRpbmdcbiAgICAgICAgICogYHVhLmNvbmZpZ3VyYXRpb24ucmVsMTAwYCB0byBSRVFVSVJFRCkuIFRoYXQgYmVncyB0aGUgcXVlc3Rpb24gb2ZcbiAgICAgICAgICogd2h5IHRoaXMgYmVoYXZpb3IgaXMgZGlzYWJsZWQgd2hlbiB0aGUgVUFDIHJlcXVpcmVzIDEwMHJlbCBidXQgbm90XG4gICAgICAgICAqIHdoZW4gdGhlIFVBUyByZXF1aXJlcyAxMDByZWw/IEJ1dCBpZ25vcmluZyB0aGF0LCBpdCdzIGp1c3Qgb25lIGV4YW1wbGVcbiAgICAgICAgICogb2YgYSBjbGFzcyBvZiBjYXNlcyB3aGVyZSB0aGUgSVNDIHVzZXIgbmVlZHMgdG8gZG8gc29tZXRoaW5nIHByaW9yXG4gICAgICAgICAqIHRvIHRoZSBmaXJzdCBjYWxsIHRvIGBwcm9ncmVzcygpYCBhbmQgaXMgdW5hYmxlIHRvIGRvIHNvLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlJFUVVJUkVEID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyB0eXBlIGhhY2sgZm9yIHNlcnZlcmNvbnRleHQgaW50ZXJmYWNlXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVwbHkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIHR5cGluZyBub3RlOiB0aGlzIHdhcyB0aGUgb25seSBmdW5jdGlvbiB1c2luZyBpdHMgc3VwZXIgaW4gU2VydmVyQ29udGV4dFxuICAgIC8vIHNvIHRoZSBib3R0b20gaGFsZiBvZiB0aGlzIGZ1bmN0aW9uIGlzIGNvcGllZCBhbmQgcGFpcmVkIGRvd24gZnJvbSB0aGF0XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gQ2hlY2sgU2Vzc2lvbiBTdGF0dXNcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwicmVqZWN0aW5nIFJUQ1Nlc3Npb25cIik7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDQ4MDtcbiAgICAgICAgdmFyIHJlYXNvblBocmFzZSA9IFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHN0YXR1c0NvZGUsIG9wdGlvbnMucmVhc29uUGhyYXNlKTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDMwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5ID8gY29yZV8xLmZyb21Cb2R5TGVnYWN5KG9wdGlvbnMuYm9keSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIEZJWE1FOiBOZWVkIHRvIHJlZGlyZWN0IHRvIHNvbWVwbGFlXG4gICAgICAgIHZhciByZXNwb25zZSA9IHN0YXR1c0NvZGUgPCA0MDAgP1xuICAgICAgICAgICAgdGhpcy5pbmNvbWluZ1JlcXVlc3QucmVkaXJlY3QoW10sIHsgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSwgcmVhc29uUGhyYXNlOiByZWFzb25QaHJhc2UsIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzLCBib2R5OiBib2R5IH0pIDpcbiAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZTogcmVhc29uUGhyYXNlLCBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycywgYm9keTogYm9keSB9KTtcbiAgICAgICAgKFtcInJlamVjdGVkXCIsIFwiZmFpbGVkXCJdKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChldmVudCwgcmVzcG9uc2UubWVzc2FnZSwgcmVhc29uUGhyYXNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnRlcm1pbmF0ZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjY2VwdCB0aGUgaW5jb21pbmcgSU5WSVRFIHJlcXVlc3QgdG8gc3RhcnQgYSBTZXNzaW9uLlxuICAgICAqIFJlcGxpZXMgdG8gdGhlIElOVklURSByZXF1ZXN0IHdpdGggYSAyMDAgT2sgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gRklYTUU6IE5lZWQgZ3VhcmQgYWdhaW5zdCBjYWxsaW5nIG1vcmUgdGhhbiBvbmNlLlxuICAgICAgICB0aGlzLl9hY2NlcHQob3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBfYS5tZXNzYWdlLCBzZXNzaW9uID0gX2Euc2Vzc2lvbjtcbiAgICAgICAgICAgIHNlc3Npb24uZGVsZWdhdGUgPSB7XG4gICAgICAgICAgICAgICAgb25BY2s6IGZ1bmN0aW9uIChhY2tSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5vbkFjayhhY2tSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICBvbkFja1RpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQWNrVGltZW91dCgpOyB9LFxuICAgICAgICAgICAgICAgIG9uQnllOiBmdW5jdGlvbiAoYnllUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QoYnllUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICAgICAgb25JbmZvOiBmdW5jdGlvbiAoaW5mb1JlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KGluZm9SZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICBvbkludml0ZTogZnVuY3Rpb24gKGludml0ZVJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KGludml0ZVJlcXVlc3QpOyB9LFxuICAgICAgICAgICAgICAgIG9uTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICAgICAgb25Ob3RpZnk6IGZ1bmN0aW9uIChub3RpZnlSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChub3RpZnlSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICBvblByYWNrOiBmdW5jdGlvbiAocHJhY2tSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChwcmFja1JlcXVlc3QpOyB9LFxuICAgICAgICAgICAgICAgIG9uUmVmZXI6IGZ1bmN0aW9uIChyZWZlclJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KHJlZmVyUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSztcbiAgICAgICAgICAgIF90aGlzLmFjY2VwdGVkKG1lc3NhZ2UsIFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKDIwMCkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMub25Db250ZXh0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgLy8gRklYTUU6IEFzc3VtaW5nIGVycm9yIGR1ZSB0byBhc3luYyByYWNlIG9uIENBTkNFTCBhbmQgZWF0aW5nIGVycm9yLlxuICAgICAgICAgICAgaWYgKCFfdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVwb3J0IHByb2dyZXNzIHRvIHRoZSB0aGUgY2FsbGVyLlxuICAgICAqIFJlcGxpZXMgdG8gdGhlIElOVklURSByZXF1ZXN0IHdpdGggYSAxeHggcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBQb3J0ZWRcbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgwO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gMTk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0dXNDb2RlOiBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvcnRlZFxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlVuZXhwZWN0ZWQgY2FsbCBmb3IgcHJvZ3Jlc3Mgd2hpbGUgdGVybWluYXRlZCwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGRlZFxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIGNhbGwgZm9yIHByb2dyZXNzIHdoaWxlIGFuc3dlcmVkLCBpZ25vcmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZGVkXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19BTlNXRVJFRF9XQUlUSU5HX0ZPUl9QUkFDSykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlVuZXhwZWN0ZWQgY2FsbCBmb3IgcHJvZ3Jlc3Mgd2hpbGUgYW5zd2VyZWQgKHdhaXRpbmcgZm9yIHByYWNrKSwgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBBZnRlciB0aGUgZmlyc3QgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgZm9yIGEgcmVxdWVzdCBoYXMgYmVlblxuICAgICAgICAvLyBhY2tub3dsZWRnZWQsIHRoZSBVQVMgTUFZIHNlbmQgYWRkaXRpb25hbCByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAvLyByZXNwb25zZXMuICBUaGUgVUFTIE1VU1QgTk9UIHNlbmQgYSBzZWNvbmQgcmVsaWFibGUgcHJvdmlzaW9uYWxcbiAgICAgICAgLy8gcmVzcG9uc2UgdW50aWwgdGhlIGZpcnN0IGlzIGFja25vd2xlZGdlZC4gIEFmdGVyIHRoZSBmaXJzdCwgaXQgaXNcbiAgICAgICAgLy8gUkVDT01NRU5ERUQgdGhhdCB0aGUgVUFTIG5vdCBzZW5kIGFuIGFkZGl0aW9uYWwgcmVsaWFibGUgcHJvdmlzaW9uYWxcbiAgICAgICAgLy8gcmVzcG9uc2UgdW50aWwgdGhlIHByZXZpb3VzIGlzIGFja25vd2xlZGdlZC4gIFRoZSBmaXJzdCByZWxpYWJsZVxuICAgICAgICAvLyBwcm92aXNpb25hbCByZXNwb25zZSByZWNlaXZlcyBzcGVjaWFsIHRyZWF0bWVudCBiZWNhdXNlIGl0IGNvbnZleXNcbiAgICAgICAgLy8gdGhlIGluaXRpYWwgc2VxdWVuY2UgbnVtYmVyLiAgSWYgYWRkaXRpb25hbCByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAvLyByZXNwb25zZXMgd2VyZSBzZW50IGJlZm9yZSB0aGUgZmlyc3Qgd2FzIGFja25vd2xlZGdlZCwgdGhlIFVBUyBjb3VsZFxuICAgICAgICAvLyBub3QgYmUgY2VydGFpbiB0aGVzZSB3ZXJlIHJlY2VpdmVkIGluIG9yZGVyLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTNcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVW5leHBlY3RlZCBjYWxsIGZvciBwcm9ncmVzcyB3aGlsZSB3YWl0aW5nIGZvciBwcmFjaywgaWdub3JpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3J0ZWRcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhdHVzQ29kZSA9PT0gMTAwKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnRyeWluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbnRleHRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IEFzc3VtaW5nIGVycm9yIGR1ZSB0byBhc3luYyByYWNlIG9uIENBTkNFTCBhbmQgZWF0aW5nIGVycm9yLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhbmRhcmQgcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICAgIGlmICghKHRoaXMucmVsMTAwID09PSBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRCkgJiZcbiAgICAgICAgICAgICEodGhpcy5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCAmJiBvcHRpb25zLnJlbDEwMCkgJiZcbiAgICAgICAgICAgICEodGhpcy5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCAmJiB0aGlzLnVhLmNvbmZpZ3VyYXRpb24ucmVsMTAwID09PSBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQ29udGV4dEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogQXNzdW1pbmcgZXJyb3IgZHVlIHRvIGFzeW5jIHJhY2Ugb24gQ0FOQ0VMIGFuZCBlYXRpbmcgZXJyb3IuXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZS5cbiAgICAgICAgdGhpcy5fcmVsaWFibGVQcm9ncmVzc1dhaXRGb3JQcmFjayhvcHRpb25zKVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMub25Db250ZXh0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgLy8gRklYTUU6IEFzc3VtaW5nIGVycm9yIGR1ZSB0byBhc3luYyByYWNlIG9uIENBTkNFTCBhbmQgZWF0aW5nIGVycm9yLlxuICAgICAgICAgICAgaWYgKCFfdGhpcy5fY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVqZWN0IGFuIHVuYWNjZXB0ZWQgaW5jb21pbmcgSU5WSVRFIHJlcXVlc3Qgb3Igc2VuZCBCWUUgaWYgZXN0YWJsaXNoZWQgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGJ1Y2tldC4gRklYTUU6IFRoaXMgb3B0aW9ucyBidWNrZXQgbmVlZHMgdG8gYmUgdHlwZWQuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVGhlIGNhbGxlcidzIFVBIE1BWSBzZW5kIGEgQllFIGZvciBlaXRoZXIgY29uZmlybWVkIG9yIGVhcmx5IGRpYWxvZ3MsXG4gICAgICAgIC8vIGFuZCB0aGUgY2FsbGVlJ3MgVUEgTUFZIHNlbmQgYSBCWUUgb24gY29uZmlybWVkIGRpYWxvZ3MsIGJ1dCBNVVNUIE5PVFxuICAgICAgICAvLyBzZW5kIGEgQllFIG9uIGVhcmx5IGRpYWxvZ3MuIEhvd2V2ZXIsIHRoZSBjYWxsZWUncyBVQSBNVVNUIE5PVCBzZW5kIGFcbiAgICAgICAgLy8gQllFIG9uIGEgY29uZmlybWVkIGRpYWxvZyB1bnRpbCBpdCBoYXMgcmVjZWl2ZWQgYW4gQUNLIGZvciBpdHMgMnh4XG4gICAgICAgIC8vIHJlc3BvbnNlIG9yIHVudGlsIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gdGltZXMgb3V0LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIFdlIGRvbid0IHlldCBoYXZlIGEgZGlhbG9nLCBzbyByZWplY3QgcmVxdWVzdC5cbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0KG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnNlc3Npb24uc2Vzc2lvblN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TZXNzaW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5FYXJseTpcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5BY2tXYWl0OlxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBBQ0sgc2hvd3MgdXAsIHNheSBCWUUuXG4gICAgICAgICAgICAgICAgICAgIG9uQWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChDb25zdGFudHNfMS5DLkJZRSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIE9yIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gdGltZXMgb3V0IGJlZm9yZSB0aGUgQUNLIGFycml2ZXMuXG4gICAgICAgICAgICAgICAgICAgIG9uQWNrVGltZW91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VuZFJlcXVlc3QoQ29uc3RhbnRzXzEuQy5CWUUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBQb3J0ZWRcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJieWVcIiwgdGhpcy5yZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5Db25maXJtZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5ieWUob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLm9uQ2FuY2VsID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUiB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0sgfHxcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLIHx8XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19FQVJMWV9NRURJQSB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DQU5DRUxFRDtcbiAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4NyB9KTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsZWQoKTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ZWQobWVzc2FnZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ0FOQ0VMRUQpO1xuICAgICAgICAgICAgdGhpcy5mYWlsZWQobWVzc2FnZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ0FOQ0VMRUQpO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKG1lc3NhZ2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkNBTkNFTEVEKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbiAoaW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UubWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuUFJBQ0s6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNBbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IHRoaXMuc2V0dXBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWRcIiwgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuaGFzRGVzY3JpcHRpb24oaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5zZXREZXNjcmlwdGlvbihpbmNvbWluZ1JlcXVlc3QubWVzc2FnZS5ib2R5LCB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCB0aGlzLm1vZGlmaWVycykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lcnMucmVsMXh4VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXJzLnByYWNrVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvbWluZ1JlcXVlc3QuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0VBUkxZX01FRElBO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogXCI0ODhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvblBocmFzZTogXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKGluY29taW5nUmVxdWVzdC5tZXNzYWdlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBcIjQ4OFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb25QaHJhc2U6IFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhaWxlZChpbmNvbWluZ1JlcXVlc3QubWVzc2FnZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQoaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnMucmVsMXh4VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnByYWNrVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0VBUkxZX01FRElBO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdSZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdC5jYWxsKHRoaXMsIGluY29taW5nUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEludGVybmFsIEZ1bmN0aW9uIHRvIHNldHVwIHRoZSBoYW5kbGVyIGNvbnNpc3RlbnRseVxuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSh0aGlzLCB0aGlzLnVhLmNvbmZpZ3VyYXRpb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zKTtcbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGNvcmVfMS5nZXRCb2R5KHRoaXMuaW5jb21pbmdSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKCFib2R5IHx8IGJvZHkuY29udGVudERpc3Bvc2l0aW9uICE9PSBcInNlc3Npb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9mZmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9mZmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyOlxuICAgICAgICAgICAgICAgICAgICAvLyBvICBPbmNlIHRoZSBVQVMgaGFzIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZmVyLCBpdCBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiBhbnkgcmVzcG9uc2VzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24gYWxvbmUgY2FuIG5ldmVyIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIHVudGlsXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBsZXRpb24gb2YgdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXNzaW9uLm9mZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIG9mZmVyIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRPZmZlckFuZEdldEFuc3dlcih0aGlzLnNlc3Npb24ub2ZmZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmhhbmRsZVByYWNrT2ZmZXJBbnN3ZXIgPSBmdW5jdGlvbiAocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBQUkFDSyBkb2Vzbid0IGhhdmUgYW4gb2ZmZXIvYW5zd2VyLCBub3RoaW5nIHRvIGJlIGRvbmUuXG4gICAgICAgIHZhciBib2R5ID0gY29yZV8xLmdldEJvZHkocmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgaWYgKCFib2R5IHx8IGJvZHkuY29udGVudERpc3Bvc2l0aW9uICE9PSBcInNlc3Npb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBVQUMgcmVjZWl2ZXMgYSByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZSB3aXRoIGFuIG9mZmVyXG4gICAgICAgIC8vICh0aGlzIHdvdWxkIG9jY3VyIGlmIHRoZSBVQUMgc2VudCBhbiBJTlZJVEUgd2l0aG91dCBhbiBvZmZlciwgaW5cbiAgICAgICAgLy8gd2hpY2ggY2FzZSB0aGUgZmlyc3QgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2lsbCBjb250YWluIHRoZVxuICAgICAgICAvLyBvZmZlciksIGl0IE1VU1QgZ2VuZXJhdGUgYW4gYW5zd2VyIGluIHRoZSBQUkFDSy4gIElmIHRoZSBVQUMgcmVjZWl2ZXNcbiAgICAgICAgLy8gYSByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZSB3aXRoIGFuIGFuc3dlciwgaXQgTUFZIGdlbmVyYXRlIGFuXG4gICAgICAgIC8vIGFkZGl0aW9uYWwgb2ZmZXIgaW4gdGhlIFBSQUNLLiAgSWYgdGhlIFVBUyByZWNlaXZlcyBhIFBSQUNLIHdpdGggYW5cbiAgICAgICAgLy8gb2ZmZXIsIGl0IE1VU1QgcGxhY2UgdGhlIGFuc3dlciBpbiB0aGUgMnh4IHRvIHRoZSBQUkFDSy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi01XG4gICAgICAgIHN3aXRjaCAodGhpcy5zZXNzaW9uLnNpZ25hbGluZ1N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIC8vIFN0YXRlIHNob3VsZCBuZXZlciBiZSByZWFjaGVkIGFzIGZpcnN0IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIG11c3QgaGF2ZSBhbnN3ZXIvb2ZmZXIuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5TdGFibGU6XG4gICAgICAgICAgICAgICAgLy8gUmVjZXZlZCBhbnN3ZXIuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QW5zd2VyKGJvZHksIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyOlxuICAgICAgICAgICAgICAgIC8vIFN0YXRlIHNob3VsZCBuZXZlciBiZSByZWFjaGVkIGFzIGxvY2FsIG9mZmVyIHdvdWxkIGJlIGFuc3dlcmVkIGJ5IHRoaXMgUFJBQ0tcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIHRoaXMuc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVSZW1vdGVPZmZlcjpcbiAgICAgICAgICAgICAgICAvLyBSZWNldmVkIG9mZmVyLCBnZW5lcmF0ZSBhbnN3ZXIuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyB0aGlzLnNlc3Npb24uc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmFsaW5nIHN0YXRlIFwiICsgdGhpcy5zZXNzaW9uLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBzZXNzaW9uIGNhbmNlbGVkLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmNhbmNlbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jYW5jZWxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmNhbmNlbGVkLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBzZXNzaW9uIHRlcm1pbmF0ZWQuXG4gICAgICogVXNpbmcgaXQgaGVyZSBqdXN0IGZvciB0aGUgUFJBQ0sgdGltZW91dC5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS50ZXJtaW5hdGVkID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGNhdXNlKSB7XG4gICAgICAgIHRoaXMucHJhY2tOZXZlckFycml2ZWQoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUudGVybWluYXRlZC5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBgYWNjZXB0YCB3aGljaCByZXNvbHZlcyBhIHNlc3Npb24gd2hlbiB0aGUgMjAwIE9rIHJlc3BvbnNlIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICogQHRocm93cyB7Q2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yfSBUaGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGNsb3NlZCBiZWZvcmUgbWV0aG9kIGNvbXBsZXRlZC5cbiAgICAgKiBAdGhyb3dzIHtUcmFuc2FjdGlvblN0YXRlRXJyb3J9IFRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBkb2VzIG5vdCBhbGxvdyBmb3IgYGFjY2VwdCgpYCB0byBiZSBjYWxsZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIGNhbiBjaGFuZ2Ugd2hpbGUgdGhpcyBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLl9hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBGSVhNRTogUG9ydGVkIC0gY2FsbGJhY2sgZm9yIGluIGRpYWxvZyBJTkZPIHJlcXVlc3RzLlxuICAgICAgICAvLyBUdXJucyBvdXQgYWNjZXB0KCkgY2FuIGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZSBpZiB3ZSBhcmUgd2FpdGluZ1xuICAgICAgICAvLyBmb3IgYSBQUkFDSyBpbiB3aGljaCBjYXNlIFwib3B0aW9uc1wiIGdldCBjb21wbGV0ZWx5IHRvc3NlZCBhd2F5LlxuICAgICAgICAvLyBTbyB0aGlzIGlzIGJyb2tlbiBpbiB0aGF0IGNhc2UgKGFuZCBwb3RlbnRpYWxseSBvdGhlciB1c2VzIG9mIG9wdGlvbnMpLlxuICAgICAgICAvLyBUZW1wdGVkIHRvIGp1c3QgdHJ5IHRvIGZpeCBpdCBub3csIGJ1dCBsZWF2aW5nIGl0IGJyb2tlbiBmb3IgdGhlIG1vbWVudC5cbiAgICAgICAgdGhpcy5vbkluZm8gPSBvcHRpb25zLm9uSW5mbztcbiAgICAgICAgLy8gVGhlIFVBUyBNQVkgc2VuZCBhIGZpbmFsIHJlc3BvbnNlIHRvIHRoZSBpbml0aWFsIHJlcXVlc3QgYmVmb3JlXG4gICAgICAgIC8vIGhhdmluZyByZWNlaXZlZCBQUkFDS3MgZm9yIGFsbCB1bmFja25vd2xlZGdlZCByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAvLyByZXNwb25zZXMsIHVubGVzcyB0aGUgZmluYWwgcmVzcG9uc2UgaXMgMnh4IGFuZCBhbnkgb2YgdGhlXG4gICAgICAgIC8vIHVuYWNrbm93bGVkZ2VkIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBjb250YWluZWQgYSBzZXNzaW9uXG4gICAgICAgIC8vIGRlc2NyaXB0aW9uLiAgSW4gdGhhdCBjYXNlLCBpdCBNVVNUIE5PVCBzZW5kIGEgZmluYWwgcmVzcG9uc2UgdW50aWxcbiAgICAgICAgLy8gdGhvc2UgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIGFyZSBhY2tub3dsZWRnZWQuICBJZiB0aGUgVUFTIGRvZXMgc2VuZCBhXG4gICAgICAgIC8vIGZpbmFsIHJlc3BvbnNlIHdoZW4gcmVsaWFibGUgcmVzcG9uc2VzIGFyZSBzdGlsbCB1bmFja25vd2xlZGdlZCwgaXRcbiAgICAgICAgLy8gU0hPVUxEIE5PVCBjb250aW51ZSB0byByZXRyYW5zbWl0IHRoZSB1bmFja25vd2xlZGdlZCByZWxpYWJsZVxuICAgICAgICAvLyBwcm92aXNpb25hbCByZXNwb25zZXMsIGJ1dCBpdCBNVVNUIGJlIHByZXBhcmVkIHRvIHByb2Nlc3MgUFJBQ0tcbiAgICAgICAgLy8gcmVxdWVzdHMgZm9yIHRob3NlIG91dHN0YW5kaW5nIHJlc3BvbnNlcy4gIEEgVUFTIE1VU1QgTk9UIHNlbmQgbmV3XG4gICAgICAgIC8vIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyAoYXMgb3Bwb3NlZCB0byByZXRyYW5zbWlzc2lvbnMgb2ZcbiAgICAgICAgLy8gdW5hY2tub3dsZWRnZWQgb25lcykgYWZ0ZXIgc2VuZGluZyBhIGZpbmFsIHJlc3BvbnNlIHRvIGEgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi0zXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9QUkFDSykge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2FpdEZvckFycml2YWxPZlByYWNrKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19BTlNXRVJFRDtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXJzLnVzZXJOb0Fuc3dlclRpbWVyKTsgLy8gUG9ydGVkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlcihvcHRpb25zKTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9keSkgeyByZXR1cm4gX3RoaXMuaW5jb21pbmdSZXF1ZXN0LmFjY2VwdCh7IHN0YXR1c0NvZGU6IDIwMCwgYm9keTogYm9keSB9KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9ydGVkXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19BTlNXRVJFRDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQU5TV0VSRUQ7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy51c2VyTm9BbnN3ZXJUaW1lcik7IC8vIFBvcnRlZFxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVJlc3BvbnNlT2ZmZXJBbnN3ZXIob3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChib2R5KSB7IHJldHVybiBfdGhpcy5pbmNvbWluZ1JlcXVlc3QuYWNjZXB0KHsgc3RhdHVzQ29kZTogMjAwLCBib2R5OiBib2R5IH0pOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBgcHJvZ3Jlc3NgIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICogQHRocm93cyB7Q2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yfSBUaGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGNsb3NlZCBiZWZvcmUgbWV0aG9kIGNvbXBsZXRlZC5cbiAgICAgKiBAdGhyb3dzIHtUcmFuc2FjdGlvblN0YXRlRXJyb3J9IFRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBkb2VzIG5vdCBhbGxvdyBmb3IgYHByb2dyZXNzKClgIHRvIGJlIGNhbGxlZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGUgdGhhdCB0aGUgdHJhbnNhY3Rpb24gc3RhdGUgY2FuIGNoYW5nZSB3aGlsZSB0aGlzIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuX3Byb2dyZXNzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gUG9ydGVkXG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDE4MDtcbiAgICAgICAgdmFyIHJlYXNvblBocmFzZSA9IG9wdGlvbnMucmVhc29uUGhyYXNlO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keSA/IGNvcmVfMS5mcm9tQm9keUxlZ2FjeShvcHRpb25zLmJvZHkpIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGUgMTgzIChTZXNzaW9uIFByb2dyZXNzKSByZXNwb25zZSBpcyB1c2VkIHRvIGNvbnZleSBpbmZvcm1hdGlvblxuICAgICAgICAvLyBhYm91dCB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIGNhbGwgdGhhdCBpcyBub3Qgb3RoZXJ3aXNlIGNsYXNzaWZpZWQuICBUaGVcbiAgICAgICAgLy8gUmVhc29uLVBocmFzZSwgaGVhZGVyIGZpZWxkcywgb3IgbWVzc2FnZSBib2R5IE1BWSBiZSB1c2VkIHRvIGNvbnZleVxuICAgICAgICAvLyBtb3JlIGRldGFpbHMgYWJvdXQgdGhlIGNhbGwgcHJvZ3Jlc3MuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMjEuMS41XG4gICAgICAgIC8vIEl0IGlzIHRoZSBkZSBmYWN0byBpbmR1c3RyeSBzdGFuZGFyZCB0byB1dGlsaXplIDE4MyB3aXRoIFNEUCB0byBwcm92aWRlIFwiZWFybHkgbWVkaWFcIi5cbiAgICAgICAgLy8gV2hpbGUgaXQgaXMgdW5saWtlbHkgc29tZW9uZSB3b3VsZCB3YW50IHRvIHNlbmQgYSAxODMgd2l0aG91dCBTRFAsIHNvIGl0IHNob3VsZCBiZSBhbiBvcHRpb24uXG4gICAgICAgIGlmIChzdGF0dXNDb2RlID09PSAxODMgJiYgIWJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9ncmVzc1dpdGhTRFAob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm9ncmVzc1Jlc3BvbnNlID0gdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCBwcm9ncmVzc1Jlc3BvbnNlLm1lc3NhZ2UsIHJlYXNvblBocmFzZSk7IC8vIFBvcnRlZFxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gcHJvZ3Jlc3NSZXNwb25zZS5zZXNzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9ncmVzc1Jlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBgcHJvZ3Jlc3NgIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHdpdGggc2RwIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICogQHRocm93cyB7Q2xvc2VkU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yfSBUaGUgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGNsb3NlZCBiZWZvcmUgbWV0aG9kIGNvbXBsZXRlZC5cbiAgICAgKiBAdGhyb3dzIHtUcmFuc2FjdGlvblN0YXRlRXJyb3J9IFRoZSB0cmFuc2FjdGlvbiBzdGF0ZSBkb2VzIG5vdCBhbGxvdyBmb3IgYHByb2dyZXNzKClgIHRvIGJlIGNhbGxlZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGUgdGhhdCB0aGUgdHJhbnNhY3Rpb24gc3RhdGUgY2FuIGNoYW5nZSB3aGlsZSB0aGlzIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuX3Byb2dyZXNzV2l0aFNEUCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlIHx8IDE4MztcbiAgICAgICAgdmFyIHJlYXNvblBocmFzZSA9IG9wdGlvbnMucmVhc29uUGhyYXNlO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICAvLyBHZXQgYW4gb2ZmZXIvYW5zd2VyIGFuZCBzZW5kIGEgcmVwbHkuXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlcihvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJvZHkpIHsgcmV0dXJuIF90aGlzLmluY29taW5nUmVxdWVzdC5wcm9ncmVzcyh7IHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZTogcmVhc29uUGhyYXNlLCBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycywgYm9keTogYm9keSB9KTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcm9ncmVzc1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcHJvZ3Jlc3NSZXNwb25zZS5tZXNzYWdlLCByZWFzb25QaHJhc2UpOyAvLyBQb3J0ZWRcbiAgICAgICAgICAgIF90aGlzLnNlc3Npb24gPSBwcm9ncmVzc1Jlc3BvbnNlLnNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4gcHJvZ3Jlc3NSZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHZlcnNpb24gb2YgYHByb2dyZXNzYCB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZSBpcyBzZW50LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgYnVja2V0LlxuICAgICAqIEB0aHJvd3Mge0Nsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcn0gVGhlIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBjbG9zZWQgYmVmb3JlIG1ldGhvZCBjb21wbGV0ZWQuXG4gICAgICogQHRocm93cyB7VHJhbnNhY3Rpb25TdGF0ZUVycm9yfSBUaGUgdHJhbnNhY3Rpb24gc3RhdGUgZG9lcyBub3QgYWxsb3cgZm9yIGBwcm9ncmVzcygpYCB0byBiZSBjYWxsZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIGNhbiBjaGFuZ2Ugd2hpbGUgdGhpcyBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLl9yZWxpYWJsZVByb2dyZXNzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgzO1xuICAgICAgICB2YXIgcmVhc29uUGhyYXNlID0gb3B0aW9ucy5yZWFzb25QaHJhc2U7XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVxdWlyZTogMTAwcmVsXCIpO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJTZXE6IFwiICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApKTtcbiAgICAgICAgLy8gR2V0IGFuIG9mZmVyL2Fuc3dlciBhbmQgc2VuZCBhIHJlcGx5LlxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVJlc3BvbnNlT2ZmZXJBbnN3ZXIob3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChib2R5KSB7IHJldHVybiBfdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7IH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHJvZ3Jlc3NSZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInByb2dyZXNzXCIsIHByb2dyZXNzUmVzcG9uc2UubWVzc2FnZSwgcmVhc29uUGhyYXNlKTsgLy8gUG9ydGVkXG4gICAgICAgICAgICBfdGhpcy5zZXNzaW9uID0gcHJvZ3Jlc3NSZXNwb25zZS5zZXNzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHByb2dyZXNzUmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSB2ZXJzaW9uIG9mIGBwcm9ncmVzc2Agd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgaXMgYWNrbm93bGVkZ2VkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgYnVja2V0LlxuICAgICAqIEB0aHJvd3Mge0Nsb3NlZFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcn0gVGhlIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBjbG9zZWQgYmVmb3JlIG1ldGhvZCBjb21wbGV0ZWQuXG4gICAgICogQHRocm93cyB7VHJhbnNhY3Rpb25TdGF0ZUVycm9yfSBUaGUgdHJhbnNhY3Rpb24gc3RhdGUgZG9lcyBub3QgYWxsb3cgZm9yIGBwcm9ncmVzcygpYCB0byBiZSBjYWxsZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIGNhbiBjaGFuZ2Ugd2hpbGUgdGhpcyBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLl9yZWxpYWJsZVByb2dyZXNzV2FpdEZvclByYWNrID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgzO1xuICAgICAgICB2YXIgcmVhc29uUGhyYXNlID0gb3B0aW9ucy5yZWFzb25QaHJhc2U7XG4gICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVxdWlyZTogMTAwcmVsXCIpO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJTZXE6IFwiICsgdGhpcy5yc2VxKyspO1xuICAgICAgICB2YXIgYm9keTtcbiAgICAgICAgLy8gUG9ydGVkIC0gc2V0IHN0YXR1cy5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHdhaXRpbmdGb3JQcmFjayA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2VuZXJhdGVSZXNwb25zZU9mZmVyQW5zd2VyKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG9mZmVyQW5zd2VyKSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IG9mZmVyQW5zd2VyO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcm9ncmVzc1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcInByb2dyZXNzXCIsIHByb2dyZXNzUmVzcG9uc2UubWVzc2FnZSwgcmVhc29uUGhyYXNlKTsgLy8gUG9ydGVkXG4gICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbiA9IHByb2dyZXNzUmVzcG9uc2Uuc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB2YXIgcHJhY2tSZXF1ZXN0O1xuICAgICAgICAgICAgICAgIHZhciBwcmFja1Jlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHByb2dyZXNzUmVzcG9uc2Uuc2Vzc2lvbi5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25QcmFjazogZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByYWNrUmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocHJhY2tXYWl0VGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZWwxeHhSZXRyYW5zbWlzc2lvblRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FpdGluZ0ZvclByYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdGluZ0ZvclByYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVQcmFja09mZmVyQW5zd2VyKHByYWNrUmVxdWVzdCwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHJhY2tSZXNwb25zZUJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmFja1Jlc3BvbnNlID0gcHJhY2tSZXF1ZXN0LmFjY2VwdCh7IHN0YXR1c0NvZGU6IDIwMCwgYm9keTogcHJhY2tSZXNwb25zZUJvZHkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvcnRlZCAtIHNldCBzdGF0dXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnByYWNrQXJyaXZlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgcHJhY2tSZXF1ZXN0OiBwcmFja1JlcXVlc3QsIHByYWNrUmVzcG9uc2U6IHByYWNrUmVzcG9uc2UsIHByb2dyZXNzUmVzcG9uc2U6IHByb2dyZXNzUmVzcG9uc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTNcbiAgICAgICAgICAgICAgICB2YXIgcHJhY2tXYWl0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3YWl0aW5nRm9yUHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3YWl0aW5nRm9yUHJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJObyBQUkFDSyByZWNlaXZlZCwgcmVqZWN0aW5nIElOVklURS5cIik7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZWwxeHhSZXRyYW5zbWlzc2lvblRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmluY29taW5nUmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiA1MDQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuTk9fUFJBQ0spO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5UZXJtaW5hdGVkU2Vzc2lvbkVycm9yKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHByYWNrV2FpdFRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQocHJhY2tXYWl0VGltZW91dCwgY29yZV8xLlRpbWVycy5UMSAqIDY0KTtcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTNcbiAgICAgICAgICAgICAgICB2YXIgcmVsMXh4UmV0cmFuc21pc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmNvbWluZ1JlcXVlc3QucHJvZ3Jlc3MoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZWFzb25QaHJhc2U6IHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0aW5nRm9yUHJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVsMXh4UmV0cmFuc21pc3Npb25UaW1lciA9IHNldFRpbWVvdXQocmVsMXh4UmV0cmFuc21pc3Npb24sIHRpbWVvdXQgKj0gMik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IGNvcmVfMS5UaW1lcnMuVDE7XG4gICAgICAgICAgICAgICAgdmFyIHJlbDF4eFJldHJhbnNtaXNzaW9uVGltZXIgPSBzZXRUaW1lb3V0KHJlbDF4eFJldHJhbnNtaXNzaW9uLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGZvciB3aGVuIEFDSyBmb3IgYSAyeHggcmVzcG9uc2UgaXMgbmV2ZXIgcmVjZWl2ZWQuXG4gICAgICogQHBhcmFtIHNlc3Npb24gU2Vzc2lvbiB0aGUgQUNLIG5ldmVyIGFycml2ZWQgZm9yXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUub25BY2tUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJubyBBQ0sgcmVjZWl2ZWQgZm9yIGFuIGV4dGVuZGVkIHBlcmlvZCBvZiB0aW1lLCB0ZXJtaW5hdGluZyB0aGUgY2FsbFwiKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmJ5ZSgpO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuTk9fQUNLKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUU6IFRPRE86IFRoZSBjdXJyZW50IGxpYnJhcnkgaW50ZXJmYWNlIHByZXNlbnRzIGFzeW5jIG1ldGhvZHMgd2l0aG91dCBhXG4gICAgICogcHJvcGVyIGFzeW5jIGVycm9yIGhhbmRsaW5nIG1lY2hhbmlzbS4gQXJndWFibHkgYSBwcm9taXNlIGJhc2VkIGludGVyZmFjZVxuICAgICAqIHdvdWxkIGJlIGFuIGltcHJvdmVtZW50IG92ZXIgdGhlIHBhdHRlcm4gb2YgcmV0dXJuaW5nIGB0aGlzYC4gVGhlIGFwcHJvYWNoIGhhc1xuICAgICAqIGJlZW4gZ2VuZXJhbGx5IGFsb25nIHRoZSBsaW5lcyBvZiBsb2cgYSBlcnJvciBhbmQgdGVybWluYXRlLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLm9uQ29udGV4dEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gNDgwO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBjb3JlXzEuRXhjZXB0aW9uKSB7IC8vIFRoZXJlIG1pZ2h0IGJlIGludGVyZXN0IGluIGNhdGNoaW5nIHRoZXNlIEV4Y2VwdGlvbnMuXG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuVGVybWluYXRlZFNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFBSQUNLIG5ldmVyIGFycml2ZWQsIHNvIHdlIHRpbWVkIG91dCB3YWl0aW5nIGZvciBpdC5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiSW5jb21pbmcgc2Vzc2lvbiB0ZXJtaW5hdGVkIHdoaWxlIHdhaXRpbmcgZm9yIFBSQUNLLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuVW5zdXBwb3J0ZWRTZXNzaW9uRGVzY3JpcHRpb25Db250ZW50VHlwZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9IDQxNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgY29yZV8xLkV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHsgLy8gT3RoZXIgRXJyb3JzIGhvdWxkIGdvIHVuY2F1Z2h0LlxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBkb24ndCBhY3R1YWxseSBrbm93IHdoYXQgYSBzZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXIgaW1wbGVtZW50YXRpb24gbWlnaHQgdGhyb3dcbiAgICAgICAgICAgIC8vIG91ciB3YXksIHNvIGFzIGEgbGFzdCByZXNvcnQsIGp1c3QgYXNzdW1lIHdlIGFyZSBnZXR0aW5nIGFuIFwiYW55XCIgYW5kIGxvZyBpdC5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQW4gZXJyb3Igb2NjdXJyZWQgaW4gdGhlIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlci5cIik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaW5jb21pbmdSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUgfSk7IC8vIFwiVGVtcG9yYXJpbHkgVW5hdmFpbGFibGVcIlxuICAgICAgICAgICAgdGhpcy5mYWlsZWQodGhpcy5pbmNvbWluZ1JlcXVlc3QubWVzc2FnZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQodGhpcy5pbmNvbWluZ1JlcXVlc3QubWVzc2FnZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLnByYWNrQXJyaXZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMud2FpdGluZ0ZvclByYWNrUmVzb2x2ZSkge1xuICAgICAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tSZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLndhaXRpbmdGb3JQcmFja1Jlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2FpdGluZ0ZvclByYWNrUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUucHJhY2tOZXZlckFycml2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLndhaXRpbmdGb3JQcmFja1JlamVjdCkge1xuICAgICAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tSZWplY3QobmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlRlcm1pbmF0ZWRTZXNzaW9uRXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YWl0aW5nRm9yUHJhY2tQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLndhaXRpbmdGb3JQcmFja1Jlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2FpdGluZ0ZvclByYWNrUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRocm93cyB7RXhjZXB0aW9ucy5UZXJtaW5hdGVkU2Vzc2lvbkVycm9yfSBUaGUgc2Vzc2lvbiB0ZXJtaW5hdGVkIGJlZm9yZSBiZWluZyBhY2NlcHRlZCAoaS5lLiBjYW5jZWwgYXJyaXZlZCkuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUud2FpdEZvckFycml2YWxPZlByYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy53YWl0aW5nRm9yUHJhY2tQcm9taXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IHdhaXRpbmcgZm9yIFBSQUNLXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2FpdGluZ0ZvclByYWNrUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLndhaXRpbmdGb3JQcmFja1Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgX3RoaXMud2FpdGluZ0ZvclByYWNrUmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2FpdGluZ0ZvclByYWNrUHJvbWlzZTtcbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmdldE9mZmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5oYXNPZmZlciA9IHRydWU7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLmdldFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgcmV0dXJuIHNkaFxuICAgICAgICAgICAgLmdldERlc2NyaXB0aW9uKG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJvZHlPYmopIHsgcmV0dXJuIFV0aWxzXzEuVXRpbHMuZnJvbUJvZHlPYmooYm9keU9iaik7IH0pO1xuICAgIH07XG4gICAgSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUuc2V0QW5zd2VyID0gZnVuY3Rpb24gKGFuc3dlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLmdldFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgaWYgKCFzZGguaGFzRGVzY3JpcHRpb24oYW5zd2VyLmNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5VbnN1cHBvcnRlZFNlc3Npb25EZXNjcmlwdGlvbkNvbnRlbnRUeXBlRXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNkaFxuICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKGFuc3dlci5jb250ZW50LCBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCBvcHRpb25zLm1vZGlmaWVycyk7XG4gICAgfTtcbiAgICBJbnZpdGVTZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5zZXRPZmZlckFuZEdldEFuc3dlciA9IGZ1bmN0aW9uIChvZmZlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmhhc09mZmVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICB2YXIgc2RoID0gdGhpcy5nZXRTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKCk7XG4gICAgICAgIGlmICghc2RoLmhhc0Rlc2NyaXB0aW9uKG9mZmVyLmNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5VbnN1cHBvcnRlZFNlc3Npb25EZXNjcmlwdGlvbkNvbnRlbnRUeXBlRXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNkaFxuICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKG9mZmVyLmNvbnRlbnQsIG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gc2RoLmdldERlc2NyaXB0aW9uKG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIG9wdGlvbnMubW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChib2R5T2JqKSB7IHJldHVybiBVdGlsc18xLlV0aWxzLmZyb21Cb2R5T2JqKGJvZHlPYmopOyB9KTtcbiAgICB9O1xuICAgIEludml0ZVNlcnZlckNvbnRleHQucHJvdG90eXBlLmdldFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBvdXIgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGlmIG5vdCBhbHJlYWR5IGRvbmUgc28uLi5cbiAgICAgICAgdmFyIHNkaCA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IHRoaXMuc2V0dXBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKCk7XG4gICAgICAgIC8vIEZJWE1FOiBQb3J0ZWQgLSB0aGlzIGNhbiBnZXQgZW1pdHRlZCBtdWx0aXBsZSB0aW1lcyBldmVuIHdoZW4gb25seSBjcmVhdGVkIG9uY2UuLi4gZG9uJ3Qgd2UgY2FyZT9cbiAgICAgICAgdGhpcy5lbWl0KFwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci1jcmVhdGVkXCIsIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcik7XG4gICAgICAgIC8vIFJldHVybi5cbiAgICAgICAgcmV0dXJuIHNkaDtcbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVTZXJ2ZXJDb250ZXh0O1xufShTZXNzaW9uKSk7XG5leHBvcnRzLkludml0ZVNlcnZlckNvbnRleHQgPSBJbnZpdGVTZXJ2ZXJDb250ZXh0O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1jbGFzc2VzLXBlci1maWxlXG52YXIgSW52aXRlQ2xpZW50Q29udGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVDbGllbnRDb250ZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEludml0ZUNsaWVudENvbnRleHQodWEsIHRhcmdldCwgb3B0aW9ucywgbW9kaWZpZXJzKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXVhLmNvbmZpZ3VyYXRpb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIHVhLmxvZ2dlci53YXJuKFwiQ2FuJ3QgYnVpbGQgSVNDIHdpdGhvdXQgU0RIIEZhY3RvcnlcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJQ0MgQ29uc3RydWN0b3IgRmFpbGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucGFyYW1zID0gb3B0aW9ucy5wYXJhbXMgfHwge307XG4gICAgICAgIHZhciBhbm9ueW1vdXMgPSBvcHRpb25zLmFub255bW91cyB8fCBmYWxzZTtcbiAgICAgICAgdmFyIGZyb21UYWcgPSBVdGlsc18xLlV0aWxzLm5ld1RhZygpO1xuICAgICAgICBvcHRpb25zLnBhcmFtcy5mcm9tVGFnID0gZnJvbVRhZztcbiAgICAgICAgLyogRG8gbm90IGFkZCA7b2IgaW4gaW5pdGlhbCBmb3JtaW5nIGRpYWxvZyByZXF1ZXN0cyBpZiB0aGUgcmVnaXN0cmF0aW9uIG92ZXJcbiAgICAgICAgKiAgdGhlIGN1cnJlbnQgY29ubmVjdGlvbiBnb3QgYSBHUlVVIFVSSS5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIGNvbnRhY3QgPSB1YS5jb250YWN0LnRvU3RyaW5nKHtcbiAgICAgICAgICAgIGFub255bW91czogYW5vbnltb3VzLFxuICAgICAgICAgICAgb3V0Ym91bmQ6IGFub255bW91cyA/ICF1YS5jb250YWN0LnRlbXBHcnV1IDogIXVhLmNvbnRhY3QucHViR3J1dVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgaWYgKGFub255bW91cyAmJiB1YS5jb25maWd1cmF0aW9uLnVyaSkge1xuICAgICAgICAgICAgb3B0aW9ucy5wYXJhbXMuZnJvbURpc3BsYXlOYW1lID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICAgIG9wdGlvbnMucGFyYW1zLmZyb21VcmkgPSBcInNpcDphbm9ueW1vdXNAYW5vbnltb3VzLmludmFsaWRcIjtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUC1QcmVmZXJyZWQtSWRlbnRpdHk6IFwiICsgdWEuY29uZmlndXJhdGlvbi51cmkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlByaXZhY3k6IGlkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQ29udGFjdDogXCIgKyBjb250YWN0KTtcbiAgICAgICAgLy8gdGhpcyBpcyBVQS5DLkFMTE9XRURfTUVUSE9EUywgcmVtb3ZlZCB0byBnZXQgYXJvdW5kIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJBbGxvdzogXCIgKyBbXG4gICAgICAgICAgICBcIkFDS1wiLFxuICAgICAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgICAgICBcIk1FU1NBR0VcIixcbiAgICAgICAgICAgIFwiQllFXCIsXG4gICAgICAgICAgICBcIk9QVElPTlNcIixcbiAgICAgICAgICAgIFwiSU5GT1wiLFxuICAgICAgICAgICAgXCJOT1RJRllcIixcbiAgICAgICAgICAgIFwiUkVGRVJcIlxuICAgICAgICBdLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAodWEuY29uZmlndXJhdGlvbi5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlJFUVVJUkVEKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlcXVpcmU6IDEwMHJlbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodWEuY29uZmlndXJhdGlvbi5yZXBsYWNlcyA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVxdWlyZTogcmVwbGFjZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBleHRyYUhlYWRlcnM7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdWEuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkgfHwgdGhpcztcbiAgICAgICAgQ2xpZW50Q29udGV4dF8xLkNsaWVudENvbnRleHQuaW5pdGlhbGl6ZXIoX3RoaXMsIHVhLCBDb25zdGFudHNfMS5DLklOVklURSwgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgX3RoaXMuZWFybHlNZWRpYVNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICBfdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5JbnZpdGVDbGllbnRDb250ZXh0O1xuICAgICAgICBfdGhpcy5wYXNzZWRPcHRpb25zID0gb3B0aW9uczsgLy8gU2F2ZSBmb3IgbGF0ZXIgdG8gdXNlIHdpdGggcmVmZXJcbiAgICAgICAgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcy5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gICAgICAgIF90aGlzLmludml0ZVdpdGhvdXRTZHAgPSBvcHRpb25zLmludml0ZVdpdGhvdXRTZHAgfHwgZmFsc2U7XG4gICAgICAgIC8vIFNldCBhbm9ueW1vdXMgcHJvcGVydHlcbiAgICAgICAgX3RoaXMuYW5vbnltb3VzID0gb3B0aW9ucy5hbm9ueW1vdXMgfHwgZmFsc2U7XG4gICAgICAgIC8vIEN1c3RvbSBkYXRhIHRvIGJlIHNlbnQgZWl0aGVyIGluIElOVklURSBvciBpbiBBQ0tcbiAgICAgICAgX3RoaXMucmVuZGVyYm9keSA9IG9wdGlvbnMucmVuZGVyYm9keSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLnJlbmRlcnR5cGUgPSBvcHRpb25zLnJlbmRlcnR5cGUgfHwgXCJ0ZXh0L3BsYWluXCI7XG4gICAgICAgIC8vIFNlc3Npb24gcGFyYW1ldGVyIGluaXRpYWxpemF0aW9uXG4gICAgICAgIF90aGlzLmZyb21UYWcgPSBmcm9tVGFnO1xuICAgICAgICBfdGhpcy5jb250YWN0ID0gY29udGFjdDtcbiAgICAgICAgLy8gQ2hlY2sgU2Vzc2lvbiBTdGF0dXNcbiAgICAgICAgaWYgKF90aGlzLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19OVUxMKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IoX3RoaXMuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdXRnb2luZ1Nlc3Npb24gc3BlY2lmaWMgcGFyYW1ldGVyc1xuICAgICAgICBfdGhpcy5pc0NhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnJlY2VpdmVkMTAwID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm1ldGhvZCA9IENvbnN0YW50c18xLkMuSU5WSVRFO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoXCJzaXAuaW52aXRlY2xpZW50Y29udGV4dFwiKTtcbiAgICAgICAgdWEuYXBwbGljYW50c1tfdGhpcy50b1N0cmluZygpXSA9IF90aGlzO1xuICAgICAgICBfdGhpcy5pZCA9IF90aGlzLnJlcXVlc3QuY2FsbElkICsgX3RoaXMuZnJvbVRhZztcbiAgICAgICAgX3RoaXMub25JbmZvID0gb3B0aW9ucy5vbkluZm87XG4gICAgICAgIF90aGlzLmVycm9yTGlzdGVuZXIgPSBfdGhpcy5vblRyYW5zcG9ydEVycm9yLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodWEudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB1YS50cmFuc3BvcnQub24oXCJ0cmFuc3BvcnRFcnJvclwiLCBfdGhpcy5lcnJvckxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkLlwiKTtcbiAgICB9O1xuICAgIC8vIGhhY2sgZm9yIGdldHRpbmcgYXJvdW5kIENsaWVudENvbnRleHQgaW50ZXJmYWNlXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZW5kSW52aXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuaW52aXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTYXZlIHRoZSBzZXNzaW9uIGludG8gdGhlIHVhIHNlc3Npb25zIGNvbGxlY3Rpb24uXG4gICAgICAgIC8vIE5vdGU6IHBsYWNpbmcgaW4gY29uc3RydWN0b3IgYnJlYWtzIGNhbGwgdG8gcmVxdWVzdC5jYW5jZWwgb24gY2xvc2UuLi4gVXNlciBkb2VzIG5vdCBuZWVkIHRoaXMgYW55d2F5XG4gICAgICAgIHRoaXMudWEuc2Vzc2lvbnNbdGhpcy5pZF0gPSB0aGlzO1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBhbGxvdyB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIHNvIHRoYXQgbGlzdGVuZXJzIGNhbiBiZSBzZXQgdXAgZm9yIHRoZXNlIGV2ZW50c1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBUaGVyZSBpcyBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGNhbmNlbCAob3IgdGVybWluYXRlKSBjYW4gYmUgY2FsbGVkIHN5bmNocm9ub3VzbHkgYWZ0ZXIgaW52aXRlLlxuICAgICAgICAgICAgaWYgKF90aGlzLmlzQ2FuY2VsZWQgfHwgX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuaW52aXRlV2l0aG91dFNkcCkge1xuICAgICAgICAgICAgICAgIC8vIGp1c3Qgc2VuZCBhbiBpbnZpdGUgd2l0aCBubyBzZHAuLi5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucmVuZGVyYm9keSAmJiBfdGhpcy5yZW5kZXJ0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlcXVlc3QuYm9keSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IF90aGlzLnJlbmRlcmJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogX3RoaXMucmVuZGVydHlwZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0lOVklURV9TRU5UO1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemUgTWVkaWEgU2Vzc2lvblxuICAgICAgICAgICAgICAgIF90aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPSBfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeShfdGhpcywgX3RoaXMudWEuY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWRcIiwgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5nZXREZXNjcmlwdGlvbihfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgX3RoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFRoZXJlIGlzIGEgcmFjZSBjb25kaXRpb24gd2hlcmUgY2FuY2VsIChvciB0ZXJtaW5hdGUpIGNhbiBiZSBjYWxsZWQgKGEpc3luY2hyb25vdXNseSBhZnRlciBpbnZpdGUuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0NhbmNlbGVkIHx8IF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFzT2ZmZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXF1ZXN0LmJvZHkgPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19JTlZJVEVfU0VOVDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VuZCgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhlcnIuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmZhaWxlZCh1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLldFQlJUQ19FUlJPUik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRlcm1pbmF0ZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5XRUJSVENfRVJST1IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJbnZpdGVDbGllbnRDb250ZXh0LnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBDaGVjayBTZXNzaW9uIFN0YXR1c1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfVEVSTUlOQVRFRCB8fCB0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ0FOQ0VMRUQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNDYW5jZWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkNhbmNlbGluZyBzZXNzaW9uXCIpO1xuICAgICAgICB2YXIgY2FuY2VsUmVhc29uID0gVXRpbHNfMS5VdGlscy5nZXRDYW5jZWxSZWFzb24ob3B0aW9ucy5zdGF0dXNDb2RlLCBvcHRpb25zLnJlYXNvblBocmFzZSk7XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgICAgICBpZiAodGhpcy5vdXRnb2luZ0ludml0ZVJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJDYW5jZWxpbmcgc2Vzc2lvbiBiZWZvcmUgaXQgd2FzIGNyZWF0ZWRcIik7XG4gICAgICAgICAgICB0aGlzLm91dGdvaW5nSW52aXRlUmVxdWVzdC5jYW5jZWwoY2FuY2VsUmVhc29uLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYW5jZWxlZCgpO1xuICAgIH07XG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0sgfHwgdGhpcy5zdGF0dXMgPT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEKSB7XG4gICAgICAgICAgICB0aGlzLmJ5ZShvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogMTMuMi4xIENyZWF0aW5nIHRoZSBJbml0aWFsIElOVklURVxuICAgICAqXG4gICAgICogU2luY2UgdGhlIGluaXRpYWwgSU5WSVRFIHJlcHJlc2VudHMgYSByZXF1ZXN0IG91dHNpZGUgb2YgYSBkaWFsb2csXG4gICAgICogaXRzIGNvbnN0cnVjdGlvbiBmb2xsb3dzIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gOC4xLjEuICBBZGRpdGlvbmFsXG4gICAgICogcHJvY2Vzc2luZyBpcyByZXF1aXJlZCBmb3IgdGhlIHNwZWNpZmljIGNhc2Ugb2YgSU5WSVRFLlxuICAgICAqXG4gICAgICogQW4gQWxsb3cgaGVhZGVyIGZpZWxkIChTZWN0aW9uIDIwLjUpIFNIT1VMRCBiZSBwcmVzZW50IGluIHRoZSBJTlZJVEUuXG4gICAgICogSXQgaW5kaWNhdGVzIHdoYXQgbWV0aG9kcyBjYW4gYmUgaW52b2tlZCB3aXRoaW4gYSBkaWFsb2csIG9uIHRoZSBVQVxuICAgICAqIHNlbmRpbmcgdGhlIElOVklURSwgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgZGlhbG9nLiAgRm9yIGV4YW1wbGUsIGFcbiAgICAgKiBVQSBjYXBhYmxlIG9mIHJlY2VpdmluZyBJTkZPIHJlcXVlc3RzIHdpdGhpbiBhIGRpYWxvZyBbMzRdIFNIT1VMRFxuICAgICAqIGluY2x1ZGUgYW4gQWxsb3cgaGVhZGVyIGZpZWxkIGxpc3RpbmcgdGhlIElORk8gbWV0aG9kLlxuICAgICAqXG4gICAgICogQSBTdXBwb3J0ZWQgaGVhZGVyIGZpZWxkIChTZWN0aW9uIDIwLjM3KSBTSE9VTEQgYmUgcHJlc2VudCBpbiB0aGVcbiAgICAgKiBJTlZJVEUuICBJdCBlbnVtZXJhdGVzIGFsbCB0aGUgZXh0ZW5zaW9ucyB1bmRlcnN0b29kIGJ5IHRoZSBVQUMuXG4gICAgICpcbiAgICAgKiBBbiBBY2NlcHQgKFNlY3Rpb24gMjAuMSkgaGVhZGVyIGZpZWxkIE1BWSBiZSBwcmVzZW50IGluIHRoZSBJTlZJVEUuXG4gICAgICogSXQgaW5kaWNhdGVzIHdoaWNoIENvbnRlbnQtVHlwZXMgYXJlIGFjY2VwdGFibGUgdG8gdGhlIFVBLCBpbiBib3RoXG4gICAgICogdGhlIHJlc3BvbnNlIHJlY2VpdmVkIGJ5IGl0LCBhbmQgaW4gYW55IHN1YnNlcXVlbnQgcmVxdWVzdHMgc2VudCB0b1xuICAgICAqIGl0IHdpdGhpbiBkaWFsb2dzIGVzdGFibGlzaGVkIGJ5IHRoZSBJTlZJVEUuICBUaGUgQWNjZXB0IGhlYWRlciBmaWVsZFxuICAgICAqIGlzIGVzcGVjaWFsbHkgdXNlZnVsIGZvciBpbmRpY2F0aW5nIHN1cHBvcnQgb2YgdmFyaW91cyBzZXNzaW9uXG4gICAgICogZGVzY3JpcHRpb24gZm9ybWF0cy5cbiAgICAgKlxuICAgICAqIFRoZSBVQUMgTUFZIGFkZCBhbiBFeHBpcmVzIGhlYWRlciBmaWVsZCAoU2VjdGlvbiAyMC4xOSkgdG8gbGltaXQgdGhlXG4gICAgICogdmFsaWRpdHkgb2YgdGhlIGludml0YXRpb24uICBJZiB0aGUgdGltZSBpbmRpY2F0ZWQgaW4gdGhlIEV4cGlyZXNcbiAgICAgKiBoZWFkZXIgZmllbGQgaXMgcmVhY2hlZCBhbmQgbm8gZmluYWwgYW5zd2VyIGZvciB0aGUgSU5WSVRFIGhhcyBiZWVuXG4gICAgICogcmVjZWl2ZWQsIHRoZSBVQUMgY29yZSBTSE9VTEQgZ2VuZXJhdGUgYSBDQU5DRUwgcmVxdWVzdCBmb3IgdGhlXG4gICAgICogSU5WSVRFLCBhcyBwZXIgU2VjdGlvbiA5LlxuICAgICAqXG4gICAgICogQSBVQUMgTUFZIGFsc28gZmluZCBpdCB1c2VmdWwgdG8gYWRkLCBhbW9uZyBvdGhlcnMsIFN1YmplY3QgKFNlY3Rpb25cbiAgICAgKiAyMC4zNiksIE9yZ2FuaXphdGlvbiAoU2VjdGlvbiAyMC4yNSkgYW5kIFVzZXItQWdlbnQgKFNlY3Rpb24gMjAuNDEpXG4gICAgICogaGVhZGVyIGZpZWxkcy4gIFRoZXkgYWxsIGNvbnRhaW4gaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUgSU5WSVRFLlxuICAgICAqXG4gICAgICogVGhlIFVBQyBNQVkgY2hvb3NlIHRvIGFkZCBhIG1lc3NhZ2UgYm9keSB0byB0aGUgSU5WSVRFLiAgU2VjdGlvblxuICAgICAqIDguMS4xLjEwIGRlYWxzIHdpdGggaG93IHRvIGNvbnN0cnVjdCB0aGUgaGVhZGVyIGZpZWxkcyAtLSBDb250ZW50LVxuICAgICAqIFR5cGUgYW1vbmcgb3RoZXJzIC0tIG5lZWRlZCB0byBkZXNjcmliZSB0aGUgbWVzc2FnZSBib2R5LlxuICAgICAqXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRDb250ZXh0LnByb3RvdHlwZS5zZW5kSW52aXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICBUaGVyZSBhcmUgc3BlY2lhbCBydWxlcyBmb3IgbWVzc2FnZSBib2RpZXMgdGhhdCBjb250YWluIGEgc2Vzc2lvblxuICAgICAgICAvLyAgICBkZXNjcmlwdGlvbiAtIHRoZWlyIGNvcnJlc3BvbmRpbmcgQ29udGVudC1EaXNwb3NpdGlvbiBpcyBcInNlc3Npb25cIi5cbiAgICAgICAgLy8gICAgU0lQIHVzZXMgYW4gb2ZmZXIvYW5zd2VyIG1vZGVsIHdoZXJlIG9uZSBVQSBzZW5kcyBhIHNlc3Npb25cbiAgICAgICAgLy8gICAgZGVzY3JpcHRpb24sIGNhbGxlZCB0aGUgb2ZmZXIsIHdoaWNoIGNvbnRhaW5zIGEgcHJvcG9zZWQgZGVzY3JpcHRpb25cbiAgICAgICAgLy8gICAgb2YgdGhlIHNlc3Npb24uICBUaGUgb2ZmZXIgaW5kaWNhdGVzIHRoZSBkZXNpcmVkIGNvbW11bmljYXRpb25zIG1lYW5zXG4gICAgICAgIC8vICAgIChhdWRpbywgdmlkZW8sIGdhbWVzKSwgcGFyYW1ldGVycyBvZiB0aG9zZSBtZWFucyAoc3VjaCBhcyBjb2RlY1xuICAgICAgICAvLyAgICB0eXBlcykgYW5kIGFkZHJlc3NlcyBmb3IgcmVjZWl2aW5nIG1lZGlhIGZyb20gdGhlIGFuc3dlcmVyLiAgVGhlXG4gICAgICAgIC8vICAgIG90aGVyIFVBIHJlc3BvbmRzIHdpdGggYW5vdGhlciBzZXNzaW9uIGRlc2NyaXB0aW9uLCBjYWxsZWQgdGhlXG4gICAgICAgIC8vICAgIGFuc3dlciwgd2hpY2ggaW5kaWNhdGVzIHdoaWNoIGNvbW11bmljYXRpb25zIG1lYW5zIGFyZSBhY2NlcHRlZCwgdGhlXG4gICAgICAgIC8vICAgIHBhcmFtZXRlcnMgdGhhdCBhcHBseSB0byB0aG9zZSBtZWFucywgYW5kIGFkZHJlc3NlcyBmb3IgcmVjZWl2aW5nXG4gICAgICAgIC8vICAgIG1lZGlhIGZyb20gdGhlIG9mZmVyZXIuIEFuIG9mZmVyL2Fuc3dlciBleGNoYW5nZSBpcyB3aXRoaW4gdGhlXG4gICAgICAgIC8vICAgIGNvbnRleHQgb2YgYSBkaWFsb2csIHNvIHRoYXQgaWYgYSBTSVAgSU5WSVRFIHJlc3VsdHMgaW4gbXVsdGlwbGVcbiAgICAgICAgLy8gICAgZGlhbG9ncywgZWFjaCBpcyBhIHNlcGFyYXRlIG9mZmVyL2Fuc3dlciBleGNoYW5nZS4gIFRoZSBvZmZlci9hbnN3ZXJcbiAgICAgICAgLy8gICAgbW9kZWwgZGVmaW5lcyByZXN0cmljdGlvbnMgb24gd2hlbiBvZmZlcnMgYW5kIGFuc3dlcnMgY2FuIGJlIG1hZGVcbiAgICAgICAgLy8gICAgKGZvciBleGFtcGxlLCB5b3UgY2Fubm90IG1ha2UgYSBuZXcgb2ZmZXIgd2hpbGUgb25lIGlzIGluIHByb2dyZXNzKS5cbiAgICAgICAgLy8gICAgVGhpcyByZXN1bHRzIGluIHJlc3RyaWN0aW9ucyBvbiB3aGVyZSB0aGUgb2ZmZXJzIGFuZCBhbnN3ZXJzIGNhblxuICAgICAgICAvLyAgICBhcHBlYXIgaW4gU0lQIG1lc3NhZ2VzLiAgSW4gdGhpcyBzcGVjaWZpY2F0aW9uLCBvZmZlcnMgYW5kIGFuc3dlcnNcbiAgICAgICAgLy8gICAgY2FuIG9ubHkgYXBwZWFyIGluIElOVklURSByZXF1ZXN0cyBhbmQgcmVzcG9uc2VzLCBhbmQgQUNLLiAgVGhlIHVzYWdlXG4gICAgICAgIC8vICAgIG9mIG9mZmVycyBhbmQgYW5zd2VycyBpcyBmdXJ0aGVyIHJlc3RyaWN0ZWQuICBGb3IgdGhlIGluaXRpYWwgSU5WSVRFXG4gICAgICAgIC8vICAgIHRyYW5zYWN0aW9uLCB0aGUgcnVsZXMgYXJlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBvICBUaGUgaW5pdGlhbCBvZmZlciBNVVNUIGJlIGluIGVpdGhlciBhbiBJTlZJVEUgb3IsIGlmIG5vdCB0aGVyZSxcbiAgICAgICAgLy8gICAgICAgICAgaW4gdGhlIGZpcnN0IHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSB0aGUgVUFTIGJhY2sgdG9cbiAgICAgICAgLy8gICAgICAgICAgdGhlIFVBQy4gIEluIHRoaXMgc3BlY2lmaWNhdGlvbiwgdGhhdCBpcyB0aGUgZmluYWwgMnh4XG4gICAgICAgIC8vICAgICAgICAgIHJlc3BvbnNlLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBvICBJZiB0aGUgaW5pdGlhbCBvZmZlciBpcyBpbiBhbiBJTlZJVEUsIHRoZSBhbnN3ZXIgTVVTVCBiZSBpbiBhXG4gICAgICAgIC8vICAgICAgICAgIHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSBVQVMgYmFjayB0byBVQUMgd2hpY2ggaXNcbiAgICAgICAgLy8gICAgICAgICAgY29ycmVsYXRlZCB0byB0aGF0IElOVklURS4gIEZvciB0aGlzIHNwZWNpZmljYXRpb24sIHRoYXQgaXNcbiAgICAgICAgLy8gICAgICAgICAgb25seSB0aGUgZmluYWwgMnh4IHJlc3BvbnNlIHRvIHRoYXQgSU5WSVRFLiAgVGhhdCBzYW1lIGV4YWN0XG4gICAgICAgIC8vICAgICAgICAgIGFuc3dlciBNQVkgYWxzbyBiZSBwbGFjZWQgaW4gYW55IHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBzZW50XG4gICAgICAgIC8vICAgICAgICAgIHByaW9yIHRvIHRoZSBhbnN3ZXIuICBUaGUgVUFDIE1VU1QgdHJlYXQgdGhlIGZpcnN0IHNlc3Npb25cbiAgICAgICAgLy8gICAgICAgICAgZGVzY3JpcHRpb24gaXQgcmVjZWl2ZXMgYXMgdGhlIGFuc3dlciwgYW5kIE1VU1QgaWdub3JlIGFueVxuICAgICAgICAvLyAgICAgICAgICBzZXNzaW9uIGRlc2NyaXB0aW9ucyBpbiBzdWJzZXF1ZW50IHJlc3BvbnNlcyB0byB0aGUgaW5pdGlhbFxuICAgICAgICAvLyAgICAgICAgICBJTlZJVEUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgIG8gIElmIHRoZSBpbml0aWFsIG9mZmVyIGlzIGluIHRoZSBmaXJzdCByZWxpYWJsZSBub24tZmFpbHVyZVxuICAgICAgICAvLyAgICAgICAgICBtZXNzYWdlIGZyb20gdGhlIFVBUyBiYWNrIHRvIFVBQywgdGhlIGFuc3dlciBNVVNUIGJlIGluIHRoZVxuICAgICAgICAvLyAgICAgICAgICBhY2tub3dsZWRnZW1lbnQgZm9yIHRoYXQgbWVzc2FnZSAoaW4gdGhpcyBzcGVjaWZpY2F0aW9uLCBBQ0tcbiAgICAgICAgLy8gICAgICAgICAgZm9yIGEgMnh4IHJlc3BvbnNlKS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgbyAgQWZ0ZXIgaGF2aW5nIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBmaXJzdCBvZmZlciwgdGhlXG4gICAgICAgIC8vICAgICAgICAgIFVBQyBNQVkgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgaW4gcmVxdWVzdHMgYmFzZWQgb24gcnVsZXNcbiAgICAgICAgLy8gICAgICAgICAgc3BlY2lmaWVkIGZvciB0aGF0IG1ldGhvZCwgYnV0IG9ubHkgaWYgaXQgaGFzIHJlY2VpdmVkIGFuc3dlcnNcbiAgICAgICAgLy8gICAgICAgICAgdG8gYW55IHByZXZpb3VzIG9mZmVycywgYW5kIGhhcyBub3Qgc2VudCBhbnkgb2ZmZXJzIHRvIHdoaWNoIGl0XG4gICAgICAgIC8vICAgICAgICAgIGhhc24ndCBnb3R0ZW4gYW4gYW5zd2VyLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBvICBPbmNlIHRoZSBVQVMgaGFzIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBpbml0aWFsXG4gICAgICAgIC8vICAgICAgICAgIG9mZmVyLCBpdCBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiBhbnkgcmVzcG9uc2VzXG4gICAgICAgIC8vICAgICAgICAgIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgIC8vICAgICAgICAgIHNwZWNpZmljYXRpb24gYWxvbmUgY2FuIG5ldmVyIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIHVudGlsXG4gICAgICAgIC8vICAgICAgICAgIGNvbXBsZXRpb24gb2YgdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIDUgVGhlIE9mZmVyL0Fuc3dlciBNb2RlbCBhbmQgUFJBQ0tcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgUkZDIDMyNjEgZGVzY3JpYmVzIGd1aWRlbGluZXMgZm9yIHRoZSBzZXRzIG9mIG1lc3NhZ2VzIGluIHdoaWNoXG4gICAgICAgIC8vICAgIG9mZmVycyBhbmQgYW5zd2VycyBbM10gY2FuIGFwcGVhci4gIEJhc2VkIG9uIHRob3NlIGd1aWRlbGluZXMsIHRoaXNcbiAgICAgICAgLy8gICAgZXh0ZW5zaW9uIHByb3ZpZGVzIGFkZGl0aW9uYWwgb3Bwb3J0dW5pdGllcyBmb3Igb2ZmZXIvYW5zd2VyXG4gICAgICAgIC8vICAgIGV4Y2hhbmdlcy5cbiAgICAgICAgLy8gICAgSWYgdGhlIElOVklURSBjb250YWluZWQgYW4gb2ZmZXIsIHRoZSBVQVMgTUFZIGdlbmVyYXRlIGFuIGFuc3dlciBpbiBhXG4gICAgICAgIC8vICAgIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIChhc3N1bWluZyB0aGVzZSBhcmUgc3VwcG9ydGVkIGJ5IHRoZVxuICAgICAgICAvLyAgICBVQUMpLiAgVGhhdCByZXN1bHRzIGluIHRoZSBlc3RhYmxpc2htZW50IG9mIHRoZSBzZXNzaW9uIGJlZm9yZVxuICAgICAgICAvLyAgICBjb21wbGV0aW9uIG9mIHRoZSBjYWxsLiAgU2ltaWxhcmx5LCBpZiBhIHJlbGlhYmxlIHByb3Zpc2lvbmFsXG4gICAgICAgIC8vICAgIHJlc3BvbnNlIGlzIHRoZSBmaXJzdCByZWxpYWJsZSBtZXNzYWdlIHNlbnQgYmFjayB0byB0aGUgVUFDLCBhbmQgdGhlXG4gICAgICAgIC8vICAgIElOVklURSBkaWQgbm90IGNvbnRhaW4gYW4gb2ZmZXIsIG9uZSBNVVNUIGFwcGVhciBpbiB0aGF0IHJlbGlhYmxlXG4gICAgICAgIC8vICAgIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlxuICAgICAgICAvLyAgICBJZiB0aGUgVUFDIHJlY2VpdmVzIGEgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2l0aCBhbiBvZmZlclxuICAgICAgICAvLyAgICAodGhpcyB3b3VsZCBvY2N1ciBpZiB0aGUgVUFDIHNlbnQgYW4gSU5WSVRFIHdpdGhvdXQgYW4gb2ZmZXIsIGluXG4gICAgICAgIC8vICAgIHdoaWNoIGNhc2UgdGhlIGZpcnN0IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHdpbGwgY29udGFpbiB0aGVcbiAgICAgICAgLy8gICAgb2ZmZXIpLCBpdCBNVVNUIGdlbmVyYXRlIGFuIGFuc3dlciBpbiB0aGUgUFJBQ0suICBJZiB0aGUgVUFDIHJlY2VpdmVzXG4gICAgICAgIC8vICAgIGEgcmVsaWFibGUgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2l0aCBhbiBhbnN3ZXIsIGl0IE1BWSBnZW5lcmF0ZSBhblxuICAgICAgICAvLyAgICBhZGRpdGlvbmFsIG9mZmVyIGluIHRoZSBQUkFDSy4gIElmIHRoZSBVQVMgcmVjZWl2ZXMgYSBQUkFDSyB3aXRoIGFuXG4gICAgICAgIC8vICAgIG9mZmVyLCBpdCBNVVNUIHBsYWNlIHRoZSBhbnN3ZXIgaW4gdGhlIDJ4eCB0byB0aGUgUFJBQ0suXG4gICAgICAgIC8vICAgIE9uY2UgYW4gYW5zd2VyIGhhcyBiZWVuIHNlbnQgb3IgcmVjZWl2ZWQsIHRoZSBVQSBTSE9VTEQgZXN0YWJsaXNoIHRoZVxuICAgICAgICAvLyAgICBzZXNzaW9uIGJhc2VkIG9uIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBvZmZlciBhbmQgYW5zd2VyLCBldmVuIGlmIHRoZVxuICAgICAgICAvLyAgICBvcmlnaW5hbCBJTlZJVEUgaXRzZWxmIGhhcyBub3QgYmVlbiByZXNwb25kZWQgdG8uXG4gICAgICAgIC8vICAgIElmIHRoZSBVQVMgaGFkIHBsYWNlZCBhIHNlc3Npb24gZGVzY3JpcHRpb24gaW4gYW55IHJlbGlhYmxlXG4gICAgICAgIC8vICAgIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHRoYXQgaXMgdW5hY2tub3dsZWRnZWQgd2hlbiB0aGUgSU5WSVRFIGlzXG4gICAgICAgIC8vICAgIGFjY2VwdGVkLCB0aGUgVUFTIE1VU1QgZGVsYXkgc2VuZGluZyB0aGUgMnh4IHVudGlsIHRoZSBwcm92aXNpb25hbFxuICAgICAgICAvLyAgICByZXNwb25zZSBpcyBhY2tub3dsZWRnZWQuICBPdGhlcndpc2UsIHRoZSByZWxpYWJpbGl0eSBvZiB0aGUgMXh4XG4gICAgICAgIC8vICAgIGNhbm5vdCBiZSBndWFyYW50ZWVkLCBhbmQgcmVsaWFiaWxpdHkgaXMgbmVlZGVkIGZvciBwcm9wZXIgb3BlcmF0aW9uXG4gICAgICAgIC8vICAgIG9mIHRoZSBvZmZlci9hbnN3ZXIgZXhjaGFuZ2UuXG4gICAgICAgIC8vICAgIEFsbCB1c2VyIGFnZW50cyB0aGF0IHN1cHBvcnQgdGhpcyBleHRlbnNpb24gTVVTVCBzdXBwb3J0IGFsbFxuICAgICAgICAvLyAgICBvZmZlci9hbnN3ZXIgZXhjaGFuZ2VzIHRoYXQgYXJlIHBvc3NpYmxlIGJhc2VkIG9uIHRoZSBydWxlcyBpblxuICAgICAgICAvLyAgICBTZWN0aW9uIDEzLjIgb2YgUkZDIDMyNjEsIGJhc2VkIG9uIHRoZSBleGlzdGVuY2Ugb2YgSU5WSVRFIGFuZCBQUkFDS1xuICAgICAgICAvLyAgICBhcyByZXF1ZXN0cywgYW5kIDJ4eCBhbmQgcmVsaWFibGUgMXh4IGFzIG5vbi1mYWlsdXJlIHJlbGlhYmxlXG4gICAgICAgIC8vICAgIHJlc3BvbnNlcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi01XG4gICAgICAgIC8vLy9cbiAgICAgICAgLy8gVGhlIE9mZmVyL0Fuc3dlciBNb2RlbCBJbXBsZW1lbnRhdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgb2ZmZXIvYW5zd2VyIG1vZGVsIGlzIHN0cmFpZ2h0IGZvcndhcmQsIGJ1dCBvbmUgTVVTVCBSRUFEIHRoZSBzcGVjaWZpY2F0aW9ucy4uLlxuICAgICAgICAvL1xuICAgICAgICAvLyAxMy4yLjEgQ3JlYXRpbmcgdGhlIEluaXRpYWwgSU5WSVRFIChwYXJhZ3JhcGggOCBpbiBwYXJ0aWN1bGFyKVxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAvL1xuICAgICAgICAvLyA1IFRoZSBPZmZlci9BbnN3ZXIgTW9kZWwgYW5kIFBSQUNLXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYyI3NlY3Rpb24tNVxuICAgICAgICAvL1xuICAgICAgICAvLyBTZXNzaW9uIEluaXRpYXRpb24gUHJvdG9jb2wgKFNJUCkgVXNhZ2Ugb2YgdGhlIE9mZmVyL0Fuc3dlciBNb2RlbFxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjMzN1xuICAgICAgICAvL1xuICAgICAgICAvLyAqKiogSU1QT1JUQU5UIElNUExFTUVOVEFUSU9OIENIT0lDRVMgKioqXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRMRFIuLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gIDEpIE9ubHkgb25lIG9mZmVyL2Fuc3dlciBleGNoYW5nZSBwZXJtaXR0ZWQgZHVyaW5nIGluaXRpYWwgSU5WSVRFLlxuICAgICAgICAvLyAgMikgTm8gXCJlYXJseSBtZWRpYVwiIGlmIHRoZSBpbml0aWFsIG9mZmVyIGlzIGluIGFuIElOVklURS5cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy8gMSkgSW5pdGlhbCBPZmZlci9BbnN3ZXIgUmVzdHJpY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIE91ciBpbXBsZW1lbnRhdGlvbiByZXBsYWNlcyB0aGUgZm9sbG93aW5nIGJ1bGxldCBwb2ludC4uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBvICBBZnRlciBoYXZpbmcgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGZpcnN0IG9mZmVyLCB0aGVcbiAgICAgICAgLy8gICAgVUFDIE1BWSBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiByZXF1ZXN0cyBiYXNlZCBvbiBydWxlc1xuICAgICAgICAvLyAgICBzcGVjaWZpZWQgZm9yIHRoYXQgbWV0aG9kLCBidXQgb25seSBpZiBpdCBoYXMgcmVjZWl2ZWQgYW5zd2Vyc1xuICAgICAgICAvLyAgICB0byBhbnkgcHJldmlvdXMgb2ZmZXJzLCBhbmQgaGFzIG5vdCBzZW50IGFueSBvZmZlcnMgdG8gd2hpY2ggaXRcbiAgICAgICAgLy8gICAgaGFzbid0IGdvdHRlbiBhbiBhbnN3ZXIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgIC8vXG4gICAgICAgIC8vIC4uLndpdGguLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gbyAgQWZ0ZXIgaGF2aW5nIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBmaXJzdCBvZmZlciwgdGhlXG4gICAgICAgIC8vICAgIFVBQyBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiByZXF1ZXN0cyBiYXNlZCBvbiBydWxlc1xuICAgICAgICAvLyAgICBzcGVjaWZpZWQgZm9yIHRoYXQgbWV0aG9kLlxuICAgICAgICAvL1xuICAgICAgICAvLyAuLi53aGljaCBpbiBjb21iaW5hdGlvbiB3aXRoIHRoaXMgYnVsbGV0IHBvaW50Li4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIG8gIE9uY2UgdGhlIFVBUyBoYXMgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgLy8gICAgb2ZmZXIsIGl0IE1VU1QgTk9UIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIGluIGFueSByZXNwb25zZXNcbiAgICAgICAgLy8gICAgdG8gdGhlIGluaXRpYWwgSU5WSVRFLiAgVGhpcyBtZWFucyB0aGF0IGEgVUFTIGJhc2VkIG9uIHRoaXNcbiAgICAgICAgLy8gICAgc3BlY2lmaWNhdGlvbiBhbG9uZSBjYW4gbmV2ZXIgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgdW50aWxcbiAgICAgICAgLy8gICAgY29tcGxldGlvbiBvZiB0aGUgaW5pdGlhbCB0cmFuc2FjdGlvbi5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbiAgICAgICAgLy9cbiAgICAgICAgLy8gLi4uZW5zdXJlcyB0aGF0IEVYQUNUTFkgT05FIG9mZmVyL2Fuc3dlciBleGNoYW5nZSB3aWxsIG9jY3VyXG4gICAgICAgIC8vIGR1cmluZyBhbiBpbml0aWFsIG91dCBvZiBkaWFsb2cgSU5WSVRFIHJlcXVlc3QgbWFkZSBieSBvdXIgVUFDLlxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvLyAyKSBFYXJseSBNZWRpYSBSZXN0cmljdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2hpbGUgb3VyIGltcGxlbWVudGF0aW9uIGFkaGVyZXMgdG8gdGhlIGZvbGxvd2luZyBidWxsZXQgcG9pbnQuLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gbyAgSWYgdGhlIGluaXRpYWwgb2ZmZXIgaXMgaW4gYW4gSU5WSVRFLCB0aGUgYW5zd2VyIE1VU1QgYmUgaW4gYVxuICAgICAgICAvLyAgICByZWxpYWJsZSBub24tZmFpbHVyZSBtZXNzYWdlIGZyb20gVUFTIGJhY2sgdG8gVUFDIHdoaWNoIGlzXG4gICAgICAgIC8vICAgIGNvcnJlbGF0ZWQgdG8gdGhhdCBJTlZJVEUuICBGb3IgdGhpcyBzcGVjaWZpY2F0aW9uLCB0aGF0IGlzXG4gICAgICAgIC8vICAgIG9ubHkgdGhlIGZpbmFsIDJ4eCByZXNwb25zZSB0byB0aGF0IElOVklURS4gIFRoYXQgc2FtZSBleGFjdFxuICAgICAgICAvLyAgICBhbnN3ZXIgTUFZIGFsc28gYmUgcGxhY2VkIGluIGFueSBwcm92aXNpb25hbCByZXNwb25zZXMgc2VudFxuICAgICAgICAvLyAgICBwcmlvciB0byB0aGUgYW5zd2VyLiAgVGhlIFVBQyBNVVNUIHRyZWF0IHRoZSBmaXJzdCBzZXNzaW9uXG4gICAgICAgIC8vICAgIGRlc2NyaXB0aW9uIGl0IHJlY2VpdmVzIGFzIHRoZSBhbnN3ZXIsIGFuZCBNVVNUIGlnbm9yZSBhbnlcbiAgICAgICAgLy8gICAgc2Vzc2lvbiBkZXNjcmlwdGlvbnMgaW4gc3Vic2VxdWVudCByZXNwb25zZXMgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgLy8gICAgSU5WSVRFLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBoYXZlIG1hZGUgdGhlIGZvbGxvd2luZyBpbXBsZW1lbnRhdGlvbiBkZWNpc2lvbiB3aXRoIHJlZ2FyZCB0byBlYXJseSBtZWRpYS4uLlxuICAgICAgICAvL1xuICAgICAgICAvLyBvICBJZiB0aGUgaW5pdGlhbCBvZmZlciBpcyBpbiB0aGUgSU5WSVRFLCB0aGUgYW5zd2VyIGZyb20gdGhlXG4gICAgICAgIC8vICAgIFVBUyBiYWNrIHRvIHRoZSBVQUMgd2lsbCBlc3RhYmxpc2ggYSBtZWRpYSBzZXNzaW9uIG9ubHlcbiAgICAgICAgLy8gICAgb25seSBhZnRlciB0aGUgZmluYWwgMnh4IHJlc3BvbnNlIHRvIHRoYXQgSU5WSVRFIGlzIHJlY2VpdmVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcmVhc29uIGZvciB0aGlzIGRlY2lzaW9uIGlzIHJvb3RlZCBpbiBhIHJlc3RyaWN0aW9uIGN1cnJlbnRseVxuICAgICAgICAvLyBpbmhlcmVudCBpbiBXZWJSVEMuIFNwZWNpZmljYWxseSwgd2hpbGUgYSBTSVAgSU5WSVRFIHJlcXVlc3Qgd2l0aCBhblxuICAgICAgICAvLyBpbml0aWFsIG9mZmVyIG1heSBmb3JrIHJlc3VsdGluZyBpbiBtb3JlIHRoYW4gb25lIHByb3Zpc2lvbmFsIGFuc3dlcixcbiAgICAgICAgLy8gdGhlcmUgaXMgY3VycmVudGx5IG5vIGVhc3kvZ29vZCB3YXkgdG8gdG8gXCJmb3JrXCIgYW4gb2ZmZXIgZ2VuZXJhdGVkXG4gICAgICAgIC8vIGJ5IGEgcGVlciBjb25uZWN0aW9uLiBJbiBwYXJ0aWN1bGFyLCBhIFdlYlJUQyBvZmZlciBjdXJyZW50bHkgbWF5IG9ubHlcbiAgICAgICAgLy8gYmUgbWF0Y2hlZCB3aXRoIG9uZSBhbnN3ZXIgYW5kIHdlIGhhdmUgbm8gZ29vZCB3YXkgdG8ga25vdyB3aGljaFxuICAgICAgICAvLyBcInByb3Zpc2lvbmFsIGFuc3dlclwiIGlzIGdvaW5nIHRvIGJlIHRoZSBcImZpbmFsIGFuc3dlclwiLiBTbyB3ZSBoYXZlXG4gICAgICAgIC8vIGRlY2lkZWQgdG8gcHVudCBhbmQgbm90IGNyZWF0ZSBhbnkgXCJlYXJseSBtZWRpYVwiIHNlc3Npb25zIGluIHRoaXMgY2FzZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIHVwc2hvdCBpcyB0aGF0IGlmIHlvdSB3YW50IFwiZWFybHkgbWVkaWFcIiwgeW91IG11c3Qgbm90IHB1dCB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBvZmZlciBpbiB0aGUgSU5WSVRFLiBJbnN0ZWFkLCBmb3JjZSB0aGUgVUFTIHRvIHByb3ZpZGUgdGhlXG4gICAgICAgIC8vIGluaXRpYWwgb2ZmZXIgYnkgc2VuZGluZyBhbiBJTlZJVEUgd2l0aG91dCBhbiBvZmZlci4gSW4gdGhlIFdlYlJUQ1xuICAgICAgICAvLyBjYXNlIHRoaXMgYWxsb3dzIHVzIHRvIGNyZWF0ZSBhIHVuaXF1ZSBwZWVyIGNvbm5lY3Rpb24gd2l0aCBhIHVuaXF1ZVxuICAgICAgICAvLyBhbnN3ZXIgZm9yIGV2ZXJ5IHByb3Zpc2lvbmFsIG9mZmVyIHdpdGggXCJlYXJseSBtZWRpYVwiIG9uIGFsbCBvZiB0aGVtLlxuICAgICAgICAvLy8vXG4gICAgICAgIC8vLy9cbiAgICAgICAgLy8gUk9BRE1BUDogVGhlIE9mZmVyL0Fuc3dlciBNb2RlbCBJbXBsZW1lbnRhdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgXCJubyBlYXJseSBtZWRpYSBpZiBvZmZlciBpbiBJTlZJVEVcIiBpbXBsZW1lbnRhdGlvbiBpcyBub3QgYVxuICAgICAgICAvLyB3ZWxjb21lIG9uZS4gVGhlIG1hc3NlcyB3YW50IGl0LiBUaGUgd2FudCBpdCBhbmQgdGhleSB3YW50IGl0XG4gICAgICAgIC8vIHRvIHdvcmsgZm9yIFdlYlJUQyAoc28gdGhleSB3YW50IHRvIGhhdmUgdGhlaXIgY2FrZSBhbmQgZWF0IHRvbykuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNvIHdoaWxlIHdlIGN1cnJlbnRseSBjYW5ub3QgbWFrZSB0aGUgb2ZmZXIgaW4gSU5WSVRFK2Zvcmtpbmcrd2VicnRjXG4gICAgICAgIC8vIGNhc2Ugd29yaywgd2UgZGVjaWRlZCB0byBkbyB0aGUgZm9sbG93aW5nLi4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEpIG1vZGlmeSBTREggRmFjdG9yeSB0byBwcm92aWRlIGFuIGluaXRpYWwgb2ZmZXIgd2l0aG91dCBnaXZpbmcgdXMgdGhlIFNESCwgYW5kIHRoZW4uLi5cbiAgICAgICAgLy8gMikgc3RpY2sgdGhhdCBvZmZlciBpbiB0aGUgaW5pdGlhbCBJTlZJVEUsIGFuZCB3aGVuIDE4MyB3aXRoIGluaXRpYWwgYW5zd2VyIGlzIHJlY2VpdmVkLi4uXG4gICAgICAgIC8vIDMpIGFzayBTREggRmFjdG9yeSBpZiBpdCBzdXBwb3J0cyBcImVhcmx5UmVtb3RlQW5zd2VyXCJcbiAgICAgICAgLy8gICBhKSBpZiB0cnVlLCBhc2sgU0RIIEZhY3RvcnkgdG8gY3JlYXRlU0RIKGxvY2FsT2ZmZXIpLnRoZW4oKHNkaCkgPT4gc2RoLnNldERlc2NyaXB0aW9uKHJlbW90ZUFuc3dlcilcbiAgICAgICAgLy8gICBiKSBpZiBmYWxzZSwgZGVmZXIgZ2V0dGluZyBhIFNESCB1bnRpbCAyeHggcmVzcG9uc2UgaXMgcmVjZWl2ZWRcbiAgICAgICAgLy9cbiAgICAgICAgLy8gT3VyIHN1cHBsaWVkIFdlYlJUQyBTREggd2lsbCBkZWZhdWx0IHRvIGJlaGF2aW9yIDNiIHdoaWNoIHdvcmtzIGluIGZvcmtpbmcgZW52aXJvbm1lbnQgKHdpdGhvdXQpXG4gICAgICAgIC8vIGVhcmx5IG1lZGlhIGlmIGluaXRpYWwgb2ZmZXIgaXMgaW4gdGhlIElOVklURSkuIFdlIHdpbGwsIGhvd2V2ZXIsIHByb3ZpZGUgYW4gXCJpbnZpdGVXaWxsTm90Rm9ya1wiXG4gICAgICAgIC8vIG9wdGlvbiB3aGljaCBpZiBzZXQgdG8gXCJ0cnVlXCIgd2lsbCBoYXZlIG91ciBzdXBwbGllZCBXZWJSVEMgU0RIIGJlaGF2ZSBpbiB0aGUgM2EgbWFubmVyLlxuICAgICAgICAvLyBUaGF0IHdpbGwgcmVzdWx0IGluXG4gICAgICAgIC8vICAtIGVhcmx5IG1lZGlhIHdvcmtpbmcgd2l0aCBpbml0aWFsIG9mZmVyIGluIHRoZSBJTlZJVEUsIGFuZC4uLlxuICAgICAgICAvLyAgLSBpZiB0aGUgSU5WSVRFIGZvcmtzLCB0aGUgc2Vzc2lvbiB0ZXJtaW5hdGluZyB3aXRoIGFuIEVSUk9SIHRoYXQgcmVhZHMgbGlrZVxuICAgICAgICAvLyAgICBcIllvdSBzZXQgJ2ludml0ZVdpbGxOb3RGb3JrJyB0byB0cnVlIGJ1dCB0aGUgSU5WSVRFIGZvcmtlZC4gWW91IGNhbid0IGVhdCB5b3VyIGNha2UsIGFuZCBoYXZlIGl0IHRvby5cIlxuICAgICAgICAvLyAgLSBmdXJ0aGVybW9yZSwgd2UgYWNjZXB0IHRoYXQgdXNlcnMgd2lsbCByZXBvcnQgdGhhdCBlcnJvciB0byB1cyBhcyBcImJ1Z1wiIHJlZ2FyZGxlc3NcbiAgICAgICAgLy9cbiAgICAgICAgLy8gU28sIFNESCBGYWN0b3J5IGlzIGdvaW5nIHRvIGVuZCB1cCB3aXRoIGEgbmV3IGludGVyZmFjZSBhbG9uZyB0aGUgbGluZXMgb2YuLi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gaW50ZXJmYWNlIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5IHtcbiAgICAgICAgLy8gICBtYWtlTG9jYWxPZmZlcigpOiBQcm9taXNlPENvbnRlbnRUeXBlQW5kQm9keT47XG4gICAgICAgIC8vICAgbWFrZVNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoXG4gICAgICAgIC8vICAgICBpbml0aWFsT2ZmZXI6IENvbnRlbnRUeXBlQW5kQm9keSwgb2ZmZXJUeXBlOiBcImxvY2FsXCIgfCBcInJlbW90ZVwiXG4gICAgICAgIC8vICAgKTogUHJvbWlzZTxTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyPjtcbiAgICAgICAgLy8gICBzdXBwb3J0c0Vhcmx5UmVtb3RlQW5zd2VyOiBib29sZWFuO1xuICAgICAgICAvLyAgIHN1cHBvcnRzQ29udGVudFR5cGUoY29udGVudFR5cGU6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgICAgIC8vICAgZ2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb246IENvbnRlbnRUeXBlQW5kQm9keSk6IFByb21pc2U8Q29udGVudFR5cGVBbmRCb2R5PlxuICAgICAgICAvLyAgIHNldERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uOiBDb250ZW50VHlwZUFuZEJvZHkpOiBQcm9taXNlPHZvaWQ+XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2Ugc2hvdWxkIGJlIGFibGUgdG8gZ2V0IHJpZCBvZiBhbGwgdGhlIGhhc09mZmVyL2hhc0Fuc3dlciB0cmFja2luZyBjb2RlIGFuZCBvdGhlcndpc2UgY29kZVxuICAgICAgICAvLyBpdCB1cCB0byB0aGUgc2FtZSBpbnRlcmFjdGlvbiB3aXRoIHRoZSBTREggRmFjdG9yeSBhbmQgU0RIIHJlZ2FyZGxlc3Mgb2Ygc2lnbmFsaW5nIHNjZW5hcmlvLlxuICAgICAgICAvLy8vXG4gICAgICAgIC8vIFNlbmQgdGhlIElOVklURSByZXF1ZXN0LlxuICAgICAgICB0aGlzLm91dGdvaW5nSW52aXRlUmVxdWVzdCA9IHRoaXMudWEudXNlckFnZW50Q29yZS5pbnZpdGUodGhpcy5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBvbkFjY2VwdDogZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5vbkFjY2VwdChpbnZpdGVSZXNwb25zZSk7IH0sXG4gICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uUHJvZ3Jlc3MoaW52aXRlUmVzcG9uc2UpOyB9LFxuICAgICAgICAgICAgb25SZWRpcmVjdDogZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5vblJlZGlyZWN0KGludml0ZVJlc3BvbnNlKTsgfSxcbiAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uUmVqZWN0KGludml0ZVJlc3BvbnNlKTsgfSxcbiAgICAgICAgICAgIG9uVHJ5aW5nOiBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uVHJ5aW5nKGludml0ZVJlc3BvbnNlKTsgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLmFja0FuZEJ5ZSA9IGZ1bmN0aW9uIChpbnZpdGVSZXNwb25zZSwgc2Vzc2lvbiwgc3RhdHVzQ29kZSwgcmVhc29uUGhyYXNlKSB7XG4gICAgICAgIGlmICghdGhpcy51YS51c2VyQWdlbnRDb3JlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgcmVxdWlyZXMgdXNlciBhZ2VudCBjb3JlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIGlmIChzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlYXNvbjogXCIgKyBVdGlsc18xLlV0aWxzLmdldFJlYXNvbkhlYWRlclZhbHVlKHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRnb2luZ0Fja1JlcXVlc3QgPSBpbnZpdGVSZXNwb25zZS5hY2soKTtcbiAgICAgICAgdGhpcy5lbWl0KFwiYWNrXCIsIG91dGdvaW5nQWNrUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgdmFyIG91dGdvaW5nQnllUmVxdWVzdCA9IHNlc3Npb24uYnllKHVuZGVmaW5lZCwgeyBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyB9KTtcbiAgICAgICAgdGhpcy5lbWl0KFwiYnllXCIsIG91dGdvaW5nQnllUmVxdWVzdC5tZXNzYWdlKTtcbiAgICB9O1xuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLmRpc3Bvc2VFYXJseU1lZGlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWFybHlNZWRpYVNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFYXJseSBtZWRpYSBzZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXJzIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lYXJseU1lZGlhU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBmaW5hbCByZXNwb25zZSB0byBpbml0aWFsIElOVklURS5cbiAgICAgKiBAcGFyYW0gaW52aXRlUmVzcG9uc2UgMnh4IHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlLm9uQWNjZXB0ID0gZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5lYXJseU1lZGlhU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVhcmx5IG1lZGlhIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlcnMgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSBpbnZpdGVSZXNwb25zZS5tZXNzYWdlO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IGludml0ZVJlc3BvbnNlLnNlc3Npb247XG4gICAgICAgIC8vIE91ciB0cmFuc2FjdGlvbiBsYXllciBpcyBcIm5vbi1zdGFuZGFyZFwiIGluIHRoYXQgaXQgd2lsbCBvbmx5XG4gICAgICAgIC8vIHBhc3MgdXMgYSAyeHggcmVzcG9uc2Ugb25jZSBwZXIgYnJhbmNoLCBzbyB0aGVyZSBpcyBubyBuZWVkIHRvXG4gICAgICAgIC8vIHdvcnJ5IGFib3V0IGRlYWxpbmcgd2l0aCAyeHggcmV0cmFuc21pc3Npb25zLiBIb3dldmVyLCB3ZSBjYW5cbiAgICAgICAgLy8gYW5kIGRvIHN0aWxsIGdldCAyeHggcmVzcG9uc2VzIGZvciBtdWx0aXBsZSBicmFuY2hlcyAod2hlbiBhblxuICAgICAgICAvLyBJTlZJVEUgaXMgZm9ya2VkKSB3aGljaCBtYXkgY3JlYXRlIG11bHRpcGxlIGNvbmZpcm1lZCBkaWFsb2dzLlxuICAgICAgICAvLyBIZXJlaW4gd2UgYXJlIGFja2luZyBhbmQgc2VuZGluZyBhIGJ5ZSB0byBhbnkgY29uZmlybWVkIGRpYWxvZ3NcbiAgICAgICAgLy8gd2hpY2ggYXJyaXZlIGJleW9uZCB0aGUgZmlyc3Qgb25lLiBUaGlzIGlzIHRoZSBkZXNpcmVkIGJlaGF2aW9yXG4gICAgICAgIC8vIGZvciBtb3N0IGFwcGxpY2F0aW9ucyAoYnV0IGNlcnRhaW5seSBub3QgYWxsKS5cbiAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSByZWNlaXZlZCBhIGNvbmZpcm1lZCBkaWFsb2csIGFjayAmIGJ5ZSB0aGlzIHNlc3Npb24uXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgdXNlciByZXF1ZXN0ZWQgY2FuY2VsbGF0aW9uLCBhY2sgJiBieWUgdGhpcyBzZXNzaW9uLlxuICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFja0FuZEJ5ZShpbnZpdGVSZXNwb25zZSwgc2Vzc2lvbik7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJieWVcIiwgdGhpcy5yZXF1ZXN0KTsgLy8gRklYTUU6IFBvcnRlZCB0aGlzIG9kZCBzZWNvbmQgXCJieWVcIiBlbWl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9ydGVkIGJlaGF2aW9yLlxuICAgICAgICBpZiAocmVzcG9uc2UuaGFzSGVhZGVyKFwiUC1Bc3NlcnRlZC1JZGVudGl0eVwiKSkge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRlZElkZW50aXR5ID0gY29yZV8xLkdyYW1tYXIubmFtZUFkZHJIZWFkZXJQYXJzZShyZXNwb25zZS5nZXRIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBoYXZlIGEgY29uZmlybWVkIGRpYWxvZy5cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgb25BY2s6IGZ1bmN0aW9uIChhY2tSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5vbkFjayhhY2tSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgIG9uQnllOiBmdW5jdGlvbiAoYnllUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QoYnllUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICBvbkluZm86IGZ1bmN0aW9uIChpbmZvUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QoaW5mb1JlcXVlc3QpOyB9LFxuICAgICAgICAgICAgb25JbnZpdGU6IGZ1bmN0aW9uIChpbnZpdGVSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChpbnZpdGVSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgIG9uTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VSZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlUmVxdWVzdCk7IH0sXG4gICAgICAgICAgICBvbk5vdGlmeTogZnVuY3Rpb24gKG5vdGlmeVJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KG5vdGlmeVJlcXVlc3QpOyB9LFxuICAgICAgICAgICAgb25QcmFjazogZnVuY3Rpb24gKHByYWNrUmVxdWVzdCkgeyByZXR1cm4gX3RoaXMucmVjZWl2ZVJlcXVlc3QocHJhY2tSZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgIG9uUmVmZXI6IGZ1bmN0aW9uIChyZWZlclJlcXVlc3QpIHsgcmV0dXJuIF90aGlzLnJlY2VpdmVSZXF1ZXN0KHJlZmVyUmVxdWVzdCk7IH0sXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICAvLyBJTlZJVEUgd2l0aG91dCBPZmZlciwgc28gTVVTVCBoYXZlIE9mZmVyIGF0IHRoaXMgcG9pbnQsIHNvIGludmFsaWQgc3RhdGUuXG4gICAgICAgICAgICAgICAgdGhpcy5hY2tBbmRCeWUoaW52aXRlUmVzcG9uc2UsIHNlc3Npb24sIDQwMCwgXCJNaXNzaW5nIHNlc3Npb24gZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQocmVzcG9uc2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcjpcbiAgICAgICAgICAgICAgICAvLyBJTlZJVEUgd2l0aCBPZmZlciwgc28gTVVTVCBoYXZlIEFuc3dlciBhdCB0aGlzIHBvaW50LCBzbyBpbnZhbGlkIHN0YXRlLlxuICAgICAgICAgICAgICAgIHRoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uLCA0MDAsIFwiTWlzc2luZyBzZXNzaW9uIGRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyOlxuICAgICAgICAgICAgICAgIC8vIElOVklURSB3aXRob3V0IE9mZmVyLCByZWNlaXZlZCBvZmZlciBpbiAyeHgsIHNvIE1VU1Qgc2VuZCBBbnN3ZXIgaW4gQUNLLlxuICAgICAgICAgICAgICAgIHZhciBzZGhfMSA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkodGhpcywgdGhpcy51YS5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gc2RoXzE7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci1jcmVhdGVkXCIsIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKCFzZGhfMS5oYXNEZXNjcmlwdGlvbihyZXNwb25zZS5nZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgfHwgXCJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2tBbmRCeWUoaW52aXRlUmVzcG9uc2UsIHNlc3Npb24sIDQwMCwgXCJNaXNzaW5nIHNlc3Npb24gZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNPZmZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2RoXzFcbiAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBzZGhfMS5nZXREZXNjcmlwdGlvbihfdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucywgX3RoaXMubW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0NhbmNlbGVkIHx8IF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudERpc3Bvc2l0aW9uOiBcInNlc3Npb25cIiwgY29udGVudFR5cGU6IGRlc2NyaXB0aW9uLmNvbnRlbnRUeXBlLCBjb250ZW50OiBkZXNjcmlwdGlvbi5ib2R5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2tSZXF1ZXN0ID0gaW52aXRlUmVzcG9uc2UuYWNrKHsgYm9keTogYm9keSB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFja1wiLCBhY2tSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY2NlcHRlZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcImludmFsaWQgZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBtZXNzYWdlIGlzIGluY29uc2lzdGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uLCA0ODgsIFwiSW52YWxpZCBzZXNzaW9uIGRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHJlc3BvbnNlLCBDb25zdGFudHNfMS5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlOlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgc2Vzc2lvbiBoYXMgY29tcGxldGVkIGFuIGluaXRpYWwgb2ZmZXIvYW5zd2VyIGV4Y2hhbmdlLi4uXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnNfMTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJib2R5ICYmIHRoaXMucmVuZGVydHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zXzEgPSB7IGJvZHk6IHsgY29udGVudERpc3Bvc2l0aW9uOiBcInJlbmRlclwiLCBjb250ZW50VHlwZTogdGhpcy5yZW5kZXJ0eXBlLCBjb250ZW50OiB0aGlzLnJlbmRlcmJvZHkgfSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBJTlZJVEUgd2l0aCBPZmZlciBhbmQgd2UgaGF2ZSBiZWVuIHdhaXRpbmcgdGlsbCBub3cgdG8gYXBwbHkgdGhlIGFuc3dlci5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPZmZlciAmJiAhdGhpcy5oYXNBbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbnN3ZXIgPSBzZXNzaW9uLmFuc3dlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbnN3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuc3dlciBpcyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKGFuc3dlci5jb250ZW50LCB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCB0aGlzLm1vZGlmaWVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX0NPTkZJUk1FRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY2tSZXF1ZXN0ID0gaW52aXRlUmVzcG9uc2UuYWNrKG9wdGlvbnNfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwiYWNrXCIsIGFja1JlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY2NlcHRlZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKGludml0ZVJlc3BvbnNlLCBzZXNzaW9uLCA0ODgsIFwiTm90IEFjY2VwdGFibGUgSGVyZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZhaWxlZChyZXNwb25zZSwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJTUU6IERPTidUIEVBVCBVTkhBTkRMRUQgRVJST1JTIVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBJTlZJVEUgd2l0aCBvciB3aXRob3V0IE9mZmVyIGFuZCB3ZSBoYXZlIGFscmVhZHkgY29tcGxldGVkIHRoZSBpbml0aWFsIGV4Y2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPSB0aGlzLmVhcmx5TWVkaWFTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVycy5nZXQoc2Vzc2lvbi5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXIgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVhcmx5TWVkaWFTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVycy5kZWxldGUoc2Vzc2lvbi5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzT2ZmZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2tSZXF1ZXN0ID0gaW52aXRlUmVzcG9uc2UuYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFja1wiLCBhY2tSZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY2VwdGVkKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgLy8gRGlhbG9nIGhhcyB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHNlc3Npb24gc2lnbmFsaW5nIHN0YXRlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3Bvc2VFYXJseU1lZGlhKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgdG8gaW5pdGlhbCBJTlZJVEUuXG4gICAgICogQHBhcmFtIGludml0ZVJlc3BvbnNlIDF4eCByZXNwb25zZS5cbiAgICAgKi9cbiAgICBJbnZpdGVDbGllbnRDb250ZXh0LnByb3RvdHlwZS5vblByb2dyZXNzID0gZnVuY3Rpb24gKGludml0ZVJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFBvcnRlZCAtIFVzZXIgcmVxdWVzdGVkIGNhbmNlbGxhdGlvbi5cbiAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5vdXRnb2luZ0ludml0ZVJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk91dGdvaW5nIElOVklURSByZXF1ZXN0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmVhcmx5TWVkaWFTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWFybHkgbWVkaWEgc2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVycyB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNwb25zZSA9IGludml0ZVJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgICAgIHZhciBzZXNzaW9uID0gaW52aXRlUmVzcG9uc2Uuc2Vzc2lvbjtcbiAgICAgICAgLy8gUG9ydGVkIC0gU2V0IHN0YXR1cy5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTXzFYWF9SRUNFSVZFRDtcbiAgICAgICAgLy8gUG9ydGVkIC0gU2V0IGFzc2VydGVkSWRlbnRpdHkuXG4gICAgICAgIGlmIChyZXNwb25zZS5oYXNIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydGVkSWRlbnRpdHkgPSBjb3JlXzEuR3JhbW1hci5uYW1lQWRkckhlYWRlclBhcnNlKHJlc3BvbnNlLmdldEhlYWRlcihcIlAtQXNzZXJ0ZWQtSWRlbnRpdHlcIikpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBwcm92aXNpb25hbCByZXNwb25zZSBNVVNUIGVzdGFibGlzaCBhIGRpYWxvZyBpZiBvbmUgaXMgbm90IHlldCBjcmVhdGVkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTRcbiAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICAvLyBBIHJlc3BvbnNlIHdpdGggYSB0byB0YWcgTVVTVCBjcmVhdGUgYSBzZXNzaW9uIChzaG91bGQgbmV2ZXIgZ2V0IGhlcmUpLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UgaXMgcmVjZWl2ZWQgZm9yIGFuIGluaXRpYWwgcmVxdWVzdCwgYW5kXG4gICAgICAgIC8vIHRoYXQgcmVzcG9uc2UgY29udGFpbnMgYSBSZXF1aXJlIGhlYWRlciBmaWVsZCBjb250YWluaW5nIHRoZSBvcHRpb25cbiAgICAgICAgLy8gdGFnIDEwMHJlbCwgdGhlIHJlc3BvbnNlIGlzIHRvIGJlIHNlbnQgcmVsaWFibHkuICBJZiB0aGUgcmVzcG9uc2UgaXNcbiAgICAgICAgLy8gYSAxMDAgKFRyeWluZykgKGFzIG9wcG9zZWQgdG8gMTAxIHRvIDE5OSksIHRoaXMgb3B0aW9uIHRhZyBNVVNUIGJlXG4gICAgICAgIC8vIGlnbm9yZWQsIGFuZCB0aGUgcHJvY2VkdXJlcyBiZWxvdyBNVVNUIE5PVCBiZSB1c2VkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTRcbiAgICAgICAgdmFyIHJlcXVpcmVIZWFkZXIgPSByZXNwb25zZS5nZXRIZWFkZXIoXCJyZXF1aXJlXCIpO1xuICAgICAgICB2YXIgcnNlcUhlYWRlciA9IHJlc3BvbnNlLmdldEhlYWRlcihcInJzZXFcIik7XG4gICAgICAgIHZhciByc2VxID0gcmVxdWlyZUhlYWRlciAmJiByZXF1aXJlSGVhZGVyLmluY2x1ZGVzKFwiMTAwcmVsXCIpICYmIHJzZXFIZWFkZXIgPyBOdW1iZXIocnNlcUhlYWRlcikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciByZXNwb25zZVJlbGlhYmxlID0gISFyc2VxO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIGlmIChyZXNwb25zZVJlbGlhYmxlKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJBY2s6IFwiICsgcmVzcG9uc2UuZ2V0SGVhZGVyKFwicnNlcVwiKSArIFwiIFwiICsgcmVzcG9uc2UuZ2V0SGVhZGVyKFwiY3NlcVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU5WSVRFIHdpdGhvdXQgT2ZmZXIgYW5kIHNlc3Npb24gc3RpbGwgaGFzIG5vIG9mZmVyIChhbmQgbm8gYW5zd2VyKS5cbiAgICAgICAgaWYgKHNlc3Npb24uc2lnbmFsaW5nU3RhdGUgPT09IGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsKSB7XG4gICAgICAgICAgICAvLyBTaW1pbGFybHksIGlmIGEgcmVsaWFibGUgcHJvdmlzaW9uYWxcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIHRoZSBmaXJzdCByZWxpYWJsZSBtZXNzYWdlIHNlbnQgYmFjayB0byB0aGUgVUFDLCBhbmQgdGhlXG4gICAgICAgICAgICAvLyBJTlZJVEUgZGlkIG5vdCBjb250YWluIGFuIG9mZmVyLCBvbmUgTVVTVCBhcHBlYXIgaW4gdGhhdCByZWxpYWJsZVxuICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MiNzZWN0aW9uLTVcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVJlbGlhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkZpcnN0IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHJlY2VpdmVkIE1VU1QgY29udGFpbiBhbiBvZmZlciB3aGVuIElOVklURSBkb2VzIG5vdCBjb250YWluIGFuIG9mZmVyLlwiKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogS25vd24gcG9wdWxhciBVQSdzIGN1cnJlbnRseSBlbmQgdXAgaGVyZS4uLlxuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU5WSVRFIHdpdGggT2ZmZXIgYW5kIHNlc3Npb24gb25seSBoYXMgdGhhdCBpbml0aWFsIGxvY2FsIG9mZmVyLlxuICAgICAgICBpZiAoc2Vzc2lvbi5zaWduYWxpbmdTdGF0ZSA9PT0gY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VSZWxpYWJsZSkge1xuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU5WSVRFIHdpdGhvdXQgT2ZmZXIgYW5kIHJlY2VpdmVkIGluaXRpYWwgb2ZmZXIgaW4gcHJvdmlzaW9uYWwgcmVzcG9uc2VcbiAgICAgICAgaWYgKHNlc3Npb24uc2lnbmFsaW5nU3RhdGUgPT09IGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXIpIHtcbiAgICAgICAgICAgIC8vIFRoZSBpbml0aWFsIG9mZmVyIE1VU1QgYmUgaW4gZWl0aGVyIGFuIElOVklURSBvciwgaWYgbm90IHRoZXJlLFxuICAgICAgICAgICAgLy8gaW4gdGhlIGZpcnN0IHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSB0aGUgVUFTIGJhY2sgdG9cbiAgICAgICAgICAgIC8vIHRoZSBVQUMuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIFNlY3Rpb24gMTMuMi4xIG9mIFtSRkMzMjYxXSwgJ1RoZSBmaXJzdCByZWxpYWJsZVxuICAgICAgICAgICAgLy8gbm9uLWZhaWx1cmUgbWVzc2FnZScgbXVzdCBoYXZlIGFuIG9mZmVyIGlmIHRoZXJlIGlzIG5vIG9mZmVyIGluIHRoZVxuICAgICAgICAgICAgLy8gSU5WSVRFIHJlcXVlc3QuICBUaGlzIG1lYW5zIHRoYXQgdGhlIFVzZXIgQWdlbnQgKFVBKSB0aGF0IHJlY2VpdmVzXG4gICAgICAgICAgICAvLyB0aGUgSU5WSVRFIHJlcXVlc3Qgd2l0aG91dCBhbiBvZmZlciBtdXN0IGluY2x1ZGUgYW4gb2ZmZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBmaXJzdCByZWxpYWJsZSByZXNwb25zZSB3aXRoIDEwMHJlbCBleHRlbnNpb24uICBJZiBubyByZWxpYWJsZVxuICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2UgaGFzIGJlZW4gc2VudCwgdGhlIFVzZXIgQWdlbnQgU2VydmVyIChVQVMpIG11c3RcbiAgICAgICAgICAgIC8vIGluY2x1ZGUgYW4gb2ZmZXIgd2hlbiBzZW5kaW5nIDJ4eCByZXNwb25zZS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MzM3I3NlY3Rpb24tMi4yXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlUmVsaWFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm9uLXJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIE1VU1QgTk9UIGNvbnRhaW4gYW4gaW5pdGlhbCBvZmZlciwgZGlzY2FyZGluZyByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGluaXRpYWwgb2ZmZXIgaXMgaW4gdGhlIGZpcnN0IHJlbGlhYmxlIG5vbi1mYWlsdXJlXG4gICAgICAgICAgICAvLyBtZXNzYWdlIGZyb20gdGhlIFVBUyBiYWNrIHRvIFVBQywgdGhlIGFuc3dlciBNVVNUIGJlIGluIHRoZVxuICAgICAgICAgICAgLy8gYWNrbm93bGVkZ2VtZW50IGZvciB0aGF0IG1lc3NhZ2VcbiAgICAgICAgICAgIHZhciBzZGhfMiA9IHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkodGhpcywgdGhpcy51YS5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLWNyZWF0ZWRcIiwgc2RoXzIpO1xuICAgICAgICAgICAgdGhpcy5lYXJseU1lZGlhU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcnMuc2V0KHNlc3Npb24uaWQsIHNkaF8yKTtcbiAgICAgICAgICAgIHNkaF8yXG4gICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNkaF8yLmdldERlc2NyaXB0aW9uKF90aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLCBfdGhpcy5tb2RpZmllcnMpOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50RGlzcG9zaXRpb246IFwic2Vzc2lvblwiLCBjb250ZW50VHlwZTogZGVzY3JpcHRpb24uY29udGVudFR5cGUsIGNvbnRlbnQ6IGRlc2NyaXB0aW9uLmJvZHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19FQVJMWV9NRURJQTtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgc2Vzc2lvbiBoYXMgY29tcGxldGVkIGFuIGluaXRpYWwgb2ZmZXIvYW5zd2VyIGV4Y2hhbmdlLCBzby4uLlxuICAgICAgICAvLyAtIElOVklURSB3aXRoIFNEUCBhbmQgdGhpcyBwcm92aXNpb25hbCByZXNwb25zZSBNQVkgYmUgcmVsaWFibGVcbiAgICAgICAgLy8gLSBJTlZJVEUgd2l0aG91dCBTRFAgYW5kIHRoaXMgcHJvdmlzaW9uYWwgcmVzcG9uc2UgTUFZIGJlIHJlbGlhYmxlXG4gICAgICAgIGlmIChzZXNzaW9uLnNpZ25hbGluZ1N0YXRlID09PSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VSZWxpYWJsZSkge1xuICAgICAgICAgICAgICAgIGludml0ZVJlc3BvbnNlLnByYWNrKHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3RlOiBBcyBkb2N1bWVudGVkLCBubyBlYXJseSBtZWRpYSBpZiBvZmZlciB3YXMgaW4gSU5WSVRFLCBzbyBub3RoaW5nIHRvIGJlIGRvbmUuXG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogQWRkIGEgZmxhZy9oYWNrIHRvIGFsbG93IGVhcmx5IG1lZGlhIGluIHRoaXMgY2FzZS4gVGhlcmUgYXJlIHBlb3BsZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgIGluIG5vbi1mb3JraW5nIGVudmlyb25tZW50cyAodGhpbmsgc3RyYWlnaHQgdG8gRnJlZVNXSVRDSCkgd2hvIHdhbnRcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICBlYXJseSBtZWRpYSBvbiBhIDE4My4gTm90IHN1cmUgaG93IHRvIGFjdHVhbGx5IG1ha2UgaXQgd29yaywgYmFzaWNhbGx5XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgc29tZXRoaW5nIGxpa2UuLi5cbiAgICAgICAgICAgIGlmICgwIC8qIGZsYWcgKi8gJiYgdGhpcy5oYXNPZmZlciAmJiAhdGhpcy5oYXNBbnN3ZXIgJiYgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19FQVJMWV9NRURJQTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlLmJvZHksIHRoaXMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsIHRoaXMubW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSBFbnVtc18xLlNlc3Npb25TdGF0dXMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5mYWlsZWQodW5kZWZpbmVkLCBDb25zdGFudHNfMS5DLmNhdXNlcy5XRUJSVENfRVJST1IpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGVkKHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdChcInByb2dyZXNzXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGZpbmFsIHJlc3BvbnNlIHRvIGluaXRpYWwgSU5WSVRFLlxuICAgICAqIEBwYXJhbSBpbnZpdGVSZXNwb25zZSAzeHggcmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25SZWRpcmVjdCA9IGZ1bmN0aW9uIChpbnZpdGVSZXNwb25zZSkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VFYXJseU1lZGlhKCk7XG4gICAgICAgIHZhciByZXNwb25zZSA9IGludml0ZVJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgdmFyIGNhdXNlID0gVXRpbHNfMS5VdGlscy5zaXBFcnJvckNhdXNlKHN0YXR1c0NvZGUgfHwgMCk7XG4gICAgICAgIHRoaXMucmVqZWN0ZWQocmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgdGhpcy5mYWlsZWQocmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZmluYWwgcmVzcG9uc2UgdG8gaW5pdGlhbCBJTlZJVEUuXG4gICAgICogQHBhcmFtIGludml0ZVJlc3BvbnNlIDR4eCwgNXh4LCBvciA2eHggcmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25SZWplY3QgPSBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlRWFybHlNZWRpYSgpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBpbnZpdGVSZXNwb25zZS5tZXNzYWdlO1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1c0NvZGU7XG4gICAgICAgIHZhciBjYXVzZSA9IFV0aWxzXzEuVXRpbHMuc2lwRXJyb3JDYXVzZShzdGF0dXNDb2RlIHx8IDApO1xuICAgICAgICB0aGlzLnJlamVjdGVkKHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgIHRoaXMudGVybWluYXRlZChyZXNwb25zZSwgY2F1c2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGZpbmFsIHJlc3BvbnNlIHRvIGluaXRpYWwgSU5WSVRFLlxuICAgICAqIEBwYXJhbSBpbnZpdGVSZXNwb25zZSAxMDAgcmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25UcnlpbmcgPSBmdW5jdGlvbiAoaW52aXRlUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlZDEwMCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdChcInByb2dyZXNzXCIsIGludml0ZVJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIEludml0ZUNsaWVudENvbnRleHQ7XG59KFNlc3Npb24pKTtcbmV4cG9ydHMuSW52aXRlQ2xpZW50Q29udGV4dCA9IEludml0ZUNsaWVudENvbnRleHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBEVE1GVmFsaWRhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERUTUZWYWxpZGF0b3IoKSB7XG4gICAgfVxuICAgIERUTUZWYWxpZGF0b3IudmFsaWRhdGUgPSBmdW5jdGlvbiAodG9uZSwgbW9yZVRoYW5PbmVUb25lKSB7XG4gICAgICAgIGlmIChtb3JlVGhhbk9uZVRvbmUgPT09IHZvaWQgMCkgeyBtb3JlVGhhbk9uZVRvbmUgPSB0cnVlOyB9XG4gICAgICAgIC8vIENoZWNrIHRvbmUgdHlwZVxuICAgICAgICBpZiAodHlwZW9mIHRvbmUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRvbmUgPSB0b25lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRvbmUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRvbmUgPSB0b25lLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBEVE1GVmFsaWRhdG9yLmdlbmVyYXRlSW52YWxpZFRvbmVFcnJvcih0b25lKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVnZXggPSBtb3JlVGhhbk9uZVRvbmUgPyAvXlswLTlBLUQjKixdKyQvaSA6IC9eWzAtOUEtRCMqXSQvaTtcbiAgICAgICAgLy8gQ2hlY2sgdG9uZSB2YWx1ZVxuICAgICAgICBpZiAoIXRvbmUubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgICBEVE1GVmFsaWRhdG9yLmdlbmVyYXRlSW52YWxpZFRvbmVFcnJvcih0b25lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9uZTtcbiAgICB9O1xuICAgIERUTUZWYWxpZGF0b3IuZ2VuZXJhdGVJbnZhbGlkVG9uZUVycm9yID0gZnVuY3Rpb24gKHRvbmUpIHtcbiAgICAgICAgdmFyIHRvbmVGb3JNc2cgPSAoISF0b25lICYmIHR5cGVvZiB0b25lICE9PSBcImJvb2xlYW5cIiA/IHRvbmUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpIDogdG9uZSk7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRvbmUocyk6IFwiICsgdG9uZUZvck1zZyk7XG4gICAgfTtcbiAgICByZXR1cm4gRFRNRlZhbGlkYXRvcjtcbn0oKSk7XG5leHBvcnRzLkRUTUZWYWxpZGF0b3IgPSBEVE1GVmFsaWRhdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG52YXIgQ29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9Db25zdGFudHNcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4vY29yZVwiKTtcbnZhciBhbGxvd2VkX21ldGhvZHNfMSA9IHJlcXVpcmUoXCIuL2NvcmUvdXNlci1hZ2VudC1jb3JlL2FsbG93ZWQtbWV0aG9kc1wiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4vRW51bXNcIik7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuLyoqXG4gKiBXaGlsZSB0aGlzIGNsYXNzIGlzIG5hbWVkIGBTdWJzY3JpcHRpb25gLCBpdCBpcyBjbG9zZXIgdG9cbiAqIGFuIGltcGxlbWVudGF0aW9uIG9mIGEgXCJzdWJzY3JpYmVyXCIgYXMgZGVmaW5lZCBpbiBSRkMgNjY2NVxuICogXCJTSVAtU3BlY2lmaWMgRXZlbnQgTm90aWZpY2F0aW9uc1wiLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjVcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBTdWJzY3JpYmVyLlxuICovXG52YXIgU3Vic2NyaXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmlwdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gdWEgVXNlciBhZ2VudC5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFN1YnNjcmlwdGlvbiB0YXJnZXQuXG4gICAgICogQHBhcmFtIGV2ZW50IFN1YnNjcmlwdGlvbiBldmVudC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odWEsIHRhcmdldCwgZXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5tZXRob2QgPSBDb25zdGFudHNfMS5DLlNVQlNDUklCRTtcbiAgICAgICAgX3RoaXMuYm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gQ2xpZW50Q29udGV4dCBpbnRlcmZhY2VcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuU3Vic2NyaXB0aW9uO1xuICAgICAgICBfdGhpcy51YSA9IHVhO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoXCJzaXAuc3Vic2NyaXB0aW9uXCIpO1xuICAgICAgICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgICAgICAgICBfdGhpcy5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IG9wdGlvbnMuYm9keSxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogb3B0aW9ucy5jb250ZW50VHlwZSA/IG9wdGlvbnMuY29udGVudFR5cGUgOiBcImFwcGxpY2F0aW9uL3NkcFwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFRhcmdldCBVUklcbiAgICAgICAgdmFyIHVyaSA9IHVhLm5vcm1hbGl6ZVRhcmdldCh0YXJnZXQpO1xuICAgICAgICBpZiAoIXVyaSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFyZ2V0OiBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMudXJpID0gdXJpO1xuICAgICAgICAvLyBTdWJzY3JpcHRpb24gZXZlbnRcbiAgICAgICAgX3RoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgLy8gU3Vic2NyaXB0aW9uIGV4cGlyZXNcbiAgICAgICAgaWYgKG9wdGlvbnMuZXhwaXJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5leHBpcmVzID0gMzYwMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5leHBpcmVzICE9PSBcIm51bWJlclwiKSB7IC8vIHByZS10eXBlc2NyaXB0IHR5cGUgZ3VhcmRcbiAgICAgICAgICAgIHVhLmxvZ2dlci53YXJuKFwiT3B0aW9uIFxcXCJleHBpcmVzXFxcIiBtdXN0IGJlIGEgbnVtYmVyLiBVc2luZyBkZWZhdWx0IG9mIDM2MDAuXCIpO1xuICAgICAgICAgICAgX3RoaXMuZXhwaXJlcyA9IDM2MDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5leHBpcmVzID0gb3B0aW9ucy5leHBpcmVzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1YnNjcmlwdGlvbiBleHRyYSBoZWFkZXJzXG4gICAgICAgIF90aGlzLmV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgLy8gU3Vic2NyaXB0aW9uIGNvbnRleHQuXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5pbml0Q29udGV4dCgpO1xuICAgICAgICBfdGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICAvLyBDbGllbnRDb250ZXh0IGludGVyZmFjZVxuICAgICAgICBfdGhpcy5yZXF1ZXN0ID0gX3RoaXMuY29udGV4dC5tZXNzYWdlO1xuICAgICAgICBpZiAoIV90aGlzLnJlcXVlc3QuZnJvbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX3RoaXMucmVxdWVzdC50bykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSB1bmRlZmluZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmxvY2FsSWRlbnRpdHkgPSBfdGhpcy5yZXF1ZXN0LmZyb207XG4gICAgICAgIF90aGlzLnJlbW90ZUlkZW50aXR5ID0gX3RoaXMucmVxdWVzdC50bztcbiAgICAgICAgLy8gQWRkIHRvIFVBJ3MgY29sbGVjdGlvblxuICAgICAgICBfdGhpcy5pZCA9IF90aGlzLnJlcXVlc3QuY2FsbElkICsgX3RoaXMucmVxdWVzdC5mcm9tLnBhcmFtZXRlcnMudGFnICsgX3RoaXMuZXZlbnQ7XG4gICAgICAgIF90aGlzLnVhLnN1YnNjcmlwdGlvbnNbX3RoaXMuaWRdID0gX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmV0cnlBZnRlclRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXRyeUFmdGVyVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZXRyeUFmdGVyVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIFVBJ3MgY29sbGVjdGlvblxuICAgICAgICBkZWxldGUgdGhpcy51YS5zdWJzY3JpcHRpb25zW3RoaXMuaWRdO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIG5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5lbWl0LmFwcGx5KHRoaXMsIHRzbGliXzEuX19zcHJlYWRBcnJheXMoW2V2ZW50XSwgYXJncykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR3JhY2VmdWxseSB0ZXJtaW5hdGUuXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbnRleHQuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlOlxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSByZS1TVUJTQ1JJQkUgcmVxdWVzdCBpZiB0aGVyZSBpcyBhbiBcImFjdGl2ZVwiIHN1YnNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jb250ZXh0LnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuTm90aWZ5V2FpdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5BY3RpdmU6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5zdWJzY3JpcHRpb24ucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BY2NlcHQ6IChmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uQWNjZXB0ZWQocmVzcG9uc2UpOyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IChmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLm9uRmFpbGVkKHJlc3BvbnNlKTsgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlamVjdDogKGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMub25GYWlsZWQocmVzcG9uc2UpOyB9KSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBpbml0aWFsIFNVQlNDUklCRSByZXF1ZXN0IGlmIG5vIHN1YnNjcmlwdGlvbi5cbiAgICAgKiBTZW5kIGEgcmUtU1VCU0NSSUJFIHJlcXVlc3QgaWYgdGhlcmUgaXMgYW4gXCJhY3RpdmVcIiBzdWJzY3JpcHRpb24uXG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jb250ZXh0LnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3Muc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9uID0gcmVzdWx0LnN1Y2Nlc3Muc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbi5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ob3RpZnk6IGZ1bmN0aW9uIChyZXF1ZXN0KSB7IHJldHVybiBfdGhpcy5vbk5vdGlmeShyZXF1ZXN0KTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWZyZXNoOiBmdW5jdGlvbiAocmVxdWVzdCkgeyByZXR1cm4gX3RoaXMub25SZWZyZXNoKHJlcXVlc3QpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRlcm1pbmF0ZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmNsb3NlKCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25Ob3RpZnkocmVzdWx0LnN1Y2Nlc3MucmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LmZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRmFpbGVkKHJlc3VsdC5mYWlsdXJlLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuTm90aWZ5V2FpdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5BY3RpdmU6XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSByZS1TVUJTQ1JJQkUgcmVxdWVzdCBpZiB0aGVyZSBpcyBhIFwicGVuZGluZ1wiIG9yIFwiYWN0aXZlXCIgc3Vic2NyaXB0aW9uLlxuICAgICAqL1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY29udGV4dC5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TdWJzY3JpcHRpb25TdGF0ZS5QZW5kaW5nOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgaW50ZW50aW9uYWxseSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuQWN0aXZlOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgaW50ZW50aW9uYWxseSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblRlcm1pbmF0ZWQoKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUub25BY2NlcHRlZCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA/IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA6IDA7XG4gICAgICAgIHZhciBjYXVzZSA9IFV0aWxzXzEuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHN0YXR1c0NvZGUpO1xuICAgICAgICB0aGlzLmVtaXQoXCJhY2NlcHRlZFwiLCByZXNwb25zZS5tZXNzYWdlLCBjYXVzZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLm9uRmFpbGVkID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA/IHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSA6IDA7XG4gICAgICAgICAgICB2YXIgY2F1c2UgPSBVdGlsc18xLlV0aWxzLmdldFJlYXNvblBocmFzZShzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCByZXNwb25zZS5tZXNzYWdlLCBjYXVzZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJyZWplY3RlZFwiLCByZXNwb25zZS5tZXNzYWdlLCBjYXVzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUub25Ob3RpZnkgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0LmFjY2VwdCgpOyAvLyBTZW5kIDIwMCByZXNwb25zZS5cbiAgICAgICAgdGhpcy5lbWl0KFwibm90aWZ5XCIsIHsgcmVxdWVzdDogcmVxdWVzdC5tZXNzYWdlIH0pO1xuICAgICAgICAvLyBJZiB3ZSd2ZSBzZXQgc3RhdGUgdG8gZG9uZSwgbm8gZnVydGhlciBwcm9jZXNzaW5nIHNob3VsZCB0YWtlIHBsYWNlXG4gICAgICAgIC8vIGFuZCB3ZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGNsZWFuaW5nIHVwIGFmdGVyIHRoZSBhcHByb3ByaWF0ZSBOT1RJRlkuXG4gICAgICAgIGlmICh0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gIElmIHRoZSBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIHZhbHVlIGlzIFwidGVybWluYXRlZFwiLCB0aGUgc3Vic2NyaWJlclxuICAgICAgICAvLyAgTVVTVCBjb25zaWRlciB0aGUgc3Vic2NyaXB0aW9uIHRlcm1pbmF0ZWQuICBUaGUgXCJleHBpcmVzXCIgcGFyYW1ldGVyXG4gICAgICAgIC8vICBoYXMgbm8gc2VtYW50aWNzIGZvciBcInRlcm1pbmF0ZWRcIiAtLSBub3RpZmllcnMgU0hPVUxEIE5PVCBpbmNsdWRlIGFuXG4gICAgICAgIC8vICBcImV4cGlyZXNcIiBwYXJhbWV0ZXIgb24gYSBcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiIGhlYWRlciBmaWVsZCB3aXRoIGFcbiAgICAgICAgLy8gIHZhbHVlIG9mIFwidGVybWluYXRlZFwiLCBhbmQgc3Vic2NyaWJlcnMgTVVTVCBpZ25vcmUgYW55IHN1Y2hcbiAgICAgICAgLy8gIHBhcmFtZXRlciwgaWYgcHJlc2VudC4gIElmIGEgcmVhc29uIGNvZGUgaXMgcHJlc2VudCwgdGhlIGNsaWVudFxuICAgICAgICAvLyAgc2hvdWxkIGJlaGF2ZSBhcyBkZXNjcmliZWQgYmVsb3cuICBJZiBubyByZWFzb24gY29kZSBvciBhbiB1bmtub3duXG4gICAgICAgIC8vICByZWFzb24gY29kZSBpcyBwcmVzZW50LCB0aGUgY2xpZW50IE1BWSBhdHRlbXB0IHRvIHJlLXN1YnNjcmliZSBhdCBhbnlcbiAgICAgICAgLy8gIHRpbWUgKHVubGVzcyBhIFwicmV0cnktYWZ0ZXJcIiBwYXJhbWV0ZXIgaXMgcHJlc2VudCwgaW4gd2hpY2ggY2FzZSB0aGVcbiAgICAgICAgLy8gIGNsaWVudCBTSE9VTEQgTk9UIGF0dGVtcHQgcmUtc3Vic2NyaXB0aW9uIHVudGlsIGFmdGVyIHRoZSBudW1iZXIgb2ZcbiAgICAgICAgLy8gIHNlY29uZHMgc3BlY2lmaWVkIGJ5IHRoZSBcInJldHJ5LWFmdGVyXCIgcGFyYW1ldGVyKS4gIFRoZSByZWFzb24gY29kZXNcbiAgICAgICAgLy8gIGRlZmluZWQgYnkgdGhpcyBkb2N1bWVudCBhcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjNcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvblN0YXRlID0gcmVxdWVzdC5tZXNzYWdlLnBhcnNlSGVhZGVyKFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIpO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uU3RhdGUgJiYgc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGVybWluYXRlZFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uU3RhdGUucmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJUZXJtaW5hdGVkIHN1YnNjcmlwdGlvbiB3aXRoIHJlYXNvbiBcIiArIHN1YnNjcmlwdGlvblN0YXRlLnJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN1YnNjcmlwdGlvblN0YXRlLnJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWFjdGl2YXRlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lb3V0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcm9iYXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2l2ZXVwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvblN0YXRlLnBhcmFtcyAmJiBzdWJzY3JpcHRpb25TdGF0ZS5wYXJhbXNbXCJyZXRyeS1hZnRlclwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRyeUFmdGVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnN1YnNjcmliZSgpOyB9LCBzdWJzY3JpcHRpb25TdGF0ZS5wYXJhbXNbXCJyZXRyeS1hZnRlclwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9yZXNvdXJjZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnZhcmlhbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5vblJlZnJlc2ggPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0LmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gX3RoaXMub25BY2NlcHRlZChyZXNwb25zZSk7IH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUub25UZXJtaW5hdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJ0ZXJtaW5hdGVkXCIpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5pbml0Q29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnM6IHRoaXMuZXh0cmFIZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogdGhpcy5ib2R5ID8gVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaih0aGlzLmJvZHkpIDogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBTdWJzY3JpYmVDbGllbnRDb250ZXh0KHRoaXMudWEudXNlckFnZW50Q29yZSwgdGhpcy51cmksIHRoaXMuZXZlbnQsIHRoaXMuZXhwaXJlcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY29udGV4dC5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgIG9uQWNjZXB0OiAoZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5vbkFjY2VwdGVkKHJlc3BvbnNlKTsgfSlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5TdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb247XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWNsYXNzZXMtcGVyLWZpbGVcbnZhciBTdWJzY3JpYmVDbGllbnRDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZUNsaWVudENvbnRleHQoY29yZSwgdGFyZ2V0LCBldmVudCwgZXhwaXJlcywgb3B0aW9ucywgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5leHBpcmVzID0gZXhwaXJlcztcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gY29yZS5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC5zdWJzY3JpcHRpb25cIik7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdmFyIGFsbG93SGVhZGVyID0gXCJBbGxvdzogXCIgKyBhbGxvd2VkX21ldGhvZHNfMS5BbGxvd2VkTWV0aG9kcy50b1N0cmluZygpO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKGFsbG93SGVhZGVyKTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJFdmVudDogXCIgKyB0aGlzLmV2ZW50KTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJFeHBpcmVzOiBcIiArIHRoaXMuZXhwaXJlcyk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiQ29udGFjdDogXCIgKyB0aGlzLmNvcmUuY29uZmlndXJhdGlvbi5jb250YWN0LnRvU3RyaW5nKCkpO1xuICAgICAgICB2YXIgYm9keSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ib2R5O1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBjb3JlLm1ha2VPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKENvbnN0YW50c18xLkMuU1VCU0NSSUJFLCB0aGlzLnRhcmdldCwgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uYW9yLCB0aGlzLnRhcmdldCwge30sIGV4dHJhSGVhZGVycywgYm9keSk7XG4gICAgfVxuICAgIC8qKiBEZXN0cnVjdG9yLiAqL1xuICAgIFN1YnNjcmliZUNsaWVudENvbnRleHQucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC53YWl0Tm90aWZ5U3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnNjcmliZUNsaWVudENvbnRleHQucHJvdG90eXBlLCBcInN0YXRlXCIsIHtcbiAgICAgICAgLyoqIFN1YnNjcmlwdGlvbiBzdGF0ZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZV8xLlN1YnNjcmlwdGlvblN0YXRlLkluaXRpYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEVzdGFibGlzaCBzdWJzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgU3Vic2NyaWJlQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm90IGluIGluaXRpYWwgc3RhdGUuIERpZCB5b3UgY2FsbCBzdWJzY3JpYmUgbW9yZSB0aGFuIG9uY2U/XCIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVxdWVzdCA9IF90aGlzLmNvcmUuc3Vic2NyaWJlKF90aGlzLm1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIFNVQlNDUklCRSByZXF1ZXN0IHdpbGwgYmUgY29uZmlybWVkIHdpdGggYSBmaW5hbCByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAvLyAyMDAtY2xhc3MgcmVzcG9uc2VzIGluZGljYXRlIHRoYXQgdGhlIHN1YnNjcmlwdGlvbiBoYXMgYmVlbiBhY2NlcHRlZFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGF0IGEgTk9USUZZIHJlcXVlc3Qgd2lsbCBiZSBzZW50IGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMVxuICAgICAgICAgICAgICAgIG9uQWNjZXB0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmRlbGVnYXRlICYmIF90aGlzLmRlbGVnYXRlLm9uQWNjZXB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIER1ZSB0byB0aGUgcG90ZW50aWFsIGZvciBvdXQtb2Ytb3JkZXIgbWVzc2FnZXMsIHBhY2tldCBsb3NzLCBhbmRcbiAgICAgICAgICAgICAgICAvLyBmb3JraW5nLCB0aGUgc3Vic2NyaWJlciBNVVNUIGJlIHByZXBhcmVkIHRvIHJlY2VpdmUgTk9USUZZIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBTVUJTQ1JJQkUgdHJhbnNhY3Rpb24gaGFzIGNvbXBsZXRlZC5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS4yLjRcbiAgICAgICAgICAgICAgICBvbk5vdGlmeTogZnVuY3Rpb24gKHJlcXVlc3RXaXRoU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbiA9IHJlcXVlc3RXaXRoU3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9uLmF1dG9SZWZyZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogcmVxdWVzdFdpdGhTdWJzY3JpcHRpb24gfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIFRpbWVyIE4gZXhwaXJlcyBwcmlvciB0byB0aGUgcmVjZWlwdCBvZiBhIE5PVElGWSByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIC8vIHRoZSBzdWJzY3JpYmVyIGNvbnNpZGVycyB0aGUgc3Vic2NyaXB0aW9uIGZhaWxlZCwgYW5kIGNsZWFucyB1cFxuICAgICAgICAgICAgICAgIC8vIGFueSBzdGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHN1YnNjcmlwdGlvbiBhdHRlbXB0LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuNFxuICAgICAgICAgICAgICAgIG9uTm90aWZ5VGltZW91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgZmFpbHVyZToge30gfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBUaGlzIFNVQlNDUklCRSByZXF1ZXN0IHdpbGwgYmUgY29uZmlybWVkIHdpdGggYSBmaW5hbCByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAvLyBOb24tMjAwLWNsYXNzIGZpbmFsIHJlc3BvbnNlcyBpbmRpY2F0ZSB0aGF0IG5vIHN1YnNjcmlwdGlvbiBvciBuZXdcbiAgICAgICAgICAgICAgICAvLyBkaWFsb2cgdXNhZ2UgaGFzIGJlZW4gY3JlYXRlZCwgYW5kIG5vIHN1YnNlcXVlbnQgTk9USUZZIHJlcXVlc3Qgd2lsbFxuICAgICAgICAgICAgICAgIC8vIGJlIHNlbnQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi4xXG4gICAgICAgICAgICAgICAgb25SZWRpcmVjdDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBmYWlsdXJlOiB7IHJlc3BvbnNlOiByZXNwb25zZSB9IH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBTVUJTQ1JJQkUgcmVxdWVzdCB3aWxsIGJlIGNvbmZpcm1lZCB3aXRoIGEgZmluYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgLy8gTm9uLTIwMC1jbGFzcyBmaW5hbCByZXNwb25zZXMgaW5kaWNhdGUgdGhhdCBubyBzdWJzY3JpcHRpb24gb3IgbmV3XG4gICAgICAgICAgICAgICAgLy8gZGlhbG9nIHVzYWdlIGhhcyBiZWVuIGNyZWF0ZWQsIGFuZCBubyBzdWJzZXF1ZW50IE5PVElGWSByZXF1ZXN0IHdpbGxcbiAgICAgICAgICAgICAgICAvLyBiZSBzZW50LlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMVxuICAgICAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGZhaWx1cmU6IHsgcmVzcG9uc2U6IHJlc3BvbnNlIH0gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZUNsaWVudENvbnRleHQ7XG59KCkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG4vKipcbiAqIExlZ2FjeSBUcmFuc3BvcnQuXG4gKiBAcmVtYXJrc1xuICogQWJzdHJhY3QgdHJhbnNwb3J0IGxheWVyIGJhc2UgY2xhc3MuXG4gKiBAcHVibGljXG4gKi9cbnZhciBUcmFuc3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVHJhbnNwb3J0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIGxvZ2dlciAtIExvZ2dlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBEZXByZWNhdGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zcG9ydChsb2dnZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc3BvcnQucHJvdG90eXBlLCBcInByb3RvY29sXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm90b2NvbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogRm9ybWF0dGVkIGFzIGRlZmluZWQgZm9yIHRoZSBWaWEgaGVhZGVyIHNlbnQtcHJvdG9jb2wgdHJhbnNwb3J0LlxuICAgICAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTIwLjQyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlcnZlciAmJiB0aGlzLnNlcnZlci5zY2hlbWUgPyB0aGlzLnNlcnZlci5zY2hlbWUgOiBcIldTU1wiO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9taXNlIGRlc2lnbmF0ZWQgYnkgdGhlIGNoaWxkIGxheWVyIHRoZW4gZW1pdHMgYSBjb25uZWN0ZWQgZXZlbnQuXG4gICAgICogQXV0b21hdGljYWxseSBlbWl0cyBhbiBldmVudCB1cG9uIHJlc29sdXRpb24sIHVubGVzcyBvdmVycmlkZUV2ZW50IGlzIHNldC4gSWYgeW91XG4gICAgICogb3ZlcnJpZGUgdGhlIGV2ZW50IGluIHRoaXMgZmFzaGlvbiwgeW91IHNob3VsZCBlbWl0IGl0IGluIHlvdXIgaW1wbGVtZW50YXRpb24gb2YgY29ubmVjdFByb21pc2VcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RQcm9taXNlKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmICghZGF0YS5vdmVycmlkZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImNvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UgdGhlbiBlbWl0cyBhICdtZXNzYWdlU2VudCcgZXZlbnQuIEF1dG9tYXRpY2FsbHkgZW1pdHMgYW5cbiAgICAgKiBldmVudCB1cG9uIHJlc29sdXRpb24sIHVubGVzcyBkYXRhLm92ZXJyaWRlRXZlbnQgaXMgc2V0LiBJZiB5b3Ugb3ZlcnJpZGVcbiAgICAgKiB0aGUgZXZlbnQgaW4gdGhpcyBmYXNoaW9uLCB5b3Ugc2hvdWxkIGVtaXQgaXQgaW4geW91ciBpbXBsZW1lbnRhdGlvbiBvZiBzZW5kUHJvbWlzZVxuICAgICAqIFJlamVjdHMgd2l0aCBhbiBFcnJvciBpZiBtZXNzYWdlIGZhaWxzIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBNZXNzYWdlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgaXMgaW5kZXBlbmRlbnQgb2Ygd2hldGhlciB0aGUgbWVzc2FnZSB3YXMgYSByZXF1ZXN0IG9yXG4gICAgICAgIC8vIHJlc3BvbnNlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgdHJhbnNwb3J0IHVzZXIgYXNrcyBmb3IgYSBtZXNzYWdlIHRvIGJlIHNlbnQgb3ZlciBhblxuICAgICAgICAvLyB1bnJlbGlhYmxlIHRyYW5zcG9ydCwgYW5kIHRoZSByZXN1bHQgaXMgYW4gSUNNUCBlcnJvciwgdGhlIGJlaGF2aW9yXG4gICAgICAgIC8vIGRlcGVuZHMgb24gdGhlIHR5cGUgb2YgSUNNUCBlcnJvci4gIEhvc3QsIG5ldHdvcmssIHBvcnQgb3IgcHJvdG9jb2xcbiAgICAgICAgLy8gdW5yZWFjaGFibGUgZXJyb3JzLCBvciBwYXJhbWV0ZXIgcHJvYmxlbSBlcnJvcnMgU0hPVUxEIGNhdXNlIHRoZVxuICAgICAgICAvLyB0cmFuc3BvcnQgbGF5ZXIgdG8gaW5mb3JtIHRoZSB0cmFuc3BvcnQgdXNlciBvZiBhIGZhaWx1cmUgaW4gc2VuZGluZy5cbiAgICAgICAgLy8gU291cmNlIHF1ZW5jaCBhbmQgVFRMIGV4Y2VlZGVkIElDTVAgZXJyb3JzIFNIT1VMRCBiZSBpZ25vcmVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgdHJhbnNwb3J0IHVzZXIgYXNrcyBmb3IgYSByZXF1ZXN0IHRvIGJlIHNlbnQgb3ZlciBhIHJlbGlhYmxlXG4gICAgICAgIC8vIHRyYW5zcG9ydCwgYW5kIHRoZSByZXN1bHQgaXMgYSBjb25uZWN0aW9uIGZhaWx1cmUsIHRoZSB0cmFuc3BvcnRcbiAgICAgICAgLy8gbGF5ZXIgU0hPVUxEIGluZm9ybSB0aGUgdHJhbnNwb3J0IHVzZXIgb2YgYSBmYWlsdXJlIGluIHNlbmRpbmcuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTguNFxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUHJvbWlzZShtZXNzYWdlKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0Lm92ZXJyaWRlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwibWVzc2FnZVNlbnRcIiwgcmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvbWlzZSBkZXNpZ25hdGVkIGJ5IHRoZSBjaGlsZCBsYXllciB0aGVuIGVtaXRzIGFcbiAgICAgKiBkaXNjb25uZWN0ZWQgZXZlbnQuIEF1dG9tYXRpY2FsbHkgZW1pdHMgYW4gZXZlbnQgdXBvbiByZXNvbHV0aW9uLFxuICAgICAqIHVubGVzcyBvdmVycmlkZUV2ZW50IGlzIHNldC4gSWYgeW91IG92ZXJyaWRlIHRoZSBldmVudCBpbiB0aGlzIGZhc2hpb24sXG4gICAgICogeW91IHNob3VsZCBlbWl0IGl0IGluIHlvdXIgaW1wbGVtZW50YXRpb24gb2YgZGlzY29ubmVjdFByb21pc2VcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0XG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzY29ubmVjdFByb21pc2Uob3B0aW9ucykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFkYXRhLm92ZXJyaWRlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwiZGlzY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuYWZ0ZXJDb25uZWN0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub25jZShcImNvbm5lY3RlZFwiLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIG9uY2UgdGhlIFVBIGlzIGNvbm5lY3RlZC4gREVQUkVDQVRJT04gV0FSTklORzoganVzdCB1c2UgYWZ0ZXJDb25uZWN0ZWQoKVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUud2FpdEZvckNvbm5lY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKFwiREVQUkVDQVRJT04gV0FSTklORyBUcmFuc3BvcnQud2FpdEZvckNvbm5lY3RlZCgpOiB1c2UgYWZ0ZXJDb25uZWN0ZWQoKSBpbnN0ZWFkXCIpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIF90aGlzLmFmdGVyQ29ubmVjdGVkKHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc3BvcnQ7XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5UcmFuc3BvcnQgPSBUcmFuc3BvcnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbnZhciBDbGllbnRDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9DbGllbnRDb250ZXh0XCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL0V4Y2VwdGlvbnNcIik7XG52YXIgUHVibGlzaENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1B1Ymxpc2hDb250ZXh0XCIpO1xudmFyIFJlZmVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUmVmZXJDb250ZXh0XCIpO1xudmFyIFJlZ2lzdGVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUmVnaXN0ZXJDb250ZXh0XCIpO1xudmFyIFNlcnZlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1NlcnZlckNvbnRleHRcIik7XG52YXIgU2Vzc2lvbl8xID0gcmVxdWlyZShcIi4vU2Vzc2lvblwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG52YXIgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcl8xID0gcmVxdWlyZShcIi4vV2ViL1Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcIik7XG52YXIgVHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi9XZWIvVHJhbnNwb3J0XCIpO1xuLyoqXG4gKiBAY2xhc3MgQ2xhc3MgY3JlYXRpbmcgYSBTSVAgVXNlciBBZ2VudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24gcmV0dXJuaW5nIFNJUC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyfSBbY29uZmlndXJhdGlvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeV1cbiAqICBBIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCBieSBlYWNoIG9mIHRoZSBVQSdzIFNlc3Npb25zIHRvIGJ1aWxkIHRoZSBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyIGZvciB0aGF0IFNlc3Npb24uXG4gKiAgSWYgbm8gKG9yIGEgZmFsc3kpIHZhbHVlIGlzIHByb3ZpZGVkLCBlYWNoIFNlc3Npb24gd2lsbCB1c2UgYSBkZWZhdWx0IChXZWJSVEMpIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuXG4gKi9cbnZhciBVQSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhVQSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBVQShjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBVbmxvYWQgbGlzdGVuZXIuICovXG4gICAgICAgIF90aGlzLnVubG9hZExpc3RlbmVyID0gKGZ1bmN0aW9uICgpIHsgX3RoaXMuc3RvcCgpOyB9KTtcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuVUE7XG4gICAgICAgIF90aGlzLmxvZyA9IG5ldyBjb3JlXzEuTG9nZ2VyRmFjdG9yeSgpO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBfdGhpcy5nZXRMb2dnZXIoXCJzaXAudWFcIik7XG4gICAgICAgIF90aGlzLmNvbmZpZ3VyYXRpb24gPSB7fTtcbiAgICAgICAgLy8gVXNlciBhY3Rpb25zIG91dHNpZGUgYW55IHNlc3Npb24vZGlhbG9nIChNRVNTQUdFKVxuICAgICAgICBfdGhpcy5hcHBsaWNhbnRzID0ge307XG4gICAgICAgIF90aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgX3RoaXMuc2Vzc2lvbnMgPSB7fTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9ucyA9IHt9O1xuICAgICAgICBfdGhpcy5wdWJsaXNoZXJzID0ge307XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX0lOSVQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQHRocm93cyB7U0lQLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yfVxuICAgICAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZ3VyYXRpb24gPT09IFwic3RyaW5nXCIgfHwgY29uZmlndXJhdGlvbiBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgICAgY29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB1cmk6IGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXBwbHkgbG9nIGNvbmZpZ3VyYXRpb24gaWYgcHJlc2VudFxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5sb2cpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZy5idWlsdGluRW5hYmxlZCA9IGNvbmZpZ3VyYXRpb24ubG9nLmJ1aWx0aW5FbmFibGVkO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24ubG9nLmhhc093blByb3BlcnR5KFwiY29ubmVjdG9yXCIpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nLmNvbm5lY3RvciA9IGNvbmZpZ3VyYXRpb24ubG9nLmNvbm5lY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmxvZy5oYXNPd25Qcm9wZXJ0eShcImxldmVsXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gY29uZmlndXJhdGlvbi5sb2cubGV2ZWw7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3YXJuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZCA9IGNvcmVfMS5MZXZlbHMud2FybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsb2dcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5sb2c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVidWdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5kZWJ1ZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy53YXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBjb3JlXzEuTGV2ZWxzLmxvZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY29yZV8xLkxldmVscy5kZWJ1ZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgc2V0dGluZyBsZXZlbCB3aGVuIGludmFsaWQsIHVzZSBkZWZhdWx0IGxldmVsIGluc3RlYWRcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIkludmFsaWQgXFxcImxldmVsXFxcIiBwYXJhbWV0ZXIgdmFsdWU6IFwiICsgSlNPTi5zdHJpbmdpZnkobGV2ZWwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZy5sZXZlbCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkZXByZWNhdGVkTWVzc2FnZSA9IFwiVGhlIFVBIGNsYXNzIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgbm8gbG9uZ2VyIGJlIGF2YWlsYWJsZSBzdGFydGluZyB3aXRoIFNJUC5qcyByZWxlYXNlIDAuMTYuMC4gXCIgK1xuICAgICAgICAgICAgXCJUaGUgVUEgaGFzIGJlZW4gcmVwbGFjZWQgYnkgdGhlIFVzZXJBZ2VudCBjbGFzcy4gUGxlYXNlIHVwZGF0ZSBhY2NvcmRpbmdseS5cIjtcbiAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oZGVwcmVjYXRlZE1lc3NhZ2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgX3RoaXMubG9hZENvbmZpZyhjb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfTk9UX1JFQURZO1xuICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBVQS5DLkNPTkZJR1VSQVRJT05fRVJST1I7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX3RoaXMuY29uZmlndXJhdGlvbi50cmFuc3BvcnRDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmVfMS5UcmFuc3BvcnRFcnJvcihcIlRyYW5zcG9ydCBjb25zdHJ1Y3RvciBub3Qgc2V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnRyYW5zcG9ydCA9IG5ldyBfdGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcG9ydENvbnN0cnVjdG9yKF90aGlzLmdldExvZ2dlcihcInNpcC50cmFuc3BvcnRcIiksIF90aGlzLmNvbmZpZ3VyYXRpb24udHJhbnNwb3J0T3B0aW9ucyk7XG4gICAgICAgIHZhciB1c2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbiA9IG1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQShfdGhpcyk7XG4gICAgICAgIC8vIFRoZSBSZXBsYWNlcyBoZWFkZXIgY29udGFpbnMgaW5mb3JtYXRpb24gdXNlZCB0byBtYXRjaCBhbiBleGlzdGluZ1xuICAgICAgICAvLyBTSVAgZGlhbG9nIChjYWxsLWlkLCB0by10YWcsIGFuZCBmcm9tLXRhZykuICBVcG9uIHJlY2VpdmluZyBhbiBJTlZJVEVcbiAgICAgICAgLy8gd2l0aCBhIFJlcGxhY2VzIGhlYWRlciwgdGhlIFVzZXIgQWdlbnQgKFVBKSBhdHRlbXB0cyB0byBtYXRjaCB0aGlzXG4gICAgICAgIC8vIGluZm9ybWF0aW9uIHdpdGggYSBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9nLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzg5MSNzZWN0aW9uLTNcbiAgICAgICAgdmFyIGhhbmRsZUludml0ZVdpdGhSZXBsYWNlc0hlYWRlciA9IGZ1bmN0aW9uIChjb250ZXh0LCByZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlndXJhdGlvbi5yZXBsYWNlcyAhPT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZXMgPSByZXF1ZXN0LnBhcnNlSGVhZGVyKFwicmVwbGFjZXNcIik7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRTZXNzaW9uID0gX3RoaXMuc2Vzc2lvbnNbcmVwbGFjZXMuY2FsbF9pZCArIHJlcGxhY2VzLnJlcGxhY2VzX2Zyb21fdGFnXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2Vzc2lvbnNbcmVwbGFjZXMuY2FsbF9pZCArIHJlcGxhY2VzLnJlcGxhY2VzX3RvX3RhZ10gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyQWdlbnRDb3JlLnJlcGx5U3RhdGVsZXNzKHJlcXVlc3QsIHsgc3RhdHVzQ29kZTogNDgxIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTZXNzaW9uLnN0YXR1cyA9PT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyQWdlbnRDb3JlLnJlcGx5U3RhdGVsZXNzKHJlcXVlc3QsIHsgc3RhdHVzQ29kZTogNjAzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXREaWFsb2dJZCA9IHJlcGxhY2VzLmNhbGxfaWQgKyByZXBsYWNlcy5yZXBsYWNlc190b190YWcgKyByZXBsYWNlcy5yZXBsYWNlc19mcm9tX3RhZztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldERpYWxvZyA9IF90aGlzLnVzZXJBZ2VudENvcmUuZGlhbG9ncy5nZXQodGFyZ2V0RGlhbG9nSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldERpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudXNlckFnZW50Q29yZS5yZXBseVN0YXRlbGVzcyhyZXF1ZXN0LCB7IHN0YXR1c0NvZGU6IDQ4MSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldERpYWxvZy5lYXJseSAmJiByZXBsYWNlcy5lYXJseV9vbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyQWdlbnRDb3JlLnJlcGx5U3RhdGVsZXNzKHJlcXVlc3QsIHsgc3RhdHVzQ29kZTogNDg2IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVwbGFjZWUgPSB0YXJnZXRTZXNzaW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVzZXJBZ2VudENvcmVEZWxlZ2F0ZSA9IHtcbiAgICAgICAgICAgIG9uSW52aXRlOiBmdW5jdGlvbiAoaW5jb21pbmdJbnZpdGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFBvcnRlZCAtIDEwMCBUcnlpbmcgc2VuZCBzaG91bGQgYmUgY29uZmlndXJhYmxlLlxuICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVxdWlyZWQgaWYgVFUgd2lsbCBub3QgcmVzcG9uZCBpbiAyMDBtcy5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMVxuICAgICAgICAgICAgICAgIGluY29taW5nSW52aXRlUmVxdWVzdC50cnlpbmcoKTtcbiAgICAgICAgICAgICAgICBpbmNvbWluZ0ludml0ZVJlcXVlc3QuZGVsZWdhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9uQ2FuY2VsKGNhbmNlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uVHJhbnNwb3J0RXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vblRyYW5zcG9ydEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IFNlc3Npb25fMS5JbnZpdGVTZXJ2ZXJDb250ZXh0KF90aGlzLCBpbmNvbWluZ0ludml0ZVJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIC8vIFBvcnRlZCAtIGhhbmRsaW5nIG9mIG91dCBvZiBkaWFsb2cgSU5WSVRFIHdpdGggUmVwbGFjZXMuXG4gICAgICAgICAgICAgICAgaGFuZGxlSW52aXRlV2l0aFJlcGxhY2VzSGVhZGVyKGNvbnRleHQsIGluY29taW5nSW52aXRlUmVxdWVzdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBQb3J0ZWQgLSBtYWtlIHRoZSBmaXJzdCBjYWxsIHRvIHByb2dyZXNzIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYXV0b1NlbmRBbkluaXRpYWxQcm92aXNpb25hbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucHJvZ3Jlc3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImludml0ZVwiLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk1lc3NhZ2U6IGZ1bmN0aW9uIChpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gUG9ydGVkIC0gaGFuZGxpbmcgb2Ygb3V0IG9mIGRpYWxvZyBNRVNTQUdFLlxuICAgICAgICAgICAgICAgIHZhciBzZXJ2ZXJDb250ZXh0ID0gbmV3IFNlcnZlckNvbnRleHRfMS5TZXJ2ZXJDb250ZXh0KF90aGlzLCBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LmJvZHkgPSBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0Lm1lc3NhZ2UuYm9keTtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LmNvbnRlbnRUeXBlID0gaW5jb21pbmdNZXNzYWdlUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSB8fCBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgICAgICAgICBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJtZXNzYWdlXCIsIHNlcnZlckNvbnRleHQpOyAvLyBUT0RPOiBSZXZpZXcuIFdoeSBpcyBhIFwiU2VydmVyQ29udGV4dFwiIGVtaXR0ZWQ/IFdoYXQgdXNlIGl0IGlzP1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTm90aWZ5OiBmdW5jdGlvbiAoaW5jb21pbmdOb3RpZnlSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gREVQUkVDQVRFRDogT3V0IG9mIGRpYWxvZyBOT1RJRlkgaXMgYW4gb2Jzb2xldGUgdXNhZ2UuXG4gICAgICAgICAgICAgICAgLy8gUG9ydGVkIC0gaGFuZGxpbmcgb2Ygb3V0IG9mIGRpYWxvZyBOT1RJRlkuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZ3VyYXRpb24uYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zICYmIF90aGlzLmxpc3RlbmVycyhcIm5vdGlmeVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY29taW5nTm90aWZ5UmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcIm5vdGlmeVwiLCB7IHJlcXVlc3Q6IGluY29taW5nTm90aWZ5UmVxdWVzdC5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21pbmdOb3RpZnlSZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4MSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWZlcjogZnVuY3Rpb24gKGluY29taW5nUmVmZXJSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gUG9ydGVkIC0gaGFuZGxpbmcgb2Ygb3V0IG9mIGRpYWxvZyBSRUZFUi5cbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiUmVjZWl2ZWQgYW4gb3V0IG9mIGRpYWxvZyByZWZlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNvbmZpZ3VyYXRpb24uYWxsb3dPdXRPZkRpYWxvZ1JlZmVycykge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbWluZ1JlZmVyUmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiA0MDUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJBbGxvdyBvdXQgb2YgZGlhbG9nIHJlZmVycyBpcyBlbmFibGVkIG9uIHRoZSBVQVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmZXJDb250ZXh0ID0gbmV3IFJlZmVyQ29udGV4dF8xLlJlZmVyU2VydmVyQ29udGV4dChfdGhpcywgaW5jb21pbmdSZWZlclJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5saXN0ZW5lcnMoXCJvdXRPZkRpYWxvZ1JlZmVyUmVxdWVzdGVkXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwib3V0T2ZEaWFsb2dSZWZlclJlcXVlc3RlZFwiLCByZWZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIk5vIG91dE9mRGlhbG9nUmVmZXJSZXF1ZXN0IGxpc3RlbmVycywgYXV0b21hdGljYWxseSBhY2NlcHRpbmcgYW5kIGZvbGxvd2luZyB0aGUgb3V0IG9mIGRpYWxvZyByZWZlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJDb250ZXh0LmFjY2VwdCh7IGZvbGxvd1JlZmVyOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblN1YnNjcmliZTogZnVuY3Rpb24gKGluY29taW5nU3Vic2NyaWJlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJzdWJzY3JpYmVcIiwgaW5jb21pbmdTdWJzY3JpYmVSZXF1ZXN0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnVzZXJBZ2VudENvcmUgPSBuZXcgY29yZV8xLlVzZXJBZ2VudENvcmUodXNlckFnZW50Q29yZUNvbmZpZ3VyYXRpb24sIHVzZXJBZ2VudENvcmVEZWxlZ2F0ZSk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgcmVnaXN0ZXJDb250ZXh0XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyQ29udGV4dCA9IG5ldyBSZWdpc3RlckNvbnRleHRfMS5SZWdpc3RlckNvbnRleHQoX3RoaXMsIGNvbmZpZ3VyYXRpb24ucmVnaXN0ZXJPcHRpb25zKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJDb250ZXh0Lm9uKFwiZmFpbGVkXCIsIF90aGlzLmVtaXQuYmluZChfdGhpcywgXCJyZWdpc3RyYXRpb25GYWlsZWRcIikpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlckNvbnRleHQub24oXCJyZWdpc3RlcmVkXCIsIF90aGlzLmVtaXQuYmluZChfdGhpcywgXCJyZWdpc3RlcmVkXCIpKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJDb250ZXh0Lm9uKFwidW5yZWdpc3RlcmVkXCIsIF90aGlzLmVtaXQuYmluZChfdGhpcywgXCJ1bnJlZ2lzdGVyZWRcIikpO1xuICAgICAgICBpZiAoX3RoaXMuY29uZmlndXJhdGlvbi5hdXRvc3RhcnQpIHtcbiAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICAgIC8vICBIaWdoIExldmVsIEFQSVxuICAgIC8vID09PT09PT09PT09PT09PT09XG4gICAgVUEucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmVnaXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5yZWdpc3RlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbnRleHQucmVnaXN0ZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3Rlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbF0gdW5yZWdpc3RlciBhbGwgdXNlciBiaW5kaW5ncy5cbiAgICAgKlxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnJlZ2lzdGVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmFmdGVyQ29ubmVjdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJlZ2lzdGVyQ29udGV4dC51bnJlZ2lzdGVyKG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBVQS5wcm90b3R5cGUuaXNSZWdpc3RlcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlckNvbnRleHQucmVnaXN0ZXJlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gb3V0Z29pbmcgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmlld3NcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubWVkaWFdIGdldHMgcGFzc2VkIHRvIFNJUC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmdldERlc2NyaXB0aW9uIGFzIG1lZGlhSGludFxuICAgICAqXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICAqXG4gICAgICovXG4gICAgVUEucHJvdG90eXBlLmludml0ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMsIG1vZGlmaWVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBTZXNzaW9uXzEuSW52aXRlQ2xpZW50Q29udGV4dCh0aGlzLCB0YXJnZXQsIG9wdGlvbnMsIG1vZGlmaWVycyk7XG4gICAgICAgIC8vIERlbGF5IHNlbmRpbmcgYWN0dWFsIGludml0ZSB1bnRpbCB0aGUgbmV4dCAndGljaycgaWYgd2UgYXJlIGFscmVhZHlcbiAgICAgICAgLy8gY29ubmVjdGVkLCBzbyB0aGF0IEFQSSBjb25zdW1lcnMgY2FuIHJlZ2lzdGVyIHRvIGV2ZW50cyBmaXJlZCBieSB0aGVcbiAgICAgICAgLy8gdGhlIHNlc3Npb24uXG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmFmdGVyQ29ubmVjdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnRleHQuaW52aXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiaW52aXRlU2VudFwiLCBjb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG4gICAgVUEucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKHRoaXMsIHRhcmdldCwgZXZlbnQsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5hZnRlckNvbm5lY3RlZChmdW5jdGlvbiAoKSB7IHJldHVybiBzdWIuc3Vic2NyaWJlKCk7IH0pO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBQVUJMSVNIIEV2ZW50IFN0YXRlIFB1YmxpY2F0aW9uIChSRkMzOTAzKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRhcmdldFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBib2R5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqXG4gICAgICogQHRocm93cyB7U0lQLkV4Y2VwdGlvbnMuTWV0aG9kUGFyYW1ldGVyRXJyb3J9XG4gICAgICovXG4gICAgVUEucHJvdG90eXBlLnB1Ymxpc2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcHViID0gbmV3IFB1Ymxpc2hDb250ZXh0XzEuUHVibGlzaENvbnRleHQodGhpcywgdGFyZ2V0LCBldmVudCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmFmdGVyQ29ubmVjdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHB1Yi5wdWJsaXNoKGJvZHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHB1YjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRhcmdldFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBib2R5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24gKHRhcmdldCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gTWVzc2FnZSBtb2R1bGUsIHNvIGl0IGlzIG9rYXkgdGhhdCB0aGUgVUEgaGFuZGxlcyBkZWZhdWx0cyBoZXJlLlxuICAgICAgICBvcHRpb25zLmNvbnRlbnRUeXBlID0gb3B0aW9ucy5jb250ZW50VHlwZSB8fCBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgb3B0aW9ucy5ib2R5ID0gYm9keTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChDb25zdGFudHNfMS5DLk1FU1NBR0UsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBVQS5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVxID0gbmV3IENsaWVudENvbnRleHRfMS5DbGllbnRDb250ZXh0KHRoaXMsIG1ldGhvZCwgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQuYWZ0ZXJDb25uZWN0ZWQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVxLnNlbmQoKTsgfSk7XG4gICAgICAgIHJldHVybiByZXE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHcmFjZWZ1bGx5IGNsb3NlLlxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJ1c2VyIHJlcXVlc3RlZCBjbG9zdXJlLi4uXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX1VTRVJfQ0xPU0VEKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVUEgYWxyZWFkeSBjbG9zZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBDbG9zZSByZWdpc3RlckNvbnRleHRcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiY2xvc2luZyByZWdpc3RlckNvbnRleHRcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb250ZXh0LmNsb3NlKCk7XG4gICAgICAgIC8vIFJ1biB0ZXJtaW5hdGUgb24gZXZlcnkgU2Vzc2lvblxuICAgICAgICBmb3IgKHZhciBzZXNzaW9uIGluIHRoaXMuc2Vzc2lvbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25zW3Nlc3Npb25dKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiY2xvc2luZyBzZXNzaW9uIFwiICsgc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uc1tzZXNzaW9uXS50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSdW4gdW5zdWJzY3JpYmUgb24gZXZlcnkgU3Vic2NyaXB0aW9uXG4gICAgICAgIGZvciAodmFyIHN1YnNjcmlwdGlvbiBpbiB0aGlzLnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnNbc3Vic2NyaXB0aW9uXSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInVuc3Vic2NyaWJlIFwiICsgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNbc3Vic2NyaXB0aW9uXS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBjbG9zZSBvbiBldmVyeSBQdWJsaXNoZXJcbiAgICAgICAgZm9yICh2YXIgcHVibGlzaGVyIGluIHRoaXMucHVibGlzaGVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMucHVibGlzaGVyc1twdWJsaXNoZXJdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwidW5wdWJsaXNoIFwiICsgcHVibGlzaGVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlcnNbcHVibGlzaGVyXS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBjbG9zZSBvbiBldmVyeSBhcHBsaWNhbnRcbiAgICAgICAgZm9yICh2YXIgYXBwbGljYW50IGluIHRoaXMuYXBwbGljYW50cykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXBwbGljYW50c1thcHBsaWNhbnRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBsaWNhbnRzW2FwcGxpY2FudF0uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1cyA9IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX1VTRVJfQ0xPU0VEO1xuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSB0cmFuc3BvcnQgYW5kIHJlc2V0IHVzZXIgYWdlbnQgY29yZVxuICAgICAgICB0aGlzLnRyYW5zcG9ydC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMudXNlckFnZW50Q29yZS5yZXNldCgpO1xuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmF1dG9zdG9wKSB7XG4gICAgICAgICAgICAvLyBHb29nbGUgQ2hyb21lIFBhY2thZ2VkIEFwcHMgZG9uJ3QgYWxsb3cgJ3VubG9hZCcgbGlzdGVuZXJzOiB1bmxvYWQgaXMgbm90IGF2YWlsYWJsZSBpbiBwYWNrYWdlZCBhcHBzXG4gICAgICAgICAgICB2YXIgZ29vZ2xlQ2hyb21lUGFja2FnZWRBcHAgPSB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZS5hcHAgJiYgY2hyb21lLmFwcC5ydW50aW1lID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgICFnb29nbGVDaHJvbWVQYWNrYWdlZEFwcCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsIHRoaXMudW5sb2FkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgV1Mgc2VydmVyIGlmIHN0YXR1cyA9IFNUQVRVU19JTklULlxuICAgICAqIFJlc3VtZSBVQSBhZnRlciBiZWluZyBjbG9zZWQuXG4gICAgICpcbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInVzZXIgcmVxdWVzdGVkIHN0YXJ0dXAuLi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfSU5JVCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlVBU3RhdHVzLlNUQVRVU19TVEFSVElORztcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNwb3J0TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJ0cmFuc3BvcnRDcmVhdGVkXCIsIHRoaXMudHJhbnNwb3J0KTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfVVNFUl9DTE9TRUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInJlc3VtaW5nXCIpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBFbnVtc18xLlVBU3RhdHVzLlNUQVRVU19SRUFEWTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfU1RBUlRJTkcpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlVBIGlzIGluIFNUQVJUSU5HIHN0YXR1cywgbm90IG9wZW5pbmcgbmV3IGNvbm5lY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IEVudW1zXzEuVUFTdGF0dXMuU1RBVFVTX1JFQURZKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJVQSBpcyBpbiBSRUFEWSBzdGF0dXMsIG5vdCByZXN1bWluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQ29ubmVjdGlvbiBpcyBkb3duLiBBdXRvLVJlY292ZXJ5IHN5c3RlbSBpcyB0cnlpbmcgdG8gY29ubmVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmF1dG9zdG9wKSB7XG4gICAgICAgICAgICAvLyBHb29nbGUgQ2hyb21lIFBhY2thZ2VkIEFwcHMgZG9uJ3QgYWxsb3cgJ3VubG9hZCcgbGlzdGVuZXJzOiB1bmxvYWQgaXMgbm90IGF2YWlsYWJsZSBpbiBwYWNrYWdlZCBhcHBzXG4gICAgICAgICAgICB2YXIgZ29vZ2xlQ2hyb21lUGFja2FnZWRBcHAgPSB0eXBlb2YgY2hyb21lICE9PSBcInVuZGVmaW5lZFwiICYmIGNocm9tZS5hcHAgJiYgY2hyb21lLmFwcC5ydW50aW1lID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgICFnb29nbGVDaHJvbWVQYWNrYWdlZEFwcCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsIHRoaXMudW5sb2FkTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIGEgc3RyaW5nIGludG8gYSB2YWxpZCBTSVAgcmVxdWVzdCBVUklcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTSVAuVVJJfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUubm9ybWFsaXplVGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gVXRpbHNfMS5VdGlscy5ub3JtYWxpemVUYXJnZXQodGFyZ2V0LCB0aGlzLmNvbmZpZ3VyYXRpb24uaG9zdHBvcnRQYXJhbXMpO1xuICAgIH07XG4gICAgVUEucHJvdG90eXBlLmdldExvZ2dlciA9IGZ1bmN0aW9uIChjYXRlZ29yeSwgbGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nLmdldExvZ2dlcihjYXRlZ29yeSwgbGFiZWwpO1xuICAgIH07XG4gICAgVUEucHJvdG90eXBlLmdldExvZ2dlckZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZztcbiAgICB9O1xuICAgIFVBLnByb3RvdHlwZS5nZXRTdXBwb3J0ZWRSZXNwb25zZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25UYWdzID0gW107XG4gICAgICAgIGlmICh0aGlzLmNvbnRhY3QucHViR3J1dSB8fCB0aGlzLmNvbnRhY3QudGVtcEdydXUpIHtcbiAgICAgICAgICAgIG9wdGlvblRhZ3MucHVzaChcImdydXVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5yZWwxMDAgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwiMTAwcmVsXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24ucmVwbGFjZXMgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwicmVwbGFjZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwib3V0Ym91bmRcIik7XG4gICAgICAgIG9wdGlvblRhZ3MgPSBvcHRpb25UYWdzLmNvbmNhdCh0aGlzLmNvbmZpZ3VyYXRpb24uZXh0cmFTdXBwb3J0ZWQgfHwgW10pO1xuICAgICAgICB2YXIgYWxsb3dVbnJlZ2lzdGVyZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncyB8fCBmYWxzZTtcbiAgICAgICAgdmFyIG9wdGlvblRhZ1NldCA9IHt9O1xuICAgICAgICBvcHRpb25UYWdzID0gb3B0aW9uVGFncy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvblRhZykge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWQgPSBDb25zdGFudHNfMS5DLk9QVElPTl9UQUdTW29wdGlvblRhZ107XG4gICAgICAgICAgICB2YXIgdW5pcXVlID0gIW9wdGlvblRhZ1NldFtvcHRpb25UYWddO1xuICAgICAgICAgICAgb3B0aW9uVGFnU2V0W29wdGlvblRhZ10gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIChyZWdpc3RlcmVkIHx8IGFsbG93VW5yZWdpc3RlcmVkKSAmJiB1bmlxdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vzc2lvbiB0byB3aGljaCB0aGUgcmVxdWVzdCBiZWxvbmdzIHRvLCBpZiBhbnkuXG4gICAgICogQHBhcmFtIHtTSVAuSW5jb21pbmdSZXF1ZXN0fSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIHtTSVAuT3V0Z29pbmdTZXNzaW9ufFNJUC5JbmNvbWluZ1Nlc3Npb258dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5maW5kU2Vzc2lvbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25zW3JlcXVlc3QuY2FsbElkICsgcmVxdWVzdC5mcm9tVGFnXSB8fFxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uc1tyZXF1ZXN0LmNhbGxJZCArIHJlcXVlc3QudG9UYWddIHx8XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBVQS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7IH07XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gRXZlbnQgSGFuZGxlcnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBVQS5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBFbnVtc18xLlVBU3RhdHVzLlNUQVRVU19VU0VSX0NMT1NFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5lcnJvciB8fCB0aGlzLmVycm9yICE9PSBVQS5DLk5FVFdPUktfRVJST1IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfTk9UX1JFQURZO1xuICAgICAgICAgICAgdGhpcy5lcnJvciA9IFVBLkMuTkVUV09SS19FUlJPUjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uLiBTZXRzIHRyYW5zcG9ydCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUuc2V0VHJhbnNwb3J0TGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vbihcImNvbm5lY3RlZFwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vblRyYW5zcG9ydENvbm5lY3RlZCgpOyB9KTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQub24oXCJtZXNzYWdlXCIsIGZ1bmN0aW9uIChtZXNzYWdlKSB7IHJldHVybiBfdGhpcy5vblRyYW5zcG9ydFJlY2VpdmVNc2cobWVzc2FnZSk7IH0pO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5vbihcInRyYW5zcG9ydEVycm9yXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uVHJhbnNwb3J0RXJyb3IoKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc3BvcnQgY29ubmVjdGlvbiBldmVudC5cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge1NJUC5UcmFuc3BvcnR9IHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBVQS5wcm90b3R5cGUub25UcmFuc3BvcnRDb25uZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24ucmVnaXN0ZXIpIHtcbiAgICAgICAgICAgIC8vIEluIGFuIGVmZm9yIHRvIG1haW50YWluIGJlaGF2aW9yIGZyb20gd2hlbiB3ZSBcImluaXRpYWxpemVkXCIgYW5cbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIGZhY3RvcnksIHRoaXMgaXMgaW4gYSBQcm9taXNlLnRoZW5cbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVnaXN0ZXJDb250ZXh0LnJlZ2lzdGVyKCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgU0lQIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB0aGUgdHJhbnNwb3J0LlxuICAgICAqIEBwYXJhbSBtZXNzYWdlU3RyaW5nIFRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5vblRyYW5zcG9ydFJlY2VpdmVNc2cgPSBmdW5jdGlvbiAobWVzc2FnZVN0cmluZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGNvcmVfMS5QYXJzZXIucGFyc2VNZXNzYWdlKG1lc3NhZ2VTdHJpbmcsIHRoaXMuZ2V0TG9nZ2VyKFwic2lwLnBhcnNlclwiKSk7XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlVBIGZhaWxlZCB0byBwYXJzZSBpbmNvbWluZyBTSVAgbWVzc2FnZSAtIGRpc2NhcmRpbmcuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gRW51bXNfMS5VQVN0YXR1cy5TVEFUVVNfVVNFUl9DTE9TRUQgJiYgbWVzc2FnZSBpbnN0YW5jZW9mIGNvcmVfMS5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVUEgcmVjZWl2ZWQgbWVzc2FnZSB3aGVuIHN0YXR1cyA9IFVTRVJfQ0xPU0VEIC0gYWJvcnRpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSB2YWxpZCBTSVAgcmVxdWVzdCBmb3JtdWxhdGVkIGJ5IGEgVUFDIE1VU1QsIGF0IGEgbWluaW11bSwgY29udGFpblxuICAgICAgICAvLyB0aGUgZm9sbG93aW5nIGhlYWRlciBmaWVsZHM6IFRvLCBGcm9tLCBDU2VxLCBDYWxsLUlELCBNYXgtRm9yd2FyZHMsXG4gICAgICAgIC8vIGFuZCBWaWE7IGFsbCBvZiB0aGVzZSBoZWFkZXIgZmllbGRzIGFyZSBtYW5kYXRvcnkgaW4gYWxsIFNJUFxuICAgICAgICAvLyByZXF1ZXN0cy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMVxuICAgICAgICB2YXIgaGFzTWluaW11bUhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWFuZGF0b3J5SGVhZGVycyA9IFtcImZyb21cIiwgXCJ0b1wiLCBcImNhbGxfaWRcIiwgXCJjc2VxXCIsIFwidmlhXCJdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtYW5kYXRvcnlIZWFkZXJzXzEgPSBtYW5kYXRvcnlIZWFkZXJzOyBfaSA8IG1hbmRhdG9yeUhlYWRlcnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyID0gbWFuZGF0b3J5SGVhZGVyc18xW19pXTtcbiAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UuaGFzSGVhZGVyKGhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJNaXNzaW5nIG1hbmRhdG9yeSBoZWFkZXIgZmllbGQgOiBcIiArIGhlYWRlciArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBSZXF1ZXN0IENoZWNrc1xuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIGNvcmVfMS5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2subWluaW11bUhlYWRlcnMoKS5cbiAgICAgICAgICAgIGlmICghaGFzTWluaW11bUhlYWRlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJSZXF1ZXN0IG1pc3NpbmcgbWFuZGF0b3J5IGhlYWRlciBmaWVsZC4gRHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIG5vbi1zdGFuZGFyZCBhbmQgc2hvdWxkIGJlIGEgY29uZmlncnVhYmxlIGJlaGF2aW9yIChkZXNpcmFibGUgcmVnYXJkbGVzcykuXG4gICAgICAgICAgICAvLyBDdXN0b20gU0lQLmpzIGNoZWNrIHRvIHJlamVjdCByZXF1ZXN0IGZyb20gb3Vyc2VsZiAodGhpcyBpbnN0YW5jZSBvZiBTSVAuanMpLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBwb3J0IG9mIFNhbml0eUNoZWNrLnJmYzMyNjFfMTZfM180KCkuXG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UudG9UYWcgJiYgbWVzc2FnZS5jYWxsSWQuc3Vic3RyKDAsIDUpID09PSB0aGlzLmNvbmZpZ3VyYXRpb24uc2lwanNJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlckFnZW50Q29yZS5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQ4MiB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGSVhNRTogVGhpcyBzaG91bGQgYmUgVHJhbnNwb3J0IGNoZWNrIGJlZm9yZSB3ZSBnZXQgaGVyZSAoU2VjdGlvbiAxOCkuXG4gICAgICAgICAgICAvLyBDdXN0b20gU0lQLmpzIGNoZWNrIHRvIHJlamVjdCByZXF1ZXN0cyBpZiBib2R5IGxlbmd0aCB3cm9uZy5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgcG9ydCBvZiBTYW5pdHlDaGVjay5yZmMzMjYxXzE4XzNfcmVxdWVzdCgpLlxuICAgICAgICAgICAgdmFyIGxlbiA9IFV0aWxzXzEuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKG1lc3NhZ2UuYm9keSk7XG4gICAgICAgICAgICB2YXIgY29udGVudExlbmd0aCA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiY29udGVudC1sZW5ndGhcIik7XG4gICAgICAgICAgICBpZiAoY29udGVudExlbmd0aCAmJiBsZW4gPCBOdW1iZXIoY29udGVudExlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJBZ2VudENvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0MDAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlcG9uc2UgQ2hlY2tzXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgY29yZV8xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2subWluaW11bUhlYWRlcnMoKS5cbiAgICAgICAgICAgIGlmICghaGFzTWluaW11bUhlYWRlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJSZXNwb25zZSBtaXNzaW5nIG1hbmRhdG9yeSBoZWFkZXIgZmllbGQuIERyb3BwaW5nLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDdXN0b20gU0lQLmpzIGNoZWNrIHRvIGRyb3AgcmVzcG9uc2VzIGlmIG11bHRpcGxlIFZpYSBoZWFkZXJzLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBwb3J0IG9mIFNhbml0eUNoZWNrLnJmYzMyNjFfOF8xXzNfMygpLlxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZ2V0SGVhZGVycyhcInZpYVwiKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk1vcmUgdGhhbiBvbmUgVmlhIGhlYWRlciBmaWVsZCBwcmVzZW50IGluIHRoZSByZXNwb25zZS4gRHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZJWE1FOiBUaGlzIHNob3VsZCBiZSBUcmFuc3BvcnQgY2hlY2sgYmVmb3JlIHdlIGdldCBoZXJlIChTZWN0aW9uIDE4KS5cbiAgICAgICAgICAgIC8vIEN1c3RvbSBTSVAuanMgY2hlY2sgdG8gZHJvcCByZXNwb25zZXMgaWYgYmFkIFZpYSBoZWFkZXIuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2sucmZjMzI2MV8xOF8xXzIoKS5cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnZpYS5ob3N0ICE9PSB0aGlzLmNvbmZpZ3VyYXRpb24udmlhSG9zdCB8fCBtZXNzYWdlLnZpYS5wb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVmlhIHNlbnQtYnkgaW4gdGhlIHJlc3BvbnNlIGRvZXMgbm90IG1hdGNoIFVBIFZpYSBob3N0IHZhbHVlLiBEcm9wcGluZy5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRklYTUU6IFRoaXMgc2hvdWxkIGJlIFRyYW5zcG9ydCBjaGVjayBiZWZvcmUgd2UgZ2V0IGhlcmUgKFNlY3Rpb24gMTgpLlxuICAgICAgICAgICAgLy8gQ3VzdG9tIFNJUC5qcyBjaGVjayB0byByZWplY3QgcmVxdWVzdHMgaWYgYm9keSBsZW5ndGggd3JvbmcuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHBvcnQgb2YgU2FuaXR5Q2hlY2sucmZjMzI2MV8xOF8zX3Jlc3BvbnNlKCkuXG4gICAgICAgICAgICB2YXIgbGVuID0gVXRpbHNfMS5VdGlscy5zdHJfdXRmOF9sZW5ndGgobWVzc2FnZS5ib2R5KTtcbiAgICAgICAgICAgIHZhciBjb250ZW50TGVuZ3RoID0gbWVzc2FnZS5nZXRIZWFkZXIoXCJjb250ZW50LWxlbmd0aFwiKTtcbiAgICAgICAgICAgIGlmIChjb250ZW50TGVuZ3RoICYmIGxlbiA8IE51bWJlcihjb250ZW50TGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJNZXNzYWdlIGJvZHkgbGVuZ3RoIGlzIGxvd2VyIHRoYW4gdGhlIHZhbHVlIGluIENvbnRlbnQtTGVuZ3RoIGhlYWRlciBmaWVsZC4gRHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgUmVxdWVzdFxuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIGNvcmVfMS5JbmNvbWluZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJBZ2VudENvcmUucmVjZWl2ZUluY29taW5nUmVxdWVzdEZyb21UcmFuc3BvcnQobWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIFJlc3BvbnNlXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgY29yZV8xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJBZ2VudENvcmUucmVjZWl2ZUluY29taW5nUmVzcG9uc2VGcm9tVHJhbnNwb3J0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZSB0eXBlLlwiKTtcbiAgICB9O1xuICAgIC8vID09PT09PT09PT09PT09PT09XG4gICAgLy8gVXRpbHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuICAgIFVBLnByb3RvdHlwZS5jaGVja0F1dGhlbnRpY2F0aW9uRmFjdG9yeSA9IGZ1bmN0aW9uIChhdXRoZW50aWNhdGlvbkZhY3RvcnkpIHtcbiAgICAgICAgaWYgKCEoYXV0aGVudGljYXRpb25GYWN0b3J5IGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhdXRoZW50aWNhdGlvbkZhY3RvcnkuaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb25GYWN0b3J5LmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXV0aGVudGljYXRpb25GYWN0b3J5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBsb2FkLlxuICAgICAqIHJldHVybnMge3ZvaWR9XG4gICAgICovXG4gICAgVUEucHJvdG90eXBlLmxvYWRDb25maWcgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTZXR0aW5ncyBhbmQgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgdmFyIHNldHRpbmdzID0ge1xuICAgICAgICAgICAgLyogSG9zdCBhZGRyZXNzXG4gICAgICAgICAgICAgKiBWYWx1ZSB0byBiZSBzZXQgaW4gVmlhIHNlbnRfYnkgYW5kIGhvc3QgcGFydCBvZiBDb250YWN0IEZRRE5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmlhSG9zdDogVXRpbHNfMS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbigxMikgKyBcIi5pbnZhbGlkXCIsXG4gICAgICAgICAgICB1cmk6IG5ldyBjb3JlXzEuVVJJKFwic2lwXCIsIFwiYW5vbnltb3VzLlwiICsgVXRpbHNfMS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbig2KSwgXCJhbm9ueW1vdXMuaW52YWxpZFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCksXG4gICAgICAgICAgICAvLyBDdXN0b20gQ29uZmlndXJhdGlvbiBTZXR0aW5nc1xuICAgICAgICAgICAgY3VzdG9tOiB7fSxcbiAgICAgICAgICAgIC8vIERpc3BsYXkgbmFtZVxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwiXCIsXG4gICAgICAgICAgICAvLyBQYXNzd29yZFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlZ2lzdGVyOiB0cnVlLFxuICAgICAgICAgICAgLy8gUmVnaXN0cmF0aW9uIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIHJlZ2lzdGVyT3B0aW9uczoge30sXG4gICAgICAgICAgICAvLyBUcmFuc3BvcnQgcmVsYXRlZCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICB0cmFuc3BvcnRDb25zdHJ1Y3RvcjogVHJhbnNwb3J0XzEuVHJhbnNwb3J0LFxuICAgICAgICAgICAgdHJhbnNwb3J0T3B0aW9uczoge30sXG4gICAgICAgICAgICB1c2VQcmVsb2FkZWRSb3V0ZTogZmFsc2UsXG4gICAgICAgICAgICAvLyBzdHJpbmcgdG8gYmUgaW5zZXJ0ZWQgaW50byBVc2VyLUFnZW50IHJlcXVlc3QgaGVhZGVyXG4gICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IENvbnN0YW50c18xLkMuVVNFUl9BR0VOVCxcbiAgICAgICAgICAgIC8vIFNlc3Npb24gcGFyYW1ldGVyc1xuICAgICAgICAgICAgbm9BbnN3ZXJUaW1lb3V0OiA2MCxcbiAgICAgICAgICAgIC8vIEhhY2tzXG4gICAgICAgICAgICBoYWNrVmlhVGNwOiBmYWxzZSxcbiAgICAgICAgICAgIGhhY2tJcEluQ29udGFjdDogZmFsc2UsXG4gICAgICAgICAgICBoYWNrV3NzSW5UcmFuc3BvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFnczogZmFsc2UsXG4gICAgICAgICAgICAvLyBTZXNzaW9uIERlc2NyaXB0aW9uIEhhbmRsZXIgT3B0aW9uc1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludHM6IHt9LFxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uT3B0aW9uczoge31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHRyYVN1cHBvcnRlZDogW10sXG4gICAgICAgICAgICBjb250YWN0TmFtZTogVXRpbHNfMS5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbig4KSxcbiAgICAgICAgICAgIGNvbnRhY3RUcmFuc3BvcnQ6IFwid3NcIixcbiAgICAgICAgICAgIGZvcmNlUnBvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgLy8gYXV0b3N0YXJ0aW5nXG4gICAgICAgICAgICBhdXRvc3RhcnQ6IHRydWUsXG4gICAgICAgICAgICBhdXRvc3RvcDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIFJlbGlhYmxlIFByb3Zpc2lvbmFsIFJlc3BvbnNlc1xuICAgICAgICAgICAgcmVsMTAwOiBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5VTlNVUFBPUlRFRCxcbiAgICAgICAgICAgIC8vIERUTUYgdHlwZTogJ2luZm8nIG9yICdydHAnIChSRkMgNDczMylcbiAgICAgICAgICAgIC8vIFJUUCBQYXlsb2FkIFNwZWM6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0NzMzXG4gICAgICAgICAgICAvLyBXZWJSVEMgQXVkaW8gU3BlYzogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc4NzRcbiAgICAgICAgICAgIGR0bWZUeXBlOiBDb25zdGFudHNfMS5DLmR0bWZUeXBlLklORk8sXG4gICAgICAgICAgICAvLyBSZXBsYWNlcyBoZWFkZXIgKFJGQyAzODkxKVxuICAgICAgICAgICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzg5MVxuICAgICAgICAgICAgcmVwbGFjZXM6IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlVOU1VQUE9SVEVELFxuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3Rvcnk6IFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJfMS5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmRlZmF1bHRGYWN0b3J5LFxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25GYWN0b3J5OiB0aGlzLmNoZWNrQXV0aGVudGljYXRpb25GYWN0b3J5KGZ1bmN0aW9uICh1YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgY29yZV8xLkRpZ2VzdEF1dGhlbnRpY2F0aW9uKHVhLmdldExvZ2dlckZhY3RvcnkoKSwgX3RoaXMuY29uZmlndXJhdGlvbi5hdXRob3JpemF0aW9uVXNlciwgX3RoaXMuY29uZmlndXJhdGlvbi5wYXNzd29yZCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGFsbG93TGVnYWN5Tm90aWZpY2F0aW9uczogZmFsc2UsXG4gICAgICAgICAgICBhbGxvd091dE9mRGlhbG9nUmVmZXJzOiBmYWxzZSxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbEZlYXR1cmVzOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29uZmlnQ2hlY2sgPSB0aGlzLmdldENvbmZpZ3VyYXRpb25DaGVjaygpO1xuICAgICAgICAvLyBDaGVjayBNYW5kYXRvcnkgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2subWFuZGF0b3J5KSB7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IocGFyYW1ldGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ3VyYXRpb25bcGFyYW1ldGVyXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2subWFuZGF0b3J5W3BhcmFtZXRlcl0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1twYXJhbWV0ZXJdID0gY2hlY2tlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgT3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2sub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWd1cmF0aW9uW3BhcmFtZXRlcl07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSwgYnV0IHNob3VsZG4ndCBiZSwgYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBudWxsLCBlbXB0eSBzdHJpbmcsIG9yIHVuZGVmaW5lZCB0aGVuIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBudW1iZXIgd2l0aCBOYU4gdmFsdWUgdGhlbiBhbHNvIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IEpTIGRvZXMgbm90IGFsbG93IFwidmFsdWUgPT09IE5hTlwiLCB0aGUgZm9sbG93aW5nIGRvZXMgdGhlIHdvcms6XG4gICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJudW1iZXJcIiAmJiBpc05hTih2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2sub3B0aW9uYWxbcGFyYW1ldGVyXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQb3N0IENvbmZpZ3VyYXRpb24gUHJvY2Vzc1xuICAgICAgICAvLyBBbGxvdyBwYXNzaW5nIDAgbnVtYmVyIGFzIGRpc3BsYXlOYW1lLlxuICAgICAgICBpZiAoc2V0dGluZ3MuZGlzcGxheU5hbWUgPT09IDApIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmRpc3BsYXlOYW1lID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2lwanNJZCBpbnN0YW5jZSBwYXJhbWV0ZXIuIFN0YXRpYyByYW5kb20gdGFnIG9mIGxlbmd0aCA1XG4gICAgICAgIHNldHRpbmdzLnNpcGpzSWQgPSBVdGlsc18xLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDUpO1xuICAgICAgICAvLyBTdHJpbmcgY29udGFpbmluZyBzZXR0aW5ncy51cmkgd2l0aG91dCBzY2hlbWUgYW5kIHVzZXIuXG4gICAgICAgIHZhciBob3N0cG9ydFBhcmFtcyA9IHNldHRpbmdzLnVyaS5jbG9uZSgpO1xuICAgICAgICBob3N0cG9ydFBhcmFtcy51c2VyID0gdW5kZWZpbmVkO1xuICAgICAgICBzZXR0aW5ncy5ob3N0cG9ydFBhcmFtcyA9IGhvc3Rwb3J0UGFyYW1zLnRvUmF3KCkucmVwbGFjZSgvXnNpcDovaSwgXCJcIik7XG4gICAgICAgIC8qIENoZWNrIHdoZXRoZXIgYXV0aG9yaXphdGlvblVzZXIgaXMgZXhwbGljaXRseSBkZWZpbmVkLlxuICAgICAgICAgKiBUYWtlICdzZXR0aW5ncy51cmkudXNlcicgdmFsdWUgaWYgbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFzZXR0aW5ncy5hdXRob3JpemF0aW9uVXNlcikge1xuICAgICAgICAgICAgc2V0dGluZ3MuYXV0aG9yaXphdGlvblVzZXIgPSBzZXR0aW5ncy51cmkudXNlcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2VyIG5vQW5zd2VyVGltZW91dFxuICAgICAgICBzZXR0aW5ncy5ub0Fuc3dlclRpbWVvdXQgPSBzZXR0aW5ncy5ub0Fuc3dlclRpbWVvdXQgKiAxMDAwO1xuICAgICAgICAvLyBWaWEgSG9zdFxuICAgICAgICBpZiAoc2V0dGluZ3MuaGFja0lwSW5Db250YWN0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLmhhY2tJcEluQ29udGFjdCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IDE7XG4gICAgICAgICAgICAgICAgdmFyIHRvID0gMjU0O1xuICAgICAgICAgICAgICAgIHZhciBvY3RldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0byAtIGZyb20gKyAxKSArIGZyb20pO1xuICAgICAgICAgICAgICAgIC8vIHJhbmRvbSBUZXN0LU5ldCBJUCAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNTczNSlcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52aWFIb3N0ID0gXCIxOTIuMC4yLlwiICsgb2N0ZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2V0dGluZ3MuaGFja0lwSW5Db250YWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MudmlhSG9zdCA9IHNldHRpbmdzLmhhY2tJcEluQ29udGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDb250YWN0IHRyYW5zcG9ydCBwYXJhbWV0ZXJcbiAgICAgICAgaWYgKHNldHRpbmdzLmhhY2tXc3NJblRyYW5zcG9ydCkge1xuICAgICAgICAgICAgc2V0dGluZ3MuY29udGFjdFRyYW5zcG9ydCA9IFwid3NzXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWN0ID0ge1xuICAgICAgICAgICAgcHViR3J1dTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGVtcEdydXU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVyaTogbmV3IGNvcmVfMS5VUkkoXCJzaXBcIiwgc2V0dGluZ3MuY29udGFjdE5hbWUsIHNldHRpbmdzLnZpYUhvc3QsIHVuZGVmaW5lZCwgeyB0cmFuc3BvcnQ6IHNldHRpbmdzLmNvbnRhY3RUcmFuc3BvcnQgfSksXG4gICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAgICAgICAgIHZhciBhbm9ueW1vdXMgPSBvcHRpb25zLmFub255bW91cyB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgb3V0Ym91bmQgPSBvcHRpb25zLm91dGJvdW5kIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWN0ID0gXCI8XCI7XG4gICAgICAgICAgICAgICAgaWYgKGFub255bW91cykge1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0ICs9IChfdGhpcy5jb250YWN0LnRlbXBHcnV1IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoXCJzaXA6YW5vbnltb3VzQGFub255bW91cy5pbnZhbGlkO3RyYW5zcG9ydD1cIiArIHNldHRpbmdzLmNvbnRhY3RUcmFuc3BvcnQpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdCArPSAoX3RoaXMuY29udGFjdC5wdWJHcnV1IHx8IF90aGlzLmNvbnRhY3QudXJpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3V0Ym91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdCArPSBcIjtvYlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWN0ICs9IFwiPlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2tlbGV0b24gPSB7fTtcbiAgICAgICAgLy8gRmlsbCB0aGUgdmFsdWUgb2YgdGhlIGNvbmZpZ3VyYXRpb25fc2tlbGV0b25cbiAgICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHNrZWxldG9uW3BhcmFtZXRlcl0gPSBzZXR0aW5nc1twYXJhbWV0ZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWd1cmF0aW9uLCBza2VsZXRvbik7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBhZnRlciB2YWxpZGF0aW9uOlwiKTtcbiAgICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocGFyYW1ldGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1cmlcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCLCtyBcIiArIHBhcmFtZXRlciArIFwiOiBcIiArIHNldHRpbmdzW3BhcmFtZXRlcl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiwrcgXCIgKyBwYXJhbWV0ZXIgKyBcIjogXCIgKyBcIk5PVCBTSE9XTlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNwb3J0Q29uc3RydWN0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIsK3IFwiICsgcGFyYW1ldGVyICsgXCI6IFwiICsgc2V0dGluZ3NbcGFyYW1ldGVyXS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiwrcgXCIgKyBwYXJhbWV0ZXIgKyBcIjogXCIgKyBKU09OLnN0cmluZ2lmeShzZXR0aW5nc1twYXJhbWV0ZXJdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gY2hlY2tlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIFVBLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYW5kYXRvcnk6IHt9LFxuICAgICAgICAgICAgb3B0aW9uYWw6IHtcbiAgICAgICAgICAgICAgICB1cmk6IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoL15zaXA6L2kpLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJpID0gQ29uc3RhbnRzXzEuQy5TSVAgKyBcIjpcIiArIHVyaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gY29yZV8xLkdyYW1tYXIuVVJJUGFyc2UodXJpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJzZWQgfHwgIXBhcnNlZC51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnRDb25zdHJ1Y3RvcjogZnVuY3Rpb24gKHRyYW5zcG9ydENvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc3BvcnRDb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwb3J0Q29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IGZ1bmN0aW9uICh0cmFuc3BvcnRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHJhbnNwb3J0T3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zcG9ydE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Vc2VyOiBmdW5jdGlvbiAoYXV0aG9yaXphdGlvblVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmVfMS5HcmFtbWFyLnBhcnNlKCdcIicgKyBhdXRob3JpemF0aW9uVXNlciArICdcIicsIFwicXVvdGVkX3N0cmluZ1wiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRob3JpemF0aW9uVXNlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGZ1bmN0aW9uIChkaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29yZV8xLkdyYW1tYXIucGFyc2UoJ1wiJyArIGRpc3BsYXlOYW1lICsgJ1wiJywgXCJkaXNwbGF5TmFtZVwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwbGF5TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHRtZlR5cGU6IGZ1bmN0aW9uIChkdG1mVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGR0bWZUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkMuZHRtZlR5cGUuUlRQOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNfMS5DLmR0bWZUeXBlLlJUUDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQy5kdG1mVHlwZS5JTkZPOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNfMS5DLmR0bWZUeXBlLklORk87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhY2tWaWFUY3A6IGZ1bmN0aW9uIChoYWNrVmlhVGNwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGFja1ZpYVRjcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYWNrVmlhVGNwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYWNrSXBJbkNvbnRhY3Q6IGZ1bmN0aW9uIChoYWNrSXBJbkNvbnRhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoYWNrSXBJbkNvbnRhY3QgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja0lwSW5Db250YWN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBoYWNrSXBJbkNvbnRhY3QgPT09IFwic3RyaW5nXCIgJiYgY29yZV8xLkdyYW1tYXIucGFyc2UoaGFja0lwSW5Db250YWN0LCBcImhvc3RcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja0lwSW5Db250YWN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYWNrV3NzSW5UcmFuc3BvcnQ6IGZ1bmN0aW9uIChoYWNrV3NzSW5UcmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoYWNrV3NzSW5UcmFuc3BvcnQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja1dzc0luVHJhbnNwb3J0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYWNrQWxsb3dVbnJlZ2lzdGVyZWRPcHRpb25UYWdzOiBmdW5jdGlvbiAoaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGhhY2tBbGxvd1VucmVnaXN0ZXJlZE9wdGlvblRhZ3MgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udGFjdFRyYW5zcG9ydDogZnVuY3Rpb24gKGNvbnRhY3RUcmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWN0VHJhbnNwb3J0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGFjdFRyYW5zcG9ydDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXh0cmFTdXBwb3J0ZWQ6IGZ1bmN0aW9uIChvcHRpb25UYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKG9wdGlvblRhZ3MgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG9wdGlvblRhZ3NfMSA9IG9wdGlvblRhZ3M7IF9pIDwgb3B0aW9uVGFnc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZyA9IG9wdGlvblRhZ3NfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uVGFncztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZvcmNlUnBvcnQ6IGZ1bmN0aW9uIChmb3JjZVJwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9yY2VScG9ydCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JjZVJwb3J0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBub0Fuc3dlclRpbWVvdXQ6IGZ1bmN0aW9uIChub0Fuc3dlclRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKG5vQW5zd2VyVGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IE51bWJlcihub0Fuc3dlclRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbDEwMDogZnVuY3Rpb24gKHJlbDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVsMTAwID09PSBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlJFUVVJUkVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlbDEwMCA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlVOU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXBsYWNlczogZnVuY3Rpb24gKHJlcGxhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlcyA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb25zdGFudHNfMS5DLnN1cHBvcnRlZC5SRVFVSVJFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXBsYWNlcyA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlVOU1VQUE9SVEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKHJlZ2lzdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVnaXN0ZXIgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyT3B0aW9uczogZnVuY3Rpb24gKHJlZ2lzdGVyT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlZ2lzdGVyT3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdGVyT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlUHJlbG9hZGVkUm91dGU6IGZ1bmN0aW9uICh1c2VQcmVsb2FkZWRSb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVzZVByZWxvYWRlZFJvdXRlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZVByZWxvYWRlZFJvdXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IGZ1bmN0aW9uICh1c2VyQWdlbnRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VyQWdlbnRTdHJpbmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyQWdlbnRTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dG9zdGFydDogZnVuY3Rpb24gKGF1dG9zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGF1dG9zdGFydCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRvc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dG9zdG9wOiBmdW5jdGlvbiAoYXV0b3N0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhdXRvc3RvcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRvc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3Rvcnk6IGZ1bmN0aW9uIChzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnkgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uRmFjdG9yeTogdGhpcy5jaGVja0F1dGhlbnRpY2F0aW9uRmFjdG9yeSxcbiAgICAgICAgICAgICAgICBhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uIChhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjdXN0b206IGZ1bmN0aW9uIChjdXN0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b20gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRhY3ROYW1lOiBmdW5jdGlvbiAoY29udGFjdE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWN0TmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhY3ROYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxGZWF0dXJlczogZnVuY3Rpb24gKGV4cGVyaW1lbnRhbEZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwZXJpbWVudGFsRmVhdHVyZXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwZXJpbWVudGFsRmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgVUEuQyA9IHtcbiAgICAgICAgLy8gVUEgc3RhdHVzIGNvZGVzXG4gICAgICAgIFNUQVRVU19JTklUOiAwLFxuICAgICAgICBTVEFUVVNfU1RBUlRJTkc6IDEsXG4gICAgICAgIFNUQVRVU19SRUFEWTogMixcbiAgICAgICAgU1RBVFVTX1VTRVJfQ0xPU0VEOiAzLFxuICAgICAgICBTVEFUVVNfTk9UX1JFQURZOiA0LFxuICAgICAgICAvLyBVQSBlcnJvciBjb2Rlc1xuICAgICAgICBDT05GSUdVUkFUSU9OX0VSUk9SOiAxLFxuICAgICAgICBORVRXT1JLX0VSUk9SOiAyLFxuICAgICAgICBBTExPV0VEX01FVEhPRFM6IFtcbiAgICAgICAgICAgIFwiQUNLXCIsXG4gICAgICAgICAgICBcIkNBTkNFTFwiLFxuICAgICAgICAgICAgXCJJTlZJVEVcIixcbiAgICAgICAgICAgIFwiTUVTU0FHRVwiLFxuICAgICAgICAgICAgXCJCWUVcIixcbiAgICAgICAgICAgIFwiT1BUSU9OU1wiLFxuICAgICAgICAgICAgXCJJTkZPXCIsXG4gICAgICAgICAgICBcIk5PVElGWVwiLFxuICAgICAgICAgICAgXCJSRUZFUlwiXG4gICAgICAgIF0sXG4gICAgICAgIEFDQ0VQVEVEX0JPRFlfVFlQRVM6IFtcbiAgICAgICAgICAgIFwiYXBwbGljYXRpb24vc2RwXCIsXG4gICAgICAgICAgICBcImFwcGxpY2F0aW9uL2R0bWYtcmVsYXlcIlxuICAgICAgICBdLFxuICAgICAgICBNQVhfRk9SV0FSRFM6IDcwLFxuICAgICAgICBUQUdfTEVOR1RIOiAxMFxuICAgIH07XG4gICAgcmV0dXJuIFVBO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuVUEgPSBVQTtcbihmdW5jdGlvbiAoVUEpIHtcbiAgICB2YXIgRHRtZlR5cGU7XG4gICAgKGZ1bmN0aW9uIChEdG1mVHlwZSkge1xuICAgICAgICBEdG1mVHlwZVtcIlJUUFwiXSA9IFwicnRwXCI7XG4gICAgICAgIER0bWZUeXBlW1wiSU5GT1wiXSA9IFwiaW5mb1wiO1xuICAgIH0pKER0bWZUeXBlID0gVUEuRHRtZlR5cGUgfHwgKFVBLkR0bWZUeXBlID0ge30pKTtcbn0pKFVBID0gZXhwb3J0cy5VQSB8fCAoZXhwb3J0cy5VQSA9IHt9KSk7XG5leHBvcnRzLlVBID0gVUE7XG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY29uZmlndXJhdGlvbiBnaXZlIGEgVUEuXG4gKiBAcGFyYW0gdWEgVUFcbiAqL1xuZnVuY3Rpb24gbWFrZVVzZXJBZ2VudENvcmVDb25maWd1cmF0aW9uRnJvbVVBKHVhKSB7XG4gICAgLy8gRklYTUU6IENvbmZpZ3VyYXRpb24gVVJJIGlzIGEgYmFkIG1peCBvZiB0eXBlcyBjdXJyZW50bHkuIEl0IGFsc28gbmVlZHMgdG8gZXhpc3QuXG4gICAgaWYgKCEodWEuY29uZmlndXJhdGlvbi51cmkgaW5zdGFuY2VvZiBjb3JlXzEuVVJJKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIFVSSSBub3QgaW5zdGFuY2Ugb2YgVVJJLlwiKTtcbiAgICB9XG4gICAgdmFyIGFvciA9IHVhLmNvbmZpZ3VyYXRpb24udXJpO1xuICAgIHZhciBjb250YWN0ID0gdWEuY29udGFjdDtcbiAgICB2YXIgZGlzcGxheU5hbWUgPSB1YS5jb25maWd1cmF0aW9uLmRpc3BsYXlOYW1lID8gdWEuY29uZmlndXJhdGlvbi5kaXNwbGF5TmFtZSA6IFwiXCI7XG4gICAgdmFyIGhhY2tWaWFUY3AgPSB1YS5jb25maWd1cmF0aW9uLmhhY2tWaWFUY3AgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIHJvdXRlU2V0ID0gdWEuY29uZmlndXJhdGlvbi51c2VQcmVsb2FkZWRSb3V0ZSAmJiB1YS50cmFuc3BvcnQuc2VydmVyICYmIHVhLnRyYW5zcG9ydC5zZXJ2ZXIuc2lwVXJpID9cbiAgICAgICAgW3VhLnRyYW5zcG9ydC5zZXJ2ZXIuc2lwVXJpXSA6XG4gICAgICAgIFtdO1xuICAgIHZhciBzaXBqc0lkID0gdWEuY29uZmlndXJhdGlvbi5zaXBqc0lkIHx8IFV0aWxzXzEuVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4oNSk7XG4gICAgdmFyIHN1cHBvcnRlZE9wdGlvblRhZ3MgPSBbXTtcbiAgICBzdXBwb3J0ZWRPcHRpb25UYWdzLnB1c2goXCJvdXRib3VuZFwiKTsgLy8gVE9ETzogaXMgdGhpcyByZWFsbHkgc3VwcG9ydGVkP1xuICAgIGlmICh1YS5jb25maWd1cmF0aW9uLnJlbDEwMCA9PT0gQ29uc3RhbnRzXzEuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKSB7XG4gICAgICAgIHN1cHBvcnRlZE9wdGlvblRhZ3MucHVzaChcIjEwMHJlbFwiKTtcbiAgICB9XG4gICAgaWYgKHVhLmNvbmZpZ3VyYXRpb24ucmVwbGFjZXMgPT09IENvbnN0YW50c18xLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzLnB1c2goXCJyZXBsYWNlc1wiKTtcbiAgICB9XG4gICAgaWYgKHVhLmNvbmZpZ3VyYXRpb24uZXh0cmFTdXBwb3J0ZWQpIHtcbiAgICAgICAgc3VwcG9ydGVkT3B0aW9uVGFncy5wdXNoLmFwcGx5KHN1cHBvcnRlZE9wdGlvblRhZ3MsIHVhLmNvbmZpZ3VyYXRpb24uZXh0cmFTdXBwb3J0ZWQpO1xuICAgIH1cbiAgICBpZiAoIXVhLmNvbmZpZ3VyYXRpb24uaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncykge1xuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzID0gc3VwcG9ydGVkT3B0aW9uVGFncy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvblRhZykgeyByZXR1cm4gQ29uc3RhbnRzXzEuQy5PUFRJT05fVEFHU1tvcHRpb25UYWddOyB9KTtcbiAgICB9XG4gICAgc3VwcG9ydGVkT3B0aW9uVGFncyA9IEFycmF5LmZyb20obmV3IFNldChzdXBwb3J0ZWRPcHRpb25UYWdzKSk7IC8vIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXNcbiAgICB2YXIgc3VwcG9ydGVkT3B0aW9uVGFnc1Jlc3BvbnNlID0gdWEuZ2V0U3VwcG9ydGVkUmVzcG9uc2VPcHRpb25zKCk7XG4gICAgdmFyIHVzZXJBZ2VudEhlYWRlckZpZWxkVmFsdWUgPSB1YS5jb25maWd1cmF0aW9uLnVzZXJBZ2VudFN0cmluZyB8fCBcInNpcGpzXCI7XG4gICAgaWYgKCEodWEuY29uZmlndXJhdGlvbi52aWFIb3N0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIHZpYSBob3N0IHVuZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgdmFyIHZpYUZvcmNlUnBvcnQgPSB1YS5jb25maWd1cmF0aW9uLmZvcmNlUnBvcnQgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIHZpYUhvc3QgPSB1YS5jb25maWd1cmF0aW9uLnZpYUhvc3Q7XG4gICAgdmFyIGNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIGFvcjogYW9yLFxuICAgICAgICBjb250YWN0OiBjb250YWN0LFxuICAgICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICAgIGhhY2tWaWFUY3A6IGhhY2tWaWFUY3AsXG4gICAgICAgIGxvZ2dlckZhY3Rvcnk6IHVhLmdldExvZ2dlckZhY3RvcnkoKSxcbiAgICAgICAgcm91dGVTZXQ6IHJvdXRlU2V0LFxuICAgICAgICBzaXBqc0lkOiBzaXBqc0lkLFxuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzOiBzdXBwb3J0ZWRPcHRpb25UYWdzLFxuICAgICAgICBzdXBwb3J0ZWRPcHRpb25UYWdzUmVzcG9uc2U6IHN1cHBvcnRlZE9wdGlvblRhZ3NSZXNwb25zZSxcbiAgICAgICAgdXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZTogdXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZSxcbiAgICAgICAgdmlhRm9yY2VScG9ydDogdmlhRm9yY2VScG9ydCxcbiAgICAgICAgdmlhSG9zdDogdmlhSG9zdCxcbiAgICAgICAgYXV0aGVudGljYXRpb25GYWN0b3J5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodWEuY29uZmlndXJhdGlvbi5hdXRoZW50aWNhdGlvbkZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdWEuY29uZmlndXJhdGlvbi5hdXRoZW50aWNhdGlvbkZhY3RvcnkodWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNwb3J0QWNjZXNzb3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVhLnRyYW5zcG9ydDsgfVxuICAgIH07XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRpb247XG59XG5leHBvcnRzLm1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQSA9IG1ha2VVc2VyQWdlbnRDb3JlQ29uZmlndXJhdGlvbkZyb21VQTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIHNlc3Npb25fMSA9IHJlcXVpcmUoXCIuLi9hcGkvc2Vzc2lvblwiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9FeGNlcHRpb25zXCIpO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG52YXIgTW9kaWZpZXJzID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vTW9kaWZpZXJzXCIpKTtcbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL1Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlclwiKTtcbi8qIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJcbiAqIEBjbGFzcyBQZWVyQ29ubmVjdGlvbiBoZWxwZXIgQ2xhc3MuXG4gKiBAcGFyYW0ge1NJUC5TZXNzaW9ufSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKi9cbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcihsb2dnZXIsIG9ic2VydmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI7XG4gICAgICAgIC8vIFRPRE86IFZhbGlkYXRlIHRoZSBvcHRpb25zXG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIF90aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIF90aGlzLmR0bWZTZW5kZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLnNob3VsZEFjcXVpcmVNZWRpYSA9IHRydWU7XG4gICAgICAgIF90aGlzLkNPTlRFTlRfVFlQRSA9IFwiYXBwbGljYXRpb24vc2RwXCI7XG4gICAgICAgIF90aGlzLkMgPSB7XG4gICAgICAgICAgICBESVJFQ1RJT046IHtcbiAgICAgICAgICAgICAgICBOVUxMOiBudWxsLFxuICAgICAgICAgICAgICAgIFNFTkRSRUNWOiBcInNlbmRyZWN2XCIsXG4gICAgICAgICAgICAgICAgU0VORE9OTFk6IFwic2VuZG9ubHlcIixcbiAgICAgICAgICAgICAgICBSRUNWT05MWTogXCJyZWN2b25seVwiLFxuICAgICAgICAgICAgICAgIElOQUNUSVZFOiBcImluYWN0aXZlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zOiBcIiArIEpTT04uc3RyaW5naWZ5KF90aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgX3RoaXMuZGlyZWN0aW9uID0gX3RoaXMuQy5ESVJFQ1RJT04uTlVMTDtcbiAgICAgICAgX3RoaXMubW9kaWZpZXJzID0gX3RoaXMub3B0aW9ucy5tb2RpZmllcnMgfHwgW107XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShfdGhpcy5tb2RpZmllcnMpKSB7XG4gICAgICAgICAgICBfdGhpcy5tb2RpZmllcnMgPSBbX3RoaXMubW9kaWZpZXJzXTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5pY2VHYXRoZXJpbmdUaW1lb3V0ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmluaXRQZWVyQ29ubmVjdGlvbihfdGhpcy5vcHRpb25zLnBlZXJDb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgICAgIF90aGlzLmNvbnN0cmFpbnRzID0gX3RoaXMuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHMoX3RoaXMub3B0aW9ucy5jb25zdHJhaW50cyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTSVAuU2Vzc2lvbn0gc2Vzc2lvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKi9cbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmRlZmF1bHRGYWN0b3J5ID0gZnVuY3Rpb24gKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGxvZ2dlciA9IChzZXNzaW9uIGluc3RhbmNlb2Ygc2Vzc2lvbl8xLlNlc3Npb24pID9cbiAgICAgICAgICAgIHNlc3Npb24udXNlckFnZW50LmdldExvZ2dlcihcInNpcC5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXCIsIHNlc3Npb24uaWQpIDpcbiAgICAgICAgICAgIHNlc3Npb24udWEuZ2V0TG9nZ2VyKFwic2lwLmludml0ZWNvbnRleHQuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlclwiLCBzZXNzaW9uLmlkKTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlcl8xLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlcihzZXNzaW9uLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKGxvZ2dlciwgb2JzZXJ2ZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLy8gRnVuY3Rpb25zIHRoZSBzZXNzc2lvbiBjYW4gdXNlXG4gICAgLyoqXG4gICAgICogRGVzdHJ1Y3RvclxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJjbG9zaW5nIFBlZXJDb25uZWN0aW9uXCIpO1xuICAgICAgICAvLyBoYXZlIHRvIGNoZWNrIHNpZ25hbGluZ1N0YXRlIHNpbmNlIHRoaXMuY2xvc2UoKSBnZXRzIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbiAmJiB0aGlzLnBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSBcImNsb3NlZFwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAoc2VuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIudHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci50cmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVc2luZyBnZXRMb2NhbFN0cmVhbXMgd2hpY2ggaXMgZGVwcmVjYXRlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpLmZvckVhY2goZnVuY3Rpb24gKHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlci50cmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIudHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVXNpbmcgZ2V0UmVtb3RlU3RyZWFtcyB3aGljaCBpcyBkZXByZWNhdGVkXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVtb3RlU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc2V0SWNlR2F0aGVyaW5nQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgZGVzY3JpcHRpb24gZnJvbSB0aGUgdW5kZXJseWluZyBtZWRpYSBpbXBsZW1lbnRhdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgdG8gYmUgdXNlZCBieSBnZXREZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7TWVkaWFTdHJlYW1Db25zdHJhaW50c30gW29wdGlvbnMuY29uc3RyYWludHNdIE1lZGlhU3RyZWFtQ29uc3RyYWludHNcbiAgICAgKiAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYVN0cmVhbUNvbnN0cmFpbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnBlZXJDb25uZWN0aW9uT3B0aW9uc10gSWYgdGhpcyBpcyBzZXQgaXQgd2lsbCByZWNyZWF0ZSB0aGUgcGVlclxuICAgICAqICAgY29ubmVjdGlvbiB3aXRoIHRoZSBuZXcgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFttb2RpZmllcnNdIEFycmF5IHdpdGggb25lIHRpbWUgdXNlIGRlc2NyaXB0aW9uIG1vZGlmaWVyc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgbG9jYWwgZGVzY3JpcHRpb24gdG8gYmUgdXNlZCBmb3IgdGhlIHNlc3Npb25cbiAgICAgKi9cbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IFtdOyB9XG4gICAgICAgIGlmIChvcHRpb25zLnBlZXJDb25uZWN0aW9uT3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5pbml0UGVlckNvbm5lY3Rpb24ob3B0aW9ucy5wZWVyQ29ubmVjdGlvbk9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1lcmdlIHBhc3NlZCBjb25zdHJhaW50cyB3aXRoIHNhdmVkIGNvbnN0cmFpbnRzIGFuZCBzYXZlXG4gICAgICAgIHZhciBuZXdDb25zdHJhaW50cyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uc3RyYWludHMsIG9wdGlvbnMuY29uc3RyYWludHMpO1xuICAgICAgICBuZXdDb25zdHJhaW50cyA9IHRoaXMuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHMobmV3Q29uc3RyYWludHMpO1xuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkobmV3Q29uc3RyYWludHMpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnN0cmFpbnRzKSkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IG5ld0NvbnN0cmFpbnRzO1xuICAgICAgICAgICAgdGhpcy5zaG91bGRBY3F1aXJlTWVkaWEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtb2RpZmllcnMpKSB7XG4gICAgICAgICAgICBtb2RpZmllcnMgPSBbbW9kaWZpZXJzXTtcbiAgICAgICAgfVxuICAgICAgICBtb2RpZmllcnMgPSBtb2RpZmllcnMuY29uY2F0KHRoaXMubW9kaWZpZXJzKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnNob3VsZEFjcXVpcmVNZWRpYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hY3F1aXJlKF90aGlzLmNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvdWxkQWNxdWlyZU1lZGlhID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuY3JlYXRlT2ZmZXJPckFuc3dlcihvcHRpb25zLlJUQ09mZmVyT3B0aW9ucywgbW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnNkcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcImdldERlc2NyaXB0aW9uXCIsIHVuZGVmaW5lZCwgXCJTRFAgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZW1pdChcImdldERlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm9keTogZGVzY3JpcHRpb24uc2RwLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBfdGhpcy5DT05URU5UX1RZUEVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIFNlc3Npb24gRGVzY3JpcHRpb24gSGFuZGxlciBjYW4gaGFuZGxlIHRoZSBDb250ZW50LVR5cGUgZGVzY3JpYmVkIGJ5IGEgU0lQIE1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudFR5cGUgVGhlIGNvbnRlbnQgdHlwZSB0aGF0IGlzIGluIHRoZSBTSVAgTWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhhc0Rlc2NyaXB0aW9uID0gZnVuY3Rpb24gKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50VHlwZSA9PT0gdGhpcy5DT05URU5UX1RZUEU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgbW9kaWZpZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBzZXNzaW9uIHdvdWxkIGxpa2UgdG8gcGxhY2UgdGhlIGNhbGwgb24gaG9sZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbc2RwXSBUaGUgZGVzY3JpcHRpb24gdGhhdCB3aWxsIGJlIG1vZGlmaWVkXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIG1vZGlmaWVkIFNEUFxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhvbGRNb2RpZmllciA9IGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgICBpZiAoIWRlc2NyaXB0aW9uLnNkcCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoL2E9KHNlbmRyZWN2fHNlbmRvbmx5fHJlY3Zvbmx5fGluYWN0aXZlKS8pLnRlc3QoZGVzY3JpcHRpb24uc2RwKSkge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24uc2RwID0gZGVzY3JpcHRpb24uc2RwLnJlcGxhY2UoLyhtPVteXFxyXSpcXHJcXG4pL2csIFwiJDFhPXNlbmRvbmx5XFxyXFxuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24uc2RwID0gZGVzY3JpcHRpb24uc2RwLnJlcGxhY2UoL2E9c2VuZHJlY3ZcXHJcXG4vZywgXCJhPXNlbmRvbmx5XFxyXFxuXCIpO1xuICAgICAgICAgICAgZGVzY3JpcHRpb24uc2RwID0gZGVzY3JpcHRpb24uc2RwLnJlcGxhY2UoL2E9cmVjdm9ubHlcXHJcXG4vZywgXCJhPWluYWN0aXZlXFxyXFxuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzY3JpcHRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByZW1vdGUgZGVzY3JpcHRpb24gdG8gdGhlIHVuZGVybHlpbmcgbWVkaWEgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2Vzc2lvbkRlc2NyaXB0aW9uIFRoZSBkZXNjcmlwdGlvbiBwcm92aWRlZCBieSBhIFNJUCBtZXNzYWdlIHRvIGJlIHNldCBvbiB0aGUgbWVkaWEgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0IHRvIGJlIHVzZWQgYnkgZ2V0RGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtQ29uc3RyYWludHN9IFtvcHRpb25zLmNvbnN0cmFpbnRzXSBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzXG4gICAgICogICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFTdHJlYW1Db25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wZWVyQ29ubmVjdGlvbk9wdGlvbnNdIElmIHRoaXMgaXMgc2V0IGl0IHdpbGwgcmVjcmVhdGUgdGhlIHBlZXJcbiAgICAgKiAgIGNvbm5lY3Rpb24gd2l0aCB0aGUgbmV3IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbbW9kaWZpZXJzXSBBcnJheSB3aXRoIG9uZSB0aW1lIHVzZSBkZXNjcmlwdGlvbiBtb2RpZmllcnNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIGRlc2NyaXB0aW9uIGlzIHNldFxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKHNlc3Npb25EZXNjcmlwdGlvbiwgb3B0aW9ucywgbW9kaWZpZXJzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBbXTsgfVxuICAgICAgICBpZiAob3B0aW9ucy5wZWVyQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFBlZXJDb25uZWN0aW9uKG9wdGlvbnMucGVlckNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobW9kaWZpZXJzKSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzID0gW21vZGlmaWVyc107XG4gICAgICAgIH1cbiAgICAgICAgbW9kaWZpZXJzID0gbW9kaWZpZXJzLmNvbmNhdCh0aGlzLm1vZGlmaWVycyk7XG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuaGFzT2ZmZXIoXCJsb2NhbFwiKSA/IFwiYW5zd2VyXCIgOiBcIm9mZmVyXCIsXG4gICAgICAgICAgICBzZHA6IHNlc3Npb25EZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBNZWRpYSBzaG91bGQgYmUgYWNxdWlyZWQgaW4gZ2V0RGVzY3JpcHRpb24gdW5sZXNzIHdlIG5lZWQgdG8gZG8gaXQgc29vbmVyIGZvciBzb21lIHJlYXNvbiAoRkY2MSspXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2hvdWxkQWNxdWlyZU1lZGlhICYmIF90aGlzLm9wdGlvbnMuYWx3YXlzQWNxdWlyZU1lZGlhRmlyc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYWNxdWlyZShfdGhpcy5jb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3VsZEFjcXVpcmVNZWRpYSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFV0aWxzXzEuVXRpbHMucmVkdWNlUHJvbWlzZXMobW9kaWZpZXJzLCBkZXNjcmlwdGlvbik7IH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJzZXREZXNjcmlwdGlvblwiLCBlLCBcIlRoZSBtb2RpZmllcnMgZGlkIG5vdCByZXNvbHZlIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJwZWVyQ29ubmVjdGlvbi1zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWxlZFwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobW9kaWZpZWREZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInNldERlc2NyaXB0aW9uXCIsIG1vZGlmaWVkRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG1vZGlmaWVkRGVzY3JpcHRpb24pO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIG9yaWdpbmFsIFNEUCBmb3IgdmlkZW8sIGFuZCBlbnN1cmUgdGhhdCB3ZSBoYXZlIHdhbnQgdG8gZG8gYXVkaW8gZmFsbGJhY2tcbiAgICAgICAgICAgIGlmICgoL15tPXZpZGVvLiskL2dtKS50ZXN0KHNlc3Npb25EZXNjcmlwdGlvbikgJiYgIW9wdGlvbnMuZGlzYWJsZUF1ZGlvRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIGF1ZGlvIGZhbGxiYWNrIGFnYWluXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kaXNhYmxlQXVkaW9GYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHZpZGVvIGZpcnN0LCB0aGVuIGRvIHRoZSBvdGhlciBtb2RpZmllcnNcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0RGVzY3JpcHRpb24oc2Vzc2lvbkRlc2NyaXB0aW9uLCBvcHRpb25zLCBbTW9kaWZpZXJzLnN0cmlwVmlkZW9dLmNvbmNhdChtb2RpZmllcnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJzZXREZXNjcmlwdGlvblwiLCBlKTtcbiAgICAgICAgICAgIGlmIChlcnJvci5lcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicGVlckNvbm5lY3Rpb24tc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycykge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLCBfdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIiwgX3RoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVtb3RlU3RyZWFtcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJjb25maXJtZWRcIiwgX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgRFRNRiB2aWEgUlRQIChSRkMgNDczMylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG9uZXMgQSBzdHJpbmcgY29udGFpbmluZyBEVE1GIGRpZ2l0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgdG8gYmUgdXNlZCBieSBzZW5kRHRtZlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIERUTUYgc2VuZCBpcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5zZW5kRHRtZiA9IGZ1bmN0aW9uICh0b25lcywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoIXRoaXMuZHRtZlNlbmRlciAmJiB0aGlzLmhhc0Jyb3dzZXJHZXRTZW5kZXJTdXBwb3J0KCkpIHtcbiAgICAgICAgICAgIHZhciBzZW5kZXJzID0gdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCk7XG4gICAgICAgICAgICBpZiAoc2VuZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kdG1mU2VuZGVyID0gc2VuZGVyc1swXS5kdG1mO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kdG1mU2VuZGVyICYmIHRoaXMuaGFzQnJvd3NlclRyYWNrU3VwcG9ydCgpKSB7XG4gICAgICAgICAgICB2YXIgc3RyZWFtcyA9IHRoaXMucGVlckNvbm5lY3Rpb24uZ2V0TG9jYWxTdHJlYW1zKCk7XG4gICAgICAgICAgICBpZiAoc3RyZWFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tzID0gc3RyZWFtc1swXS5nZXRBdWRpb1RyYWNrcygpO1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb1RyYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHRtZlNlbmRlciA9IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRFRNRlNlbmRlcihhdWRpb1RyYWNrc1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kdG1mU2VuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZHRtZlNlbmRlci5pbnNlcnREVE1GKHRvbmVzLCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmludGVyVG9uZUdhcCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IFwiSW52YWxpZFN0YXRlRXJyb3JcIiB8fCBlLnR5cGUgPT09IFwiSW52YWxpZENoYXJhY3RlckVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkRUTUYgc2VudCB2aWEgUlRQOiBcIiArIHRvbmVzLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlyZWN0aW9uIG9mIHRoZSBzZXNzaW9uIGRlc2NyaXB0aW9uXG4gICAgICogQHJldHVybnMge1N0cmluZ30gZGlyZWN0aW9uIG9mIHRoZSBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBuYW1lLCBjYWxsYmFjayk7IH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0TWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICB9O1xuICAgIC8vIEludGVybmFsIGZ1bmN0aW9uc1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU9mZmVyT3JBbnN3ZXIgPSBmdW5jdGlvbiAoUlRDT2ZmZXJPcHRpb25zLCBtb2RpZmllcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKFJUQ09mZmVyT3B0aW9ucyA9PT0gdm9pZCAwKSB7IFJUQ09mZmVyT3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IHRoaXMuaGFzT2ZmZXIoXCJyZW1vdGVcIikgPyBcImNyZWF0ZUFuc3dlclwiIDogXCJjcmVhdGVPZmZlclwiO1xuICAgICAgICB2YXIgcGMgPSB0aGlzLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2cobWV0aG9kTmFtZSk7XG4gICAgICAgIHZhciBtZXRob2QgPSB0aGlzLmhhc09mZmVyKFwicmVtb3RlXCIpID8gcGMuY3JlYXRlQW5zd2VyIDogcGMuY3JlYXRlT2ZmZXI7XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkocGMsIFJUQ09mZmVyT3B0aW9ucykuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJjcmVhdGVPZmZlck9yQW5zd2VyXCIsIGUsIFwicGVlckNvbm5lY3Rpb24tXCIgKyBtZXRob2ROYW1lICsgXCJGYWlsZWRcIik7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicGVlckNvbm5lY3Rpb24tXCIgKyBtZXRob2ROYW1lICsgXCJGYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNkcCkge1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzXzEuVXRpbHMucmVkdWNlUHJvbWlzZXMobW9kaWZpZXJzLCBfdGhpcy5jcmVhdGVSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KHNkcCkpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzZHApIHtcbiAgICAgICAgICAgIF90aGlzLnJlc2V0SWNlR2F0aGVyaW5nQ29tcGxldGUoKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJTZXR0aW5nIGxvY2FsIHNkcC5cIik7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwic2RwIGlzIFwiICsgc2RwLnNkcCB8fCBcInVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBwYy5zZXRMb2NhbERlc2NyaXB0aW9uKHNkcCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKFwiY3JlYXRlT2ZmZXJPckFuc3dlclwiLCBlLCBcInBlZXJDb25uZWN0aW9uLVNldExvY2FsRGVzY3JpcHRpb25GYWlsZWRcIik7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwicGVlckNvbm5lY3Rpb24tU2V0TG9jYWxEZXNjcmlwdGlvbkZhaWxlZFwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy53YWl0Rm9ySWNlR2F0aGVyaW5nQ29tcGxldGUoKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJNaXNzaW5nIGxvY2FsIGRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxvY2FsRGVzY3JpcHRpb24gPSBfdGhpcy5jcmVhdGVSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KF90aGlzLnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIFV0aWxzXzEuVXRpbHMucmVkdWNlUHJvbWlzZXMobW9kaWZpZXJzLCBsb2NhbERlc2NyaXB0aW9uKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobG9jYWxEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgX3RoaXMuc2V0RGlyZWN0aW9uKGxvY2FsRGVzY3JpcHRpb24uc2RwIHx8IFwiXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsRGVzY3JpcHRpb247XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSBFbnVtc18xLlR5cGVTdHJpbmdzLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKFwiY3JlYXRlT2ZmZXJPckFuc3dlclwiLCBlKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIENyZWF0ZXMgYW4gUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCBmcm9tIGFuIFJUQ1Nlc3Npb25EZXNjcmlwdGlvblxuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVJUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXQgPSBmdW5jdGlvbiAoUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBSVENTZXNzaW9uRGVzY3JpcHRpb24udHlwZSxcbiAgICAgICAgICAgIHNkcDogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLnNkcFxuICAgICAgICB9O1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuYWRkRGVmYXVsdEljZUNoZWNraW5nVGltZW91dCA9IGZ1bmN0aW9uIChwZWVyQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHBlZXJDb25uZWN0aW9uT3B0aW9ucy5pY2VDaGVja2luZ1RpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25PcHRpb25zLmljZUNoZWNraW5nVGltZW91dCA9IDUwMDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBlZXJDb25uZWN0aW9uT3B0aW9ucztcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmFkZERlZmF1bHRJY2VTZXJ2ZXJzID0gZnVuY3Rpb24gKHJ0Y0NvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKCFydGNDb25maWd1cmF0aW9uLmljZVNlcnZlcnMpIHtcbiAgICAgICAgICAgIHJ0Y0NvbmZpZ3VyYXRpb24uaWNlU2VydmVycyA9IFt7IHVybHM6IFwic3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMlwiIH1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydGNDb25maWd1cmF0aW9uO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuY2hlY2tBbmREZWZhdWx0Q29uc3RyYWludHMgPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRDb25zdHJhaW50cyA9IHsgYXVkaW86IHRydWUsIHZpZGVvOiAhdGhpcy5vcHRpb25zLmFsd2F5c0FjcXVpcmVNZWRpYUZpcnN0IH07XG4gICAgICAgIGNvbnN0cmFpbnRzID0gY29uc3RyYWludHMgfHwgZGVmYXVsdENvbnN0cmFpbnRzO1xuICAgICAgICAvLyBFbXB0eSBvYmplY3QgY2hlY2tcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbnN0cmFpbnRzKS5sZW5ndGggPT09IDAgJiYgY29uc3RyYWludHMuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRDb25zdHJhaW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uc3RyYWludHM7XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5oYXNCcm93c2VyVHJhY2tTdXBwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKTtcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhhc0Jyb3dzZXJHZXRTZW5kZXJTdXBwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMpO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5wcm90b3R5cGUuaW5pdFBlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgb3B0aW9ucyA9IHRoaXMuYWRkRGVmYXVsdEljZUNoZWNraW5nVGltZW91dChvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5ydGNDb25maWd1cmF0aW9uID0gb3B0aW9ucy5ydGNDb25maWd1cmF0aW9uIHx8IHt9O1xuICAgICAgICBvcHRpb25zLnJ0Y0NvbmZpZ3VyYXRpb24gPSB0aGlzLmFkZERlZmF1bHRJY2VTZXJ2ZXJzKG9wdGlvbnMucnRjQ29uZmlndXJhdGlvbik7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImluaXRQZWVyQ29ubmVjdGlvblwiKTtcbiAgICAgICAgaWYgKHRoaXMucGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkFscmVhZHkgaGF2ZSBhIHBlZXIgY29ubmVjdGlvbiBmb3IgdGhpcyBzZXNzaW9uLiBUZWFyaW5nIGRvd24uXCIpO1xuICAgICAgICAgICAgdGhpcy5yZXNldEljZUdhdGhlcmluZ0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihvcHRpb25zLnJ0Y0NvbmZpZ3VyYXRpb24pO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJOZXcgcGVlciBjb25uZWN0aW9uIGNyZWF0ZWRcIik7XG4gICAgICAgIGlmIChcIm9udHJhY2tcIiBpbiB0aGlzLnBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJ0cmFjayBhZGRlZFwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vYnNlcnZlci50cmFja0FkZGVkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFkZFRyYWNrXCIsIGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVXNpbmcgb25hZGRzdHJlYW0gd2hpY2ggaXMgZGVwcmVjYXRlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25hZGRzdHJlYW0gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJzdHJlYW0gYWRkZWRcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImFkZFN0cmVhbVwiLCBlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiaWNlQ2FuZGlkYXRlXCIsIGUpO1xuICAgICAgICAgICAgaWYgKGUuY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIklDRSBjYW5kaWRhdGUgcmVjZWl2ZWQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgKGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSA9PT0gbnVsbCA/IG51bGwgOiBlLmNhbmRpZGF0ZS5jYW5kaWRhdGUudHJpbSgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlLmNhbmRpZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGluZGljYXRlcyB0aGUgZW5kIG9mIGNhbmRpZGF0ZSBnYXRoZXJpbmdcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiSUNFIGNhbmRpZGF0ZSBnYXRoZXJpbmcgY29tcGxldGVcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlckljZUdhdGhlcmluZ0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJSVENJY2VHYXRoZXJpbmdTdGF0ZSBjaGFuZ2VkOiBcIiArIF90aGlzLnBlZXJDb25uZWN0aW9uLmljZUdhdGhlcmluZ1N0YXRlKTtcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMucGVlckNvbm5lY3Rpb24uaWNlR2F0aGVyaW5nU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ2F0aGVyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJpY2VHYXRoZXJpbmdcIiwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmljZUdhdGhlcmluZ1RpbWVyICYmIG9wdGlvbnMuaWNlQ2hlY2tpbmdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pY2VHYXRoZXJpbmdUaW1lb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pY2VHYXRoZXJpbmdUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJSVENJY2VDaGVja2luZyBUaW1lb3V0IFRyaWdnZXJlZCBhZnRlciBcIiArIG9wdGlvbnMuaWNlQ2hlY2tpbmdUaW1lb3V0ICsgXCIgbWlsbGlzZWNvbmRzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmljZUdhdGhlcmluZ1RpbWVvdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJJY2VHYXRoZXJpbmdDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pY2VDaGVja2luZ1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VySWNlR2F0aGVyaW5nQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVFdmVudDtcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5ld1wiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2luZ1wiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uQ2hlY2tpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uQ29ubmVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVFdmVudCA9IFwiaWNlQ29ubmVjdGlvbkNvbXBsZXRlZFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmFpbGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlRXZlbnQgPSBcImljZUNvbm5lY3Rpb25GYWlsZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUV2ZW50ID0gXCJpY2VDb25uZWN0aW9uRGlzY29ubmVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjbG9zZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVFdmVudCA9IFwiaWNlQ29ubmVjdGlvbkNsb3NlZFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIlVua25vd24gaWNlQ29ubmVjdGlvbiBzdGF0ZTogXCIgKyBfdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiSUNFIENvbm5lY3Rpb24gU3RhdGUgY2hhbmdlZCB0byBcIiArIHN0YXRlRXZlbnQpO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChzdGF0ZUV2ZW50LCBfdGhpcyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5hY3F1aXJlID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERlZmF1bHQgYXVkaW8gJiB2aWRlbyB0byB0cnVlXG4gICAgICAgIGNvbnN0cmFpbnRzID0gdGhpcy5jaGVja0FuZERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50cyk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogTWFrZSB0aGUgY2FsbCBhc3luY2hyb25vdXMsIHNvIHRoYXQgSUNDcyBoYXZlIGEgY2hhbmNlXG4gICAgICAgICAgICAgKiB0byBkZWZpbmUgY2FsbGJhY2tzIHRvIGB1c2VyTWVkaWFSZXF1ZXN0YFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiYWNxdWlyaW5nIGxvY2FsIG1lZGlhXCIpO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInVzZXJNZWRpYVJlcXVlc3RcIiwgY29uc3RyYWludHMpO1xuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnRzLmF1ZGlvIHx8IGNvbnN0cmFpbnRzLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0TWVkaWFTdHJlYW0oY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKHN0cmVhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub2JzZXJ2ZXIudHJhY2tBZGRlZCgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KFwidXNlck1lZGlhXCIsIHN0cmVhbXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0cmVhbXMpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoXCJ1c2VyTWVkaWFGYWlsZWRcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIExvY2FsIHN0cmVhbXMgd2VyZSBleHBsaWNpdGx5IGV4Y2x1ZGVkLlxuICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcImFjcXVpcmVcIiwgZSwgXCJ1bmFibGUgdG8gYWNxdWlyZSBzdHJlYW1zXCIpO1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzdHJlYW1zKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiYWNxdWlyZWQgbG9jYWwgbWVkaWEgc3RyZWFtc1wiKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBvbGQgdHJhY2tzXG4gICAgICAgICAgICBpZiAoX3RoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2spIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAoc2VuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKHNlbmRlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyZWFtcztcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IEVudW1zXzEuVHlwZVN0cmluZ3MuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IoXCJhY3F1aXJlXCIsIGUsIFwiZXJyb3IgcmVtb3Zpbmcgc3RyZWFtc1wiKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChlcnJvci5lcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3RyZWFtcykge1xuICAgICAgICAgICAgdmFyIHN0cmVhbXNBcnIgPSBbXS5jb25jYXQoc3RyZWFtcyk7XG4gICAgICAgICAgICBzdHJlYW1zQXJyLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKHRyYWNrLCBzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENocm9tZSA1OSBkb2VzIG5vdCBzdXBwb3J0IGFkZFRyYWNrXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShzdHJlYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcihcImFjcXVpcmVcIiwgZSwgXCJlcnJvciBhZGRpbmcgc3RyZWFtXCIpO1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGVycm9yLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLmhhc09mZmVyID0gZnVuY3Rpb24gKHdoZXJlKSB7XG4gICAgICAgIHZhciBvZmZlclN0YXRlID0gXCJoYXZlLVwiICsgd2hlcmUgKyBcIi1vZmZlclwiO1xuICAgICAgICByZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSA9PT0gb2ZmZXJTdGF0ZTtcbiAgICB9O1xuICAgIC8vIElDRSBnYXRoZXJpbmcgc3RhdGUgaGFuZGxpbmdcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS5pc0ljZUdhdGhlcmluZ0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VHYXRoZXJpbmdTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8IHRoaXMuaWNlR2F0aGVyaW5nVGltZW91dDtcbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLnJlc2V0SWNlR2F0aGVyaW5nQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaWNlR2F0aGVyaW5nVGltZW91dCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJyZXNldEljZUdhdGhlcmluZ0NvbXBsZXRlXCIpO1xuICAgICAgICBpZiAodGhpcy5pY2VHYXRoZXJpbmdUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWNlR2F0aGVyaW5nVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5pY2VHYXRoZXJpbmdUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZCkge1xuICAgICAgICAgICAgdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICAgIHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldERpcmVjdGlvbiA9IGZ1bmN0aW9uIChzZHApIHtcbiAgICAgICAgdmFyIG1hdGNoID0gc2RwLm1hdGNoKC9hPShzZW5kcmVjdnxzZW5kb25seXxyZWN2b25seXxpbmFjdGl2ZSkvKTtcbiAgICAgICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuQy5ESVJFQ1RJT04uTlVMTDtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlyZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBtYXRjaFsxXTtcbiAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5TRU5EUkVDVjpcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5TRU5ET05MWTpcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5SRUNWT05MWTpcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DLkRJUkVDVElPTi5JTkFDVElWRTpcbiAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLkMuRElSRUNUSU9OLk5VTEw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlci5kaXJlY3Rpb25DaGFuZ2VkKCk7XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS50cmlnZ2VySWNlR2F0aGVyaW5nQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSWNlR2F0aGVyaW5nQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwiaWNlR2F0aGVyaW5nQ29tcGxldGVcIiwgdGhpcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pY2VHYXRoZXJpbmdUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmljZUdhdGhlcmluZ1RpbWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmljZUdhdGhlcmluZ1RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnByb3RvdHlwZS53YWl0Rm9ySWNlR2F0aGVyaW5nQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIndhaXRGb3JJY2VHYXRoZXJpbmdDb21wbGV0ZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuaXNJY2VHYXRoZXJpbmdDb21wbGV0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJQ0UgaXMgYWxyZWFkeSBjb21wbGV0ZS4gUmV0dXJuIHJlc29sdmVkLlwiKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZCkge1xuICAgICAgICAgICAgdGhpcy5pY2VHYXRoZXJpbmdEZWZlcnJlZCA9IFV0aWxzXzEuVXRpbHMuZGVmZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJQ0UgaXMgbm90IGNvbXBsZXRlLiBSZXR1cm5pbmcgcHJvbWlzZVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNlR2F0aGVyaW5nRGVmZXJyZWQgPyB0aGlzLmljZUdhdGhlcmluZ0RlZmVycmVkLnByb21pc2UgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4uL2NvcmVcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL21lc3NhZ2VzL3V0aWxzXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4uL2NvcmUvdXNlci1hZ2VudC1jb3JlL2FsbG93ZWQtbWV0aG9kc1wiKTtcbnZhciBieWVfMSA9IHJlcXVpcmUoXCIuL2J5ZVwiKTtcbnZhciBlbWl0dGVyXzEgPSByZXF1aXJlKFwiLi9lbWl0dGVyXCIpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2V4Y2VwdGlvbnNcIik7XG52YXIgaW5mb18xID0gcmVxdWlyZShcIi4vaW5mb1wiKTtcbnZhciBtZXNzYWdlXzEgPSByZXF1aXJlKFwiLi9tZXNzYWdlXCIpO1xudmFyIG5vdGlmaWNhdGlvbl8xID0gcmVxdWlyZShcIi4vbm90aWZpY2F0aW9uXCIpO1xudmFyIHJlZmVycmFsXzEgPSByZXF1aXJlKFwiLi9yZWZlcnJhbFwiKTtcbnZhciBzZXNzaW9uX3N0YXRlXzEgPSByZXF1aXJlKFwiLi9zZXNzaW9uLXN0YXRlXCIpO1xuLyoqXG4gKiBBIHNlc3Npb24gcHJvdmlkZXMgcmVhbCB0aW1lIGNvbW11bmljYXRpb24gYmV0d2VlbiBvbmUgb3IgbW9yZSBwYXJ0aWNpcGFudHMuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSB0cmFuc3BvcnQgYmVoYXZlcyBpbiBhIGRldGVybWluaXN0aWMgbWFubmVyIGFjY29yZGluZyB0byB0aGVcbiAqIHRoZSBzdGF0ZSBkZWZpbmVkIGluIHtAbGluayBTZXNzaW9uU3RhdGV9LlxuICogQHB1YmxpY1xuICovXG52YXIgU2Vzc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gdXNlckFnZW50IC0gVXNlciBhZ2VudC4gU2VlIHtAbGluayBVc2VyQWdlbnR9IGZvciBkZXRhaWxzLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlc3Npb24odXNlckFnZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8qKiBUcnVlIGlmIHRoZXJlIGlzIGEgcmUtSU5WSVRFIHJlcXVlc3Qgb3V0c3RhbmRpbmcuICovXG4gICAgICAgIHRoaXMucGVuZGluZ1JlaW52aXRlID0gZmFsc2U7XG4gICAgICAgIC8qKiBTZXNzaW9uIHN0YXRlLiAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuSW5pdGlhbDtcbiAgICAgICAgLyoqIFNlc3Npb24gc3RhdGUgZW1pdHRlci4gKi9cbiAgICAgICAgdGhpcy5fc3RhdGVFdmVudEVtaXR0ZXIgPSBuZXcgZXZlbnRzXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBvcHRpb25zLmRlbGVnYXRlO1xuICAgICAgICB0aGlzLl91c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3RydWN0b3IuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBcIiArIHRoaXMuaWQgKyBcIiBpbiBzdGF0ZSBcIiArIHRoaXMuX3N0YXRlICsgXCIgaXMgYmVpbmcgZGlzcG9zZWRcIik7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHRoZSB1c2VyIGFnZW50J3Mgc2Vzc2lvbiBjb2xsZWN0aW9uXG4gICAgICAgIGRlbGV0ZSB0aGlzLnVzZXJBZ2VudC5fc2Vzc2lvbnNbdGhpcy5pZF07XG4gICAgICAgIC8vIERpc3Bvc2Ugb2YgZGlhbG9nIG1lZGlhXG4gICAgICAgIGlmICh0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBUaGUgU0RIIG5lZWRzIHRvIHJlbWFpbiBkZWZpbmVkIGFzIGl0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IGlzIGNsb3NlZCBpbiBjYXNlc1xuICAgICAgICAgICAgLy8gd2hlcmUgYW4gYW5zd2VyL29mZmVyIGFycml2ZXMgd2hpbGUgdGhlIHNlc3Npb24gaXMgYmVpbmcgdG9ybiBkb3duLiBUaGVyZSBhcmUgYSB2YXJpZXR5XG4gICAgICAgICAgICAvLyBvZiBjaXJjdW1zdGFuY2VzIHdoZXJlIHRoaXMgY2FuIGhhcHBlbiAtIHNlbmRpbmcgYSBCWUUgZHVyaW5nIGEgcmUtSU5WSVRFIGZvciBleGFtcGxlLlxuICAgICAgICAgICAgLy8gVGhlIGNvZGUgaXMgY3VycmVudGx5IHdyaXR0ZW4gc3VjaCB0aGF0IGl0IGxhemlseSBtYWtlcyBhIG5ldyBTREggd2hlbiBpdCBuZWVkcyBvbmVcbiAgICAgICAgICAgIC8vIGFuZCBvbmUgaXMgbm90IHlldCBkZWZpbmVkLiBUaHVzIGlmIHdlIHVuZGVmaW5lZCBpdCBoZXJlLCBpdCB3aWxsIGN1cnJlbnRseSBtYWtlIGFcbiAgICAgICAgICAgIC8vIG5ldyBvbmUgd2hpY2ggaXMgb3V0IG9mIHN5bmMgYW5kIHRoZW4gbmV2ZXIgZ2V0cyBjbGVhbmVkIHVwLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBkb3duc2lkZSBvZiBsZWF2aW5nIGl0IGRlZmluZWQgYXJlIHRoYXQgY2FsbHMgdGhpcyBjbG9zZWQgU0RIIHdpbGwgY29udGludWUgdG8gYmVcbiAgICAgICAgICAgIC8vIG1hZGUgKHRoaW5rIHNldERlc2NyaXB0aW9uKSBhbmQgdGhvc2Ugc2hvdWxkL3dpbGwgZmFpbC4gVGhlc2UgZmFpbHVyZXMgYXJlIGhhbmRsZWQsIGJ1dFxuICAgICAgICAgICAgLy8gaXQgd291bGQgYmUgbmljZSB0byBoYXZlIGl0IGFsbCBjb2RlZCB1cCBpbiBhIHdheSB3aGVyZSBoYXZpbmcgYW4gdW5kZWZpbmVkIFNESCB3aGVyZVxuICAgICAgICAgICAgLy8gb25lIGlzIGV4cGVjdGVkIHRocm93cyBhbiBlcnJvci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIHRoZSBJbnZpdGVyL0ludml0YXRpb24gc3ViIGNsYXNzIGRpc3Bvc2UgbWV0aG9kIGhhbmRsZXMgdGhpcyBjYXNlXG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoaW5nOlxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyB0aGUgSW52aXRlci9JbnZpdGF0aW9uIHN1YiBjbGFzcyBkaXNwb3NlIG1ldGhvZCBoYW5kbGVzIHRoaXMgY2FzZVxuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ieWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVkaXJlY3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVqZWN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKCk7IH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRpbmc6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIG5vdGhpbmcgdG8gYmUgZG9uZVxuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIG5vdGhpbmcgdG8gYmUgZG9uZVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHN0YXRlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwiYXNzZXJ0ZWRJZGVudGl0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXNzZXJ0ZWQgaWRlbnRpdHkgb2YgdGhlIHJlbW90ZSB1c2VyLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXNzZXJ0ZWRJZGVudGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlc3Npb24ucHJvdG90eXBlLCBcImRpYWxvZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29uZmlybWVkIHNlc3Npb24gZGlhbG9nLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlhbG9nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwiaWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXNzaW9uLnByb3RvdHlwZSwgXCJyZXBsYWNlZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2Vzc2lvbiBiZWluZyByZXBsYWNlIGJ5IHRoaXMgb25lLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVwbGFjZWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXNzaW9uLnByb3RvdHlwZSwgXCJzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlci5cbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgYHRoaXNgIGlzIGFuIGluc3RhbmNlIG9mIGBJbnZpdGF0aW9uYCxcbiAgICAgICAgICogYHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJgIHdpbGwgYmUgZGVmaW5lZCB3aGVuIHRoZSBzZXNzaW9uIHN0YXRlIGNoYW5nZXMgdG8gXCJlc3RhYmxpc2hlZFwiLlxuICAgICAgICAgKiBJZiBgdGhpc2AgaXMgYW4gaW5zdGFuY2Ugb2YgYEludml0ZXJgIGFuZCBhbiBvZmZlciB3YXMgc2VudCBpbiB0aGUgSU5WSVRFLFxuICAgICAgICAgKiBgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcmAgd2lsbCBiZSBkZWZpbmVkIHdoZW4gdGhlIHNlc3Npb24gc3RhdGUgY2hhbmdlcyB0byBcImVzdGFibGlzaGluZ1wiLlxuICAgICAgICAgKiBJZiBgdGhpc2AgaXMgYW4gaW5zdGFuY2Ugb2YgYEludml0ZXJgIGFuZCBhbiBvZmZlciB3YXMgbm90IHNlbnQgaW4gdGhlIElOVklURSxcbiAgICAgICAgICogYHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJgIHdpbGwgYmUgZGVmaW5lZCB3aGVuIHRoZSBzZXNzaW9uIHN0YXRlIGNoYW5nZXMgdG8gXCJlc3RhYmxpc2hlZFwiLlxuICAgICAgICAgKiBPdGhlcndpc2UgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwic2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Vzc2lvbiBkZXNjcmlwdGlvbiBoYW5kbGVyIGZhY3RvcnkuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJBZ2VudC5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Vzc2lvbiBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwic3RhdGVDaGFuZ2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Vzc2lvbiBzdGF0ZSBjaGFuZ2UgZW1pdHRlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGVtaXR0ZXJfMS5fbWFrZUVtaXR0ZXIodGhpcy5fc3RhdGVFdmVudEVtaXR0ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbi5wcm90b3R5cGUsIFwidXNlckFnZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1c2VyIGFnZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlckFnZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBFbmQgdGhlIHtAbGluayBTZXNzaW9ufS4gU2VuZHMgYSBCWUUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC4gU2VlIHtAbGluayBTZXNzaW9uQnllT3B0aW9uc30gZm9yIGRldGFpbHMuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuYnllID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIlNlc3Npb24uYnllKCkgbWF5IG9ubHkgYmUgY2FsbGVkIGlmIGVzdGFibGlzaGVkIHNlc3Npb24uXCI7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbmNlbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSG93ZXZlciBJbnZpdGVyLmludml0ZSgpIGhhcyBub3QgeWV0IGJlZW4gY2FsbGVkLlwiO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIFBlcmhhcHMgeW91IHNob3VsZCBoYXZlIGNhbGxlZCBJbnZpdGVyLmNhbmNlbCgpP1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5yZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEhvd2V2ZXIgSW52aXRhdGlvbi5hY2NlcHQoKSBoYXMgbm90IHlldCBiZWVuIGNhbGxlZC5cIjtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIiBQZXJoYXBzIHlvdSBzaG91bGQgaGF2ZSBjYWxsZWQgSW52aXRhdGlvbi5yZWplY3QoKT9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoaW5nOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jYW5jZWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEhvd2V2ZXIgYSBkaWFsb2cgZG9lcyBub3QgeWV0IGV4aXN0LlwiO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIFBlcmhhcHMgeW91IHNob3VsZCBoYXZlIGNhbGxlZCBJbnZpdGVyLmNhbmNlbCgpP1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5yZWplY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEhvd2V2ZXIgSW52aXRhdGlvbi5hY2NlcHQoKSBoYXMgbm90IHlldCBiZWVuIGNhbGxlZCAob3Igbm90IHlldCByZXNvbHZlZCkuXCI7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgUGVyaGFwcyB5b3Ugc2hvdWxkIGhhdmUgY2FsbGVkIEludml0YXRpb24ucmVqZWN0KCk/XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkOlxuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGVsZWdhdGUgPSBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB0aGlzLmNvcHlSZXF1ZXN0T3B0aW9ucyhvcHRpb25zLnJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYnllKHJlcXVlc3REZWxlZ2F0ZSwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgY2FzZSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0aW5nOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSG93ZXZlciB0aGlzIHNlc3Npb24gaXMgYWxyZWFkeSB0ZXJtaW5hdGluZy5cIjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY2FuY2VsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIiBQZXJoYXBzIHlvdSBoYXZlIGFscmVhZHkgY2FsbGVkIEludml0ZXIuY2FuY2VsKCk/XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLnJlamVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgUGVyaGFwcyB5b3UgaGF2ZSBhbHJlYWR5IGNhbGxlZCBTZXNzaW9uLmJ5ZSgpP1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSG93ZXZlciB0aGlzIHNlc3Npb24gaXMgYWxyZWFkeSB0ZXJtaW5hdGVkLlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHN0YXRlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBzZXNzaW9uIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2hhcmUge0BsaW5rIEluZm99IHdpdGggcGVlci4gU2VuZHMgYW4gSU5GTy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBTZWUge0BsaW5rIFNlc3Npb25JbmZvT3B0aW9uc30gZm9yIGRldGFpbHMuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIGd1YXJkIHNlc3Npb24gc3RhdGVcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTZXNzaW9uLmluZm8oKSBtYXkgb25seSBiZSBjYWxsZWQgaWYgZXN0YWJsaXNoZWQgc2Vzc2lvbi5cIjtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgc2Vzc2lvbiBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdERlbGVnYXRlID0gb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGU7XG4gICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuY29weVJlcXVlc3RPcHRpb25zKG9wdGlvbnMucmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5mbyhyZXF1ZXN0RGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmVnb3RpYXRlIHRoZSBzZXNzaW9uLiBTZW5kcyBhIHJlLUlOVklURS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBTZWUge0BsaW5rIFNlc3Npb25JbnZpdGVPcHRpb25zfSBmb3IgZGV0YWlscy5cbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5pbnZpdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLmludml0ZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIHNlc3Npb24gc3RhdGUgXCIgKyB0aGlzLnN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlaW52aXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IGV4Y2VwdGlvbnNfMS5SZXF1ZXN0UGVuZGluZ0Vycm9yKFwiUmVpbnZpdGUgaW4gcHJvZ3Jlc3MuIFBsZWFzZSB3YWl0IHVudGlsIGNvbXBsZXRlLCB0aGVuIHRyeSBhZ2Fpbi5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZ1JlaW52aXRlID0gdHJ1ZTtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0ge1xuICAgICAgICAgICAgb25BY2NlcHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIEEgcmUtSU5WSVRFIHRyYW5zYWN0aW9uIGhhcyBhbiBvZmZlci9hbnN3ZXIgW1JGQzMyNjRdIGV4Y2hhbmdlXG4gICAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0LiAgVGhlIFVBQyAoVXNlciBBZ2VudCBDbGllbnQpIGdlbmVyYXRpbmcgYSBnaXZlblxuICAgICAgICAgICAgICAgIC8vIHJlLUlOVklURSBjYW4gYWN0IGFzIHRoZSBvZmZlcmVyIG9yIGFzIHRoZSBhbnN3ZXJlci4gIEEgVUFDIHdpbGxpbmdcbiAgICAgICAgICAgICAgICAvLyB0byBhY3QgYXMgdGhlIG9mZmVyZXIgaW5jbHVkZXMgYW4gb2ZmZXIgaW4gdGhlIHJlLUlOVklURS4gIFRoZSBVQVNcbiAgICAgICAgICAgICAgICAvLyAoVXNlciBBZ2VudCBTZXJ2ZXIpIHRoZW4gcHJvdmlkZXMgYW4gYW5zd2VyIGluIGEgcmVzcG9uc2UgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gcmUtSU5WSVRFLiAgQSBVQUMgd2lsbGluZyB0byBhY3QgYXMgYW5zd2VyZXIgZG9lcyBub3QgaW5jbHVkZSBhblxuICAgICAgICAgICAgICAgIC8vIG9mZmVyIGluIHRoZSByZS1JTlZJVEUuICBUaGUgVUFTIHRoZW4gcHJvdmlkZXMgYW4gb2ZmZXIgaW4gYSByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSByZS1JTlZJVEUgYmVjb21pbmcsIHRodXMsIHRoZSBvZmZlcmVyLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MTQxI3NlY3Rpb24tMVxuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gY29yZV8xLmdldEJvZHkocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlJlY2VpdmVkIDJ4eCByZXNwb25zZSB0byByZS1JTlZJVEUgd2l0aG91dCBhIHNlc3Npb24gZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFja0FuZEJ5ZShyZXNwb25zZSwgNDAwLCBcIk1pc3Npbmcgc2Vzc2lvbiBkZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLndpdGhvdXRTZHApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSU5WSVRFIHdpdGhvdXQgU0RQIC0gc2V0IHJlbW90ZSBvZmZlciBhbmQgc2VuZCBhbiBhbnN3ZXIgaW4gdGhlIEFDS1xuICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRTogU0RIIG9wdGlvbnMgJiBTREggbW9kaWZpZXJzIG9wdGlvbnMgYXJlIGFwcGxpZWQgc29tZXdoYXQgYW1iaWd1b3VzbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIFRoaXMgYmVoYXZpb3Igd2FzIHBvcnRlZCBmcm9tIGxlZ2FjeSBjb2RlIGFuZCB0aGUgaXNzdWUgcHVudGVkIGRvd24gdGhlIHJvYWQuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbnN3ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM6IG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzOiBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgYW5zd2VyT3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhbnN3ZXJCb2R5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5hY2soeyBib2R5OiBhbnN3ZXJCb2R5IH0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gd2F5IHRvIHJlY292ZXIsIHNvIHRlcm1pbmF0ZSBzZXNzaW9uIGFuZCBtYXJrIGFzIGZhaWxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBoYW5kbGUgb2ZmZXIgaW4gMnh4IHJlc3BvbnNlIHRvIHJlLUlOVklURVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZSA9PT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSBCWUUgc2hvdWxkIG5vdCBiZSBzZW50IGlmIGFscmVhZHkgdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYSBCWUUgbWF5IGJlIHNlbnQvcmVjZWl2ZWQgd2hpbGUgcmUtSU5WSVRFIGlzIG91dHN0YW5kaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKHJlc3BvbnNlLCA0ODgsIFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGVuZGluZ1JlaW52aXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUgJiYgb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUub25BY2NlcHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZS5vbkFjY2VwdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSU5WSVRFIHdpdGggU0RQIC0gc2V0IHJlbW90ZSBhbnN3ZXIgYW5kIHNlbmQgYW4gQUNLXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBTREggb3B0aW9ucyAmIFNESCBtb2RpZmllcnMgb3B0aW9ucyBhcmUgYXBwbGllZCBzb21ld2hhdCBhbWJpZ3VvdXNseVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgVGhpcyBiZWhhdmlvciB3YXMgcG9ydGVkIGZyb20gbGVnYWN5IGNvZGUgYW5kIHRoZSBpc3N1ZSBwdW50ZWQgZG93biB0aGUgcm9hZC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuc3dlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczogX3RoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyczogX3RoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0QW5zd2VyKGJvZHksIGFuc3dlck9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5hY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gaGFuZGxlIGFuc3dlciBpbiAyeHggcmVzcG9uc2UgdG8gcmUtSU5WSVRFXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSBCWUUgc2hvdWxkIG9ubHkgYmUgc2VudCBpZiBzZXNzaW9uIGlzIG5vdCBhbHJlYWR5IHRlcm1pbmF0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYSBCWUUgbWF5IGJlIHNlbnQvcmVjZWl2ZWQgd2hpbGUgcmUtSU5WSVRFIGlzIG91dHN0YW5kaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIEFDSyBuZWVkcyB0byBiZSBzZW50IHJlZ2FyZGxlc3MgYXMgaXQgd2FzIG5vdCBoYW5kbGVkIGJ5IHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWNrQW5kQnllKHJlc3BvbnNlLCA0ODgsIFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZSAmJiBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZS5vbkFjY2VwdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdERlbGVnYXRlLm9uQWNjZXB0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlZGlyZWN0OiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWplY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiUmVjZWl2ZWQgYSBub24tMnh4IHJlc3BvbnNlIHRvIHJlLUlOVklURVwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53aXRob3V0U2RwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZSAmJiBvcHRpb25zLnJlcXVlc3REZWxlZ2F0ZS5vblJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUub25SZWplY3QocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yb2xsYmFja09mZmVyKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gcm9sbGJhY2sgb2ZmZXIgb24gbm9uLTJ4eCByZXNwb25zZSB0byByZS1JTlZJVEVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBIEJZRSBzaG91bGQgb25seSBiZSBzZW50IGlmIHNlc3Npb24gaXMgbm90IGFscmVhZHkgdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCBhIEJZRSBtYXkgYmUgc2VudC9yZWNlaXZlZCB3aGlsZSByZS1JTlZJVEUgaXMgb3V0c3RhbmRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIEFDSyB3YXMgYWxyZWFkeSBzZW50IGJ5IHRoZSB0cmFuc2FjdGlvbiwgc28ganVzdCBuZWVkIHRvIHNlbmQgQllFLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVhc29uOiBcIiArIF90aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKDUwMCwgXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpYWxvZy5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVxdWVzdERlbGVnYXRlICYmIG9wdGlvbnMucmVxdWVzdERlbGVnYXRlLm9uUmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGUub25SZWplY3QocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Ucnlpbmc6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKHJlcXVlc3RPcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goXCJBbGxvdzogXCIgKyBhbGxvd2VkX21ldGhvZHNfMS5BbGxvd2VkTWV0aG9kcy50b1N0cmluZygpKTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuX2NvbnRhY3QpO1xuICAgICAgICAvLyBKdXN0IHNlbmQgYW4gSU5WSVRFIHdpdGggbm8gc2RwLi4uXG4gICAgICAgIGlmIChvcHRpb25zLndpdGhvdXRTZHApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmRpYWxvZy5pbnZpdGUoZGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGFuIG9mZmVyIGFuZCBzZW5kIGl0IGluIGFuIElOVklURVxuICAgICAgICAvLyBGSVhNRTogU0RIIG9wdGlvbnMgJiBTREggbW9kaWZpZXJzIG9wdGlvbnMgYXJlIGFwcGxpZWQgc29tZXdoYXQgYW1iaWd1b3VzbHlcbiAgICAgICAgLy8gICAgICAgIFRoaXMgYmVoYXZpb3Igd2FzIHBvcnRlZCBmcm9tIGxlZ2FjeSBjb2RlIGFuZCB0aGUgaXNzdWUgcHVudGVkIGRvd24gdGhlIHJvYWQuXG4gICAgICAgIHZhciBvZmZlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczogb3B0aW9ucy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9ucyxcbiAgICAgICAgICAgIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnM6IG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPZmZlcihvZmZlck9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAob2ZmZXJCb2R5KSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdSZWludml0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuYm9keSA9IG9mZmVyQm9keTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5kaWFsb2cuaW52aXRlKGRlbGVnYXRlLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCByZS1JTlZJVEVcIik7XG4gICAgICAgICAgICBfdGhpcy5wZW5kaW5nUmVpbnZpdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGl2ZXIgYSB7QGxpbmsgTWVzc2FnZX0uIFNlbmRzIGEgTUVTU0FHRS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LiBTZWUge0BsaW5rIFNlc3Npb25NZXNzYWdlT3B0aW9uc30gZm9yIGRldGFpbHMuXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUubWVzc2FnZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIGd1YXJkIHNlc3Npb24gc3RhdGVcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTZXNzaW9uLm1lc3NhZ2UoKSBtYXkgb25seSBiZSBjYWxsZWQgaWYgZXN0YWJsaXNoZWQgc2Vzc2lvbi5cIjtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgc2Vzc2lvbiBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdERlbGVnYXRlID0gb3B0aW9ucy5yZXF1ZXN0RGVsZWdhdGU7XG4gICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHRoaXMuY29weVJlcXVlc3RPcHRpb25zKG9wdGlvbnMucmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZShyZXF1ZXN0RGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2ZmZXIgYSB7QGxpbmsgUmVmZXJyYWx9LiBTZW5kIGEgUkVGRVIuXG4gICAgICogQHBhcmFtIHJlZmVyVG8gLSBUaGUgcmVmZXJyYWwgdGFyZ2V0LiBJZiBhIGBTZXNzaW9uYCwgYSBSRUZFUiB3L1JlcGxhY2VzIGlzIHNlbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC4gU2VlIHtAbGluayBTZXNzaW9uUmVmZXJPcHRpb25zfSBmb3IgZGV0YWlscy5cbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWZlciA9IGZ1bmN0aW9uIChyZWZlclRvLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIGd1YXJkIHNlc3Npb24gc3RhdGVcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJTZXNzaW9uLnJlZmVyKCkgbWF5IG9ubHkgYmUgY2FsbGVkIGlmIGVzdGFibGlzaGVkIHNlc3Npb24uXCI7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIHNlc3Npb24gc3RhdGUgXCIgKyB0aGlzLnN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVlc3REZWxlZ2F0ZSA9IG9wdGlvbnMucmVxdWVzdERlbGVnYXRlO1xuICAgICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB0aGlzLmNvcHlSZXF1ZXN0T3B0aW9ucyhvcHRpb25zLnJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID0gcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID9cbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmV4dHJhSGVhZGVycy5jb25jYXQodGhpcy5yZWZlckV4dHJhSGVhZGVycyh0aGlzLnJlZmVyVG9TdHJpbmcocmVmZXJUbykpKSA6XG4gICAgICAgICAgICB0aGlzLnJlZmVyRXh0cmFIZWFkZXJzKHRoaXMucmVmZXJUb1N0cmluZyhyZWZlclRvKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZlcihvcHRpb25zLm9uTm90aWZ5LCByZXF1ZXN0RGVsZWdhdGUsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgQllFLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLl9ieWUgPSBmdW5jdGlvbiAoZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVXNpbmcgY29yZSBzZXNzaW9uIGRpYWxvZ1xuICAgICAgICBpZiAoIXRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiU2Vzc2lvbiBkaWFsb2cgdW5kZWZpbmVkLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpYWxvZyA9IHRoaXMuZGlhbG9nO1xuICAgICAgICAvLyBUaGUgY2FsbGVyJ3MgVUEgTUFZIHNlbmQgYSBCWUUgZm9yIGVpdGhlciBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9ncyxcbiAgICAgICAgLy8gYW5kIHRoZSBjYWxsZWUncyBVQSBNQVkgc2VuZCBhIEJZRSBvbiBjb25maXJtZWQgZGlhbG9ncywgYnV0IE1VU1QgTk9UXG4gICAgICAgIC8vIHNlbmQgYSBCWUUgb24gZWFybHkgZGlhbG9ncy4gSG93ZXZlciwgdGhlIGNhbGxlZSdzIFVBIE1VU1QgTk9UIHNlbmQgYVxuICAgICAgICAvLyBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nIHVudGlsIGl0IGhhcyByZWNlaXZlZCBhbiBBQ0sgZm9yIGl0cyAyeHhcbiAgICAgICAgLy8gcmVzcG9uc2Ugb3IgdW50aWwgdGhlIHNlcnZlciB0cmFuc2FjdGlvbiB0aW1lcyBvdXQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTVcbiAgICAgICAgc3dpdGNoIChkaWFsb2cuc2Vzc2lvblN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TZXNzaW9uU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRpYWxvZyBzdGF0ZSBcIiArIGRpYWxvZy5zZXNzaW9uU3RhdGUpO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2Vzc2lvblN0YXRlLkVhcmx5OiAvLyBJbXBsZW1lbnRhdGlvbiBjaG9pY2UgLSBub3Qgc2VuZGluZyBCWUUgZm9yIGVhcmx5IGRpYWxvZ3MuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkaWFsb2cgc3RhdGUgXCIgKyBkaWFsb2cuc2Vzc2lvblN0YXRlKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNlc3Npb25TdGF0ZS5BY2tXYWl0OiB7IC8vIFRoaXMgc3RhdGUgb25seSBvY2N1cnMgaWYgd2UgYXJlIHRoZSBjYWxsZWUuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGluZyk7IC8vIFdlJ3JlIHRlcm1pbmF0aW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmRlbGVnYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBBQ0sgc2hvd3MgdXAsIHNheSBCWUUuXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gZGlhbG9nLmJ5ZShkZWxlZ2F0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPciB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIHRpbWVzIG91dCBiZWZvcmUgdGhlIEFDSyBhcnJpdmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgb25BY2tUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBkaWFsb2cuYnllKGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2Vzc2lvblN0YXRlLkNvbmZpcm1lZDoge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gZGlhbG9nLmJ5ZShkZWxlZ2F0ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkaWFsb2cgc3RhdGUgXCIgKyBkaWFsb2cuc2Vzc2lvblN0YXRlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHN0YXRlLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBJTkZPLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLl9pbmZvID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFVzaW5nIGNvcmUgc2Vzc2lvbiBkaWFsb2dcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlNlc3Npb24gZGlhbG9nIHVuZGVmaW5lZC5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kaWFsb2cuaW5mbyhkZWxlZ2F0ZSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBNRVNTQUdFLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLl9tZXNzYWdlID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFVzaW5nIGNvcmUgc2Vzc2lvbiBkaWFsb2dcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlNlc3Npb24gZGlhbG9nIHVuZGVmaW5lZC5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kaWFsb2cubWVzc2FnZShkZWxlZ2F0ZSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBSRUZFUi5cbiAgICAgKiBAcGFyYW0gb25Ob3RpZnkgLSBOb3RpZmljYXRpb24gY2FsbGJhY2suXG4gICAgICogQHBhcmFtIGRlbGVnYXRlIC0gUmVxdWVzdCBkZWxlZ2F0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9ucyBidWNrZXQuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuX3JlZmVyID0gZnVuY3Rpb24gKG9uTm90aWZ5LCBkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICAvLyBVc2luZyBjb3JlIHNlc3Npb24gZGlhbG9nXG4gICAgICAgIGlmICghdGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJTZXNzaW9uIGRpYWxvZyB1bmRlZmluZWQuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBzZXQsIGRlbGl2ZXIgYW55IGluLWRpYWxvZyBOT1RJRlkgcmVxdWVzdHMgaGVyZS4uLlxuICAgICAgICB0aGlzLm9uTm90aWZ5ID0gb25Ob3RpZnk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kaWFsb2cucmVmZXIoZGVsZWdhdGUsIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgQUNLIGFuZCB0aGVuIEJZRS4gVGhlcmUgYXJlIHVucmVjb3ZlcmFibGUgZXJyb3JzIHdoaWNoIGNhbiBvY2N1clxuICAgICAqIHdoaWxlIGhhbmRsaW5nIGRpYWxvZyBmb3JtaW5nIGFuZCBpbi1kaWFsb2cgSU5WSVRFIHJlc3BvbnNlcyBhbmQgd2hlblxuICAgICAqIHRoZXkgb2NjdXIgd2UgQUNLIHRoZSByZXNwb25zZSBhbmQgc2VuZCBhIEJZRS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIEJZRSBpcyBzZW50IGluIHRoZSBkaWFsb2cgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXNwb25zZVxuICAgICAqIHdoaWNoIGlzIG5vdCBuZWNlc3NhcmlseSBgdGhpcy5kaWFsb2dgLiBBbmQsIGFjY29yZGluZ2x5LCB0aGVcbiAgICAgKiBzZXNzaW9uIHN0YXRlIGlzIG5vdCB0cmFuc2l0aW9uZWQgdG8gdGVybWluYXRlZCBhbmQgc2Vzc2lvbiBpcyBub3QgY2xvc2VkLlxuICAgICAqIEBwYXJhbSBpbnZpdGVSZXNwb25zZSAtIFRoZSByZXNwb25zZSBjYXVzaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0gc3RhdHVzQ29kZSAtIFN0YXR1cyBjb2RlIGZvciBoZSByZWFzb24gcGhyYXNlLlxuICAgICAqIEBwYXJhbSByZWFzb25QaHJhc2UgLSBSZWFzb24gcGhyYXNlIGZvciB0aGUgQllFLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmFja0FuZEJ5ZSA9IGZ1bmN0aW9uIChyZXNwb25zZSwgc3RhdHVzQ29kZSwgcmVhc29uUGhyYXNlKSB7XG4gICAgICAgIHJlc3BvbnNlLmFjaygpO1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW107XG4gICAgICAgIGlmIChzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlYXNvbjogXCIgKyB0aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzaW5nIHRoZSBkaWFsb2cgc2Vzc2lvbiBhc3NvY2lhdGUgd2l0aCB0aGUgcmVzcG9uc2UgKHdoaWNoIG1pZ2h0IG5vdCBiZSB0aGlzLmRpYWxvZylcbiAgICAgICAgcmVzcG9uc2Uuc2Vzc2lvbi5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluIGRpYWxvZyBBQ0sgcmVxdWVzdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkFja1JlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uQWNrUmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQgJiYgdGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGluZykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJBQ0sgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpYWxvZyA9IHRoaXMuZGlhbG9nO1xuICAgICAgICBpZiAoIWRpYWxvZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChkaWFsb2cuc2lnbmFsaW5nU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6IHtcbiAgICAgICAgICAgICAgICAvLyBTdGF0ZSBzaG91bGQgbmV2ZXIgYmUgcmVhY2hlZCBhcyBmaXJzdCByZWxpYWJsZSByZXNwb25zZSBtdXN0IGhhdmUgYW5zd2VyL29mZmVyLlxuICAgICAgICAgICAgICAgIC8vIFNvIHdlIG11c3QgaGF2ZSBuZXZlciBoYXMgc2VudCBhbiBvZmZlci5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkludmFsaWQgc2lnbmFsaW5nIHN0YXRlIFwiICsgZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSBbXCJSZWFzb246IFwiICsgdGhpcy5nZXRSZWFzb25IZWFkZXJWYWx1ZSg0ODgsIFwiQmFkIE1lZGlhIERlc2NyaXB0aW9uXCIpXTtcbiAgICAgICAgICAgICAgICBkaWFsb2cuYnllKHVuZGVmaW5lZCwgeyBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbihzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZToge1xuICAgICAgICAgICAgICAgIC8vIFN0YXRlIHdlIHNob3VsZCBiZSBpbi5cbiAgICAgICAgICAgICAgICAvLyBFaXRoZXIgdGhlIEFDSyBoYXMgdGhlIGFuc3dlciB0aGF0IGdvdCB1cyBoZXJlLCBvciB3ZSB3ZXJlIGluIHRoaXMgc3RhdGUgcHJpb3IgdG8gdGhlIEFDSy5cbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGNvcmVfMS5nZXRCb2R5KHJlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIEFDSyBkb2Vzbid0IGhhdmUgYW4gYW5zd2VyLCBub3RoaW5nIHRvIGJlIGRvbmUuXG4gICAgICAgICAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJvZHkuY29udGVudERpc3Bvc2l0aW9uID09PSBcInJlbmRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJvZHkgPSBib2R5LmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcnR5cGUgPSBib2R5LmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChib2R5LmNvbnRlbnREaXNwb3NpdGlvbiAhPT0gXCJzZXNzaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZWNlaXZlZCBhbnN3ZXIgaW4gQUNLLlxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczogdGhpcy5fc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnM6IHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QW5zd2VyKGJvZHksIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW1wiUmVhc29uOiBcIiArIF90aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKDQ4OCwgXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIildO1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2cuYnllKHVuZGVmaW5lZCwgeyBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZUxvY2FsT2ZmZXI6IHtcbiAgICAgICAgICAgICAgICAvLyBTdGF0ZSBzaG91bGQgbmV2ZXIgYmUgcmVhY2hlZCBhcyBsb2NhbCBvZmZlciB3b3VsZCBiZSBhbnN3ZXJlZCBieSB0aGlzIEFDSy5cbiAgICAgICAgICAgICAgICAvLyBTbyB3ZSBtdXN0IGhhdmUgcmVjZWl2ZWQgYW4gQUNLIHdpdGhvdXQgYW4gYW5zd2VyLlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyBkaWFsb2cuc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtcIlJlYXNvbjogXCIgKyB0aGlzLmdldFJlYXNvbkhlYWRlclZhbHVlKDQ4OCwgXCJCYWQgTWVkaWEgRGVzY3JpcHRpb25cIildO1xuICAgICAgICAgICAgICAgIGRpYWxvZy5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyOiB7XG4gICAgICAgICAgICAgICAgLy8gU3RhdGUgc2hvdWxkIG5ldmVyIGJlIHJlYWNoZWQgYXMgcmVtb3RlIG9mZmVyIHdvdWxkIGJlIGFuc3dlcmVkIGluIGZpcnN0IHJlbGlhYmxlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vIFNvIHdlIG11c3QgaGF2ZSBuZXZlciBoYXMgc2VudCBhbiBhbnN3ZXIuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIGRpYWxvZy5zaWduYWxpbmdTdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW1wiUmVhc29uOiBcIiArIHRoaXMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoNDg4LCBcIkJhZCBNZWRpYSBEZXNjcmlwdGlvblwiKV07XG4gICAgICAgICAgICAgICAgZGlhbG9nLmJ5ZSh1bmRlZmluZWQsIHsgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGNvcmVfMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduYWxpbmcgc3RhdGUgXCIgKyBkaWFsb2cuc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmFsaW5nIHN0YXRlIFwiICsgZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIEJZRSByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uQnllUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlNlc3Npb24ub25CeWVSZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJCWUUgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbkJ5ZSkge1xuICAgICAgICAgICAgdmFyIGJ5ZSA9IG5ldyBieWVfMS5CeWUocmVxdWVzdCk7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uQnllKGJ5ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIElORk8gcmVxdWVzdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkluZm9SZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbi5vbkluZm9SZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJJTkZPIHJlY2VpdmVkIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLCBkcm9wcGluZyByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25JbmZvKSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9IG5ldyBpbmZvXzEuSW5mbyhyZXF1ZXN0KTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25JbmZvKGluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFdlIHNob3VsZCByZWplY3QgcmVxdWVzdC4uLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIElmIGEgVUEgcmVjZWl2ZXMgYW4gSU5GTyByZXF1ZXN0IGFzc29jaWF0ZWQgd2l0aCBhbiBJbmZvIFBhY2thZ2UgdGhhdFxuICAgICAgICAgICAgLy8gdGhlIFVBIGhhcyBub3QgaW5kaWNhdGVkIHdpbGxpbmduZXNzIHRvIHJlY2VpdmUsIHRoZSBVQSBNVVNUIHNlbmQgYVxuICAgICAgICAgICAgLy8gNDY5IChCYWQgSW5mbyBQYWNrYWdlKSByZXNwb25zZSAoc2VlIFNlY3Rpb24gMTEuNiksIHdoaWNoIGNvbnRhaW5zIGFcbiAgICAgICAgICAgIC8vIFJlY3YtSW5mbyBoZWFkZXIgZmllbGQgd2l0aCBJbmZvIFBhY2thZ2VzIGZvciB3aGljaCB0aGUgVUEgaXMgd2lsbGluZ1xuICAgICAgICAgICAgLy8gdG8gcmVjZWl2ZSBJTkZPIHJlcXVlc3RzLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwODYjc2VjdGlvbi00LjIuMlxuICAgICAgICAgICAgcmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluIGRpYWxvZyBJTlZJVEUgcmVxdWVzdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5vbkludml0ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uSW52aXRlUmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiSU5WSVRFIHJlY2VpdmVkIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLCBkcm9wcGluZyByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSBjb3JlIHRyYWNrIGFuZCBzZXQgdGhlIENvbnRhY3QgaGVhZGVyLFxuICAgICAgICAvLyBidXQgY3VycmVudGx5IHRoZSBzZXNzaW9uIHdoaWNoIGlzIHNldHRpbmcgaXQgaXMgaG9sZGluZyBvbnRvIGl0LlxuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gW1wiQ29udGFjdDogXCIgKyB0aGlzLl9jb250YWN0XTtcbiAgICAgICAgLy8gSGFuZGxlIFAtQXNzZXJ0ZWQtSWRlbnRpdHlcbiAgICAgICAgaWYgKHJlcXVlc3QubWVzc2FnZS5oYXNIZWFkZXIoXCJQLUFzc2VydGVkLUlkZW50aXR5XCIpKSB7XG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gcmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcIlAtQXNzZXJ0ZWQtSWRlbnRpdHlcIik7XG4gICAgICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhlYWRlciB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXNzZXJ0ZWRJZGVudGl0eSA9IGNvcmVfMS5HcmFtbWFyLm5hbWVBZGRySGVhZGVyUGFyc2UoaGVhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGSVhNRTogU0RIIG9wdGlvbnMgJiBTREggbW9kaWZpZXJzIG9wdGlvbnMgYXJlIGFwcGxpZWQgc29tZXdoYXQgYW1iaWd1b3VzbHlcbiAgICAgICAgLy8gICAgICAgIFRoaXMgYmVoYXZpb3Igd2FzIHBvcnRlZCBmcm9tIGxlZ2FjeSBjb2RlIGFuZCB0aGUgaXNzdWUgcHVudGVkIGRvd24gdGhlIHJvYWQuXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM6IHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zLFxuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyczogdGhpcy5fc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck1vZGlmaWVyc1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlckluRGlhbG9nKG9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICAgICAgdmFyIG91dGdvaW5nUmVzcG9uc2UgPSByZXF1ZXN0LmFjY2VwdCh7IHN0YXR1c0NvZGU6IDIwMCwgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsIGJvZHk6IGJvZHkgfSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVsZWdhdGUgJiYgX3RoaXMuZGVsZWdhdGUub25JbnZpdGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZShyZXF1ZXN0Lm1lc3NhZ2UsIG91dGdvaW5nUmVzcG9uc2UubWVzc2FnZSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBoYW5kbGUgdG8gcmUtSU5WSVRFIHJlcXVlc3RcIik7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKF90aGlzLmRpYWxvZy5zaWduYWxpbmdTdGF0ZSk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbG9jYWwvcmVtb3RlIG9mZmVyLi4uXG4gICAgICAgICAgICBpZiAoX3RoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlID09PSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG91dGdvaW5nUmVzcG9uc2UgPSByZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4OCB9KTsgLy8gTm90IEFjY2VwdGFibGUgSGVyZVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZWxlZ2F0ZSAmJiBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZShyZXF1ZXN0Lm1lc3NhZ2UsIG91dGdvaW5nUmVzcG9uc2UubWVzc2FnZSwgNDg4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJvbGxiYWNrXG4gICAgICAgICAgICBfdGhpcy5yb2xsYmFja09mZmVyKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG91dGdvaW5nUmVzcG9uc2UgPSByZXF1ZXN0LnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4OCB9KTsgLy8gTm90IEFjY2VwdGFibGUgSGVyZVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZWxlZ2F0ZSAmJiBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWxlZ2F0ZS5vbkludml0ZShyZXF1ZXN0Lm1lc3NhZ2UsIG91dGdvaW5nUmVzcG9uc2UubWVzc2FnZSwgNDg4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3JSb2xsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vIE5vIHdheSB0byByZWNvdmVyLCBzbyB0ZXJtaW5hdGUgc2Vzc2lvbiBhbmQgbWFyayBhcyBmYWlsZWQuXG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGVycm9yUm9sbGJhY2subWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIHJvbGxiYWNrIG9mZmVyIG9uIHJlLUlOVklURSByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgICAgIHZhciBvdXRnb2luZ1Jlc3BvbnNlID0gcmVxdWVzdC5yZWplY3QoeyBzdGF0dXNDb2RlOiA0ODggfSk7IC8vIE5vdCBBY2NlcHRhYmxlIEhlcmVcbiAgICAgICAgICAgICAgICAvLyBBIEJZRSBzaG91bGQgb25seSBiZSBzZW50IGlmIHNlc3Npb24gaXMgbm90IGFscmVhZHkgdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgYSBCWUUgbWF5IGJlIHNlbnQvcmVjZWl2ZWQgd2hpbGUgcmUtSU5WSVRFIGlzIG91dHN0YW5kaW5nLlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgQUNLIHdhcyBhbHJlYWR5IHNlbnQgYnkgdGhlIHRyYW5zYWN0aW9uLCBzbyBqdXN0IG5lZWQgdG8gc2VuZCBCWUUuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRyYUhlYWRlcnNCeWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzQnllLnB1c2goXCJSZWFzb246IFwiICsgX3RoaXMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoNTAwLCBcIkludGVybmFsIFNlcnZlciBFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpYWxvZy5ieWUodW5kZWZpbmVkLCB7IGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZVRyYW5zaXRpb24oc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmRlbGVnYXRlICYmIF90aGlzLmRlbGVnYXRlLm9uSW52aXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbGVnYXRlLm9uSW52aXRlKHJlcXVlc3QubWVzc2FnZSwgb3V0Z29pbmdSZXNwb25zZS5tZXNzYWdlLCA0ODgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBpbiBkaWFsb2cgTUVTU0FHRSByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uTWVzc2FnZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uTWVzc2FnZVJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIk1FU1NBR0UgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3IG1lc3NhZ2VfMS5NZXNzYWdlKHJlcXVlc3QpO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIE5PVElGWSByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uTm90aWZ5UmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlNlc3Npb24ub25Ob3RpZnlSZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJOT1RJRlkgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhpcyBhIE5PVElGWSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb2dyZXNzIG9mIGEgUkVGRVIsXG4gICAgICAgIC8vIGxvb2sgdG8gZGVsZWdhdGUgaGFuZGxpbmcgdG8gdGhlIGFzc29jaWF0ZWQgY2FsbGJhY2suXG4gICAgICAgIGlmICh0aGlzLm9uTm90aWZ5KSB7XG4gICAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gbmV3IG5vdGlmaWNhdGlvbl8xLk5vdGlmaWNhdGlvbihyZXF1ZXN0KTtcbiAgICAgICAgICAgIHRoaXMub25Ob3RpZnkobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UgYWNjZXB0IHRoZSBOT1RJRlkuXG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkpIHtcbiAgICAgICAgICAgIHZhciBub3RpZmljYXRpb24gPSBuZXcgbm90aWZpY2F0aW9uXzEuTm90aWZpY2F0aW9uKHJlcXVlc3QpO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbk5vdGlmeShub3RpZmljYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdC5hY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluIGRpYWxvZyBQUkFDSyByZXF1ZXN0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLm9uUHJhY2tSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbi5vblByYWNrUmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiUFJBQ0sgcmVjZWl2ZWQgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIsIGRyb3BwaW5nIHJlcXVlc3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZC5cIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW4gZGlhbG9nIFJFRkVSIHJlcXVlc3QuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUub25SZWZlclJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJTZXNzaW9uLm9uUmVmZXJSZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJSRUZFUiByZWNlaXZlZCB3aGlsZSBpbiBzdGF0ZSBcIiArIHRoaXMuc3RhdGUgKyBcIiwgZHJvcHBpbmcgcmVxdWVzdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSRUZFUiBpcyBhIFNJUCByZXF1ZXN0IGFuZCBpcyBjb25zdHJ1Y3RlZCBhcyBkZWZpbmVkIGluIFsxXS4gIEEgUkVGRVJcbiAgICAgICAgLy8gcmVxdWVzdCBNVVNUIGNvbnRhaW4gZXhhY3RseSBvbmUgUmVmZXItVG8gaGVhZGVyIGZpZWxkIHZhbHVlLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC4xXG4gICAgICAgIGlmICghcmVxdWVzdC5tZXNzYWdlLmhhc0hlYWRlcihcInJlZmVyLXRvXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiSW52YWxpZCBSRUZFUiBwYWNrZXQuIEEgcmVmZXItdG8gaGVhZGVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcuXCIpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZWplY3QoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVmZXJyYWwgPSBuZXcgcmVmZXJyYWxfMS5SZWZlcnJhbChyZXF1ZXN0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVmZXIocmVmZXJyYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiTm8gZGVsZWdhdGUgYXZhaWxhYmxlIHRvIGhhbmRsZSBSRUZFUiwgYXV0b21hdGljYWxseSBhY2NlcHRpbmcgYW5kIGZvbGxvd2luZy5cIik7XG4gICAgICAgICAgICByZWZlcnJhbFxuICAgICAgICAgICAgICAgIC5hY2NlcHQoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZmVycmFsXG4gICAgICAgICAgICAgICAgLm1ha2VJbnZpdGVyKF90aGlzLl9yZWZlcnJhbEludml0ZXJPcHRpb25zKVxuICAgICAgICAgICAgICAgIC5pbnZpdGUoKTsgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IGxvZ2dpbmcgYW5kIGVhdGluZyBlcnJvci4uLlxuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhbiBvZmZlciBvciBhbnN3ZXIgZm9yIGEgcmVzcG9uc2UgdG8gYW4gSU5WSVRFIHJlcXVlc3QuXG4gICAgICogSWYgYSByZW1vdGUgb2ZmZXIgd2FzIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0LCBzZXQgdGhlIHJlbW90ZVxuICAgICAqIGRlc2NyaXB0aW9uIGFuZCBnZXQgYSBsb2NhbCBhbnN3ZXIuIElmIGEgcmVtb3RlIG9mZmVyIHdhcyBub3RcbiAgICAgKiBwcm92aWRlZCwgZ2VuZXJhdGVzIGEgbG9jYWwgb2ZmZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZ2VuZXJhdGVSZXNwb25zZU9mZmVyQW5zd2VyID0gZnVuY3Rpb24gKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVJlc3BvbnNlT2ZmZXJBbnN3ZXJJbkRpYWxvZyhvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9keSA9IGNvcmVfMS5nZXRCb2R5KHJlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgIGlmICghYm9keSB8fCBib2R5LmNvbnRlbnREaXNwb3NpdGlvbiAhPT0gXCJzZXNzaW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9mZmVyKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0T2ZmZXJBbmRHZXRBbnN3ZXIoYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGFuIG9mZmVyIG9yIGFuc3dlciBmb3IgYSByZXNwb25zZSB0byBhbiBJTlZJVEUgcmVxdWVzdFxuICAgICAqIHdoZW4gYSBkaWFsb2cgKGVhcmx5IG9yIG90aGVyd2lzZSkgaGFzIGFscmVhZHkgYmVlbiBlc3RhYmxpc2hlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgTk9UIGJlIGNhbGxlZCBpZiBhIGRpYWxvZyBoYXMgeWV0IHRvIGJlIGVzdGFibGlzaGVkLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmdlbmVyYXRlUmVzcG9uc2VPZmZlckFuc3dlckluRGlhbG9nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIHVuZGVmaW5lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLmRpYWxvZy5zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPZmZlcihvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyOlxuICAgICAgICAgICAgICAgIC8vIG8gIE9uY2UgdGhlIFVBUyBoYXMgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgICAgICAgICAvLyBvZmZlciwgaXQgTVVTVCBOT1QgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgaW4gYW55IHJlc3BvbnNlc1xuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lmaWNhdGlvbiBhbG9uZSBjYW4gbmV2ZXIgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgdW50aWxcbiAgICAgICAgICAgICAgICAvLyBjb21wbGV0aW9uIG9mIHRoZSBpbml0aWFsIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgY2FzZSBjb3JlXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kaWFsb2cub2ZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBvZmZlciB1bmRlZmluZWQgaW4gc2lnbmFsaW5nIHN0YXRlIFwiICsgdGhpcy5kaWFsb2cuc2lnbmFsaW5nU3RhdGUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldE9mZmVyQW5kR2V0QW5zd2VyKHRoaXMuZGlhbG9nLm9mZmVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZTpcbiAgICAgICAgICAgICAgICAvLyBvICBPbmNlIHRoZSBVQVMgaGFzIHNlbnQgb3IgcmVjZWl2ZWQgYW4gYW5zd2VyIHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAgICAgLy8gb2ZmZXIsIGl0IE1VU1QgTk9UIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIGluIGFueSByZXNwb25zZXNcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgaW5pdGlhbCBJTlZJVEUuICBUaGlzIG1lYW5zIHRoYXQgYSBVQVMgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24gYWxvbmUgY2FuIG5ldmVyIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gY29tcGxldGlvbiBvZiB0aGUgaW5pdGlhbCB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSW4gZGlhbG9nIElOVklURSB3aXRob3V0IG9mZmVyLCBnZXQgYW4gb2ZmZXIgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPZmZlcihvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hbGluZyBzdGF0ZSBcIiArIHRoaXMuZGlhbG9nLnNpZ25hbGluZ1N0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgbG9jYWwgb2ZmZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuZ2V0T2ZmZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2RoID0gdGhpcy5zZXR1cFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgdmFyIHNkaE9wdGlvbnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zO1xuICAgICAgICB2YXIgc2RoTW9kaWZpZXJzID0gb3B0aW9ucy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzO1xuICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgd3JpdHRlbiB2ZXJ5IGRlZmVuc2l2ZWx5LiBEb24ndCB0cnVzdCBTREggdG8gYmVoYXZlLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHNkaC5nZXREZXNjcmlwdGlvbihzZGhPcHRpb25zLCBzZGhNb2RpZmllcnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJvZHlBbmRDb250ZW50VHlwZSkgeyByZXR1cm4gY29yZV8xLmZyb21Cb2R5TGVnYWN5KGJvZHlBbmRDb250ZW50VHlwZSk7IH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlNlc3Npb24uZ2V0T2ZmZXI6IFNESCBnZXREZXNjcmlwdGlvbiByZWplY3RlZC4uLlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikgeyAvLyBkb24ndCB0cnVzdCBTREggdG8gdGhyb3cgYW4gRXJyb3JcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiU2Vzc2lvbi5nZXRPZmZlcjogU0RIIGdldERlc2NyaXB0aW9uIHRocmV3Li4uXCIpO1xuICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUm9sbGJhY2sgbG9jYWwvcmVtb3RlIG9mZmVyLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnJvbGxiYWNrT2ZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcigpO1xuICAgICAgICBpZiAoIXNkaC5yb2xsYmFja0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IHdyaXR0ZW4gdmVyeSBkZWZlbnNpdmVseS4gRG9uJ3QgdHJ1c3QgU0RIIHRvIGJlaGF2ZS5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBzZGgucm9sbGJhY2tEZXNjcmlwdGlvbigpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihcIlNlc3Npb24ucm9sbGJhY2tPZmZlcjogU0RIIHJvbGxiYWNrRGVzY3JpcHRpb24gcmVqZWN0ZWQuLi5cIik7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHsgLy8gZG9uJ3QgdHJ1c3QgU0RIIHRvIHRocm93IGFuIEVycm9yXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlNlc3Npb24ucm9sbGJhY2tPZmZlcjogU0RIIHJvbGxiYWNrRGVzY3JpcHRpb24gdGhyZXcuLi5cIik7XG4gICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgcmVtb3RlIGFuc3dlci5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5zZXRBbnN3ZXIgPSBmdW5jdGlvbiAoYW5zd2VyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzZGggPSB0aGlzLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcigpO1xuICAgICAgICB2YXIgc2RoT3B0aW9ucyA9IG9wdGlvbnMuc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9wdGlvbnM7XG4gICAgICAgIHZhciBzZGhNb2RpZmllcnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJNb2RpZmllcnM7XG4gICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSB3cml0dGVuIHZlcnkgZGVmZW5zaXZlbHkuIERvbid0IHRydXN0IFNESCB0byBiZWhhdmUuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXNkaC5oYXNEZXNjcmlwdGlvbihhbnN3ZXIuY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBleGNlcHRpb25zXzEuQ29udGVudFR5cGVVbnN1cHBvcnRlZEVycm9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldEFuc3dlcjogU0RIIGhhc0Rlc2NyaXB0aW9uIHRocmV3Li4uXCIpO1xuICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHNkaC5zZXREZXNjcmlwdGlvbihhbnN3ZXIuY29udGVudCwgc2RoT3B0aW9ucywgc2RoTW9kaWZpZXJzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldEFuc3dlcjogU0RIIHNldERlc2NyaXB0aW9uIHJlamVjdGVkLi4uXCIpO1xuICAgICAgICAgICAgICAgIHZhciBlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IC8vIGRvbid0IHRydXN0IFNESCB0byB0aHJvdyBhbiBFcnJvclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldEFuc3dlcjogU0RIIHNldERlc2NyaXB0aW9uIHRocmV3Li4uXCIpO1xuICAgICAgICAgICAgdmFyIGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHJlbW90ZSBvZmZlciBhbmQgZ2V0IGxvY2FsIGFuc3dlci5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5zZXRPZmZlckFuZEdldEFuc3dlciA9IGZ1bmN0aW9uIChvZmZlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2RoID0gdGhpcy5zZXR1cFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgdmFyIHNkaE9wdGlvbnMgPSBvcHRpb25zLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPcHRpb25zO1xuICAgICAgICB2YXIgc2RoTW9kaWZpZXJzID0gb3B0aW9ucy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyTW9kaWZpZXJzO1xuICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgd3JpdHRlbiB2ZXJ5IGRlZmVuc2l2ZWx5LiBEb24ndCB0cnVzdCBTREggdG8gYmVoYXZlLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFzZGguaGFzRGVzY3JpcHRpb24ob2ZmZXIuY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBleGNlcHRpb25zXzEuQ29udGVudFR5cGVVbnN1cHBvcnRlZEVycm9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldE9mZmVyQW5kR2V0QW5zd2VyOiBTREggaGFzRGVzY3JpcHRpb24gdGhyZXcuLi5cIik7XG4gICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gc2RoLnNldERlc2NyaXB0aW9uKG9mZmVyLmNvbnRlbnQsIHNkaE9wdGlvbnMsIHNkaE1vZGlmaWVycylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBzZGguZ2V0RGVzY3JpcHRpb24oc2RoT3B0aW9ucywgc2RoTW9kaWZpZXJzKTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9keUFuZENvbnRlbnRUeXBlKSB7IHJldHVybiBjb3JlXzEuZnJvbUJvZHlMZWdhY3koYm9keUFuZENvbnRlbnRUeXBlKTsgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmVycm9yKFwiU2Vzc2lvbi5zZXRPZmZlckFuZEdldEFuc3dlcjogU0RIIHNldERlc2NyaXB0aW9uIG9yIGdldERlc2NyaXB0aW9uIHJlamVjdGVkLi4uXCIpO1xuICAgICAgICAgICAgICAgIHZhciBlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IC8vIGRvbid0IHRydXN0IFNESCB0byB0aHJvdyBhbiBFcnJvclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJTZXNzaW9uLnNldE9mZmVyQW5kR2V0QW5zd2VyOiBTREggc2V0RGVzY3JpcHRpb24gb3IgZ2V0RGVzY3JpcHRpb24gdGhyZXcuLi5cIik7XG4gICAgICAgICAgICB2YXIgZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTREggZm9yIGNvbmZpcm1lZCBkaWFsb2cuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuc2V0U2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChzZGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gc2RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU0RIIGZvciBjb25maXJtZWQgZGlhbG9nLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnNldHVwU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Nlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgPVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeSh0aGlzLCB0aGlzLnVzZXJBZ2VudC5jb25maWd1cmF0aW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbiBzZXNzaW9uIHN0YXRlLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaW52YWxpZFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBcIiArIF90aGlzLl9zdGF0ZSArIFwiIHRvIFwiICsgbmV3U3RhdGUpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBWYWxpZGF0ZSB0cmFuc2l0aW9uXG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Jbml0aWFsOlxuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSAhPT0gc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgIT09IHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl9zdGF0ZV8xLlNlc3Npb25TdGF0ZS5Fc3RhYmxpc2hpbmc6XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLkVzdGFibGlzaGVkICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0aW5nICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuRXN0YWJsaXNoZWQ6XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0aW5nICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHNlc3Npb25fc3RhdGVfMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgc3RhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyYW5zaXRpb25cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2Vzc2lvbiBcIiArIHRoaXMuaWQgKyBcIiB0cmFuc2l0aW9uZWQgdG8gc3RhdGUgXCIgKyB0aGlzLl9zdGF0ZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlRXZlbnRFbWl0dGVyLmVtaXQoXCJldmVudFwiLCB0aGlzLl9zdGF0ZSk7XG4gICAgICAgIC8vIERpc3Bvc2VcbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSBzZXNzaW9uX3N0YXRlXzEuU2Vzc2lvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5jb3B5UmVxdWVzdE9wdGlvbnMgPSBmdW5jdGlvbiAocmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDApIHsgcmVxdWVzdE9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzID8gcmVxdWVzdE9wdGlvbnMuZXh0cmFIZWFkZXJzLnNsaWNlKCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBib2R5ID0gcmVxdWVzdE9wdGlvbnMuYm9keSA/XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGVudERpc3Bvc2l0aW9uOiByZXF1ZXN0T3B0aW9ucy5ib2R5LmNvbnRlbnREaXNwb3NpdGlvbiB8fCBcInJlbmRlclwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiByZXF1ZXN0T3B0aW9ucy5ib2R5LmNvbnRlbnRUeXBlIHx8IFwidGV4dC9wbGFpblwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlcXVlc3RPcHRpb25zLmJvZHkuY29udGVudCB8fCBcIlwiXG4gICAgICAgICAgICB9IDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5nZXRSZWFzb25IZWFkZXJWYWx1ZSA9IGZ1bmN0aW9uIChjb2RlLCByZWFzb24pIHtcbiAgICAgICAgdmFyIGNhdXNlID0gY29kZTtcbiAgICAgICAgdmFyIHRleHQgPSB1dGlsc18xLmdldFJlYXNvblBocmFzZShjb2RlKTtcbiAgICAgICAgaWYgKCF0ZXh0ICYmIHJlYXNvbikge1xuICAgICAgICAgICAgdGV4dCA9IHJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJTSVA7Y2F1c2U9XCIgKyBjYXVzZSArICc7dGV4dD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgICB9O1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnJlZmVyRXh0cmFIZWFkZXJzID0gZnVuY3Rpb24gKHJlZmVyVG8pIHtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtdO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIlJlZmVycmVkLUJ5OiA8XCIgKyB0aGlzLnVzZXJBZ2VudC5jb25maWd1cmF0aW9uLnVyaSArIFwiPlwiKTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJDb250YWN0OiBcIiArIHRoaXMuX2NvbnRhY3QpO1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaChcIkFsbG93OiBcIiArIFtcbiAgICAgICAgICAgIFwiQUNLXCIsXG4gICAgICAgICAgICBcIkNBTkNFTFwiLFxuICAgICAgICAgICAgXCJJTlZJVEVcIixcbiAgICAgICAgICAgIFwiTUVTU0FHRVwiLFxuICAgICAgICAgICAgXCJCWUVcIixcbiAgICAgICAgICAgIFwiT1BUSU9OU1wiLFxuICAgICAgICAgICAgXCJJTkZPXCIsXG4gICAgICAgICAgICBcIk5PVElGWVwiLFxuICAgICAgICAgICAgXCJSRUZFUlwiXG4gICAgICAgIF0udG9TdHJpbmcoKSk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVmZXItVG86IFwiICsgcmVmZXJUbyk7XG4gICAgICAgIHJldHVybiBleHRyYUhlYWRlcnM7XG4gICAgfTtcbiAgICBTZXNzaW9uLnByb3RvdHlwZS5yZWZlclRvU3RyaW5nID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVmZXJUbztcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmVfMS5VUkkpIHtcbiAgICAgICAgICAgIC8vIFJFRkVSIHdpdGhvdXQgUmVwbGFjZXMgKEJsaW5kIFRyYW5zZmVyKVxuICAgICAgICAgICAgcmVmZXJUbyA9IHRhcmdldC50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUkVGRVIgd2l0aCBSZXBsYWNlcyAoQXR0ZW5kZWQgVHJhbnNmZXIpXG4gICAgICAgICAgICBpZiAoIXRhcmdldC5kaWFsb2cpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHRhcmdldC5yZW1vdGVJZGVudGl0eS5mcmllbmRseU5hbWU7XG4gICAgICAgICAgICB2YXIgcmVtb3RlVGFyZ2V0ID0gdGFyZ2V0LmRpYWxvZy5yZW1vdGVUYXJnZXQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBjYWxsSWQgPSB0YXJnZXQuZGlhbG9nLmNhbGxJZDtcbiAgICAgICAgICAgIHZhciByZW1vdGVUYWcgPSB0YXJnZXQuZGlhbG9nLnJlbW90ZVRhZztcbiAgICAgICAgICAgIHZhciBsb2NhbFRhZyA9IHRhcmdldC5kaWFsb2cubG9jYWxUYWc7XG4gICAgICAgICAgICB2YXIgcmVwbGFjZXMgPSBlbmNvZGVVUklDb21wb25lbnQoY2FsbElkICsgXCI7dG8tdGFnPVwiICsgcmVtb3RlVGFnICsgXCI7ZnJvbS10YWc9XCIgKyBsb2NhbFRhZyk7XG4gICAgICAgICAgICByZWZlclRvID0gXCJcXFwiXCIgKyBkaXNwbGF5TmFtZSArIFwiXFxcIiA8XCIgKyByZW1vdGVUYXJnZXQgKyBcIj9SZXBsYWNlcz1cIiArIHJlcGxhY2VzICsgXCI+XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZmVyVG87XG4gICAgfTtcbiAgICByZXR1cm4gU2Vzc2lvbjtcbn0oKSk7XG5leHBvcnRzLlNlc3Npb24gPSBTZXNzaW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi4vY29yZVwiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9FeGNlcHRpb25zXCIpO1xudmFyIFRyYW5zcG9ydF8xID0gcmVxdWlyZShcIi4uL1RyYW5zcG9ydFwiKTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4uL1V0aWxzXCIpO1xudmFyIFRyYW5zcG9ydFN0YXR1cztcbihmdW5jdGlvbiAoVHJhbnNwb3J0U3RhdHVzKSB7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19DT05ORUNUSU5HXCJdID0gMF0gPSBcIlNUQVRVU19DT05ORUNUSU5HXCI7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19PUEVOXCJdID0gMV0gPSBcIlNUQVRVU19PUEVOXCI7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19DTE9TSU5HXCJdID0gMl0gPSBcIlNUQVRVU19DTE9TSU5HXCI7XG4gICAgVHJhbnNwb3J0U3RhdHVzW1RyYW5zcG9ydFN0YXR1c1tcIlNUQVRVU19DTE9TRURcIl0gPSAzXSA9IFwiU1RBVFVTX0NMT1NFRFwiO1xufSkoVHJhbnNwb3J0U3RhdHVzID0gZXhwb3J0cy5UcmFuc3BvcnRTdGF0dXMgfHwgKGV4cG9ydHMuVHJhbnNwb3J0U3RhdHVzID0ge30pKTtcbi8qKlxuICogQ29tcHV0ZSBhbiBhbW91bnQgb2YgdGltZSBpbiBzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHNlbmRpbmcgYW5vdGhlclxuICoga2VlcC1hbGl2ZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbnZhciBjb21wdXRlS2VlcEFsaXZlVGltZW91dCA9IGZ1bmN0aW9uICh1cHBlckJvdW5kKSB7XG4gICAgdmFyIGxvd2VyQm91bmQgPSB1cHBlckJvdW5kICogMC44O1xuICAgIHJldHVybiAxMDAwICogKE1hdGgucmFuZG9tKCkgKiAodXBwZXJCb3VuZCAtIGxvd2VyQm91bmQpICsgbG93ZXJCb3VuZCk7XG59O1xuLyoqXG4gKiBAY2xhc3MgVHJhbnNwb3J0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG52YXIgVHJhbnNwb3J0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFRyYW5zcG9ydCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUcmFuc3BvcnQobG9nZ2VyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxvZ2dlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9IEVudW1zXzEuVHlwZVN0cmluZ3MuVHJhbnNwb3J0O1xuICAgICAgICBfdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IDA7XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ09OTkVDVElORztcbiAgICAgICAgX3RoaXMuY29uZmlndXJhdGlvbiA9IF90aGlzLmxvYWRDb25maWcob3B0aW9ucyk7XG4gICAgICAgIF90aGlzLnNlcnZlciA9IF90aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzWzBdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuaXNDb25uZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19PUEVOO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBPdXRnb2luZyBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kUHJvbWlzZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmICh0aGlzLndzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInVuYWJsZSB0byBzZW5kIG1lc3NhZ2UgLSBXZWJTb2NrZXQgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIldlYlNvY2tldCB1bmRlZmluZWQuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGSVhNRTogVGhpcyBjaGVjayBpcyBsaWtlbHkgbm90IG5lY2Vzc2FyeSBhcyBXZWJTb2NrZXQuc2VuZCgpIHdpbGxcbiAgICAgICAgLy8gdGhyb3cgSU5WQUxJRF9TVEFURV9FUlIgaWYgdGhlIGNvbm5lY3Rpb24gaXMgbm90IGN1cnJlbnRseSBvcGVuXG4gICAgICAgIC8vIHdoaWNoIGNvdWxkIGhhcHBlbiByZWdhcmRsZXNzIG9mIHdoYXQgd2UgdGhpbmcgdGhlIHN0YXRlIGlzLlxuICAgICAgICBpZiAoIXRoaXMuc3RhdHVzQXNzZXJ0KFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfT1BFTiwgb3B0aW9ucy5mb3JjZSkpIHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInVuYWJsZSB0byBzZW5kIG1lc3NhZ2UgLSBXZWJTb2NrZXQgbm90IG9wZW5cIik7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiV2ViU29ja2V0IG5vdCBvcGVuLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwic2VuZGluZyBXZWJTb2NrZXQgbWVzc2FnZTpcXG5cXG5cIiArIG1lc3NhZ2UgKyBcIlxcblwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZWJTb2NrZXQuc2VuZCgpIGNhbiB0aHJvdy5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYlNvY2tldC9zZW5kXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBlcnJvcikge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2VuZCBtZXNzYWdlLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IG1zZzogbWVzc2FnZSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3Qgc29ja2V0LlxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuZGlzY29ubmVjdFByb21pc2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZSkgeyAvLyBBbHJlYWR5IGRpc2Nvbm5lY3RpbmcuIEp1c3QgcmV0dXJuIHRoaXMuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmNvZGUgPSBvcHRpb25zLmNvZGUgfHwgMTAwMDtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXR1c1RyYW5zaXRpb24oVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TSU5HLCBvcHRpb25zLmZvcmNlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCkgeyAvLyBXZWJzb2NrZXQgaXMgYWxyZWFkeSBjbG9zZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgb3ZlcnJpZGVFdmVudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY29ubmVjdGlvblByb21pc2UpIHsgLy8gV2Vic29ja2V0IGlzIGNvbm5lY3RpbmcsIGNhbm5vdCBtb3ZlIHRvIGRpc2Nvbm5ldGluZyB5ZXRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVGhlIHdlYnNvY2tldCBkaWQgbm90IGRpc2Nvbm5lY3RcIik7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBvdmVycmlkZUV2ZW50OiB0cnVlIH0pOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENhbm5vdCBtb3ZlIHRvIGRpc2Nvbm5lY3RpbmcsIGJ1dCBub3QgaW4gY29ubmVjdGluZyBzdGF0ZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJUaGUgd2Vic29ja2V0IGRpZCBub3QgZGlzY29ubmVjdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0aW5nXCIpO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgX3RoaXMuZGlzY29ubmVjdERlZmVycmVkUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBpZiAoX3RoaXMucmVjb25uZWN0VGltZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLndzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RvcFNlbmRpbmdLZWVwQWxpdmVzKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcImNsb3NpbmcgV2ViU29ja2V0IFwiICsgX3RoaXMuc2VydmVyLndzVXJpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy53cy5jbG9zZShvcHRpb25zLmNvZGUsIG9wdGlvbnMucmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIkF0dGVtcHRlZCB0byBkaXNjb25uZWN0IGJ1dCB0aGUgd2Vic29ja2V0IGRvZXNuJ3QgZXhpc3RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbm5lY3Qgc29ja2V0LlxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuY29ubmVjdFByb21pc2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0lORyAmJiAhb3B0aW9ucy5mb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiV2ViU29ja2V0IFwiICsgdGhpcy5zZXJ2ZXIud3NVcmkgKyBcIiBpcyBjbG9zaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25Qcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlcnZlciA9IHRoaXMuc2VydmVyIHx8IHRoaXMuZ2V0TmV4dFdzU2VydmVyKG9wdGlvbnMuZm9yY2UpO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKChfdGhpcy5zdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfT1BFTiB8fCBfdGhpcy5zdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0lORylcbiAgICAgICAgICAgICAgICAmJiAhb3B0aW9ucy5mb3JjZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiV2ViU29ja2V0IFwiICsgX3RoaXMuc2VydmVyLndzVXJpICsgXCIgaXMgYWxyZWFkeSBjb25uZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiRmFpbGVkIHN0YXR1cyBjaGVjayAtIGF0dGVtcHRlZCB0byBvcGVuIGEgY29ubmVjdGlvbiBidXQgYWxyZWFkeSBvcGVuL2Nsb3NpbmdcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBfdGhpcy5jb25uZWN0RGVmZXJyZWRSZWplY3QgPSByZWplY3Q7XG4gICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSBUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkc7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiY29ubmVjdGluZ1wiKTtcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coXCJjb25uZWN0aW5nIHRvIFdlYlNvY2tldCBcIiArIF90aGlzLnNlcnZlci53c1VyaSk7XG4gICAgICAgICAgICBfdGhpcy5kaXNwb3NlV3MoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud3MgPSBuZXcgV2ViU29ja2V0KF90aGlzLnNlcnZlci53c1VyaSwgXCJzaXBcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMud3MuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjsgLy8gc2V0IGRhdGEgdHlwZSBvZiByZWNlaXZlZCBiaW5hcnkgbWVzc2FnZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzVHJhbnNpdGlvbihUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25FcnJvcihcImVycm9yIGNvbm5lY3RpbmcgdG8gV2ViU29ja2V0IFwiICsgX3RoaXMuc2VydmVyLndzVXJpICsgXCI6XCIgKyBlKTtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJGYWlsZWQgdG8gY3JlYXRlIGEgd2Vic29ja2V0XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX3RoaXMud3MpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJVbmV4cGVjdGVkIGluc3RhbmNlIHdlYnNvY2tldCBub3Qgc2V0XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmNvbm5lY3Rpb25UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzVHJhbnNpdGlvbihUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCJ0b29rIHRvbyBsb25nIHRvIGNvbm5lY3QgLSBleGNlZWRlZCB0aW1lIHNldCBpbiBjb25maWd1cmF0aW9uLmNvbm5lY3Rpb25UaW1lb3V0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ3VyYXRpb24uY29ubmVjdGlvblRpbWVvdXQgKyBcInNcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdChcImRpc2Nvbm5lY3RlZFwiLCB7IGNvZGU6IDEwMDAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvblByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiQ29ubmVjdGlvbiB0aW1lb3V0XCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciB3cyA9IF90aGlzLndzO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpc3Bvc2VXcygpO1xuICAgICAgICAgICAgICAgIGlmICh3cykge1xuICAgICAgICAgICAgICAgICAgICB3cy5jbG9zZSgxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBfdGhpcy5jb25maWd1cmF0aW9uLmNvbm5lY3Rpb25UaW1lb3V0ICogMTAwMCk7XG4gICAgICAgICAgICBfdGhpcy5ib3VuZE9uT3BlbiA9IF90aGlzLm9uT3Blbi5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLmJvdW5kT25NZXNzYWdlID0gX3RoaXMub25NZXNzYWdlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgX3RoaXMuYm91bmRPbkNsb3NlID0gX3RoaXMub25DbG9zZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLmJvdW5kT25FcnJvciA9IF90aGlzLm9uV2Vic29ja2V0RXJyb3IuYmluZChfdGhpcyk7XG4gICAgICAgICAgICBfdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCBfdGhpcy5ib3VuZE9uT3Blbik7XG4gICAgICAgICAgICBfdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBfdGhpcy5ib3VuZE9uTWVzc2FnZSk7XG4gICAgICAgICAgICBfdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgX3RoaXMuYm91bmRPbkNsb3NlKTtcbiAgICAgICAgICAgIF90aGlzLndzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBfdGhpcy5ib3VuZE9uRXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvblByb21pc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTtcbiAgICAgICAgdmFyIGZpbmlzaGVkRGF0YTtcbiAgICAgICAgLy8gQ1JMRiBLZWVwIEFsaXZlIHJlc3BvbnNlIGZyb20gc2VydmVyLiBDbGVhciBvdXIga2VlcCBhbGl2ZSB0aW1lb3V0LlxuICAgICAgICBpZiAoL14oXFxyXFxuKSskLy50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyS2VlcEFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInJlY2VpdmVkIFdlYlNvY2tldCBtZXNzYWdlIHdpdGggQ1JMRiBLZWVwIEFsaXZlIHJlc3BvbnNlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwicmVjZWl2ZWQgZW1wdHkgbWVzc2FnZSwgbWVzc2FnZSBkaXNjYXJkZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHsgLy8gV2ViU29ja2V0IGJpbmFyeSBtZXNzYWdlLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgVUludDhEYXRhIHdhcyBoZXJlIHByaW9yIHRvIHR5cGVzLCBhbmQgZG9lc24ndCBjaGVja1xuICAgICAgICAgICAgICAgIGZpbmlzaGVkRGF0YSA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJyZWNlaXZlZCBXZWJTb2NrZXQgYmluYXJ5IG1lc3NhZ2UgZmFpbGVkIHRvIGJlIGNvbnZlcnRlZCBpbnRvIHN0cmluZywgbWVzc2FnZSBkaXNjYXJkZWRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi50cmFjZVNpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInJlY2VpdmVkIFdlYlNvY2tldCBiaW5hcnkgbWVzc2FnZTpcXG5cXG5cIiArIGRhdGEgKyBcIlxcblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gV2ViU29ja2V0IHRleHQgbWVzc2FnZS5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24udHJhY2VTaXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJyZWNlaXZlZCBXZWJTb2NrZXQgdGV4dCBtZXNzYWdlOlxcblxcblwiICsgZGF0YSArIFwiXFxuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluaXNoZWREYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJtZXNzYWdlXCIsIGZpbmlzaGVkRGF0YSk7XG4gICAgfTtcbiAgICAvLyBUcmFuc3BvcnQgRXZlbnQgSGFuZGxlcnNcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbk9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TRUQpIHsgLy8gSW5kaWNhdGVkIHRoYXQgdGhlIHRyYW5zcG9ydCB0aGlua3MgdGhlIHdzIGlzIGRlYWQgYWxyZWFkeVxuICAgICAgICAgICAgdmFyIHdzID0gdGhpcy53cztcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZVdzKCk7XG4gICAgICAgICAgICBpZiAod3MpIHtcbiAgICAgICAgICAgICAgICB3cy5jbG9zZSgxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXR1c1RyYW5zaXRpb24oVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19PUEVOLCB0cnVlKTtcbiAgICAgICAgdGhpcy5lbWl0KFwiY29ubmVjdGVkXCIpO1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJXZWJTb2NrZXQgXCIgKyB0aGlzLnNlcnZlci53c1VyaSArIFwiIGNvbm5lY3RlZFwiKTtcbiAgICAgICAgLy8gQ2xlYXIgcmVjb25uZWN0VGltZXIgc2luY2Ugd2UgYXJlIG5vdCBkaXNjb25uZWN0ZWRcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0VGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCByZWNvbm5lY3Rpb25BdHRlbXB0c1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzID0gMDtcbiAgICAgICAgLy8gUmVzZXQgZGlzY29ubmVjdGlvbiBwcm9taXNlIHNvIHdlIGNhbiBkaXNjb25uZWN0IGZyb20gYSBmcmVzaCBzdGF0ZVxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFN0YXJ0IHNlbmRpbmcga2VlcC1hbGl2ZXNcbiAgICAgICAgdGhpcy5zdGFydFNlbmRpbmdLZWVwQWxpdmVzKCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdERlZmVycmVkUmVzb2x2ZSh7IG92ZXJyaWRlRXZlbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIHdlYnNvY2tldC5vbk9wZW4gd2l0aCBubyBjb25uZWN0RGVmZXJyZWRSZXNvbHZlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCAoY29kZTogXCIgKyBlLmNvZGUgKyAoZS5yZWFzb24gPyBcInwgcmVhc29uOiBcIiArIGUucmVhc29uIDogXCJcIikgKyBcIilcIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TSU5HKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiV2ViU29ja2V0IGNsb3NlZCB3aXRob3V0IFNJUC5qcyByZXF1ZXN0aW5nIGl0XCIpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwidHJhbnNwb3J0RXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wU2VuZGluZ0tlZXBBbGl2ZXMoKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgY29ubmVjdGlvbiB2YXJpYWJsZXMgc28gd2UgY2FuIGNvbm5lY3QgYWdhaW4gZnJvbSBhIGZyZXNoIHN0YXRlXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdERlZmVycmVkUmVqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlamVjdChcIldlYnNvY2tldCBDbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb25uZWN0RGVmZXJyZWRSZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbm5lY3REZWZlcnJlZFJlamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgdXNlciByZXF1ZXN0ZWQgdG8gY2xvc2UuXG4gICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3REZWZlcnJlZFJlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdERlZmVycmVkUmVzb2x2ZSh7IG92ZXJyaWRlRXZlbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RyYW5zaXRpb24oVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TRUQpO1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0RGVmZXJyZWRSZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdHVzVHJhbnNpdGlvbihUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NMT1NFRCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZW1pdChcImRpc2Nvbm5lY3RlZFwiLCB7IGNvZGU6IGUuY29kZSwgcmVhc29uOiBlLnJlYXNvbiB9KTtcbiAgICAgICAgdGhpcy5kaXNwb3NlV3MoKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGFuZCBjbGVhcnMgdGhlIGluc3RhbmNlIHdzXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5kaXNwb3NlV3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLndzKSB7XG4gICAgICAgICAgICB0aGlzLndzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsIHRoaXMuYm91bmRPbk9wZW4pO1xuICAgICAgICAgICAgdGhpcy53cy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmJvdW5kT25NZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMud3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIHRoaXMuYm91bmRPbkNsb3NlKTtcbiAgICAgICAgICAgIHRoaXMud3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuYm91bmRPbkVycm9yKTtcbiAgICAgICAgICAgIHRoaXMud3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBldmVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlRyYW5zcG9ydCBlcnJvcjogXCIgKyBlKTtcbiAgICAgICAgdGhpcy5lbWl0KFwidHJhbnNwb3J0RXJyb3JcIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUub25XZWJzb2NrZXRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKFwiVGhlIFdlYnNvY2tldCBoYWQgYW4gZXJyb3JcIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNvbm5lY3Rpb24gYXR0ZW1wdCBsb2dpYy5cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnJlY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJSZWNvbm5lY3Rpb24gYXR0ZW1wdCBcIiArIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgKyBcIiBmYWlsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubm9BdmFpbGFibGVTZXJ2ZXJzKCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJhdHRlbXB0ZWQgdG8gZ2V0IG5leHQgd3Mgc2VydmVyIGJ1dCB0aGVyZSBhcmUgbm8gYXZhaWxhYmxlIHdzIHNlcnZlcnMgbGVmdFwiKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJubyBhdmFpbGFibGUgd3Mgc2VydmVycyBsZWZ0IC0gZ29pbmcgdG8gY2xvc2VkIHN0YXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNUcmFuc2l0aW9uKFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0VELCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImNsb3NlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRTZXJ2ZXJFcnJvclN0YXR1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJhdHRlbXB0ZWQgdG8gcmVjb25uZWN0IHdoaWxlIGNvbm5lY3RlZCAtIGZvcmNpbmcgZGlzY29ubmVjdFwiKTtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCh7IGZvcmNlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPiB0aGlzLmNvbmZpZ3VyYXRpb24ubWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJtYXhpbXVtIHJlY29ubmVjdGlvbiBhdHRlbXB0cyBmb3IgV2ViU29ja2V0IFwiICsgdGhpcy5zZXJ2ZXIud3NVcmkpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwidHJhbnNwb3J0IFwiICsgdGhpcy5zZXJ2ZXIud3NVcmkgKyBcIiBmYWlsZWQgfCBjb25uZWN0aW9uIHN0YXRlIHNldCB0byAnZXJyb3InXCIpO1xuICAgICAgICAgICAgdGhpcy5zZXJ2ZXIuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJ0cmFuc3BvcnRFcnJvclwiKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5ub0F2YWlsYWJsZVNlcnZlcnMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyID0gdGhpcy5nZXROZXh0V3NTZXJ2ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdoZW4gdGhlcmUgYXJlIG5vIGF2YWlsYWJsZSBzZXJ2ZXJzLCB0aGUgcmVjb25uZWN0IGZ1bmN0aW9uIGVuZHMgb24gdGhlIG5leHQgcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgICAgIC8vIGFmdGVyIGNoZWNraW5nIGZvciBubyBhdmFpbGFibGUgc2VydmVycyBhZ2Fpbi5cbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcInRyeWluZyB0byByZWNvbm5lY3QgdG8gV2ViU29ja2V0IFwiICtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlci53c1VyaSArIFwiIChyZWNvbm5lY3Rpb24gYXR0ZW1wdCBcIiArIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgKyBcIilcIik7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSwgKHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPT09IDEpID8gMCA6IHRoaXMuY29uZmlndXJhdGlvbi5yZWNvbm5lY3Rpb25UaW1lb3V0ICogMTAwMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZXJyb3Igc3RhdGUgb2YgYWxsIHNlcnZlcnMgaW4gdGhlIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnJlc2V0U2VydmVyRXJyb3JTdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHdlYnNvY2tldCA9IF9hW19pXTtcbiAgICAgICAgICAgIHdlYnNvY2tldC5pc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBuZXh0IHNlcnZlciB0byB3aGljaCBjb25uZWN0LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2UgYWxsb3dzIGJ5cGFzcyBvZiBzZXJ2ZXIgZXJyb3Igc3RhdHVzIGNoZWNraW5nXG4gICAgICogQHJldHVybnMge09iamVjdH0gV3NTZXJ2ZXJcbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLmdldE5leHRXc1NlcnZlciA9IGZ1bmN0aW9uIChmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkgeyBmb3JjZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0aGlzLm5vQXZhaWxhYmxlU2VydmVycygpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiYXR0ZW1wdGVkIHRvIGdldCBuZXh0IHdzIHNlcnZlciBidXQgdGhlcmUgYXJlIG5vIGF2YWlsYWJsZSB3cyBzZXJ2ZXJzIGxlZnRcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZ2V0IG5leHQgd3Mgc2VydmVyLCBidXQgdGhlcmUgYXJlIG5vIGF2YWlsYWJsZSB3cyBzZXJ2ZXJzIGxlZnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9yZGVyIHNlcnZlcnMgYnkgd2VpZ2h0XG4gICAgICAgIHZhciBjYW5kaWRhdGVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHdzU2VydmVyID0gX2FbX2ldO1xuICAgICAgICAgICAgaWYgKHdzU2VydmVyLmlzRXJyb3IgJiYgIWZvcmNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaCh3c1NlcnZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh3c1NlcnZlci53ZWlnaHQgPiBjYW5kaWRhdGVzWzBdLndlaWdodCkge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMgPSBbd3NTZXJ2ZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAod3NTZXJ2ZXIud2VpZ2h0ID09PSBjYW5kaWRhdGVzWzBdLndlaWdodCkge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaCh3c1NlcnZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbmRpZGF0ZXMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZXNbaWR4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBhbGwgY29uZmlndXJhdGlvbiBzZXJ2ZXJzLCByZXR1cm5zIHRydWUgaWYgYWxsIG9mIHRoZW0gaGF2ZSBpc0Vycm9yOiB0cnVlIGFuZCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLm5vQXZhaWxhYmxlU2VydmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuY29uZmlndXJhdGlvbi53c1NlcnZlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2VydmVyID0gX2FbX2ldO1xuICAgICAgICAgICAgaWYgKCFzZXJ2ZXIuaXNFcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIEtlZXBBbGl2ZSBTdHVmZlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBrZWVwLWFsaXZlIChhIGRvdWJsZS1DUkxGIHNlcXVlbmNlKS5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnNlbmRLZWVwQWxpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCkge1xuICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIG91dHN0YW5kaW5nIGtlZXAgYWxpdmUsIGRvIG5vdCBzZW5kIGFub3RoZXIuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJrZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXRcIik7XG4gICAgICAgICAgICBfdGhpcy5jbGVhcktlZXBBbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgfSwgdGhpcy5jb25maWd1cmF0aW9uLmtlZXBBbGl2ZURlYm91bmNlICogMTAwMCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoXCJcXHJcXG5cXHJcXG5cIik7XG4gICAgfTtcbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLmNsZWFyS2VlcEFsaXZlVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZWVwQWxpdmVEZWJvdW5jZVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgc2VuZGluZyBrZWVwLWFsaXZlcy5cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24ua2VlcEFsaXZlSW50ZXJ2YWwgJiYgIXRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VuZEtlZXBBbGl2ZSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXMoKTtcbiAgICAgICAgICAgIH0sIGNvbXB1dGVLZWVwQWxpdmVUaW1lb3V0KHRoaXMuY29uZmlndXJhdGlvbi5rZWVwQWxpdmVJbnRlcnZhbCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wIHNlbmRpbmcga2VlcC1hbGl2ZXMuXG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zdG9wU2VuZGluZ0tlZXBBbGl2ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZUludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua2VlcEFsaXZlRGVib3VuY2VUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmtlZXBBbGl2ZUludGVydmFsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmtlZXBBbGl2ZURlYm91bmNlVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFN0YXR1cyBTdHVmZlxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBnaXZlbiBzdGF0dXMgYWdhaW5zdCBpbnN0YW5jZSBjdXJyZW50IHN0YXR1cy4gUmV0dXJucyB0cnVlIGlmIHRoZXkgbWF0Y2hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgVHJhbnNwb3J0LnByb3RvdHlwZS5zdGF0dXNBc3NlcnQgPSBmdW5jdGlvbiAoc3RhdHVzLCBmb3JjZSkge1xuICAgICAgICBpZiAoc3RhdHVzID09PSB0aGlzLnN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQXR0ZW1wdGVkIHRvIGFzc2VydCBcIiArXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKFRyYW5zcG9ydFN0YXR1cylbdGhpcy5zdGF0dXNdICsgXCIgYXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhUcmFuc3BvcnRTdGF0dXMpW3N0YXR1c10gKyBcIi0gY29udGludWluZyB3aXRoIG9wdGlvbjogJ2ZvcmNlJ1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJUcmllZCB0byBhc3NlcnQgXCIgK1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhUcmFuc3BvcnRTdGF0dXMpW3N0YXR1c10gKyBcIiBidXQgaXMgY3VycmVudGx5IFwiICtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoVHJhbnNwb3J0U3RhdHVzKVt0aGlzLnN0YXR1c10pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbnMgdGhlIHN0YXR1cy4gQ2hlY2tzIGZvciBsZWdhbCB0cmFuc2l0aW9uIHZpYSBhc3NlcnRpb24gYmVmb3JlaGFuZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGF0dXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLnN0YXR1c1RyYW5zaXRpb24gPSBmdW5jdGlvbiAoc3RhdHVzLCBmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkgeyBmb3JjZSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkF0dGVtcHRpbmcgdG8gdHJhbnNpdGlvbiBzdGF0dXMgZnJvbSBcIiArXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhUcmFuc3BvcnRTdGF0dXMpW3RoaXMuc3RhdHVzXSArIFwiIHRvIFwiICtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKFRyYW5zcG9ydFN0YXR1cylbc3RhdHVzXSk7XG4gICAgICAgIGlmICgoc3RhdHVzID09PSBUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkcgJiYgdGhpcy5zdGF0dXNBc3NlcnQoVHJhbnNwb3J0U3RhdHVzLlNUQVRVU19DTE9TRUQsIGZvcmNlKSkgfHxcbiAgICAgICAgICAgIChzdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfT1BFTiAmJiB0aGlzLnN0YXR1c0Fzc2VydChUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkcsIGZvcmNlKSkgfHxcbiAgICAgICAgICAgIChzdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0lORyAmJiB0aGlzLnN0YXR1c0Fzc2VydChUcmFuc3BvcnRTdGF0dXMuU1RBVFVTX09QRU4sIGZvcmNlKSkgfHxcbiAgICAgICAgICAgIChzdGF0dXMgPT09IFRyYW5zcG9ydFN0YXR1cy5TVEFUVVNfQ0xPU0VEKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJTdGF0dXMgdHJhbnNpdGlvbiBmYWlsZWQgLSByZXN1bHQ6IG5vLW9wIC0gcmVhc29uOlwiICtcbiAgICAgICAgICAgICAgICBcIiBlaXRoZXIgZ2F2ZSBhbiBub25leGlzdGVudCBzdGF0dXMgb3IgYXR0ZW1wdGVkIGlsbGVnYWwgdHJhbnNpdGlvblwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlndXJhdGlvbiBIYW5kbGluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gbG9hZC5cbiAgICAgKiByZXR1cm5zIHtDb25maWd1cmF0aW9ufVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUubG9hZENvbmZpZyA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHdzU2VydmVyczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1lOiBcIldTU1wiLFxuICAgICAgICAgICAgICAgICAgICBzaXBVcmk6IFwiPHNpcDplZGdlLnNpcC5vbnNpcC5jb207dHJhbnNwb3J0PXdzO2xyPlwiLFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdzVXJpOiBcIndzczovL2VkZ2Uuc2lwLm9uc2lwLmNvbVwiLFxuICAgICAgICAgICAgICAgICAgICBpc0Vycm9yOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IDUsXG4gICAgICAgICAgICBtYXhSZWNvbm5lY3Rpb25BdHRlbXB0czogMyxcbiAgICAgICAgICAgIHJlY29ubmVjdGlvblRpbWVvdXQ6IDQsXG4gICAgICAgICAgICBrZWVwQWxpdmVJbnRlcnZhbDogMCxcbiAgICAgICAgICAgIGtlZXBBbGl2ZURlYm91bmNlOiAxMCxcbiAgICAgICAgICAgIC8vIExvZ2dpbmdcbiAgICAgICAgICAgIHRyYWNlU2lwOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29uZmlnQ2hlY2sgPSB0aGlzLmdldENvbmZpZ3VyYXRpb25DaGVjaygpO1xuICAgICAgICAvLyBDaGVjayBNYW5kYXRvcnkgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2subWFuZGF0b3J5KSB7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IocGFyYW1ldGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZ3VyYXRpb25bcGFyYW1ldGVyXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2subWFuZGF0b3J5W3BhcmFtZXRlcl0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1twYXJhbWV0ZXJdID0gY2hlY2tlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbnNfMS5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgT3B0aW9uYWwgcGFyYW1ldGVyc1xuICAgICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gY29uZmlnQ2hlY2sub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWd1cmF0aW9uW3BhcmFtZXRlcl07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSwgYnV0IHNob3VsZG4ndCBiZSwgYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBudWxsLCBlbXB0eSBzdHJpbmcsIG9yIHVuZGVmaW5lZCB0aGVuIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBudW1iZXIgd2l0aCBOYU4gdmFsdWUgdGhlbiBhbHNvIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IEpTIGRvZXMgbm90IGFsbG93IFwidmFsdWUgPT09IE5hTlwiLCB0aGUgZm9sbG93aW5nIGRvZXMgdGhlIHdvcms6XG4gICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJudW1iZXJcIiAmJiBpc05hTih2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gY29uZmlnQ2hlY2sub3B0aW9uYWxbcGFyYW1ldGVyXSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uc18xLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2tlbGV0b24gPSB7fTsgLy8gRmlsbCB0aGUgdmFsdWUgb2YgdGhlIGNvbmZpZ3VyYXRpb25fc2tlbGV0b25cbiAgICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocGFyYW1ldGVyKSkge1xuICAgICAgICAgICAgICAgIHNrZWxldG9uW3BhcmFtZXRlcl0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5nc1twYXJhbWV0ZXJdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJldHVybkNvbmZpZ3VyYXRpb24gPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSwgc2tlbGV0b24pO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgYWZ0ZXIgdmFsaWRhdGlvbjpcIik7XG4gICAgICAgIGZvciAodmFyIHBhcmFtZXRlciBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCLCtyBcIiArIHBhcmFtZXRlciArIFwiOiBcIiArIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzW3BhcmFtZXRlcl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuQ29uZmlndXJhdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gY2hlY2tlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbkNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWFuZGF0b3J5OiB7fSxcbiAgICAgICAgICAgIG9wdGlvbmFsOiB7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBmdW5jdGlvbiB1c2VkIHRvIGNhbGwgJ3RoaXMubG9nZ2VyLmVycm9yJyBidXQgY2FsbGluZyAndGhpcycgd2l0aCBhbnl0aGluZyBoZXJlIGlzIGludmFsaWRcbiAgICAgICAgICAgICAgICB3c1NlcnZlcnM6IGZ1bmN0aW9uICh3c1NlcnZlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogQWxsb3cgZGVmaW5pbmcgd3NTZXJ2ZXJzIHBhcmFtZXRlciBhczpcbiAgICAgICAgICAgICAgICAgICAgICogIFN0cmluZzogXCJob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICogIEFycmF5IG9mIFN0cmluZ3M6IFtcImhvc3QxXCIsIFwiaG9zdDJcIl1cbiAgICAgICAgICAgICAgICAgICAgICogIEFycmF5IG9mIE9iamVjdHM6IFt7d3NVcmk6XCJob3N0MVwiLCB3ZWlnaHQ6MX0sIHt3c1VyaTpcImhvc3QyXCIsIHdlaWdodDowfV1cbiAgICAgICAgICAgICAgICAgICAgICogIEFycmF5IG9mIE9iamVjdHMgYW5kIFN0cmluZ3M6IFt7d3NVcmk6XCJob3N0MVwifSwgXCJob3N0MlwiXVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3c1NlcnZlcnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzU2VydmVycyA9IFt7IHdzVXJpOiB3c1NlcnZlcnMgfV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAod3NTZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHdzU2VydmVycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3c1NlcnZlcnNbaWR4XSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3c1NlcnZlcnNbaWR4XSA9IHsgd3NVcmk6IHdzU2VydmVyc1tpZHhdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh3c1NlcnZlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCB3c1NlcnZlcnNfMSA9IHdzU2VydmVyczsgX2kgPCB3c1NlcnZlcnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3c1NlcnZlciA9IHdzU2VydmVyc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3NTZXJ2ZXIud3NVcmkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3NTZXJ2ZXIud2VpZ2h0ICYmICFOdW1iZXIod3NTZXJ2ZXIud2VpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBjb3JlXzEuR3JhbW1hci5wYXJzZSh3c1NlcnZlci53c1VyaSwgXCJhYnNvbHV0ZVVSSVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmwgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoW1wid3NzXCIsIFwid3NcIiwgXCJ1ZHBcIl0uaW5kZXhPZih1cmwuc2NoZW1lKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3c1NlcnZlci5zaXBVcmkgPSBcIjxzaXA6XCIgKyB1cmwuaG9zdCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1cmwucG9ydCA/IFwiOlwiICsgdXJsLnBvcnQgOiBcIlwiKSArIFwiO3RyYW5zcG9ydD1cIiArIHVybC5zY2hlbWUucmVwbGFjZSgvXndzcyQvaSwgXCJ3c1wiKSArIFwiO2xyPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd3NTZXJ2ZXIud2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzU2VydmVyLndlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdzU2VydmVyLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3c1NlcnZlci5zY2hlbWUgPSB1cmwuc2NoZW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdzU2VydmVycztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGtlZXBBbGl2ZUludGVydmFsOiBmdW5jdGlvbiAoa2VlcEFsaXZlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKGtlZXBBbGl2ZUludGVydmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGtlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGtlZXBBbGl2ZURlYm91bmNlOiBmdW5jdGlvbiAoa2VlcEFsaXZlRGVib3VuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKGtlZXBBbGl2ZURlYm91bmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGtlZXBBbGl2ZURlYm91bmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYWNlU2lwOiBmdW5jdGlvbiAodHJhY2VTaXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmFjZVNpcCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFjZVNpcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IGZ1bmN0aW9uIChjb25uZWN0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwoY29ubmVjdGlvblRpbWVvdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBOdW1iZXIoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWF4UmVjb25uZWN0aW9uQXR0ZW1wdHM6IGZ1bmN0aW9uIChtYXhSZWNvbm5lY3Rpb25BdHRlbXB0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwobWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBOdW1iZXIobWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlY29ubmVjdGlvblRpbWVvdXQ6IGZ1bmN0aW9uIChyZWNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChVdGlsc18xLlV0aWxzLmlzRGVjaW1hbChyZWNvbm5lY3Rpb25UaW1lb3V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKHJlY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFRyYW5zcG9ydC5DID0gVHJhbnNwb3J0U3RhdHVzO1xuICAgIHJldHVybiBUcmFuc3BvcnQ7XG59KFRyYW5zcG9ydF8xLlRyYW5zcG9ydCkpO1xuZXhwb3J0cy5UcmFuc3BvcnQgPSBUcmFuc3BvcnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7XG4iLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCJ2YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246IGNvcmUudmVyc2lvbixcbiAgbW9kZTogcmVxdWlyZSgnLi9fbGlicmFyeScpID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMjAgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG59KTtcbiIsIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuIiwidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgc2FmZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKSB7XG4gIGlmICghKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25zdGFudHNcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFNJUCBNZXRob2RzXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIEM7XG4oZnVuY3Rpb24gKEMpIHtcbiAgICBDLkFDSyA9IFwiQUNLXCI7XG4gICAgQy5CWUUgPSBcIkJZRVwiO1xuICAgIEMuQ0FOQ0VMID0gXCJDQU5DRUxcIjtcbiAgICBDLklORk8gPSBcIklORk9cIjtcbiAgICBDLklOVklURSA9IFwiSU5WSVRFXCI7XG4gICAgQy5NRVNTQUdFID0gXCJNRVNTQUdFXCI7XG4gICAgQy5OT1RJRlkgPSBcIk5PVElGWVwiO1xuICAgIEMuT1BUSU9OUyA9IFwiT1BUSU9OU1wiO1xuICAgIEMuUkVHSVNURVIgPSBcIlJFR0lTVEVSXCI7XG4gICAgQy5VUERBVEUgPSBcIlVQREFURVwiO1xuICAgIEMuU1VCU0NSSUJFID0gXCJTVUJTQ1JJQkVcIjtcbiAgICBDLlBVQkxJU0ggPSBcIlBVQkxJU0hcIjtcbiAgICBDLlJFRkVSID0gXCJSRUZFUlwiO1xuICAgIEMuUFJBQ0sgPSBcIlBSQUNLXCI7XG59KShDID0gZXhwb3J0cy5DIHx8IChleHBvcnRzLkMgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaW5jb21pbmdfcmVxdWVzdF9tZXNzYWdlXzEgPSByZXF1aXJlKFwiLi9pbmNvbWluZy1yZXF1ZXN0LW1lc3NhZ2VcIik7XG52YXIgaW5jb21pbmdfcmVzcG9uc2VfbWVzc2FnZV8xID0gcmVxdWlyZShcIi4vaW5jb21pbmctcmVzcG9uc2UtbWVzc2FnZVwiKTtcbnZhciBvdXRnb2luZ19yZXF1ZXN0X21lc3NhZ2VfMSA9IHJlcXVpcmUoXCIuL291dGdvaW5nLXJlcXVlc3QtbWVzc2FnZVwiKTtcbi8qKlxuICogQ3JlYXRlIGEgQm9keSBnaXZlbiBhIGxlZ2FjeSBib2R5IHR5cGUuXG4gKiBAcGFyYW0gYm9keUxlZ2FjeSAtIEJvZHkgT2JqZWN0XG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZnJvbUJvZHlMZWdhY3koYm9keUxlZ2FjeSkge1xuICAgIHZhciBjb250ZW50ID0gKHR5cGVvZiBib2R5TGVnYWN5ID09PSBcInN0cmluZ1wiKSA/IGJvZHlMZWdhY3kgOiBib2R5TGVnYWN5LmJvZHk7XG4gICAgdmFyIGNvbnRlbnRUeXBlID0gKHR5cGVvZiBib2R5TGVnYWN5ID09PSBcInN0cmluZ1wiKSA/IFwiYXBwbGljYXRpb24vc2RwXCIgOiBib2R5TGVnYWN5LmNvbnRlbnRUeXBlO1xuICAgIHZhciBjb250ZW50RGlzcG9zaXRpb24gPSBjb250ZW50VHlwZVRvQ29udGVudERpc3Bvc2l0aW9uKGNvbnRlbnRUeXBlKTtcbiAgICB2YXIgYm9keSA9IHsgY29udGVudERpc3Bvc2l0aW9uOiBjb250ZW50RGlzcG9zaXRpb24sIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSwgY29udGVudDogY29udGVudCB9O1xuICAgIHJldHVybiBib2R5O1xufVxuZXhwb3J0cy5mcm9tQm9keUxlZ2FjeSA9IGZyb21Cb2R5TGVnYWN5O1xuLyoqXG4gKiBHaXZlbiBhIG1lc3NhZ2UsIGdldCBhIG5vcm1hbGl6ZWQgYm9keS5cbiAqIFRoZSBjb250ZW50IGRpc3Bvc2l0aW9uIGlzIGluZmVycmVkIGlmIG5vdCBzZXQuXG4gKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldEJvZHkobWVzc2FnZSkge1xuICAgIHZhciBjb250ZW50RGlzcG9zaXRpb247XG4gICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgIHZhciBjb250ZW50O1xuICAgIC8vIFdlJ3JlIGluIFVBUyByb2xlLCByZWNlaXZpbmcgaW5jb21pbmcgcmVxdWVzdFxuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgaW5jb21pbmdfcmVxdWVzdF9tZXNzYWdlXzEuSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ib2R5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogUGFyc2luZyBuZWVkcyB0eXBpbmdcbiAgICAgICAgICAgIHZhciBwYXJzZSA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIpO1xuICAgICAgICAgICAgY29udGVudERpc3Bvc2l0aW9uID0gcGFyc2UgPyBwYXJzZS50eXBlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29udGVudFR5cGUgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgICAgICAgY29udGVudCA9IG1lc3NhZ2UuYm9keTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSdyZSBpbiBVQUMgcm9sZSwgcmVjZWl2aW5nIGluY29taW5nIHJlc3BvbnNlXG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBpbmNvbWluZ19yZXNwb25zZV9tZXNzYWdlXzEuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9keSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFBhcnNpbmcgbmVlZHMgdHlwaW5nXG4gICAgICAgICAgICB2YXIgcGFyc2UgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGNvbnRlbnREaXNwb3NpdGlvbiA9IHBhcnNlID8gcGFyc2UudHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBtZXNzYWdlLmJvZHk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gV2UncmUgaW4gVUFDIHJvbGUsIHNlbmRpbmcgb3V0Z29pbmcgcmVxdWVzdFxuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2Ygb3V0Z29pbmdfcmVxdWVzdF9tZXNzYWdlXzEuT3V0Z29pbmdSZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ib2R5KSB7XG4gICAgICAgICAgICBjb250ZW50RGlzcG9zaXRpb24gPSBtZXNzYWdlLmdldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIik7XG4gICAgICAgICAgICBjb250ZW50VHlwZSA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogT3V0Z29pbmdSZXF1ZXN0IHNob3VsZCBub3QgYWxsb3cgYSBcInN0cmluZ1wiIGJvZHkgd2l0aG91dCBhIFwiQ29udGVudC1UeXBlXCIgaGVhZGVyLlxuICAgICAgICAgICAgICAgIGlmICghY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGVhZGVyIGNvbnRlbnQgdHlwZSBoZWFkZXIgZG9lcyBub3QgZXF1YWwgYm9keSBjb250ZW50IHR5cGUuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZW50ID0gbWVzc2FnZS5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IE91dGdvaW5nUmVxdWVzdCBzaG91bGQgbm90IGFsbG93IHRoZSBcIkNvbnRlbnQtVHlwZVwiIGhlYWRlciBub3QgdG8gbWF0Y2ggdGggYm9keSBjb250ZW50IHR5cGVcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUgIT09IG1lc3NhZ2UuYm9keS5jb250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZWFkZXIgY29udGVudCB0eXBlIGhlYWRlciBkb2VzIG5vdCBlcXVhbCBib2R5IGNvbnRlbnQgdHlwZS5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gbWVzc2FnZS5ib2R5LmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBtZXNzYWdlLmJvZHkuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSdyZSBpbiBVQVMgcm9sZSwgc2VuZGluZyBvdXRnb2luZyByZXNwb25zZVxuICAgIGlmIChpc0JvZHkobWVzc2FnZSkpIHtcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uID0gbWVzc2FnZS5jb250ZW50RGlzcG9zaXRpb247XG4gICAgICAgIGNvbnRlbnRUeXBlID0gbWVzc2FnZS5jb250ZW50VHlwZTtcbiAgICAgICAgY29udGVudCA9IG1lc3NhZ2UuY29udGVudDtcbiAgICB9XG4gICAgLy8gTm8gY29udGVudCwgbm8gYm9keS5cbiAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGNvbnRlbnRUeXBlICYmICFjb250ZW50RGlzcG9zaXRpb24pIHtcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uID0gY29udGVudFR5cGVUb0NvbnRlbnREaXNwb3NpdGlvbihjb250ZW50VHlwZSk7XG4gICAgfVxuICAgIGlmICghY29udGVudERpc3Bvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRlbnQgZGlzcG9zaXRpb24gdW5kZWZpbmVkLlwiKTtcbiAgICB9XG4gICAgaWYgKCFjb250ZW50VHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHR5cGUgdW5kZWZpbmVkLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uOiBjb250ZW50RGlzcG9zaXRpb24sXG4gICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgICAgY29udGVudDogY29udGVudFxuICAgIH07XG59XG5leHBvcnRzLmdldEJvZHkgPSBnZXRCb2R5O1xuLyoqXG4gKiBVc2VyLURlZmluZWQgVHlwZSBHdWFyZCBmb3IgQm9keS5cbiAqIEBwYXJhbSBib2R5IC0gQm9keSB0byBjaGVjay5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBpc0JvZHkoYm9keSkge1xuICAgIHJldHVybiBib2R5ICYmXG4gICAgICAgIHR5cGVvZiBib2R5LmNvbnRlbnQgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgdHlwZW9mIGJvZHkuY29udGVudFR5cGUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgYm9keS5jb250ZW50RGlzcG9zaXRpb24gPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0eXBlb2YgYm9keS5jb250ZW50RGlzcG9zaXRpb24gPT09IFwic3RyaW5nXCI7XG59XG5leHBvcnRzLmlzQm9keSA9IGlzQm9keTtcbi8vIElmIHRoZSBDb250ZW50LURpc3Bvc2l0aW9uIGhlYWRlciBmaWVsZCBpcyBtaXNzaW5nLCBib2RpZXMgb2Zcbi8vIENvbnRlbnQtVHlwZSBhcHBsaWNhdGlvbi9zZHAgaW1wbHkgdGhlIGRpc3Bvc2l0aW9uIFwic2Vzc2lvblwiLCB3aGlsZVxuLy8gb3RoZXIgY29udGVudCB0eXBlcyBpbXBseSBcInJlbmRlclwiLlxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbmZ1bmN0aW9uIGNvbnRlbnRUeXBlVG9Db250ZW50RGlzcG9zaXRpb24oY29udGVudFR5cGUpIHtcbiAgICBpZiAoY29udGVudFR5cGUgPT09IFwiYXBwbGljYXRpb24vc2RwXCIpIHtcbiAgICAgICAgcmV0dXJuIFwic2Vzc2lvblwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwicmVuZGVyXCI7XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyB0c2xpbnQ6ZGlzYWJsZTppbnRlcmZhY2UtbmFtZVxuLy8gdHNsaW50OmRpc2FibGU6IHRyYWlsaW5nLWNvbW1hXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4vLyB0c2xpbnQ6ZGlzYWJsZTogbWF4LWxpbmUtbGVuZ3RoXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb25seS1hcnJvdy1mdW5jdGlvbnNcbi8vIHRzbGludDpkaXNhYmxlOiBvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4vLyB0c2xpbnQ6ZGlzYWJsZTogbm8tY29uc2VjdXRpdmUtYmxhbmstbGluZXNcbi8vIHRzbGludDpkaXNhYmxlOiBhbGlnblxuLy8gdHNsaW50OmRpc2FibGU6IHJhZGl4XG4vLyB0c2xpbnQ6ZGlzYWJsZTogcXVvdGVtYXJrXG4vLyB0c2xpbnQ6ZGlzYWJsZTogc2VtaWNvbG9uXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb2JqZWN0LWxpdGVyYWwtc2hvcnRoYW5kXG4vLyB0c2xpbnQ6ZGlzYWJsZTogdmFyaWFibGUtbmFtZVxuLy8gdHNsaW50OmRpc2FibGU6IG5vLXZhci1rZXl3b3JkXG4vLyB0c2xpbnQ6ZGlzYWJsZTogd2hpdGVzcGFjZVxuLy8gdHNsaW50OmRpc2FibGU6IGN1cmx5XG4vLyB0c2xpbnQ6ZGlzYWJsZTogcHJlZmVyLWNvbnN0XG4vLyB0c2xpbnQ6ZGlzYWJsZTogb2JqZWN0LWxpdGVyYWwta2V5LXF1b3Rlc1xuLy8gdHNsaW50OmRpc2FibGU6IG5vLXN0cmluZy1saXRlcmFsXG4vLyB0c2xpbnQ6ZGlzYWJsZTogb25lLWxpbmVcbi8vIHRzbGludDpkaXNhYmxlOiBuby11bnVzZWQtZXhwcmVzc2lvblxuLy8gdHNsaW50OmRpc2FibGU6IHNwYWNlLWJlZm9yZS1mdW5jdGlvbi1wYXJlblxuLy8gdHNsaW50OmRpc2FibGU6IGFycm93LXJldHVybi1zaG9ydGhhbmRcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuLy8gR2VuZXJhdGVkIGJ5IFBFRy5qcyB2LiAwLjEwLjAgKHRzLXBlZ2pzIHBsdWdpbiB2LiAwLjIuNiApXG4vL1xuLy8gaHR0cHM6Ly9wZWdqcy5vcmcvICAgaHR0cHM6Ly9naXRodWIuY29tL21ldGFkZXZwcm8vdHMtcGVnanNcbnZhciBuYW1lX2FkZHJfaGVhZGVyXzEgPSByZXF1aXJlKFwiLi4vLi4vY29yZS9tZXNzYWdlcy9uYW1lLWFkZHItaGVhZGVyXCIpO1xudmFyIHVyaV8xID0gcmVxdWlyZShcIi4uLy4uL2NvcmUvbWVzc2FnZXMvdXJpXCIpO1xudmFyIFN5bnRheEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN5bnRheEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN5bnRheEVycm9yKG1lc3NhZ2UsIGV4cGVjdGVkLCBmb3VuZCwgbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgICAgIF90aGlzLmZvdW5kID0gZm91bmQ7XG4gICAgICAgIF90aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlN5bnRheEVycm9yXCI7XG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMsIFN5bnRheEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZSA9IGZ1bmN0aW9uIChleHBlY3RlZCwgZm91bmQpIHtcbiAgICAgICAgZnVuY3Rpb24gaGV4KGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBsaXRlcmFsRXNjYXBlKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCBcIlxcXFxcXFwiXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCBcIlxcXFx0XCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwRl0vZywgZnVuY3Rpb24gKGNoKSB7IHJldHVybiBcIlxcXFx4MFwiICsgaGV4KGNoKTsgfSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gXCJcXFxceFwiICsgaGV4KGNoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2xhc3NFc2NhcGUocykge1xuICAgICAgICAgICAgcmV0dXJuIHNcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXS9nLCBcIlxcXFxdXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXi9nLCBcIlxcXFxeXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCJcXFxcLVwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csIGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gXCJcXFxceDBcIiArIGhleChjaCk7IH0pXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDdGLVxceDlGXS9nLCBmdW5jdGlvbiAoY2gpIHsgcmV0dXJuIFwiXFxcXHhcIiArIGhleChjaCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb24pIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXhwZWN0YXRpb24udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZXhwZWN0YXRpb24udGV4dCkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRQYXJ0cyA9IGV4cGVjdGF0aW9uLnBhcnRzLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGFydClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNsYXNzRXNjYXBlKHBhcnRbMF0pICsgXCItXCIgKyBjbGFzc0VzY2FwZShwYXJ0WzFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2xhc3NFc2NhcGUocGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJbXCIgKyAoZXhwZWN0YXRpb24uaW52ZXJ0ZWQgPyBcIl5cIiA6IFwiXCIpICsgZXNjYXBlZFBhcnRzICsgXCJdXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFueVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhbnkgY2hhcmFjdGVyXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlbmQgb2YgaW5wdXRcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwib3RoZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGF0aW9uLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQxKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb25zID0gZXhwZWN0ZWQxLm1hcChkZXNjcmliZUV4cGVjdGF0aW9uKTtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgdmFyIGo7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbnMuc29ydCgpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uc1tpIC0gMV0gIT09IGRlc2NyaXB0aW9uc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25zW2pdID0gZGVzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChkZXNjcmlwdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXSArIFwiIG9yIFwiICsgZGVzY3JpcHRpb25zWzFdO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbnMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIiwgb3IgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgZGVzY3JpcHRpb25zW2Rlc2NyaXB0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkZXNjcmliZUZvdW5kKGZvdW5kMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kMSA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZDEpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIkV4cGVjdGVkIFwiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyBcIiBidXQgXCIgKyBkZXNjcmliZUZvdW5kKGZvdW5kKSArIFwiIGZvdW5kLlwiO1xuICAgIH07XG4gICAgcmV0dXJuIFN5bnRheEVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0cy5TeW50YXhFcnJvciA9IFN5bnRheEVycm9yO1xuZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcbiAgICB2YXIgcGVnJEZBSUxFRCA9IHt9O1xuICAgIHZhciBwZWckc3RhcnRSdWxlSW5kaWNlcyA9IHsgQ29udGFjdDogMTE5LCBOYW1lX0FkZHJfSGVhZGVyOiAxNTYsIFJlY29yZF9Sb3V0ZTogMTc2LCBSZXF1ZXN0X1Jlc3BvbnNlOiA4MSwgU0lQX1VSSTogNDUsIFN1YnNjcmlwdGlvbl9TdGF0ZTogMTg2LCBTdXBwb3J0ZWQ6IDE5MSwgUmVxdWlyZTogMTgyLCBWaWE6IDE5NCwgYWJzb2x1dGVVUkk6IDg0LCBDYWxsX0lEOiAxMTgsIENvbnRlbnRfRGlzcG9zaXRpb246IDEzMCwgQ29udGVudF9MZW5ndGg6IDEzNSwgQ29udGVudF9UeXBlOiAxMzYsIENTZXE6IDE0NiwgZGlzcGxheU5hbWU6IDEyMiwgRXZlbnQ6IDE0OSwgRnJvbTogMTUxLCBob3N0OiA1MiwgTWF4X0ZvcndhcmRzOiAxNTQsIE1pbl9TRTogMjEzLCBQcm94eV9BdXRoZW50aWNhdGU6IDE1NywgcXVvdGVkX3N0cmluZzogNDAsIFJlZmVyX1RvOiAxNzgsIFJlcGxhY2VzOiAxNzksIFNlc3Npb25fRXhwaXJlczogMjEwLCBzdHVuX1VSSTogMjE3LCBUbzogMTkyLCB0dXJuX1VSSTogMjIzLCB1dWlkOiAyMjYsIFdXV19BdXRoZW50aWNhdGU6IDIwOSwgY2hhbGxlbmdlOiAxNTgsIHNpcGZyYWc6IDIzMCwgUmVmZXJyZWRfQnk6IDIzMSB9O1xuICAgIHZhciBwZWckc3RhcnRSdWxlSW5kZXggPSAxMTk7XG4gICAgdmFyIHBlZyRjb25zdHMgPSBbXG4gICAgICAgIFwiXFxyXFxuXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXHJcXG5cIiwgZmFsc2UpLFxuICAgICAgICAvXlswLTldLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bYS16QS1aXS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXlswLTlhLWZBLUZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdLCBbXCJhXCIsIFwiZlwiXSwgW1wiQVwiLCBcIkZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXDAtXFx4RkZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIlxcMFwiLCBcIlxceEZGXCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bXCJdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxcIlwiXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgXCIgXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIgXCIsIGZhbHNlKSxcbiAgICAgICAgXCJcXHRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcdFwiLCBmYWxzZSksXG4gICAgICAgIC9eW2EtekEtWjAtOV0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdLCBbXCIwXCIsIFwiOVwiXV0sIGZhbHNlLCBmYWxzZSksXG4gICAgICAgIFwiO1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiO1wiLCBmYWxzZSksXG4gICAgICAgIFwiL1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiL1wiLCBmYWxzZSksXG4gICAgICAgIFwiP1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiP1wiLCBmYWxzZSksXG4gICAgICAgIFwiOlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiOlwiLCBmYWxzZSksXG4gICAgICAgIFwiQFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiQFwiLCBmYWxzZSksXG4gICAgICAgIFwiJlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJlwiLCBmYWxzZSksXG4gICAgICAgIFwiPVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPVwiLCBmYWxzZSksXG4gICAgICAgIFwiK1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiK1wiLCBmYWxzZSksXG4gICAgICAgIFwiJFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJFwiLCBmYWxzZSksXG4gICAgICAgIFwiLFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLFwiLCBmYWxzZSksXG4gICAgICAgIFwiLVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLVwiLCBmYWxzZSksXG4gICAgICAgIFwiX1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiX1wiLCBmYWxzZSksXG4gICAgICAgIFwiLlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLlwiLCBmYWxzZSksXG4gICAgICAgIFwiIVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiIVwiLCBmYWxzZSksXG4gICAgICAgIFwiflwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiflwiLCBmYWxzZSksXG4gICAgICAgIFwiKlwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKlwiLCBmYWxzZSksXG4gICAgICAgIFwiJ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJ1wiLCBmYWxzZSksXG4gICAgICAgIFwiKFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKFwiLCBmYWxzZSksXG4gICAgICAgIFwiKVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKVwiLCBmYWxzZSksXG4gICAgICAgIFwiJVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJVwiLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiIFwiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiAnOic7IH0sXG4gICAgICAgIC9eWyEtfl0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiIVwiLCBcIn5cIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXHg4MC1cXHVGRkZGXS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJcXHg4MFwiLCBcIlxcdUZGRkZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXHg4MC1cXHhCRl0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiXFx4ODBcIiwgXCJcXHhCRlwiXV0sIGZhbHNlLCBmYWxzZSksXG4gICAgICAgIC9eW2EtZl0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcImZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICBcImBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImBcIiwgZmFsc2UpLFxuICAgICAgICBcIjxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjxcIiwgZmFsc2UpLFxuICAgICAgICBcIj5cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj5cIiwgZmFsc2UpLFxuICAgICAgICBcIlxcXFxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxcIiwgZmFsc2UpLFxuICAgICAgICBcIltcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIltcIiwgZmFsc2UpLFxuICAgICAgICBcIl1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl1cIiwgZmFsc2UpLFxuICAgICAgICBcIntcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIntcIiwgZmFsc2UpLFxuICAgICAgICBcIn1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIn1cIiwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIipcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCIvXCI7IH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiPVwiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIihcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCIpXCI7IH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiPlwiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIjxcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCIsXCI7IH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiO1wiOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBcIjpcIjsgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJcXFwiXCI7IH0sXG4gICAgICAgIC9eWyEtJ10vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiIVwiLCBcIidcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXlsqLVtdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIipcIiwgXCJbXCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bXFxdLX5dLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIl1cIiwgXCJ+XCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgZnVuY3Rpb24gKGNvbnRlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudHM7XG4gICAgICAgIH0sXG4gICAgICAgIC9eWyMtW10vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiI1wiLCBcIltcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXDAtXFx0XS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJcXDBcIiwgXCJcXHRcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXltcXHgwQi1cXGZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIlxceDBCXCIsIFwiXFxmXCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgL15bXFx4MEUtXFx4N0ZdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIlxceDBFXCIsIFwiXFx4N0ZcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpID0gbmV3IHVyaV8xLlVSSShvcHRpb25zLmRhdGEuc2NoZW1lLCBvcHRpb25zLmRhdGEudXNlciwgb3B0aW9ucy5kYXRhLmhvc3QsIG9wdGlvbnMuZGF0YS5wb3J0KTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuc2NoZW1lO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51c2VyO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5ob3N0O1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5ob3N0X3R5cGU7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnBvcnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmkgPSBuZXcgdXJpXzEuVVJJKG9wdGlvbnMuZGF0YS5zY2hlbWUsIG9wdGlvbnMuZGF0YS51c2VyLCBvcHRpb25zLmRhdGEuaG9zdCwgb3B0aW9ucy5kYXRhLnBvcnQsIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zLCBvcHRpb25zLmRhdGEudXJpX2hlYWRlcnMpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5zY2hlbWU7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnVzZXI7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3Q7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEucG9ydDtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEudXJpX3BhcmFtcztcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ1NJUF9VUkknKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gb3B0aW9ucy5kYXRhLnVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzaXBzXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzaXBzXCIsIHRydWUpLFxuICAgICAgICBcInNpcFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic2lwXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodXJpX3NjaGVtZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNjaGVtZSA9IHVyaV9zY2hlbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51c2VyID0gZGVjb2RlVVJJQ29tcG9uZW50KHRleHQoKS5zbGljZSgwLCAtMSkpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucGFzc3dvcmQgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ob3N0ID0gdGV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGF0YS5ob3N0O1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdF90eXBlID0gJ2RvbWFpbic7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICAvXlthLXpBLVowLTlfXFwtXS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFtcIjBcIiwgXCI5XCJdLCBcIl9cIiwgXCItXCJdLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICAvXlthLXpBLVowLTlcXC1dLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcImFcIiwgXCJ6XCJdLCBbXCJBXCIsIFwiWlwiXSwgW1wiMFwiLCBcIjlcIl0sIFwiLVwiXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZSA9ICdJUHY2JztcbiAgICAgICAgICAgIHJldHVybiB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiOjpcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjo6XCIsIGZhbHNlKSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZSA9ICdJUHY2JztcbiAgICAgICAgICAgIHJldHVybiB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ob3N0X3R5cGUgPSAnSVB2NCc7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBcIjI1XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIyNVwiLCBmYWxzZSksXG4gICAgICAgIC9eWzAtNV0vLFxuICAgICAgICBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjVcIl1dLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgICBcIjJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjJcIiwgZmFsc2UpLFxuICAgICAgICAvXlswLTRdLyxcbiAgICAgICAgcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI0XCJdXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgXCIxXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIxXCIsIGZhbHNlKSxcbiAgICAgICAgL15bMS05XS8sXG4gICAgICAgIHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCIxXCIsIFwiOVwiXV0sIGZhbHNlLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uIChwb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBwb3J0ID0gcGFyc2VJbnQocG9ydC5qb2luKCcnKSk7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucG9ydCA9IHBvcnQ7XG4gICAgICAgICAgICByZXR1cm4gcG9ydDtcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0cmFuc3BvcnQ9XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0cmFuc3BvcnQ9XCIsIHRydWUpLFxuICAgICAgICBcInVkcFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidWRwXCIsIHRydWUpLFxuICAgICAgICBcInRjcFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidGNwXCIsIHRydWUpLFxuICAgICAgICBcInNjdHBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNjdHBcIiwgdHJ1ZSksXG4gICAgICAgIFwidGxzXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0bHNcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICh0cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zWyd0cmFuc3BvcnQnXSA9IHRyYW5zcG9ydC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9LFxuICAgICAgICBcInVzZXI9XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ1c2VyPVwiLCB0cnVlKSxcbiAgICAgICAgXCJwaG9uZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicGhvbmVcIiwgdHJ1ZSksXG4gICAgICAgIFwiaXBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImlwXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEudXJpX3BhcmFtcylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtcyA9IHt9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXNbJ3VzZXInXSA9IHVzZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJtZXRob2Q9XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJtZXRob2Q9XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGF0YS51cmlfcGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zID0ge307XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtc1snbWV0aG9kJ10gPSBtZXRob2Q7XG4gICAgICAgIH0sXG4gICAgICAgIFwidHRsPVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHRsPVwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKHR0bCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEucGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXNbJ3R0bCddID0gdHRsO1xuICAgICAgICB9LFxuICAgICAgICBcIm1hZGRyPVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibWFkZHI9XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAobWFkZHIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zWydtYWRkciddID0gbWFkZHI7XG4gICAgICAgIH0sXG4gICAgICAgIFwibHJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImxyXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGF0YS51cmlfcGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zID0ge307XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtc1snbHInXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKHBhcmFtLCB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEudXJpX3BhcmFtcylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtcyA9IHt9O1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXNbcGFyYW0udG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGhuYW1lLCBodmFsdWUpIHtcbiAgICAgICAgICAgIGhuYW1lID0gaG5hbWUuam9pbignJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGh2YWx1ZSA9IGh2YWx1ZS5qb2luKCcnKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfaGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEudXJpX2hlYWRlcnNbaG5hbWVdKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzW2huYW1lXSA9IFtodmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzW2huYW1lXS5wdXNoKGh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIC8vIGxvdHMgb2YgdGVzdHMgZmFpbCBpZiB0aGlzIGlzbid0IGd1YXJkZWQuLi5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ1JlZmVyX1RvJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmkgPSBuZXcgdXJpXzEuVVJJKG9wdGlvbnMuZGF0YS5zY2hlbWUsIG9wdGlvbnMuZGF0YS51c2VyLCBvcHRpb25zLmRhdGEuaG9zdCwgb3B0aW9ucy5kYXRhLnBvcnQsIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zLCBvcHRpb25zLmRhdGEudXJpX2hlYWRlcnMpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuc2NoZW1lO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEudXNlcjtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3Q7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5ob3N0X3R5cGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5wb3J0O1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEudXJpX3BhcmFtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCIvL1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLy9cIiwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc2NoZW1lID0gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiU0lQXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc2lwX3ZlcnNpb24gPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJJTlZJVEVcIiwgZmFsc2UpLFxuICAgICAgICBcIkFDS1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiQUNLXCIsIGZhbHNlKSxcbiAgICAgICAgXCJWWEFDSFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiVlhBQ0hcIiwgZmFsc2UpLFxuICAgICAgICBcIk9QVElPTlNcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIk9QVElPTlNcIiwgZmFsc2UpLFxuICAgICAgICBcIkJZRVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiQllFXCIsIGZhbHNlKSxcbiAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIkNBTkNFTFwiLCBmYWxzZSksXG4gICAgICAgIFwiUkVHSVNURVJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlJFR0lTVEVSXCIsIGZhbHNlKSxcbiAgICAgICAgXCJTVUJTQ1JJQkVcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlNVQlNDUklCRVwiLCBmYWxzZSksXG4gICAgICAgIFwiTk9USUZZXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJOT1RJRllcIiwgZmFsc2UpLFxuICAgICAgICBcIlJFRkVSXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJSRUZFUlwiLCBmYWxzZSksXG4gICAgICAgIFwiUFVCTElTSFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiUFVCTElTSFwiLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5tZXRob2QgPSB0ZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kYXRhLm1ldGhvZDtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKHN0YXR1c19jb2RlKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc3RhdHVzX2NvZGUgPSBwYXJzZUludChzdGF0dXNfY29kZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFzb25fcGhyYXNlID0gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZHgsIGxlbmd0aDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGxlbmd0aCA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXJbaWR4XS5wYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGhlYWRlcjtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlcilcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBuYW1lX2FkZHJfaGVhZGVyXzEuTmFtZUFkZHJIZWFkZXIob3B0aW9ucy5kYXRhLnVyaSwgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lLCBvcHRpb25zLmRhdGEucGFyYW1zKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnVyaTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEucGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlci5wdXNoKHsgJ3Bvc2l0aW9uJzogcGVnJGN1cnJQb3MsXG4gICAgICAgICAgICAgICAgJ29mZnNldCc6IGxvY2F0aW9uKCkuc3RhcnQub2Zmc2V0LFxuICAgICAgICAgICAgICAgICdwYXJzZWQnOiBoZWFkZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gdGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5TmFtZVswXSA9PT0gJ1xcXCInKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZS5zdWJzdHJpbmcoMSwgZGlzcGxheU5hbWUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJxXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJxXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAocSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEucGFyYW1zKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXNbJ3EnXSA9IHE7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhwaXJlc1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZXhwaXJlc1wiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKGV4cGlyZXMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnBhcmFtcylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucGFyYW1zID0ge307XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucGFyYW1zWydleHBpcmVzJ10gPSBleHBpcmVzO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZGVsdGFfc2Vjb25kcykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRlbHRhX3NlY29uZHMuam9pbignJykpO1xuICAgICAgICB9LFxuICAgICAgICBcIjBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjBcIiwgZmFsc2UpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh0ZXh0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocGFyYW0sIHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGF0YS5wYXJhbXMpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnBhcmFtc1twYXJhbS50b0xvd2VyQ2FzZSgpXSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBcInJlbmRlclwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicmVuZGVyXCIsIHRydWUpLFxuICAgICAgICBcInNlc3Npb25cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNlc3Npb25cIiwgdHJ1ZSksXG4gICAgICAgIFwiaWNvblwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaWNvblwiLCB0cnVlKSxcbiAgICAgICAgXCJhbGVydFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYWxlcnRcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ0NvbnRlbnRfRGlzcG9zaXRpb24nKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnR5cGUgPSB0ZXh0KCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJoYW5kbGluZ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaGFuZGxpbmdcIiwgdHJ1ZSksXG4gICAgICAgIFwib3B0aW9uYWxcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm9wdGlvbmFsXCIsIHRydWUpLFxuICAgICAgICBcInJlcXVpcmVkXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZXF1aXJlZFwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gcGFyc2VJbnQobGVuZ3RoLmpvaW4oJycpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gdGV4dCgpO1xuICAgICAgICB9LFxuICAgICAgICBcInRleHRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInRleHRcIiwgdHJ1ZSksXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImltYWdlXCIsIHRydWUpLFxuICAgICAgICBcImF1ZGlvXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJhdWRpb1wiLCB0cnVlKSxcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidmlkZW9cIiwgdHJ1ZSksXG4gICAgICAgIFwiYXBwbGljYXRpb25cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImFwcGxpY2F0aW9uXCIsIHRydWUpLFxuICAgICAgICBcIm1lc3NhZ2VcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm1lc3NhZ2VcIiwgdHJ1ZSksXG4gICAgICAgIFwibXVsdGlwYXJ0XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJtdWx0aXBhcnRcIiwgdHJ1ZSksXG4gICAgICAgIFwieC1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIngtXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoY3NlcV92YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZhbHVlID0gcGFyc2VJbnQoY3NlcV92YWx1ZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChleHBpcmVzKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhID0gZXhwaXJlczsgfSxcbiAgICAgICAgZnVuY3Rpb24gKGV2ZW50X3R5cGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ldmVudCA9IGV2ZW50X3R5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgdmFyIHRhZyA9IG9wdGlvbnMuZGF0YS50YWc7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNldFBhcmFtKCd0YWcnLCB0YWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRhZ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidGFnXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodGFnKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhLnRhZyA9IHRhZzsgfSxcbiAgICAgICAgZnVuY3Rpb24gKGZvcndhcmRzKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBwYXJzZUludChmb3J3YXJkcy5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChtaW5fZXhwaXJlcykgeyBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07IG9wdGlvbnMuZGF0YSA9IG1pbl9leHBpcmVzOyB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGlnZXN0XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJEaWdlc3RcIiwgdHJ1ZSksXG4gICAgICAgIFwicmVhbG1cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJlYWxtXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAocmVhbG0pIHsgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9OyBvcHRpb25zLmRhdGEucmVhbG0gPSByZWFsbTsgfSxcbiAgICAgICAgXCJkb21haW5cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRvbWFpblwiLCB0cnVlKSxcbiAgICAgICAgXCJub25jZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibm9uY2VcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChub25jZSkgeyBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07IG9wdGlvbnMuZGF0YS5ub25jZSA9IG5vbmNlOyB9LFxuICAgICAgICBcIm9wYXF1ZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwib3BhcXVlXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAob3BhcXVlKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhLm9wYXF1ZSA9IG9wYXF1ZTsgfSxcbiAgICAgICAgXCJzdGFsZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic3RhbGVcIiwgdHJ1ZSksXG4gICAgICAgIFwidHJ1ZVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHJ1ZVwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07IG9wdGlvbnMuZGF0YS5zdGFsZSA9IHRydWU7IH0sXG4gICAgICAgIFwiZmFsc2VcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImZhbHNlXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTsgb3B0aW9ucy5kYXRhLnN0YWxlID0gZmFsc2U7IH0sXG4gICAgICAgIFwiYWxnb3JpdGhtXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJhbGdvcml0aG1cIiwgdHJ1ZSksXG4gICAgICAgIFwibWQ1XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJNRDVcIiwgdHJ1ZSksXG4gICAgICAgIFwibWQ1LXNlc3NcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIk1ENS1zZXNzXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoYWxnb3JpdGhtKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuYWxnb3JpdGhtID0gYWxnb3JpdGhtLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwicW9wXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJxb3BcIiwgdHJ1ZSksXG4gICAgICAgIFwiYXV0aC1pbnRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImF1dGgtaW50XCIsIHRydWUpLFxuICAgICAgICBcImF1dGhcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImF1dGhcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChxb3BfdmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5xb3AgfHwgKG9wdGlvbnMuZGF0YS5xb3AgPSBbXSk7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucW9wLnB1c2gocW9wX3ZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocmFja192YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZhbHVlID0gcGFyc2VJbnQocmFja192YWx1ZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZHgsIGxlbmd0aDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGxlbmd0aCA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXJbaWR4XS5wYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGhlYWRlcjtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlcilcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBuYW1lX2FkZHJfaGVhZGVyXzEuTmFtZUFkZHJIZWFkZXIob3B0aW9ucy5kYXRhLnVyaSwgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lLCBvcHRpb25zLmRhdGEucGFyYW1zKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnVyaTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEucGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm11bHRpX2hlYWRlci5wdXNoKHsgJ3Bvc2l0aW9uJzogcGVnJGN1cnJQb3MsXG4gICAgICAgICAgICAgICAgJ29mZnNldCc6IGxvY2F0aW9uKCkuc3RhcnQub2Zmc2V0LFxuICAgICAgICAgICAgICAgICdwYXJzZWQnOiBoZWFkZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICghKG9wdGlvbnMuZGF0YS5yZXBsYWNlc19mcm9tX3RhZyAmJiBvcHRpb25zLmRhdGEucmVwbGFjZXNfdG9fdGFnKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgY2FsbF9pZDogb3B0aW9ucy5kYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBcImZyb20tdGFnXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJmcm9tLXRhZ1wiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKGZyb21fdGFnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucmVwbGFjZXNfZnJvbV90YWcgPSBmcm9tX3RhZztcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0by10YWdcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInRvLXRhZ1wiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKHRvX3RhZykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJlcGxhY2VzX3RvX3RhZyA9IHRvX3RhZztcbiAgICAgICAgfSxcbiAgICAgICAgXCJlYXJseS1vbmx5XCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJlYXJseS1vbmx5XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuZWFybHlfb25seSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChoZWFkLCByKSB7IHJldHVybiByOyB9LFxuICAgICAgICBmdW5jdGlvbiAoaGVhZCwgdGFpbCkgeyByZXR1cm4gbGlzdChoZWFkLCB0YWlsKTsgfSxcbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgPT09ICdSZXF1aXJlJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IHZhbHVlIHx8IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAocnNlcV92YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZhbHVlID0gcGFyc2VJbnQocnNlcV92YWx1ZS5qb2luKCcnKSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYWN0aXZlXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJhY3RpdmVcIiwgdHJ1ZSksXG4gICAgICAgIFwicGVuZGluZ1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicGVuZGluZ1wiLCB0cnVlKSxcbiAgICAgICAgXCJ0ZXJtaW5hdGVkXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0ZXJtaW5hdGVkXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuc3RhdGUgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVhc29uXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZWFzb25cIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVhc29uICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhc29uID0gcmVhc29uO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZXhwaXJlcykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBleHBpcmVzICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuZXhwaXJlcyA9IGV4cGlyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmV0cnlfYWZ0ZXJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJldHJ5X2FmdGVyXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAocmV0cnlfYWZ0ZXIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0cnlfYWZ0ZXIgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZXRyeV9hZnRlciA9IHJldHJ5X2FmdGVyO1xuICAgICAgICB9LFxuICAgICAgICBcImRlYWN0aXZhdGVkXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkZWFjdGl2YXRlZFwiLCB0cnVlKSxcbiAgICAgICAgXCJwcm9iYXRpb25cIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInByb2JhdGlvblwiLCB0cnVlKSxcbiAgICAgICAgXCJyZWplY3RlZFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicmVqZWN0ZWRcIiwgdHJ1ZSksXG4gICAgICAgIFwidGltZW91dFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidGltZW91dFwiLCB0cnVlKSxcbiAgICAgICAgXCJnaXZldXBcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImdpdmV1cFwiLCB0cnVlKSxcbiAgICAgICAgXCJub3Jlc291cmNlXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJub3Jlc291cmNlXCIsIHRydWUpLFxuICAgICAgICBcImludmFyaWFudFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaW52YXJpYW50XCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0UnVsZSA9PT0gJ1N1cHBvcnRlZCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB2YWx1ZSB8fCBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgdmFyIHRhZyA9IG9wdGlvbnMuZGF0YS50YWc7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBuZXcgbmFtZV9hZGRyX2hlYWRlcl8xLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNldFBhcmFtKCd0YWcnLCB0YWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInR0bFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHRsXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmlhX3R0bF92YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnR0bCA9IHZpYV90dGxfdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIFwibWFkZHJcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm1hZGRyXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmlhX21hZGRyKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEubWFkZHIgPSB2aWFfbWFkZHI7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVjZWl2ZWRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJlY2VpdmVkXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodmlhX3JlY2VpdmVkKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucmVjZWl2ZWQgPSB2aWFfcmVjZWl2ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYnJhbmNoXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJicmFuY2hcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfYnJhbmNoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEuYnJhbmNoID0gdmlhX2JyYW5jaDtcbiAgICAgICAgfSxcbiAgICAgICAgXCJycG9ydFwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicnBvcnRcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZV9wb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlX3BvcnQgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ycG9ydCA9IHJlc3BvbnNlX3BvcnQuam9pbignJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfcHJvdG9jb2wpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wcm90b2NvbCA9IHZpYV9wcm90b2NvbDtcbiAgICAgICAgfSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlVEUFwiLCB0cnVlKSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlRDUFwiLCB0cnVlKSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlRMU1wiLCB0cnVlKSxcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlNDVFBcIiwgdHJ1ZSksXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudHJhbnNwb3J0ID0gdmlhX3RyYW5zcG9ydDtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmhvc3QgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh2aWFfc2VudF9ieV9wb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEucG9ydCA9IHBhcnNlSW50KHZpYV9zZW50X2J5X3BvcnQuam9pbignJykpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAodHRsKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodHRsLmpvaW4oJycpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGRlbHRhU2Vjb25kcykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnU2Vzc2lvbl9FeHBpcmVzJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5kZWx0YVNlY29uZHMgPSBkZWx0YVNlY29uZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicmVmcmVzaGVyXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZWZyZXNoZXJcIiwgZmFsc2UpLFxuICAgICAgICBcInVhc1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidWFzXCIsIGZhbHNlKSxcbiAgICAgICAgXCJ1YWNcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInVhY1wiLCBmYWxzZSksXG4gICAgICAgIGZ1bmN0aW9uIChlbmRwb2ludCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnU2Vzc2lvbl9FeHBpcmVzJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWZyZXNoZXIgPSBlbmRwb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGRlbHRhU2Vjb25kcykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnTWluX1NFJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IGRlbHRhU2Vjb25kcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdHVuc1wiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic3R1bnNcIiwgdHJ1ZSksXG4gICAgICAgIFwic3R1blwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic3R1blwiLCB0cnVlKSxcbiAgICAgICAgZnVuY3Rpb24gKHNjaGVtZSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBkYXRhOiB7fSB9O1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNjaGVtZSA9IHNjaGVtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgZGF0YToge30gfTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ob3N0ID0gaG9zdDtcbiAgICAgICAgfSxcbiAgICAgICAgXCI/dHJhbnNwb3J0PVwiLFxuICAgICAgICBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiP3RyYW5zcG9ydD1cIiwgZmFsc2UpLFxuICAgICAgICBcInR1cm5zXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0dXJuc1wiLCB0cnVlKSxcbiAgICAgICAgXCJ0dXJuXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0dXJuXCIsIHRydWUpLFxuICAgICAgICBmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGRhdGE6IHt9IH07XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB0ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiUmVmZXJyZWQtQnlcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlJlZmVycmVkLUJ5XCIsIGZhbHNlKSxcbiAgICAgICAgXCJiXCIsXG4gICAgICAgIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJiXCIsIGZhbHNlKSxcbiAgICAgICAgXCJjaWRcIixcbiAgICAgICAgcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImNpZFwiLCBmYWxzZSlcbiAgICBdO1xuICAgIHZhciBwZWckYnl0ZWNvZGUgPSBbXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyIFxcXCJcXFwiNiA3IVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjRcXFwiXFxcIlxcXCI1ITcjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiNCRcXFwiXFxcIjUhNyVcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0JlxcXCJcXFwiNSE3J1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjsnLiMgJjsoXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiNChcXFwiXFxcIjUhNylcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0KlxcXCJcXFwiNSE3K1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjIsXFxcIlxcXCI2LDctXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMi5cXFwiXFxcIjYuNy9cIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0MFxcXCJcXFwiNSE3MVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjIyXFxcIlxcXCI2MjczLlxceDg5ICYyNFxcXCJcXFwiNjQ3NS59ICYyNlxcXCJcXFwiNjY3Ny5xICYyOFxcXCJcXFwiNjg3OS5lICYyOlxcXCJcXFwiNjo3Oy5ZICYyPFxcXCJcXFwiNjw3PS5NICYyPlxcXCJcXFwiNj43Py5BICYyQFxcXCJcXFwiNkA3QS41ICYyQlxcXCJcXFwiNkI3Qy4pICYyRFxcXCJcXFwiNkQ3RVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjspLiMgJjssXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMkZcXFwiXFxcIjZGN0cufSAmMkhcXFwiXFxcIjZIN0kucSAmMkpcXFwiXFxcIjZKN0suZSAmMkxcXFwiXFxcIjZMN00uWSAmMk5cXFwiXFxcIjZON08uTSAmMlBcXFwiXFxcIjZQN1EuQSAmMlJcXFwiXFxcIjZSN1MuNSAmMlRcXFwiXFxcIjZUN1UuKSAmMlZcXFwiXFxcIjZWN1dcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJTJYXFxcIlxcXCI2WDdZLzUjOyMvLCQ7Iy8jJCsjKSgjJyMoXFxcIicjJicjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSUkOyQwIyo7JCYvLCM7IC8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi89IyQ7JC8mIzAjKjskJiYmIy8nJDhcXFwiOlpcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiOy4uXFxcIiAmXFxcIlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkOycuIyAmOygwKSo7Jy4jICY7KCYvPyMyOFxcXCJcXFwiNjg3OS8wJDsvLyckOCM6WyMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSUkOzIvJiMwIyo7MiYmJiMvZyMkJSQ7LjAjKjsuJi8sIzsyLyMkK1xcXCIpKFxcXCInIyYnIzA9KiUkOy4wIyo7LiYvLCM7Mi8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjRcXFxcXFxcIlxcXCI1ITddLiMgJjszXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiNF5cXFwiXFxcIjUhN19cIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0YFxcXCJcXFwiNSE3YVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjshLikgJjRiXFxcIlxcXCI1ITdjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7KS5cXHg5NSAmMkZcXFwiXFxcIjZGN0cuXFx4ODkgJjJKXFxcIlxcXCI2SjdLLn0gJjJMXFxcIlxcXCI2TDdNLnEgJjJYXFxcIlxcXCI2WDdZLmUgJjJQXFxcIlxcXCI2UDdRLlkgJjJIXFxcIlxcXCI2SDdJLk0gJjJAXFxcIlxcXCI2QDdBLkEgJjJkXFxcIlxcXCI2ZDdlLjUgJjJSXFxcIlxcXCI2UjdTLikgJjJOXFxcIlxcXCI2TjdPL1xceDlFIzBcXHg5Qio7KS5cXHg5NSAmMkZcXFwiXFxcIjZGN0cuXFx4ODkgJjJKXFxcIlxcXCI2SjdLLn0gJjJMXFxcIlxcXCI2TDdNLnEgJjJYXFxcIlxcXCI2WDdZLmUgJjJQXFxcIlxcXCI2UDdRLlkgJjJIXFxcIlxcXCI2SDdJLk0gJjJAXFxcIlxcXCI2QDdBLkEgJjJkXFxcIlxcXCI2ZDdlLjUgJjJSXFxcIlxcXCI2UjdTLikgJjJOXFxcIlxcXCI2TjdPJiYmIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkOykuXFx4ODkgJjJGXFxcIlxcXCI2RjdHLn0gJjJMXFxcIlxcXCI2TDdNLnEgJjJYXFxcIlxcXCI2WDdZLmUgJjJQXFxcIlxcXCI2UDdRLlkgJjJIXFxcIlxcXCI2SDdJLk0gJjJAXFxcIlxcXCI2QDdBLkEgJjJkXFxcIlxcXCI2ZDdlLjUgJjJSXFxcIlxcXCI2UjdTLikgJjJOXFxcIlxcXCI2TjdPL1xceDkyIzBcXHg4Rio7KS5cXHg4OSAmMkZcXFwiXFxcIjZGN0cufSAmMkxcXFwiXFxcIjZMN00ucSAmMlhcXFwiXFxcIjZYN1kuZSAmMlBcXFwiXFxcIjZQN1EuWSAmMkhcXFwiXFxcIjZIN0kuTSAmMkBcXFwiXFxcIjZAN0EuQSAmMmRcXFwiXFxcIjZkN2UuNSAmMlJcXFwiXFxcIjZSN1MuKSAmMk5cXFwiXFxcIjZON08mJiYjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlRcXFwiXFxcIjZUN1UuXFx4RTMgJjJWXFxcIlxcXCI2VjdXLlxceEQ3ICYyZlxcXCJcXFwiNmY3Zy5cXHhDQiAmMmhcXFwiXFxcIjZoN2kuXFx4QkYgJjI6XFxcIlxcXCI2Ojc7LlxceEIzICYyRFxcXCJcXFwiNkQ3RS5cXHhBNyAmMjJcXFwiXFxcIjYyNzMuXFx4OUIgJjI4XFxcIlxcXCI2ODc5LlxceDhGICYyalxcXCJcXFwiNmo3ay5cXHg4MyAmOyYufSAmMjRcXFwiXFxcIjY0NzUucSAmMmxcXFwiXFxcIjZsN20uZSAmMm5cXFwiXFxcIjZuN28uWSAmMjZcXFwiXFxcIjY2NzcuTSAmMj5cXFwiXFxcIjY+Nz8uQSAmMnBcXFwiXFxcIjZwN3EuNSAmMnJcXFwiXFxcIjZyN3MuKSAmOycuIyAmOyhcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJDspLlxcdTAxMkIgJjJGXFxcIlxcXCI2RjdHLlxcdTAxMUYgJjJKXFxcIlxcXCI2SjdLLlxcdTAxMTMgJjJMXFxcIlxcXCI2TDdNLlxcdTAxMDcgJjJYXFxcIlxcXCI2WDdZLlxceEZCICYyUFxcXCJcXFwiNlA3US5cXHhFRiAmMkhcXFwiXFxcIjZIN0kuXFx4RTMgJjJAXFxcIlxcXCI2QDdBLlxceEQ3ICYyZFxcXCJcXFwiNmQ3ZS5cXHhDQiAmMlJcXFwiXFxcIjZSN1MuXFx4QkYgJjJOXFxcIlxcXCI2TjdPLlxceEIzICYyVFxcXCJcXFwiNlQ3VS5cXHhBNyAmMlZcXFwiXFxcIjZWN1cuXFx4OUIgJjJmXFxcIlxcXCI2ZjdnLlxceDhGICYyaFxcXCJcXFwiNmg3aS5cXHg4MyAmMjhcXFwiXFxcIjY4NzkudyAmMmpcXFwiXFxcIjZqN2suayAmOyYuZSAmMjRcXFwiXFxcIjY0NzUuWSAmMmxcXFwiXFxcIjZsN20uTSAmMm5cXFwiXFxcIjZuN28uQSAmMjZcXFwiXFxcIjY2NzcuNSAmMnBcXFwiXFxcIjZwN3EuKSAmMnJcXFwiXFxcIjZyN3MvXFx1MDEzNCMwXFx1MDEzMSo7KS5cXHUwMTJCICYyRlxcXCJcXFwiNkY3Ry5cXHUwMTFGICYySlxcXCJcXFwiNko3Sy5cXHUwMTEzICYyTFxcXCJcXFwiNkw3TS5cXHUwMTA3ICYyWFxcXCJcXFwiNlg3WS5cXHhGQiAmMlBcXFwiXFxcIjZQN1EuXFx4RUYgJjJIXFxcIlxcXCI2SDdJLlxceEUzICYyQFxcXCJcXFwiNkA3QS5cXHhENyAmMmRcXFwiXFxcIjZkN2UuXFx4Q0IgJjJSXFxcIlxcXCI2UjdTLlxceEJGICYyTlxcXCJcXFwiNk43Ty5cXHhCMyAmMlRcXFwiXFxcIjZUN1UuXFx4QTcgJjJWXFxcIlxcXCI2VjdXLlxceDlCICYyZlxcXCJcXFwiNmY3Zy5cXHg4RiAmMmhcXFwiXFxcIjZoN2kuXFx4ODMgJjI4XFxcIlxcXCI2ODc5LncgJjJqXFxcIlxcXCI2ajdrLmsgJjsmLmUgJjI0XFxcIlxcXCI2NDc1LlkgJjJsXFxcIlxcXCI2bDdtLk0gJjJuXFxcIlxcXCI2bjdvLkEgJjI2XFxcIlxcXCI2Njc3LjUgJjJwXFxcIlxcXCI2cDdxLikgJjJyXFxcIlxcXCI2cjdzJiYmIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly8/IzJQXFxcIlxcXCI2UDdRLzAkOy8vJyQ4Izp0IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vPyMyNFxcXCJcXFwiNjQ3NS8wJDsvLyckOCM6dSMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsvLz8jMj5cXFwiXFxcIjY+Nz8vMCQ7Ly8nJDgjOnYjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly8/IzJUXFxcIlxcXCI2VDdVLzAkOy8vJyQ4Izp3IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vPyMyVlxcXCJcXFwiNlY3Vy8wJDsvLyckOCM6eCMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJoXFxcIlxcXCI2aDdpLzAjOy8vJyQ4XFxcIjp5XFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly82IzJmXFxcIlxcXCI2ZjdnLyckOFxcXCI6elxcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vPyMyRFxcXCJcXFwiNkQ3RS8wJDsvLyckOCM6eyMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsvLz8jMjJcXFwiXFxcIjYyNzMvMCQ7Ly8nJDgjOnwjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ly8/IzI4XFxcIlxcXCI2ODc5LzAkOy8vJyQ4Izp9IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOy8vMCM7Ji8nJDhcXFwiOn5cXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsmLzAjOy8vJyQ4XFxcIjp+XFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7PS9UIyQ7Ry4pICY7Sy4jICY7RjAvKjtHLikgJjtLLiMgJjtGJi8sJDs+LyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI0XFx4N0ZcXFwiXFxcIjUhN1xceDgwLkEgJjRcXHg4MVxcXCJcXFwiNSE3XFx4ODIuNSAmNFxceDgzXFxcIlxcXCI1ITdcXHg4NC4pICY7My4jICY7LlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOy8vUSM7Ji9IJCQ7Si4jICY7SzApKjtKLiMgJjtLJi8sJDsmLyMkKyQpKCQnIygjJyMoXFxcIicjJicjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTsvL10jOyYvVCQlJDtKLiMgJjtLMCkqO0ouIyAmO0smL1xcXCIhJiwpLzEkOyYvKCQ4JDpcXHg4NSQhISkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Li5HICYyTFxcXCJcXFwiNkw3TS47ICY0XFx4ODZcXFwiXFxcIjUhN1xceDg3Li8gJjRcXHg4M1xcXCJcXFwiNSE3XFx4ODQuIyAmOzNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMmpcXFwiXFxcIjZqN2svSiM0XFx4ODhcXFwiXFxcIjUhN1xceDg5LjUgJjRcXHg4QVxcXCJcXFwiNSE3XFx4OEIuKSAmNFxceDhDXFxcIlxcXCI1ITdcXHg4RC8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO04vTSMyOFxcXCJcXFwiNjg3OS8+JDtPLlxcXCIgJlxcXCIvMCQ7Uy8nJDgkOlxceDhFJCApKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtOL2QjMjhcXFwiXFxcIjY4NzkvVSQ7Ty5cXFwiICZcXFwiL0ckO1MvPiQ7Xy81JDtsLlxcXCIgJlxcXCIvJyQ4JjpcXHg4RiYgKSgmJyMoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHg5MFxcXCJcXFwiNSQ3XFx4OTEuKSAmM1xceDkyXFxcIlxcXCI1IzdcXHg5My8nIDghOlxceDk0ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7UC9dIyUyOFxcXCJcXFwiNjg3OS8sIztSLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLzYkMjpcXFwiXFxcIjY6NzsvJyQ4IzpcXHg5NSMgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJDsrLikgJjstLiMgJjtRLzIjMC8qOysuKSAmOy0uIyAmO1EmJiYjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMjxcXFwiXFxcIjY8Nz0ucSAmMj5cXFwiXFxcIjY+Nz8uZSAmMkBcXFwiXFxcIjZAN0EuWSAmMkJcXFwiXFxcIjZCN0MuTSAmMkRcXFwiXFxcIjZEN0UuQSAmMjJcXFwiXFxcIjYyNzMuNSAmMjZcXFwiXFxcIjY2NzcuKSAmMjRcXFwiXFxcIjY0NzVcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJDsrLl8gJjstLlkgJjI8XFxcIlxcXCI2PDc9Lk0gJjI+XFxcIlxcXCI2Pjc/LkEgJjJAXFxcIlxcXCI2QDdBLjUgJjJCXFxcIlxcXCI2QjdDLikgJjJEXFxcIlxcXCI2RDdFMGUqOysuXyAmOy0uWSAmMjxcXFwiXFxcIjY8Nz0uTSAmMj5cXFwiXFxcIjY+Nz8uQSAmMkBcXFwiXFxcIjZAN0EuNSAmMkJcXFwiXFxcIjZCN0MuKSAmMkRcXFwiXFxcIjZEN0UmLyYgOCE6XFx4OTYhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1QvSiMlMjhcXFwiXFxcIjY4NzkvLCM7Xi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1UuKSAmO1xcXFwuIyAmO1gvJiA4ITpcXHg5NyEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkJTtWLzIjMkpcXFwiXFxcIjZKN0svIyQrXFxcIikoXFxcIicjJicjMDwqJTtWLzIjMkpcXFwiXFxcIjZKN0svIyQrXFxcIikoXFxcIicjJicjJi9EIztXLzskMkpcXFwiXFxcIjZKN0suXFxcIiAmXFxcIi8nJDgjOlxceDk4IyApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkNFxceDk5XFxcIlxcXCI1ITdcXHg5QS8sIzApKjRcXHg5OVxcXCJcXFwiNSE3XFx4OUEmJiYjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTQkXFxcIlxcXCI1ITclLz8jJDRcXHg5QlxcXCJcXFwiNSE3XFx4OUMwKSo0XFx4OUJcXFwiXFxcIjUhN1xceDlDJi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMmxcXFwiXFxcIjZsN20vPyM7WS82JDJuXFxcIlxcXCI2bjdvLyckOCM6XFx4OUQjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlO1ovXFx4QjMjMjhcXFwiXFxcIjY4NzkvXFx4QTQkO1ovXFx4OUIkMjhcXFwiXFxcIjY4NzkvXFx4OEMkO1ovXFx4ODMkMjhcXFwiXFxcIjY4NzkvdCQ7Wi9rJDI4XFxcIlxcXCI2ODc5L1xcXFwkO1ovUyQyOFxcXCJcXFwiNjg3OS9EJDtaLzskMjhcXFwiXFxcIjY4NzkvLCQ7Wy8jJCstKSgtJyMoLCcjKCsnIygqJyMoKScjKCgnIygnJyMoJicjKCUnIygkJyMoIycjKFxcXCInIyYnIy5cXHUwNzkwICYlMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvXFx4QTQjO1ovXFx4OUIkMjhcXFwiXFxcIjY4NzkvXFx4OEMkO1ovXFx4ODMkMjhcXFwiXFxcIjY4NzkvdCQ7Wi9rJDI4XFxcIlxcXCI2ODc5L1xcXFwkO1ovUyQyOFxcXCJcXFwiNjg3OS9EJDtaLzskMjhcXFwiXFxcIjY4NzkvLCQ7Wy8jJCssKSgsJyMoKycjKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA2RjkgJiUyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri9cXHg4QyM7Wi9cXHg4MyQyOFxcXCJcXFwiNjg3OS90JDtaL2skMjhcXFwiXFxcIjY4NzkvXFxcXCQ7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyopKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA2N0EgJiUyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri90IztaL2skMjhcXFwiXFxcIjY4NzkvXFxcXCQ7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKygpKCgnIygnJyMoJicjKCUnIygkJyMoIycjKFxcXCInIyYnIy5cXHUwNjEzICYlMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvXFxcXCM7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyYpKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyMuXFx1MDVDNCAmJTJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGL0QjO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyQpKCQnIygjJyMoXFxcIicjJicjLlxcdTA1OEQgJiUyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri8sIztbLyMkK1xcXCIpKFxcXCInIyYnIy5cXHUwNTZFICYlMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFx1MDU0RiAmJTtaL1xceDlCIzJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGL1xceDhDJDtaL1xceDgzJDI4XFxcIlxcXCI2ODc5L3QkO1ovayQyOFxcXCJcXFwiNjg3OS9cXFxcJDtaL1MkMjhcXFwiXFxcIjY4NzkvRCQ7Wi87JDI4XFxcIlxcXCI2ODc5LywkO1svIyQrKykoKycjKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA0QzcgJiU7Wi9cXHhBQSMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHg4MyQyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri90JDtaL2skMjhcXFwiXFxcIjY4NzkvXFxcXCQ7Wi9TJDI4XFxcIlxcXCI2ODc5L0QkO1ovOyQyOFxcXCJcXFwiNjg3OS8sJDtbLyMkKyopKConIygpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTA0MzAgJiU7Wi9cXHhCOSMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHg5MiQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9rJDJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGL1xcXFwkO1ovUyQyOFxcXCJcXFwiNjg3OS9EJDtaLzskMjhcXFwiXFxcIjY4NzkvLCQ7Wy8jJCspKSgpJyMoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTAzOEEgJiU7Wi9cXHhDOCMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHhBMSQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi96JCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1MkMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvRCQ7Wi87JDI4XFxcIlxcXCI2ODc5LywkO1svIyQrKCkoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTAyRDUgJiU7Wi9cXHhENyMlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHhCMCQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9cXHg4OSQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi9iJCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLzskMlxceDlFXFxcIlxcXCI2XFx4OUU3XFx4OUYvLCQ7Wy8jJCsnKSgnJyMoJicjKCUnIygkJyMoIycjKFxcXCInIyYnIy5cXHUwMjExICYlO1ovXFx4RkUjJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvXFx4RDckJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvXFx4QjAkJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvXFx4ODkkJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvYiQlMjhcXFwiXFxcIjY4NzkvLCM7Wi8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi87JDJcXHg5RVxcXCJcXFwiNlxceDlFN1xceDlGLywkO1ovIyQrKCkoKCcjKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjLlxcdTAxMjYgJiU7Wi9cXHUwMTFDIyUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceEY1JCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceENFJCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceEE3JCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1xceDgwJCUyOFxcXCJcXFwiNjg3OS8sIztaLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiL1kkJTI4XFxcIlxcXCI2ODc5LywjO1ovIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvMiQyXFx4OUVcXFwiXFxcIjZcXHg5RTdcXHg5Ri8jJCsoKSgoJyMoJycjKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyMvJiA4ITpcXHhBMCEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Iy9NIzsjLlxcXCIgJlxcXCIvPyQ7Iy5cXFwiICZcXFwiLzEkOyMuXFxcIiAmXFxcIi8jJCskKSgkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Wi87IzI4XFxcIlxcXCI2ODc5LywkO1ovIyQrIykoIycjKFxcXCInIyYnIy4jICY7XFxcXFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XS9vIzJKXFxcIlxcXCI2SjdLL2AkO10vVyQySlxcXCJcXFwiNko3Sy9IJDtdLz8kMkpcXFwiXFxcIjZKN0svMCQ7XS8nJDgnOlxceEExJyApKCcnIygmJyMoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJcXHhBMlxcXCJcXFwiNlxceEEyN1xceEEzLzIjNFxceEE0XFxcIlxcXCI1ITdcXHhBNS8jJCtcXFwiKShcXFwiJyMmJyMuXFx4OTggJiUyXFx4QTZcXFwiXFxcIjZcXHhBNjdcXHhBNy87IzRcXHhBOFxcXCJcXFwiNSE3XFx4QTkvLCQ7IS8jJCsjKSgjJyMoXFxcIicjJicjLmogJiUyXFx4QUFcXFwiXFxcIjZcXHhBQTdcXHhBQi81IzshLywkOyEvIyQrIykoIycjKFxcXCInIyYnIy5CICYlNFxceEFDXFxcIlxcXCI1ITdcXHhBRC8sIzshLyMkK1xcXCIpKFxcXCInIyYnIy4jICY7IVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOyEuXFxcIiAmXFxcIi9bIzshLlxcXCIgJlxcXCIvTSQ7IS5cXFwiICZcXFwiLz8kOyEuXFxcIiAmXFxcIi8xJDshLlxcXCIgJlxcXCIvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjLycgOCE6XFx4QUUhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJCUyMlxcXCJcXFwiNjI3My8sIztgLyMkK1xcXCIpKFxcXCInIyYnIzA8KiUyMlxcXCJcXFwiNjI3My8sIztgLyMkK1xcXCIpKFxcXCInIyYnIyZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7YS5BICY7Yi47ICY7Yy41ICY7ZC4vICY7ZS4pICY7Zi4jICY7Z1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4QUZcXFwiXFxcIjUqN1xceEIwL2EjM1xceEIxXFxcIlxcXCI1IzdcXHhCMi5HICYzXFx4QjNcXFwiXFxcIjUjN1xceEI0LjsgJjNcXHhCNVxcXCJcXFwiNSQ3XFx4QjYuLyAmM1xceEI3XFxcIlxcXCI1IzdcXHhCOC4jICY7Ni8oJDhcXFwiOlxceEI5XFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEJBXFxcIlxcXCI1JTdcXHhCQi9JIzNcXHhCQ1xcXCJcXFwiNSU3XFx4QkQuLyAmM1xceEJFXFxcIlxcXCI1XFxcIjdcXHhCRi4jICY7Ni8oJDhcXFwiOlxceEMwXFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEMxXFxcIlxcXCI1JzdcXHhDMi8xIztcXHg5MC8oJDhcXFwiOlxceEMzXFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEM0XFxcIlxcXCI1JDdcXHhDNS8xIztcXHhGMC8oJDhcXFwiOlxceEM2XFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEM3XFxcIlxcXCI1JjdcXHhDOC8xIztULygkOFxcXCI6XFx4QzlcXFwiISApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4Q0FcXFwiXFxcIjVcXFwiN1xceENCL04jJTI+XFxcIlxcXCI2Pjc/LywjOzYvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvJyQ4XFxcIjpcXHhDQ1xcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO2gvUCMlMj5cXFwiXFxcIjY+Nz8vLCM7aS8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8pJDhcXFwiOlxceENEXFxcIlxcXCIhICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7ai8mIzAjKjtqJiYmIy9cXFwiISYsKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkO2ovJiMwIyo7aiYmJiMvXFxcIiEmLClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7ay4pICY7Ky4jICY7LVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJsXFxcIlxcXCI2bDdtLmUgJjJuXFxcIlxcXCI2bjdvLlkgJjI0XFxcIlxcXCI2NDc1Lk0gJjI4XFxcIlxcXCI2ODc5LkEgJjI8XFxcIlxcXCI2PDc9LjUgJjJAXFxcIlxcXCI2QDdBLikgJjJCXFxcIlxcXCI2QjdDXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTI2XFxcIlxcXCI2Njc3L24jO20vZSQkJTI8XFxcIlxcXCI2PDc9LywjO20vIyQrXFxcIikoXFxcIicjJicjMDwqJTI8XFxcIlxcXCI2PDc9LywjO20vIyQrXFxcIikoXFxcIicjJicjJi8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtuL0EjMj5cXFwiXFxcIjY+Nz8vMiQ7by8pJDgjOlxceENFI1xcXCJcXFwiICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiQ7cC4pICY7Ky4jICY7LS8yIzAvKjtwLikgJjsrLiMgJjstJiYmI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiQ7cC4pICY7Ky4jICY7LTAvKjtwLikgJjsrLiMgJjstJlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJsXFxcIlxcXCI2bDdtLmUgJjJuXFxcIlxcXCI2bjdvLlkgJjI0XFxcIlxcXCI2NDc1Lk0gJjI2XFxcIlxcXCI2Njc3LkEgJjI4XFxcIlxcXCI2ODc5LjUgJjJAXFxcIlxcXCI2QDdBLikgJjJCXFxcIlxcXCI2QjdDXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceDkxLiMgJjtyXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5MC9HIzsnLz4kO3MvNSQ7Jy8sJDtcXHg4NC8jJCslKSglJyMoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7TS4jICY7dFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4N0YvRSMyOFxcXCJcXFwiNjg3OS82JDt1LiMgJjt4LyckOCM6XFx4Q0YjICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7di4jICY7dy9KIyUyNlxcXCJcXFwiNjY3Ny8sIztcXHg4My8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMlxceEQwXFxcIlxcXCI2XFx4RDA3XFx4RDEvOiM7XFx4ODAvMSQ7dy5cXFwiICZcXFwiLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlMjRcXFwiXFxcIjY0NzUvLCM7ey8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO3ovMyMkO3kwIyo7eSYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiOyouKSAmOysuIyAmOy1cIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Ky5cXHg4RiAmOy0uXFx4ODkgJjIyXFxcIlxcXCI2MjczLn0gJjI2XFxcIlxcXCI2Njc3LnEgJjI4XFxcIlxcXCI2ODc5LmUgJjI6XFxcIlxcXCI2Ojc7LlkgJjI8XFxcIlxcXCI2PDc9Lk0gJjI+XFxcIlxcXCI2Pjc/LkEgJjJAXFxcIlxcXCI2QDdBLjUgJjJCXFxcIlxcXCI2QjdDLikgJjJEXFxcIlxcXCI2RDdFXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTt8L2UjJCUyNFxcXCJcXFwiNjQ3NS8sIzt8LyMkK1xcXCIpKFxcXCInIyYnIzA8KiUyNFxcXCJcXFwiNjQ3NS8sIzt8LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7fjAjKjt+Ji9lIyQlMjJcXFwiXFxcIjYyNzMvLCM7fS8jJCtcXFwiKShcXFwiJyMmJyMwPColMjJcXFwiXFxcIjYyNzMvLCM7fS8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiQ7fjAjKjt+JlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjsrLncgJjstLnEgJjI4XFxcIlxcXCI2ODc5LmUgJjI6XFxcIlxcXCI2Ojc7LlkgJjI8XFxcIlxcXCI2PDc9Lk0gJjI+XFxcIlxcXCI2Pjc/LkEgJjJAXFxcIlxcXCI2QDdBLjUgJjJCXFxcIlxcXCI2QjdDLikgJjJEXFxcIlxcXCI2RDdFXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7XFxcIi9cXHg4NyMkO1xcXCIuRyAmOyEuQSAmMkBcXFwiXFxcIjZAN0EuNSAmMkZcXFwiXFxcIjZGN0cuKSAmMkpcXFwiXFxcIjZKN0swTSo7XFxcIi5HICY7IS5BICYyQFxcXCJcXFwiNkA3QS41ICYyRlxcXCJcXFwiNkY3Ry4pICYySlxcXCJcXFwiNko3SyYvIyQrXFxcIikoXFxcIicjJicjLyYgOCE6XFx4RDIhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4ODEuIyAmO1xceDgyXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7Ty8yIzI6XFxcIlxcXCI2Ojc7LyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLywjO1MvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCJcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkOysuXFx4ODMgJjstLn0gJjJCXFxcIlxcXCI2QjdDLnEgJjJEXFxcIlxcXCI2RDdFLmUgJjIyXFxcIlxcXCI2MjczLlkgJjI4XFxcIlxcXCI2ODc5Lk0gJjI6XFxcIlxcXCI2Ojc7LkEgJjI8XFxcIlxcXCI2PDc9LjUgJjI+XFxcIlxcXCI2Pjc/LikgJjJAXFxcIlxcXCI2QDdBL1xceDhDIzBcXHg4OSo7Ky5cXHg4MyAmOy0ufSAmMkJcXFwiXFxcIjZCN0MucSAmMkRcXFwiXFxcIjZEN0UuZSAmMjJcXFwiXFxcIjYyNzMuWSAmMjhcXFwiXFxcIjY4NzkuTSAmMjpcXFwiXFxcIjY6NzsuQSAmMjxcXFwiXFxcIjY8Nz0uNSAmMj5cXFwiXFxcIjY+Nz8uKSAmMkBcXFwiXFxcIjZAN0EmJiYjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJDt5MCMqO3kmXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHg5MlxcXCJcXFwiNSM3XFx4RDMvcSMyNFxcXCJcXFwiNjQ3NS9iJCQ7IS8mIzAjKjshJiYmIy9MJDJKXFxcIlxcXCI2SjdLLz0kJDshLyYjMCMqOyEmJiYjLyckOCU6XFx4RDQlICkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceEQ1XFxcIlxcXCI2XFx4RDU3XFx4RDZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RDdcXFwiXFxcIjZcXHhENzdcXHhEOFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJcXHhEOVxcXCJcXFwiNlxceEQ5N1xceERBXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceERCXFxcIlxcXCI2XFx4REI3XFx4RENcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RERcXFwiXFxcIjZcXHhERDdcXHhERVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJcXHhERlxcXCJcXFwiNlxceERGN1xceEUwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceEUxXFxcIlxcXCI2XFx4RTE3XFx4RTJcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RTNcXFwiXFxcIjZcXHhFMzdcXHhFNFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjJcXHhFNVxcXCJcXFwiNlxceEU1N1xceEU2XCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMlxceEU3XFxcIlxcXCI2XFx4RTc3XFx4RThcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIyXFx4RTlcXFwiXFxcIjZcXHhFOTdcXHhFQVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4ODUuWSAmO1xceDg2LlMgJjtcXHg4OC5NICY7XFx4ODkuRyAmO1xceDhBLkEgJjtcXHg4Qi47ICY7XFx4OEMuNSAmO1xceDhGLi8gJjtcXHg4RC4pICY7XFx4OEUuIyAmOzYvJiA4ITpcXHhFQiEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4ODQvRyM7Jy8+JDtcXHg5Mi81JDsnLywkO1xceDk0LyMkKyUpKCUnIygkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4OTMvJyA4ITpcXHhFQyEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOyEvNSM7IS8sJDshLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJDsqLkEgJjsrLjsgJjstLjUgJjszLi8gJjs0LikgJjsnLiMgJjsoMEcqOyouQSAmOysuOyAmOy0uNSAmOzMuLyAmOzQuKSAmOycuIyAmOygmLyYgOCE6XFx4RUQhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEI2L1kjJCU7QS8sIztcXHhCNi8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0EvLCM7XFx4QjYvIyQrXFxcIikoXFxcIicjJicjJi8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOzkvTiMlMjpcXFwiXFxcIjY6NzsvLCM7OS8jJCtcXFwiKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8nJDhcXFwiOlxceEVFXFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Oi5jICYlO1xceDk4L1kjJCU7QS8sIztcXHg5OC8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0EvLCM7XFx4OTgvIyQrXFxcIikoXFxcIicjJicjJi8jJCtcXFwiKShcXFwiJyMmJyMvJiA4ITpcXHhFRiEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7TC4jICY7XFx4OTkvXSMkJTtCLywjO1xceDlCLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHg5Qi8jJCtcXFwiKShcXFwiJyMmJyMmLyckOFxcXCI6XFx4RjBcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5QS5cXFwiICZcXFwiLz4jO0AvNSQ7TS8sJDs/LyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7Ni9ZIyQlOy4vLCM7Ni8jJCtcXFwiKShcXFwiJyMmJyMwNiolOy4vLCM7Ni8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnIy4jICY7SC8nIDghOlxceEYxISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHg5Qy4pICY7XFx4OUQuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHhGMlxcXCJcXFwiNSE3XFx4RjMvOiM7PC8xJDtcXHg5Ri8oJDgjOlxceEY0IyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHhGNVxcXCJcXFwiNSc3XFx4RjYvOiM7PC8xJDtcXHg5RS8oJDgjOlxceEY3IyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxceEY4ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUyXFx4RjlcXFwiXFxcIjZcXHhGOTdcXHhGQS9vIyUySlxcXCJcXFwiNko3Sy9NIzshLlxcXCIgJlxcXCIvPyQ7IS5cXFwiICZcXFwiLzEkOyEuXFxcIiAmXFxcIi8jJCskKSgkJyMoIycjKFxcXCInIyYnIy5cXFwiICZcXFwiLyckOFxcXCI6XFx4RkJcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTs2L0ojJTs8LywjO1xceEExLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLykkOFxcXCI6XFx4RkNcXFwiXFxcIiEgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Ni4pICY7VC4jICY7SFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4QTMvWSMkJTtCLywjO1xceEE0LyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhBNC8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4RkRcXFwiXFxcIjUmN1xceEZFLkcgJjNcXHhGRlxcXCJcXFwiNSc3XFx1MDEwMC47ICYzXFx1MDEwMVxcXCJcXFwiNSQ3XFx1MDEwMi4vICYzXFx1MDEwM1xcXCJcXFwiNSU3XFx1MDEwNC4jICY7Ni8mIDghOlxcdTAxMDUhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4QTUuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTA2XFxcIlxcXCI1KDdcXHUwMTA3L00jOzwvRCQzXFx1MDEwOFxcXCJcXFwiNSg3XFx1MDEwOS4vICYzXFx1MDEwQVxcXCJcXFwiNSg3XFx1MDEwQi4jICY7Ni8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTs2L1kjJCU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxMEMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhBOS8mIDghOlxcdTAxMEQhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEFBL2sjOzsvYiQ7XFx4QUYvWSQkJTtCLywjO1xceEIwLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhCMC8jJCtcXFwiKShcXFwiJyMmJyMmLyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceEFCLiMgJjtcXHhBQ1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjNcXHUwMTBFXFxcIlxcXCI1JDdcXHUwMTBGLlMgJjNcXHUwMTEwXFxcIlxcXCI1JTdcXHUwMTExLkcgJjNcXHUwMTEyXFxcIlxcXCI1JTdcXHUwMTEzLjsgJjNcXHUwMTE0XFxcIlxcXCI1JTdcXHUwMTE1Li8gJjNcXHUwMTE2XFxcIlxcXCI1KzdcXHUwMTE3LiMgJjtcXHhBRFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjNcXHUwMTE4XFxcIlxcXCI1JzdcXHUwMTE5Li8gJjNcXHUwMTFBXFxcIlxcXCI1KTdcXHUwMTFCLiMgJjtcXHhBRFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjs2LiMgJjtcXHhBRVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDExQ1xcXCJcXFwiNVxcXCI3XFx1MDExRC8sIzs2LyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHhBRC4jICY7NlwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ni81Izs8LywkO1xceEIxLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7Ni4jICY7SFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4QjMvNSM7Li8sJDtcXHg5MC8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxMUUhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5RS8nIDghOlxcdTAxMUYhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhCNi9eIyQlO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIyYvKCQ4XFxcIjpcXHUwMTIwXFxcIiEhKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJTs3L2UjJCUySlxcXCJcXFwiNko3Sy8sIzs3LyMkK1xcXCIpKFxcXCInIyYnIzA8KiUySlxcXCJcXFwiNko3Sy8sIzs3LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjL1xcXCIhJiwpXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtMLiMgJjtcXHg5OS9dIyQlO0IvLCM7XFx4QjgvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEI4LyMkK1xcXCIpKFxcXCInIyYnIyYvJyQ4XFxcIjpcXHUwMTIxXFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHhCOS4jICY7XFx4QTBcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xcdTAxMjJcXFwiXFxcIjUjN1xcdTAxMjMvOiM7PC8xJDs2LygkOCM6XFx1MDEyNCMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkOyEvJiMwIyo7ISYmJiMvJyA4ITpcXHUwMTI1ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4OUUvJyA4ITpcXHUwMTI2ISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUkO1xceDlBMCMqO1xceDlBJi94IztAL28kO00vZiQ7Py9dJCQlO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIyYvJyQ4JTpcXHUwMTI3JSApKCUnIygkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXHhCRVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEyOFxcXCJcXFwiNSY3XFx1MDEyOS9rIzsuL2IkO1xceEMxL1kkJCU7QS8sIztcXHhDMS8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0EvLCM7XFx4QzEvIyQrXFxcIikoXFxcIicjJicjJi8jJCskKSgkJyMoIycjKFxcXCInIyYnIy4jICY7XFx4QkZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOzYvayM7Li9iJDtcXHhDMC9ZJCQlO0EvLCM7XFx4QzAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtBLywjO1xceEMwLyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrJCkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOzYvOyM7PC8yJDs2LiMgJjtILyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4QzIuRyAmO1xceEM0LkEgJjtcXHhDNi47ICY7XFx4QzguNSAmO1xceEM5Li8gJjtcXHhDQS4pICY7XFx4Q0IuIyAmO1xceEMwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTJBXFxcIlxcXCI1JTdcXHUwMTJCLzUjOzwvLCQ7XFx4QzMvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7SS8nIDghOlxcdTAxMkMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTJEXFxcIlxcXCI1JjdcXHUwMTJFL1xceDk3Izs8L1xceDhFJDtEL1xceDg1JDtcXHhDNS98JCQlJDsnLyYjMCMqOycmJiYjLywjO1xceEM1LyMkK1xcXCIpKFxcXCInIyYnIzBDKiUkOycvJiMwIyo7JyYmJiMvLCM7XFx4QzUvIyQrXFxcIikoXFxcIicjJicjJi8sJDtFLyMkKyYpKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7dC4jICY7d1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEyRlxcXCJcXFwiNSU3XFx1MDEzMC81Izs8LywkO1xceEM3LyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO0kvJyA4ITpcXHUwMTMxISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEzMlxcXCJcXFwiNSY3XFx1MDEzMy86Izs8LzEkO0kvKCQ4IzpcXHUwMTM0IyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTM1XFxcIlxcXCI1JTdcXHUwMTM2L10jOzwvVCQlM1xcdTAxMzdcXFwiXFxcIjUkN1xcdTAxMzgvJiA4ITpcXHUwMTM5ISApLjQgJiUzXFx1MDEzQVxcXCJcXFwiNSU3XFx1MDEzQi8mIDghOlxcdTAxM0MhICkvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDEzRFxcXCJcXFwiNSk3XFx1MDEzRS9SIzs8L0kkM1xcdTAxM0ZcXFwiXFxcIjUjN1xcdTAxNDAuLyAmM1xcdTAxNDFcXFwiXFxcIjUoN1xcdTAxNDIuIyAmOzYvKCQ4IzpcXHUwMTQzIyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTQ0XFxcIlxcXCI1IzdcXHUwMTQ1L1xceDkzIzs8L1xceDhBJDtEL1xceDgxJCU7XFx4Q0MvZSMkJTJEXFxcIlxcXCI2RDdFLywjO1xceENDLyMkK1xcXCIpKFxcXCInIyYnIzA8KiUyRFxcXCJcXFwiNkQ3RS8sIztcXHhDQy8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnIy8sJDtFLyMkKyUpKCUnIygkJyMoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE0NlxcXCJcXFwiNSg3XFx1MDE0Ny4vICYzXFx1MDE0OFxcXCJcXFwiNSQ3XFx1MDE0OS4jICY7Ni8nIDghOlxcdTAxNEEhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTs2L1kjJCU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7QS8sIzs2LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhDRi9HIzsuLz4kO1xceENGLzUkOy4vLCQ7XFx4OTAvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxNEIhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhEMS9dIyQlO0EvLCM7XFx4RDEvIyQrXFxcIikoXFxcIicjJicjMDYqJTtBLywjO1xceEQxLyMkK1xcXCIpKFxcXCInIyYnIyYvJyQ4XFxcIjpcXHUwMTRDXFxcIiApKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4OTkvXSMkJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMmLyckOFxcXCI6XFx1MDE0RFxcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO0wuTyAmO1xceDk5LkkgJiU7QC5cXFwiICZcXFwiLzojO3QvMSQ7Py5cXFwiICZcXFwiLyMkKyMpKCMnIyhcXFwiJyMmJyMvXSMkJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7Qi8sIztcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMmLyckOFxcXCI6XFx1MDE0RVxcXCIgKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEQ0L10jJCU7Qi8sIztcXHhENS8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0IvLCM7XFx4RDUvIyQrXFxcIikoXFxcIicjJicjJi8nJDhcXFwiOlxcdTAxNEZcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5Ni8mIDghOlxcdTAxNTAhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xcdTAxNTFcXFwiXFxcIjUoN1xcdTAxNTIvOiM7PC8xJDs2LygkOCM6XFx1MDE1MyMhICkoIycjKFxcXCInIyYnIy5nICYlM1xcdTAxNTRcXFwiXFxcIjUmN1xcdTAxNTUvOiM7PC8xJDs2LygkOCM6XFx1MDE1NiMhICkoIycjKFxcXCInIyYnIy46ICYlM1xcdTAxNTdcXFwiXFxcIjUqN1xcdTAxNTgvJiA4ITpcXHUwMTU5ISApLiMgJjtcXHhBMFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOzYvayMkJTtBLzIjOzYvKSQ4XFxcIjpcXHUwMTVBXFxcIlxcXCIkICkoXFxcIicjJicjMDwqJTtBLzIjOzYvKSQ4XFxcIjpcXHUwMTVBXFxcIlxcXCIkICkoXFxcIicjJicjJi8pJDhcXFwiOlxcdTAxNUJcXFwiXFxcIiEgKShcXFwiJyMmJyMuXFxcIiAmXFxcIi8nIDghOlxcdTAxNUMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhEOC9ZIyQlO0EvLCM7XFx4RDgvIyQrXFxcIikoXFxcIicjJicjMDYqJTtBLywjO1xceEQ4LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5OS9ZIyQlO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSQ7IS8mIzAjKjshJiYmIy8nIDghOlxcdTAxNUQhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhEQi9ZIyQlO0IvLCM7XFx4REMvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceERDLyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTVFXFxcIlxcXCI1JjdcXHUwMTVGLjsgJjNcXHUwMTYwXFxcIlxcXCI1JzdcXHUwMTYxLi8gJjNcXHUwMTYyXFxcIlxcXCI1KjdcXHUwMTYzLiMgJjs2LyYgOCE6XFx1MDE2NCEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE2NVxcXCJcXFwiNSY3XFx1MDE2Ni86Izs8LzEkO1xceERELygkOCM6XFx1MDE2NyMhICkoIycjKFxcXCInIyYnIy59ICYlM1xceEY1XFxcIlxcXCI1JzdcXHhGNi86Izs8LzEkO1xceDlFLygkOCM6XFx1MDE2OCMhICkoIycjKFxcXCInIyYnIy5QICYlM1xcdTAxNjlcXFwiXFxcIjUrN1xcdTAxNkEvOiM7PC8xJDtcXHg5RS8oJDgjOlxcdTAxNkIjISApKCMnIyhcXFwiJyMmJyMuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiM1xcdTAxNkNcXFwiXFxcIjUrN1xcdTAxNkQuayAmM1xcdTAxNkVcXFwiXFxcIjUpN1xcdTAxNkYuXyAmM1xcdTAxNzBcXFwiXFxcIjUoN1xcdTAxNzEuUyAmM1xcdTAxNzJcXFwiXFxcIjUnN1xcdTAxNzMuRyAmM1xcdTAxNzRcXFwiXFxcIjUmN1xcdTAxNzUuOyAmM1xcdTAxNzZcXFwiXFxcIjUqN1xcdTAxNzcuLyAmM1xcdTAxNzhcXFwiXFxcIjUpN1xcdTAxNzkuIyAmOzZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7MS5cXFwiICZcXFwiXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJSU7Ni9rIyQlO0EvMiM7Ni8pJDhcXFwiOlxcdTAxNUFcXFwiXFxcIiQgKShcXFwiJyMmJyMwPColO0EvMiM7Ni8pJDhcXFwiOlxcdTAxNUFcXFwiXFxcIiQgKShcXFwiJyMmJyMmLykkOFxcXCI6XFx1MDE1QlxcXCJcXFwiISApKFxcXCInIyYnIy5cXFwiICZcXFwiLycgOCE6XFx1MDE3QSEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO0wuIyAmO1xceDk5L10jJCU7Qi8sIztcXHhFMS8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0IvLCM7XFx4RTEvIyQrXFxcIikoXFxcIicjJicjJi8nJDhcXFwiOlxcdTAxN0JcXFwiICkoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceEI5LiMgJjtcXHhBMFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RTMvWSMkJTtBLywjO1xceEUzLyMkK1xcXCIpKFxcXCInIyYnIzA2KiU7QS8sIztcXHhFMy8jJCtcXFwiKShcXFwiJyMmJyMmLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RUEvayM7Li9iJDtcXHhFRC9ZJCQlO0IvLCM7XFx4RTQvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEU0LyMkK1xcXCIpKFxcXCInIyYnIyYvIyQrJCkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4RTUuOyAmO1xceEU2LjUgJjtcXHhFNy4vICY7XFx4RTguKSAmO1xceEU5LiMgJjtcXHhBMFwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE3Q1xcXCJcXFwiNSM3XFx1MDE3RC86Izs8LzEkO1xceEYwLygkOCM6XFx1MDE3RSMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE3RlxcXCJcXFwiNSU3XFx1MDE4MC86Izs8LzEkO1QvKCQ4IzpcXHUwMTgxIyEgKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMTgyXFxcIlxcXCI1KDdcXHUwMTgzL0YjOzwvPSQ7XFxcXC4pICY7WS4jICY7WC8oJDgjOlxcdTAxODQjISApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xcdTAxODVcXFwiXFxcIjUmN1xcdTAxODYvOiM7PC8xJDs2LygkOCM6XFx1MDE4NyMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE4OFxcXCJcXFwiNSU3XFx1MDE4OS9BIzs8LzgkJDshMCMqOyEmLygkOCM6XFx1MDE4QSMhICkoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RUIvRyM7Oy8+JDs2LzUkOzsvLCQ7XFx4RUMvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHg5MlxcXCJcXFwiNSM3XFx4RDMuIyAmOzYvJyA4ITpcXHUwMThCISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx4QjFcXFwiXFxcIjUjN1xcdTAxOEMuRyAmM1xceEIzXFxcIlxcXCI1IzdcXHUwMThELjsgJjNcXHhCN1xcXCJcXFwiNSM3XFx1MDE4RS4vICYzXFx4QjVcXFwiXFxcIjUkN1xcdTAxOEYuIyAmOzYvJyA4ITpcXHUwMTkwISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx4RUUvRCMlO0MvLCM7XFx4RUYvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvIyQrXFxcIikoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtVLikgJjtcXFxcLiMgJjtYLyYgOCE6XFx1MDE5MSEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUlOyEuXFxcIiAmXFxcIi9bIzshLlxcXCIgJlxcXCIvTSQ7IS5cXFwiICZcXFwiLz8kOyEuXFxcIiAmXFxcIi8xJDshLlxcXCIgJlxcXCIvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjLycgOCE6XFx1MDE5MiEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlJTshLz8jOyEuXFxcIiAmXFxcIi8xJDshLlxcXCIgJlxcXCIvIyQrIykoIycjKFxcXCInIyYnIy8nIDghOlxcdTAxOTMhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceEJFXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHg5RS9eIyQlO0IvLCM7XFx4RjMvIyQrXFxcIikoXFxcIicjJicjMDYqJTtCLywjO1xceEYzLyMkK1xcXCIpKFxcXCInIyYnIyYvKCQ4XFxcIjpcXHUwMTk0XFxcIiEhKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCI7XFx4RjQuIyAmO1xceEEwXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJcXHUwMTk1XFxcIlxcXCI2XFx1MDE5NTdcXHUwMTk2L0wjOzwvQyQyXFx1MDE5N1xcXCJcXFwiNlxcdTAxOTc3XFx1MDE5OC4pICYyXFx1MDE5OVxcXCJcXFwiNlxcdTAxOTk3XFx1MDE5QS8oJDgjOlxcdTAxOUIjISApKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceDlFL14jJCU7Qi8sIztcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMwNiolO0IvLCM7XFx4QTAvIyQrXFxcIikoXFxcIicjJicjJi8oJDhcXFwiOlxcdTAxOUNcXFwiISEpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7Ni81IzswLywkO1xceEY3LyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkOzIuKSAmOzQuIyAmOy4wLyo7Mi4pICY7NC4jICY7LiZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIkOyUwIyo7JSZcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xceEZBLzsjMjhcXFwiXFxcIjY4NzkvLCQ7XFx4RkIvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUzXFx1MDE5RFxcXCJcXFwiNSU3XFx1MDE5RS4pICYzXFx1MDE5RlxcXCJcXFwiNSQ3XFx1MDFBMC8nIDghOlxcdTAxQTEhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHhGQy9KIyUyOFxcXCJcXFwiNjg3OS8sIzteLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLyMkK1xcXCIpKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFxcXC4pICY7WC4jICY7XFx4ODIvJyA4ITpcXHUwMUEyISEgKVwiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIjtcXFwiLlMgJjshLk0gJjJGXFxcIlxcXCI2RjdHLkEgJjJKXFxcIlxcXCI2SjdLLjUgJjJIXFxcIlxcXCI2SDdJLikgJjJOXFxcIlxcXCI2TjdPXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiMkxcXFwiXFxcIjZMN00uXFx4OTUgJjJCXFxcIlxcXCI2QjdDLlxceDg5ICYyPFxcXCJcXFwiNjw3PS59ICYyUlxcXCJcXFwiNlI3Uy5xICYyVFxcXCJcXFwiNlQ3VS5lICYyVlxcXCJcXFwiNlY3Vy5ZICYyUFxcXCJcXFwiNlA3US5NICYyQFxcXCJcXFwiNkA3QS5BICYyRFxcXCJcXFwiNkQ3RS41ICYyMlxcXCJcXFwiNjI3My4pICYyPlxcXCJcXFwiNj43P1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiU7XFx1MDEwMC9iIzI4XFxcIlxcXCI2ODc5L1MkO1xceEZCL0okJTJcXHUwMUEzXFxcIlxcXCI2XFx1MDFBMzdcXHUwMUE0LywjO1xceEVDLyMkK1xcXCIpKFxcXCInIyYnIy5cXFwiICZcXFwiLyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTNcXHUwMUE1XFxcIlxcXCI1JTdcXHUwMUE2LikgJjNcXHUwMUE3XFxcIlxcXCI1JDdcXHUwMUE4LycgOCE6XFx1MDFBMSEhIClcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlM1xceEIxXFxcIlxcXCI1IzdcXHhCMi42ICYzXFx4QjNcXFwiXFxcIjUjN1xceEI0LiogJiQ7KzAjKjsrJi8nIDghOlxcdTAxQTkhISApXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtcXHUwMTA0L1xceDg3IzJGXFxcIlxcXCI2RjdHL3gkO1xcdTAxMDMvbyQyRlxcXCJcXFwiNkY3Ry9gJDtcXHUwMTAzL1ckMkZcXFwiXFxcIjZGN0cvSCQ7XFx1MDEwMy8/JDJGXFxcIlxcXCI2RjdHLzAkO1xcdTAxMDUvJyQ4KTpcXHUwMUFBKSApKCknIygoJyMoJycjKCYnIyglJyMoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlOyMvPiM7Iy81JDsjLywkOyMvIyQrJCkoJCcjKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xcdTAxMDMvLCM7XFx1MDEwMy8jJCtcXFwiKShcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO1xcdTAxMDMvNSM7XFx1MDEwMy8sJDtcXHUwMTAzLyMkKyMpKCMnIyhcXFwiJyMmJyNcIiksXG4gICAgICAgIHBlZyRkZWNvZGUoXCIlO3EvVCMkO20wIyo7bSYvRCQlOyAvLCM7XFx4RjgvIyQrXFxcIikoXFxcIicjJicjLlxcXCIgJlxcXCIvIyQrIykoIycjKFxcXCInIyYnI1wiKSxcbiAgICAgICAgcGVnJGRlY29kZShcIiUyXFx1MDFBQlxcXCJcXFwiNlxcdTAxQUI3XFx1MDFBQy4pICYyXFx1MDFBRFxcXCJcXFwiNlxcdTAxQUQ3XFx1MDFBRS93IzswL24kO1xcdTAxMDgvZSQkJTtCLzIjO1xcdTAxMDkuIyAmO1xceEEwLyMkK1xcXCIpKFxcXCInIyYnIzA8KiU7Qi8yIztcXHUwMTA5LiMgJjtcXHhBMC8jJCtcXFwiKShcXFwiJyMmJyMmLyMkKyQpKCQnIygjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiO1xceDk5LiMgJjtMXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTJcXHUwMUFGXFxcIlxcXCI2XFx1MDFBRjdcXHUwMUIwLzUjOzwvLCQ7XFx1MDEwQS8jJCsjKSgjJyMoXFxcIicjJicjXCIpLFxuICAgICAgICBwZWckZGVjb2RlKFwiJTtEL1MjOywvSiQyOlxcXCJcXFwiNjo3Oy87JDssLiMgJjtULywkO0UvIyQrJSkoJScjKCQnIygjJyMoXFxcIicjJicjXCIpXG4gICAgXTtcbiAgICB2YXIgcGVnJGN1cnJQb3MgPSAwO1xuICAgIHZhciBwZWckc2F2ZWRQb3MgPSAwO1xuICAgIHZhciBwZWckcG9zRGV0YWlsc0NhY2hlID0gW3sgbGluZTogMSwgY29sdW1uOiAxIH1dO1xuICAgIHZhciBwZWckbWF4RmFpbFBvcyA9IDA7XG4gICAgdmFyIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICB2YXIgcGVnJHNpbGVudEZhaWxzID0gMDtcbiAgICB2YXIgcGVnJHJlc3VsdDtcbiAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlSW5kaWNlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHN0YXJ0IHBhcnNpbmcgZnJvbSBydWxlIFxcXCJcIiArIG9wdGlvbnMuc3RhcnRSdWxlICsgXCJcXFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwZWckc3RhcnRSdWxlSW5kZXggPSBwZWckc3RhcnRSdWxlSW5kaWNlc1tvcHRpb25zLnN0YXJ0UnVsZV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRleHQoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb24sIGxvY2F0aW9uMSkge1xuICAgICAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBsb2NhdGlvbjFcbiAgICAgICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICAgICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLCBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyksIGxvY2F0aW9uMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uMSkge1xuICAgICAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBsb2NhdGlvbjFcbiAgICAgICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICAgICAgdGhyb3cgcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbih0ZXh0MSwgaWdub3JlQ2FzZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dDogdGV4dDEsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHMsIGludmVydGVkLCBpZ25vcmVDYXNlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiY2xhc3NcIiwgcGFydHM6IHBhcnRzLCBpbnZlcnRlZDogaW52ZXJ0ZWQsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGFueUV4cGVjdGF0aW9uKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImFueVwiIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRlbmRFeHBlY3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlbmRcIiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcIm90aGVyXCIsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zKSB7XG4gICAgICAgIHZhciBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdO1xuICAgICAgICB2YXIgcDtcbiAgICAgICAgaWYgKGRldGFpbHMpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHtcbiAgICAgICAgICAgICAgICBwLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwXTtcbiAgICAgICAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgbGluZTogZGV0YWlscy5saW5lLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogZGV0YWlscy5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aGlsZSAocCA8IHBvcykge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHApID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcbiAgICAgICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3MsIGVuZFBvcykge1xuICAgICAgICB2YXIgc3RhcnRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHN0YXJ0UG9zKTtcbiAgICAgICAgdmFyIGVuZFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBzdGFydFBvcyxcbiAgICAgICAgICAgICAgICBsaW5lOiBzdGFydFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmQ6IHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGVuZFBvcyxcbiAgICAgICAgICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZDEpIHtcbiAgICAgICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykge1xuICAgICAgICAgICAgcGVnJG1heEZhaWxQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLnB1c2goZXhwZWN0ZWQxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSwgW10sIFwiXCIsIGxvY2F0aW9uMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihleHBlY3RlZDEsIGZvdW5kLCBsb2NhdGlvbjEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UoZXhwZWN0ZWQxLCBmb3VuZCksIGV4cGVjdGVkMSwgZm91bmQsIGxvY2F0aW9uMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZyRkZWNvZGUocykge1xuICAgICAgICByZXR1cm4gcy5zcGxpdChcIlwiKS5tYXAoZnVuY3Rpb24gKGNoKSB7IHJldHVybiBjaC5jaGFyQ29kZUF0KDApIC0gMzI7IH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VSdWxlKGluZGV4KSB7XG4gICAgICAgIHZhciBiYyA9IHBlZyRieXRlY29kZVtpbmRleF07XG4gICAgICAgIHZhciBpcCA9IDA7XG4gICAgICAgIHZhciBpcHMgPSBbXTtcbiAgICAgICAgdmFyIGVuZCA9IGJjLmxlbmd0aDtcbiAgICAgICAgdmFyIGVuZHMgPSBbXTtcbiAgICAgICAgdmFyIHN0YWNrID0gW107XG4gICAgICAgIHZhciBwYXJhbXM7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB3aGlsZSAoaXAgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGJjW2lwXSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocGVnJEZBSUxFRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLmxlbmd0aCAtPSBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2UoLTIsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMl0ucHVzaChzdGFjay5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGggLSBiY1tpcCArIDFdLCBiY1tpcCArIDFdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGlucHV0LnN1YnN0cmluZyhzdGFjay5wb3AoKSwgcGVnJGN1cnJQb3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwcy5wdXNoKGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDIgKyBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcHMucHVzaChpcCArIDMgKyBiY1tpcCArIDFdICsgYmNbaXAgKyAyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQubGVuZ3RoID4gcGVnJGN1cnJQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcHMucHVzaChpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmxlbmd0aCkgPT09IHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSA0ICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcHMucHVzaChpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmxlbmd0aCkudG9Mb3dlckNhc2UoKSA9PT0gcGVnJGNvbnN0c1tiY1tpcCArIDFdXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgNCArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgNCArIGJjW2lwICsgMl0gKyBiY1tpcCArIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwcy5wdXNoKGlwICsgNCArIGJjW2lwICsgMl0gKyBiY1tpcCArIDNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckY29uc3RzW2JjW2lwICsgMV1dLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcCArPSA0ICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIGJjW2lwICsgMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gcGVnJGNvbnN0c1tiY1tpcCArIDFdXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRGQUlMRUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMSAtIGJjW2lwICsgMV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBiYy5zbGljZShpcCArIDQsIGlwICsgNCArIGJjW2lwICsgM10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMSAtIHBdOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGggLSBiY1tpcCArIDJdLCBiY1tpcCArIDJdLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmFwcGx5KG51bGwsIHBhcmFtcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXAgKz0gNCArIGJjW2lwICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocGVnJHBhcnNlUnVsZShiY1tpcCArIDFdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvcGNvZGU6IFwiICsgYmNbaXBdICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBlbmRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlwID0gaXBzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWNrWzBdO1xuICAgIH1cbiAgICBvcHRpb25zLmRhdGEgPSB7fTsgLy8gT2JqZWN0IHRvIHdoaWNoIGhlYWRlciBhdHRyaWJ1dGVzIHdpbGwgYmUgYXNzaWduZWQgZHVyaW5nIHBhcnNpbmdcbiAgICBmdW5jdGlvbiBsaXN0KGhlYWQsIHRhaWwpIHtcbiAgICAgICAgcmV0dXJuIFtoZWFkXS5jb25jYXQodGFpbCk7XG4gICAgfVxuICAgIHBlZyRyZXN1bHQgPSBwZWckcGFyc2VSdWxlKHBlZyRzdGFydFJ1bGVJbmRleCk7XG4gICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKHBlZyRtYXhGYWlsRXhwZWN0ZWQsIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBlZyRtYXhGYWlsUG9zKSA6IG51bGwsIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoXG4gICAgICAgICAgICA/IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSlcbiAgICAgICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpKTtcbiAgICB9XG59XG5leHBvcnRzLnBhcnNlID0gcGVnJHBhcnNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZDVfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG8tanMvbWQ1XCIpKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG4vKipcbiAqIERpZ2VzdCBBdXRoZW50aWNhdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG52YXIgRGlnZXN0QXV0aGVudGljYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIGxvZ2dlckZhY3RvcnkgLSBMb2dnZXJGYWN0b3J5LlxuICAgICAqIEBwYXJhbSB1c2VybmFtZSAtIFVzZXJuYW1lLlxuICAgICAqIEBwYXJhbSBwYXNzd29yZCAtIFBhc3N3b3JkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpZ2VzdEF1dGhlbnRpY2F0aW9uKGxvZ2dlckZhY3RvcnksIHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFwic2lwanMuZGlnZXN0YXV0aGVudGljYXRpb25cIik7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLm5jID0gMDtcbiAgICAgICAgdGhpcy5uY0hleCA9IFwiMDAwMDAwMDBcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgRGlnZXN0IGF1dGhlbnRpY2F0aW9uIGdpdmVuIGEgU0lQIHJlcXVlc3QgYW5kIHRoZSBjaGFsbGVuZ2VcbiAgICAgKiByZWNlaXZlZCBpbiBhIHJlc3BvbnNlIHRvIHRoYXQgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtXG4gICAgICogQHBhcmFtIGNoYWxsZW5nZSAtXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBjcmVkZW50aWFscyB3ZXJlIHN1Y2Nlc3NmdWxseSBnZW5lcmF0ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBEaWdlc3RBdXRoZW50aWNhdGlvbi5wcm90b3R5cGUuYXV0aGVudGljYXRlID0gZnVuY3Rpb24gKHJlcXVlc3QsIGNoYWxsZW5nZSwgYm9keSkge1xuICAgICAgICAvLyBJbnNwZWN0IGFuZCB2YWxpZGF0ZSB0aGUgY2hhbGxlbmdlLlxuICAgICAgICB0aGlzLmFsZ29yaXRobSA9IGNoYWxsZW5nZS5hbGdvcml0aG07XG4gICAgICAgIHRoaXMucmVhbG0gPSBjaGFsbGVuZ2UucmVhbG07XG4gICAgICAgIHRoaXMubm9uY2UgPSBjaGFsbGVuZ2Uubm9uY2U7XG4gICAgICAgIHRoaXMub3BhcXVlID0gY2hhbGxlbmdlLm9wYXF1ZTtcbiAgICAgICAgdGhpcy5zdGFsZSA9IGNoYWxsZW5nZS5zdGFsZTtcbiAgICAgICAgaWYgKHRoaXMuYWxnb3JpdGhtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGdvcml0aG0gIT09IFwiTUQ1XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiY2hhbGxlbmdlIHdpdGggRGlnZXN0IGFsZ29yaXRobSBkaWZmZXJlbnQgdGhhbiAnTUQ1JywgYXV0aGVudGljYXRpb24gYWJvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFsZ29yaXRobSA9IFwiTUQ1XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnJlYWxtKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiY2hhbGxlbmdlIHdpdGhvdXQgRGlnZXN0IHJlYWxtLCBhdXRoZW50aWNhdGlvbiBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5ub25jZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImNoYWxsZW5nZSB3aXRob3V0IERpZ2VzdCBub25jZSwgYXV0aGVudGljYXRpb24gYWJvcnRlZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAncW9wJyBjYW4gY29udGFpbiBhIGxpc3Qgb2YgdmFsdWVzIChBcnJheSkuIExldCdzIGNob29zZSBqdXN0IG9uZS5cbiAgICAgICAgaWYgKGNoYWxsZW5nZS5xb3ApIHtcbiAgICAgICAgICAgIGlmIChjaGFsbGVuZ2UucW9wLmluZGV4T2YoXCJhdXRoXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnFvcCA9IFwiYXV0aFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbGxlbmdlLnFvcC5pbmRleE9mKFwiYXV0aC1pbnRcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucW9wID0gXCJhdXRoLWludFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlICdxb3AnIGlzIHByZXNlbnQgYnV0IGRvZXMgbm90IGNvbnRhaW4gJ2F1dGgnIG9yICdhdXRoLWludCcsIHNvIGFib3J0IGhlcmUuXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImNoYWxsZW5nZSB3aXRob3V0IERpZ2VzdCBxb3AgZGlmZmVyZW50IHRoYW4gJ2F1dGgnIG9yICdhdXRoLWludCcsIGF1dGhlbnRpY2F0aW9uIGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5xb3AgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmlsbCBvdGhlciBhdHRyaWJ1dGVzLlxuICAgICAgICB0aGlzLm1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgICAgICB0aGlzLnVyaSA9IHJlcXVlc3QucnVyaTtcbiAgICAgICAgdGhpcy5jbm9uY2UgPSB1dGlsc18xLmNyZWF0ZVJhbmRvbVRva2VuKDEyKTtcbiAgICAgICAgdGhpcy5uYyArPSAxO1xuICAgICAgICB0aGlzLnVwZGF0ZU5jSGV4KCk7XG4gICAgICAgIC8vIG5jLXZhbHVlID0gOExIRVguIE1heCB2YWx1ZSA9ICdGRkZGRkZGRicuXG4gICAgICAgIGlmICh0aGlzLm5jID09PSA0Mjk0OTY3Mjk2KSB7XG4gICAgICAgICAgICB0aGlzLm5jID0gMTtcbiAgICAgICAgICAgIHRoaXMubmNIZXggPSBcIjAwMDAwMDAxXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBEaWdlc3QgXCJyZXNwb25zZVwiIHZhbHVlLlxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVJlc3BvbnNlKGJvZHkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgUHJveHktQXV0aG9yaXphdGlvbiBvciBXV1ctQXV0aG9yaXphdGlvbiBoZWFkZXIgdmFsdWUuXG4gICAgICovXG4gICAgRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXV0aFBhcmFtcyA9IFtdO1xuICAgICAgICBpZiAoIXRoaXMucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJlc3BvbnNlIGZpZWxkIGRvZXMgbm90IGV4aXN0LCBjYW5ub3QgZ2VuZXJhdGUgQXV0aG9yaXphdGlvbiBoZWFkZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXV0aFBhcmFtcy5wdXNoKFwiYWxnb3JpdGhtPVwiICsgdGhpcy5hbGdvcml0aG0pO1xuICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ3VzZXJuYW1lPVwiJyArIHRoaXMudXNlcm5hbWUgKyAnXCInKTtcbiAgICAgICAgYXV0aFBhcmFtcy5wdXNoKCdyZWFsbT1cIicgKyB0aGlzLnJlYWxtICsgJ1wiJyk7XG4gICAgICAgIGF1dGhQYXJhbXMucHVzaCgnbm9uY2U9XCInICsgdGhpcy5ub25jZSArICdcIicpO1xuICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ3VyaT1cIicgKyB0aGlzLnVyaSArICdcIicpO1xuICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ3Jlc3BvbnNlPVwiJyArIHRoaXMucmVzcG9uc2UgKyAnXCInKTtcbiAgICAgICAgaWYgKHRoaXMub3BhcXVlKSB7XG4gICAgICAgICAgICBhdXRoUGFyYW1zLnB1c2goJ29wYXF1ZT1cIicgKyB0aGlzLm9wYXF1ZSArICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnFvcCkge1xuICAgICAgICAgICAgYXV0aFBhcmFtcy5wdXNoKFwicW9wPVwiICsgdGhpcy5xb3ApO1xuICAgICAgICAgICAgYXV0aFBhcmFtcy5wdXNoKCdjbm9uY2U9XCInICsgdGhpcy5jbm9uY2UgKyAnXCInKTtcbiAgICAgICAgICAgIGF1dGhQYXJhbXMucHVzaChcIm5jPVwiICsgdGhpcy5uY0hleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiRGlnZXN0IFwiICsgYXV0aFBhcmFtcy5qb2luKFwiLCBcIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgJ25jJyB2YWx1ZSBhcyByZXF1aXJlZCBieSBEaWdlc3QgaW4gdGhpcy5uY0hleCBieSByZWFkaW5nIHRoaXMubmMuXG4gICAgICovXG4gICAgRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLnVwZGF0ZU5jSGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGV4ID0gTnVtYmVyKHRoaXMubmMpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgdGhpcy5uY0hleCA9IFwiMDAwMDAwMDBcIi5zdWJzdHIoMCwgOCAtIGhleC5sZW5ndGgpICsgaGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgRGlnZXN0ICdyZXNwb25zZScgdmFsdWUuXG4gICAgICovXG4gICAgRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLmNhbGN1bGF0ZVJlc3BvbnNlID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgdmFyIGhhMjtcbiAgICAgICAgLy8gSEExID0gTUQ1KEExKSA9IE1ENSh1c2VybmFtZTpyZWFsbTpwYXNzd29yZClcbiAgICAgICAgdmFyIGhhMSA9IG1kNV8xLmRlZmF1bHQodGhpcy51c2VybmFtZSArIFwiOlwiICsgdGhpcy5yZWFsbSArIFwiOlwiICsgdGhpcy5wYXNzd29yZCk7XG4gICAgICAgIGlmICh0aGlzLnFvcCA9PT0gXCJhdXRoXCIpIHtcbiAgICAgICAgICAgIC8vIEhBMiA9IE1ENShBMikgPSBNRDUobWV0aG9kOmRpZ2VzdFVSSSlcbiAgICAgICAgICAgIGhhMiA9IG1kNV8xLmRlZmF1bHQodGhpcy5tZXRob2QgKyBcIjpcIiArIHRoaXMudXJpKTtcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlID0gTUQ1KEhBMTpub25jZTpub25jZUNvdW50OmNyZWRlbnRpYWxzTm9uY2U6cW9wOkhBMilcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSBtZDVfMS5kZWZhdWx0KGhhMSArIFwiOlwiICsgdGhpcy5ub25jZSArIFwiOlwiICsgdGhpcy5uY0hleCArIFwiOlwiICsgdGhpcy5jbm9uY2UgKyBcIjphdXRoOlwiICsgaGEyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnFvcCA9PT0gXCJhdXRoLWludFwiKSB7XG4gICAgICAgICAgICAvLyBIQTIgPSBNRDUoQTIpID0gTUQ1KG1ldGhvZDpkaWdlc3RVUkk6TUQ1KGVudGl0eUJvZHkpKVxuICAgICAgICAgICAgaGEyID0gbWQ1XzEuZGVmYXVsdCh0aGlzLm1ldGhvZCArIFwiOlwiICsgdGhpcy51cmkgKyBcIjpcIiArIG1kNV8xLmRlZmF1bHQoYm9keSA/IGJvZHkgOiBcIlwiKSk7XG4gICAgICAgICAgICAvLyByZXNwb25zZSA9IE1ENShIQTE6bm9uY2U6bm9uY2VDb3VudDpjcmVkZW50aWFsc05vbmNlOnFvcDpIQTIpXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gbWQ1XzEuZGVmYXVsdChoYTEgKyBcIjpcIiArIHRoaXMubm9uY2UgKyBcIjpcIiArIHRoaXMubmNIZXggKyBcIjpcIiArIHRoaXMuY25vbmNlICsgXCI6YXV0aC1pbnQ6XCIgKyBoYTIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucW9wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEhBMiA9IE1ENShBMikgPSBNRDUobWV0aG9kOmRpZ2VzdFVSSSlcbiAgICAgICAgICAgIGhhMiA9IG1kNV8xLmRlZmF1bHQodGhpcy5tZXRob2QgKyBcIjpcIiArIHRoaXMudXJpKTtcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlID0gTUQ1KEhBMTpub25jZTpIQTIpXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gbWQ1XzEuZGVmYXVsdChoYTEgKyBcIjpcIiArIHRoaXMubm9uY2UgKyBcIjpcIiArIGhhMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEaWdlc3RBdXRoZW50aWNhdGlvbjtcbn0oKSk7XG5leHBvcnRzLkRpZ2VzdEF1dGhlbnRpY2F0aW9uID0gRGlnZXN0QXV0aGVudGljYXRpb247XG4iLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoTWF0aCkge1xuXHQgICAgLy8gU2hvcnRjdXRzXG5cdCAgICB2YXIgQyA9IENyeXB0b0pTO1xuXHQgICAgdmFyIENfbGliID0gQy5saWI7XG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5O1xuXHQgICAgdmFyIEhhc2hlciA9IENfbGliLkhhc2hlcjtcblx0ICAgIHZhciBDX2FsZ28gPSBDLmFsZ287XG5cblx0ICAgIC8vIENvbnN0YW50cyB0YWJsZVxuXHQgICAgdmFyIFQgPSBbXTtcblxuXHQgICAgLy8gQ29tcHV0ZSBjb25zdGFudHNcblx0ICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG5cdCAgICAgICAgICAgIFRbaV0gPSAoTWF0aC5hYnMoTWF0aC5zaW4oaSArIDEpKSAqIDB4MTAwMDAwMDAwKSB8IDA7XG5cdCAgICAgICAgfVxuXHQgICAgfSgpKTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBNRDUgaGFzaCBhbGdvcml0aG0uXG5cdCAgICAgKi9cblx0ICAgIHZhciBNRDUgPSBDX2FsZ28uTUQ1ID0gSGFzaGVyLmV4dGVuZCh7XG5cdCAgICAgICAgX2RvUmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdGhpcy5faGFzaCA9IG5ldyBXb3JkQXJyYXkuaW5pdChbXG5cdCAgICAgICAgICAgICAgICAweDY3NDUyMzAxLCAweGVmY2RhYjg5LFxuXHQgICAgICAgICAgICAgICAgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3NlxuXHQgICAgICAgICAgICBdKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XG5cdCAgICAgICAgICAgIC8vIFN3YXAgZW5kaWFuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0X2kgPSBvZmZzZXQgKyBpO1xuXHQgICAgICAgICAgICAgICAgdmFyIE1fb2Zmc2V0X2kgPSBNW29mZnNldF9pXTtcblxuXHQgICAgICAgICAgICAgICAgTVtvZmZzZXRfaV0gPSAoXG5cdCAgICAgICAgICAgICAgICAgICAgKCgoTV9vZmZzZXRfaSA8PCA4KSAgfCAoTV9vZmZzZXRfaSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICAgICAoKChNX29mZnNldF9pIDw8IDI0KSB8IChNX29mZnNldF9pID4+PiA4KSkgICYgMHhmZjAwZmYwMClcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIEggPSB0aGlzLl9oYXNoLndvcmRzO1xuXG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8wICA9IE1bb2Zmc2V0ICsgMF07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xICA9IE1bb2Zmc2V0ICsgMV07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8yICA9IE1bb2Zmc2V0ICsgMl07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8zICA9IE1bb2Zmc2V0ICsgM107XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF80ICA9IE1bb2Zmc2V0ICsgNF07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF81ICA9IE1bb2Zmc2V0ICsgNV07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF82ICA9IE1bb2Zmc2V0ICsgNl07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF83ICA9IE1bb2Zmc2V0ICsgN107XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF84ICA9IE1bb2Zmc2V0ICsgOF07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF85ICA9IE1bb2Zmc2V0ICsgOV07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xMCA9IE1bb2Zmc2V0ICsgMTBdO1xuXHQgICAgICAgICAgICB2YXIgTV9vZmZzZXRfMTEgPSBNW29mZnNldCArIDExXTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzEyID0gTVtvZmZzZXQgKyAxMl07XG5cdCAgICAgICAgICAgIHZhciBNX29mZnNldF8xMyA9IE1bb2Zmc2V0ICsgMTNdO1xuXHQgICAgICAgICAgICB2YXIgTV9vZmZzZXRfMTQgPSBNW29mZnNldCArIDE0XTtcblx0ICAgICAgICAgICAgdmFyIE1fb2Zmc2V0XzE1ID0gTVtvZmZzZXQgKyAxNV07XG5cblx0ICAgICAgICAgICAgLy8gV29ya2luZyB2YXJpYWxiZXNcblx0ICAgICAgICAgICAgdmFyIGEgPSBIWzBdO1xuXHQgICAgICAgICAgICB2YXIgYiA9IEhbMV07XG5cdCAgICAgICAgICAgIHZhciBjID0gSFsyXTtcblx0ICAgICAgICAgICAgdmFyIGQgPSBIWzNdO1xuXG5cdCAgICAgICAgICAgIC8vIENvbXB1dGF0aW9uXG5cdCAgICAgICAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBNX29mZnNldF8wLCAgNywgIFRbMF0pO1xuXHQgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgTV9vZmZzZXRfMSwgIDEyLCBUWzFdKTtcblx0ICAgICAgICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzIsICAxNywgVFsyXSk7XG5cdCAgICAgICAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF8zLCAgMjIsIFRbM10pO1xuXHQgICAgICAgICAgICBhID0gRkYoYSwgYiwgYywgZCwgTV9vZmZzZXRfNCwgIDcsICBUWzRdKTtcblx0ICAgICAgICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzUsICAxMiwgVFs1XSk7XG5cdCAgICAgICAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBNX29mZnNldF82LCAgMTcsIFRbNl0pO1xuXHQgICAgICAgICAgICBiID0gRkYoYiwgYywgZCwgYSwgTV9vZmZzZXRfNywgIDIyLCBUWzddKTtcblx0ICAgICAgICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzgsICA3LCAgVFs4XSk7XG5cdCAgICAgICAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBNX29mZnNldF85LCAgMTIsIFRbOV0pO1xuXHQgICAgICAgICAgICBjID0gRkYoYywgZCwgYSwgYiwgTV9vZmZzZXRfMTAsIDE3LCBUWzEwXSk7XG5cdCAgICAgICAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBNX29mZnNldF8xMSwgMjIsIFRbMTFdKTtcblx0ICAgICAgICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEyLCA3LCAgVFsxMl0pO1xuXHQgICAgICAgICAgICBkID0gRkYoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTMsIDEyLCBUWzEzXSk7XG5cdCAgICAgICAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBNX29mZnNldF8xNCwgMTcsIFRbMTRdKTtcblx0ICAgICAgICAgICAgYiA9IEZGKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzE1LCAyMiwgVFsxNV0pO1xuXG5cdCAgICAgICAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBNX29mZnNldF8xLCAgNSwgIFRbMTZdKTtcblx0ICAgICAgICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzYsICA5LCAgVFsxN10pO1xuXHQgICAgICAgICAgICBjID0gR0coYywgZCwgYSwgYiwgTV9vZmZzZXRfMTEsIDE0LCBUWzE4XSk7XG5cdCAgICAgICAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBNX29mZnNldF8wLCAgMjAsIFRbMTldKTtcblx0ICAgICAgICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzUsICA1LCAgVFsyMF0pO1xuXHQgICAgICAgICAgICBkID0gR0coZCwgYSwgYiwgYywgTV9vZmZzZXRfMTAsIDksICBUWzIxXSk7XG5cdCAgICAgICAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBNX29mZnNldF8xNSwgMTQsIFRbMjJdKTtcblx0ICAgICAgICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzQsICAyMCwgVFsyM10pO1xuXHQgICAgICAgICAgICBhID0gR0coYSwgYiwgYywgZCwgTV9vZmZzZXRfOSwgIDUsICBUWzI0XSk7XG5cdCAgICAgICAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCBNX29mZnNldF8xNCwgOSwgIFRbMjVdKTtcblx0ICAgICAgICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzMsICAxNCwgVFsyNl0pO1xuXHQgICAgICAgICAgICBiID0gR0coYiwgYywgZCwgYSwgTV9vZmZzZXRfOCwgIDIwLCBUWzI3XSk7XG5cdCAgICAgICAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBNX29mZnNldF8xMywgNSwgIFRbMjhdKTtcblx0ICAgICAgICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzIsICA5LCAgVFsyOV0pO1xuXHQgICAgICAgICAgICBjID0gR0coYywgZCwgYSwgYiwgTV9vZmZzZXRfNywgIDE0LCBUWzMwXSk7XG5cdCAgICAgICAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBNX29mZnNldF8xMiwgMjAsIFRbMzFdKTtcblxuXHQgICAgICAgICAgICBhID0gSEgoYSwgYiwgYywgZCwgTV9vZmZzZXRfNSwgIDQsICBUWzMyXSk7XG5cdCAgICAgICAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBNX29mZnNldF84LCAgMTEsIFRbMzNdKTtcblx0ICAgICAgICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzExLCAxNiwgVFszNF0pO1xuXHQgICAgICAgICAgICBiID0gSEgoYiwgYywgZCwgYSwgTV9vZmZzZXRfMTQsIDIzLCBUWzM1XSk7XG5cdCAgICAgICAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBNX29mZnNldF8xLCAgNCwgIFRbMzZdKTtcblx0ICAgICAgICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzQsICAxMSwgVFszN10pO1xuXHQgICAgICAgICAgICBjID0gSEgoYywgZCwgYSwgYiwgTV9vZmZzZXRfNywgIDE2LCBUWzM4XSk7XG5cdCAgICAgICAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBNX29mZnNldF8xMCwgMjMsIFRbMzldKTtcblx0ICAgICAgICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzEzLCA0LCAgVFs0MF0pO1xuXHQgICAgICAgICAgICBkID0gSEgoZCwgYSwgYiwgYywgTV9vZmZzZXRfMCwgIDExLCBUWzQxXSk7XG5cdCAgICAgICAgICAgIGMgPSBISChjLCBkLCBhLCBiLCBNX29mZnNldF8zLCAgMTYsIFRbNDJdKTtcblx0ICAgICAgICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzYsICAyMywgVFs0M10pO1xuXHQgICAgICAgICAgICBhID0gSEgoYSwgYiwgYywgZCwgTV9vZmZzZXRfOSwgIDQsICBUWzQ0XSk7XG5cdCAgICAgICAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBNX29mZnNldF8xMiwgMTEsIFRbNDVdKTtcblx0ICAgICAgICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzE1LCAxNiwgVFs0Nl0pO1xuXHQgICAgICAgICAgICBiID0gSEgoYiwgYywgZCwgYSwgTV9vZmZzZXRfMiwgIDIzLCBUWzQ3XSk7XG5cblx0ICAgICAgICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzAsICA2LCAgVFs0OF0pO1xuXHQgICAgICAgICAgICBkID0gSUkoZCwgYSwgYiwgYywgTV9vZmZzZXRfNywgIDEwLCBUWzQ5XSk7XG5cdCAgICAgICAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBNX29mZnNldF8xNCwgMTUsIFRbNTBdKTtcblx0ICAgICAgICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzUsICAyMSwgVFs1MV0pO1xuXHQgICAgICAgICAgICBhID0gSUkoYSwgYiwgYywgZCwgTV9vZmZzZXRfMTIsIDYsICBUWzUyXSk7XG5cdCAgICAgICAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBNX29mZnNldF8zLCAgMTAsIFRbNTNdKTtcblx0ICAgICAgICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIE1fb2Zmc2V0XzEwLCAxNSwgVFs1NF0pO1xuXHQgICAgICAgICAgICBiID0gSUkoYiwgYywgZCwgYSwgTV9vZmZzZXRfMSwgIDIxLCBUWzU1XSk7XG5cdCAgICAgICAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBNX29mZnNldF84LCAgNiwgIFRbNTZdKTtcblx0ICAgICAgICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIE1fb2Zmc2V0XzE1LCAxMCwgVFs1N10pO1xuXHQgICAgICAgICAgICBjID0gSUkoYywgZCwgYSwgYiwgTV9vZmZzZXRfNiwgIDE1LCBUWzU4XSk7XG5cdCAgICAgICAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBNX29mZnNldF8xMywgMjEsIFRbNTldKTtcblx0ICAgICAgICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIE1fb2Zmc2V0XzQsICA2LCAgVFs2MF0pO1xuXHQgICAgICAgICAgICBkID0gSUkoZCwgYSwgYiwgYywgTV9vZmZzZXRfMTEsIDEwLCBUWzYxXSk7XG5cdCAgICAgICAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBNX29mZnNldF8yLCAgMTUsIFRbNjJdKTtcblx0ICAgICAgICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIE1fb2Zmc2V0XzksICAyMSwgVFs2M10pO1xuXG5cdCAgICAgICAgICAgIC8vIEludGVybWVkaWF0ZSBoYXNoIHZhbHVlXG5cdCAgICAgICAgICAgIEhbMF0gPSAoSFswXSArIGEpIHwgMDtcblx0ICAgICAgICAgICAgSFsxXSA9IChIWzFdICsgYikgfCAwO1xuXHQgICAgICAgICAgICBIWzJdID0gKEhbMl0gKyBjKSB8IDA7XG5cdCAgICAgICAgICAgIEhbM10gPSAoSFszXSArIGQpIHwgMDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX2RvRmluYWxpemU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cblx0ICAgICAgICAgICAgdmFyIG5CaXRzVG90YWwgPSB0aGlzLl9uRGF0YUJ5dGVzICogODtcblx0ICAgICAgICAgICAgdmFyIG5CaXRzTGVmdCA9IGRhdGEuc2lnQnl0ZXMgKiA4O1xuXG5cdCAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1tuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gbkJpdHNMZWZ0ICUgMzIpO1xuXG5cdCAgICAgICAgICAgIHZhciBuQml0c1RvdGFsSCA9IE1hdGguZmxvb3IobkJpdHNUb3RhbCAvIDB4MTAwMDAwMDAwKTtcblx0ICAgICAgICAgICAgdmFyIG5CaXRzVG90YWxMID0gbkJpdHNUb3RhbDtcblx0ICAgICAgICAgICAgZGF0YVdvcmRzWygoKG5CaXRzTGVmdCArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNV0gPSAoXG5cdCAgICAgICAgICAgICAgICAoKChuQml0c1RvdGFsSCA8PCA4KSAgfCAobkJpdHNUb3RhbEggPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG5cdCAgICAgICAgICAgICAgICAoKChuQml0c1RvdGFsSCA8PCAyNCkgfCAobkJpdHNUb3RhbEggPj4+IDgpKSAgJiAweGZmMDBmZjAwKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE0XSA9IChcblx0ICAgICAgICAgICAgICAgICgoKG5CaXRzVG90YWxMIDw8IDgpICB8IChuQml0c1RvdGFsTCA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHxcblx0ICAgICAgICAgICAgICAgICgoKG5CaXRzVG90YWxMIDw8IDI0KSB8IChuQml0c1RvdGFsTCA+Pj4gOCkpICAmIDB4ZmYwMGZmMDApXG5cdCAgICAgICAgICAgICk7XG5cblx0ICAgICAgICAgICAgZGF0YS5zaWdCeXRlcyA9IChkYXRhV29yZHMubGVuZ3RoICsgMSkgKiA0O1xuXG5cdCAgICAgICAgICAgIC8vIEhhc2ggZmluYWwgYmxvY2tzXG5cdCAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3MoKTtcblxuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLl9oYXNoO1xuXHQgICAgICAgICAgICB2YXIgSCA9IGhhc2gud29yZHM7XG5cblx0ICAgICAgICAgICAgLy8gU3dhcCBlbmRpYW5cblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgICAgICB2YXIgSF9pID0gSFtpXTtcblxuXHQgICAgICAgICAgICAgICAgSFtpXSA9ICgoKEhfaSA8PCA4KSAgfCAoSF9pID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfFxuXHQgICAgICAgICAgICAgICAgICAgICAgICgoKEhfaSA8PCAyNCkgfCAoSF9pID4+PiA4KSkgICYgMHhmZjAwZmYwMCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBSZXR1cm4gZmluYWwgY29tcHV0ZWQgaGFzaFxuXHQgICAgICAgICAgICByZXR1cm4gaGFzaDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGNsb25lID0gSGFzaGVyLmNsb25lLmNhbGwodGhpcyk7XG5cdCAgICAgICAgICAgIGNsb25lLl9oYXNoID0gdGhpcy5faGFzaC5jbG9uZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgZnVuY3Rpb24gRkYoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArICgoYiAmIGMpIHwgKH5iICYgZCkpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gR0coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArICgoYiAmIGQpIHwgKGMgJiB+ZCkpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gSEgoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArIChiIF4gYyBeIGQpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gSUkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuXHQgICAgICAgIHZhciBuID0gYSArIChjIF4gKGIgfCB+ZCkpICsgeCArIHQ7XG5cdCAgICAgICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLk1ENSgnbWVzc2FnZScpO1xuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuTUQ1KHdvcmRBcnJheSk7XG5cdCAgICAgKi9cblx0ICAgIEMuTUQ1ID0gSGFzaGVyLl9jcmVhdGVIZWxwZXIoTUQ1KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBITUFDLlxuXHQgICAgICpcblx0ICAgICAqIEBzdGF0aWNcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICB2YXIgaG1hYyA9IENyeXB0b0pTLkhtYWNNRDUobWVzc2FnZSwga2V5KTtcblx0ICAgICAqL1xuXHQgICAgQy5IbWFjTUQ1ID0gSGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKE1ENSk7XG5cdH0oTWF0aCkpO1xuXG5cblx0cmV0dXJuIENyeXB0b0pTLk1ENTtcblxufSkpOyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRyb290LkNyeXB0b0pTID0gZmFjdG9yeSgpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHQvKipcblx0ICogQ3J5cHRvSlMgY29yZSBjb21wb25lbnRzLlxuXHQgKi9cblx0dmFyIENyeXB0b0pTID0gQ3J5cHRvSlMgfHwgKGZ1bmN0aW9uIChNYXRoLCB1bmRlZmluZWQpIHtcblx0ICAgIC8qXG5cdCAgICAgKiBMb2NhbCBwb2x5ZmlsIG9mIE9iamVjdC5jcmVhdGVcblx0ICAgICAqL1xuXHQgICAgdmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBGKCkge307XG5cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgICAgICB2YXIgc3VidHlwZTtcblxuXHQgICAgICAgICAgICBGLnByb3RvdHlwZSA9IG9iajtcblxuXHQgICAgICAgICAgICBzdWJ0eXBlID0gbmV3IEYoKTtcblxuXHQgICAgICAgICAgICBGLnByb3RvdHlwZSA9IG51bGw7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG5cdCAgICAgICAgfTtcblx0ICAgIH0oKSlcblxuXHQgICAgLyoqXG5cdCAgICAgKiBDcnlwdG9KUyBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogTGlicmFyeSBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDX2xpYiA9IEMubGliID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogQmFzZSBvYmplY3QgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBCYXNlID0gQ19saWIuQmFzZSA9IChmdW5jdGlvbiAoKSB7XG5cblxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhpcyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdmVycmlkZXMgUHJvcGVydGllcyB0byBjb3B5IGludG8gdGhlIG5ldyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogICAgIHZhciBNeVR5cGUgPSBDcnlwdG9KUy5saWIuQmFzZS5leHRlbmQoe1xuXHQgICAgICAgICAgICAgKiAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgICAgIG1ldGhvZDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgKiAgICAgICAgIH1cblx0ICAgICAgICAgICAgICogICAgIH0pO1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbiAob3ZlcnJpZGVzKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTcGF3blxuXHQgICAgICAgICAgICAgICAgdmFyIHN1YnR5cGUgPSBjcmVhdGUodGhpcyk7XG5cblx0ICAgICAgICAgICAgICAgIC8vIEF1Z21lbnRcblx0ICAgICAgICAgICAgICAgIGlmIChvdmVycmlkZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlLm1peEluKG92ZXJyaWRlcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGluaXRpYWxpemVyXG5cdCAgICAgICAgICAgICAgICBpZiAoIXN1YnR5cGUuaGFzT3duUHJvcGVydHkoJ2luaXQnKSB8fCB0aGlzLmluaXQgPT09IHN1YnR5cGUuaW5pdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHN1YnR5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3VidHlwZS4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemVyJ3MgcHJvdG90eXBlIGlzIHRoZSBzdWJ0eXBlIG9iamVjdFxuXHQgICAgICAgICAgICAgICAgc3VidHlwZS5pbml0LnByb3RvdHlwZSA9IHN1YnR5cGU7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlZmVyZW5jZSBzdXBlcnR5cGVcblx0ICAgICAgICAgICAgICAgIHN1YnR5cGUuJHN1cGVyID0gdGhpcztcblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG5cdCAgICAgICAgICAgIH0sXG5cblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEV4dGVuZHMgdGhpcyBvYmplY3QgYW5kIHJ1bnMgdGhlIGluaXQgbWV0aG9kLlxuXHQgICAgICAgICAgICAgKiBBcmd1bWVudHMgdG8gY3JlYXRlKCkgd2lsbCBiZSBwYXNzZWQgdG8gaW5pdCgpLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBuZXcgb2JqZWN0LlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICB2YXIgaW5zdGFuY2UgPSBNeVR5cGUuY3JlYXRlKCk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZXh0ZW5kKCk7XG5cdCAgICAgICAgICAgICAgICBpbnN0YW5jZS5pbml0LmFwcGx5KGluc3RhbmNlLCBhcmd1bWVudHMpO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG5cdCAgICAgICAgICAgIH0sXG5cblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBvYmplY3QuXG5cdCAgICAgICAgICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGFkZCBzb21lIGxvZ2ljIHdoZW4geW91ciBvYmplY3RzIGFyZSBjcmVhdGVkLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgdmFyIE15VHlwZSA9IENyeXB0b0pTLmxpYi5CYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgICAgICAqICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgKiAgICAgICAgICAgICAvLyAuLi5cblx0ICAgICAgICAgICAgICogICAgICAgICB9XG5cdCAgICAgICAgICAgICAqICAgICB9KTtcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgfSxcblxuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogQ29waWVzIHByb3BlcnRpZXMgaW50byB0aGlzIG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgVGhlIHByb3BlcnRpZXMgdG8gbWl4IGluLlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgTXlUeXBlLm1peEluKHtcblx0ICAgICAgICAgICAgICogICAgICAgICBmaWVsZDogJ3ZhbHVlJ1xuXHQgICAgICAgICAgICAgKiAgICAgfSk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBtaXhJbjogZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAvLyBJRSB3b24ndCBjb3B5IHRvU3RyaW5nIHVzaW5nIHRoZSBsb29wIGFib3ZlXG5cdCAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSgndG9TdHJpbmcnKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMudG9TdHJpbmcgPSBwcm9wZXJ0aWVzLnRvU3RyaW5nO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LFxuXG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICB2YXIgY2xvbmUgPSBpbnN0YW5jZS5jbG9uZSgpO1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICB9KCkpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFuIGFycmF5IG9mIDMyLWJpdCB3b3Jkcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSB3b3JkcyBUaGUgYXJyYXkgb2YgMzItYml0IHdvcmRzLlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHNpZ0J5dGVzIFRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgYnl0ZXMgaW4gdGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICovXG5cdCAgICB2YXIgV29yZEFycmF5ID0gQ19saWIuV29yZEFycmF5ID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtBcnJheX0gd29yZHMgKE9wdGlvbmFsKSBBbiBhcnJheSBvZiAzMi1iaXQgd29yZHMuXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNpZ0J5dGVzIChPcHRpb25hbCkgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBieXRlcyBpbiB0aGUgd29yZHMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5saWIuV29yZEFycmF5LmNyZWF0ZSgpO1xuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoWzB4MDAwMTAyMDMsIDB4MDQwNTA2MDddKTtcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKFsweDAwMDEwMjAzLCAweDA0MDUwNjA3XSwgNik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKHdvcmRzLCBzaWdCeXRlcykge1xuXHQgICAgICAgICAgICB3b3JkcyA9IHRoaXMud29yZHMgPSB3b3JkcyB8fCBbXTtcblxuXHQgICAgICAgICAgICBpZiAoc2lnQnl0ZXMgIT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gc2lnQnl0ZXM7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gd29yZHMubGVuZ3RoICogNDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyB0aGlzIHdvcmQgYXJyYXkgdG8gYSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0VuY29kZXJ9IGVuY29kZXIgKE9wdGlvbmFsKSBUaGUgZW5jb2Rpbmcgc3RyYXRlZ3kgdG8gdXNlLiBEZWZhdWx0OiBDcnlwdG9KUy5lbmMuSGV4XG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmdpZmllZCB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgc3RyaW5nID0gd29yZEFycmF5ICsgJyc7XG5cdCAgICAgICAgICogICAgIHZhciBzdHJpbmcgPSB3b3JkQXJyYXkudG9TdHJpbmcoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheS50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIChlbmNvZGVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAoZW5jb2RlciB8fCBIZXgpLnN0cmluZ2lmeSh0aGlzKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uY2F0ZW5hdGVzIGEgd29yZCBhcnJheSB0byB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5IHRvIGFwcGVuZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB3b3JkQXJyYXkxLmNvbmNhdCh3b3JkQXJyYXkyKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb25jYXQ6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciB0aGlzV29yZHMgPSB0aGlzLndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgdGhhdFdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgdGhpc1NpZ0J5dGVzID0gdGhpcy5zaWdCeXRlcztcblx0ICAgICAgICAgICAgdmFyIHRoYXRTaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDbGFtcCBleGNlc3MgYml0c1xuXHQgICAgICAgICAgICB0aGlzLmNsYW1wKCk7XG5cblx0ICAgICAgICAgICAgLy8gQ29uY2F0XG5cdCAgICAgICAgICAgIGlmICh0aGlzU2lnQnl0ZXMgJSA0KSB7XG5cdCAgICAgICAgICAgICAgICAvLyBDb3B5IG9uZSBieXRlIGF0IGEgdGltZVxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0U2lnQnl0ZXM7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0aGF0Qnl0ZSA9ICh0aGF0V29yZHNbaSA+Pj4gMl0gPj4+ICgyNCAtIChpICUgNCkgKiA4KSkgJiAweGZmO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXNXb3Jkc1sodGhpc1NpZ0J5dGVzICsgaSkgPj4+IDJdIHw9IHRoYXRCeXRlIDw8ICgyNCAtICgodGhpc1NpZ0J5dGVzICsgaSkgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gQ29weSBvbmUgd29yZCBhdCBhIHRpbWVcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdFNpZ0J5dGVzOyBpICs9IDQpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzV29yZHNbKHRoaXNTaWdCeXRlcyArIGkpID4+PiAyXSA9IHRoYXRXb3Jkc1tpID4+PiAyXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzICs9IHRoYXRTaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDaGFpbmFibGVcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFJlbW92ZXMgaW5zaWduaWZpY2FudCBiaXRzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB3b3JkQXJyYXkuY2xhbXAoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjbGFtcDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gdGhpcy53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gdGhpcy5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDbGFtcFxuXHQgICAgICAgICAgICB3b3Jkc1tzaWdCeXRlcyA+Pj4gMl0gJj0gMHhmZmZmZmZmZiA8PCAoMzIgLSAoc2lnQnl0ZXMgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICB3b3Jkcy5sZW5ndGggPSBNYXRoLmNlaWwoc2lnQnl0ZXMgLyA0KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhpcyB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBjbG9uZSA9IHdvcmRBcnJheS5jbG9uZSgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEJhc2UuY2xvbmUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgY2xvbmUud29yZHMgPSB0aGlzLndvcmRzLnNsaWNlKDApO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIHdvcmQgYXJyYXkgZmlsbGVkIHdpdGggcmFuZG9tIGJ5dGVzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG5CeXRlcyBUaGUgbnVtYmVyIG9mIHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHJhbmRvbSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oMTYpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHJhbmRvbTogZnVuY3Rpb24gKG5CeXRlcykge1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblxuXHQgICAgICAgICAgICB2YXIgciA9IChmdW5jdGlvbiAobV93KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbV93ID0gbV93O1xuXHQgICAgICAgICAgICAgICAgdmFyIG1feiA9IDB4M2FkZTY4YjE7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWFzayA9IDB4ZmZmZmZmZmY7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbV96ID0gKDB4OTA2OSAqIChtX3ogJiAweEZGRkYpICsgKG1feiA+PiAweDEwKSkgJiBtYXNrO1xuXHQgICAgICAgICAgICAgICAgICAgIG1fdyA9ICgweDQ2NTAgKiAobV93ICYgMHhGRkZGKSArIChtX3cgPj4gMHgxMCkpICYgbWFzaztcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gKChtX3ogPDwgMHgxMCkgKyBtX3cpICYgbWFzaztcblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHQgLz0gMHgxMDAwMDAwMDA7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IDAuNTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKE1hdGgucmFuZG9tKCkgPiAuNSA/IDEgOiAtMSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByY2FjaGU7IGkgPCBuQnl0ZXM7IGkgKz0gNCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9yID0gcigocmNhY2hlIHx8IE1hdGgucmFuZG9tKCkpICogMHgxMDAwMDAwMDApO1xuXG5cdCAgICAgICAgICAgICAgICByY2FjaGUgPSBfcigpICogMHgzYWRlNjdiNztcblx0ICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goKF9yKCkgKiAweDEwMDAwMDAwMCkgfCAwKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsIG5CeXRlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogRW5jb2RlciBuYW1lc3BhY2UuXG5cdCAgICAgKi9cblx0ICAgIHZhciBDX2VuYyA9IEMuZW5jID0ge307XG5cblx0ICAgIC8qKlxuXHQgICAgICogSGV4IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgSGV4ID0gQ19lbmMuSGV4ID0ge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIGEgd29yZCBhcnJheSB0byBhIGhleCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgaGV4IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhleFN0cmluZyA9IENyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHdvcmRBcnJheSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgc3RyaW5naWZ5OiBmdW5jdGlvbiAod29yZEFycmF5KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSB3b3JkQXJyYXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBzaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0XG5cdCAgICAgICAgICAgIHZhciBoZXhDaGFycyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ0J5dGVzOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBiaXRlID0gKHdvcmRzW2kgPj4+IDJdID4+PiAoMjQgLSAoaSAlIDQpICogOCkpICYgMHhmZjtcblx0ICAgICAgICAgICAgICAgIGhleENoYXJzLnB1c2goKGJpdGUgPj4+IDQpLnRvU3RyaW5nKDE2KSk7XG5cdCAgICAgICAgICAgICAgICBoZXhDaGFycy5wdXNoKChiaXRlICYgMHgwZikudG9TdHJpbmcoMTYpKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBoZXhDaGFycy5qb2luKCcnKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBoZXggc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXhTdHIgVGhlIGhleCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMuZW5jLkhleC5wYXJzZShoZXhTdHJpbmcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoaGV4U3RyKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgIHZhciBoZXhTdHJMZW5ndGggPSBoZXhTdHIubGVuZ3RoO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGV4U3RyTGVuZ3RoOyBpICs9IDIpIHtcblx0ICAgICAgICAgICAgICAgIHdvcmRzW2kgPj4+IDNdIHw9IHBhcnNlSW50KGhleFN0ci5zdWJzdHIoaSwgMiksIDE2KSA8PCAoMjQgLSAoaSAlIDgpICogNCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBoZXhTdHJMZW5ndGggLyAyKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIExhdGluMSBlbmNvZGluZyBzdHJhdGVneS5cblx0ICAgICAqL1xuXHQgICAgdmFyIExhdGluMSA9IENfZW5jLkxhdGluMSA9IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBMYXRpbjEgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIExhdGluMSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBsYXRpbjFTdHJpbmcgPSBDcnlwdG9KUy5lbmMuTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKHdvcmRBcnJheSkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgc2lnQnl0ZXMgPSB3b3JkQXJyYXkuc2lnQnl0ZXM7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgbGF0aW4xQ2hhcnMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWdCeXRlczsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYml0ZSA9ICh3b3Jkc1tpID4+PiAyXSA+Pj4gKDI0IC0gKGkgJSA0KSAqIDgpKSAmIDB4ZmY7XG5cdCAgICAgICAgICAgICAgICBsYXRpbjFDaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYml0ZSkpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGxhdGluMUNoYXJzLmpvaW4oJycpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIExhdGluMSBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhdGluMVN0ciBUaGUgTGF0aW4xIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuTGF0aW4xLnBhcnNlKGxhdGluMVN0cmluZyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChsYXRpbjFTdHIpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGxhdGluMVN0ckxlbmd0aCA9IGxhdGluMVN0ci5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXRpbjFTdHJMZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgd29yZHNbaSA+Pj4gMl0gfD0gKGxhdGluMVN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZikgPDwgKDI0IC0gKGkgJSA0KSAqIDgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdCh3b3JkcywgbGF0aW4xU3RyTGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIFVURi04IGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgVXRmOCA9IENfZW5jLlV0ZjggPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgVVRGLTggc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIFVURi04IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHV0ZjhTdHJpbmcgPSBDcnlwdG9KUy5lbmMuVXRmOC5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKExhdGluMS5zdHJpbmdpZnkod29yZEFycmF5KSkpO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBVVEYtOCBkYXRhJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSBVVEYtOCBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHV0ZjhTdHIgVGhlIFVURi04IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZSh1dGY4U3RyaW5nKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHV0ZjhTdHIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIExhdGluMS5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodXRmOFN0cikpKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFic3RyYWN0IGJ1ZmZlcmVkIGJsb2NrIGFsZ29yaXRobSB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBUaGUgcHJvcGVydHkgYmxvY2tTaXplIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gYSBjb25jcmV0ZSBzdWJ0eXBlLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfbWluQnVmZmVyU2l6ZSBUaGUgbnVtYmVyIG9mIGJsb2NrcyB0aGF0IHNob3VsZCBiZSBrZXB0IHVucHJvY2Vzc2VkIGluIHRoZSBidWZmZXIuIERlZmF1bHQ6IDBcblx0ICAgICAqL1xuXHQgICAgdmFyIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0gPSBDX2xpYi5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtID0gQmFzZS5leHRlbmQoe1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFJlc2V0cyB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGRhdGEgYnVmZmVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0KCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgLy8gSW5pdGlhbCB2YWx1ZXNcblx0ICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBXb3JkQXJyYXkuaW5pdCgpO1xuXHQgICAgICAgICAgICB0aGlzLl9uRGF0YUJ5dGVzID0gMDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQWRkcyBuZXcgZGF0YSB0byB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGJ1ZmZlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBhcHBlbmQuIFN0cmluZ3MgYXJlIGNvbnZlcnRlZCB0byBhIFdvcmRBcnJheSB1c2luZyBVVEYtOC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fYXBwZW5kKCdkYXRhJyk7XG5cdCAgICAgICAgICogICAgIGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uX2FwcGVuZCh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIF9hcHBlbmQ6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIFdvcmRBcnJheSwgZWxzZSBhc3N1bWUgV29yZEFycmF5IGFscmVhZHlcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICBkYXRhID0gVXRmOC5wYXJzZShkYXRhKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEFwcGVuZFxuXHQgICAgICAgICAgICB0aGlzLl9kYXRhLmNvbmNhdChkYXRhKTtcblx0ICAgICAgICAgICAgdGhpcy5fbkRhdGFCeXRlcyArPSBkYXRhLnNpZ0J5dGVzO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBQcm9jZXNzZXMgYXZhaWxhYmxlIGRhdGEgYmxvY2tzLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBfZG9Qcm9jZXNzQmxvY2sob2Zmc2V0KSwgd2hpY2ggbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBhIGNvbmNyZXRlIHN1YnR5cGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvRmx1c2ggV2hldGhlciBhbGwgYmxvY2tzIGFuZCBwYXJ0aWFsIGJsb2NrcyBzaG91bGQgYmUgcHJvY2Vzc2VkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgcHJvY2Vzc2VkIGRhdGEuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBwcm9jZXNzZWREYXRhID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fcHJvY2VzcygpO1xuXHQgICAgICAgICAqICAgICB2YXIgcHJvY2Vzc2VkRGF0YSA9IGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uX3Byb2Nlc3MoISEnZmx1c2gnKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBfcHJvY2VzczogZnVuY3Rpb24gKGRvRmx1c2gpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBkYXRhU2lnQnl0ZXMgPSBkYXRhLnNpZ0J5dGVzO1xuXHQgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gdGhpcy5ibG9ja1NpemU7XG5cdCAgICAgICAgICAgIHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYmxvY2tzIHJlYWR5XG5cdCAgICAgICAgICAgIHZhciBuQmxvY2tzUmVhZHkgPSBkYXRhU2lnQnl0ZXMgLyBibG9ja1NpemVCeXRlcztcblx0ICAgICAgICAgICAgaWYgKGRvRmx1c2gpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFJvdW5kIHVwIHRvIGluY2x1ZGUgcGFydGlhbCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgIG5CbG9ja3NSZWFkeSA9IE1hdGguY2VpbChuQmxvY2tzUmVhZHkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gUm91bmQgZG93biB0byBpbmNsdWRlIG9ubHkgZnVsbCBibG9ja3MsXG5cdCAgICAgICAgICAgICAgICAvLyBsZXNzIHRoZSBudW1iZXIgb2YgYmxvY2tzIHRoYXQgbXVzdCByZW1haW4gaW4gdGhlIGJ1ZmZlclxuXHQgICAgICAgICAgICAgICAgbkJsb2Nrc1JlYWR5ID0gTWF0aC5tYXgoKG5CbG9ja3NSZWFkeSB8IDApIC0gdGhpcy5fbWluQnVmZmVyU2l6ZSwgMCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDb3VudCB3b3JkcyByZWFkeVxuXHQgICAgICAgICAgICB2YXIgbldvcmRzUmVhZHkgPSBuQmxvY2tzUmVhZHkgKiBibG9ja1NpemU7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYnl0ZXMgcmVhZHlcblx0ICAgICAgICAgICAgdmFyIG5CeXRlc1JlYWR5ID0gTWF0aC5taW4obldvcmRzUmVhZHkgKiA0LCBkYXRhU2lnQnl0ZXMpO1xuXG5cdCAgICAgICAgICAgIC8vIFByb2Nlc3MgYmxvY2tzXG5cdCAgICAgICAgICAgIGlmIChuV29yZHNSZWFkeSkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgbldvcmRzUmVhZHk7IG9mZnNldCArPSBibG9ja1NpemUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQZXJmb3JtIGNvbmNyZXRlLWFsZ29yaXRobSBsb2dpY1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvUHJvY2Vzc0Jsb2NrKGRhdGFXb3Jkcywgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHByb2Nlc3NlZCB3b3Jkc1xuXHQgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZFdvcmRzID0gZGF0YVdvcmRzLnNwbGljZSgwLCBuV29yZHNSZWFkeSk7XG5cdCAgICAgICAgICAgICAgICBkYXRhLnNpZ0J5dGVzIC09IG5CeXRlc1JlYWR5O1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gUmV0dXJuIHByb2Nlc3NlZCB3b3Jkc1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHByb2Nlc3NlZFdvcmRzLCBuQnl0ZXNSZWFkeSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoaXMgb2JqZWN0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY2xvbmUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBjbG9uZSA9IGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uY2xvbmUoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBCYXNlLmNsb25lLmNhbGwodGhpcyk7XG5cdCAgICAgICAgICAgIGNsb25lLl9kYXRhID0gdGhpcy5fZGF0YS5jbG9uZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBjbG9uZTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgX21pbkJ1ZmZlclNpemU6IDBcblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFic3RyYWN0IGhhc2hlciB0ZW1wbGF0ZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYmxvY2tTaXplIFRoZSBudW1iZXIgb2YgMzItYml0IHdvcmRzIHRoaXMgaGFzaGVyIG9wZXJhdGVzIG9uLiBEZWZhdWx0OiAxNiAoNTEyIGJpdHMpXG5cdCAgICAgKi9cblx0ICAgIHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXIgPSBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNmZzogQmFzZS5leHRlbmQoKSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBoYXNoZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY2ZnIChPcHRpb25hbCkgVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byB1c2UgZm9yIHRoaXMgaGFzaCBjb21wdXRhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2hlciA9IENyeXB0b0pTLmFsZ28uU0hBMjU2LmNyZWF0ZSgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChjZmcpIHtcblx0ICAgICAgICAgICAgLy8gQXBwbHkgY29uZmlnIGRlZmF1bHRzXG5cdCAgICAgICAgICAgIHRoaXMuY2ZnID0gdGhpcy5jZmcuZXh0ZW5kKGNmZyk7XG5cblx0ICAgICAgICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWVzXG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUmVzZXRzIHRoaXMgaGFzaGVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBoYXNoZXIucmVzZXQoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBSZXNldCBkYXRhIGJ1ZmZlclxuXHQgICAgICAgICAgICBCdWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0LmNhbGwodGhpcyk7XG5cblx0ICAgICAgICAgICAgLy8gUGVyZm9ybSBjb25jcmV0ZS1oYXNoZXIgbG9naWNcblx0ICAgICAgICAgICAgdGhpcy5fZG9SZXNldCgpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBVcGRhdGVzIHRoaXMgaGFzaGVyIHdpdGggYSBtZXNzYWdlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlVXBkYXRlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0hhc2hlcn0gVGhpcyBoYXNoZXIuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIGhhc2hlci51cGRhdGUoJ21lc3NhZ2UnKTtcblx0ICAgICAgICAgKiAgICAgaGFzaGVyLnVwZGF0ZSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgLy8gQXBwZW5kXG5cdCAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblxuXHQgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGhhc2hcblx0ICAgICAgICAgICAgdGhpcy5fcHJvY2VzcygpO1xuXG5cdCAgICAgICAgICAgIC8vIENoYWluYWJsZVxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRmluYWxpemVzIHRoZSBoYXNoIGNvbXB1dGF0aW9uLlxuXHQgICAgICAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgKE9wdGlvbmFsKSBBIGZpbmFsIG1lc3NhZ2UgdXBkYXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoJ21lc3NhZ2UnKTtcblx0ICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBmaW5hbGl6ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgLy8gRmluYWwgbWVzc2FnZSB1cGRhdGVcblx0ICAgICAgICAgICAgaWYgKG1lc3NhZ2VVcGRhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIFBlcmZvcm0gY29uY3JldGUtaGFzaGVyIGxvZ2ljXG5cdCAgICAgICAgICAgIHZhciBoYXNoID0gdGhpcy5fZG9GaW5hbGl6ZSgpO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBoYXNoO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBibG9ja1NpemU6IDUxMi8zMixcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgYSBzaG9ydGN1dCBmdW5jdGlvbiB0byBhIGhhc2hlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoZXIgdG8gY3JlYXRlIGEgaGVscGVyIGZvci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgc2hvcnRjdXQgZnVuY3Rpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBTSEEyNTYgPSBDcnlwdG9KUy5saWIuSGFzaGVyLl9jcmVhdGVIZWxwZXIoQ3J5cHRvSlMuYWxnby5TSEEyNTYpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uIChoYXNoZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBjZmcpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgaGFzaGVyLmluaXQoY2ZnKS5maW5hbGl6ZShtZXNzYWdlKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIHNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2hlciB0byB1c2UgaW4gdGhpcyBITUFDIGhlbHBlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgc2hvcnRjdXQgZnVuY3Rpb24uXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBIbWFjU0hBMjU2ID0gQ3J5cHRvSlMubGliLkhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihDcnlwdG9KUy5hbGdvLlNIQTI1Nik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgX2NyZWF0ZUhtYWNIZWxwZXI6IGZ1bmN0aW9uIChoYXNoZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ19hbGdvLkhNQUMuaW5pdChoYXNoZXIsIGtleSkuZmluYWxpemUobWVzc2FnZSk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogQWxnb3JpdGhtIG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbyA9IHt9O1xuXG5cdCAgICByZXR1cm4gQztcblx0fShNYXRoKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlM7XG5cbn0pKTsiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG4vKipcbiAqIFdoZW4gYSBVQVMgd2lzaGVzIHRvIGNvbnN0cnVjdCBhIHJlc3BvbnNlIHRvIGEgcmVxdWVzdCwgaXQgZm9sbG93c1xuICogdGhlIGdlbmVyYWwgcHJvY2VkdXJlcyBkZXRhaWxlZCBpbiB0aGUgZm9sbG93aW5nIHN1YnNlY3Rpb25zLlxuICogQWRkaXRpb25hbCBiZWhhdmlvcnMgc3BlY2lmaWMgdG8gdGhlIHJlc3BvbnNlIGNvZGUgaW4gcXVlc3Rpb24sIHdoaWNoXG4gKiBhcmUgbm90IGRldGFpbGVkIGluIHRoaXMgc2VjdGlvbiwgbWF5IGFsc28gYmUgcmVxdWlyZWQuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi42XG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0T3V0Z29pbmdSZXNwb25zZShtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgdmFyIENSTEYgPSBcIlxcclxcblwiO1xuICAgIGlmIChvcHRpb25zLnN0YXR1c0NvZGUgPCAxMDAgfHwgb3B0aW9ucy5zdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXR1c0NvZGU6IFwiICsgb3B0aW9ucy5zdGF0dXNDb2RlKTtcbiAgICB9XG4gICAgdmFyIHJlYXNvblBocmFzZSA9IG9wdGlvbnMucmVhc29uUGhyYXNlID8gb3B0aW9ucy5yZWFzb25QaHJhc2UgOiB1dGlsc18xLmdldFJlYXNvblBocmFzZShvcHRpb25zLnN0YXR1c0NvZGUpO1xuICAgIC8vIFNJUCByZXNwb25zZXMgYXJlIGRpc3Rpbmd1aXNoZWQgZnJvbSByZXF1ZXN0cyBieSBoYXZpbmcgYSBTdGF0dXMtTGluZVxuICAgIC8vIGFzIHRoZWlyIHN0YXJ0LWxpbmUuICBBIFN0YXR1cy1MaW5lIGNvbnNpc3RzIG9mIHRoZSBwcm90b2NvbCB2ZXJzaW9uXG4gICAgLy8gZm9sbG93ZWQgYnkgYSBudW1lcmljIFN0YXR1cy1Db2RlIGFuZCBpdHMgYXNzb2NpYXRlZCB0ZXh0dWFsIHBocmFzZSxcbiAgICAvLyB3aXRoIGVhY2ggZWxlbWVudCBzZXBhcmF0ZWQgYnkgYSBzaW5nbGUgU1AgY2hhcmFjdGVyLlxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tNy4yXG4gICAgdmFyIHJlc3BvbnNlID0gXCJTSVAvMi4wIFwiICsgb3B0aW9ucy5zdGF0dXNDb2RlICsgXCIgXCIgKyByZWFzb25QaHJhc2UgKyBDUkxGO1xuICAgIC8vIE9uZSBsYXJnZWx5IG5vbi1tZXRob2Qtc3BlY2lmaWMgZ3VpZGVsaW5lIGZvciB0aGUgZ2VuZXJhdGlvbiBvZlxuICAgIC8vIHJlc3BvbnNlcyBpcyB0aGF0IFVBU3MgU0hPVUxEIE5PVCBpc3N1ZSBhIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGZvciBhXG4gICAgLy8gbm9uLUlOVklURSByZXF1ZXN0LiAgUmF0aGVyLCBVQVNzIFNIT1VMRCBnZW5lcmF0ZSBhIGZpbmFsIHJlc3BvbnNlIHRvXG4gICAgLy8gYSBub24tSU5WSVRFIHJlcXVlc3QgYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi42LjFcbiAgICBpZiAob3B0aW9ucy5zdGF0dXNDb2RlID49IDEwMCAmJiBvcHRpb25zLnN0YXR1c0NvZGUgPCAyMDApIHtcbiAgICAgICAgLy8gVE9ET1xuICAgIH1cbiAgICAvLyBXaGVuIGEgMTAwIChUcnlpbmcpIHJlc3BvbnNlIGlzIGdlbmVyYXRlZCwgYW55IFRpbWVzdGFtcCBoZWFkZXIgZmllbGRcbiAgICAvLyBwcmVzZW50IGluIHRoZSByZXF1ZXN0IE1VU1QgYmUgY29waWVkIGludG8gdGhpcyAxMDAgKFRyeWluZylcbiAgICAvLyByZXNwb25zZS4gIElmIHRoZXJlIGlzIGEgZGVsYXkgaW4gZ2VuZXJhdGluZyB0aGUgcmVzcG9uc2UsIHRoZSBVQVNcbiAgICAvLyBTSE9VTEQgYWRkIGEgZGVsYXkgdmFsdWUgaW50byB0aGUgVGltZXN0YW1wIHZhbHVlIGluIHRoZSByZXNwb25zZS5cbiAgICAvLyBUaGlzIHZhbHVlIE1VU1QgY29udGFpbiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0aW1lIG9mIHNlbmRpbmcgb2ZcbiAgICAvLyB0aGUgcmVzcG9uc2UgYW5kIHJlY2VpcHQgb2YgdGhlIHJlcXVlc3QsIG1lYXN1cmVkIGluIHNlY29uZHMuXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuNi4xXG4gICAgaWYgKG9wdGlvbnMuc3RhdHVzQ29kZSA9PT0gMTAwKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG4gICAgLy8gVGhlIEZyb20gZmllbGQgb2YgdGhlIHJlc3BvbnNlIE1VU1QgZXF1YWwgdGhlIEZyb20gaGVhZGVyIGZpZWxkIG9mXG4gICAgLy8gdGhlIHJlcXVlc3QuICBUaGUgQ2FsbC1JRCBoZWFkZXIgZmllbGQgb2YgdGhlIHJlc3BvbnNlIE1VU1QgZXF1YWwgdGhlXG4gICAgLy8gQ2FsbC1JRCBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3QuICBUaGUgQ1NlcSBoZWFkZXIgZmllbGQgb2YgdGhlXG4gICAgLy8gcmVzcG9uc2UgTVVTVCBlcXVhbCB0aGUgQ1NlcSBmaWVsZCBvZiB0aGUgcmVxdWVzdC4gIFRoZSBWaWEgaGVhZGVyXG4gICAgLy8gZmllbGQgdmFsdWVzIGluIHRoZSByZXNwb25zZSBNVVNUIGVxdWFsIHRoZSBWaWEgaGVhZGVyIGZpZWxkIHZhbHVlc1xuICAgIC8vIGluIHRoZSByZXF1ZXN0IGFuZCBNVVNUIG1haW50YWluIHRoZSBzYW1lIG9yZGVyaW5nLlxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjYuMlxuICAgIHZhciBmcm9tSGVhZGVyID0gXCJGcm9tOiBcIiArIG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRnJvbVwiKSArIENSTEY7XG4gICAgdmFyIGNhbGxJZEhlYWRlciA9IFwiQ2FsbC1JRDogXCIgKyBtZXNzYWdlLmNhbGxJZCArIENSTEY7XG4gICAgdmFyIGNTZXFIZWFkZXIgPSBcIkNTZXE6IFwiICsgbWVzc2FnZS5jc2VxICsgXCIgXCIgKyBtZXNzYWdlLm1ldGhvZCArIENSTEY7XG4gICAgdmFyIHZpYUhlYWRlcnMgPSBtZXNzYWdlLmdldEhlYWRlcnMoXCJ2aWFcIikucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCkge1xuICAgICAgICByZXR1cm4gcHJldmlvdXMgKyBcIlZpYTogXCIgKyBjdXJyZW50ICsgQ1JMRjtcbiAgICB9LCBcIlwiKTtcbiAgICAvLyBJZiBhIHJlcXVlc3QgY29udGFpbmVkIGEgVG8gdGFnIGluIHRoZSByZXF1ZXN0LCB0aGUgVG8gaGVhZGVyIGZpZWxkXG4gICAgLy8gaW4gdGhlIHJlc3BvbnNlIE1VU1QgZXF1YWwgdGhhdCBvZiB0aGUgcmVxdWVzdC4gIEhvd2V2ZXIsIGlmIHRoZSBUb1xuICAgIC8vIGhlYWRlciBmaWVsZCBpbiB0aGUgcmVxdWVzdCBkaWQgbm90IGNvbnRhaW4gYSB0YWcsIHRoZSBVUkkgaW4gdGhlIFRvXG4gICAgLy8gaGVhZGVyIGZpZWxkIGluIHRoZSByZXNwb25zZSBNVVNUIGVxdWFsIHRoZSBVUkkgaW4gdGhlIFRvIGhlYWRlclxuICAgIC8vIGZpZWxkOyBhZGRpdGlvbmFsbHksIHRoZSBVQVMgTVVTVCBhZGQgYSB0YWcgdG8gdGhlIFRvIGhlYWRlciBmaWVsZCBpblxuICAgIC8vIHRoZSByZXNwb25zZSAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSAxMDAgKFRyeWluZykgcmVzcG9uc2UsIGluXG4gICAgLy8gd2hpY2ggYSB0YWcgTUFZIGJlIHByZXNlbnQpLiAgVGhpcyBzZXJ2ZXMgdG8gaWRlbnRpZnkgdGhlIFVBUyB0aGF0IGlzXG4gICAgLy8gcmVzcG9uZGluZywgcG9zc2libHkgcmVzdWx0aW5nIGluIGEgY29tcG9uZW50IG9mIGEgZGlhbG9nIElELiAgVGhlXG4gICAgLy8gc2FtZSB0YWcgTVVTVCBiZSB1c2VkIGZvciBhbGwgcmVzcG9uc2VzIHRvIHRoYXQgcmVxdWVzdCwgYm90aCBmaW5hbFxuICAgIC8vIGFuZCBwcm92aXNpb25hbCAoYWdhaW4gZXhjZXB0aW5nIHRoZSAxMDAgKFRyeWluZykpLlxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjYuMlxuICAgIHZhciB0b0hlYWRlciA9IFwiVG86IFwiICsgbWVzc2FnZS5nZXRIZWFkZXIoXCJ0b1wiKTtcbiAgICBpZiAob3B0aW9ucy5zdGF0dXNDb2RlID4gMTAwICYmICFtZXNzYWdlLnBhcnNlSGVhZGVyKFwidG9cIikuaGFzUGFyYW0oXCJ0YWdcIikpIHtcbiAgICAgICAgdmFyIHRvVGFnID0gb3B0aW9ucy50b1RhZztcbiAgICAgICAgaWYgKCF0b1RhZykge1xuICAgICAgICAgICAgLy8gU3RhdGVsZXNzIFVBUyBCZWhhdmlvci4uLlxuICAgICAgICAgICAgLy8gbyAgVG8gaGVhZGVyIHRhZ3MgTVVTVCBiZSBnZW5lcmF0ZWQgZm9yIHJlc3BvbnNlcyBpbiBhIHN0YXRlbGVzc1xuICAgICAgICAgICAgLy8gICAgbWFubmVyIC0gaW4gYSBtYW5uZXIgdGhhdCB3aWxsIGdlbmVyYXRlIHRoZSBzYW1lIHRhZyBmb3IgdGhlXG4gICAgICAgICAgICAvLyAgICBzYW1lIHJlcXVlc3QgY29uc2lzdGVudGx5LiAgRm9yIGluZm9ybWF0aW9uIG9uIHRhZyBjb25zdHJ1Y3Rpb25cbiAgICAgICAgICAgIC8vICAgIHNlZSBTZWN0aW9uIDE5LjMuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi43XG4gICAgICAgICAgICB0b1RhZyA9IHV0aWxzXzEubmV3VGFnKCk7IC8vIEZJWE1FOiBuZXdUYWcoKSBjdXJyZW50bHkgZ2VuZXJhdGVzIHJhbmRvbSB0YWdzXG4gICAgICAgIH1cbiAgICAgICAgdG9IZWFkZXIgKz0gXCI7dGFnPVwiICsgdG9UYWc7XG4gICAgfVxuICAgIHRvSGVhZGVyICs9IENSTEY7XG4gICAgLy8gRklYTUU6IFRPRE86IG5lZWRzIHJldmlldy4uLiBtb3ZlZCB0byBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIgKGFzIGl0IGlzIHNwZWNpZmljIHRvIHRoYXQpXG4gICAgLy8gbGV0IHJlY29yZFJvdXRlSGVhZGVycyA9IFwiXCI7XG4gICAgLy8gaWYgKHJlcXVlc3QubWV0aG9kID09PSBDLklOVklURSAmJiBzdGF0dXNDb2RlID4gMTAwICYmIHN0YXR1c0NvZGUgPD0gMjAwKSB7XG4gICAgLy8gICByZWNvcmRSb3V0ZUhlYWRlcnMgPSByZXF1ZXN0LmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIikucmVkdWNlKChwcmV2aW91cywgY3VycmVudCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gcHJldmlvdXMgKyBcIlJlY29yZC1Sb3V0ZTogXCIgKyBjdXJyZW50ICsgQ1JMRjtcbiAgICAvLyAgIH0sIFwiXCIpO1xuICAgIC8vIH1cbiAgICAvLyBGSVhNRTogVE9ETzogbmVlZHMgcmV2aWV3Li4uXG4gICAgdmFyIHN1cHBvcnRlZEhlYWRlciA9IFwiXCI7XG4gICAgaWYgKG9wdGlvbnMuc3VwcG9ydGVkKSB7XG4gICAgICAgIHN1cHBvcnRlZEhlYWRlciA9IFwiU3VwcG9ydGVkOiBcIiArIG9wdGlvbnMuc3VwcG9ydGVkLmpvaW4oXCIsIFwiKSArIENSTEY7XG4gICAgfVxuICAgIC8vIEZJWE1FOiBUT0RPOiBuZWVkcyByZXZpZXcuLi5cbiAgICB2YXIgdXNlckFnZW50SGVhZGVyID0gXCJcIjtcbiAgICBpZiAob3B0aW9ucy51c2VyQWdlbnQpIHtcbiAgICAgICAgdXNlckFnZW50SGVhZGVyID0gXCJVc2VyLUFnZW50OiBcIiArIG9wdGlvbnMudXNlckFnZW50ICsgQ1JMRjtcbiAgICB9XG4gICAgdmFyIGV4dGVuc2lvbkhlYWRlcnMgPSBcIlwiO1xuICAgIGlmIChvcHRpb25zLmV4dHJhSGVhZGVycykge1xuICAgICAgICBleHRlbnNpb25IZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzICsgY3VycmVudC50cmltKCkgKyBDUkxGO1xuICAgICAgICB9LCBcIlwiKTtcbiAgICB9XG4gICAgLy8gVGhlIHJlbGF0aXZlIG9yZGVyIG9mIGhlYWRlciBmaWVsZHMgd2l0aCBkaWZmZXJlbnQgZmllbGQgbmFtZXMgaXMgbm90XG4gICAgLy8gc2lnbmlmaWNhbnQuICBIb3dldmVyLCBpdCBpcyBSRUNPTU1FTkRFRCB0aGF0IGhlYWRlciBmaWVsZHMgd2hpY2ggYXJlXG4gICAgLy8gbmVlZGVkIGZvciBwcm94eSBwcm9jZXNzaW5nIChWaWEsIFJvdXRlLCBSZWNvcmQtUm91dGUsIFByb3h5LVJlcXVpcmUsXG4gICAgLy8gTWF4LUZvcndhcmRzLCBhbmQgUHJveHktQXV0aG9yaXphdGlvbiwgZm9yIGV4YW1wbGUpIGFwcGVhciB0b3dhcmRzXG4gICAgLy8gdGhlIHRvcCBvZiB0aGUgbWVzc2FnZSB0byBmYWNpbGl0YXRlIHJhcGlkIHBhcnNpbmcuXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi03LjMuMVxuICAgIC8vIHJlc3BvbnNlICs9IHJlY29yZFJvdXRlSGVhZGVycztcbiAgICByZXNwb25zZSArPSB2aWFIZWFkZXJzO1xuICAgIHJlc3BvbnNlICs9IGZyb21IZWFkZXI7XG4gICAgcmVzcG9uc2UgKz0gdG9IZWFkZXI7XG4gICAgcmVzcG9uc2UgKz0gY1NlcUhlYWRlcjtcbiAgICByZXNwb25zZSArPSBjYWxsSWRIZWFkZXI7XG4gICAgcmVzcG9uc2UgKz0gc3VwcG9ydGVkSGVhZGVyO1xuICAgIHJlc3BvbnNlICs9IHVzZXJBZ2VudEhlYWRlcjtcbiAgICByZXNwb25zZSArPSBleHRlbnNpb25IZWFkZXJzO1xuICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgcmVzcG9uc2UgKz0gXCJDb250ZW50LVR5cGU6IFwiICsgb3B0aW9ucy5ib2R5LmNvbnRlbnRUeXBlICsgQ1JMRjtcbiAgICAgICAgcmVzcG9uc2UgKz0gXCJDb250ZW50LUxlbmd0aDogXCIgKyB1dGlsc18xLnN0cl91dGY4X2xlbmd0aChvcHRpb25zLmJvZHkuY29udGVudCkgKyBDUkxGICsgQ1JMRjtcbiAgICAgICAgcmVzcG9uc2UgKz0gb3B0aW9ucy5ib2R5LmNvbnRlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXNwb25zZSArPSBcIkNvbnRlbnQtTGVuZ3RoOiBcIiArIDAgKyBDUkxGICsgQ1JMRjtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogcmVzcG9uc2UgfTtcbn1cbmV4cG9ydHMuY29uc3RydWN0T3V0Z29pbmdSZXNwb25zZSA9IGNvbnN0cnVjdE91dGdvaW5nUmVzcG9uc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBncmFtbWFyXzEgPSByZXF1aXJlKFwiLi9ncmFtbWFyXCIpO1xudmFyIGluY29taW5nX3JlcXVlc3RfbWVzc2FnZV8xID0gcmVxdWlyZShcIi4vaW5jb21pbmctcmVxdWVzdC1tZXNzYWdlXCIpO1xudmFyIGluY29taW5nX3Jlc3BvbnNlX21lc3NhZ2VfMSA9IHJlcXVpcmUoXCIuL2luY29taW5nLXJlc3BvbnNlLW1lc3NhZ2VcIik7XG4vKipcbiAqIEV4dHJhY3QgYW5kIHBhcnNlIGV2ZXJ5IGhlYWRlciBvZiBhIFNJUCBtZXNzYWdlLlxuICogQGludGVybmFsXG4gKi9cbnZhciBQYXJzZXI7XG4oZnVuY3Rpb24gKFBhcnNlcikge1xuICAgIGZ1bmN0aW9uIGdldEhlYWRlcihkYXRhLCBoZWFkZXJTdGFydCkge1xuICAgICAgICAvLyAnc3RhcnQnIHBvc2l0aW9uIG9mIHRoZSBoZWFkZXIuXG4gICAgICAgIHZhciBzdGFydCA9IGhlYWRlclN0YXJ0O1xuICAgICAgICAvLyAnZW5kJyBwb3NpdGlvbiBvZiB0aGUgaGVhZGVyLlxuICAgICAgICB2YXIgZW5kID0gMDtcbiAgICAgICAgLy8gJ3BhcnRpYWwgZW5kJyBwb3NpdGlvbiBvZiB0aGUgaGVhZGVyLlxuICAgICAgICB2YXIgcGFydGlhbEVuZCA9IDA7XG4gICAgICAgIC8vIEVuZCBvZiBtZXNzYWdlLlxuICAgICAgICBpZiAoZGF0YS5zdWJzdHJpbmcoc3RhcnQsIHN0YXJ0ICsgMikubWF0Y2goLyheXFxyXFxuKS8pKSB7XG4gICAgICAgICAgICByZXR1cm4gLTI7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGVuZCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gUGFydGlhbCBFbmQgb2YgSGVhZGVyLlxuICAgICAgICAgICAgcGFydGlhbEVuZCA9IGRhdGEuaW5kZXhPZihcIlxcclxcblwiLCBzdGFydCk7XG4gICAgICAgICAgICAvLyAnaW5kZXhPZicgcmV0dXJucyAtMSBpZiB0aGUgdmFsdWUgdG8gYmUgZm91bmQgbmV2ZXIgb2NjdXJzLlxuICAgICAgICAgICAgaWYgKHBhcnRpYWxFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxFbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRhdGEuc3Vic3RyaW5nKHBhcnRpYWxFbmQgKyAyLCBwYXJ0aWFsRW5kICsgNCkubWF0Y2goLyheXFxyXFxuKS8pICYmXG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyQXQocGFydGlhbEVuZCArIDIpLm1hdGNoKC8oXlxccyspLykpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3QgdGhlIGVuZCBvZiB0aGUgbWVzc2FnZS4gQ29udGludWUgZnJvbSB0aGUgbmV4dCBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBzdGFydCA9IHBhcnRpYWxFbmQgKyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kID0gcGFydGlhbEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICBQYXJzZXIuZ2V0SGVhZGVyID0gZ2V0SGVhZGVyO1xuICAgIGZ1bmN0aW9uIHBhcnNlSGVhZGVyKG1lc3NhZ2UsIGRhdGEsIGhlYWRlclN0YXJ0LCBoZWFkZXJFbmQpIHtcbiAgICAgICAgdmFyIGhjb2xvbkluZGV4ID0gZGF0YS5pbmRleE9mKFwiOlwiLCBoZWFkZXJTdGFydCk7XG4gICAgICAgIHZhciBoZWFkZXJOYW1lID0gZGF0YS5zdWJzdHJpbmcoaGVhZGVyU3RhcnQsIGhjb2xvbkluZGV4KS50cmltKCk7XG4gICAgICAgIHZhciBoZWFkZXJWYWx1ZSA9IGRhdGEuc3Vic3RyaW5nKGhjb2xvbkluZGV4ICsgMSwgaGVhZGVyRW5kKS50cmltKCk7XG4gICAgICAgIHZhciBwYXJzZWQ7XG4gICAgICAgIC8vIElmIGhlYWRlci1maWVsZCBpcyB3ZWxsLWtub3duLCBwYXJzZSBpdC5cbiAgICAgICAgc3dpdGNoIChoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ2aWFcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZGRIZWFkZXIoXCJ2aWFcIiwgaGVhZGVyVmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmdldEhlYWRlcnMoXCJ2aWFcIikubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJWaWFcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlhID0gcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52aWFCcmFuY2ggPSBwYXJzZWQuYnJhbmNoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmcm9tXCI6XG4gICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2V0SGVhZGVyKFwiZnJvbVwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcImZyb21cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZyb20gPSBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnJvbVRhZyA9IHBhcnNlZC5nZXRQYXJhbShcInRhZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidG9cIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJ0b1wiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcInRvXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50byA9IHBhcnNlZDtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50b1RhZyA9IHBhcnNlZC5nZXRQYXJhbShcInRhZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVjb3JkLXJvdXRlXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gZ3JhbW1hcl8xLkdyYW1tYXIucGFyc2UoaGVhZGVyVmFsdWUsIFwiUmVjb3JkX1JvdXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHBhcnNlZCBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJzZWQuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWRkSGVhZGVyKFwicmVjb3JkLXJvdXRlXCIsIGhlYWRlclZhbHVlLnN1YnN0cmluZyhoZWFkZXIucG9zaXRpb24sIGhlYWRlci5vZmZzZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWFkZXJzW1wiUmVjb3JkLVJvdXRlXCJdW21lc3NhZ2UuZ2V0SGVhZGVycyhcInJlY29yZC1yb3V0ZVwiKS5sZW5ndGggLSAxXS5wYXJzZWQgPSBoZWFkZXIucGFyc2VkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNhbGwtaWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJjYWxsLWlkXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiY2FsbC1pZFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2FsbElkID0gaGVhZGVyVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRhY3RcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gZ3JhbW1hcl8xLkdyYW1tYXIucGFyc2UoaGVhZGVyVmFsdWUsIFwiQ29udGFjdFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShwYXJzZWQgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyc2VkLmZvckVhY2goZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFkZEhlYWRlcihcImNvbnRhY3RcIiwgaGVhZGVyVmFsdWUuc3Vic3RyaW5nKGhlYWRlci5wb3NpdGlvbiwgaGVhZGVyLm9mZnNldCkpO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlYWRlcnMuQ29udGFjdFttZXNzYWdlLmdldEhlYWRlcnMoXCJjb250YWN0XCIpLmxlbmd0aCAtIDFdLnBhcnNlZCA9IGhlYWRlci5wYXJzZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29udGVudC1sZW5ndGhcIjpcbiAgICAgICAgICAgIGNhc2UgXCJsXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJjb250ZW50LWxlbmd0aFwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcImNvbnRlbnQtbGVuZ3RoXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRlbnQtdHlwZVwiOlxuICAgICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcImNvbnRlbnQtdHlwZVwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcImNvbnRlbnQtdHlwZVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjc2VxXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJjc2VxXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiY3NlcVwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3NlcSA9IHBhcnNlZC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBpbmNvbWluZ19yZXNwb25zZV9tZXNzYWdlXzEuSW5jb21pbmdSZXNwb25zZU1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXRob2QgPSBwYXJzZWQubWV0aG9kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXgtZm9yd2FyZHNcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcIm1heC1mb3J3YXJkc1wiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcIm1heC1mb3J3YXJkc1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ3d3ctYXV0aGVudGljYXRlXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoXCJ3d3ctYXV0aGVudGljYXRlXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwid3d3LWF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwcm94eS1hdXRoZW50aWNhdGVcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcInByb3h5LWF1dGhlbnRpY2F0ZVwiLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcihcInByb3h5LWF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZWZlci10b1wiOlxuICAgICAgICAgICAgY2FzZSBcInJcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldEhlYWRlcihcInJlZmVyLXRvXCIsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwicmVmZXItdG9cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJlZmVyVG8gPSBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgcGFyc2UgdGhpcyBoZWFkZXIuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZGRIZWFkZXIoaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IFwiZXJyb3IgcGFyc2luZyBoZWFkZXIgJ1wiICsgaGVhZGVyTmFtZSArIFwiJ1wiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUGFyc2VyLnBhcnNlSGVhZGVyID0gcGFyc2VIZWFkZXI7XG4gICAgZnVuY3Rpb24gcGFyc2VNZXNzYWdlKGRhdGEsIGxvZ2dlcikge1xuICAgICAgICB2YXIgaGVhZGVyU3RhcnQgPSAwO1xuICAgICAgICB2YXIgaGVhZGVyRW5kID0gZGF0YS5pbmRleE9mKFwiXFxyXFxuXCIpO1xuICAgICAgICBpZiAoaGVhZGVyRW5kID09PSAtMSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJubyBDUkxGIGZvdW5kLCBub3QgYSBTSVAgbWVzc2FnZSwgZGlzY2FyZGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlIGZpcnN0IGxpbmUuIENoZWNrIGlmIGl0IGlzIGEgUmVxdWVzdCBvciBhIFJlcGx5LlxuICAgICAgICB2YXIgZmlyc3RMaW5lID0gZGF0YS5zdWJzdHJpbmcoMCwgaGVhZGVyRW5kKTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IGdyYW1tYXJfMS5HcmFtbWFyLnBhcnNlKGZpcnN0TGluZSwgXCJSZXF1ZXN0X1Jlc3BvbnNlXCIpO1xuICAgICAgICB2YXIgbWVzc2FnZTtcbiAgICAgICAgaWYgKHBhcnNlZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdlcnJvciBwYXJzaW5nIGZpcnN0IGxpbmUgb2YgU0lQIG1lc3NhZ2U6IFwiJyArIGZpcnN0TGluZSArICdcIicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFwYXJzZWQuc3RhdHVzX2NvZGUpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgaW5jb21pbmdfcmVxdWVzdF9tZXNzYWdlXzEuSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSgpO1xuICAgICAgICAgICAgbWVzc2FnZS5tZXRob2QgPSBwYXJzZWQubWV0aG9kO1xuICAgICAgICAgICAgbWVzc2FnZS5ydXJpID0gcGFyc2VkLnVyaTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgaW5jb21pbmdfcmVzcG9uc2VfbWVzc2FnZV8xLkluY29taW5nUmVzcG9uc2VNZXNzYWdlKCk7XG4gICAgICAgICAgICBtZXNzYWdlLnN0YXR1c0NvZGUgPSBwYXJzZWQuc3RhdHVzX2NvZGU7XG4gICAgICAgICAgICBtZXNzYWdlLnJlYXNvblBocmFzZSA9IHBhcnNlZC5yZWFzb25fcGhyYXNlO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9IGRhdGE7XG4gICAgICAgIGhlYWRlclN0YXJ0ID0gaGVhZGVyRW5kICsgMjtcbiAgICAgICAgLy8gTG9vcCBvdmVyIGV2ZXJ5IGxpbmUgaW4gZGF0YS4gRGV0ZWN0IHRoZSBlbmQgb2YgZWFjaCBoZWFkZXIgYW5kIHBhcnNlXG4gICAgICAgIC8vIGl0IG9yIHNpbXBseSBhZGQgdG8gdGhlIGhlYWRlcnMgY29sbGVjdGlvbi5cbiAgICAgICAgdmFyIGJvZHlTdGFydDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGhlYWRlckVuZCA9IGdldEhlYWRlcihkYXRhLCBoZWFkZXJTdGFydCk7XG4gICAgICAgICAgICAvLyBUaGUgU0lQIG1lc3NhZ2UgaGFzIG5vcm1hbGx5IGZpbmlzaGVkLlxuICAgICAgICAgICAgaWYgKGhlYWRlckVuZCA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICBib2R5U3RhcnQgPSBoZWFkZXJTdGFydCArIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkZXJFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gZGF0YS5pbmRleE9mIHJldHVybmVkIC0xIGR1ZSB0byBhIG1hbGZvcm1lZCBtZXNzYWdlLlxuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIm1hbGZvcm1lZCBtZXNzYWdlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJzZWRIZWFkZXIgPSBwYXJzZUhlYWRlcihtZXNzYWdlLCBkYXRhLCBoZWFkZXJTdGFydCwgaGVhZGVyRW5kKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRIZWFkZXIgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IocGFyc2VkLmVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWFkZXJTdGFydCA9IGhlYWRlckVuZCArIDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUkZDMzI2MSAxOC4zLlxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYWRkaXRpb25hbCBieXRlcyBpbiB0aGUgdHJhbnNwb3J0IHBhY2tldFxuICAgICAgICAvLyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgYm9keSwgdGhleSBNVVNUIGJlIGRpc2NhcmRlZC5cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGFzSGVhZGVyKFwiY29udGVudC1sZW5ndGhcIikpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuYm9keSA9IGRhdGEuc3Vic3RyKGJvZHlTdGFydCwgTnVtYmVyKG1lc3NhZ2UuZ2V0SGVhZGVyKFwiY29udGVudC1sZW5ndGhcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuYm9keSA9IGRhdGEuc3Vic3RyaW5nKGJvZHlTdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBhcnNlci5wYXJzZU1lc3NhZ2UgPSBwYXJzZU1lc3NhZ2U7XG59KShQYXJzZXIgPSBleHBvcnRzLlBhcnNlciB8fCAoZXhwb3J0cy5QYXJzZXIgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHNlc3Npb25fMSA9IHJlcXVpcmUoXCIuLi9zZXNzaW9uXCIpO1xudmFyIHRpbWVyc18xID0gcmVxdWlyZShcIi4uL3RpbWVyc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgYnllX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvYnllLXVzZXItYWdlbnQtY2xpZW50XCIpO1xudmFyIGJ5ZV91c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnRzL2J5ZS11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBpbmZvX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvaW5mby11c2VyLWFnZW50LWNsaWVudFwiKTtcbnZhciBpbmZvX3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvaW5mby11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBtZXNzYWdlX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbWVzc2FnZS11c2VyLWFnZW50LWNsaWVudFwiKTtcbnZhciBtZXNzYWdlX3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbWVzc2FnZS11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBub3RpZnlfdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9ub3RpZnktdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgbm90aWZ5X3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvbm90aWZ5LXVzZXItYWdlbnQtc2VydmVyXCIpO1xudmFyIHByYWNrX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvcHJhY2stdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgcHJhY2tfdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9wcmFjay11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciByZV9pbnZpdGVfdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9yZS1pbnZpdGUtdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgcmVfaW52aXRlX3VzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvcmUtaW52aXRlLXVzZXItYWdlbnQtc2VydmVyXCIpO1xudmFyIHJlZmVyX3VzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi4vdXNlci1hZ2VudHMvcmVmZXItdXNlci1hZ2VudC1jbGllbnRcIik7XG52YXIgcmVmZXJfdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuLi91c2VyLWFnZW50cy9yZWZlci11c2VyLWFnZW50LXNlcnZlclwiKTtcbnZhciBkaWFsb2dfMSA9IHJlcXVpcmUoXCIuL2RpYWxvZ1wiKTtcbi8qKlxuICogU2Vzc2lvbiBEaWFsb2cuXG4gKiBAcHVibGljXG4gKi9cbnZhciBTZXNzaW9uRGlhbG9nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlc3Npb25EaWFsb2csIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2Vzc2lvbkRpYWxvZyhpbml0aWFsVHJhbnNhY3Rpb24sIGNvcmUsIHN0YXRlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb3JlLCBzdGF0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaW5pdGlhbFRyYW5zYWN0aW9uID0gaW5pdGlhbFRyYW5zYWN0aW9uO1xuICAgICAgICAvKiogVGhlIHN0YXRlIG9mIHRoZSBvZmZlci9hbnN3ZXIgZXhjaGFuZ2UuICovXG4gICAgICAgIF90aGlzLl9zaWduYWxpbmdTdGF0ZSA9IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsO1xuICAgICAgICAvKiogVHJ1ZSBpZiB3YWl0aW5nIGZvciBhbiBBQ0sgdG8gdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24gMnh4IChVQVMgb25seSkuICovXG4gICAgICAgIF90aGlzLmFja1dhaXQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGluaXRpYWxUcmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZVNlcnZlclRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBjcmVhdGVkIGJ5IGFuIGludml0ZSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHdlJ3JlXG4gICAgICAgICAgICAvLyBnb2luZyB0byBiZSB3YWl0aW5nIGZvciBhbiBBQ0sgaWYgYXJlIHRvIGJlIGNvbmZpcm1lZC5cbiAgICAgICAgICAgIF90aGlzLmFja1dhaXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlJ3JlIGNvbmZpcm1lZCB1cG9uIGNyZWF0aW9uIHN0YXJ0IHRoZSByZXRyYW5zbWl0dGluZyB3aGF0ZXZlclxuICAgICAgICAvLyB0aGUgMnh4IGZpbmFsIHJlc3BvbnNlIHdhcyB0aGF0IGNvbmZpcm1lZCB1cyBpbnRvIGV4aXN0ZW5jZS5cbiAgICAgICAgaWYgKCFfdGhpcy5lYXJseSkge1xuICAgICAgICAgICAgX3RoaXMuc3RhcnQyeHhSZXRyYW5zbWlzc2lvblRpbWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKGluaXRpYWxUcmFuc2FjdGlvbi5yZXF1ZXN0KTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gY29yZS5sb2dnZXJGYWN0b3J5LmdldExvZ2dlcihcInNpcC5pbnZpdGUtZGlhbG9nXCIpO1xuICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIF90aGlzLmlkICsgXCIgY29uc3RydWN0ZWRcIik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDtcbiAgICAgICAgdGhpcy5fb2ZmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2Fuc3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuaW52aXRlMnh4VGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuaW52aXRlMnh4VGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIFVBUyBNVVNUIHN0aWxsIHJlc3BvbmQgdG8gYW55IHBlbmRpbmcgcmVxdWVzdHMgcmVjZWl2ZWQgZm9yIHRoYXRcbiAgICAgICAgLy8gZGlhbG9nLiAgSXQgaXMgUkVDT01NRU5ERUQgdGhhdCBhIDQ4NyAoUmVxdWVzdCBUZXJtaW5hdGVkKSByZXNwb25zZVxuICAgICAgICAvLyBiZSBnZW5lcmF0ZWQgdG8gdGhvc2UgcGVuZGluZyByZXF1ZXN0cy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNS4xLjJcbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgLy8gdGhpcy51c2VyQWdlbnRTZXJ2ZXJzLmZvckVhY2goKHVhcykgPT4gdWFzLnJlcGx5KDQ4NykpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIGRlc3Ryb3llZFwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXNzaW9uRGlhbG9nLnByb3RvdHlwZSwgXCJzZXNzaW9uU3RhdGVcIiwge1xuICAgICAgICAvLyBGSVhNRTogTmVlZCByZWFsIHN0YXRlIG1hY2hpbmVcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXJseSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXzEuU2Vzc2lvblN0YXRlLkVhcmx5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hY2tXYWl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25fMS5TZXNzaW9uU3RhdGUuQWNrV2FpdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX3NpZ25hbGluZ1N0YXRlID09PSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuQ2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25fMS5TZXNzaW9uU3RhdGUuVGVybWluYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uXzEuU2Vzc2lvblN0YXRlLkNvbmZpcm1lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlc3Npb25EaWFsb2cucHJvdG90eXBlLCBcInNpZ25hbGluZ1N0YXRlXCIsIHtcbiAgICAgICAgLyoqIFRoZSBzdGF0ZSBvZiB0aGUgb2ZmZXIvYW5zd2VyIGV4Y2hhbmdlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaWduYWxpbmdTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlc3Npb25EaWFsb2cucHJvdG90eXBlLCBcIm9mZmVyXCIsIHtcbiAgICAgICAgLyoqIFRoZSBjdXJyZW50IG9mZmVyLiBVbmRlZmluZWQgdW5sZXNzIHNpZ25hbGluZyBzdGF0ZSBIYXZlTG9jYWxPZmZlciwgSGF2ZVJlbW90ZU9mZmVyLCBvZiBTdGFibGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29mZmVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUsIFwiYW5zd2VyXCIsIHtcbiAgICAgICAgLyoqIFRoZSBjdXJyZW50IGFuc3dlci4gVW5kZWZpbmVkIHVubGVzcyBzaWduYWxpbmcgc3RhdGUgU3RhYmxlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbnN3ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBDb25maXJtIHRoZSBkaWFsb2cuIE9ubHkgbWF0dGVycyBpZiBkaWFsb2cgaXMgY3VycmVudGx5IGVhcmx5LiAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdoZW4gd2UncmUgY29uZmlybWVkIHN0YXJ0IHRoZSByZXRyYW5zbWl0dGluZyB3aGF0ZXZlclxuICAgICAgICAvLyB0aGUgMnh4IGZpbmFsIHJlc3BvbnNlIHRoYXQgbWF5IGhhdmUgY29uZmlybWVkIHVzLlxuICAgICAgICBpZiAodGhpcy5lYXJseSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydDJ4eFJldHJhbnNtaXNzaW9uVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpcm0uY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKiBSZS1jb25maXJtIHRoZSBkaWFsb2cuIE9ubHkgbWF0dGVycyBpZiBoYW5kbGluZyByZS1JTlZJVEUgcmVxdWVzdC4gKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5yZUNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdoZW4gd2UncmUgY29uZmlybWVkIHN0YXJ0IHRoZSByZXRyYW5zbWl0dGluZyB3aGF0ZXZlclxuICAgICAgICAvLyB0aGUgMnh4IGZpbmFsIHJlc3BvbnNlIHRoYXQgbWF5IGhhdmUgY29uZmlybWVkIHVzLlxuICAgICAgICBpZiAodGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlSW52aXRlMnh4UmV0cmFuc21pc3Npb25UaW1lcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgVUFDIGNvcmUgTVVTVCBnZW5lcmF0ZSBhbiBBQ0sgcmVxdWVzdCBmb3IgZWFjaCAyeHggcmVjZWl2ZWQgZnJvbVxuICAgICAqIHRoZSB0cmFuc2FjdGlvbiBsYXllci4gIFRoZSBoZWFkZXIgZmllbGRzIG9mIHRoZSBBQ0sgYXJlIGNvbnN0cnVjdGVkXG4gICAgICogaW4gdGhlIHNhbWUgd2F5IGFzIGZvciBhbnkgcmVxdWVzdCBzZW50IHdpdGhpbiBhIGRpYWxvZyAoc2VlIFNlY3Rpb25cbiAgICAgKiAxMikgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBDU2VxIGFuZCB0aGUgaGVhZGVyIGZpZWxkcyByZWxhdGVkIHRvXG4gICAgICogYXV0aGVudGljYXRpb24uICBUaGUgc2VxdWVuY2UgbnVtYmVyIG9mIHRoZSBDU2VxIGhlYWRlciBmaWVsZCBNVVNUIGJlXG4gICAgICogdGhlIHNhbWUgYXMgdGhlIElOVklURSBiZWluZyBhY2tub3dsZWRnZWQsIGJ1dCB0aGUgQ1NlcSBtZXRob2QgTVVTVFxuICAgICAqIGJlIEFDSy4gIFRoZSBBQ0sgTVVTVCBjb250YWluIHRoZSBzYW1lIGNyZWRlbnRpYWxzIGFzIHRoZSBJTlZJVEUuICBJZlxuICAgICAqIHRoZSAyeHggY29udGFpbnMgYW4gb2ZmZXIgKGJhc2VkIG9uIHRoZSBydWxlcyBhYm92ZSksIHRoZSBBQ0sgTVVTVFxuICAgICAqIGNhcnJ5IGFuIGFuc3dlciBpbiBpdHMgYm9keS4gIElmIHRoZSBvZmZlciBpbiB0aGUgMnh4IHJlc3BvbnNlIGlzIG5vdFxuICAgICAqIGFjY2VwdGFibGUsIHRoZSBVQUMgY29yZSBNVVNUIGdlbmVyYXRlIGEgdmFsaWQgYW5zd2VyIGluIHRoZSBBQ0sgYW5kXG4gICAgICogdGhlbiBzZW5kIGEgQllFIGltbWVkaWF0ZWx5LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFDSyBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5hY2sgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgQUNLIHJlcXVlc3RcIik7XG4gICAgICAgIHZhciB0cmFuc2FjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMucmVpbnZpdGVVc2VyQWdlbnRDbGllbnQpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIHNlbmRpbmcgQUNLIGZvciBhIHJlLUlOVklURVxuICAgICAgICAgICAgaWYgKCEodGhpcy5yZWludml0ZVVzZXJBZ2VudENsaWVudC50cmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZUNsaWVudFRyYW5zYWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBpbnN0YW5jZSBvZiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFuc2FjdGlvbiA9IHRoaXMucmVpbnZpdGVVc2VyQWdlbnRDbGllbnQudHJhbnNhY3Rpb247XG4gICAgICAgICAgICB0aGlzLnJlaW52aXRlVXNlckFnZW50Q2xpZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UncmUgc2VuZGluZyBBQ0sgZm9yIHRoZSBpbml0aWFsIElOVklURVxuICAgICAgICAgICAgaWYgKCEodGhpcy5pbml0aWFsVHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVDbGllbnRUcmFuc2FjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbml0aWFsIHRyYW5zYWN0aW9uIG5vdCBpbnN0YW5jZSBvZiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFuc2FjdGlvbiA9IHRoaXMuaW5pdGlhbFRyYW5zYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuY3NlcSA9IHRyYW5zYWN0aW9uLnJlcXVlc3QuY3NlcTsgLy8gQUNLIGNzZXEgaXMgSU5WSVRFIGNzZXFcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLmNyZWF0ZU91dGdvaW5nUmVxdWVzdE1lc3NhZ2UobWVzc2FnZXNfMS5DLkFDSywgb3B0aW9ucyk7XG4gICAgICAgIHRyYW5zYWN0aW9uLmFja1Jlc3BvbnNlKG1lc3NhZ2UpOyAvLyBTZWUgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24gZm9yIGRldGFpbHMuXG4gICAgICAgIHRoaXMuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXJtaW5hdGluZyBhIFNlc3Npb25cbiAgICAgKlxuICAgICAqIFRoaXMgc2VjdGlvbiBkZXNjcmliZXMgdGhlIHByb2NlZHVyZXMgZm9yIHRlcm1pbmF0aW5nIGEgc2Vzc2lvblxuICAgICAqIGVzdGFibGlzaGVkIGJ5IFNJUC4gIFRoZSBzdGF0ZSBvZiB0aGUgc2Vzc2lvbiBhbmQgdGhlIHN0YXRlIG9mIHRoZVxuICAgICAqIGRpYWxvZyBhcmUgdmVyeSBjbG9zZWx5IHJlbGF0ZWQuICBXaGVuIGEgc2Vzc2lvbiBpcyBpbml0aWF0ZWQgd2l0aCBhblxuICAgICAqIElOVklURSwgZWFjaCAxeHggb3IgMnh4IHJlc3BvbnNlIGZyb20gYSBkaXN0aW5jdCBVQVMgY3JlYXRlcyBhXG4gICAgICogZGlhbG9nLCBhbmQgaWYgdGhhdCByZXNwb25zZSBjb21wbGV0ZXMgdGhlIG9mZmVyL2Fuc3dlciBleGNoYW5nZSwgaXRcbiAgICAgKiBhbHNvIGNyZWF0ZXMgYSBzZXNzaW9uLiAgQXMgYSByZXN1bHQsIGVhY2ggc2Vzc2lvbiBpcyBcImFzc29jaWF0ZWRcIlxuICAgICAqIHdpdGggYSBzaW5nbGUgZGlhbG9nIC0gdGhlIG9uZSB3aGljaCByZXN1bHRlZCBpbiBpdHMgY3JlYXRpb24uICBJZiBhblxuICAgICAqIGluaXRpYWwgSU5WSVRFIGdlbmVyYXRlcyBhIG5vbi0yeHggZmluYWwgcmVzcG9uc2UsIHRoYXQgdGVybWluYXRlc1xuICAgICAqIGFsbCBzZXNzaW9ucyAoaWYgYW55KSBhbmQgYWxsIGRpYWxvZ3MgKGlmIGFueSkgdGhhdCB3ZXJlIGNyZWF0ZWRcbiAgICAgKiB0aHJvdWdoIHJlc3BvbnNlcyB0byB0aGUgcmVxdWVzdC4gIEJ5IHZpcnR1ZSBvZiBjb21wbGV0aW5nIHRoZVxuICAgICAqIHRyYW5zYWN0aW9uLCBhIG5vbi0yeHggZmluYWwgcmVzcG9uc2UgYWxzbyBwcmV2ZW50cyBmdXJ0aGVyIHNlc3Npb25zXG4gICAgICogZnJvbSBiZWluZyBjcmVhdGVkIGFzIGEgcmVzdWx0IG9mIHRoZSBJTlZJVEUuICBUaGUgQllFIHJlcXVlc3QgaXNcbiAgICAgKiB1c2VkIHRvIHRlcm1pbmF0ZSBhIHNwZWNpZmljIHNlc3Npb24gb3IgYXR0ZW1wdGVkIHNlc3Npb24uICBJbiB0aGlzXG4gICAgICogY2FzZSwgdGhlIHNwZWNpZmljIHNlc3Npb24gaXMgdGhlIG9uZSB3aXRoIHRoZSBwZWVyIFVBIG9uIHRoZSBvdGhlclxuICAgICAqIHNpZGUgb2YgdGhlIGRpYWxvZy4gIFdoZW4gYSBCWUUgaXMgcmVjZWl2ZWQgb24gYSBkaWFsb2csIGFueSBzZXNzaW9uXG4gICAgICogYXNzb2NpYXRlZCB3aXRoIHRoYXQgZGlhbG9nIFNIT1VMRCB0ZXJtaW5hdGUuICBBIFVBIE1VU1QgTk9UIHNlbmQgYVxuICAgICAqIEJZRSBvdXRzaWRlIG9mIGEgZGlhbG9nLiAgVGhlIGNhbGxlcidzIFVBIE1BWSBzZW5kIGEgQllFIGZvciBlaXRoZXJcbiAgICAgKiBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9ncywgYW5kIHRoZSBjYWxsZWUncyBVQSBNQVkgc2VuZCBhIEJZRSBvblxuICAgICAqIGNvbmZpcm1lZCBkaWFsb2dzLCBidXQgTVVTVCBOT1Qgc2VuZCBhIEJZRSBvbiBlYXJseSBkaWFsb2dzLlxuICAgICAqXG4gICAgICogSG93ZXZlciwgdGhlIGNhbGxlZSdzIFVBIE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nXG4gICAgICogdW50aWwgaXQgaGFzIHJlY2VpdmVkIGFuIEFDSyBmb3IgaXRzIDJ4eCByZXNwb25zZSBvciB1bnRpbCB0aGUgc2VydmVyXG4gICAgICogdHJhbnNhY3Rpb24gdGltZXMgb3V0LiAgSWYgbm8gU0lQIGV4dGVuc2lvbnMgaGF2ZSBkZWZpbmVkIG90aGVyXG4gICAgICogYXBwbGljYXRpb24gbGF5ZXIgc3RhdGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZGlhbG9nLCB0aGUgQllFIGFsc29cbiAgICAgKiB0ZXJtaW5hdGVzIHRoZSBkaWFsb2cuXG4gICAgICpcbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1XG4gICAgICogRklYTUU6IE1ha2UgdGhlc2UgcHJvcGVyIEV4Y2VwdGlvbnMuLi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEJZRSBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqIFRocm93cyBgRXJyb3JgIGlmIGNhbGxlZSdzIFVBIGF0dGVtcHRzIGEgQllFIG9uIGFuIGVhcmx5IGRpYWxvZy5cbiAgICAgKiBUaHJvd3MgYEVycm9yYCBpZiBjYWxsZWUncyBVQSBhdHRlbXB0cyBhIEJZRSBvbiBhIGNvbmZpcm1lZCBkaWFsb2dcbiAgICAgKiAgICAgICAgICAgICAgICB3aGlsZSBpdCdzIHdhaXRpbmcgb24gdGhlIEFDSyBmb3IgaXRzIDJ4eCByZXNwb25zZS5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5ieWUgPSBmdW5jdGlvbiAoZGVsZWdhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiBzZW5kaW5nIEJZRSByZXF1ZXN0XCIpO1xuICAgICAgICAvLyBUaGUgY2FsbGVyJ3MgVUEgTUFZIHNlbmQgYSBCWUUgZm9yIGVpdGhlclxuICAgICAgICAvLyBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9ncywgYW5kIHRoZSBjYWxsZWUncyBVQSBNQVkgc2VuZCBhIEJZRSBvblxuICAgICAgICAvLyBjb25maXJtZWQgZGlhbG9ncywgYnV0IE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gZWFybHkgZGlhbG9ncy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSG93ZXZlciwgdGhlIGNhbGxlZSdzIFVBIE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nXG4gICAgICAgIC8vIHVudGlsIGl0IGhhcyByZWNlaXZlZCBhbiBBQ0sgZm9yIGl0cyAyeHggcmVzcG9uc2Ugb3IgdW50aWwgdGhlIHNlcnZlclxuICAgICAgICAvLyB0cmFuc2FjdGlvbiB0aW1lcyBvdXQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTVcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbFRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIHRocm93IGEgcHJvcGVyIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVQVMgTVVTVCBOT1Qgc2VuZCBhIEJZRSBvbiBlYXJseSBkaWFsb2dzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFja1dhaXQgJiYgdGhpcy5pbml0aWFsVHJhbnNhY3Rpb24uc3RhdGUgIT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBUT0RPOiBUaGlzIHNob3VsZCB0aHJvdyBhIHByb3BlciBleGNlcHRpb24uXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVUFTIE1VU1QgTk9UIHNlbmQgYSBCWUUgb24gYSBjb25maXJtZWQgZGlhbG9nIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJ1bnRpbCBpdCBoYXMgcmVjZWl2ZWQgYW4gQUNLIGZvciBpdHMgMnh4IHJlc3BvbnNlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJvciB1bnRpbCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIHRpbWVzIG91dC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBCWUUgcmVxdWVzdCBpcyBjb25zdHJ1Y3RlZCBhcyB3b3VsZCBhbnkgb3RoZXIgcmVxdWVzdCB3aXRoaW4gYVxuICAgICAgICAvLyBkaWFsb2csIGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDEyLlxuICAgICAgICAvL1xuICAgICAgICAvLyBPbmNlIHRoZSBCWUUgaXMgY29uc3RydWN0ZWQsIHRoZSBVQUMgY29yZSBjcmVhdGVzIGEgbmV3IG5vbi1JTlZJVEVcbiAgICAgICAgLy8gY2xpZW50IHRyYW5zYWN0aW9uLCBhbmQgcGFzc2VzIGl0IHRoZSBCWUUgcmVxdWVzdC4gIFRoZSBVQUMgTVVTVFxuICAgICAgICAvLyBjb25zaWRlciB0aGUgc2Vzc2lvbiB0ZXJtaW5hdGVkIChhbmQgdGhlcmVmb3JlIHN0b3Agc2VuZGluZyBvclxuICAgICAgICAvLyBsaXN0ZW5pbmcgZm9yIG1lZGlhKSBhcyBzb29uIGFzIHRoZSBCWUUgcmVxdWVzdCBpcyBwYXNzZWQgdG8gdGhlXG4gICAgICAgIC8vIGNsaWVudCB0cmFuc2FjdGlvbi4gIElmIHRoZSByZXNwb25zZSBmb3IgdGhlIEJZRSBpcyBhIDQ4MVxuICAgICAgICAvLyAoQ2FsbC9UcmFuc2FjdGlvbiBEb2VzIE5vdCBFeGlzdCkgb3IgYSA0MDggKFJlcXVlc3QgVGltZW91dCkgb3Igbm9cbiAgICAgICAgLy8gcmVzcG9uc2UgYXQgYWxsIGlzIHJlY2VpdmVkIGZvciB0aGUgQllFICh0aGF0IGlzLCBhIHRpbWVvdXQgaXNcbiAgICAgICAgLy8gcmV0dXJuZWQgYnkgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiksIHRoZSBVQUMgTVVTVCBjb25zaWRlciB0aGVcbiAgICAgICAgLy8gc2Vzc2lvbiBhbmQgdGhlIGRpYWxvZyB0ZXJtaW5hdGVkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1LjEuMVxuICAgICAgICByZXR1cm4gbmV3IGJ5ZV91c2VyX2FnZW50X2NsaWVudF8xLkJ5ZVVzZXJBZ2VudENsaWVudCh0aGlzLCBkZWxlZ2F0ZSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbiBJTkZPIHJlcXVlc3QgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBhbiBJbmZvIFBhY2thZ2UgKHNlZVxuICAgICAqIFNlY3Rpb24gNSksIG9yIGFzc29jaWF0ZWQgd2l0aCBhIGxlZ2FjeSBJTkZPIHVzYWdlIChzZWUgU2VjdGlvbiAyKS5cbiAgICAgKlxuICAgICAqIFRoZSBjb25zdHJ1Y3Rpb24gb2YgdGhlIElORk8gcmVxdWVzdCBpcyB0aGUgc2FtZSBhcyBhbnkgb3RoZXJcbiAgICAgKiBub24tdGFyZ2V0IHJlZnJlc2ggcmVxdWVzdCB3aXRoaW4gYW4gZXhpc3RpbmcgaW52aXRlIGRpYWxvZyB1c2FnZSBhc1xuICAgICAqIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDEyLjIgb2YgUkZDIDMyNjEuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwODYjc2VjdGlvbi00LjIuMVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBidWNrZXQuXG4gICAgICovXG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgSU5GTyByZXF1ZXN0XCIpO1xuICAgICAgICBpZiAodGhpcy5lYXJseSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIHRocm93IGEgcHJvcGVyIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWxvZyBub3QgY29uZmlybWVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGluZm9fdXNlcl9hZ2VudF9jbGllbnRfMS5JbmZvVXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vZGlmeWluZyBhbiBFeGlzdGluZyBTZXNzaW9uXG4gICAgICpcbiAgICAgKiBBIHN1Y2Nlc3NmdWwgSU5WSVRFIHJlcXVlc3QgKHNlZSBTZWN0aW9uIDEzKSBlc3RhYmxpc2hlcyBib3RoIGFcbiAgICAgKiBkaWFsb2cgYmV0d2VlbiB0d28gdXNlciBhZ2VudHMgYW5kIGEgc2Vzc2lvbiB1c2luZyB0aGUgb2ZmZXItYW5zd2VyXG4gICAgICogbW9kZWwuICBTZWN0aW9uIDEyIGV4cGxhaW5zIGhvdyB0byBtb2RpZnkgYW4gZXhpc3RpbmcgZGlhbG9nIHVzaW5nIGFcbiAgICAgKiB0YXJnZXQgcmVmcmVzaCByZXF1ZXN0IChmb3IgZXhhbXBsZSwgY2hhbmdpbmcgdGhlIHJlbW90ZSB0YXJnZXQgVVJJXG4gICAgICogb2YgdGhlIGRpYWxvZykuICBUaGlzIHNlY3Rpb24gZGVzY3JpYmVzIGhvdyB0byBtb2RpZnkgdGhlIGFjdHVhbFxuICAgICAqIHNlc3Npb24uICBUaGlzIG1vZGlmaWNhdGlvbiBjYW4gaW52b2x2ZSBjaGFuZ2luZyBhZGRyZXNzZXMgb3IgcG9ydHMsXG4gICAgICogYWRkaW5nIGEgbWVkaWEgc3RyZWFtLCBkZWxldGluZyBhIG1lZGlhIHN0cmVhbSwgYW5kIHNvIG9uLiAgVGhpcyBpc1xuICAgICAqIGFjY29tcGxpc2hlZCBieSBzZW5kaW5nIGEgbmV3IElOVklURSByZXF1ZXN0IHdpdGhpbiB0aGUgc2FtZSBkaWFsb2dcbiAgICAgKiB0aGF0IGVzdGFibGlzaGVkIHRoZSBzZXNzaW9uLiAgQW4gSU5WSVRFIHJlcXVlc3Qgc2VudCB3aXRoaW4gYW5cbiAgICAgKiBleGlzdGluZyBkaWFsb2cgaXMga25vd24gYXMgYSByZS1JTlZJVEUuXG4gICAgICpcbiAgICAgKiAgICBOb3RlIHRoYXQgYSBzaW5nbGUgcmUtSU5WSVRFIGNhbiBtb2RpZnkgdGhlIGRpYWxvZyBhbmQgdGhlXG4gICAgICogICAgcGFyYW1ldGVycyBvZiB0aGUgc2Vzc2lvbiBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAqXG4gICAgICogRWl0aGVyIHRoZSBjYWxsZXIgb3IgY2FsbGVlIGNhbiBtb2RpZnkgYW4gZXhpc3Rpbmcgc2Vzc2lvbi5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldFxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLmludml0ZSA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgSU5WSVRFIHJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhpcyBzaG91bGQgdGhyb3cgYSBwcm9wZXIgZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIG5vdCBjb25maXJtZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGUgdGhhdCBhIFVBQyBNVVNUIE5PVCBpbml0aWF0ZSBhIG5ldyBJTlZJVEUgdHJhbnNhY3Rpb24gd2l0aGluIGFcbiAgICAgICAgLy8gZGlhbG9nIHdoaWxlIGFub3RoZXIgSU5WSVRFIHRyYW5zYWN0aW9uIGlzIGluIHByb2dyZXNzIGluIGVpdGhlclxuICAgICAgICAvLyBkaXJlY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDEuIElmIHRoZXJlIGlzIGFuIG9uZ29pbmcgSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiwgdGhlIFRVIE1VU1RcbiAgICAgICAgLy8gICAgICAgd2FpdCB1bnRpbCB0aGUgdHJhbnNhY3Rpb24gcmVhY2hlcyB0aGUgY29tcGxldGVkIG9yIHRlcm1pbmF0ZWRcbiAgICAgICAgLy8gICAgICAgc3RhdGUgYmVmb3JlIGluaXRpYXRpbmcgdGhlIG5ldyBJTlZJVEUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDIuIElmIHRoZXJlIGlzIGFuIG9uZ29pbmcgSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiwgdGhlIFRVIE1VU1RcbiAgICAgICAgLy8gICAgICAgd2FpdCB1bnRpbCB0aGUgdHJhbnNhY3Rpb24gcmVhY2hlcyB0aGUgY29uZmlybWVkIG9yIHRlcm1pbmF0ZWRcbiAgICAgICAgLy8gICAgICAgc3RhdGUgYmVmb3JlIGluaXRpYXRpbmcgdGhlIG5ldyBJTlZJVEUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEhvd2V2ZXIsIGEgVUEgTUFZIGluaXRpYXRlIGEgcmVndWxhciB0cmFuc2FjdGlvbiB3aGlsZSBhbiBJTlZJVEVcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gaXMgaW4gcHJvZ3Jlc3MuICBBIFVBIE1BWSBhbHNvIGluaXRpYXRlIGFuIElOVklURVxuICAgICAgICAvLyB0cmFuc2FjdGlvbiB3aGlsZSBhIHJlZ3VsYXIgdHJhbnNhY3Rpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTQuMVxuICAgICAgICBpZiAodGhpcy5yZWludml0ZVVzZXJBZ2VudENsaWVudCkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIHRocm93IGEgcHJvcGVyIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIGFuIG9uZ29pbmcgcmUtSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBUT0RPOiBUaGlzIHNob3VsZCB0aHJvdyBhIHByb3BlciBleGNlcHRpb24uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBhbiBvbmdvaW5nIHJlLUlOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgcmVfaW52aXRlX3VzZXJfYWdlbnRfY2xpZW50XzEuUmVJbnZpdGVVc2VyQWdlbnRDbGllbnQodGhpcywgZGVsZWdhdGUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBVQUMgTUFZIGFzc29jaWF0ZSBhIE1FU1NBR0UgcmVxdWVzdCB3aXRoIGFuIGV4aXN0aW5nIGRpYWxvZy4gIElmIGFcbiAgICAgKiBNRVNTQUdFIHJlcXVlc3QgaXMgc2VudCB3aXRoaW4gYSBkaWFsb2csIGl0IGlzIFwiYXNzb2NpYXRlZFwiIHdpdGggYW55XG4gICAgICogbWVkaWEgc2Vzc2lvbiBvciBzZXNzaW9ucyBhc3NvY2lhdGVkIHdpdGggdGhhdCBkaWFsb2cuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0Mjgjc2VjdGlvbi00XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24gKGRlbGVnYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIklOVklURSBkaWFsb2cgXCIgKyB0aGlzLmlkICsgXCIgc2VuZGluZyBNRVNTQUdFIHJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhpcyBzaG91bGQgdGhyb3cgYSBwcm9wZXIgZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIG5vdCBjb25maXJtZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5jcmVhdGVPdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1lc3NhZ2VzXzEuQy5NRVNTQUdFLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBtZXNzYWdlX3VzZXJfYWdlbnRfY2xpZW50XzEuTWVzc2FnZVVzZXJBZ2VudENsaWVudCh0aGlzLmNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBOT1RJRlkgbWVjaGFuaXNtIGRlZmluZWQgaW4gWzJdIE1VU1QgYmUgdXNlZCB0byBpbmZvcm0gdGhlIGFnZW50XG4gICAgICogc2VuZGluZyB0aGUgUkVGRVIgb2YgdGhlIHN0YXR1cyBvZiB0aGUgcmVmZXJlbmNlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNTE1I3NlY3Rpb24tMi40LjRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgTk9USUZZIHJlcXVlc3RcIik7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5KSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogVE9ETzogVGhpcyBzaG91bGQgdGhyb3cgYSBwcm9wZXIgZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhbG9nIG5vdCBjb25maXJtZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgbm90aWZ5X3VzZXJfYWdlbnRfY2xpZW50XzEuTm90aWZ5VXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzc3VtaW5nIHRoZSByZXNwb25zZSBpcyB0byBiZSB0cmFuc21pdHRlZCByZWxpYWJseSwgdGhlIFVBQyBNVVNUXG4gICAgICogY3JlYXRlIGEgbmV3IHJlcXVlc3Qgd2l0aCBtZXRob2QgUFJBQ0suICBUaGlzIHJlcXVlc3QgaXMgc2VudCB3aXRoaW5cbiAgICAgKiB0aGUgZGlhbG9nIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlzaW9uYWwgcmVzcG9uc2UgKGluZGVlZCwgdGhlXG4gICAgICogcHJvdmlzaW9uYWwgcmVzcG9uc2UgbWF5IGhhdmUgY3JlYXRlZCB0aGUgZGlhbG9nKS4gIFBSQUNLIHJlcXVlc3RzXG4gICAgICogTUFZIGNvbnRhaW4gYm9kaWVzLCB3aGljaCBhcmUgaW50ZXJwcmV0ZWQgYWNjb3JkaW5nIHRvIHRoZWlyIHR5cGUgYW5kXG4gICAgICogZGlzcG9zaXRpb24uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5wcmFjayA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgUFJBQ0sgcmVxdWVzdFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcmFja191c2VyX2FnZW50X2NsaWVudF8xLlByYWNrVXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJFRkVSIGlzIGEgU0lQIHJlcXVlc3QgYW5kIGlzIGNvbnN0cnVjdGVkIGFzIGRlZmluZWQgaW4gWzFdLiAgQSBSRUZFUlxuICAgICAqIHJlcXVlc3QgTVVTVCBjb250YWluIGV4YWN0bHkgb25lIFJlZmVyLVRvIGhlYWRlciBmaWVsZCB2YWx1ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC4xXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5yZWZlciA9IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHNlbmRpbmcgUkVGRVIgcmVxdWVzdFwiKTtcbiAgICAgICAgaWYgKHRoaXMuZWFybHkpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBUT0RPOiBUaGlzIHNob3VsZCB0aHJvdyBhIHByb3BlciBleGNlcHRpb24uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgbm90IGNvbmZpcm1lZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRklYTUU6IFRPRE86IFZhbGlkYXRlIFJlZmVyLVRvIGhlYWRlciBmaWVsZCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG5ldyByZWZlcl91c2VyX2FnZW50X2NsaWVudF8xLlJlZmVyVXNlckFnZW50Q2xpZW50KHRoaXMsIGRlbGVnYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIHNlbnQgd2l0aGluIGEgZGlhbG9nLCBhcyBhbnkgb3RoZXIgcmVxdWVzdHMsIGFyZSBhdG9taWMuICBJZlxuICAgICAqIGEgcGFydGljdWxhciByZXF1ZXN0IGlzIGFjY2VwdGVkIGJ5IHRoZSBVQVMsIGFsbCB0aGUgc3RhdGUgY2hhbmdlc1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCBpdCBhcmUgcGVyZm9ybWVkLiAgSWYgdGhlIHJlcXVlc3QgaXMgcmVqZWN0ZWQsIG5vbmVcbiAgICAgKiBvZiB0aGUgc3RhdGUgY2hhbmdlcyBhcmUgcGVyZm9ybWVkLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2Ugd2l0aGluIHRoaXMgZGlhbG9nLlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdFwiKTtcbiAgICAgICAgLy8gUmVzcG9uc2UgcmV0cmFuc21pc3Npb25zIGNlYXNlIHdoZW4gYW4gQUNLIHJlcXVlc3QgZm9yIHRoZVxuICAgICAgICAvLyByZXNwb25zZSBpcyByZWNlaXZlZC4gIFRoaXMgaXMgaW5kZXBlbmRlbnQgb2Ygd2hhdGV2ZXIgdHJhbnNwb3J0XG4gICAgICAgIC8vIHByb3RvY29scyBhcmUgdXNlZCB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjFcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICAvLyBJZiBhY2tXYWl0IGlzIHRydWUsIHRoZW4gdGhpcyBpcyB0aGUgQUNLIHRvIHRoZSBpbml0aWFsIElOVklURSxcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSB0aGlzIGlzIGFuIEFDSyB0byBhbiBpbiBkaWFsb2cgSU5WSVRFLiBJbiBlaXRoZXIgY2FzZSxcbiAgICAgICAgICAgIC8vIGd1YXJkIHRvIG1ha2Ugc3VyZSB0aGUgc2VxdWVuY2UgbnVtYmVyIG9mIHRoZSBBQ0sgbWF0Y2hlcyB0aGUgSU5WSVRFLlxuICAgICAgICAgICAgaWYgKHRoaXMuYWNrV2FpdCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxUcmFuc2FjdGlvbiBpbnN0YW5jZW9mIHRyYW5zYWN0aW9uc18xLkludml0ZUNsaWVudFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHJlY2VpdmVkIHVuZXhwZWN0ZWQgXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3QsIGRyb3BwaW5nLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsVHJhbnNhY3Rpb24ucmVxdWVzdC5jc2VxICE9PSBtZXNzYWdlLmNzZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIklOVklURSBkaWFsb2cgXCIgKyB0aGlzLmlkICsgXCIgcmVjZWl2ZWQgdW5leHBlY3RlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdCwgZHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBiZWZvcmUgdGhlIGRlbGVnYXRlIGhhcyBhIGNoYW5jZSB0byBoYW5kbGUgdGhlXG4gICAgICAgICAgICAgICAgLy8gbWVzc2FnZSBhcyBkZWxlZ2F0ZSBtYXkgY2FsbGJhY2sgaW50byB0aGlzIGRpYWxvZy5cbiAgICAgICAgICAgICAgICB0aGlzLmFja1dhaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgbWVzc2FnZS5tZXRob2QgKyBcIiByZXF1ZXN0LCBkcm9wcGluZy5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIudHJhbnNhY3Rpb24ucmVxdWVzdC5jc2VxICE9PSBtZXNzYWdlLmNzZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIklOVklURSBkaWFsb2cgXCIgKyB0aGlzLmlkICsgXCIgcmVjZWl2ZWQgdW5leHBlY3RlZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdCwgZHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25BY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uQWNrKHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXF1ZXN0IHdpdGhpbiBhIGRpYWxvZyBvdXQgb2Ygc2VxdWVuY2UgZ3VhcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICAgIGlmICghdGhpcy5zZXF1ZW5jZUd1YXJkKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJTlZJVEUgZGlhbG9nIFwiICsgdGhpcy5pZCArIFwiIHJlamVjdGVkIG91dCBvZiBvcmRlciBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgcmVxdWVzdC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFKSB7XG4gICAgICAgICAgICAvLyBBIFVBUyB0aGF0IHJlY2VpdmVzIGEgc2Vjb25kIElOVklURSBiZWZvcmUgaXQgc2VuZHMgdGhlIGZpbmFsXG4gICAgICAgICAgICAvLyByZXNwb25zZSB0byBhIGZpcnN0IElOVklURSB3aXRoIGEgbG93ZXIgQ1NlcSBzZXF1ZW5jZSBudW1iZXIgb24gdGhlXG4gICAgICAgICAgICAvLyBzYW1lIGRpYWxvZyBNVVNUIHJldHVybiBhIDUwMCAoU2VydmVyIEludGVybmFsIEVycm9yKSByZXNwb25zZSB0byB0aGVcbiAgICAgICAgICAgIC8vIHNlY29uZCBJTlZJVEUgYW5kIE1VU1QgaW5jbHVkZSBhIFJldHJ5LUFmdGVyIGhlYWRlciBmaWVsZCB3aXRoIGFcbiAgICAgICAgICAgIC8vIHJhbmRvbWx5IGNob3NlbiB2YWx1ZSBvZiBiZXR3ZWVuIDAgYW5kIDEwIHNlY29uZHMuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlaW52aXRlVXNlckFnZW50U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0yMC4zM1xuICAgICAgICAgICAgICAgIHZhciByZXRyeUFmdGVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwKSkgKyAxO1xuICAgICAgICAgICAgICAgIHZhciBleHRyYUhlYWRlcnMgPSBbXCJSZXRyeS1BZnRlcjogXCIgKyByZXRyeUFmdGVyXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA1MDAsIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEEgVUFTIHRoYXQgcmVjZWl2ZXMgYW4gSU5WSVRFIG9uIGEgZGlhbG9nIHdoaWxlIGFuIElOVklURSBpdCBoYWQgc2VudFxuICAgICAgICAgICAgLy8gb24gdGhhdCBkaWFsb2cgaXMgaW4gcHJvZ3Jlc3MgTVVTVCByZXR1cm4gYSA0OTEgKFJlcXVlc3QgUGVuZGluZylcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlIHRvIHRoZSByZWNlaXZlZCBJTlZJVEUuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE0LjJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlaW52aXRlVXNlckFnZW50Q2xpZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3JlLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNDkxIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZXF1ZXN0IHdpdGhpbiBhIGRpYWxvZyBjb21tb24gcHJvY2Vzc2luZy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdC5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAvLyBSZXF1ZXN0cyB3aXRoaW4gYSBkaWFsb2cgTUFZIGNvbnRhaW4gUmVjb3JkLVJvdXRlIGFuZCBDb250YWN0IGhlYWRlclxuICAgICAgICAvLyBmaWVsZHMuICBIb3dldmVyLCB0aGVzZSByZXF1ZXN0cyBkbyBub3QgY2F1c2UgdGhlIGRpYWxvZydzIHJvdXRlIHNldFxuICAgICAgICAvLyB0byBiZSBtb2RpZmllZCwgYWx0aG91Z2ggdGhleSBtYXkgbW9kaWZ5IHRoZSByZW1vdGUgdGFyZ2V0IFVSSS5cbiAgICAgICAgLy8gU3BlY2lmaWNhbGx5LCByZXF1ZXN0cyB0aGF0IGFyZSBub3QgdGFyZ2V0IHJlZnJlc2ggcmVxdWVzdHMgZG8gbm90XG4gICAgICAgIC8vIG1vZGlmeSB0aGUgZGlhbG9nJ3MgcmVtb3RlIHRhcmdldCBVUkksIGFuZCByZXF1ZXN0cyB0aGF0IGFyZSB0YXJnZXRcbiAgICAgICAgLy8gcmVmcmVzaCByZXF1ZXN0cyBkby4gIEZvciBkaWFsb2dzIHRoYXQgaGF2ZSBiZWVuIGVzdGFibGlzaGVkIHdpdGggYW5cbiAgICAgICAgLy8gSU5WSVRFLCB0aGUgb25seSB0YXJnZXQgcmVmcmVzaCByZXF1ZXN0IGRlZmluZWQgaXMgcmUtSU5WSVRFIChzZWVcbiAgICAgICAgLy8gU2VjdGlvbiAxNCkuICBPdGhlciBleHRlbnNpb25zIG1heSBkZWZpbmUgZGlmZmVyZW50IHRhcmdldCByZWZyZXNoXG4gICAgICAgIC8vIHJlcXVlc3RzIGZvciBkaWFsb2dzIGVzdGFibGlzaGVkIGluIG90aGVyIHdheXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIE5vdGUgdGhhdCBhbiBBQ0sgaXMgTk9UIGEgdGFyZ2V0IHJlZnJlc2ggcmVxdWVzdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGFyZ2V0IHJlZnJlc2ggcmVxdWVzdHMgb25seSB1cGRhdGUgdGhlIGRpYWxvZydzIHJlbW90ZSB0YXJnZXQgVVJJLFxuICAgICAgICAvLyBhbmQgbm90IHRoZSByb3V0ZSBzZXQgZm9ybWVkIGZyb20gdGhlIFJlY29yZC1Sb3V0ZS4gIFVwZGF0aW5nIHRoZVxuICAgICAgICAvLyBsYXR0ZXIgd291bGQgaW50cm9kdWNlIHNldmVyZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBwcm9ibGVtcyB3aXRoXG4gICAgICAgIC8vIFJGQyAyNTQzLWNvbXBsaWFudCBzeXN0ZW1zLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE1XG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgLy8gRklYTUU6IHBhcnNlciBuZWVkcyB0byBiZSB0eXBlZC4uLlxuICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKFwiY29udGFjdFwiKTtcbiAgICAgICAgICAgIGlmICghY29udGFjdCkgeyAvLyBUT0RPOiBSZXZpZXcgdG8gbWFrZSBzdXJlIHRoaXMgd2lsbCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IHVuZGVmaW5lZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShjb250YWN0IGluc3RhbmNlb2YgbWVzc2FnZXNfMS5OYW1lQWRkckhlYWRlcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250YWN0IG5vdCBpbnN0YW5jZSBvZiBOYW1lQWRkckhlYWRlci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1N0YXRlLnJlbW90ZVRhcmdldCA9IGNvbnRhY3QudXJpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN3aXRjaCBvbiBtZXRob2QgYW5kIHRoZW4gZGVsZWdhdGUuXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLkJZRTpcbiAgICAgICAgICAgICAgICAvLyBBIFVBUyBjb3JlIHJlY2VpdmluZyBhIEJZRSByZXF1ZXN0IGZvciBhbiBleGlzdGluZyBkaWFsb2cgTVVTVCBmb2xsb3dcbiAgICAgICAgICAgICAgICAvLyB0aGUgcHJvY2VkdXJlcyBvZiBTZWN0aW9uIDEyLjIuMiB0byBwcm9jZXNzIHRoZSByZXF1ZXN0LiAgT25jZSBkb25lLFxuICAgICAgICAgICAgICAgIC8vIHRoZSBVQVMgU0hPVUxEIHRlcm1pbmF0ZSB0aGUgc2Vzc2lvbiAoYW5kIHRoZXJlZm9yZSBzdG9wIHNlbmRpbmcgYW5kXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuaW5nIGZvciBtZWRpYSkuICBUaGUgb25seSBjYXNlIHdoZXJlIGl0IGNhbiBlbGVjdCBub3QgdG8gYXJlXG4gICAgICAgICAgICAgICAgLy8gbXVsdGljYXN0IHNlc3Npb25zLCB3aGVyZSBwYXJ0aWNpcGF0aW9uIGlzIHBvc3NpYmxlIGV2ZW4gaWYgdGhlIG90aGVyXG4gICAgICAgICAgICAgICAgLy8gcGFydGljaXBhbnQgaW4gdGhlIGRpYWxvZyBoYXMgdGVybWluYXRlZCBpdHMgaW52b2x2ZW1lbnQgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gc2Vzc2lvbi4gIFdoZXRoZXIgb3Igbm90IGl0IGVuZHMgaXRzIHBhcnRpY2lwYXRpb24gb24gdGhlIHNlc3Npb24sXG4gICAgICAgICAgICAgICAgLy8gdGhlIFVBUyBjb3JlIE1VU1QgZ2VuZXJhdGUgYSAyeHggcmVzcG9uc2UgdG8gdGhlIEJZRSwgYW5kIE1VU1QgcGFzc1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgdG8gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBmb3IgdHJhbnNtaXNzaW9uLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhlIFVBUyBNVVNUIHN0aWxsIHJlc3BvbmQgdG8gYW55IHBlbmRpbmcgcmVxdWVzdHMgcmVjZWl2ZWQgZm9yIHRoYXRcbiAgICAgICAgICAgICAgICAvLyBkaWFsb2cuICBJdCBpcyBSRUNPTU1FTkRFRCB0aGF0IGEgNDg3IChSZXF1ZXN0IFRlcm1pbmF0ZWQpIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gYmUgZ2VuZXJhdGVkIHRvIHRob3NlIHBlbmRpbmcgcmVxdWVzdHMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNS4xLjJcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1YXMgPSBuZXcgYnllX3VzZXJfYWdlbnRfc2VydmVyXzEuQnllVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25CeWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbkJ5ZSh1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuSU5GTzpcbiAgICAgICAgICAgICAgICAvLyBJZiBhIFVBIHJlY2VpdmVzIGFuIElORk8gcmVxdWVzdCBhc3NvY2lhdGVkIHdpdGggYW4gSW5mbyBQYWNrYWdlIHRoYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgVUEgaGFzIG5vdCBpbmRpY2F0ZWQgd2lsbGluZ25lc3MgdG8gcmVjZWl2ZSwgdGhlIFVBIE1VU1Qgc2VuZCBhXG4gICAgICAgICAgICAgICAgLy8gNDY5IChCYWQgSW5mbyBQYWNrYWdlKSByZXNwb25zZSAoc2VlIFNlY3Rpb24gMTEuNiksIHdoaWNoIGNvbnRhaW5zIGFcbiAgICAgICAgICAgICAgICAvLyBSZWN2LUluZm8gaGVhZGVyIGZpZWxkIHdpdGggSW5mbyBQYWNrYWdlcyBmb3Igd2hpY2ggdGhlIFVBIGlzIHdpbGxpbmdcbiAgICAgICAgICAgICAgICAvLyB0byByZWNlaXZlIElORk8gcmVxdWVzdHMuXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IGluZm9fdXNlcl9hZ2VudF9zZXJ2ZXJfMS5JbmZvVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25JbmZvID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25JbmZvKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLnJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogNDY5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVyczogW1wiUmVjdi1JbmZvIDpcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLklOVklURTpcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbmV3IHNlc3Npb24gZGVzY3JpcHRpb24gaXMgbm90IGFjY2VwdGFibGUsIHRoZSBVQVMgY2FuIHJlamVjdFxuICAgICAgICAgICAgICAgIC8vIGl0IGJ5IHJldHVybmluZyBhIDQ4OCAoTm90IEFjY2VwdGFibGUgSGVyZSkgcmVzcG9uc2UgZm9yIHRoZSByZS1cbiAgICAgICAgICAgICAgICAvLyBJTlZJVEUuICBUaGlzIHJlc3BvbnNlIFNIT1VMRCBpbmNsdWRlIGEgV2FybmluZyBoZWFkZXIgZmllbGQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNC4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHJlX2ludml0ZV91c2VyX2FnZW50X3NlcnZlcl8xLlJlSW52aXRlVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uSW52aXRlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25JbnZpdGUodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDg4IH0pOyAvLyBUT0RPOiBXYXJuaW5nIGhlYWRlciBmaWVsZC5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyBtZXNzYWdlX3VzZXJfYWdlbnRfc2VydmVyXzEuTWVzc2FnZVVzZXJBZ2VudFNlcnZlcih0aGlzLmNvcmUsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25NZXNzYWdlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25NZXNzYWdlKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLmFjY2VwdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk5PVElGWTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC40XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IG5vdGlmeV91c2VyX2FnZW50X3NlcnZlcl8xLk5vdGlmeVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMuYWNjZXB0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuUFJBQ0s6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHByYWNrX3VzZXJfYWdlbnRfc2VydmVyXzEuUHJhY2tVc2VyQWdlbnRTZXJ2ZXIodGhpcywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblByYWNrID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25QcmFjayh1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5SRUZFUjpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzUxNSNzZWN0aW9uLTIuNC4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHJlZmVyX3VzZXJfYWdlbnRfc2VydmVyXzEuUmVmZXJVc2VyQWdlbnRTZXJ2ZXIodGhpcywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblJlZmVyID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWZlcih1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiSU5WSVRFIGRpYWxvZyBcIiArIHRoaXMuaWQgKyBcIiByZWNlaXZlZCB1bmltcGxlbWVudGVkIFwiICsgbWVzc2FnZS5tZXRob2QgKyBcIiByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcmUucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA1MDEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZXNzaW9uRGlhbG9nLnByb3RvdHlwZS5yZWxpYWJsZVNlcXVlbmNlR3VhcmQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IG1lc3NhZ2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKCFzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdGF0dXMgY29kZSB1bmRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgPiAxMDAgJiYgc3RhdHVzQ29kZSA8IDIwMCkge1xuICAgICAgICAgICAgLy8gSWYgYSBwcm92aXNpb25hbCByZXNwb25zZSBpcyByZWNlaXZlZCBmb3IgYW4gaW5pdGlhbCByZXF1ZXN0LCBhbmRcbiAgICAgICAgICAgIC8vIHRoYXQgcmVzcG9uc2UgY29udGFpbnMgYSBSZXF1aXJlIGhlYWRlciBmaWVsZCBjb250YWluaW5nIHRoZSBvcHRpb25cbiAgICAgICAgICAgIC8vIHRhZyAxMDByZWwsIHRoZSByZXNwb25zZSBpcyB0byBiZSBzZW50IHJlbGlhYmx5LiAgSWYgdGhlIHJlc3BvbnNlIGlzXG4gICAgICAgICAgICAvLyBhIDEwMCAoVHJ5aW5nKSAoYXMgb3Bwb3NlZCB0byAxMDEgdG8gMTk5KSwgdGhpcyBvcHRpb24gdGFnIE1VU1QgYmVcbiAgICAgICAgICAgIC8vIGlnbm9yZWQsIGFuZCB0aGUgcHJvY2VkdXJlcyBiZWxvdyBNVVNUIE5PVCBiZSB1c2VkLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICB2YXIgcmVxdWlyZUhlYWRlciA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwicmVxdWlyZVwiKTtcbiAgICAgICAgICAgIHZhciByc2VxSGVhZGVyID0gbWVzc2FnZS5nZXRIZWFkZXIoXCJyc2VxXCIpO1xuICAgICAgICAgICAgdmFyIHJzZXEgPSByZXF1aXJlSGVhZGVyICYmIHJlcXVpcmVIZWFkZXIuaW5jbHVkZXMoXCIxMDByZWxcIikgJiYgcnNlcUhlYWRlciA/IE51bWJlcihyc2VxSGVhZGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChyc2VxKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxpbmcgb2Ygc3Vic2VxdWVudCByZWxpYWJsZSBwcm92aXNpb25hbCByZXNwb25zZXMgZm9yIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbCByZXF1ZXN0IGZvbGxvd3MgdGhlIHNhbWUgcnVsZXMgYXMgYWJvdmUsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2U6IHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBhcmUgZ3VhcmFudGVlZCB0byBiZSBpblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyLiAgQXMgYSByZXN1bHQsIGlmIHRoZSBVQUMgcmVjZWl2ZXMgYW5vdGhlciByZWxpYWJsZSBwcm92aXNpb25hbFxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIHRvIHRoZSBzYW1lIHJlcXVlc3QsIGFuZCBpdHMgUlNlcSB2YWx1ZSBpcyBub3Qgb25lIGhpZ2hlclxuICAgICAgICAgICAgICAgIC8vIHRoYW4gdGhlIHZhbHVlIG9mIHRoZSBzZXF1ZW5jZSBudW1iZXIsIHRoYXQgcmVzcG9uc2UgTVVTVCBOT1QgYmVcbiAgICAgICAgICAgICAgICAvLyBhY2tub3dsZWRnZWQgd2l0aCBhIFBSQUNLLCBhbmQgTVVTVCBOT1QgYmUgcHJvY2Vzc2VkIGZ1cnRoZXIgYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gVUFDLiAgQW4gaW1wbGVtZW50YXRpb24gTUFZIGRpc2NhcmQgdGhlIHJlc3BvbnNlLCBvciBNQVkgY2FjaGUgdGhlXG4gICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaW4gdGhlIGhvcGVzIG9mIHJlY2VpdmluZyB0aGUgbWlzc2luZyByZXNwb25zZXMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucnNlcSAmJiB0aGlzLnJzZXEgKyAxICE9PSByc2VxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT25jZSBhIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGlzIHJlY2VpdmVkLCByZXRyYW5zbWlzc2lvbnMgb2ZcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHJlc3BvbnNlIE1VU1QgYmUgZGlzY2FyZGVkLiAgQSByZXNwb25zZSBpcyBhIHJldHJhbnNtaXNzaW9uIHdoZW5cbiAgICAgICAgICAgICAgICAvLyBpdHMgZGlhbG9nIElELCBDU2VxLCBhbmQgUlNlcSBtYXRjaCB0aGUgb3JpZ2luYWwgcmVzcG9uc2UuICBUaGUgVUFDXG4gICAgICAgICAgICAgICAgLy8gTVVTVCBtYWludGFpbiBhIHNlcXVlbmNlIG51bWJlciB0aGF0IGluZGljYXRlcyB0aGUgbW9zdCByZWNlbnRseVxuICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIGluLW9yZGVyIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGZvciB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QuICBUaGlzIHNlcXVlbmNlIG51bWJlciBNVVNUIGJlIG1haW50YWluZWQgdW50aWwgYSBmaW5hbFxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIHJlY2VpdmVkIGZvciB0aGUgaW5pdGlhbCByZXF1ZXN0LiAgSXRzIHZhbHVlIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplZCB0byB0aGUgUlNlcSBoZWFkZXIgZmllbGQgaW4gdGhlIGZpcnN0IHJlbGlhYmxlXG4gICAgICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2UgcmVjZWl2ZWQgZm9yIHRoZSBpbml0aWFsIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjIjc2VjdGlvbi00XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJzZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yc2VxID0gcnNlcTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBub3QgaW4gYSBzdGFibGUgc2lnbmFsaW5nIHN0YXRlLCByb2xsYmFjayB0byBwcmlvciBzdGFibGUgc2lnbmFsaW5nIHN0YXRlLlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLnNpZ25hbGluZ1N0YXRlUm9sbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaWduYWxpbmdTdGF0ZSA9PT0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyIHx8XG4gICAgICAgICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID09PSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZVJlbW90ZU9mZmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm9sbGJhY2tPZmZlciAmJiB0aGlzLl9yb2xsYmFja0Fuc3dlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vZmZlciA9IHRoaXMuX3JvbGxiYWNrT2ZmZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5zd2VyID0gdGhpcy5fcm9sbGJhY2tBbnN3ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgc2lnbmFsaW5nIHN0YXRlIG9mIHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBiYXNlIHRoZSB1cGRhdGUgb2ZmIG9mLlxuICAgICAqL1xuICAgIFNlc3Npb25EaWFsb2cucHJvdG90eXBlLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBib2R5ID0gbWVzc2FnZXNfMS5nZXRCb2R5KG1lc3NhZ2UpO1xuICAgICAgICAvLyBObyBib2R5LCBubyBzZXNzaW9uLiBObywgd29tYW4sIG5vIGNyeS5cbiAgICAgICAgaWYgKCFib2R5IHx8IGJvZHkuY29udGVudERpc3Bvc2l0aW9uICE9PSBcInNlc3Npb25cIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3ZlIGdvdCBhbiBleGlzdGluZyBvZmZlciBhbmQgYW5zd2VyIHdoaWNoIHdlIG1heSB3aXNoIHRvIHJvbGxiYWNrIHRvXG4gICAgICAgIGlmICh0aGlzLl9zaWduYWxpbmdTdGF0ZSA9PT0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fcm9sbGJhY2tPZmZlciA9IHRoaXMuX29mZmVyO1xuICAgICAgICAgICAgdGhpcy5fcm9sbGJhY2tBbnN3ZXIgPSB0aGlzLl9hbnN3ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UncmUgaW4gVUFTIHJvbGUsIHJlY2VpdmluZyBpbmNvbWluZyByZXF1ZXN0IHdpdGggc2Vzc2lvbiBkZXNjcmlwdGlvblxuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIG1lc3NhZ2VzXzEuSW5jb21pbmdSZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWxpbmdTdGF0ZSA9IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZmVyID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5zd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzaWduYWxpbmcgc3RhdGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIGluIFVBQyByb2xlLCByZWNlaXZpbmcgaW5jb21pbmcgcmVzcG9uc2Ugd2l0aCBzZXNzaW9uIGRlc2NyaXB0aW9uXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgbWVzc2FnZXNfMS5JbmNvbWluZ1Jlc3BvbnNlTWVzc2FnZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkluaXRpYWw6XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWxpbmdTdGF0ZSA9IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZmVyID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5zd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkNsb3NlZDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzaWduYWxpbmcgc3RhdGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIGluIFVBQyByb2xlLCBzZW5kaW5nIG91dGdvaW5nIHJlcXVlc3Qgd2l0aCBzZXNzaW9uIGRlc2NyaXB0aW9uXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgbWVzc2FnZXNfMS5PdXRnb2luZ1JlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3NpZ25hbGluZ1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmZlciA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fuc3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZUxvY2FsT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVSZW1vdGVPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgc2lnbmFsaW5nIHN0YXRlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSdyZSBpbiBVQVMgcm9sZSwgc2VuZGluZyBvdXRnb2luZyByZXNwb25zZSB3aXRoIHNlc3Npb24gZGVzY3JpcHRpb25cbiAgICAgICAgaWYgKG1lc3NhZ2VzXzEuaXNCb2R5KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3NpZ25hbGluZ1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbDpcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbGluZ1N0YXRlID0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVMb2NhbE9mZmVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmZlciA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fuc3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSGF2ZUxvY2FsT2ZmZXI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFlvdSBjYW5ub3QgbWFrZSBhIG5ldyBvZmZlciB3aGlsZSBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IHRvIGRvIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLkhhdmVSZW1vdGVPZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsaW5nU3RhdGUgPSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuU3RhYmxlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbnN3ZXIgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5DbG9zZWQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgc2lnbmFsaW5nIHN0YXRlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuc3RhcnQyeHhSZXRyYW5zbWlzc2lvblRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsVHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uXzEgPSB0aGlzLmluaXRpYWxUcmFuc2FjdGlvbjtcbiAgICAgICAgICAgIC8vIE9uY2UgdGhlIHJlc3BvbnNlIGhhcyBiZWVuIGNvbnN0cnVjdGVkLCBpdCBpcyBwYXNzZWQgdG8gdGhlIElOVklURVxuICAgICAgICAgICAgLy8gc2VydmVyIHRyYW5zYWN0aW9uLiAgSW4gb3JkZXIgdG8gZW5zdXJlIHJlbGlhYmxlIGVuZC10by1lbmRcbiAgICAgICAgICAgIC8vIHRyYW5zcG9ydCBvZiB0aGUgcmVzcG9uc2UsIGl0IGlzIG5lY2Vzc2FyeSB0byBwZXJpb2RpY2FsbHkgcGFzc1xuICAgICAgICAgICAgLy8gdGhlIHJlc3BvbnNlIGRpcmVjdGx5IHRvIHRoZSB0cmFuc3BvcnQgdW50aWwgdGhlIEFDSyBhcnJpdmVzLiAgVGhlXG4gICAgICAgICAgICAvLyAyeHggcmVzcG9uc2UgaXMgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgd2l0aCBhbiBpbnRlcnZhbCB0aGF0XG4gICAgICAgICAgICAvLyBzdGFydHMgYXQgVDEgc2Vjb25kcyBhbmQgZG91YmxlcyBmb3IgZWFjaCByZXRyYW5zbWlzc2lvbiB1bnRpbCBpdFxuICAgICAgICAgICAgLy8gcmVhY2hlcyBUMiBzZWNvbmRzIChUMSBhbmQgVDIgYXJlIGRlZmluZWQgaW4gU2VjdGlvbiAxNykuXG4gICAgICAgICAgICAvLyBSZXNwb25zZSByZXRyYW5zbWlzc2lvbnMgY2Vhc2Ugd2hlbiBhbiBBQ0sgcmVxdWVzdCBmb3IgdGhlXG4gICAgICAgICAgICAvLyByZXNwb25zZSBpcyByZWNlaXZlZC4gIFRoaXMgaXMgaW5kZXBlbmRlbnQgb2Ygd2hhdGV2ZXIgdHJhbnNwb3J0XG4gICAgICAgICAgICAvLyBwcm90b2NvbHMgYXJlIHVzZWQgdG8gc2VuZCB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMVxuICAgICAgICAgICAgdmFyIHRpbWVvdXRfMSA9IHRpbWVyc18xLlRpbWVycy5UMTtcbiAgICAgICAgICAgIHZhciByZXRyYW5zbWlzc2lvbl8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuYWNrV2FpdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbnZpdGUyeHhUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiTm8gQUNLIGZvciAyeHggcmVzcG9uc2UgcmVjZWl2ZWQsIGF0dGVtcHRpbmcgcmV0cmFuc21pc3Npb25cIik7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMS5yZXRyYW5zbWl0QWNjZXB0ZWRSZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIHRpbWVvdXRfMSA9IE1hdGgubWluKHRpbWVvdXRfMSAqIDIsIHRpbWVyc18xLlRpbWVycy5UMik7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW52aXRlMnh4VGltZXIgPSBzZXRUaW1lb3V0KHJldHJhbnNtaXNzaW9uXzEsIHRpbWVvdXRfMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5pbnZpdGUyeHhUaW1lciA9IHNldFRpbWVvdXQocmV0cmFuc21pc3Npb25fMSwgdGltZW91dF8xKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZXJ2ZXIgcmV0cmFuc21pdHMgdGhlIDJ4eCByZXNwb25zZSBmb3IgNjQqVDEgc2Vjb25kcyB3aXRob3V0XG4gICAgICAgICAgICAvLyByZWNlaXZpbmcgYW4gQUNLLCB0aGUgZGlhbG9nIGlzIGNvbmZpcm1lZCwgYnV0IHRoZSBzZXNzaW9uIFNIT1VMRCBiZVxuICAgICAgICAgICAgLy8gdGVybWluYXRlZC4gIFRoaXMgaXMgYWNjb21wbGlzaGVkIHdpdGggYSBCWUUsIGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDE1LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4zLjEuNFxuICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlZF8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbl8xLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMS5yZW1vdmVMaXN0ZW5lcihcInN0YXRlQ2hhbmdlZFwiLCBzdGF0ZUNoYW5nZWRfMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pbnZpdGUyeHhUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmludml0ZTJ4eFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hY2tXYWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZGVsZWdhdGUgJiYgX3RoaXMuZGVsZWdhdGUub25BY2tUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVsZWdhdGUub25BY2tUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5ieWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cmFuc2FjdGlvbl8xLmFkZExpc3RlbmVyKFwic3RhdGVDaGFuZ2VkXCIsIHN0YXRlQ2hhbmdlZF8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gRklYTUU6IFJlZmFjdG9yXG4gICAgU2Vzc2lvbkRpYWxvZy5wcm90b3R5cGUuc3RhcnRSZUludml0ZTJ4eFJldHJhbnNtaXNzaW9uVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnJlaW52aXRlVXNlckFnZW50U2VydmVyICYmIHRoaXMucmVpbnZpdGVVc2VyQWdlbnRTZXJ2ZXIudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uXzIgPSB0aGlzLnJlaW52aXRlVXNlckFnZW50U2VydmVyLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgLy8gT25jZSB0aGUgcmVzcG9uc2UgaGFzIGJlZW4gY29uc3RydWN0ZWQsIGl0IGlzIHBhc3NlZCB0byB0aGUgSU5WSVRFXG4gICAgICAgICAgICAvLyBzZXJ2ZXIgdHJhbnNhY3Rpb24uICBJbiBvcmRlciB0byBlbnN1cmUgcmVsaWFibGUgZW5kLXRvLWVuZFxuICAgICAgICAgICAgLy8gdHJhbnNwb3J0IG9mIHRoZSByZXNwb25zZSwgaXQgaXMgbmVjZXNzYXJ5IHRvIHBlcmlvZGljYWxseSBwYXNzXG4gICAgICAgICAgICAvLyB0aGUgcmVzcG9uc2UgZGlyZWN0bHkgdG8gdGhlIHRyYW5zcG9ydCB1bnRpbCB0aGUgQUNLIGFycml2ZXMuICBUaGVcbiAgICAgICAgICAgIC8vIDJ4eCByZXNwb25zZSBpcyBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydCB3aXRoIGFuIGludGVydmFsIHRoYXRcbiAgICAgICAgICAgIC8vIHN0YXJ0cyBhdCBUMSBzZWNvbmRzIGFuZCBkb3VibGVzIGZvciBlYWNoIHJldHJhbnNtaXNzaW9uIHVudGlsIGl0XG4gICAgICAgICAgICAvLyByZWFjaGVzIFQyIHNlY29uZHMgKFQxIGFuZCBUMiBhcmUgZGVmaW5lZCBpbiBTZWN0aW9uIDE3KS5cbiAgICAgICAgICAgIC8vIFJlc3BvbnNlIHJldHJhbnNtaXNzaW9ucyBjZWFzZSB3aGVuIGFuIEFDSyByZXF1ZXN0IGZvciB0aGVcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIHJlY2VpdmVkLiAgVGhpcyBpcyBpbmRlcGVuZGVudCBvZiB3aGF0ZXZlciB0cmFuc3BvcnRcbiAgICAgICAgICAgIC8vIHByb3RvY29scyBhcmUgdXNlZCB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC4xXG4gICAgICAgICAgICB2YXIgdGltZW91dF8yID0gdGltZXJzXzEuVGltZXJzLlQxO1xuICAgICAgICAgICAgdmFyIHJldHJhbnNtaXNzaW9uXzIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbnZpdGUyeHhUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiTm8gQUNLIGZvciAyeHggcmVzcG9uc2UgcmVjZWl2ZWQsIGF0dGVtcHRpbmcgcmV0cmFuc21pc3Npb25cIik7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMi5yZXRyYW5zbWl0QWNjZXB0ZWRSZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIHRpbWVvdXRfMiA9IE1hdGgubWluKHRpbWVvdXRfMiAqIDIsIHRpbWVyc18xLlRpbWVycy5UMik7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW52aXRlMnh4VGltZXIgPSBzZXRUaW1lb3V0KHJldHJhbnNtaXNzaW9uXzIsIHRpbWVvdXRfMik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5pbnZpdGUyeHhUaW1lciA9IHNldFRpbWVvdXQocmV0cmFuc21pc3Npb25fMiwgdGltZW91dF8yKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZXJ2ZXIgcmV0cmFuc21pdHMgdGhlIDJ4eCByZXNwb25zZSBmb3IgNjQqVDEgc2Vjb25kcyB3aXRob3V0XG4gICAgICAgICAgICAvLyByZWNlaXZpbmcgYW4gQUNLLCB0aGUgZGlhbG9nIGlzIGNvbmZpcm1lZCwgYnV0IHRoZSBzZXNzaW9uIFNIT1VMRCBiZVxuICAgICAgICAgICAgLy8gdGVybWluYXRlZC4gIFRoaXMgaXMgYWNjb21wbGlzaGVkIHdpdGggYSBCWUUsIGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDE1LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4zLjEuNFxuICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlZF8yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbl8yLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fMi5yZW1vdmVMaXN0ZW5lcihcInN0YXRlQ2hhbmdlZFwiLCBzdGF0ZUNoYW5nZWRfMik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pbnZpdGUyeHhUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmludml0ZTJ4eFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWludml0ZVVzZXJBZ2VudFNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFRPRE86IFdoYXQgdG8gZG8gaGVyZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uXzIuYWRkTGlzdGVuZXIoXCJzdGF0ZUNoYW5nZWRcIiwgc3RhdGVDaGFuZ2VkXzIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2Vzc2lvbkRpYWxvZztcbn0oZGlhbG9nXzEuRGlhbG9nKSk7XG5leHBvcnRzLlNlc3Npb25EaWFsb2cgPSBTZXNzaW9uRGlhbG9nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFNlc3Npb24gc3RhdGUuXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xM1xuICogQHB1YmxpY1xuICovXG52YXIgU2Vzc2lvblN0YXRlO1xuKGZ1bmN0aW9uIChTZXNzaW9uU3RhdGUpIHtcbiAgICBTZXNzaW9uU3RhdGVbXCJJbml0aWFsXCJdID0gXCJJbml0aWFsXCI7XG4gICAgU2Vzc2lvblN0YXRlW1wiRWFybHlcIl0gPSBcIkVhcmx5XCI7XG4gICAgU2Vzc2lvblN0YXRlW1wiQWNrV2FpdFwiXSA9IFwiQWNrV2FpdFwiO1xuICAgIFNlc3Npb25TdGF0ZVtcIkNvbmZpcm1lZFwiXSA9IFwiQ29uZmlybWVkXCI7XG4gICAgU2Vzc2lvblN0YXRlW1wiVGVybWluYXRlZFwiXSA9IFwiVGVybWluYXRlZFwiO1xufSkoU2Vzc2lvblN0YXRlID0gZXhwb3J0cy5TZXNzaW9uU3RhdGUgfHwgKGV4cG9ydHMuU2Vzc2lvblN0YXRlID0ge30pKTtcbi8qKlxuICogT2ZmZXIvQW5zd2VyIHN0YXRlLlxuICogQHJlbWFya3NcbiAqIGBgYHR4dFxuICogICAgICAgICBPZmZlciAgICAgICAgICAgICAgICBBbnN3ZXIgICAgICAgICAgICAgUkZDICAgIEluaSBFc3QgRWFybHlcbiAqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgMS4gSU5WSVRFIFJlcS4gICAgICAgICAgMnh4IElOVklURSBSZXNwLiAgICAgUkZDIDMyNjEgIFkgICBZICAgIE5cbiAqICAyLiAyeHggSU5WSVRFIFJlc3AuICAgICBBQ0sgUmVxLiAgICAgICAgICAgICBSRkMgMzI2MSAgWSAgIFkgICAgTlxuICogIDMuIElOVklURSBSZXEuICAgICAgICAgIDF4eC1yZWwgSU5WSVRFIFJlc3AuIFJGQyAzMjYyICBZICAgWSAgICBOXG4gKiAgNC4gMXh4LXJlbCBJTlZJVEUgUmVzcC4gUFJBQ0sgUmVxLiAgICAgICAgICAgUkZDIDMyNjIgIFkgICBZICAgIE5cbiAqICA1LiBQUkFDSyBSZXEuICAgICAgICAgICAyMDAgUFJBQ0sgUmVzcC4gICAgICBSRkMgMzI2MiAgTiAgIFkgICAgWVxuICogIDYuIFVQREFURSBSZXEuICAgICAgICAgIDJ4eCBVUERBVEUgUmVzcC4gICAgIFJGQyAzMzExICBOICAgWSAgICBZXG4gKlxuICogICAgICAgVGFibGUgMTogU3VtbWFyeSBvZiBTSVAgVXNhZ2Ugb2YgdGhlIE9mZmVyL0Fuc3dlciBNb2RlbFxuICogYGBgXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjMzNyNzZWN0aW9uLTIuMlxuICogQHB1YmxpY1xuICovXG52YXIgU2lnbmFsaW5nU3RhdGU7XG4oZnVuY3Rpb24gKFNpZ25hbGluZ1N0YXRlKSB7XG4gICAgU2lnbmFsaW5nU3RhdGVbXCJJbml0aWFsXCJdID0gXCJJbml0aWFsXCI7XG4gICAgU2lnbmFsaW5nU3RhdGVbXCJIYXZlTG9jYWxPZmZlclwiXSA9IFwiSGF2ZUxvY2FsT2ZmZXJcIjtcbiAgICBTaWduYWxpbmdTdGF0ZVtcIkhhdmVSZW1vdGVPZmZlclwiXSA9IFwiSGF2ZVJlbW90ZU9mZmVyXCI7XG4gICAgU2lnbmFsaW5nU3RhdGVbXCJTdGFibGVcIl0gPSBcIlN0YWJsZVwiO1xuICAgIFNpZ25hbGluZ1N0YXRlW1wiQ2xvc2VkXCJdID0gXCJDbG9zZWRcIjtcbn0pKFNpZ25hbGluZ1N0YXRlID0gZXhwb3J0cy5TaWduYWxpbmdTdGF0ZSB8fCAoZXhwb3J0cy5TaWduYWxpbmdTdGF0ZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV4Y2VwdGlvbl8xID0gcmVxdWlyZShcIi4vZXhjZXB0aW9uXCIpO1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCB0aGUgb3BlcmF0aW9uIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQgZ2l2ZW4gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24gc3RhdGUuXG4gKiBAcHVibGljXG4gKi9cbnZhciBUcmFuc2FjdGlvblN0YXRlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVHJhbnNhY3Rpb25TdGF0ZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uU3RhdGVFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID8gbWVzc2FnZSA6IFwiVHJhbnNhY3Rpb24gc3RhdGUgZXJyb3IuXCIpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBUcmFuc2FjdGlvblN0YXRlRXJyb3I7XG59KGV4Y2VwdGlvbl8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5UcmFuc2FjdGlvblN0YXRlRXJyb3IgPSBUcmFuc2FjdGlvblN0YXRlRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGV4Y2VwdGlvbl8xID0gcmVxdWlyZShcIi4vZXhjZXB0aW9uXCIpO1xuLyoqXG4gKiBUcmFuc3BvcnQgZXJyb3IuXG4gKiBAcHVibGljXG4gKi9cbnZhciBUcmFuc3BvcnRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUcmFuc3BvcnRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUcmFuc3BvcnRFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID8gbWVzc2FnZSA6IFwiVW5zcGVjaWZpZWQgdHJhbnNwb3J0IGVycm9yLlwiKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVHJhbnNwb3J0RXJyb3I7XG59KGV4Y2VwdGlvbl8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5UcmFuc3BvcnRFcnJvciA9IFRyYW5zcG9ydEVycm9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRpbWVyc18xID0gcmVxdWlyZShcIi4uL3RpbWVyc1wiKTtcbnZhciBzZXJ2ZXJfdHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3NlcnZlci10cmFuc2FjdGlvblwiKTtcbnZhciB0cmFuc2FjdGlvbl9zdGF0ZV8xID0gcmVxdWlyZShcIi4vdHJhbnNhY3Rpb24tc3RhdGVcIik7XG4vKipcbiAqIElOVklURSBTZXJ2ZXIgVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjFcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEludml0ZVNlcnZlclRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEludml0ZVNlcnZlclRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yLlxuICAgICAqIFVwb24gY29uc3RydWN0aW9uLCBhIFwiMTAwIFRyeWluZ1wiIHJlcGx5IHdpbGwgYmUgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBBZnRlciBjb25zdHJ1Y3Rpb24gdGhlIHRyYW5zYWN0aW9uIHdpbGwgYmUgaW4gdGhlIFwicHJvY2VlZGluZ1wiIHN0YXRlIGFuZCB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiBgaWRgIHdpbGwgZXF1YWwgdGhlIGJyYW5jaCBwYXJhbWV0ZXIgc2V0IGluIHRoZSBWaWEgaGVhZGVyIG9mIHRoZSBpbmNvbWluZyByZXF1ZXN0LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBJbmNvbWluZyBJTlZJVEUgcmVxdWVzdCBmcm9tIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QsIHRyYW5zcG9ydCwgdXNlciwgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcsIFwic2lwLnRyYW5zYWN0aW9uLmlzdFwiKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BQcm9ncmVzc0V4dGVuc2lvblRpbWVyKCk7XG4gICAgICAgIGlmICh0aGlzLkgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkgpO1xuICAgICAgICAgICAgdGhpcy5IID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkkpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkkpO1xuICAgICAgICAgICAgdGhpcy5JID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkwpO1xuICAgICAgICAgICAgdGhpcy5MID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZSwgXCJraW5kXCIsIHtcbiAgICAgICAgLyoqIFRyYW5zYWN0aW9uIGtpbmQuIERlcHJlY2F0ZWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiaXN0XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgcmVxdWVzdHMgZnJvbSB0cmFuc3BvcnQgbWF0Y2hpbmcgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIFJlcXVlc3QgbWF0Y2hpbmcgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgLy8gSWYgYSByZXF1ZXN0IHJldHJhbnNtaXNzaW9uIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZSwgdGhlIG1vc3RcbiAgICAgICAgICAgICAgICAvLyByZWNlbnQgcHJvdmlzaW9uYWwgcmVzcG9uc2UgdGhhdCB3YXMgcmVjZWl2ZWQgZnJvbSB0aGUgVFUgTVVTVCBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNwb3J0IGxheWVyIGZvciByZXRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMVxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0UHJvdmlzaW9uYWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHRoaXMubGFzdFByb3Zpc2lvbmFsUmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIHJldHJhbnNtaXNzaW9uIG9mIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZDpcbiAgICAgICAgICAgICAgICAvLyBXaGlsZSBpbiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlLCBhbnkgcmV0cmFuc21pc3Npb25zIG9mIHRoZSBJTlZJVEVcbiAgICAgICAgICAgICAgICAvLyByZWNlaXZlZCB3aWxsIG1hdGNoIHRoaXMgdHJhbnNhY3Rpb24gc3RhdGUgbWFjaGluZSBhbmQgd2lsbCBiZVxuICAgICAgICAgICAgICAgIC8vIGFic29yYmVkIGJ5IHRoZSBtYWNoaW5lIHdpdGhvdXQgY2hhbmdpbmcgaXRzIHN0YXRlLiBUaGVzZVxuICAgICAgICAgICAgICAgIC8vIHJldHJhbnNtaXNzaW9ucyBhcmUgbm90IHBhc3NlZCBvbnRvIHRoZSBUVS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTcuMVxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkOlxuICAgICAgICAgICAgICAgIC8vIEZ1cnRoZXJtb3JlLCB3aGlsZSBpbiB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSwgaWYgYSByZXF1ZXN0IHJldHJhbnNtaXNzaW9uIGlzXG4gICAgICAgICAgICAgICAgLy8gcmVjZWl2ZWQsIHRoZSBzZXJ2ZXIgU0hPVUxEIHBhc3MgdGhlIHJlc3BvbnNlIHRvIHRoZSB0cmFuc3BvcnQgZm9yIHJldHJhbnNtaXNzaW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXN0RmluYWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGFzdCBmaW5hbCByZXNwb25zZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZCh0aGlzLmxhc3RGaW5hbFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIHJldHJhbnNtaXNzaW9uIG9mIGZpbmFsIHJlc3BvbnNlLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYW4gQUNLIGlzIHJlY2VpdmVkIHdoaWxlIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gaXMgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBNVVNUIHRyYW5zaXRpb24gdG8gdGhlIFwiQ29uZmlybWVkXCIgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjFcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IG1lc3NhZ2VzXzEuQy5BQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db25maXJtZWQ6XG4gICAgICAgICAgICAgICAgLy8gVGhlIHB1cnBvc2Ugb2YgdGhlIFwiQ29uZmlybWVkXCIgc3RhdGUgaXMgdG8gYWJzb3JiIGFueSBhZGRpdGlvbmFsIEFDSyBtZXNzYWdlcyB0aGF0IGFycml2ZSxcbiAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyZWQgZnJvbSByZXRyYW5zbWlzc2lvbnMgb2YgdGhlIGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFIHx8IHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkOlxuICAgICAgICAgICAgICAgIC8vIEZvciBnb29kIG1lYXN1cmUgYWJzb3JiIGFueSBhZGRpdGlvbmFsIG1lc3NhZ2VzIHRoYXQgYXJyaXZlIChzaG91bGQgbm90IGhhcHBlbikuXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFIHx8IHJlcXVlc3QubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgXCIgKyB0aGlzLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgcmVxdWVzdC5tZXRob2QgKyBcIiByZXF1ZXN0IHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLlwiO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIHJlc3BvbnNlcyBmcm9tIFRVIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gU3RhdHVzIGNvZGUgb2YgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHJlc3BvbnNlIC0gUmVzcG9uc2UuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChzdGF0dXNDb2RlLCByZXNwb25zZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXR1cyBjb2RlIFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nOlxuICAgICAgICAgICAgICAgIC8vIFRoZSBUVSBwYXNzZXMgYW55IG51bWJlciBvZiBwcm92aXNpb25hbCByZXNwb25zZXMgdG8gdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uLiBTbyBsb25nIGFzIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gaXMgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gXCJQcm9jZWVkaW5nXCIgc3RhdGUsIGVhY2ggb2YgdGhlc2UgTVVTVCBiZSBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgICAgIC8vIGxheWVyIGZvciB0cmFuc21pc3Npb24uIFRoZXkgYXJlIG5vdCBzZW50IHJlbGlhYmx5IGJ5IHRoZVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIGxheWVyICh0aGV5IGFyZSBub3QgcmV0cmFuc21pdHRlZCBieSBpdCkgYW5kIGRvIG5vdCBjYXVzZVxuICAgICAgICAgICAgICAgIC8vIGEgY2hhbmdlIGluIHRoZSBzdGF0ZSBvZiB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFByb3Zpc2lvbmFsUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgdGhlIHByb2dyZXNzIGV4dGVuc2lvbiB0aW1lciBvbmx5IGZvciBhIG5vbi0xMDAgcHJvdmlzaW9uYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UHJvZ3Jlc3NFeHRlbnNpb25UaW1lcigpOyAvLyBGSVhNRTogcmVtb3ZlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIDF4eCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmLCB3aGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIHRoZSBUVSBwYXNzZXMgYSAyeHggcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgcGFzcyB0aGlzXG4gICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLiBJdCBpcyBub3RcbiAgICAgICAgICAgICAgICAvLyByZXRyYW5zbWl0dGVkIGJ5IHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb247IHJldHJhbnNtaXNzaW9ucyBvZiAyeHhcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZXMgYXJlIGhhbmRsZWQgYnkgdGhlIFRVLiBUaGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgdGhlblxuICAgICAgICAgICAgICAgIC8vIHRyYW5zaXRpb24gdG8gdGhlIFwiQWNjZXB0ZWRcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguNVxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDIwMCAmJiBzdGF0dXNDb2RlIDw9IDI5OSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaW5hbFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChyZXNwb25zZSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCAyeHggcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXaGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIGlmIHRoZSBUVSBwYXNzZXMgYSByZXNwb25zZSB3aXRoXG4gICAgICAgICAgICAgICAgLy8gc3RhdHVzIGNvZGUgZnJvbSAzMDAgdG8gNjk5IHRvIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbiwgYW5kIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgIC8vIG1hY2hpbmUgTVVTVCBlbnRlciB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMVxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDMwMCAmJiBzdGF0dXNDb2RlIDw9IDY5OSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaW5hbFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQocmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgbm9uLTJ4eCBmaW5hbCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQWNjZXB0ZWQ6XG4gICAgICAgICAgICAgICAgLy8gV2hpbGUgaW4gdGhlIFwiQWNjZXB0ZWRcIiBzdGF0ZSwgaWYgdGhlIFRVIHBhc3NlcyBhIDJ4eCByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgcGFzcyB0aGUgcmVzcG9uc2UgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC43XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gMjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChyZXNwb25zZSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCAyeHggcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgXCIgKyB0aGlzLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIGZyb20gVFUgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIuXCI7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyYW5zbWl0IHRoZSBsYXN0IDJ4eCByZXNwb25zZS4gVGhpcyBpcyBhIG5vb3AgaWYgbm90IGluIHRoZSBcImFjY2VwdGVkXCIgc3RhdGUuXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJldHJhbnNtaXRBY2NlcHRlZFJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkICYmIHRoaXMubGFzdEZpbmFsUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZCh0aGlzLmxhc3RGaW5hbFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCAyeHggcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpcnN0LCB0aGUgcHJvY2VkdXJlcyBpbiBbNF0gYXJlIGZvbGxvd2VkLCB3aGljaCBhdHRlbXB0IHRvIGRlbGl2ZXIgdGhlIHJlc3BvbnNlIHRvIGEgYmFja3VwLlxuICAgICAqIElmIHRob3NlIHNob3VsZCBhbGwgZmFpbCwgYmFzZWQgb24gdGhlIGRlZmluaXRpb24gb2YgZmFpbHVyZSBpbiBbNF0sIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gU0hPVUxEXG4gICAgICogaW5mb3JtIHRoZSBUVSB0aGF0IGEgZmFpbHVyZSBoYXMgb2NjdXJyZWQsIGFuZCBNVVNUIHJlbWFpbiBpbiB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguOFxuICAgICAqL1xuICAgIEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZXIub25UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogRm9yIGxvZ2dpbmcuICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnR5cGVUb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvblwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBhIHN0YXRlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIC0gTmV3IHN0YXRlLlxuICAgICAqL1xuICAgIEludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5zdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gQXNzZXJ0IHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB2YXIgaW52YWxpZFN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBmcm9tIFwiICsgX3RoaXMuc3RhdGUgKyBcIiB0byBcIiArIG5ld1N0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZDpcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT24gYW55IHN0YXRlIHRyYW5zaXRpb24sIHN0b3AgcmVzZW5kaW5nIHByb3Zpc2lvbmFsIHJlc3BvbnNlc1xuICAgICAgICB0aGlzLnN0b3BQcm9ncmVzc0V4dGVuc2lvblRpbWVyKCk7XG4gICAgICAgIC8vIFRoZSBwdXJwb3NlIG9mIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUgaXMgdG8gYWJzb3JiIHJldHJhbnNtaXNzaW9ucyBvZiBhbiBhY2NlcHRlZCBJTlZJVEUgcmVxdWVzdC5cbiAgICAgICAgLy8gQW55IHN1Y2ggcmV0cmFuc21pc3Npb25zIGFyZSBhYnNvcmJlZCBlbnRpcmVseSB3aXRoaW4gdGhlIHNlcnZlciB0cmFuc2FjdGlvbi5cbiAgICAgICAgLy8gVGhleSBhcmUgbm90IHBhc3NlZCB1cCB0byB0aGUgVFUgc2luY2UgYW55IGRvd25zdHJlYW0gVUFTIGNvcmVzIHRoYXQgYWNjZXB0ZWQgdGhlIHJlcXVlc3QgaGF2ZVxuICAgICAgICAvLyB0YWtlbiByZXNwb25zaWJpbGl0eSBmb3IgcmVsaWFiaWxpdHkgYW5kIHdpbGwgYWxyZWFkeSByZXRyYW5zbWl0IHRoZWlyIDJ4eCByZXNwb25zZXMgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguN1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5BY2NlcHRlZCkge1xuICAgICAgICAgICAgdGhpcy5MID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9MKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9MKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlIGlzIGVudGVyZWQsIHRpbWVyIEggTVVTVCBiZSBzZXQgdG8gZmlyZSBpbiA2NCpUMSBzZWNvbmRzIGZvciBhbGwgdHJhbnNwb3J0cy5cbiAgICAgICAgLy8gVGltZXIgSCBkZXRlcm1pbmVzIHdoZW4gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBhYmFuZG9ucyByZXRyYW5zbWl0dGluZyB0aGUgcmVzcG9uc2UuXG4gICAgICAgIC8vIElmIGFuIEFDSyBpcyByZWNlaXZlZCB3aGlsZSB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIGlzIGluIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlLFxuICAgICAgICAvLyB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJDb25maXJtZWRcIiBzdGF0ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjFcbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogTWlzc2luZyB0aW1lciBHIGZvciB1bnJlbGlhYmxlIHRyYW5zcG9ydHMuXG4gICAgICAgICAgICB0aGlzLkggPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnRpbWVyX0goKTsgfSwgdGltZXJzXzEuVGltZXJzLlRJTUVSX0gpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBwdXJwb3NlIG9mIHRoZSBcIkNvbmZpcm1lZFwiIHN0YXRlIGlzIHRvIGFic29yYiBhbnkgYWRkaXRpb25hbCBBQ0sgbWVzc2FnZXMgdGhhdCBhcnJpdmUsXG4gICAgICAgIC8vIHRyaWdnZXJlZCBmcm9tIHJldHJhbnNtaXNzaW9ucyBvZiB0aGUgZmluYWwgcmVzcG9uc2UuIFdoZW4gdGhpcyBzdGF0ZSBpcyBlbnRlcmVkLCB0aW1lciBJXG4gICAgICAgIC8vIGlzIHNldCB0byBmaXJlIGluIFQ0IHNlY29uZHMgZm9yIHVucmVsaWFibGUgdHJhbnNwb3J0cywgYW5kIHplcm8gc2Vjb25kcyBmb3IgcmVsaWFibGVcbiAgICAgICAgLy8gdHJhbnNwb3J0cy4gT25jZSB0aW1lciBJIGZpcmVzLCB0aGUgc2VydmVyIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbmZpcm1lZCkge1xuICAgICAgICAgICAgLy8gRklYTUU6IFRoaXMgdGltZXIgaXMgbm90IGdldHRpbmcgc2V0IGNvcnJlY3RseSBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzLlxuICAgICAgICAgICAgdGhpcy5JID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9JKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9JKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmNlIHRoZSB0cmFuc2FjdGlvbiBpcyBpbiB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUsIGl0IE1VU1QgYmUgZGVzdHJveWVkIGltbWVkaWF0ZWx5LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguN1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUU6IFVBUyBQcm92aXNpb25hbCBSZXRyYW5zbWlzc2lvbiBUaW1lci4gU2VlIFJGQyAzMjYxIFNlY3Rpb24gMTMuMy4xLjFcbiAgICAgKiBUaGlzIGlzIGluIHRoZSB3cm9uZyBwbGFjZS4gVGhpcyBpcyBub3QgYSB0cmFuc2FjdGlvbiBsZXZlbCB0aGluZy4gSXQncyBhIFVBUyBsZXZlbCB0aGluZy5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUuc3RhcnRQcm9ncmVzc0V4dGVuc2lvblRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTdGFydCB0aGUgcHJvZ3Jlc3MgZXh0ZW5zaW9uIHRpbWVyIG9ubHkgZm9yIHRoZSBmaXJzdCBub24tMTAwIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlxuICAgICAgICBpZiAodGhpcy5wcm9ncmVzc0V4dGVuc2lvblRpbWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NFeHRlbnNpb25UaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZGVidWcoXCJQcm9ncmVzcyBleHRlbnNpb24gdGltZXIgZXhwaXJlZCBmb3IgSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiBcIiArIF90aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMubGFzdFByb3Zpc2lvbmFsUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGFzdCBwcm92aXNpb25hbCByZXNwb25zZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kKF90aGlzLmxhc3RQcm92aXNpb25hbFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgcmV0cmFuc21pc3Npb24gb2YgcHJvdmlzaW9uYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgdGltZXJzXzEuVGltZXJzLlBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUU6IFVBUyBQcm92aXNpb25hbCBSZXRyYW5zbWlzc2lvbiBUaW1lciBpZC4gU2VlIFJGQyAzMjYxIFNlY3Rpb24gMTMuMy4xLjFcbiAgICAgKiBUaGlzIGlzIGluIHRoZSB3cm9uZyBwbGFjZS4gVGhpcyBpcyBub3QgYSB0cmFuc2FjdGlvbiBsZXZlbCB0aGluZy4gSXQncyBhIFVBUyBsZXZlbCB0aGluZy5cbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUuc3RvcFByb2dyZXNzRXh0ZW5zaW9uVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzRXh0ZW5zaW9uVGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnByb2dyZXNzRXh0ZW5zaW9uVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0V4dGVuc2lvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsIGlmIHRoZSBUVSBwYXNzZXMgYSByZXNwb25zZSB3aXRoIHN0YXR1cyBjb2RlXG4gICAgICogZnJvbSAzMDAgdG8gNjk5IHRvIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGVcbiAgICAgKiB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbiwgYW5kIHRoZSBzdGF0ZSBtYWNoaW5lIE1VU1QgZW50ZXIgdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUuXG4gICAgICogRm9yIHVucmVsaWFibGUgdHJhbnNwb3J0cywgdGltZXIgRyBpcyBzZXQgdG8gZmlyZSBpbiBUMSBzZWNvbmRzLCBhbmQgaXMgbm90IHNldCB0byBmaXJlIGZvclxuICAgICAqIHJlbGlhYmxlIHRyYW5zcG9ydHMuIElmIHRpbWVyIEcgZmlyZXMsIHRoZSByZXNwb25zZSBpcyBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBvbmNlXG4gICAgICogbW9yZSBmb3IgcmV0cmFuc21pc3Npb24sIGFuZCB0aW1lciBHIGlzIHNldCB0byBmaXJlIGluIE1JTigyKlQxLCBUMikgc2Vjb25kcy4gRnJvbSB0aGVuIG9uLFxuICAgICAqIHdoZW4gdGltZXIgRyBmaXJlcywgdGhlIHJlc3BvbnNlIGlzIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGFnYWluIGZvciB0cmFuc21pc3Npb24sIGFuZFxuICAgICAqIHRpbWVyIEcgaXMgcmVzZXQgd2l0aCBhIHZhbHVlIHRoYXQgZG91YmxlcywgdW5sZXNzIHRoYXQgdmFsdWUgZXhjZWVkcyBUMiwgaW4gd2hpY2ggY2FzZVxuICAgICAqIGl0IGlzIHJlc2V0IHdpdGggdGhlIHZhbHVlIG9mIFQyLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRpbWVyIEggZmlyZXMgd2hpbGUgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsIGl0IGltcGxpZXMgdGhhdCB0aGUgQUNLIHdhcyBuZXZlciByZWNlaXZlZC5cbiAgICAgKiBJbiB0aGlzIGNhc2UsIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZSwgYW5kIE1VU1RcbiAgICAgKiBpbmRpY2F0ZSB0byB0aGUgVFUgdGhhdCBhIHRyYW5zYWN0aW9uIGZhaWx1cmUgaGFzIG9jY3VycmVkLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgSCBleHBpcmVkIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uIFwiICsgdGhpcy5pZCArIFwiLlwiKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBQ0sgdG8gbmVnYXRpdmUgZmluYWwgcmVzcG9uc2Ugd2FzIG5ldmVyIHJlY2VpdmVkLCB0ZXJtaW5hdGluZyB0cmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9uY2UgdGltZXIgSSBmaXJlcywgdGhlIHNlcnZlciBNVVNUIHRyYW5zaXRpb24gdG8gdGhlIFwiVGVybWluYXRlZFwiIHN0YXRlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4xXG4gICAgICovXG4gICAgSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgSSBleHBpcmVkIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uIFwiICsgdGhpcy5pZCArIFwiLlwiKTtcbiAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiBUaW1lciBMIGZpcmVzIGFuZCB0aGUgc3RhdGUgbWFjaGluZSBpcyBpbiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlLCB0aGUgbWFjaGluZSBNVVNUXG4gICAgICogdHJhbnNpdGlvbiB0byB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuIE9uY2UgdGhlIHRyYW5zYWN0aW9uIGlzIGluIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZSxcbiAgICAgKiBpdCBNVVNUIGJlIGRlc3Ryb3llZCBpbW1lZGlhdGVseS4gVGltZXIgTCByZWZsZWN0cyB0aGUgYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlclxuICAgICAqIHRyYW5zYWN0aW9uIGNvdWxkIHJlY2VpdmUgMnh4IHJlc3BvbnNlcyBmb3IgcmV0cmFuc21pc3Npb24gZnJvbSB0aGVcbiAgICAgKiBUVSB3aGlsZSBpdCBpcyB3YWl0aW5nIHRvIHJlY2VpdmUgYW4gQUNLLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tNy4xXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzYwMjYjc2VjdGlvbi04LjdcbiAgICAgKi9cbiAgICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUudGltZXJfTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJUaW1lciBMIGV4cGlyZWQgZm9yIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24gXCIgKyB0aGlzLmlkICsgXCIuXCIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbn0oc2VydmVyX3RyYW5zYWN0aW9uXzEuU2VydmVyVHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24gPSBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdGltZXJzXzEgPSByZXF1aXJlKFwiLi4vdGltZXJzXCIpO1xudmFyIGNsaWVudF90cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vY2xpZW50LXRyYW5zYWN0aW9uXCIpO1xudmFyIHRyYW5zYWN0aW9uX3N0YXRlXzEgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvbi1zdGF0ZVwiKTtcbi8qKlxuICogTm9uLUlOVklURSBDbGllbnQgVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogTm9uLUlOVklURSB0cmFuc2FjdGlvbnMgZG8gbm90IG1ha2UgdXNlIG9mIEFDSy5cbiAqIFRoZXkgYXJlIHNpbXBsZSByZXF1ZXN0LXJlc3BvbnNlIGludGVyYWN0aW9ucy5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4yXG4gKiBAcHVibGljXG4gKi9cbnZhciBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIFVwb24gY29uc3RydWN0aW9uLCB0aGUgb3V0Z29pbmcgcmVxdWVzdCdzIFZpYSBoZWFkZXIgaXMgdXBkYXRlZCBieSBjYWxsaW5nIGBzZXRWaWFIZWFkZXJgLlxuICAgICAqIFRoZW4gYHRvU3RyaW5nYCBpcyBjYWxsZWQgb24gdGhlIG91dGdvaW5nIHJlcXVlc3QgYW5kIHRoZSBtZXNzYWdlIGlzIHNlbnQgdmlhIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQWZ0ZXIgY29uc3RydWN0aW9uIHRoZSB0cmFuc2FjdGlvbiB3aWxsIGJlIGluIHRoZSBcImNhbGxpbmdcIiBzdGF0ZSBhbmQgdGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogd2lsbCBlcXVhbCB0aGUgYnJhbmNoIHBhcmFtZXRlciBzZXQgaW4gdGhlIFZpYSBoZWFkZXIgb2YgdGhlIG91dGdvaW5nIHJlcXVlc3QuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSBvdXRnb2luZyBOb24tSU5WSVRFIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdCwgdHJhbnNwb3J0LCB1c2VyLCB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nLCBcInNpcC50cmFuc2FjdGlvbi5uaWN0XCIpIHx8IHRoaXM7XG4gICAgICAgIC8vIEZJWE1FOiBUaW1lciBFIGZvciB1bnJlbGlhYmxlIHRyYW5zcG9ydHMgbm90IGltcGxlbWVudGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgXCJUcnlpbmdcIiBzdGF0ZSBpcyBlbnRlcmVkIHdoZW4gdGhlIFRVIGluaXRpYXRlcyBhIG5ldyBjbGllbnRcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gd2l0aCBhIHJlcXVlc3QuICBXaGVuIGVudGVyaW5nIHRoaXMgc3RhdGUsIHRoZSBjbGllbnRcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gU0hPVUxEIHNldCB0aW1lciBGIHRvIGZpcmUgaW4gNjQqVDEgc2Vjb25kcy4gVGhlIHJlcXVlc3RcbiAgICAgICAgLy8gTVVTVCBiZSBwYXNzZWQgdG8gdGhlIHRyYW5zcG9ydCBsYXllciBmb3IgdHJhbnNtaXNzaW9uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgIF90aGlzLkYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnRpbWVyX0YoKTsgfSwgdGltZXJzXzEuVGltZXJzLlRJTUVSX0YpO1xuICAgICAgICBfdGhpcy5zZW5kKHJlcXVlc3QudG9TdHJpbmcoKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCBpbml0aWFsIG91dGdvaW5nIHJlcXVlc3QuXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqL1xuICAgIE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5GKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5GKTtcbiAgICAgICAgICAgIHRoaXMuRiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5LKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5LKTtcbiAgICAgICAgICAgIHRoaXMuSyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwia2luZFwiLCB7XG4gICAgICAgIC8qKiBUcmFuc2FjdGlvbiBraW5kLiBEZXByZWNhdGVkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm5pY3RcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgaW5jb21pbmcgcmVzcG9uc2VzIGZyb20gdGhlIHRyYW5zcG9ydCB3aGljaCBtYXRjaCB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSBpbmNvbWluZyByZXNwb25zZS5cbiAgICAgKi9cbiAgICBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKCFzdGF0dXNDb2RlIHx8IHN0YXR1c0NvZGUgPCAxMDAgfHwgc3RhdHVzQ29kZSA+IDY5OSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZSBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIC8vIElmIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UgaXMgcmVjZWl2ZWQgd2hpbGUgaW4gdGhlIFwiVHJ5aW5nXCIgc3RhdGUsIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSBUVSwgYW5kIHRoZW4gdGhlIGNsaWVudCB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgIC8vIFNIT1VMRCBtb3ZlIHRvIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBmaW5hbCByZXNwb25zZSAoc3RhdHVzIGNvZGVzIDIwMC02OTkpIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIFwiVHJ5aW5nXCIgc3RhdGUsIHRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGUgVFUsIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBjbGllbnQgdHJhbnNhY3Rpb24gTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4yLjJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSAyMDAgJiYgc3RhdHVzQ29kZSA8PSA2OTkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyYW5zaXRpb24odHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID09PSA0MDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25SZXF1ZXN0VGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZzpcbiAgICAgICAgICAgICAgICAvLyBJZiBhIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZSxcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVzcG9uc2UgTVVTVCBiZSBwYXNzZWQgdG8gdGhlIFRVLiAoRnJvbSBGaWd1cmUgNilcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMTAwICYmIHN0YXR1c0NvZGUgPD0gMTk5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZXIucmVjZWl2ZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBmaW5hbCByZXNwb25zZSAoc3RhdHVzIGNvZGVzIDIwMC02OTkpIGlzIHJlY2VpdmVkIHdoaWxlIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIFwiUHJvY2VlZGluZ1wiIHN0YXRlLCB0aGUgcmVzcG9uc2UgTVVTVCBiZSBwYXNzZWQgdG8gdGhlIFRVLCBhbmQgdGhlXG4gICAgICAgICAgICAgICAgLy8gY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PT0gNDA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICAvLyBUaGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSBleGlzdHMgdG8gYnVmZmVyIGFueSBhZGRpdGlvbmFsIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gcmV0cmFuc21pc3Npb25zIHRoYXQgbWF5IGJlIHJlY2VpdmVkICh3aGljaCBpcyB3aHkgdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIHJlbWFpbnMgdGhlcmUgb25seSBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzKS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICAvLyBGb3IgZ29vZCBtZWFzdXJlIGp1c3QgYWJzb3JiIGFkZGl0aW9uYWwgcmVzcG9uc2UgcmV0cmFuc21pc3Npb25zLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJOb24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSArIFwiLlwiO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHRyYW5zYWN0aW9uIFNIT1VMRCBpbmZvcm0gdGhlIFRVIHRoYXQgYSB0cmFuc3BvcnQgZmFpbHVyZSBoYXMgb2NjdXJyZWQsXG4gICAgICogYW5kIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIHRyYW5zaXRpb24gZGlyZWN0bHkgdG8gdGhlIFwiVGVybWluYXRlZFwiIHN0YXRlLlxuICAgICAqIFRoZSBUVSB3aWxsIGhhbmRsZSB0aGUgZmFpbCBvdmVyIG1lY2hhbmlzbXMgZGVzY3JpYmVkIGluIFs0XS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuNFxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRyYW5zcG9ydCBlcnJvclxuICAgICAqL1xuICAgIE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLnVzZXIub25UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkLCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKiBGb3IgbG9nZ2luZy4gKi9cbiAgICBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudHlwZVRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJub24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvblwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBhIHN0YXRlIHRyYW5zaXRpb24uXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIC0gTmV3IHN0YXRlLlxuICAgICAqL1xuICAgIE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAobmV3U3RhdGUsIGR1ZVRvVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGR1ZVRvVHJhbnNwb3J0RXJyb3IgPT09IHZvaWQgMCkgeyBkdWVUb1RyYW5zcG9ydEVycm9yID0gZmFsc2U7IH1cbiAgICAgICAgLy8gQXNzZXJ0IHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB2YXIgaW52YWxpZFN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBmcm9tIFwiICsgX3RoaXMuc3RhdGUgKyBcIiB0byBcIiArIG5ld1N0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZHVlVG9UcmFuc3BvcnRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25jZSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIGVudGVycyB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSwgaXQgTVVTVCBzZXRcbiAgICAgICAgLy8gVGltZXIgSyB0byBmaXJlIGluIFQ0IHNlY29uZHMgZm9yIHVucmVsaWFibGUgdHJhbnNwb3J0cywgYW5kIHplcm9cbiAgICAgICAgLy8gc2Vjb25kcyBmb3IgcmVsaWFibGUgdHJhbnNwb3J0cyAgVGhlIFwiQ29tcGxldGVkXCIgc3RhdGUgZXhpc3RzIHRvXG4gICAgICAgIC8vIGJ1ZmZlciBhbnkgYWRkaXRpb25hbCByZXNwb25zZSByZXRyYW5zbWlzc2lvbnMgdGhhdCBtYXkgYmUgcmVjZWl2ZWRcbiAgICAgICAgLy8gKHdoaWNoIGlzIHdoeSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIHJlbWFpbnMgdGhlcmUgb25seSBmb3IgdW5yZWxpYWJsZSB0cmFuc3BvcnRzKS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjIuMlxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLkYpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5GKTtcbiAgICAgICAgICAgICAgICB0aGlzLkYgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLksgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnRpbWVyX0soKTsgfSwgdGltZXJzXzEuVGltZXJzLlRJTUVSX0spO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9uY2UgdGhlIHRyYW5zYWN0aW9uIGlzIGluIHRoZSB0ZXJtaW5hdGVkIHN0YXRlLCBpdCBNVVNUIGJlIGRlc3Ryb3llZCBpbW1lZGlhdGVseS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4xLjIuMlxuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgVGltZXIgRiBmaXJlcyB3aGlsZSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIGlzIHN0aWxsIGluIHRoZVxuICAgICAqIFwiVHJ5aW5nXCIgc3RhdGUsIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24gU0hPVUxEIGluZm9ybSB0aGUgVFUgYWJvdXQgdGhlXG4gICAgICogdGltZW91dCwgYW5kIHRoZW4gaXQgU0hPVUxEIGVudGVyIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZS5cbiAgICAgKiBJZiB0aW1lciBGIGZpcmVzIHdoaWxlIGluIHRoZSBcIlByb2NlZWRpbmdcIiBzdGF0ZSwgdGhlIFRVIE1VU1QgYmUgaW5mb3JtZWQgb2ZcbiAgICAgKiBhIHRpbWVvdXQsIGFuZCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIE1VU1QgdHJhbnNpdGlvbiB0byB0aGUgdGVybWluYXRlZCBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICovXG4gICAgTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgRiBleHBpcmVkIGZvciBub24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiBcIiArIHRoaXMuaWQgKyBcIi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nIHx8IHRoaXMuc3RhdGUgPT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UZXJtaW5hdGVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgVGltZXIgSyBmaXJlcyB3aGlsZSBpbiB0aGlzIChDT01QTEVURUQpIHN0YXRlLCB0aGUgY2xpZW50IHRyYW5zYWN0aW9uXG4gICAgICogTVVTVCB0cmFuc2l0aW9uIHRvIHRoZSBcIlRlcm1pbmF0ZWRcIiBzdGF0ZS5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjEuMi4yXG4gICAgICovXG4gICAgTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbn0oY2xpZW50X3RyYW5zYWN0aW9uXzEuQ2xpZW50VHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24gPSBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdGltZXJzXzEgPSByZXF1aXJlKFwiLi4vdGltZXJzXCIpO1xudmFyIHNlcnZlcl90cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vc2VydmVyLXRyYW5zYWN0aW9uXCIpO1xudmFyIHRyYW5zYWN0aW9uX3N0YXRlXzEgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvbi1zdGF0ZVwiKTtcbi8qKlxuICogTm9uLUlOVklURSBTZXJ2ZXIgVHJhbnNhY3Rpb24uXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAqIEBwdWJsaWNcbiAqL1xudmFyIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yLlxuICAgICAqIEFmdGVyIGNvbnN0cnVjdGlvbiB0aGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBpbiB0aGUgXCJ0cnlpbmdcIjogc3RhdGUgYW5kIHRoZSB0cmFuc2FjdGlvblxuICAgICAqIGBpZGAgd2lsbCBlcXVhbCB0aGUgYnJhbmNoIHBhcmFtZXRlciBzZXQgaW4gdGhlIFZpYSBoZWFkZXIgb2YgdGhlIGluY29taW5nIHJlcXVlc3QuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEluY29taW5nIE5vbi1JTlZJVEUgcmVxdWVzdCBmcm9tIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdHJhbnNhY3Rpb24gdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbihyZXF1ZXN0LCB0cmFuc3BvcnQsIHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QsIHRyYW5zcG9ydCwgdXNlciwgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZywgXCJzaXAudHJhbnNhY3Rpb24ubmlzdFwiKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqL1xuICAgIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5KKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5KKTtcbiAgICAgICAgICAgIHRoaXMuSiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwia2luZFwiLCB7XG4gICAgICAgIC8qKiBUcmFuc2FjdGlvbiBraW5kLiBEZXByZWNhdGVkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm5pc3RcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVjZWl2ZSByZXF1ZXN0cyBmcm9tIHRyYW5zcG9ydCBtYXRjaGluZyB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gUmVxdWVzdCBtYXRjaGluZyB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqL1xuICAgIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIC8vIE9uY2UgaW4gdGhlIFwiVHJ5aW5nXCIgc3RhdGUsIGFueSBmdXJ0aGVyIHJlcXVlc3QgcmV0cmFuc21pc3Npb25zIGFyZSBkaXNjYXJkZWQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgLy8gSWYgYSByZXRyYW5zbWlzc2lvbiBvZiB0aGUgcmVxdWVzdCBpcyByZWNlaXZlZCB3aGlsZSBpbiB0aGUgXCJQcm9jZWVkaW5nXCIgc3RhdGUsXG4gICAgICAgICAgICAgICAgLy8gdGhlIG1vc3QgcmVjZW50bHkgc2VudCBwcm92aXNpb25hbCByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGZvciByZXRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXN0UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGFzdCByZXNwb25zZSB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmQodGhpcy5sYXN0UmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dUcmFuc3BvcnRFcnJvcihlcnJvciwgXCJGYWlsZWQgdG8gc2VuZCByZXRyYW5zbWlzc2lvbiBvZiBwcm92aXNpb25hbCByZXNwb25zZS5cIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQ6XG4gICAgICAgICAgICAgICAgLy8gV2hpbGUgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gTVVTVCBwYXNzIHRoZSBmaW5hbCByZXNwb25zZSB0byB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgLy8gbGF5ZXIgZm9yIHJldHJhbnNtaXNzaW9uIHdoZW5ldmVyIGEgcmV0cmFuc21pc3Npb24gb2YgdGhlIHJlcXVlc3QgaXMgcmVjZWl2ZWQuIEFueSBvdGhlciBmaW5hbCByZXNwb25zZXNcbiAgICAgICAgICAgICAgICAvLyBwYXNzZWQgYnkgdGhlIFRVIHRvIHRoZSBzZXJ2ZXIgdHJhbnNhY3Rpb24gTVVTVCBiZSBkaXNjYXJkZWQgd2hpbGUgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubGFzdFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxhc3QgcmVzcG9uc2UgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kKHRoaXMubGFzdFJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgcmV0cmFuc21pc3Npb24gb2YgZmluYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIHJlc3BvbnNlcyBmcm9tIFRVIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gU3RhdHVzIGNvZGUgb2YgcmVzcG9uc2UuIDEwMS0xOTkgbm90IGFsbG93ZWQgcGVyIFJGQyA0MzIwLlxuICAgICAqIEBwYXJhbSByZXNwb25zZSAtIFJlc3BvbnNlIHRvIHNlbmQuXG4gICAgICovXG4gICAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChzdGF0dXNDb2RlLCByZXNwb25zZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA8IDEwMCB8fCBzdGF0dXNDb2RlID4gNjk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXR1cyBjb2RlIFwiICsgc3RhdHVzQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW4gU0lQIGVsZW1lbnQgTVVTVCBOT1Qgc2VuZCBhbnkgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2l0aCBhXG4gICAgICAgIC8vIFN0YXR1cy1Db2RlIG90aGVyIHRoYW4gMTAwIHRvIGEgbm9uLUlOVklURSByZXF1ZXN0LlxuICAgICAgICAvLyBBbiBTSVAgZWxlbWVudCBNVVNUIE5PVCByZXNwb25kIHRvIGEgbm9uLUlOVklURSByZXF1ZXN0IHdpdGggYVxuICAgICAgICAvLyBTdGF0dXMtQ29kZSBvZiAxMDAgb3ZlciBhbnkgdW5yZWxpYWJsZSB0cmFuc3BvcnQsIHN1Y2ggYXMgVURQLFxuICAgICAgICAvLyBiZWZvcmUgdGhlIGFtb3VudCBvZiB0aW1lIGl0IHRha2VzIGEgY2xpZW50IHRyYW5zYWN0aW9uJ3MgVGltZXIgRSB0byBiZSByZXNldCB0byBUMi5cbiAgICAgICAgLy8gQW4gU0lQIGVsZW1lbnQgTUFZIHJlc3BvbmQgdG8gYSBub24tSU5WSVRFIHJlcXVlc3Qgd2l0aCBhXG4gICAgICAgIC8vIFN0YXR1cy1Db2RlIG9mIDEwMCBvdmVyIGEgcmVsaWFibGUgdHJhbnNwb3J0IGF0IGFueSB0aW1lLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDMyMCNzZWN0aW9uLTQuMVxuICAgICAgICBpZiAoc3RhdHVzQ29kZSA+IDEwMCAmJiBzdGF0dXNDb2RlIDw9IDE5OSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlzaW9uYWwgcmVzcG9uc2Ugb3RoZXIgdGhhbiAxMDAgbm90IGFsbG93ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIC8vIFdoaWxlIGluIHRoZSBcIlRyeWluZ1wiIHN0YXRlLCBpZiB0aGUgVFUgcGFzc2VzIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgZW50ZXIgdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vIFRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGZvciB0cmFuc21pc3Npb24uXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID49IDEwMCAmJiBzdGF0dXNDb2RlIDwgMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Qcm9jZWVkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kKHJlc3BvbnNlKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ1RyYW5zcG9ydEVycm9yKGVycm9yLCBcIkZhaWxlZCB0byBzZW5kIHByb3Zpc2lvbmFsIHJlc3BvbnNlLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQocmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgZmluYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgLy8gQW55IGZ1cnRoZXIgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHRoYXQgYXJlIHJlY2VpdmVkIGZyb20gdGhlIFRVIHdoaWxlXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgVFUgcGFzc2VzIGEgZmluYWwgcmVzcG9uc2UgKHN0YXR1cyBjb2RlcyAyMDAtNjk5KSB0byB0aGUgc2VydmVyIHdoaWxlIGluXG4gICAgICAgICAgICAgICAgLy8gdGhlIFwiUHJvY2VlZGluZ1wiIHN0YXRlLCB0aGUgdHJhbnNhY3Rpb24gTVVTVCBlbnRlciB0aGUgXCJDb21wbGV0ZWRcIiBzdGF0ZSwgYW5kXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJlc3BvbnNlIE1VU1QgYmUgcGFzc2VkIHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIgZm9yIHRyYW5zbWlzc2lvbi5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuMlxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gNjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVUcmFuc2l0aW9uKHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5Db21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmQocmVzcG9uc2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nVHJhbnNwb3J0RXJyb3IoZXJyb3IsIFwiRmFpbGVkIHRvIHNlbmQgZmluYWwgcmVzcG9uc2UuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICAvLyBBbnkgb3RoZXIgZmluYWwgcmVzcG9uc2VzIHBhc3NlZCBieSB0aGUgVFUgdG8gdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zYWN0aW9uIE1VU1QgYmUgZGlzY2FyZGVkIHdoaWxlIGluIHRoZSBcIkNvbXBsZXRlZFwiIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJOb24tSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiByZWNlaXZlZCB1bmV4cGVjdGVkIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlIGZyb20gVFUgd2hpbGUgaW4gc3RhdGUgXCIgKyB0aGlzLnN0YXRlICsgXCIuXCI7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJzdCwgdGhlIHByb2NlZHVyZXMgaW4gWzRdIGFyZSBmb2xsb3dlZCwgd2hpY2ggYXR0ZW1wdCB0byBkZWxpdmVyIHRoZSByZXNwb25zZSB0byBhIGJhY2t1cC5cbiAgICAgKiBJZiB0aG9zZSBzaG91bGQgYWxsIGZhaWwsIGJhc2VkIG9uIHRoZSBkZWZpbml0aW9uIG9mIGZhaWx1cmUgaW4gWzRdLCB0aGUgc2VydmVyIHRyYW5zYWN0aW9uIFNIT1VMRFxuICAgICAqIGluZm9ybSB0aGUgVFUgdGhhdCBhIGZhaWx1cmUgaGFzIG9jY3VycmVkLCBhbmQgU0hPVUxEIHRyYW5zaXRpb24gdG8gdGhlIHRlcm1pbmF0ZWQgc3RhdGUuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNy4yLjRcbiAgICAgKi9cbiAgICBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy51c2VyLm9uVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMudXNlci5vblRyYW5zcG9ydEVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCwgdHJ1ZSk7XG4gICAgfTtcbiAgICAvKiogRm9yIGxvZ2dpbmcuICovXG4gICAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnR5cGVUb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwibm9uLUlOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb25cIjtcbiAgICB9O1xuICAgIE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5zdGF0ZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAobmV3U3RhdGUsIGR1ZVRvVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGR1ZVRvVHJhbnNwb3J0RXJyb3IgPT09IHZvaWQgMCkgeyBkdWVUb1RyYW5zcG9ydEVycm9yID0gZmFsc2U7IH1cbiAgICAgICAgLy8gQXNzZXJ0IHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB2YXIgaW52YWxpZFN0YXRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBmcm9tIFwiICsgX3RoaXMuc3RhdGUgKyBcIiB0byBcIiArIG5ld1N0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVHJ5aW5nOlxuICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHRyYW5zYWN0aW9uX3N0YXRlXzEuVHJhbnNhY3Rpb25TdGF0ZS5UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRyeWluZyAmJiB0aGlzLnN0YXRlICE9PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkU3RhdGVUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlByb2NlZWRpbmcgJiYgdGhpcy5zdGF0ZSAhPT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWR1ZVRvVHJhbnNwb3J0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRTdGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaW52YWxpZFN0YXRlVHJhbnNpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNlcnZlciB0cmFuc2FjdGlvbiBlbnRlcnMgdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUsIGl0IE1VU1Qgc2V0IFRpbWVyIEogdG8gZmlyZVxuICAgICAgICAvLyBpbiA2NCpUMSBzZWNvbmRzIGZvciB1bnJlbGlhYmxlIHRyYW5zcG9ydHMsIGFuZCB6ZXJvIHNlY29uZHMgZm9yIHJlbGlhYmxlIHRyYW5zcG9ydHMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5KID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9KKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9KKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgc2VydmVyIHRyYW5zYWN0aW9uIE1VU1QgYmUgZGVzdHJveWVkIHRoZSBpbnN0YW50IGl0IGVudGVycyB0aGUgXCJUZXJtaW5hdGVkXCIgc3RhdGUuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gdHJhbnNhY3Rpb25fc3RhdGVfMS5UcmFuc2FjdGlvblN0YXRlLlRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZlciB0cmFuc2FjdGlvbiByZW1haW5zIGluIHRoaXMgc3RhdGUgdW50aWwgVGltZXIgSiBmaXJlcyxcbiAgICAgKiBhdCB3aGljaCBwb2ludCBpdCBNVVNUIHRyYW5zaXRpb24gdG8gdGhlIFwiVGVybWluYXRlZFwiIHN0YXRlLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMi4yXG4gICAgICovXG4gICAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0ogPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVGltZXIgSiBleHBpcmVkIGZvciBOT04tSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiBcIiArIHRoaXMuaWQgKyBcIi5cIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSB0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJhbnNpdGlvbih0cmFuc2FjdGlvbl9zdGF0ZV8xLlRyYW5zYWN0aW9uU3RhdGUuVGVybWluYXRlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbn0oc2VydmVyX3RyYW5zYWN0aW9uXzEuU2VydmVyVHJhbnNhY3Rpb24pKTtcbmV4cG9ydHMuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24gPSBOb25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBTdWJzY3JpcHRpb24gc3RhdGUuXG4gKiBAcmVtYXJrc1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMlxuICogQHB1YmxpY1xuICovXG52YXIgU3Vic2NyaXB0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKFN1YnNjcmlwdGlvblN0YXRlKSB7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJJbml0aWFsXCJdID0gXCJJbml0aWFsXCI7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJOb3RpZnlXYWl0XCJdID0gXCJOb3RpZnlXYWl0XCI7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJQZW5kaW5nXCJdID0gXCJQZW5kaW5nXCI7XG4gICAgU3Vic2NyaXB0aW9uU3RhdGVbXCJBY3RpdmVcIl0gPSBcIkFjdGl2ZVwiO1xuICAgIFN1YnNjcmlwdGlvblN0YXRlW1wiVGVybWluYXRlZFwiXSA9IFwiVGVybWluYXRlZFwiO1xufSkoU3Vic2NyaXB0aW9uU3RhdGUgPSBleHBvcnRzLlN1YnNjcmlwdGlvblN0YXRlIHx8IChleHBvcnRzLlN1YnNjcmlwdGlvblN0YXRlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9sZXZlbHNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbG9nZ2VyLWZhY3RvcnlcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbG9nZ2VyXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxldmVsc18xID0gcmVxdWlyZShcIi4vbGV2ZWxzXCIpO1xudmFyIGxvZ2dlcl8xID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xuLyoqXG4gKiBMb2dnZXIuXG4gKiBAcHVibGljXG4gKi9cbnZhciBMb2dnZXJGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvZ2dlckZhY3RvcnkoKSB7XG4gICAgICAgIHRoaXMuYnVpbHRpbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IGxldmVsc18xLkxldmVscy5sb2c7XG4gICAgICAgIHRoaXMubG9nZ2VycyA9IHt9O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMuZ2V0TG9nZ2VyKFwic2lwOmxvZ2dlcmZhY3RvcnlcIik7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXJGYWN0b3J5LnByb3RvdHlwZSwgXCJsZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbGV2ZWw7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICBpZiAobmV3TGV2ZWwgPj0gMCAmJiBuZXdMZXZlbCA8PSAzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5ld0xldmVsID4gMykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxldmVsc18xLkxldmVscy5oYXNPd25Qcm9wZXJ0eShuZXdMZXZlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJpbnZhbGlkICdsZXZlbCcgcGFyYW1ldGVyIHZhbHVlOiBcIiArIEpTT04uc3RyaW5naWZ5KG5ld0xldmVsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXJGYWN0b3J5LnByb3RvdHlwZSwgXCJjb25uZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0b3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiaW52YWxpZCAnY29ubmVjdG9yJyBwYXJhbWV0ZXIgdmFsdWU6IFwiICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTG9nZ2VyRmFjdG9yeS5wcm90b3R5cGUuZ2V0TG9nZ2VyID0gZnVuY3Rpb24gKGNhdGVnb3J5LCBsYWJlbCkge1xuICAgICAgICBpZiAobGFiZWwgJiYgdGhpcy5sZXZlbCA9PT0gMykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBsb2dnZXJfMS5Mb2dnZXIodGhpcywgY2F0ZWdvcnksIGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmxvZ2dlcnNbY2F0ZWdvcnldKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2dnZXJzW2NhdGVnb3J5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsb2dnZXIgPSBuZXcgbG9nZ2VyXzEuTG9nZ2VyKHRoaXMsIGNhdGVnb3J5KTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2Vyc1tjYXRlZ29yeV0gPSBsb2dnZXI7XG4gICAgICAgICAgICByZXR1cm4gbG9nZ2VyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMb2dnZXJGYWN0b3J5LnByb3RvdHlwZS5nZW5lcmljTG9nID0gZnVuY3Rpb24gKGxldmVsVG9Mb2csIGNhdGVnb3J5LCBsYWJlbCwgY29udGVudCkge1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA+PSBsZXZlbFRvTG9nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5idWlsdGluRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJpbnQobGV2ZWxUb0xvZywgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yKGxldmVsc18xLkxldmVsc1tsZXZlbFRvTG9nXSwgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9nZ2VyRmFjdG9yeS5wcm90b3R5cGUucHJpbnQgPSBmdW5jdGlvbiAobGV2ZWxUb0xvZywgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IFtuZXcgRGF0ZSgpLCBjYXRlZ29yeV07XG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBwcmVmaXgucHVzaChsYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZW50ID0gcHJlZml4LmNvbmNhdChjb250ZW50KS5qb2luKFwiIHwgXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobGV2ZWxUb0xvZykge1xuICAgICAgICAgICAgY2FzZSBsZXZlbHNfMS5MZXZlbHMuZXJyb3I6XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBsZXZlbHNfMS5MZXZlbHMud2FybjpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihjb250ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbGV2ZWxzXzEuTGV2ZWxzLmxvZzpcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBsZXZlbHNfMS5MZXZlbHMuZGVidWc6XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExvZ2dlckZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5Mb2dnZXJGYWN0b3J5ID0gTG9nZ2VyRmFjdG9yeTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91c2VyLWFnZW50LWNvcmVcIiksIGV4cG9ydHMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL21lc3NhZ2VzXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50c18xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnRzXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4vYWxsb3dlZC1tZXRob2RzXCIpO1xuLyoqXG4gKiBUaGlzIGlzIHBvcnRlZCBmcm9tIFVBLkMuQUNDRVBURURfQk9EWV9UWVBFUy5cbiAqIEZJWE1FOiBUT0RPOiBTaG91bGQgYmUgY29uZmlndXJhYmxlL3ZhcmlhYmxlLlxuICovXG52YXIgYWNjZXB0ZWRCb2R5VHlwZXMgPSBbXG4gICAgXCJhcHBsaWNhdGlvbi9zZHBcIixcbiAgICBcImFwcGxpY2F0aW9uL2R0bWYtcmVsYXlcIlxuXTtcbi8qKlxuICogVXNlciBBZ2VudCBDb3JlLlxuICogQHJlbWFya3NcbiAqIENvcmUgZGVzaWduYXRlcyB0aGUgZnVuY3Rpb25zIHNwZWNpZmljIHRvIGEgcGFydGljdWxhciB0eXBlXG4gKiBvZiBTSVAgZW50aXR5LCBpLmUuLCBzcGVjaWZpYyB0byBlaXRoZXIgYSBzdGF0ZWZ1bCBvciBzdGF0ZWxlc3NcbiAqIHByb3h5LCBhIHVzZXIgYWdlbnQgb3IgcmVnaXN0cmFyLiAgQWxsIGNvcmVzLCBleGNlcHQgdGhvc2UgZm9yXG4gKiB0aGUgc3RhdGVsZXNzIHByb3h5LCBhcmUgdHJhbnNhY3Rpb24gdXNlcnMuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTZcbiAqXG4gKiBVQUMgQ29yZTogVGhlIHNldCBvZiBwcm9jZXNzaW5nIGZ1bmN0aW9ucyByZXF1aXJlZCBvZiBhIFVBQyB0aGF0XG4gKiByZXNpZGUgYWJvdmUgdGhlIHRyYW5zYWN0aW9uIGFuZCB0cmFuc3BvcnQgbGF5ZXJzLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi02XG4gKlxuICogVUFTIENvcmU6IFRoZSBzZXQgb2YgcHJvY2Vzc2luZyBmdW5jdGlvbnMgcmVxdWlyZWQgYXQgYSBVQVMgdGhhdFxuICogcmVzaWRlcyBhYm92ZSB0aGUgdHJhbnNhY3Rpb24gYW5kIHRyYW5zcG9ydCBsYXllcnMuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTZcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFVzZXJBZ2VudENvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb24gLSBDb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIERlbGVnYXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVzZXJBZ2VudENvcmUoY29uZmlndXJhdGlvbiwgZGVsZWdhdGUpIHtcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSB2b2lkIDApIHsgZGVsZWdhdGUgPSB7fTsgfVxuICAgICAgICAvKiogVUFDcy4gKi9cbiAgICAgICAgdGhpcy51c2VyQWdlbnRDbGllbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKiogVUFTcy4gKi9cbiAgICAgICAgdGhpcy51c2VyQWdlbnRTZXJ2ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuZGlhbG9ncyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBjb25maWd1cmF0aW9uLmxvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFwic2lwLnVzZXItYWdlbnQtY29yZVwiKTtcbiAgICB9XG4gICAgLyoqIERlc3RydWN0b3IuICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG4gICAgLyoqIFJlc2V0LiAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpYWxvZ3MuZm9yRWFjaChmdW5jdGlvbiAoZGlhbG9nKSB7IHJldHVybiBkaWFsb2cuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5kaWFsb2dzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudXNlckFnZW50Q2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh1YWMpIHsgcmV0dXJuIHVhYy5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLnVzZXJBZ2VudENsaWVudHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy51c2VyQWdlbnRTZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKHVhYykgeyByZXR1cm4gdWFjLmRpc3Bvc2UoKTsgfSk7XG4gICAgICAgIHRoaXMudXNlckFnZW50U2VydmVycy5jbGVhcigpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZXJBZ2VudENvcmUucHJvdG90eXBlLCBcImxvZ2dlckZhY3RvcnlcIiwge1xuICAgICAgICAvKiogTG9nZ2VyIGZhY3RvcnkuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5sb2dnZXJGYWN0b3J5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXNlckFnZW50Q29yZS5wcm90b3R5cGUsIFwidHJhbnNwb3J0XCIsIHtcbiAgICAgICAgLyoqIFRyYW5zcG9ydC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNwb3J0ID0gdGhpcy5jb25maWd1cmF0aW9uLnRyYW5zcG9ydEFjY2Vzc29yKCk7XG4gICAgICAgICAgICBpZiAoIXRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCB1bmRlZmluZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zcG9ydDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2VuZCBJTlZJVEUuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBPdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUuaW52aXRlID0gZnVuY3Rpb24gKHJlcXVlc3QsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdXNlcl9hZ2VudHNfMS5JbnZpdGVVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBNRVNTQUdFLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gT3V0Z29pbmcgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gZGVsZWdhdGUgLSBSZXF1ZXN0IGRlbGVnYXRlLlxuICAgICAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAocmVxdWVzdCwgZGVsZWdhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB1c2VyX2FnZW50c18xLk1lc3NhZ2VVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBQVUJMSVNILlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gT3V0Z29pbmcgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gZGVsZWdhdGUgLSBSZXF1ZXN0IGRlbGVnYXRlLlxuICAgICAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLnB1Ymxpc2ggPSBmdW5jdGlvbiAocmVxdWVzdCwgZGVsZWdhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB1c2VyX2FnZW50c18xLlB1Ymxpc2hVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBSRUdJU1RFUi5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIE91dGdvaW5nIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIGRlbGVnYXRlIC0gUmVxdWVzdCBkZWxlZ2F0ZS5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHVzZXJfYWdlbnRzXzEuUmVnaXN0ZXJVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBTVUJTQ1JJQkUuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBPdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKHJlcXVlc3QsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdXNlcl9hZ2VudHNfMS5TdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQodGhpcywgcmVxdWVzdCwgZGVsZWdhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBPdXRnb2luZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSAtIFJlcXVlc3QgZGVsZWdhdGUuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHVzZXJfYWdlbnRzXzEuVXNlckFnZW50Q2xpZW50KHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCB0aGlzLCByZXF1ZXN0LCBkZWxlZ2F0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdXRnb2luZyByZXF1ZXN0IG1lc3NhZ2UgZmFjdG9yeSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gbWV0aG9kIC0gTWV0aG9kLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0VVJJIC0gUmVxdWVzdC1VUkkuXG4gICAgICogQHBhcmFtIGZyb21VUkkgLSBGcm9tIFVSSS5cbiAgICAgKiBAcGFyYW0gdG9VUkkgLSBUbyBVUkkuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIGV4dHJhSGVhZGVycyAtIEV4dHJhIGhlYWRlcnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSBib2R5IC0gTWVzc2FnZSBib2R5LlxuICAgICAqL1xuICAgIFVzZXJBZ2VudENvcmUucHJvdG90eXBlLm1ha2VPdXRnb2luZ1JlcXVlc3RNZXNzYWdlID0gZnVuY3Rpb24gKG1ldGhvZCwgcmVxdWVzdFVSSSwgZnJvbVVSSSwgdG9VUkksIG9wdGlvbnMsIGV4dHJhSGVhZGVycywgYm9keSkge1xuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlcyBmcm9tIHVzZXIgYWdlbnQgY29uZmlndXJhdGlvblxuICAgICAgICB2YXIgY2FsbElkUHJlZml4ID0gdGhpcy5jb25maWd1cmF0aW9uLnNpcGpzSWQ7XG4gICAgICAgIHZhciBmcm9tRGlzcGxheU5hbWUgPSB0aGlzLmNvbmZpZ3VyYXRpb24uZGlzcGxheU5hbWU7XG4gICAgICAgIHZhciBmb3JjZVJwb3J0ID0gdGhpcy5jb25maWd1cmF0aW9uLnZpYUZvcmNlUnBvcnQ7XG4gICAgICAgIHZhciBoYWNrVmlhVGNwID0gdGhpcy5jb25maWd1cmF0aW9uLmhhY2tWaWFUY3A7XG4gICAgICAgIHZhciBvcHRpb25UYWdzID0gdGhpcy5jb25maWd1cmF0aW9uLnN1cHBvcnRlZE9wdGlvblRhZ3Muc2xpY2UoKTtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLlJFR0lTVEVSKSB7XG4gICAgICAgICAgICBvcHRpb25UYWdzLnB1c2goXCJwYXRoXCIsIFwiZ3J1dVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWV0aG9kID09PSBtZXNzYWdlc18xLkMuSU5WSVRFICYmICh0aGlzLmNvbmZpZ3VyYXRpb24uY29udGFjdC5wdWJHcnV1IHx8IHRoaXMuY29uZmlndXJhdGlvbi5jb250YWN0LnRlbXBHcnV1KSkge1xuICAgICAgICAgICAgb3B0aW9uVGFncy5wdXNoKFwiZ3J1dVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm91dGVTZXQgPSB0aGlzLmNvbmZpZ3VyYXRpb24ucm91dGVTZXQ7XG4gICAgICAgIHZhciB1c2VyQWdlbnRTdHJpbmcgPSB0aGlzLmNvbmZpZ3VyYXRpb24udXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZTtcbiAgICAgICAgdmFyIHZpYUhvc3QgPSB0aGlzLmNvbmZpZ3VyYXRpb24udmlhSG9zdDtcbiAgICAgICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgY2FsbElkUHJlZml4OiBjYWxsSWRQcmVmaXgsXG4gICAgICAgICAgICBmb3JjZVJwb3J0OiBmb3JjZVJwb3J0LFxuICAgICAgICAgICAgZnJvbURpc3BsYXlOYW1lOiBmcm9tRGlzcGxheU5hbWUsXG4gICAgICAgICAgICBoYWNrVmlhVGNwOiBoYWNrVmlhVGNwLFxuICAgICAgICAgICAgb3B0aW9uVGFnczogb3B0aW9uVGFncyxcbiAgICAgICAgICAgIHJvdXRlU2V0OiByb3V0ZVNldCxcbiAgICAgICAgICAgIHVzZXJBZ2VudFN0cmluZzogdXNlckFnZW50U3RyaW5nLFxuICAgICAgICAgICAgdmlhSG9zdDogdmlhSG9zdCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbWVyZ2UgcHJvdmlkZWQgb3B0aW9ucyB3aXRoIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICB2YXIgcmVxdWVzdE9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgbWVzc2FnZXNfMS5PdXRnb2luZ1JlcXVlc3RNZXNzYWdlKG1ldGhvZCwgcmVxdWVzdFVSSSwgZnJvbVVSSSwgdG9VUkksIHJlcXVlc3RPcHRpb25zLCBleHRyYUhlYWRlcnMsIGJvZHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuIGluY29taW5nIHJlcXVlc3QgbWVzc2FnZSBmcm9tIHRoZSB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2UgZnJvbSB0cmFuc3BvcnQgbGF5ZXIuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVjZWl2ZUluY29taW5nUmVxdWVzdEZyb21UcmFuc3BvcnQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnJlY2VpdmVSZXF1ZXN0RnJvbVRyYW5zcG9ydChtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbiBpbmNvbWluZyByZXNwb25zZSBtZXNzYWdlIGZyb20gdGhlIHRyYW5zcG9ydC5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlc3BvbnNlIG1lc3NhZ2UgZnJvbSB0cmFuc3BvcnQgbGF5ZXIuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVjZWl2ZUluY29taW5nUmVzcG9uc2VGcm9tVHJhbnNwb3J0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlUmVzcG9uc2VGcm9tVHJhbnNwb3J0KG1lc3NhZ2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzdGF0ZWxlc3MgVUFTIGlzIGEgVUFTIHRoYXQgZG9lcyBub3QgbWFpbnRhaW4gdHJhbnNhY3Rpb24gc3RhdGUuXG4gICAgICogSXQgcmVwbGllcyB0byByZXF1ZXN0cyBub3JtYWxseSwgYnV0IGRpc2NhcmRzIGFueSBzdGF0ZSB0aGF0IHdvdWxkXG4gICAgICogb3JkaW5hcmlseSBiZSByZXRhaW5lZCBieSBhIFVBUyBhZnRlciBhIHJlc3BvbnNlIGhhcyBiZWVuIHNlbnQuICBJZiBhXG4gICAgICogc3RhdGVsZXNzIFVBUyByZWNlaXZlcyBhIHJldHJhbnNtaXNzaW9uIG9mIGEgcmVxdWVzdCwgaXQgcmVnZW5lcmF0ZXNcbiAgICAgKiB0aGUgcmVzcG9uc2UgYW5kIHJlLXNlbmRzIGl0LCBqdXN0IGFzIGlmIGl0IHdlcmUgcmVwbHlpbmcgdG8gdGhlIGZpcnN0XG4gICAgICogaW5zdGFuY2Ugb2YgdGhlIHJlcXVlc3QuIEEgVUFTIGNhbm5vdCBiZSBzdGF0ZWxlc3MgdW5sZXNzIHRoZSByZXF1ZXN0XG4gICAgICogcHJvY2Vzc2luZyBmb3IgdGhhdCBtZXRob2Qgd291bGQgYWx3YXlzIHJlc3VsdCBpbiB0aGUgc2FtZSByZXNwb25zZVxuICAgICAqIGlmIHRoZSByZXF1ZXN0cyBhcmUgaWRlbnRpY2FsLiBUaGlzIHJ1bGVzIG91dCBzdGF0ZWxlc3MgcmVnaXN0cmFycyxcbiAgICAgKiBmb3IgZXhhbXBsZS4gIFN0YXRlbGVzcyBVQVNzIGRvIG5vdCB1c2UgYSB0cmFuc2FjdGlvbiBsYXllcjsgdGhleVxuICAgICAqIHJlY2VpdmUgcmVxdWVzdHMgZGlyZWN0bHkgZnJvbSB0aGUgdHJhbnNwb3J0IGxheWVyIGFuZCBzZW5kIHJlc3BvbnNlc1xuICAgICAqIGRpcmVjdGx5IHRvIHRoZSB0cmFuc3BvcnQgbGF5ZXIuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuN1xuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gSW5jb21pbmcgcmVxdWVzdCBtZXNzYWdlIHRvIHJlcGx5IHRvLlxuICAgICAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gU3RhdHVzIGNvZGUgdG8gcmVwbHkgd2l0aC5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZXBseVN0YXRlbGVzcyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1c2VyQWdlbnQgPSB0aGlzLmNvbmZpZ3VyYXRpb24udXNlckFnZW50SGVhZGVyRmllbGRWYWx1ZTtcbiAgICAgICAgdmFyIHN1cHBvcnRlZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zdXBwb3J0ZWRPcHRpb25UYWdzUmVzcG9uc2U7XG4gICAgICAgIG9wdGlvbnMgPSB0c2xpYl8xLl9fYXNzaWduKHRzbGliXzEuX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHVzZXJBZ2VudDogdXNlckFnZW50LCBzdXBwb3J0ZWQ6IHN1cHBvcnRlZCB9KTtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gbWVzc2FnZXNfMS5jb25zdHJ1Y3RPdXRnb2luZ1Jlc3BvbnNlKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHJlc3BvbnNlLm1lc3NhZ2UpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHRyYW5zcG9ydCByZWplY3RzLCBpdCBTSE9VTEQgcmVqZWN0IHdpdGggYSBUcmFuc3BvcnRFcnJvci5cbiAgICAgICAgICAgIC8vIEJ1dCB0aGUgdHJhbnNwb3J0IG1heSBiZSBleHRlcm5hbCBjb2RlLCBzbyB3ZSBhcmUgY2FyZWZ1bC4uLlxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIuZXJyb3IoXCJUcmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQgc2VuZGluZyBzdGF0ZWxlc3MgcmVwbHkgdG8gXCIgKyBtZXNzYWdlLm1ldGhvZCArIFwiIHJlcXVlc3QuXCIpO1xuICAgICAgICAgICAgLy8gVE9ETzogQ3VycmVudGx5IHRoZXJlIGlzIG5vIGhvb2sgdG8gcHJvdmlkZSBub3RpZmljYXRpb24gdGhhdCBhIHRyYW5zcG9ydCBlcnJvciBvY2N1cnJlZFxuICAgICAgICAgICAgLy8gYW5kIHRocm93aW5nIHdvdWxkIHJlc3VsdCBpbiBhbiB1bmNhdWdodCBlcnJvciAoaW4gcHJvbWlzZSksIHNvIHdlIHNpbGVudGx5IGVhdCB0aGUgZXJyb3IuXG4gICAgICAgICAgICAvLyBGdXJ0aGVybW9yZSwgc2lsZW50bHkgZWF0aW5nIHN0YXRlbGVzcyByZXBseSB0cmFuc3BvcnQgZXJyb3JzIGlzIGFyZ3VhYmx5IHdoYXQgd2Ugd2FudCB0byBkbyBoZXJlLlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW4gU2VjdGlvbiAxOC4yLjEsIHJlcGxhY2UgdGhlIGxhc3QgcGFyYWdyYXBoIHdpdGg6XG4gICAgICpcbiAgICAgKiBOZXh0LCB0aGUgc2VydmVyIHRyYW5zcG9ydCBhdHRlbXB0cyB0byBtYXRjaCB0aGUgcmVxdWVzdCB0byBhXG4gICAgICogc2VydmVyIHRyYW5zYWN0aW9uLiAgSXQgZG9lcyBzbyB1c2luZyB0aGUgbWF0Y2hpbmcgcnVsZXMgZGVzY3JpYmVkXG4gICAgICogaW4gU2VjdGlvbiAxNy4yLjMuICBJZiBhIG1hdGNoaW5nIHNlcnZlciB0cmFuc2FjdGlvbiBpcyBmb3VuZCwgdGhlXG4gICAgICogcmVxdWVzdCBpcyBwYXNzZWQgdG8gdGhhdCB0cmFuc2FjdGlvbiBmb3IgcHJvY2Vzc2luZy4gIElmIG5vIG1hdGNoXG4gICAgICogaXMgZm91bmQsIHRoZSByZXF1ZXN0IGlzIHBhc3NlZCB0byB0aGUgY29yZSwgd2hpY2ggbWF5IGRlY2lkZSB0b1xuICAgICAqIGNvbnN0cnVjdCBhIG5ldyBzZXJ2ZXIgdHJhbnNhY3Rpb24gZm9yIHRoYXQgcmVxdWVzdC5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMTBcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZSBmcm9tIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlUmVxdWVzdEZyb21UcmFuc3BvcnQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyBXaGVuIGEgcmVxdWVzdCBpcyByZWNlaXZlZCBmcm9tIHRoZSBuZXR3b3JrIGJ5IHRoZSBzZXJ2ZXIsIGl0IGhhcyB0b1xuICAgICAgICAvLyBiZSBtYXRjaGVkIHRvIGFuIGV4aXN0aW5nIHRyYW5zYWN0aW9uLiAgVGhpcyBpcyBhY2NvbXBsaXNoZWQgaW4gdGhlXG4gICAgICAgIC8vIGZvbGxvd2luZyBtYW5uZXIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBicmFuY2ggcGFyYW1ldGVyIGluIHRoZSB0b3Btb3N0IFZpYSBoZWFkZXIgZmllbGQgb2YgdGhlIHJlcXVlc3RcbiAgICAgICAgLy8gaXMgZXhhbWluZWQuICBJZiBpdCBpcyBwcmVzZW50IGFuZCBiZWdpbnMgd2l0aCB0aGUgbWFnaWMgY29va2llXG4gICAgICAgIC8vIFwiejloRzRiS1wiLCB0aGUgcmVxdWVzdCB3YXMgZ2VuZXJhdGVkIGJ5IGEgY2xpZW50IHRyYW5zYWN0aW9uXG4gICAgICAgIC8vIGNvbXBsaWFudCB0byB0aGlzIHNwZWNpZmljYXRpb24uICBUaGVyZWZvcmUsIHRoZSBicmFuY2ggcGFyYW1ldGVyXG4gICAgICAgIC8vIHdpbGwgYmUgdW5pcXVlIGFjcm9zcyBhbGwgdHJhbnNhY3Rpb25zIHNlbnQgYnkgdGhhdCBjbGllbnQuICBUaGVcbiAgICAgICAgLy8gcmVxdWVzdCBtYXRjaGVzIGEgdHJhbnNhY3Rpb24gaWY6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDEuIHRoZSBicmFuY2ggcGFyYW1ldGVyIGluIHRoZSByZXF1ZXN0IGlzIGVxdWFsIHRvIHRoZSBvbmUgaW4gdGhlXG4gICAgICAgIC8vICAgICAgIHRvcCBWaWEgaGVhZGVyIGZpZWxkIG9mIHRoZSByZXF1ZXN0IHRoYXQgY3JlYXRlZCB0aGVcbiAgICAgICAgLy8gICAgICAgdHJhbnNhY3Rpb24sIGFuZFxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAyLiB0aGUgc2VudC1ieSB2YWx1ZSBpbiB0aGUgdG9wIFZpYSBvZiB0aGUgcmVxdWVzdCBpcyBlcXVhbCB0byB0aGVcbiAgICAgICAgLy8gICAgICAgb25lIGluIHRoZSByZXF1ZXN0IHRoYXQgY3JlYXRlZCB0aGUgdHJhbnNhY3Rpb24sIGFuZFxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAzLiB0aGUgbWV0aG9kIG9mIHRoZSByZXF1ZXN0IG1hdGNoZXMgdGhlIG9uZSB0aGF0IGNyZWF0ZWQgdGhlXG4gICAgICAgIC8vICAgICAgIHRyYW5zYWN0aW9uLCBleGNlcHQgZm9yIEFDSywgd2hlcmUgdGhlIG1ldGhvZCBvZiB0aGUgcmVxdWVzdFxuICAgICAgICAvLyAgICAgICB0aGF0IGNyZWF0ZWQgdGhlIHRyYW5zYWN0aW9uIGlzIElOVklURS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBtYXRjaGluZyBydWxlIGFwcGxpZXMgdG8gYm90aCBJTlZJVEUgYW5kIG5vbi1JTlZJVEUgdHJhbnNhY3Rpb25zXG4gICAgICAgIC8vIGFsaWtlLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICBUaGUgc2VudC1ieSB2YWx1ZSBpcyB1c2VkIGFzIHBhcnQgb2YgdGhlIG1hdGNoaW5nIHByb2Nlc3MgYmVjYXVzZVxuICAgICAgICAvLyAgICB0aGVyZSBjb3VsZCBiZSBhY2NpZGVudGFsIG9yIG1hbGljaW91cyBkdXBsaWNhdGlvbiBvZiBicmFuY2hcbiAgICAgICAgLy8gICAgcGFyYW1ldGVycyBmcm9tIGRpZmZlcmVudCBjbGllbnRzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTE3LjIuM1xuICAgICAgICB2YXIgdHJhbnNhY3Rpb25JZCA9IG1lc3NhZ2UudmlhQnJhbmNoOyAvLyBGSVhNRTogQ3VycmVudGx5IG9ubHkgdXNpbmcgcnVsZSAxLi4uXG4gICAgICAgIHZhciB1YXMgPSB0aGlzLnVzZXJBZ2VudFNlcnZlcnMuZ2V0KHRyYW5zYWN0aW9uSWQpO1xuICAgICAgICAvLyBXaGVuIHJlY2VpdmluZyBhbiBBQ0sgdGhhdCBtYXRjaGVzIGFuIGV4aXN0aW5nIElOVklURSBzZXJ2ZXJcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gYW5kIHRoYXQgZG9lcyBub3QgY29udGFpbiBhIGJyYW5jaCBwYXJhbWV0ZXIgY29udGFpbmluZ1xuICAgICAgICAvLyB0aGUgbWFnaWMgY29va2llIGRlZmluZWQgaW4gUkZDIDMyNjEsIHRoZSBtYXRjaGluZyB0cmFuc2FjdGlvbiBNVVNUXG4gICAgICAgIC8vIGJlIGNoZWNrZWQgdG8gc2VlIGlmIGl0IGlzIGluIHRoZSBcIkFjY2VwdGVkXCIgc3RhdGUuICBJZiBpdCBpcywgdGhlblxuICAgICAgICAvLyB0aGUgQUNLIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSB0cmFuc2FjdGlvbiB1c2VyIGluc3RlYWQgb2ZcbiAgICAgICAgLy8gYmVpbmcgYWJzb3JiZWQgYnkgdGhlIHRyYW5zYWN0aW9uIHN0YXRlIG1hY2hpbmUuICBUaGlzIGlzIG5lY2Vzc2FyeVxuICAgICAgICAvLyBhcyByZXF1ZXN0cyBmcm9tIFJGQyAyNTQzIGNsaWVudHMgd2lsbCBub3QgaW5jbHVkZSBhIHVuaXF1ZSBicmFuY2hcbiAgICAgICAgLy8gcGFyYW1ldGVyLCBhbmQgdGhlIG1lY2hhbmlzbXMgZm9yIGNhbGN1bGF0aW5nIHRoZSB0cmFuc2FjdGlvbiBJRCBmcm9tXG4gICAgICAgIC8vIHN1Y2ggYSByZXF1ZXN0IHdpbGwgYmUgdGhlIHNhbWUgZm9yIGJvdGggSU5WSVRFIGFuZCBBQ0tzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTZcbiAgICAgICAgLy8gQW55IEFDS3MgcmVjZWl2ZWQgZnJvbSB0aGUgbmV0d29yayB3aGlsZSBpbiB0aGUgXCJBY2NlcHRlZFwiIHN0YXRlIE1VU1QgYmVcbiAgICAgICAgLy8gcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBUVSBhbmQgbm90IGFic29yYmVkLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTcuMVxuICAgICAgICBpZiAobWVzc2FnZS5tZXRob2QgPT09IG1lc3NhZ2VzXzEuQy5BQ0spIHtcbiAgICAgICAgICAgIGlmICh1YXMgJiYgdWFzLnRyYW5zYWN0aW9uLnN0YXRlID09PSB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvblN0YXRlLkFjY2VwdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVhcyBpbnN0YW5jZW9mIHVzZXJfYWdlbnRzXzEuSW52aXRlVXNlckFnZW50U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGFyZSBBQ0tzIG1hdGNoaW5nIGFuIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIHNob3VsZCBuZXZlciBoYXBwZW4gd2l0aCBSRkMgMzI2MSBjb21wbGlhbnQgdXNlciBhZ2VudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gKHdvdWxkIGJlIGEgYnJva2VuIEFDSyB0byBuZWdhdGl2ZSBmaW5hbCByZXNwb25zZSBvciBzb21ldGhpbmcpXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpcyBhcHBhcmVudGx5IGhvdyBSRkMgMjU0MyB1c2VyIGFnZW50cyBkbyB0aGluZ3MuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRpbmcgdGhpcyBjYXNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBOb3QgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCBSRkMgMjU0MyAobm8gc3VwcG9ydCBmb3Igc3RyaWN0LXJvdXRpbmcpLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiRGlzY2FyZGluZyBvdXQgb2YgZGlhbG9nIEFDSyBhZnRlciAyeHggcmVzcG9uc2Ugc2VudCBvbiB0cmFuc2FjdGlvbiBcIiArIHRyYW5zYWN0aW9uSWQgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIENBTkNFTCBtZXRob2QgcmVxdWVzdHMgdGhhdCB0aGUgVFUgYXQgdGhlIHNlcnZlciBzaWRlIGNhbmNlbCBhXG4gICAgICAgIC8vIHBlbmRpbmcgdHJhbnNhY3Rpb24uICBUaGUgVFUgZGV0ZXJtaW5lcyB0aGUgdHJhbnNhY3Rpb24gdG8gYmVcbiAgICAgICAgLy8gY2FuY2VsbGVkIGJ5IHRha2luZyB0aGUgQ0FOQ0VMIHJlcXVlc3QsIGFuZCB0aGVuIGFzc3VtaW5nIHRoYXQgdGhlXG4gICAgICAgIC8vIHJlcXVlc3QgbWV0aG9kIGlzIGFueXRoaW5nIGJ1dCBDQU5DRUwgb3IgQUNLIGFuZCBhcHBseWluZyB0aGVcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gbWF0Y2hpbmcgcHJvY2VkdXJlcyBvZiBTZWN0aW9uIDE3LjIuMy4gIFRoZSBtYXRjaGluZ1xuICAgICAgICAvLyB0cmFuc2FjdGlvbiBpcyB0aGUgb25lIHRvIGJlIGNhbmNlbGxlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi05LjJcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuQ0FOQ0VMKSB7XG4gICAgICAgICAgICBpZiAodWFzKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVnYXJkbGVzcyBvZiB0aGUgbWV0aG9kIG9mIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBhcyBsb25nIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vIENBTkNFTCBtYXRjaGVkIGFuIGV4aXN0aW5nIHRyYW5zYWN0aW9uLCB0aGUgVUFTIGFuc3dlcnMgdGhlIENBTkNFTFxuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgaXRzZWxmIHdpdGggYSAyMDAgKE9LKSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiAyMDAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRyYW5zYWN0aW9uIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdCBzdGlsbCBleGlzdHMsIHRoZSBiZWhhdmlvclxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBVQVMgb24gcmVjZWl2aW5nIGEgQ0FOQ0VMIHJlcXVlc3QgZGVwZW5kcyBvbiB3aGV0aGVyIGl0IGhhcyBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gc2VudCBhIGZpbmFsIHJlc3BvbnNlIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdC4gSWYgaXQgaGFzLCB0aGUgQ0FOQ0VMXG4gICAgICAgICAgICAgICAgLy8gcmVxdWVzdCBoYXMgbm8gZWZmZWN0IG9uIHRoZSBwcm9jZXNzaW5nIG9mIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBub1xuICAgICAgICAgICAgICAgIC8vIGVmZmVjdCBvbiBhbnkgc2Vzc2lvbiBzdGF0ZSwgYW5kIG5vIGVmZmVjdCBvbiB0aGUgcmVzcG9uc2VzIGdlbmVyYXRlZFxuICAgICAgICAgICAgICAgIC8vIGZvciB0aGUgb3JpZ2luYWwgcmVxdWVzdC4gSWYgdGhlIFVBUyBoYXMgbm90IGlzc3VlZCBhIGZpbmFsIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoZSBvcmlnaW5hbCByZXF1ZXN0LCBpdHMgYmVoYXZpb3IgZGVwZW5kcyBvbiB0aGUgbWV0aG9kIG9mIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIHJlcXVlc3QuIElmIHRoZSBvcmlnaW5hbCByZXF1ZXN0IHdhcyBhbiBJTlZJVEUsIHRoZSBVQVNcbiAgICAgICAgICAgICAgICAvLyBTSE9VTEQgaW1tZWRpYXRlbHkgcmVzcG9uZCB0byB0aGUgSU5WSVRFIHdpdGggYSA0ODcgKFJlcXVlc3RcbiAgICAgICAgICAgICAgICAvLyBUZXJtaW5hdGVkKS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIGlmICh1YXMudHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICB1YXMudHJhbnNhY3Rpb24uc3RhdGUgPT09IHRyYW5zYWN0aW9uc18xLlRyYW5zYWN0aW9uU3RhdGUuUHJvY2VlZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodWFzIGluc3RhbmNlb2YgdXNlcl9hZ2VudHNfMS5JbnZpdGVVc2VyQWdlbnRTZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5yZWNlaXZlQ2FuY2VsKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgQ0FOQ0VMIHJlcXVlc3QgaGFzIG5vIGltcGFjdCBvbiB0aGUgcHJvY2Vzc2luZyBvZlxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2FjdGlvbnMgd2l0aCBhbnkgb3RoZXIgbWV0aG9kIGRlZmluZWQgaW4gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBVQVMgZGlkIG5vdCBmaW5kIGEgbWF0Y2hpbmcgdHJhbnNhY3Rpb24gZm9yIHRoZSBDQU5DRUxcbiAgICAgICAgICAgICAgICAvLyBhY2NvcmRpbmcgdG8gdGhlIHByb2NlZHVyZSBhYm92ZSwgaXQgU0hPVUxEIHJlc3BvbmQgdG8gdGhlIENBTkNFTFxuICAgICAgICAgICAgICAgIC8vIHdpdGggYSA0ODEgKENhbGwgTGVnL1RyYW5zYWN0aW9uIERvZXMgTm90IEV4aXN0KS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTkuMlxuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0ODEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBtYXRjaGluZyBzZXJ2ZXIgdHJhbnNhY3Rpb24gaXMgZm91bmQsIHRoZSByZXF1ZXN0IGlzIHBhc3NlZCB0byB0aGF0XG4gICAgICAgIC8vIHRyYW5zYWN0aW9uIGZvciBwcm9jZXNzaW5nLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMTBcbiAgICAgICAgaWYgKHVhcykge1xuICAgICAgICAgICAgdWFzLnRyYW5zYWN0aW9uLnJlY2VpdmVSZXF1ZXN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vIG1hdGNoIGlzIGZvdW5kLCB0aGUgcmVxdWVzdCBpcyBwYXNzZWQgdG8gdGhlIGNvcmUsIHdoaWNoIG1heSBkZWNpZGUgdG9cbiAgICAgICAgLy8gY29uc3RydWN0IGEgbmV3IHNlcnZlciB0cmFuc2FjdGlvbiBmb3IgdGhhdCByZXF1ZXN0LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjAyNiNzZWN0aW9uLTguMTBcbiAgICAgICAgdGhpcy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVUFDIGFuZCBVQVMgcHJvY2VkdXJlcyBkZXBlbmQgc3Ryb25nbHkgb24gdHdvIGZhY3RvcnMuICBGaXJzdCwgYmFzZWRcbiAgICAgKiBvbiB3aGV0aGVyIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlIGlzIGluc2lkZSBvciBvdXRzaWRlIG9mIGEgZGlhbG9nLFxuICAgICAqIGFuZCBzZWNvbmQsIGJhc2VkIG9uIHRoZSBtZXRob2Qgb2YgYSByZXF1ZXN0LiAgRGlhbG9ncyBhcmUgZGlzY3Vzc2VkXG4gICAgICogdGhvcm91Z2hseSBpbiBTZWN0aW9uIDEyOyB0aGV5IHJlcHJlc2VudCBhIHBlZXItdG8tcGVlciByZWxhdGlvbnNoaXBcbiAgICAgKiBiZXR3ZWVuIHVzZXIgYWdlbnRzIGFuZCBhcmUgZXN0YWJsaXNoZWQgYnkgc3BlY2lmaWMgU0lQIG1ldGhvZHMsIHN1Y2hcbiAgICAgKiBhcyBJTlZJVEUuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXF1ZXN0IG1lc3NhZ2UuXG4gICAgICovXG4gICAgVXNlckFnZW50Q29yZS5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyA4LjIgVUFTIEJlaGF2aW9yXG4gICAgICAgIC8vIFVBU3MgU0hPVUxEIHByb2Nlc3MgdGhlIHJlcXVlc3RzIGluIHRoZSBvcmRlciBvZiB0aGUgc3RlcHMgdGhhdFxuICAgICAgICAvLyBmb2xsb3cgaW4gdGhpcyBzZWN0aW9uICh0aGF0IGlzLCBzdGFydGluZyB3aXRoIGF1dGhlbnRpY2F0aW9uLCB0aGVuXG4gICAgICAgIC8vIGluc3BlY3RpbmcgdGhlIG1ldGhvZCwgdGhlIGhlYWRlciBmaWVsZHMsIGFuZCBzbyBvbiB0aHJvdWdob3V0IHRoZVxuICAgICAgICAvLyByZW1haW5kZXIgb2YgdGhpcyBzZWN0aW9uKS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjJcbiAgICAgICAgLy8gOC4yLjEgTWV0aG9kIEluc3BlY3Rpb25cbiAgICAgICAgLy8gT25jZSBhIHJlcXVlc3QgaXMgYXV0aGVudGljYXRlZCAob3IgYXV0aGVudGljYXRpb24gaXMgc2tpcHBlZCksIHRoZVxuICAgICAgICAvLyBVQVMgTVVTVCBpbnNwZWN0IHRoZSBtZXRob2Qgb2YgdGhlIHJlcXVlc3QuICBJZiB0aGUgVUFTIHJlY29nbml6ZXNcbiAgICAgICAgLy8gYnV0IGRvZXMgbm90IHN1cHBvcnQgdGhlIG1ldGhvZCBvZiBhIHJlcXVlc3QsIGl0IE1VU1QgZ2VuZXJhdGUgYSA0MDVcbiAgICAgICAgLy8gKE1ldGhvZCBOb3QgQWxsb3dlZCkgcmVzcG9uc2UuICBQcm9jZWR1cmVzIGZvciBnZW5lcmF0aW5nIHJlc3BvbnNlc1xuICAgICAgICAvLyBhcmUgZGVzY3JpYmVkIGluIFNlY3Rpb24gOC4yLjYuICBUaGUgVUFTIE1VU1QgYWxzbyBhZGQgYW4gQWxsb3dcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIHRvIHRoZSA0MDUgKE1ldGhvZCBOb3QgQWxsb3dlZCkgcmVzcG9uc2UuICBUaGUgQWxsb3dcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIE1VU1QgbGlzdCB0aGUgc2V0IG9mIG1ldGhvZHMgc3VwcG9ydGVkIGJ5IHRoZSBVQVNcbiAgICAgICAgLy8gZ2VuZXJhdGluZyB0aGUgbWVzc2FnZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuMVxuICAgICAgICBpZiAoYWxsb3dlZF9tZXRob2RzXzEuQWxsb3dlZE1ldGhvZHMuaW5kZXhPZihtZXNzYWdlLm1ldGhvZCkgPT09IC0xKSB7XG4gICAgICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiA0MDUsXG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBbYWxsb3dIZWFkZXJdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMiBIZWFkZXIgSW5zcGVjdGlvblxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi4yXG4gICAgICAgIGlmICghbWVzc2FnZS5ydXJpKSB7IC8vIEZJWE1FOiBBIHJlcXVlc3QgbWVzc2FnZSBzaG91bGQgYWx3YXlzIGhhdmUgYW4gcnVyaVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdC1VUkkgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMi4xIFRvIGFuZCBSZXF1ZXN0LVVSSVxuICAgICAgICAvLyBJZiB0aGUgUmVxdWVzdC1VUkkgdXNlcyBhIHNjaGVtZSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBVQVMsIGl0IFNIT1VMRFxuICAgICAgICAvLyByZWplY3QgdGhlIHJlcXVlc3Qgd2l0aCBhIDQxNiAoVW5zdXBwb3J0ZWQgVVJJIFNjaGVtZSkgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjIuMVxuICAgICAgICBpZiAobWVzc2FnZS5ydXJpLnNjaGVtZSAhPT0gXCJzaXBcIikge1xuICAgICAgICAgICAgdGhpcy5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQxNiB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMi4xIFRvIGFuZCBSZXF1ZXN0LVVSSVxuICAgICAgICAvLyBJZiB0aGUgUmVxdWVzdC1VUkkgZG9lcyBub3QgaWRlbnRpZnkgYW4gYWRkcmVzcyB0aGF0IHRoZVxuICAgICAgICAvLyBVQVMgaXMgd2lsbGluZyB0byBhY2NlcHQgcmVxdWVzdHMgZm9yLCBpdCBTSE9VTEQgcmVqZWN0XG4gICAgICAgIC8vIHRoZSByZXF1ZXN0IHdpdGggYSA0MDQgKE5vdCBGb3VuZCkgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjIuMVxuICAgICAgICB2YXIgcnVyaSA9IG1lc3NhZ2UucnVyaTtcbiAgICAgICAgdmFyIHJ1cmlNYXRjaGVzID0gZnVuY3Rpb24gKHVyaSkge1xuICAgICAgICAgICAgcmV0dXJuICEhdXJpICYmIHVyaS51c2VyID09PSBydXJpLnVzZXI7XG4gICAgICAgIH07XG4gICAgICAgIGlmICghcnVyaU1hdGNoZXModGhpcy5jb25maWd1cmF0aW9uLmFvcikgJiZcbiAgICAgICAgICAgICEocnVyaU1hdGNoZXModGhpcy5jb25maWd1cmF0aW9uLmNvbnRhY3QudXJpKSB8fFxuICAgICAgICAgICAgICAgIHJ1cmlNYXRjaGVzKHRoaXMuY29uZmlndXJhdGlvbi5jb250YWN0LnB1YkdydXUpIHx8XG4gICAgICAgICAgICAgICAgcnVyaU1hdGNoZXModGhpcy5jb25maWd1cmF0aW9uLmNvbnRhY3QudGVtcEdydXUpKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIlJlcXVlc3QtVVJJIGRvZXMgbm90IHBvaW50IHRvIHVzLlwiKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCAhPT0gbWVzc2FnZXNfMS5DLkFDSykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0MDQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gOC4yLjIuMSBUbyBhbmQgUmVxdWVzdC1VUklcbiAgICAgICAgLy8gT3RoZXIgcG90ZW50aWFsIHNvdXJjZXMgb2YgcmVjZWl2ZWQgUmVxdWVzdC1VUklzIGluY2x1ZGVcbiAgICAgICAgLy8gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkcyBvZiByZXF1ZXN0cyBhbmQgcmVzcG9uc2VzIHNlbnQgYnkgdGhlIFVBXG4gICAgICAgIC8vIHRoYXQgZXN0YWJsaXNoIG9yIHJlZnJlc2ggZGlhbG9ncy5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuMi4xXG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLklOVklURSkge1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlLmhhc0hlYWRlcihcIkNvbnRhY3RcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxuICAgICAgICAgICAgICAgICAgICByZWFzb25QaHJhc2U6IFwiTWlzc2luZyBDb250YWN0IEhlYWRlclwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDguMi4yLjIgTWVyZ2VkIFJlcXVlc3RzXG4gICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGhhcyBubyB0YWcgaW4gdGhlIFRvIGhlYWRlciBmaWVsZCwgdGhlIFVBUyBjb3JlIE1VU1RcbiAgICAgICAgLy8gY2hlY2sgdGhlIHJlcXVlc3QgYWdhaW5zdCBvbmdvaW5nIHRyYW5zYWN0aW9ucy4gIElmIHRoZSBGcm9tIHRhZyxcbiAgICAgICAgLy8gQ2FsbC1JRCwgYW5kIENTZXEgZXhhY3RseSBtYXRjaCB0aG9zZSBhc3NvY2lhdGVkIHdpdGggYW4gb25nb2luZ1xuICAgICAgICAvLyB0cmFuc2FjdGlvbiwgYnV0IHRoZSByZXF1ZXN0IGRvZXMgbm90IG1hdGNoIHRoYXQgdHJhbnNhY3Rpb24gKGJhc2VkXG4gICAgICAgIC8vIG9uIHRoZSBtYXRjaGluZyBydWxlcyBpbiBTZWN0aW9uIDE3LjIuMyksIHRoZSBVQVMgY29yZSBTSE9VTERcbiAgICAgICAgLy8gZ2VuZXJhdGUgYSA0ODIgKExvb3AgRGV0ZWN0ZWQpIHJlc3BvbnNlIGFuZCBwYXNzIGl0IHRvIHRoZSBzZXJ2ZXJcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIFRoZSBzYW1lIHJlcXVlc3QgaGFzIGFycml2ZWQgYXQgdGhlIFVBUyBtb3JlIHRoYW4gb25jZSwgZm9sbG93aW5nXG4gICAgICAgIC8vICAgIGRpZmZlcmVudCBwYXRocywgbW9zdCBsaWtlbHkgZHVlIHRvIGZvcmtpbmcuICBUaGUgVUFTIHByb2Nlc3Nlc1xuICAgICAgICAvLyAgICB0aGUgZmlyc3Qgc3VjaCByZXF1ZXN0IHJlY2VpdmVkIGFuZCByZXNwb25kcyB3aXRoIGEgNDgyIChMb29wXG4gICAgICAgIC8vICAgIERldGVjdGVkKSB0byB0aGUgcmVzdCBvZiB0aGVtLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi4yLjJcbiAgICAgICAgaWYgKCFtZXNzYWdlLnRvVGFnKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb25JZCA9IG1lc3NhZ2UudmlhQnJhbmNoO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnVzZXJBZ2VudFNlcnZlcnMuaGFzKHRyYW5zYWN0aW9uSWQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lcmdlZFJlcXVlc3QgPSBBcnJheS5mcm9tKHRoaXMudXNlckFnZW50U2VydmVycy52YWx1ZXMoKSlcbiAgICAgICAgICAgICAgICAgICAgLnNvbWUoZnVuY3Rpb24gKHVhcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdWFzLnRyYW5zYWN0aW9uLnJlcXVlc3QuZnJvbVRhZyA9PT0gbWVzc2FnZS5mcm9tVGFnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMudHJhbnNhY3Rpb24ucmVxdWVzdC5jYWxsSWQgPT09IG1lc3NhZ2UuY2FsbElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMudHJhbnNhY3Rpb24ucmVxdWVzdC5jc2VxID09PSBtZXNzYWdlLmNzZXE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG1lcmdlZFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBseVN0YXRlbGVzcyhtZXNzYWdlLCB7IHN0YXR1c0NvZGU6IDQ4MiB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA4LjIuMi4zIFJlcXVpcmVcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjIuMi4zXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gOC4yLjMgQ29udGVudCBQcm9jZXNzaW5nXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjNcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyA4LjIuNCBBcHBseWluZyBFeHRlbnNpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjRcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyA4LjIuNSBQcm9jZXNzaW5nIHRoZSBSZXF1ZXN0XG4gICAgICAgIC8vIEFzc3VtaW5nIGFsbCBvZiB0aGUgY2hlY2tzIGluIHRoZSBwcmV2aW91cyBzdWJzZWN0aW9ucyBhcmUgcGFzc2VkLFxuICAgICAgICAvLyB0aGUgVUFTIHByb2Nlc3NpbmcgYmVjb21lcyBtZXRob2Qtc3BlY2lmaWMuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjVcbiAgICAgICAgLy8gVGhlIFVBUyB3aWxsIHJlY2VpdmUgdGhlIHJlcXVlc3QgZnJvbSB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIuICBJZiB0aGVcbiAgICAgICAgLy8gcmVxdWVzdCBoYXMgYSB0YWcgaW4gdGhlIFRvIGhlYWRlciBmaWVsZCwgdGhlIFVBUyBjb3JlIGNvbXB1dGVzIHRoZVxuICAgICAgICAvLyBkaWFsb2cgaWRlbnRpZmllciBjb3JyZXNwb25kaW5nIHRvIHRoZSByZXF1ZXN0IGFuZCBjb21wYXJlcyBpdCB3aXRoXG4gICAgICAgIC8vIGV4aXN0aW5nIGRpYWxvZ3MuICBJZiB0aGVyZSBpcyBhIG1hdGNoLCB0aGlzIGlzIGEgbWlkLWRpYWxvZyByZXF1ZXN0LlxuICAgICAgICAvLyBJbiB0aGF0IGNhc2UsIHRoZSBVQVMgZmlyc3QgYXBwbGllcyB0aGUgc2FtZSBwcm9jZXNzaW5nIHJ1bGVzIGZvclxuICAgICAgICAvLyByZXF1ZXN0cyBvdXRzaWRlIG9mIGEgZGlhbG9nLCBkaXNjdXNzZWQgaW4gU2VjdGlvbiA4LjIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMi4yXG4gICAgICAgIGlmIChtZXNzYWdlLnRvVGFnKSB7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVJbnNpZGVEaWFsb2dSZXF1ZXN0KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWNlaXZlT3V0c2lkZURpYWxvZ1JlcXVlc3QobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25jZSBhIGRpYWxvZyBoYXMgYmVlbiBlc3RhYmxpc2hlZCBiZXR3ZWVuIHR3byBVQXMsIGVpdGhlciBvZiB0aGVtXG4gICAgICogTUFZIGluaXRpYXRlIG5ldyB0cmFuc2FjdGlvbnMgYXMgbmVlZGVkIHdpdGhpbiB0aGUgZGlhbG9nLiAgVGhlIFVBXG4gICAgICogc2VuZGluZyB0aGUgcmVxdWVzdCB3aWxsIHRha2UgdGhlIFVBQyByb2xlIGZvciB0aGUgdHJhbnNhY3Rpb24uICBUaGVcbiAgICAgKiBVQSByZWNlaXZpbmcgdGhlIHJlcXVlc3Qgd2lsbCB0YWtlIHRoZSBVQVMgcm9sZS4gIE5vdGUgdGhhdCB0aGVzZSBtYXlcbiAgICAgKiBiZSBkaWZmZXJlbnQgcm9sZXMgdGhhbiB0aGUgVUFzIGhlbGQgZHVyaW5nIHRoZSB0cmFuc2FjdGlvbiB0aGF0XG4gICAgICogZXN0YWJsaXNoZWQgdGhlIGRpYWxvZy5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlSW5zaWRlRGlhbG9nUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIC8vIE5PVElGWSByZXF1ZXN0cyBhcmUgbWF0Y2hlZCB0byBzdWNoIFNVQlNDUklCRSByZXF1ZXN0cyBpZiB0aGV5XG4gICAgICAgIC8vIGNvbnRhaW4gdGhlIHNhbWUgXCJDYWxsLUlEXCIsIGEgXCJUb1wiIGhlYWRlciBmaWVsZCBcInRhZ1wiIHBhcmFtZXRlciB0aGF0XG4gICAgICAgIC8vIG1hdGNoZXMgdGhlIFwiRnJvbVwiIGhlYWRlciBmaWVsZCBcInRhZ1wiIHBhcmFtZXRlciBvZiB0aGUgU1VCU0NSSUJFXG4gICAgICAgIC8vIHJlcXVlc3QsIGFuZCB0aGUgc2FtZSBcIkV2ZW50XCIgaGVhZGVyIGZpZWxkLiAgUnVsZXMgZm9yIGNvbXBhcmlzb25zIG9mXG4gICAgICAgIC8vIHRoZSBcIkV2ZW50XCIgaGVhZGVyIGZpZWxkcyBhcmUgZGVzY3JpYmVkIGluIFNlY3Rpb24gOC4yLjEuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC40LjFcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuTk9USUZZKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRfMSA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoXCJFdmVudFwiKTtcbiAgICAgICAgICAgIGlmICghZXZlbnRfMSB8fCAhZXZlbnRfMS5ldmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0ODkgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRklYTUU6IFN1YnNjcmliZXIgaWQgc2hvdWxkIGFsc28gbWF0Y2hpbmcgb24gZXZlbnQgaWQuXG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlcklkID0gbWVzc2FnZS5jYWxsSWQgKyBtZXNzYWdlLnRvVGFnICsgZXZlbnRfMS5ldmVudDtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gdGhpcy5zdWJzY3JpYmVycy5nZXQoc3Vic2NyaWJlcklkKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyB1c2VyX2FnZW50c18xLk5vdGlmeVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm9uTm90aWZ5KHVhcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlcXVlc3RzIHNlbnQgd2l0aGluIGEgZGlhbG9nLCBhcyBhbnkgb3RoZXIgcmVxdWVzdHMsIGFyZSBhdG9taWMuICBJZlxuICAgICAgICAvLyBhIHBhcnRpY3VsYXIgcmVxdWVzdCBpcyBhY2NlcHRlZCBieSB0aGUgVUFTLCBhbGwgdGhlIHN0YXRlIGNoYW5nZXNcbiAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0IGFyZSBwZXJmb3JtZWQuICBJZiB0aGUgcmVxdWVzdCBpcyByZWplY3RlZCwgbm9uZVxuICAgICAgICAvLyBvZiB0aGUgc3RhdGUgY2hhbmdlcyBhcmUgcGVyZm9ybWVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICBOb3RlIHRoYXQgc29tZSByZXF1ZXN0cywgc3VjaCBhcyBJTlZJVEVzLCBhZmZlY3Qgc2V2ZXJhbCBwaWVjZXMgb2ZcbiAgICAgICAgLy8gICAgc3RhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBVQVMgd2lsbCByZWNlaXZlIHRoZSByZXF1ZXN0IGZyb20gdGhlIHRyYW5zYWN0aW9uIGxheWVyLiAgSWYgdGhlXG4gICAgICAgIC8vIHJlcXVlc3QgaGFzIGEgdGFnIGluIHRoZSBUbyBoZWFkZXIgZmllbGQsIHRoZSBVQVMgY29yZSBjb21wdXRlcyB0aGVcbiAgICAgICAgLy8gZGlhbG9nIGlkZW50aWZpZXIgY29ycmVzcG9uZGluZyB0byB0aGUgcmVxdWVzdCBhbmQgY29tcGFyZXMgaXQgd2l0aFxuICAgICAgICAvLyBleGlzdGluZyBkaWFsb2dzLiAgSWYgdGhlcmUgaXMgYSBtYXRjaCwgdGhpcyBpcyBhIG1pZC1kaWFsb2cgcmVxdWVzdC5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4yLjJcbiAgICAgICAgdmFyIGRpYWxvZ0lkID0gbWVzc2FnZS5jYWxsSWQgKyBtZXNzYWdlLnRvVGFnICsgbWVzc2FnZS5mcm9tVGFnO1xuICAgICAgICB2YXIgZGlhbG9nID0gdGhpcy5kaWFsb2dzLmdldChkaWFsb2dJZCk7XG4gICAgICAgIGlmIChkaWFsb2cpIHtcbiAgICAgICAgICAgIC8vIFtTaXAtaW1wbGVtZW50b3JzXSBSZWcuIFNJUCByZWludml0ZSwgVVBEQVRFIGFuZCBPUFRJT05TXG4gICAgICAgICAgICAvLyBZb3UgZ290IHRoZSBxdWVzdGlvbiByaWdodC5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBBbmQgeW91IGdvdCB0aGUgcmlnaHQgYW5zd2VyIHRvby4gOi0pXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICBUaGFua3MsXG4gICAgICAgICAgICAvLyAgIFBhdWxcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBSb2JlcnQgU3BhcmtzIHdyb3RlOlxuICAgICAgICAgICAgLy8gPiBTbyBJJ3ZlIGxvc3QgdHJhY2sgb2YgdGhlIHF1ZXN0aW9uIGR1cmluZyB0aGUgbXVzaW5nLlxuICAgICAgICAgICAgLy8gPlxuICAgICAgICAgICAgLy8gPiBJIF90aGlua18gdGhlIGZ1bmRhbWVudGFsIHF1ZXN0aW9uIGJlaW5nIGFza2VkIGlzIHRoaXM6XG4gICAgICAgICAgICAvLyA+XG4gICAgICAgICAgICAvLyA+IElzIGFuIGVuZHBvaW50IHJlcXVpcmVkIHRvIHJlamVjdCAod2l0aCBhIDQ4MSkgYW4gT1BUSU9OUyByZXF1ZXN0IHRoYXRcbiAgICAgICAgICAgIC8vID4gYXJyaXZlcyB3aXRoIGF0IHRvLXRhZyBidXQgZG9lcyBub3QgbWF0Y2ggYW55IGV4aXN0aW5nIGRpYWxvZyBzdGF0ZS5cbiAgICAgICAgICAgIC8vID4gKEFzc3VtaW5nIHNvbWUgZWFybGllciByZXF1aXJlbWVudCBoYXNuJ3QgZm9yY2VkIGFub3RoZXIgZXJyb3IgY29kZSkuIE9yXG4gICAgICAgICAgICAvLyA+IGlzIGl0IE9LIGlmIGl0IGp1c3Qgc2VuZHNcbiAgICAgICAgICAgIC8vID4gYSAyMDAgT0sgYW55aG93LlxuICAgICAgICAgICAgLy8gPlxuICAgICAgICAgICAgLy8gPiBNeSB0YWtlIG9uIHRoZSBjb2xsZWN0aW9uIG9mIHNwZWNzIGlzIHRoYXQgaXRzIF9ub3RfIG9rIGZvciBpdCB0byBzZW5kXG4gICAgICAgICAgICAvLyA+IHRoZSAyMDAgT0sgYW55aG93IGFuZCB0aGF0IGl0IGlzIHJlcXVpcmVkIHRvIHNlbmRcbiAgICAgICAgICAgIC8vID4gdGhlIDQ4MS4gSSBiYXNlIHRoaXMgcHJpbWFyaWx5IG9uIHRoZXNlIHNlbnRlbmNlcyBmcm9tIDExLjIgaW4gMzI2MTpcbiAgICAgICAgICAgIC8vID5cbiAgICAgICAgICAgIC8vID4gICAgVGhlIHJlc3BvbnNlIHRvIGFuIE9QVElPTlMgaXMgY29uc3RydWN0ZWQgdXNpbmcgdGhlIHN0YW5kYXJkIHJ1bGVzXG4gICAgICAgICAgICAvLyA+ICAgIGZvciBhIFNJUCByZXNwb25zZSBhcyBkaXNjdXNzZWQgaW4gU2VjdGlvbiA4LjIuNi4gIFRoZSByZXNwb25zZSBjb2RlXG4gICAgICAgICAgICAvLyA+ICAgIGNob3NlbiBNVVNUIGJlIHRoZSBzYW1lIHRoYXQgd291bGQgaGF2ZSBiZWVuIGNob3NlbiBoYWQgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIC8vID4gICAgYmVlbiBhbiBJTlZJVEUuXG4gICAgICAgICAgICAvLyA+XG4gICAgICAgICAgICAvLyA+IERpZCBJIG1pc3MgdGhlIHBvaW50IG9mIHRoZSBxdWVzdGlvbj9cbiAgICAgICAgICAgIC8vID5cbiAgICAgICAgICAgIC8vID4gT24gTWF5IDE1LCAyMDA4LCBhdCAxMjo0OCBQTSwgUGF1bCBLeXppdmF0IHdyb3RlOlxuICAgICAgICAgICAgLy8gPlxuICAgICAgICAgICAgLy8gPj4gW0luY2x1ZGluZyBSb2JlcnQgaW4gaG9wZXMgb2YgZ2V0dGluZyBoaXMgaW5zaWdodCBvbiB0aGlzLl1cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vbGlzdHMuY3MuY29sdW1iaWEuZWR1L3BpcGVybWFpbC9zaXAtaW1wbGVtZW50b3JzLzIwMDgtTWF5LzAxOTE3OC5odG1sXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gUmVxdWVzdHMgdGhhdCBkbyBub3QgY2hhbmdlIGluIGFueSB3YXkgdGhlIHN0YXRlIG9mIGEgZGlhbG9nIG1heSBiZVxuICAgICAgICAgICAgLy8gcmVjZWl2ZWQgd2l0aGluIGEgZGlhbG9nIChmb3IgZXhhbXBsZSwgYW4gT1BUSU9OUyByZXF1ZXN0KS4gIFRoZXkgYXJlXG4gICAgICAgICAgICAvLyBwcm9jZXNzZWQgYXMgaWYgdGhleSBoYWQgYmVlbiByZWNlaXZlZCBvdXRzaWRlIHRoZSBkaWFsb2cuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubWV0aG9kID09PSBtZXNzYWdlc18xLkMuT1BUSU9OUykge1xuICAgICAgICAgICAgICAgIHZhciBhbGxvd0hlYWRlciA9IFwiQWxsb3c6IFwiICsgYWxsb3dlZF9tZXRob2RzXzEuQWxsb3dlZE1ldGhvZHMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgYWNjZXB0SGVhZGVyID0gXCJBY2NlcHQ6IFwiICsgYWNjZXB0ZWRCb2R5VHlwZXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnM6IFthbGxvd0hlYWRlciwgYWNjZXB0SGVhZGVyXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBhc3MgdGhlIGluY29taW5nIHJlcXVlc3QgdG8gdGhlIGRpYWxvZyBmb3IgZnVydGhlciBoYW5kbGluZy5cbiAgICAgICAgICAgIGRpYWxvZy5yZWNlaXZlUmVxdWVzdChtZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgbW9zdCBpbXBvcnRhbnQgYmVoYXZpb3JzIG9mIGEgc3RhdGVsZXNzIFVBUyBhcmUgdGhlIGZvbGxvd2luZzpcbiAgICAgICAgLy8gLi4uXG4gICAgICAgIC8vIG8gIEEgc3RhdGVsZXNzIFVBUyBNVVNUIGlnbm9yZSBBQ0sgcmVxdWVzdHMuXG4gICAgICAgIC8vIC4uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMi43XG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGhvZCA9PT0gbWVzc2FnZXNfMS5DLkFDSykge1xuICAgICAgICAgICAgLy8gSWYgYSBmaW5hbCByZXNwb25zZSB0byBhbiBJTlZJVEUgd2FzIHNlbnQgc3RhdGVsZXNzbHksXG4gICAgICAgICAgICAvLyB0aGUgY29ycmVzcG9uZGluZyBBQ0s6XG4gICAgICAgICAgICAvLyAtIHdpbGwgbm90IG1hdGNoIGFuIGV4aXN0aW5nIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAvLyAtIG1heSBoYXZlIHRhZyBpbiB0aGUgVG8gaGVhZGVyIGZpZWxkXG4gICAgICAgICAgICAvLyAtIG5vdCBub3QgbWF0Y2ggYW55IGV4aXN0aW5nIGRpYWxvZ3NcbiAgICAgICAgICAgIC8vIEFic29yYiB1bm1hdGNoZWQgQUNLcy5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBoYXMgYSB0YWcgaW4gdGhlIFRvIGhlYWRlciBmaWVsZCwgYnV0IHRoZSBkaWFsb2dcbiAgICAgICAgLy8gaWRlbnRpZmllciBkb2VzIG5vdCBtYXRjaCBhbnkgZXhpc3RpbmcgZGlhbG9ncywgdGhlIFVBUyBtYXkgaGF2ZVxuICAgICAgICAvLyBjcmFzaGVkIGFuZCByZXN0YXJ0ZWQsIG9yIGl0IG1heSBoYXZlIHJlY2VpdmVkIGEgcmVxdWVzdCBmb3IgYVxuICAgICAgICAvLyBkaWZmZXJlbnQgKHBvc3NpYmx5IGZhaWxlZCkgVUFTICh0aGUgVUFTcyBjYW4gY29uc3RydWN0IHRoZSBUbyB0YWdzXG4gICAgICAgIC8vIHNvIHRoYXQgYSBVQVMgY2FuIGlkZW50aWZ5IHRoYXQgdGhlIHRhZyB3YXMgZm9yIGEgVUFTIGZvciB3aGljaCBpdCBpc1xuICAgICAgICAvLyBwcm92aWRpbmcgcmVjb3ZlcnkpLiAgQW5vdGhlciBwb3NzaWJpbGl0eSBpcyB0aGF0IHRoZSBpbmNvbWluZ1xuICAgICAgICAvLyByZXF1ZXN0IGhhcyBiZWVuIHNpbXBseSBtaXMtcm91dGVkLiAgQmFzZWQgb24gdGhlIFRvIHRhZywgdGhlIFVBUyBNQVlcbiAgICAgICAgLy8gZWl0aGVyIGFjY2VwdCBvciByZWplY3QgdGhlIHJlcXVlc3QuICBBY2NlcHRpbmcgdGhlIHJlcXVlc3QgZm9yXG4gICAgICAgIC8vIGFjY2VwdGFibGUgVG8gdGFncyBwcm92aWRlcyByb2J1c3RuZXNzLCBzbyB0aGF0IGRpYWxvZ3MgY2FuIHBlcnNpc3RcbiAgICAgICAgLy8gZXZlbiB0aHJvdWdoIGNyYXNoZXMuICBVQXMgd2lzaGluZyB0byBzdXBwb3J0IHRoaXMgY2FwYWJpbGl0eSBtdXN0XG4gICAgICAgIC8vIHRha2UgaW50byBjb25zaWRlcmF0aW9uIHNvbWUgaXNzdWVzIHN1Y2ggYXMgY2hvb3NpbmcgbW9ub3RvbmljYWxseVxuICAgICAgICAvLyBpbmNyZWFzaW5nIENTZXEgc2VxdWVuY2UgbnVtYmVycyBldmVuIGFjcm9zcyByZWJvb3RzLCByZWNvbnN0cnVjdGluZ1xuICAgICAgICAvLyB0aGUgcm91dGUgc2V0LCBhbmQgYWNjZXB0aW5nIG91dC1vZi1yYW5nZSBSVFAgdGltZXN0YW1wcyBhbmQgc2VxdWVuY2VcbiAgICAgICAgLy8gbnVtYmVycy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlIFVBUyB3aXNoZXMgdG8gcmVqZWN0IHRoZSByZXF1ZXN0IGJlY2F1c2UgaXQgZG9lcyBub3Qgd2lzaCB0b1xuICAgICAgICAvLyByZWNyZWF0ZSB0aGUgZGlhbG9nLCBpdCBNVVNUIHJlc3BvbmQgdG8gdGhlIHJlcXVlc3Qgd2l0aCBhIDQ4MVxuICAgICAgICAvLyAoQ2FsbC9UcmFuc2FjdGlvbiBEb2VzIE5vdCBFeGlzdCkgc3RhdHVzIGNvZGUgYW5kIHBhc3MgdGhhdCB0byB0aGVcbiAgICAgICAgLy8gc2VydmVyIHRyYW5zYWN0aW9uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEyLjIuMlxuICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNDgxIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBc3N1bWluZyBhbGwgb2YgdGhlIGNoZWNrcyBpbiB0aGUgcHJldmlvdXMgc3Vic2VjdGlvbnMgYXJlIHBhc3NlZCxcbiAgICAgKiB0aGUgVUFTIHByb2Nlc3NpbmcgYmVjb21lcyBtZXRob2Qtc3BlY2lmaWMuXG4gICAgICogIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4yLjVcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIEluY29taW5nIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlT3V0c2lkZURpYWxvZ1JlcXVlc3QgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5BQ0s6XG4gICAgICAgICAgICAgICAgLy8gQWJzb3JiIHN0cmF5IG91dCBvZiBkaWFsb2cgQUNLc1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuQllFOlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBCWUUgZG9lcyBub3QgbWF0Y2ggYW4gZXhpc3RpbmcgZGlhbG9nLCB0aGUgVUFTIGNvcmUgU0hPVUxEXG4gICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgYSA0ODEgKENhbGwvVHJhbnNhY3Rpb24gRG9lcyBOb3QgRXhpc3QpIHJlc3BvbnNlIGFuZCBwYXNzXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0byB0aGUgc2VydmVyIHRyYW5zYWN0aW9uLiBUaGlzIHJ1bGUgbWVhbnMgdGhhdCBhIEJZRSBzZW50XG4gICAgICAgICAgICAgICAgLy8gd2l0aG91dCB0YWdzIGJ5IGEgVUFDIHdpbGwgYmUgcmVqZWN0ZWQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xNS4xLjJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHsgc3RhdHVzQ29kZTogNDgxIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuQ0FOQ0VMOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgb3V0IG9mIGRpYWxvZyByZXF1ZXN0IG1ldGhvZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuSU5GTzpcbiAgICAgICAgICAgICAgICAvLyBVc2Ugb2YgdGhlIElORk8gbWV0aG9kIGRvZXMgbm90IGNvbnN0aXR1dGUgYSBzZXBhcmF0ZSBkaWFsb2cgdXNhZ2UuXG4gICAgICAgICAgICAgICAgLy8gSU5GTyBtZXNzYWdlcyBhcmUgYWx3YXlzIHBhcnQgb2YsIGFuZCBzaGFyZSB0aGUgZmF0ZSBvZiwgYW4gaW52aXRlXG4gICAgICAgICAgICAgICAgLy8gZGlhbG9nIHVzYWdlIFtSRkM1MDU3XS4gIElORk8gbWVzc2FnZXMgY2Fubm90IGJlIHNlbnQgYXMgcGFydCBvZlxuICAgICAgICAgICAgICAgIC8vIG90aGVyIGRpYWxvZyB1c2FnZXMsIG9yIG91dHNpZGUgYW4gZXhpc3RpbmcgZGlhbG9nLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDg2I3NlY3Rpb24tMVxuICAgICAgICAgICAgICAgIHRoaXMucmVwbHlTdGF0ZWxlc3MobWVzc2FnZSwgeyBzdGF0dXNDb2RlOiA0MDUgfSk7IC8vIFNob3VsZCBuZXZlciBoYXBwZW5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLklOVklURTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjMuMVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyB1c2VyX2FnZW50c18xLkludml0ZVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbkludml0ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uSW52aXRlKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk1FU1NBR0U6XG4gICAgICAgICAgICAgICAgLy8gTUVTU0FHRSByZXF1ZXN0cyBhcmUgZGlzY291cmFnZWQgaW5zaWRlIGEgZGlhbG9nLiAgSW1wbGVtZW50YXRpb25zXG4gICAgICAgICAgICAgICAgLy8gYXJlIHJlc3RyaWN0ZWQgZnJvbSBjcmVhdGluZyBhIHVzYWdlIGZvciB0aGUgcHVycG9zZSBvZiBjYXJyeWluZyBhXG4gICAgICAgICAgICAgICAgLy8gc2VxdWVuY2Ugb2YgTUVTU0FHRSByZXF1ZXN0cyAodGhvdWdoIHNvbWUgaW1wbGVtZW50YXRpb25zIHVzZSBpdCB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd2F5LCBhZ2FpbnN0IHRoZSBzdGFuZGFyZCByZWNvbW1lbmRhdGlvbikuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzUwNTcjc2VjdGlvbi01LjNcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1YXMgPSBuZXcgdXNlcl9hZ2VudHNfMS5NZXNzYWdlVXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTWVzc2FnZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTWVzc2FnZSh1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG1lc3NhZ2VzXzEuQy5OT1RJRlk6XG4gICAgICAgICAgICAgICAgLy8gT2Jzb2xldGVkIGJ5OiBSRkMgNjY2NVxuICAgICAgICAgICAgICAgIC8vIElmIGFueSBub24tU1VCU0NSSUJFIG1lY2hhbmlzbXMgYXJlIGRlZmluZWQgdG8gY3JlYXRlIHN1YnNjcmlwdGlvbnMsXG4gICAgICAgICAgICAgICAgLy8gaXQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBwYXJ0aWVzIGRlZmluaW5nIHRob3NlIG1lY2hhbmlzbXMgdG9cbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCBjb3JyZWxhdGlvbiBvZiBhIE5PVElGWSBtZXNzYWdlIHRvIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgICAgICAgICAgLy8gc3Vic2NyaXB0aW9uIGlzIHBvc3NpYmxlLiAgRGVzaWduZXJzIG9mIHN1Y2ggbWVjaGFuaXNtcyBhcmUgYWxzb1xuICAgICAgICAgICAgICAgIC8vIHdhcm5lZCB0byBtYWtlIGEgZGlzdGluY3Rpb24gYmV0d2VlbiBzZW5kaW5nIGEgTk9USUZZIG1lc3NhZ2UgdG8gYVxuICAgICAgICAgICAgICAgIC8vIHN1YnNjcmliZXIgd2hvIGlzIGF3YXJlIG9mIHRoZSBzdWJzY3JpcHRpb24sIGFuZCBzZW5kaW5nIGEgTk9USUZZXG4gICAgICAgICAgICAgICAgLy8gbWVzc2FnZSB0byBhbiB1bnN1c3BlY3Rpbmcgbm9kZS4gIFRoZSBsYXR0ZXIgYmVoYXZpb3IgaXMgaW52YWxpZCwgYW5kXG4gICAgICAgICAgICAgICAgLy8gTVVTVCByZWNlaXZlIGEgXCI0ODEgU3Vic2NyaXB0aW9uIGRvZXMgbm90IGV4aXN0XCIgcmVzcG9uc2UgKHVubGVzc1xuICAgICAgICAgICAgICAgIC8vIHNvbWUgb3RoZXIgNDAwLSBvciA1MDAtY2xhc3MgZXJyb3IgY29kZSBpcyBtb3JlIGFwcGxpY2FibGUpLCBhc1xuICAgICAgICAgICAgICAgIC8vIGRlc2NyaWJlZCBpbiBzZWN0aW9uIDMuMi40LiAgSW4gb3RoZXIgd29yZHMsIGtub3dsZWRnZSBvZiBhXG4gICAgICAgICAgICAgICAgLy8gc3Vic2NyaXB0aW9uIG11c3QgZXhpc3QgaW4gYm90aCB0aGUgc3Vic2NyaWJlciBhbmQgdGhlIG5vdGlmaWVyIHRvIGJlXG4gICAgICAgICAgICAgICAgLy8gdmFsaWQsIGV2ZW4gaWYgaW5zdGFsbGVkIHZpYSBhIG5vbi1TVUJTQ1JJQkUgbWVjaGFuaXNtLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjY1I3NlY3Rpb24tMy4yXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBOT1RJRlkgcmVxdWVzdHMgYXJlIHNlbnQgdG8gaW5mb3JtIHN1YnNjcmliZXJzIG9mIGNoYW5nZXMgaW4gc3RhdGUgdG9cbiAgICAgICAgICAgICAgICAvLyB3aGljaCB0aGUgc3Vic2NyaWJlciBoYXMgYSBzdWJzY3JpcHRpb24uICBTdWJzY3JpcHRpb25zIGFyZSBjcmVhdGVkXG4gICAgICAgICAgICAgICAgLy8gdXNpbmcgdGhlIFNVQlNDUklCRSBtZXRob2QuICBJbiBsZWdhY3kgaW1wbGVtZW50YXRpb25zLCBpdCBpc1xuICAgICAgICAgICAgICAgIC8vIHBvc3NpYmxlIHRoYXQgb3RoZXIgbWVhbnMgb2Ygc3Vic2NyaXB0aW9uIGNyZWF0aW9uIGhhdmUgYmVlbiB1c2VkLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHRoaXMgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCBhbGxvdyB0aGUgY3JlYXRpb24gb2ZcbiAgICAgICAgICAgICAgICAvLyBzdWJzY3JpcHRpb25zIGV4Y2VwdCB0aHJvdWdoIFNVQlNDUklCRSByZXF1ZXN0cyBhbmQgKGZvciBiYWNrd2FyZHMtXG4gICAgICAgICAgICAgICAgLy8gY29tcGF0aWJpbGl0eSkgUkVGRVIgcmVxdWVzdHMgW1JGQzM1MTVdLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tMy4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHVzZXJfYWdlbnRzXzEuTm90aWZ5VXNlckFnZW50U2VydmVyKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDA1IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLk9QVElPTlM6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMS4yXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2NlcHRIZWFkZXIgPSBcIkFjY2VwdDogXCIgKyBhY2NlcHRlZEJvZHlUeXBlcy50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGx5U3RhdGVsZXNzKG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVyczogW2FsbG93SGVhZGVyLCBhY2NlcHRIZWFkZXJdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLlJFRkVSOlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNTE1I3NlY3Rpb24tMi40LjJcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1YXMgPSBuZXcgdXNlcl9hZ2VudHNfMS5SZWZlclVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlZmVyID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWZlcih1YXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhcy5yZWplY3QoeyBzdGF0dXNDb2RlOiA0MDUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLkMuUkVHSVNURVI6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMC4zXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWFzID0gbmV3IHVzZXJfYWdlbnRzXzEuUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIodGhpcywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25SZWdpc3RlciA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUmVnaXN0ZXIodWFzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDA1IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5DLlNVQlNDUklCRTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVhcyA9IG5ldyB1c2VyX2FnZW50c18xLlN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcih0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblN1YnNjcmliZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uU3Vic2NyaWJlKHVhcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdWFzLnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4MCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgb3V0IG9mIGRpYWxvZyByZXF1ZXN0IG1ldGhvZCBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc3BvbnNlcyBhcmUgZmlyc3QgcHJvY2Vzc2VkIGJ5IHRoZSB0cmFuc3BvcnQgbGF5ZXIgYW5kIHRoZW4gcGFzc2VkXG4gICAgICogdXAgdG8gdGhlIHRyYW5zYWN0aW9uIGxheWVyLiAgVGhlIHRyYW5zYWN0aW9uIGxheWVyIHBlcmZvcm1zIGl0c1xuICAgICAqIHByb2Nlc3NpbmcgYW5kIHRoZW4gcGFzc2VzIHRoZSByZXNwb25zZSB1cCB0byB0aGUgVFUuICBUaGUgbWFqb3JpdHlcbiAgICAgKiBvZiByZXNwb25zZSBwcm9jZXNzaW5nIGluIHRoZSBUVSBpcyBtZXRob2Qgc3BlY2lmaWMuICBIb3dldmVyLCB0aGVyZVxuICAgICAqIGFyZSBzb21lIGdlbmVyYWwgYmVoYXZpb3JzIGluZGVwZW5kZW50IG9mIHRoZSBtZXRob2QuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuM1xuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gSW5jb21pbmcgcmVzcG9uc2UgbWVzc2FnZSBmcm9tIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKi9cbiAgICBVc2VyQWdlbnRDb3JlLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2VGcm9tVHJhbnNwb3J0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gOC4xLjMuMSBUcmFuc2FjdGlvbiBMYXllciBFcnJvcnNcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMy4xXG4gICAgICAgIC8vIEhhbmRsZWQgYnkgdHJhbnNhY3Rpb24gbGF5ZXIgY2FsbGJhY2tzLlxuICAgICAgICAvLyA4LjEuMy4yIFVucmVjb2duaXplZCBSZXNwb25zZXNcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi04LjEuMy4xXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gOC4xLjMuMyBWaWFzXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuM1xuICAgICAgICBpZiAobWVzc2FnZS5nZXRIZWFkZXJzKFwidmlhXCIpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJNb3JlIHRoYW4gb25lIFZpYSBoZWFkZXIgZmllbGQgcHJlc2VudCBpbiB0aGUgcmVzcG9uc2UsIGRyb3BwaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIDguMS4zLjQgUHJvY2Vzc2luZyAzeHggUmVzcG9uc2VzXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuNFxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIDguMS4zLjUgUHJvY2Vzc2luZyA0eHggUmVzcG9uc2VzXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tOC4xLjMuNVxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIFdoZW4gdGhlIHRyYW5zcG9ydCBsYXllciBpbiB0aGUgY2xpZW50IHJlY2VpdmVzIGEgcmVzcG9uc2UsIGl0IGhhcyB0b1xuICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggY2xpZW50IHRyYW5zYWN0aW9uIHdpbGwgaGFuZGxlIHRoZSByZXNwb25zZSwgc28gdGhhdFxuICAgICAgICAvLyB0aGUgcHJvY2Vzc2luZyBvZiBTZWN0aW9ucyAxNy4xLjEgYW5kIDE3LjEuMiBjYW4gdGFrZSBwbGFjZS4gIFRoZVxuICAgICAgICAvLyBicmFuY2ggcGFyYW1ldGVyIGluIHRoZSB0b3AgVmlhIGhlYWRlciBmaWVsZCBpcyB1c2VkIGZvciB0aGlzXG4gICAgICAgIC8vIHB1cnBvc2UuICBBIHJlc3BvbnNlIG1hdGNoZXMgYSBjbGllbnQgdHJhbnNhY3Rpb24gdW5kZXIgdHdvXG4gICAgICAgIC8vIGNvbmRpdGlvbnM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIDEuICBJZiB0aGUgcmVzcG9uc2UgaGFzIHRoZSBzYW1lIHZhbHVlIG9mIHRoZSBicmFuY2ggcGFyYW1ldGVyIGluXG4gICAgICAgIC8vICAgICAgICB0aGUgdG9wIFZpYSBoZWFkZXIgZmllbGQgYXMgdGhlIGJyYW5jaCBwYXJhbWV0ZXIgaW4gdGhlIHRvcFxuICAgICAgICAvLyAgICAgICAgVmlhIGhlYWRlciBmaWVsZCBvZiB0aGUgcmVxdWVzdCB0aGF0IGNyZWF0ZWQgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAyLiAgSWYgdGhlIG1ldGhvZCBwYXJhbWV0ZXIgaW4gdGhlIENTZXEgaGVhZGVyIGZpZWxkIG1hdGNoZXMgdGhlXG4gICAgICAgIC8vICAgICAgICBtZXRob2Qgb2YgdGhlIHJlcXVlc3QgdGhhdCBjcmVhdGVkIHRoZSB0cmFuc2FjdGlvbi4gIFRoZVxuICAgICAgICAvLyAgICAgICAgbWV0aG9kIGlzIG5lZWRlZCBzaW5jZSBhIENBTkNFTCByZXF1ZXN0IGNvbnN0aXR1dGVzIGFcbiAgICAgICAgLy8gICAgICAgIGRpZmZlcmVudCB0cmFuc2FjdGlvbiwgYnV0IHNoYXJlcyB0aGUgc2FtZSB2YWx1ZSBvZiB0aGUgYnJhbmNoXG4gICAgICAgIC8vICAgICAgICBwYXJhbWV0ZXIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTcuMS4zXG4gICAgICAgIHZhciB1c2VyQWdlbnRDbGllbnRJZCA9IG1lc3NhZ2UudmlhQnJhbmNoICsgbWVzc2FnZS5tZXRob2Q7XG4gICAgICAgIHZhciB1c2VyQWdlbnRDbGllbnQgPSB0aGlzLnVzZXJBZ2VudENsaWVudHMuZ2V0KHVzZXJBZ2VudENsaWVudElkKTtcbiAgICAgICAgLy8gVGhlIGNsaWVudCB0cmFuc3BvcnQgdXNlcyB0aGUgbWF0Y2hpbmcgcHJvY2VkdXJlcyBvZiBTZWN0aW9uXG4gICAgICAgIC8vIDE3LjEuMyB0byBhdHRlbXB0IHRvIG1hdGNoIHRoZSByZXNwb25zZSB0byBhbiBleGlzdGluZ1xuICAgICAgICAvLyB0cmFuc2FjdGlvbi4gIElmIHRoZXJlIGlzIGEgbWF0Y2gsIHRoZSByZXNwb25zZSBNVVNUIGJlIHBhc3NlZCB0b1xuICAgICAgICAvLyB0aGF0IHRyYW5zYWN0aW9uLiAgT3RoZXJ3aXNlLCBhbnkgZWxlbWVudCBvdGhlciB0aGFuIGEgc3RhdGVsZXNzXG4gICAgICAgIC8vIHByb3h5IE1VU1Qgc2lsZW50bHkgZGlzY2FyZCB0aGUgcmVzcG9uc2UuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MDI2I3NlY3Rpb24tOC45XG4gICAgICAgIGlmICh1c2VyQWdlbnRDbGllbnQpIHtcbiAgICAgICAgICAgIHVzZXJBZ2VudENsaWVudC50cmFuc2FjdGlvbi5yZWNlaXZlUmVzcG9uc2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiRGlzY2FyZGluZyB1bm1hdGNoZWQgXCIgKyBtZXNzYWdlLnN0YXR1c0NvZGUgKyBcIiByZXNwb25zZSB0byBcIiArIG1lc3NhZ2UubWV0aG9kICsgXCIgXCIgKyB1c2VyQWdlbnRDbGllbnRJZCArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFVzZXJBZ2VudENvcmU7XG59KCkpO1xuZXhwb3J0cy5Vc2VyQWdlbnRDb3JlID0gVXNlckFnZW50Q29yZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogQ0FOQ0VMIFVBQy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIENhbmNlbFVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDYW5jZWxVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FuY2VsVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBDYW5jZWxVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLkNhbmNlbFVzZXJBZ2VudENsaWVudCA9IENhbmNlbFVzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZGlhbG9nc18xID0gcmVxdWlyZShcIi4uL2RpYWxvZ3NcIik7XG52YXIgc2Vzc2lvbl8xID0gcmVxdWlyZShcIi4uL3Nlc3Npb25cIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogSU5WSVRFIFVBQy5cbiAqIEByZW1hcmtzXG4gKiAxMyBJbml0aWF0aW5nIGEgU2Vzc2lvblxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xM1xuICogMTMuMSBPdmVydmlld1xuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4xXG4gKiAxMy4yIFVBQyBQcm9jZXNzaW5nXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjJcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEludml0ZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbnZpdGVVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW52aXRlVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29uZmlybWVkRGlhbG9nQWNrcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgX3RoaXMuY29uZmlybWVkRGlhbG9ncyA9IG5ldyBNYXAoKTtcbiAgICAgICAgX3RoaXMuZWFybHlEaWFsb2dzID0gbmV3IE1hcCgpO1xuICAgICAgICBfdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEludml0ZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhlIFVBQyBjb3JlIGNvbnNpZGVycyB0aGUgSU5WSVRFIHRyYW5zYWN0aW9uIGNvbXBsZXRlZCA2NCpUMSBzZWNvbmRzXG4gICAgICAgIC8vIGFmdGVyIHRoZSByZWNlcHRpb24gb2YgdGhlIGZpcnN0IDJ4eCByZXNwb25zZS4gIEF0IHRoaXMgcG9pbnQgYWxsIHRoZVxuICAgICAgICAvLyBlYXJseSBkaWFsb2dzIHRoYXQgaGF2ZSBub3QgdHJhbnNpdGlvbmVkIHRvIGVzdGFibGlzaGVkIGRpYWxvZ3MgYXJlXG4gICAgICAgIC8vIHRlcm1pbmF0ZWQuICBPbmNlIHRoZSBJTlZJVEUgdHJhbnNhY3Rpb24gaXMgY29uc2lkZXJlZCBjb21wbGV0ZWQgYnlcbiAgICAgICAgLy8gdGhlIFVBQyBjb3JlLCBubyBtb3JlIG5ldyAyeHggcmVzcG9uc2VzIGFyZSBleHBlY3RlZCB0byBhcnJpdmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmLCBhZnRlciBhY2tub3dsZWRnaW5nIGFueSAyeHggcmVzcG9uc2UgdG8gYW4gSU5WSVRFLCB0aGUgVUFDIGRvZXNcbiAgICAgICAgLy8gbm90IHdhbnQgdG8gY29udGludWUgd2l0aCB0aGF0IGRpYWxvZywgdGhlbiB0aGUgVUFDIE1VU1QgdGVybWluYXRlXG4gICAgICAgIC8vIHRoZSBkaWFsb2cgYnkgc2VuZGluZyBhIEJZRSByZXF1ZXN0IGFzIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDE1LlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMi40XG4gICAgICAgIHRoaXMuZWFybHlEaWFsb2dzLmZvckVhY2goZnVuY3Rpb24gKGVhcmx5RGlhbG9nKSB7IHJldHVybiBlYXJseURpYWxvZy5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5jbGVhcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNwZWNpYWwgY2FzZSBmb3IgdHJhbnNwb3J0IGVycm9yIHdoaWxlIHNlbmRpbmcgQUNLLlxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRyYW5zcG9ydCBlcnJvclxuICAgICAqL1xuICAgIEludml0ZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy50cmFuc2FjdGlvbi5zdGF0ZSA9PT0gdHJhbnNhY3Rpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZS5DYWxsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vdCBpbiAnY2FsbGluZycgc3RhdGUsIHRoZSB0cmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2VuZGluZyBhbiBBQ0suXG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlVzZXIgYWdlbnQgY2xpZW50IHJlcXVlc3QgdHJhbnNwb3J0IGVycm9yIHdoaWxlIHNlbmRpbmcgQUNLLlwiKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9uY2UgdGhlIElOVklURSBoYXMgYmVlbiBwYXNzZWQgdG8gdGhlIElOVklURSBjbGllbnQgdHJhbnNhY3Rpb24sIHRoZVxuICAgICAqIFVBQyB3YWl0cyBmb3IgcmVzcG9uc2VzIGZvciB0aGUgSU5WSVRFLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yXG4gICAgICogQHBhcmFtIGluY29taW5nUmVzcG9uc2UgLSBJbmNvbWluZyByZXNwb25zZSB0byBJTlZJVEUgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBJbnZpdGVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5hdXRoZW50aWNhdGlvbkd1YXJkKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBtZXNzYWdlLnN0YXR1c0NvZGUgPyBtZXNzYWdlLnN0YXR1c0NvZGUudG9TdHJpbmcoKSA6IFwiXCI7XG4gICAgICAgIGlmICghc3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2Ugc3RhdHVzIGNvZGUgdW5kZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgL14xMDAkLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25UcnlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblRyeWluZyh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIFplcm8sIG9uZSBvciBtdWx0aXBsZSBwcm92aXNpb25hbCByZXNwb25zZXMgbWF5IGFycml2ZSBiZWZvcmUgb25lIG9yXG4gICAgICAgICAgICAgICAgLy8gbW9yZSBmaW5hbCByZXNwb25zZXMgYXJlIHJlY2VpdmVkLiAgUHJvdmlzaW9uYWwgcmVzcG9uc2VzIGZvciBhblxuICAgICAgICAgICAgICAgIC8vIElOVklURSByZXF1ZXN0IGNhbiBjcmVhdGUgXCJlYXJseSBkaWFsb2dzXCIuICBJZiBhIHByb3Zpc2lvbmFsIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gaGFzIGEgdGFnIGluIHRoZSBUbyBmaWVsZCwgYW5kIGlmIHRoZSBkaWFsb2cgSUQgb2YgdGhlIHJlc3BvbnNlIGRvZXNcbiAgICAgICAgICAgICAgICAvLyBub3QgbWF0Y2ggYW4gZXhpc3RpbmcgZGlhbG9nLCBvbmUgaXMgY29uc3RydWN0ZWQgdXNpbmcgdGhlIHByb2NlZHVyZXNcbiAgICAgICAgICAgICAgICAvLyBkZWZpbmVkIGluIFNlY3Rpb24gMTIuMS4yLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVhcmx5IGRpYWxvZyB3aWxsIG9ubHkgYmUgbmVlZGVkIGlmIHRoZSBVQUMgbmVlZHMgdG8gc2VuZCBhXG4gICAgICAgICAgICAgICAgLy8gcmVxdWVzdCB0byBpdHMgcGVlciB3aXRoaW4gdGhlIGRpYWxvZyBiZWZvcmUgdGhlIGluaXRpYWwgSU5WSVRFXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gY29tcGxldGVzLiAgSGVhZGVyIGZpZWxkcyBwcmVzZW50IGluIGEgcHJvdmlzaW9uYWxcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZSBhcmUgYXBwbGljYWJsZSBhcyBsb25nIGFzIHRoZSBkaWFsb2cgaXMgaW4gdGhlIGVhcmx5IHN0YXRlXG4gICAgICAgICAgICAgICAgLy8gKGZvciBleGFtcGxlLCBhbiBBbGxvdyBoZWFkZXIgZmllbGQgaW4gYSBwcm92aXNpb25hbCByZXNwb25zZVxuICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5zIHRoZSBtZXRob2RzIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIGRpYWxvZyB3aGlsZSB0aGlzIGlzIGluXG4gICAgICAgICAgICAgICAgLy8gdGhlIGVhcmx5IHN0YXRlKS5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMi4xXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm92aXNpb25hbCB3aXRob3V0IHRvIHRhZywgbm8gZGlhbG9nIHRvIGNyZWF0ZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtZXNzYWdlLnRvVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm9uLTEwMCAxeHggSU5WSVRFIHJlc3BvbnNlIHJlY2VpdmVkIHdpdGhvdXQgYSB0byB0YWcsIGRyb3BwaW5nLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIGRpYWxvZyBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZ1N0YXRlID0gZGlhbG9nc18xLkRpYWxvZy5pbml0aWFsRGlhbG9nU3RhdGVGb3JVc2VyQWdlbnRDbGllbnQodGhpcy5tZXNzYWdlLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGF2ZSBleGlzdGluZyBlYXJseSBkaWFsb2cgb3IgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVhcmx5RGlhbG9nID0gdGhpcy5lYXJseURpYWxvZ3MuZ2V0KGRpYWxvZ1N0YXRlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlYXJseURpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gdGhpcy50cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gbm90IGluc3RhbmNlIG9mIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVhcmx5RGlhbG9nID0gbmV3IGRpYWxvZ3NfMS5TZXNzaW9uRGlhbG9nKHRyYW5zYWN0aW9uLCB0aGlzLmNvcmUsIGRpYWxvZ1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2dzLnNldChlYXJseURpYWxvZy5pZCwgZWFybHlEaWFsb2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3Qgb3V0IG9mIG9yZGVyIHJlbGlhYmxlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgd2hlcmUgdGhlIHJzZXEgdHJhY2tpbmcgaXMgZG9uZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlYXJseURpYWxvZy5yZWxpYWJsZVNlcXVlbmNlR3VhcmQobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCIxeHggSU5WSVRFIHJlbGlhYmxlIHJlc3BvbnNlIHJlY2VpdmVkIG91dCBvZiBvcmRlciwgZHJvcHBpbmcuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBpbml0aWFsIG9mZmVyIGlzIGluIGFuIElOVklURSwgdGhlIGFuc3dlciBNVVNUIGJlIGluIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVsaWFibGUgbm9uLWZhaWx1cmUgbWVzc2FnZSBmcm9tIFVBUyBiYWNrIHRvIFVBQyB3aGljaCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZWxhdGVkIHRvIHRoYXQgSU5WSVRFLiAgRm9yIHRoaXMgc3BlY2lmaWNhdGlvbiwgdGhhdCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHRoZSBmaW5hbCAyeHggcmVzcG9uc2UgdG8gdGhhdCBJTlZJVEUuICBUaGF0IHNhbWUgZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5zd2VyIE1BWSBhbHNvIGJlIHBsYWNlZCBpbiBhbnkgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHNlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJpb3IgdG8gdGhlIGFuc3dlci4gIFRoZSBVQUMgTVVTVCB0cmVhdCB0aGUgZmlyc3Qgc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICAvLyBkZXNjcmlwdGlvbiBpdCByZWNlaXZlcyBhcyB0aGUgYW5zd2VyLCBhbmQgTVVTVCBpZ25vcmUgYW55XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlc3Npb24gZGVzY3JpcHRpb25zIGluIHN1YnNlcXVlbnQgcmVzcG9uc2VzIHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAgICAgICAgIC8vIElOVklURS5cbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhcmx5RGlhbG9nLnNpZ25hbGluZ1N0YXRlID09PSBzZXNzaW9uXzEuU2lnbmFsaW5nU3RhdGUuSW5pdGlhbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlEaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlEaWFsb2cuc2lnbmFsaW5nU3RhdGVUcmFuc2l0aW9uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgcmVzcG9uc2UgdG8gZGVsZWdhdGUuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uXzIgPSBlYXJseURpYWxvZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uUHJvZ3Jlc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbl8yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByYWNrOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Z29pbmdQcmFja1JlcXVlc3QgPSBzZXNzaW9uXzIucHJhY2sodW5kZWZpbmVkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGdvaW5nUHJhY2tSZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIDJ4eCByZXNwb25zZXMgbWF5IGFycml2ZSBhdCB0aGUgVUFDIGZvciBhIHNpbmdsZSBJTlZJVEVcbiAgICAgICAgICAgICAgICAvLyByZXF1ZXN0IGR1ZSB0byBhIGZvcmtpbmcgcHJveHkuICBFYWNoIHJlc3BvbnNlIGlzIGRpc3Rpbmd1aXNoZWQgYnlcbiAgICAgICAgICAgICAgICAvLyB0aGUgdGFnIHBhcmFtZXRlciBpbiB0aGUgVG8gaGVhZGVyIGZpZWxkLCBhbmQgZWFjaCByZXByZXNlbnRzIGFcbiAgICAgICAgICAgICAgICAvLyBkaXN0aW5jdCBkaWFsb2csIHdpdGggYSBkaXN0aW5jdCBkaWFsb2cgaWRlbnRpZmllci5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBkaWFsb2cgaWRlbnRpZmllciBpbiB0aGUgMnh4IHJlc3BvbnNlIG1hdGNoZXMgdGhlIGRpYWxvZ1xuICAgICAgICAgICAgICAgIC8vIGlkZW50aWZpZXIgb2YgYW4gZXhpc3RpbmcgZGlhbG9nLCB0aGUgZGlhbG9nIE1VU1QgYmUgdHJhbnNpdGlvbmVkIHRvXG4gICAgICAgICAgICAgICAgLy8gdGhlIFwiY29uZmlybWVkXCIgc3RhdGUsIGFuZCB0aGUgcm91dGUgc2V0IGZvciB0aGUgZGlhbG9nIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAvLyByZWNvbXB1dGVkIGJhc2VkIG9uIHRoZSAyeHggcmVzcG9uc2UgdXNpbmcgdGhlIHByb2NlZHVyZXMgb2YgU2VjdGlvblxuICAgICAgICAgICAgICAgIC8vIDEyLjIuMS4yLiAgT3RoZXJ3aXNlLCBhIG5ldyBkaWFsb2cgaW4gdGhlIFwiY29uZmlybWVkXCIgc3RhdGUgTVVTVCBiZVxuICAgICAgICAgICAgICAgIC8vIGNvbnN0cnVjdGVkIHVzaW5nIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gMTIuMS4yLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgZGlhbG9nIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbG9nU3RhdGUgPSBkaWFsb2dzXzEuRGlhbG9nLmluaXRpYWxEaWFsb2dTdGF0ZUZvclVzZXJBZ2VudENsaWVudCh0aGlzLm1lc3NhZ2UsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBDdXJyZW50bHkgb3VyIHRyYW5zYWN0aW9uIGxheWVyIGlzIGNhY2hpbmcgdGhlIDJ4eCBBQ0tzIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZyByZXRyYW5zbWlzc2lvbnMgb2YgdGhlIEFDSyB3aGljaCBpcyBhbiBhcHByb2FjaCB3aGljaCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBub3QgdG8gc3BlYy4gSW4gYW55IGV2ZW50LCB0aGlzIGJsb2NrIGlzIGludGVuZGVkIHRvIHByb3ZpZGUgYSB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjIGltcGxlbWVudGF0aW9uIG9mIEFDSyByZXRyYW5zbWlzc2lvbnMsIGJ1dCBpdCBzaG91bGQgbm90IGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpdCBjdXJyZW50bHkuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGlzLmNvbmZpcm1lZERpYWxvZ3MuZ2V0KGRpYWxvZ1N0YXRlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25jZSB0aGUgQUNLIGhhcyBiZWVuIGNvbnN0cnVjdGVkLCB0aGUgcHJvY2VkdXJlcyBvZiBbNF0gYXJlIHVzZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSB0aGUgZGVzdGluYXRpb24gYWRkcmVzcywgcG9ydCBhbmQgdHJhbnNwb3J0LiAgSG93ZXZlciwgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXF1ZXN0IGlzIHBhc3NlZCB0byB0aGUgdHJhbnNwb3J0IGxheWVyIGRpcmVjdGx5IGZvciB0cmFuc21pc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByYXRoZXIgdGhhbiBhIGNsaWVudCB0cmFuc2FjdGlvbi4gIFRoaXMgaXMgYmVjYXVzZSB0aGUgVUFDIGNvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZXMgcmV0cmFuc21pc3Npb25zIG9mIHRoZSBBQ0ssIG5vdCB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIuICBUaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFDSyBNVVNUIGJlIHBhc3NlZCB0byB0aGUgY2xpZW50IHRyYW5zcG9ydCBldmVyeSB0aW1lIGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHJhbnNtaXNzaW9uIG9mIHRoZSAyeHggZmluYWwgcmVzcG9uc2UgdGhhdCB0cmlnZ2VyZWQgdGhlIEFDS1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJyaXZlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRnb2luZ0Fja1JlcXVlc3QgPSB0aGlzLmNvbmZpcm1lZERpYWxvZ0Fja3MuZ2V0KGRpYWxvZ1N0YXRlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRnb2luZ0Fja1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSB0aGlzLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNsaWVudCB0cmFuc2FjdGlvbiBub3QgaW5zdGFuY2Ugb2YgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5hY2tSZXNwb25zZShvdXRnb2luZ0Fja1JlcXVlc3QubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzdGlsbCB3YWl0aW5nIGZvciBhbiBBQ0ssIGRyb3AgdGhlIHJldHJhbnNtaXNzaW9uIG9mIHRoZSAyeHggZmluYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRpYWxvZyBpZGVudGlmaWVyIGluIHRoZSAyeHggcmVzcG9uc2UgbWF0Y2hlcyB0aGUgZGlhbG9nXG4gICAgICAgICAgICAgICAgICAgIC8vIGlkZW50aWZpZXIgb2YgYW4gZXhpc3RpbmcgZGlhbG9nLCB0aGUgZGlhbG9nIE1VU1QgYmUgdHJhbnNpdGlvbmVkIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBcImNvbmZpcm1lZFwiIHN0YXRlLCBhbmQgdGhlIHJvdXRlIHNldCBmb3IgdGhlIGRpYWxvZyBNVVNUIGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY29tcHV0ZWQgYmFzZWQgb24gdGhlIDJ4eCByZXNwb25zZSB1c2luZyB0aGUgcHJvY2VkdXJlcyBvZiBTZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIDEyLjIuMS4yLiBPdGhlcndpc2UsIGEgbmV3IGRpYWxvZyBpbiB0aGUgXCJjb25maXJtZWRcIiBzdGF0ZSBNVVNUIGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0cnVjdGVkIHVzaW5nIHRoZSBwcm9jZWR1cmVzIG9mIFNlY3Rpb24gMTIuMS4yLlxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMi40XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZyA9IHRoaXMuZWFybHlEaWFsb2dzLmdldChkaWFsb2dTdGF0ZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWFsb2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jb25maXJtKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cucmVjb21wdXRlUm91dGVTZXQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5kZWxldGUoZGlhbG9nLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybWVkRGlhbG9ncy5zZXQoZGlhbG9nLmlkLCBkaWFsb2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gdGhpcy50cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gbm90IGluc3RhbmNlIG9mIEludml0ZUNsaWVudFRyYW5zYWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZyA9IG5ldyBkaWFsb2dzXzEuU2Vzc2lvbkRpYWxvZyh0cmFuc2FjdGlvbiwgdGhpcy5jb3JlLCBkaWFsb2dTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1lZERpYWxvZ3Muc2V0KGRpYWxvZy5pZCwgZGlhbG9nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgaW5pdGlhbCBvZmZlciBpcyBpbiBhbiBJTlZJVEUsIHRoZSBhbnN3ZXIgTVVTVCBiZSBpbiBhXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSBVQVMgYmFjayB0byBVQUMgd2hpY2ggaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVsYXRlZCB0byB0aGF0IElOVklURS4gIEZvciB0aGlzIHNwZWNpZmljYXRpb24sIHRoYXQgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSB0aGUgZmluYWwgMnh4IHJlc3BvbnNlIHRvIHRoYXQgSU5WSVRFLiAgVGhhdCBzYW1lIGV4YWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuc3dlciBNQVkgYWxzbyBiZSBwbGFjZWQgaW4gYW55IHByb3Zpc2lvbmFsIHJlc3BvbnNlcyBzZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHByaW9yIHRvIHRoZSBhbnN3ZXIuICBUaGUgVUFDIE1VU1QgdHJlYXQgdGhlIGZpcnN0IHNlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVzY3JpcHRpb24gaXQgcmVjZWl2ZXMgYXMgdGhlIGFuc3dlciwgYW5kIE1VU1QgaWdub3JlIGFueVxuICAgICAgICAgICAgICAgICAgICAvLyBzZXNzaW9uIGRlc2NyaXB0aW9ucyBpbiBzdWJzZXF1ZW50IHJlc3BvbnNlcyB0byB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgICAgICAgICAvLyBJTlZJVEUuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlTG9jYWxPZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZXNzaW9uIEluaXRpYXRlZCEgOilcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlc3Npb25fMyA9IGRpYWxvZztcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFVBQyBjb3JlIE1VU1QgZ2VuZXJhdGUgYW4gQUNLIHJlcXVlc3QgZm9yIGVhY2ggMnh4IHJlY2VpdmVkIGZyb21cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHRyYW5zYWN0aW9uIGxheWVyLiAgVGhlIGhlYWRlciBmaWVsZHMgb2YgdGhlIEFDSyBhcmUgY29uc3RydWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIHNhbWUgd2F5IGFzIGZvciBhbnkgcmVxdWVzdCBzZW50IHdpdGhpbiBhIGRpYWxvZyAoc2VlIFNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gMTIpIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgQ1NlcSBhbmQgdGhlIGhlYWRlciBmaWVsZHMgcmVsYXRlZCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbi4gIFRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhlIENTZXEgaGVhZGVyIGZpZWxkIE1VU1QgYmVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHNhbWUgYXMgdGhlIElOVklURSBiZWluZyBhY2tub3dsZWRnZWQsIGJ1dCB0aGUgQ1NlcSBtZXRob2QgTVVTVFxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBBQ0suICBUaGUgQUNLIE1VU1QgY29udGFpbiB0aGUgc2FtZSBjcmVkZW50aWFscyBhcyB0aGUgSU5WSVRFLiAgSWZcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIDJ4eCBjb250YWlucyBhbiBvZmZlciAoYmFzZWQgb24gdGhlIHJ1bGVzIGFib3ZlKSwgdGhlIEFDSyBNVVNUXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhcnJ5IGFuIGFuc3dlciBpbiBpdHMgYm9keS4gIElmIHRoZSBvZmZlciBpbiB0aGUgMnh4IHJlc3BvbnNlIGlzIG5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBhY2NlcHRhYmxlLCB0aGUgVUFDIGNvcmUgTVVTVCBnZW5lcmF0ZSBhIHZhbGlkIGFuc3dlciBpbiB0aGUgQUNLIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHNlbmQgYSBCWUUgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vbkFjY2VwdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiBzZXNzaW9uXzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNrOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Z29pbmdBY2tSZXF1ZXN0ID0gc2Vzc2lvbl8zLmFjayhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29uZmlybWVkRGlhbG9nQWNrcy5zZXQoc2Vzc2lvbl8zLmlkLCBvdXRnb2luZ0Fja1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0Z29pbmdBY2tSZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dGdvaW5nQWNrUmVxdWVzdCA9IHNlc3Npb25fMy5hY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybWVkRGlhbG9nQWNrcy5zZXQoc2Vzc2lvbl8zLmlkLCBvdXRnb2luZ0Fja1JlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgL14zWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIDEyLjMgVGVybWluYXRpb24gb2YgYSBEaWFsb2dcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIEluZGVwZW5kZW50IG9mIHRoZSBtZXRob2QsIGlmIGEgcmVxdWVzdCBvdXRzaWRlIG9mIGEgZGlhbG9nIGdlbmVyYXRlc1xuICAgICAgICAgICAgICAgIC8vIGEgbm9uLTJ4eCBmaW5hbCByZXNwb25zZSwgYW55IGVhcmx5IGRpYWxvZ3MgY3JlYXRlZCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHRvIHRoYXQgcmVxdWVzdCBhcmUgdGVybWluYXRlZC4gIFRoZSBtZWNoYW5pc21cbiAgICAgICAgICAgICAgICAvLyBmb3IgdGVybWluYXRpbmcgY29uZmlybWVkIGRpYWxvZ3MgaXMgbWV0aG9kIHNwZWNpZmljLiAgSW4gdGhpc1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24sIHRoZSBCWUUgbWV0aG9kIHRlcm1pbmF0ZXMgYSBzZXNzaW9uIGFuZCB0aGUgZGlhbG9nXG4gICAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0LiAgU2VlIFNlY3Rpb24gMTUgZm9yIGRldGFpbHMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4zXG4gICAgICAgICAgICAgICAgLy8gQWxsIGVhcmx5IGRpYWxvZ3MgYXJlIGNvbnNpZGVyZWQgdGVybWluYXRlZCB1cG9uIHJlY2VwdGlvbiBvZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBub24tMnh4IGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gQWZ0ZXIgaGF2aW5nIHJlY2VpdmVkIHRoZSBub24tMnh4IGZpbmFsIHJlc3BvbnNlIHRoZSBVQUMgY29yZVxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVycyB0aGUgSU5WSVRFIHRyYW5zYWN0aW9uIGNvbXBsZXRlZC4gIFRoZSBJTlZJVEUgY2xpZW50XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gaGFuZGxlcyB0aGUgZ2VuZXJhdGlvbiBvZiBBQ0tzIGZvciB0aGUgcmVzcG9uc2UgKHNlZVxuICAgICAgICAgICAgICAgIC8vIFNlY3Rpb24gMTcpLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjNcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5mb3JFYWNoKGZ1bmN0aW9uIChlYXJseURpYWxvZykgeyByZXR1cm4gZWFybHlEaWFsb2cuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIC8vIEEgM3h4IHJlc3BvbnNlIG1heSBjb250YWluIG9uZSBvciBtb3JlIENvbnRhY3QgaGVhZGVyIGZpZWxkIHZhbHVlc1xuICAgICAgICAgICAgICAgIC8vIHByb3ZpZGluZyBuZXcgYWRkcmVzc2VzIHdoZXJlIHRoZSBjYWxsZWUgbWlnaHQgYmUgcmVhY2hhYmxlLlxuICAgICAgICAgICAgICAgIC8vIERlcGVuZGluZyBvbiB0aGUgc3RhdHVzIGNvZGUgb2YgdGhlIDN4eCByZXNwb25zZSAoc2VlIFNlY3Rpb24gMjEuMyksXG4gICAgICAgICAgICAgICAgLy8gdGhlIFVBQyBNQVkgY2hvb3NlIHRvIHRyeSB0aG9zZSBuZXcgYWRkcmVzc2VzLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlZGlyZWN0KHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAvXls0LTZdWzAtOV17Mn0kLy50ZXN0KHN0YXR1c0NvZGUpOlxuICAgICAgICAgICAgICAgIC8vIDEyLjMgVGVybWluYXRpb24gb2YgYSBEaWFsb2dcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIEluZGVwZW5kZW50IG9mIHRoZSBtZXRob2QsIGlmIGEgcmVxdWVzdCBvdXRzaWRlIG9mIGEgZGlhbG9nIGdlbmVyYXRlc1xuICAgICAgICAgICAgICAgIC8vIGEgbm9uLTJ4eCBmaW5hbCByZXNwb25zZSwgYW55IGVhcmx5IGRpYWxvZ3MgY3JlYXRlZCB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gcHJvdmlzaW9uYWwgcmVzcG9uc2VzIHRvIHRoYXQgcmVxdWVzdCBhcmUgdGVybWluYXRlZC4gIFRoZSBtZWNoYW5pc21cbiAgICAgICAgICAgICAgICAvLyBmb3IgdGVybWluYXRpbmcgY29uZmlybWVkIGRpYWxvZ3MgaXMgbWV0aG9kIHNwZWNpZmljLiAgSW4gdGhpc1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljYXRpb24sIHRoZSBCWUUgbWV0aG9kIHRlcm1pbmF0ZXMgYSBzZXNzaW9uIGFuZCB0aGUgZGlhbG9nXG4gICAgICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGl0LiAgU2VlIFNlY3Rpb24gMTUgZm9yIGRldGFpbHMuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMi4zXG4gICAgICAgICAgICAgICAgLy8gQWxsIGVhcmx5IGRpYWxvZ3MgYXJlIGNvbnNpZGVyZWQgdGVybWluYXRlZCB1cG9uIHJlY2VwdGlvbiBvZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBub24tMnh4IGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gQWZ0ZXIgaGF2aW5nIHJlY2VpdmVkIHRoZSBub24tMnh4IGZpbmFsIHJlc3BvbnNlIHRoZSBVQUMgY29yZVxuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVycyB0aGUgSU5WSVRFIHRyYW5zYWN0aW9uIGNvbXBsZXRlZC4gIFRoZSBJTlZJVEUgY2xpZW50XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24gaGFuZGxlcyB0aGUgZ2VuZXJhdGlvbiBvZiBBQ0tzIGZvciB0aGUgcmVzcG9uc2UgKHNlZVxuICAgICAgICAgICAgICAgIC8vIFNlY3Rpb24gMTcpLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4yLjNcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5mb3JFYWNoKGZ1bmN0aW9uIChlYXJseURpYWxvZykgeyByZXR1cm4gZWFybHlEaWFsb2cuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9ncy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIC8vIEEgc2luZ2xlIG5vbi0yeHggZmluYWwgcmVzcG9uc2UgbWF5IGJlIHJlY2VpdmVkIGZvciB0aGUgSU5WSVRFLiAgNHh4LFxuICAgICAgICAgICAgICAgIC8vIDV4eCBhbmQgNnh4IHJlc3BvbnNlcyBtYXkgY29udGFpbiBhIENvbnRhY3QgaGVhZGVyIGZpZWxkIHZhbHVlXG4gICAgICAgICAgICAgICAgLy8gaW5kaWNhdGluZyB0aGUgbG9jYXRpb24gd2hlcmUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAvLyBjYW4gYmUgZm91bmQuICBTdWJzZXF1ZW50IGZpbmFsIHJlc3BvbnNlcyAod2hpY2ggd291bGQgb25seSBhcnJpdmVcbiAgICAgICAgICAgICAgICAvLyB1bmRlciBlcnJvciBjb25kaXRpb25zKSBNVVNUIGJlIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4yLjIuM1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25SZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5vblJlamVjdCh7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZSBcIiArIHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4ZWN1dGluZyB3aGF0IHNob3VsZCBiZSBhbiB1bnJlYWNoYWJsZSBjb2RlIHBhdGggcmVjZWl2aW5nIFwiICsgc3RhdHVzQ29kZSArIFwiIHJlc3BvbnNlLlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVVc2VyQWdlbnRDbGllbnQ7XG59KHVzZXJfYWdlbnRfY2xpZW50XzEuVXNlckFnZW50Q2xpZW50KSk7XG5leHBvcnRzLkludml0ZVVzZXJBZ2VudENsaWVudCA9IEludml0ZVVzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZGlhbG9nc18xID0gcmVxdWlyZShcIi4uL2RpYWxvZ3NcIik7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZShcIi4uL2V4Y2VwdGlvbnNcIik7XG52YXIgc2Vzc2lvbl8xID0gcmVxdWlyZShcIi4uL3Nlc3Npb25cIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIGFsbG93ZWRfbWV0aG9kc18xID0gcmVxdWlyZShcIi4uL3VzZXItYWdlbnQtY29yZS9hbGxvd2VkLW1ldGhvZHNcIik7XG52YXIgdXNlcl9hZ2VudF9zZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtc2VydmVyXCIpO1xuLyoqXG4gKiBJTlZJVEUgVUFTLlxuICogQHJlbWFya3NcbiAqIDEzIEluaXRpYXRpbmcgYSBTZXNzaW9uXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzXG4gKiAxMy4xIE92ZXJ2aWV3XG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjFcbiAqIDEzLjMgVUFTIFByb2Nlc3NpbmdcbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuM1xuICogQHB1YmxpY1xuICovXG52YXIgSW52aXRlVXNlckFnZW50U2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEludml0ZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIoY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVhcmx5RGlhbG9nKSB7XG4gICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9nLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDEzLjMuMS40IFRoZSBJTlZJVEUgaXMgQWNjZXB0ZWRcbiAgICAgKiBUaGUgVUFTIGNvcmUgZ2VuZXJhdGVzIGEgMnh4IHJlc3BvbnNlLiAgVGhpcyByZXNwb25zZSBlc3RhYmxpc2hlcyBhXG4gICAgICogZGlhbG9nLCBhbmQgdGhlcmVmb3JlIGZvbGxvd3MgdGhlIHByb2NlZHVyZXMgb2YgU2VjdGlvbiAxMi4xLjEgaW5cbiAgICAgKiBhZGRpdGlvbiB0byB0aG9zZSBvZiBTZWN0aW9uIDguMi42LlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFjY2VwdCBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc3RhdHVzQ29kZTogMjAwIH07IH1cbiAgICAgICAgaWYgKCF0aGlzLmFjY2VwdGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgYWNjZXB0YWJsZSBpbiBzdGF0ZSBcIiArIHRoaXMudHJhbnNhY3Rpb24uc3RhdGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyByZXNwb25zZSBlc3RhYmxpc2hlcyBhIGRpYWxvZy4uLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjMuMS40XG4gICAgICAgIGlmICghdGhpcy5jb25maXJtZWREaWFsb2cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhcmx5RGlhbG9nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lYXJseURpYWxvZy5jb25maXJtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtZWREaWFsb2cgPSB0aGlzLmVhcmx5RGlhbG9nO1xuICAgICAgICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2cgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSB0aGlzLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgdHJhbnNhY3Rpb25zXzEuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBpbnN0YW5jZSBvZiBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGRpYWxvZ3NfMS5EaWFsb2cuaW5pdGlhbERpYWxvZ1N0YXRlRm9yVXNlckFnZW50U2VydmVyKHRoaXMubWVzc2FnZSwgdGhpcy50b1RhZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtZWREaWFsb2cgPSBuZXcgZGlhbG9nc18xLlNlc3Npb25EaWFsb2codHJhbnNhY3Rpb24sIHRoaXMuY29yZSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gYSBVQVMgcmVzcG9uZHMgdG8gYSByZXF1ZXN0IHdpdGggYSByZXNwb25zZSB0aGF0IGVzdGFibGlzaGVzIGFcbiAgICAgICAgLy8gZGlhbG9nIChzdWNoIGFzIGEgMnh4IHRvIElOVklURSksIHRoZSBVQVMgTVVTVCBjb3B5IGFsbCBSZWNvcmQtUm91dGVcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIHZhbHVlcyBmcm9tIHRoZSByZXF1ZXN0IGludG8gdGhlIHJlc3BvbnNlIChpbmNsdWRpbmcgdGhlXG4gICAgICAgIC8vIFVSSXMsIFVSSSBwYXJhbWV0ZXJzLCBhbmQgYW55IFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGQgcGFyYW1ldGVycyxcbiAgICAgICAgLy8gd2hldGhlciB0aGV5IGFyZSBrbm93biBvciB1bmtub3duIHRvIHRoZSBVQVMpIGFuZCBNVVNUIG1haW50YWluIHRoZVxuICAgICAgICAvLyBvcmRlciBvZiB0aG9zZSB2YWx1ZXMuICBUaGUgVUFTIE1VU1QgYWRkIGEgQ29udGFjdCBoZWFkZXIgZmllbGQgdG9cbiAgICAgICAgLy8gdGhlIHJlc3BvbnNlLiAgVGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGNvbnRhaW5zIGFuIGFkZHJlc3Mgd2hlcmUgdGhlXG4gICAgICAgIC8vIFVBUyB3b3VsZCBsaWtlIHRvIGJlIGNvbnRhY3RlZCBmb3Igc3Vic2VxdWVudCByZXF1ZXN0cyBpbiB0aGUgZGlhbG9nXG4gICAgICAgIC8vICh3aGljaCBpbmNsdWRlcyB0aGUgQUNLIGZvciBhIDJ4eCByZXNwb25zZSBpbiB0aGUgY2FzZSBvZiBhbiBJTlZJVEUpLlxuICAgICAgICAvLyBHZW5lcmFsbHksIHRoZSBob3N0IHBvcnRpb24gb2YgdGhpcyBVUkkgaXMgdGhlIElQIGFkZHJlc3Mgb3IgRlFETiBvZlxuICAgICAgICAvLyB0aGUgaG9zdC4gIFRoZSBVUkkgcHJvdmlkZWQgaW4gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIE1VU1QgYmUgYSBTSVBcbiAgICAgICAgLy8gb3IgU0lQUyBVUkkuICBJZiB0aGUgcmVxdWVzdCB0aGF0IGluaXRpYXRlZCB0aGUgZGlhbG9nIGNvbnRhaW5lZCBhXG4gICAgICAgIC8vIFNJUFMgVVJJIGluIHRoZSBSZXF1ZXN0LVVSSSBvciBpbiB0aGUgdG9wIFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGRcbiAgICAgICAgLy8gdmFsdWUsIGlmIHRoZXJlIHdhcyBhbnksIG9yIHRoZSBDb250YWN0IGhlYWRlciBmaWVsZCBpZiB0aGVyZSB3YXMgbm9cbiAgICAgICAgLy8gUmVjb3JkLVJvdXRlIGhlYWRlciBmaWVsZCwgdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGluIHRoZSByZXNwb25zZVxuICAgICAgICAvLyBNVVNUIGJlIGEgU0lQUyBVUkkuICBUaGUgVVJJIFNIT1VMRCBoYXZlIGdsb2JhbCBzY29wZSAodGhhdCBpcywgdGhlXG4gICAgICAgIC8vIHNhbWUgVVJJIGNhbiBiZSB1c2VkIGluIG1lc3NhZ2VzIG91dHNpZGUgdGhpcyBkaWFsb2cpLiAgVGhlIHNhbWUgd2F5LFxuICAgICAgICAvLyB0aGUgc2NvcGUgb2YgdGhlIFVSSSBpbiB0aGUgQ29udGFjdCBoZWFkZXIgZmllbGQgb2YgdGhlIElOVklURSBpcyBub3RcbiAgICAgICAgLy8gbGltaXRlZCB0byB0aGlzIGRpYWxvZyBlaXRoZXIuICBJdCBjYW4gdGhlcmVmb3JlIGJlIHVzZWQgaW4gbWVzc2FnZXNcbiAgICAgICAgLy8gdG8gdGhlIFVBQyBldmVuIG91dHNpZGUgdGhpcyBkaWFsb2cuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4xXG4gICAgICAgIHZhciByZWNvcmRSb3V0ZUhlYWRlciA9IHRoaXMubWVzc2FnZVxuICAgICAgICAgICAgLmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIilcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGhlYWRlcikgeyByZXR1cm4gXCJSZWNvcmQtUm91dGU6IFwiICsgaGVhZGVyOyB9KTtcbiAgICAgICAgdmFyIGNvbnRhY3RIZWFkZXIgPSBcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdC50b1N0cmluZygpO1xuICAgICAgICAvLyBBIDJ4eCByZXNwb25zZSB0byBhbiBJTlZJVEUgU0hPVUxEIGNvbnRhaW4gdGhlIEFsbG93IGhlYWRlciBmaWVsZCBhbmRcbiAgICAgICAgLy8gdGhlIFN1cHBvcnRlZCBoZWFkZXIgZmllbGQsIGFuZCBNQVkgY29udGFpbiB0aGUgQWNjZXB0IGhlYWRlciBmaWVsZC5cbiAgICAgICAgLy8gSW5jbHVkaW5nIHRoZXNlIGhlYWRlciBmaWVsZHMgYWxsb3dzIHRoZSBVQUMgdG8gZGV0ZXJtaW5lIHRoZVxuICAgICAgICAvLyBmZWF0dXJlcyBhbmQgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgdGhlIFVBUyBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZVxuICAgICAgICAvLyBjYWxsLCB3aXRob3V0IHByb2JpbmcuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgICAgLy8gRklYTUU6IFRPRE86IFRoaXMgc2hvdWxkIG5vdCBiZSBoYXJkIGNvZGVkLlxuICAgICAgICB2YXIgYWxsb3dIZWFkZXIgPSBcIkFsbG93OiBcIiArIGFsbG93ZWRfbWV0aG9kc18xLkFsbG93ZWRNZXRob2RzLnRvU3RyaW5nKCk7XG4gICAgICAgIC8vIEZJWE1FOiBUT0RPOiBTdXBwb3J0ZWQgaGVhZGVyIChzZWUgcmVwbHkoKSlcbiAgICAgICAgLy8gRklYTUU6IFRPRE86IEFjY2VwdCBoZWFkZXJcbiAgICAgICAgLy8gSWYgdGhlIElOVklURSByZXF1ZXN0IGNvbnRhaW5lZCBhbiBvZmZlciwgYW5kIHRoZSBVQVMgaGFkIG5vdCB5ZXRcbiAgICAgICAgLy8gc2VudCBhbiBhbnN3ZXIsIHRoZSAyeHggTVVTVCBjb250YWluIGFuIGFuc3dlci4gIElmIHRoZSBJTlZJVEUgZGlkXG4gICAgICAgIC8vIG5vdCBjb250YWluIGFuIG9mZmVyLCB0aGUgMnh4IE1VU1QgY29udGFpbiBhbiBvZmZlciBpZiB0aGUgVUFTIGhhZFxuICAgICAgICAvLyBub3QgeWV0IHNlbnQgYW4gb2ZmZXIuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgICAgaWYgKCFvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpcm1lZERpYWxvZy5zaWduYWxpbmdTdGF0ZSA9PT0gc2Vzc2lvbl8xLlNpZ25hbGluZ1N0YXRlLlN0YWJsZSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYm9keSA9IHRoaXMuY29uZmlybWVkRGlhbG9nLmFuc3dlcjsgLy8gcmVzZW5kIHRoZSBhbnN3ZXIgc2VudCBpbiBwcm92aXNpb25hbCByZXNwb25zZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jb25maXJtZWREaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5Jbml0aWFsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtZWREaWFsb2cuc2lnbmFsaW5nU3RhdGUgPT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5IYXZlUmVtb3RlT2ZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zZSBtdXN0IGhhdmUgYSBib2R5LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMjAwO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzLmNvbmNhdChyZWNvcmRSb3V0ZUhlYWRlcik7XG4gICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goYWxsb3dIZWFkZXIpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGNvbnRhY3RIZWFkZXIpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBfc3VwZXIucHJvdG90eXBlLmFjY2VwdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuY29uZmlybWVkRGlhbG9nO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHNsaWJfMS5fX2Fzc2lnbih0c2xpYl8xLl9fYXNzaWduKHt9LCByZXNwb25zZSksIHsgc2Vzc2lvbjogc2Vzc2lvbiB9KTtcbiAgICAgICAgLy8gVXBkYXRlIGRpYWxvZyBzaWduYWxpbmcgc3RhdGVcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgICAgLy8gT25jZSB0aGUgVUFTIGhhcyBzZW50IG9yIHJlY2VpdmVkIGFuIGFuc3dlciB0byB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgLy8gb2ZmZXIsIGl0IE1VU1QgTk9UIGdlbmVyYXRlIHN1YnNlcXVlbnQgb2ZmZXJzIGluIGFueSByZXNwb25zZXNcbiAgICAgICAgICAgIC8vIHRvIHRoZSBpbml0aWFsIElOVklURS4gIFRoaXMgbWVhbnMgdGhhdCBhIFVBUyBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAvLyBzcGVjaWZpY2F0aW9uIGFsb25lIGNhbiBuZXZlciBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyB1bnRpbFxuICAgICAgICAgICAgLy8gY29tcGxldGlvbiBvZiB0aGUgaW5pdGlhbCB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMi4xXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maXJtZWREaWFsb2cuc2lnbmFsaW5nU3RhdGUgIT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1lZERpYWxvZy5zaWduYWxpbmdTdGF0ZVRyYW5zaXRpb24ob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogMTMuMy4xLjEgUHJvZ3Jlc3NcbiAgICAgKiBJZiB0aGUgVUFTIGlzIG5vdCBhYmxlIHRvIGFuc3dlciB0aGUgaW52aXRhdGlvbiBpbW1lZGlhdGVseSwgaXQgY2FuXG4gICAgICogY2hvb3NlIHRvIGluZGljYXRlIHNvbWUga2luZCBvZiBwcm9ncmVzcyB0byB0aGUgVUFDIChmb3IgZXhhbXBsZSwgYW5cbiAgICAgKiBpbmRpY2F0aW9uIHRoYXQgYSBwaG9uZSBpcyByaW5naW5nKS4gIFRoaXMgaXMgYWNjb21wbGlzaGVkIHdpdGggYVxuICAgICAqIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGJldHdlZW4gMTAxIGFuZCAxOTkuICBUaGVzZSBwcm92aXNpb25hbFxuICAgICAqIHJlc3BvbnNlcyBlc3RhYmxpc2ggZWFybHkgZGlhbG9ncyBhbmQgdGhlcmVmb3JlIGZvbGxvdyB0aGUgcHJvY2VkdXJlc1xuICAgICAqIG9mIFNlY3Rpb24gMTIuMS4xIGluIGFkZGl0aW9uIHRvIHRob3NlIG9mIFNlY3Rpb24gOC4yLjYuICBBIFVBUyBNQVlcbiAgICAgKiBzZW5kIGFzIG1hbnkgcHJvdmlzaW9uYWwgcmVzcG9uc2VzIGFzIGl0IGxpa2VzLiAgRWFjaCBvZiB0aGVzZSBNVVNUXG4gICAgICogaW5kaWNhdGUgdGhlIHNhbWUgZGlhbG9nIElELiAgSG93ZXZlciwgdGhlc2Ugd2lsbCBub3QgYmUgZGVsaXZlcmVkXG4gICAgICogcmVsaWFibHkuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgVUFTIGRlc2lyZXMgYW4gZXh0ZW5kZWQgcGVyaW9kIG9mIHRpbWUgdG8gYW5zd2VyIHRoZSBJTlZJVEUsXG4gICAgICogaXQgd2lsbCBuZWVkIHRvIGFzayBmb3IgYW4gXCJleHRlbnNpb25cIiBpbiBvcmRlciB0byBwcmV2ZW50IHByb3hpZXNcbiAgICAgKiBmcm9tIGNhbmNlbGluZyB0aGUgdHJhbnNhY3Rpb24uICBBIHByb3h5IGhhcyB0aGUgb3B0aW9uIG9mIGNhbmNlbGluZ1xuICAgICAqIGEgdHJhbnNhY3Rpb24gd2hlbiB0aGVyZSBpcyBhIGdhcCBvZiAzIG1pbnV0ZXMgYmV0d2VlbiByZXNwb25zZXMgaW4gYVxuICAgICAqIHRyYW5zYWN0aW9uLiAgVG8gcHJldmVudCBjYW5jZWxsYXRpb24sIHRoZSBVQVMgTVVTVCBzZW5kIGEgbm9uLTEwMFxuICAgICAqIHByb3Zpc2lvbmFsIHJlc3BvbnNlIGF0IGV2ZXJ5IG1pbnV0ZSwgdG8gaGFuZGxlIHRoZSBwb3NzaWJpbGl0eSBvZlxuICAgICAqIGxvc3QgcHJvdmlzaW9uYWwgcmVzcG9uc2VzLlxuICAgICAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjFcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFByb2dyZXNzIG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIEludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDE4MCB9OyB9XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmVzc2FibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuVHJhbnNhY3Rpb25TdGF0ZUVycm9yKHRoaXMubWVzc2FnZS5tZXRob2QgKyBcIiBub3QgcHJvZ3Jlc3NhYmxlIGluIHN0YXRlIFwiICsgdGhpcy50cmFuc2FjdGlvbi5zdGF0ZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIHJlc3BvbnNlIGVzdGFibGlzaGVzIGEgZGlhbG9nLi4uXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTMuMy4xLjRcbiAgICAgICAgaWYgKCF0aGlzLmVhcmx5RGlhbG9nKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSB0aGlzLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgaWYgKCEodHJhbnNhY3Rpb24gaW5zdGFuY2VvZiB0cmFuc2FjdGlvbnNfMS5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiBub3QgaW5zdGFuY2Ugb2YgSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXRlID0gZGlhbG9nc18xLkRpYWxvZy5pbml0aWFsRGlhbG9nU3RhdGVGb3JVc2VyQWdlbnRTZXJ2ZXIodGhpcy5tZXNzYWdlLCB0aGlzLnRvVGFnLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2cgPSBuZXcgZGlhbG9nc18xLlNlc3Npb25EaWFsb2codHJhbnNhY3Rpb24sIHRoaXMuY29yZSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gYSBVQVMgcmVzcG9uZHMgdG8gYSByZXF1ZXN0IHdpdGggYSByZXNwb25zZSB0aGF0IGVzdGFibGlzaGVzIGFcbiAgICAgICAgLy8gZGlhbG9nIChzdWNoIGFzIGEgMnh4IHRvIElOVklURSksIHRoZSBVQVMgTVVTVCBjb3B5IGFsbCBSZWNvcmQtUm91dGVcbiAgICAgICAgLy8gaGVhZGVyIGZpZWxkIHZhbHVlcyBmcm9tIHRoZSByZXF1ZXN0IGludG8gdGhlIHJlc3BvbnNlIChpbmNsdWRpbmcgdGhlXG4gICAgICAgIC8vIFVSSXMsIFVSSSBwYXJhbWV0ZXJzLCBhbmQgYW55IFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGQgcGFyYW1ldGVycyxcbiAgICAgICAgLy8gd2hldGhlciB0aGV5IGFyZSBrbm93biBvciB1bmtub3duIHRvIHRoZSBVQVMpIGFuZCBNVVNUIG1haW50YWluIHRoZVxuICAgICAgICAvLyBvcmRlciBvZiB0aG9zZSB2YWx1ZXMuICBUaGUgVUFTIE1VU1QgYWRkIGEgQ29udGFjdCBoZWFkZXIgZmllbGQgdG9cbiAgICAgICAgLy8gdGhlIHJlc3BvbnNlLiAgVGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGNvbnRhaW5zIGFuIGFkZHJlc3Mgd2hlcmUgdGhlXG4gICAgICAgIC8vIFVBUyB3b3VsZCBsaWtlIHRvIGJlIGNvbnRhY3RlZCBmb3Igc3Vic2VxdWVudCByZXF1ZXN0cyBpbiB0aGUgZGlhbG9nXG4gICAgICAgIC8vICh3aGljaCBpbmNsdWRlcyB0aGUgQUNLIGZvciBhIDJ4eCByZXNwb25zZSBpbiB0aGUgY2FzZSBvZiBhbiBJTlZJVEUpLlxuICAgICAgICAvLyBHZW5lcmFsbHksIHRoZSBob3N0IHBvcnRpb24gb2YgdGhpcyBVUkkgaXMgdGhlIElQIGFkZHJlc3Mgb3IgRlFETiBvZlxuICAgICAgICAvLyB0aGUgaG9zdC4gIFRoZSBVUkkgcHJvdmlkZWQgaW4gdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIE1VU1QgYmUgYSBTSVBcbiAgICAgICAgLy8gb3IgU0lQUyBVUkkuICBJZiB0aGUgcmVxdWVzdCB0aGF0IGluaXRpYXRlZCB0aGUgZGlhbG9nIGNvbnRhaW5lZCBhXG4gICAgICAgIC8vIFNJUFMgVVJJIGluIHRoZSBSZXF1ZXN0LVVSSSBvciBpbiB0aGUgdG9wIFJlY29yZC1Sb3V0ZSBoZWFkZXIgZmllbGRcbiAgICAgICAgLy8gdmFsdWUsIGlmIHRoZXJlIHdhcyBhbnksIG9yIHRoZSBDb250YWN0IGhlYWRlciBmaWVsZCBpZiB0aGVyZSB3YXMgbm9cbiAgICAgICAgLy8gUmVjb3JkLVJvdXRlIGhlYWRlciBmaWVsZCwgdGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIGluIHRoZSByZXNwb25zZVxuICAgICAgICAvLyBNVVNUIGJlIGEgU0lQUyBVUkkuICBUaGUgVVJJIFNIT1VMRCBoYXZlIGdsb2JhbCBzY29wZSAodGhhdCBpcywgdGhlXG4gICAgICAgIC8vIHNhbWUgVVJJIGNhbiBiZSB1c2VkIGluIG1lc3NhZ2VzIG91dHNpZGUgdGhpcyBkaWFsb2cpLiAgVGhlIHNhbWUgd2F5LFxuICAgICAgICAvLyB0aGUgc2NvcGUgb2YgdGhlIFVSSSBpbiB0aGUgQ29udGFjdCBoZWFkZXIgZmllbGQgb2YgdGhlIElOVklURSBpcyBub3RcbiAgICAgICAgLy8gbGltaXRlZCB0byB0aGlzIGRpYWxvZyBlaXRoZXIuICBJdCBjYW4gdGhlcmVmb3JlIGJlIHVzZWQgaW4gbWVzc2FnZXNcbiAgICAgICAgLy8gdG8gdGhlIFVBQyBldmVuIG91dHNpZGUgdGhpcyBkaWFsb2cuXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMjYxI3NlY3Rpb24tMTIuMS4xXG4gICAgICAgIHZhciByZWNvcmRSb3V0ZUhlYWRlciA9IHRoaXMubWVzc2FnZVxuICAgICAgICAgICAgLmdldEhlYWRlcnMoXCJyZWNvcmQtcm91dGVcIilcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGhlYWRlcikgeyByZXR1cm4gXCJSZWNvcmQtUm91dGU6IFwiICsgaGVhZGVyOyB9KTtcbiAgICAgICAgdmFyIGNvbnRhY3RIZWFkZXIgPSBcIkNvbnRhY3Q6IFwiICsgdGhpcy5jb3JlLmNvbmZpZ3VyYXRpb24uY29udGFjdDtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXTtcbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBvcHRpb25zLmV4dHJhSGVhZGVycy5jb25jYXQocmVjb3JkUm91dGVIZWFkZXIpO1xuICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKGNvbnRhY3RIZWFkZXIpO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBfc3VwZXIucHJvdG90eXBlLnByb2dyZXNzLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5lYXJseURpYWxvZztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRzbGliXzEuX19hc3NpZ24odHNsaWJfMS5fX2Fzc2lnbih7fSwgcmVzcG9uc2UpLCB7IHNlc3Npb246IHNlc3Npb24gfSk7XG4gICAgICAgIC8vIFVwZGF0ZSBkaWFsb2cgc2lnbmFsaW5nIHN0YXRlXG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIC8vIE9uY2UgdGhlIFVBUyBoYXMgc2VudCBvciByZWNlaXZlZCBhbiBhbnN3ZXIgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgICAgIC8vIG9mZmVyLCBpdCBNVVNUIE5PVCBnZW5lcmF0ZSBzdWJzZXF1ZW50IG9mZmVycyBpbiBhbnkgcmVzcG9uc2VzXG4gICAgICAgICAgICAvLyB0byB0aGUgaW5pdGlhbCBJTlZJVEUuICBUaGlzIG1lYW5zIHRoYXQgYSBVQVMgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgLy8gc3BlY2lmaWNhdGlvbiBhbG9uZSBjYW4gbmV2ZXIgZ2VuZXJhdGUgc3Vic2VxdWVudCBvZmZlcnMgdW50aWxcbiAgICAgICAgICAgIC8vIGNvbXBsZXRpb24gb2YgdGhlIGluaXRpYWwgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjIuMVxuICAgICAgICAgICAgaWYgKHRoaXMuZWFybHlEaWFsb2cuc2lnbmFsaW5nU3RhdGUgIT09IHNlc3Npb25fMS5TaWduYWxpbmdTdGF0ZS5TdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9nLnNpZ25hbGluZ1N0YXRlVHJhbnNpdGlvbihvcHRpb25zLmJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAxMy4zLjEuMiBUaGUgSU5WSVRFIGlzIFJlZGlyZWN0ZWRcbiAgICAgKiBJZiB0aGUgVUFTIGRlY2lkZXMgdG8gcmVkaXJlY3QgdGhlIGNhbGwsIGEgM3h4IHJlc3BvbnNlIGlzIHNlbnQuICBBXG4gICAgICogMzAwIChNdWx0aXBsZSBDaG9pY2VzKSwgMzAxIChNb3ZlZCBQZXJtYW5lbnRseSkgb3IgMzAyIChNb3ZlZFxuICAgICAqIFRlbXBvcmFyaWx5KSByZXNwb25zZSBTSE9VTEQgY29udGFpbiBhIENvbnRhY3QgaGVhZGVyIGZpZWxkXG4gICAgICogY29udGFpbmluZyBvbmUgb3IgbW9yZSBVUklzIG9mIG5ldyBhZGRyZXNzZXMgdG8gYmUgdHJpZWQuICBUaGVcbiAgICAgKiByZXNwb25zZSBpcyBwYXNzZWQgdG8gdGhlIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24sIHdoaWNoIHdpbGwgZGVhbFxuICAgICAqIHdpdGggaXRzIHJldHJhbnNtaXNzaW9ucy5cbiAgICAgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTEzLjMuMS4yXG4gICAgICogQHBhcmFtIGNvbnRhY3RzIC0gQ29udGFjdHMgdG8gcmVkaXJlY3QgdG8uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBSZWRpcmVjdCBvcHRpb25zIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXIucHJvdG90eXBlLnJlZGlyZWN0ID0gZnVuY3Rpb24gKGNvbnRhY3RzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc3RhdHVzQ29kZTogMzAyIH07IH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVkaXJlY3QuY2FsbCh0aGlzLCBjb250YWN0cywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAxMy4zLjEuMyBUaGUgSU5WSVRFIGlzIFJlamVjdGVkXG4gICAgICogQSBjb21tb24gc2NlbmFyaW8gb2NjdXJzIHdoZW4gdGhlIGNhbGxlZSBpcyBjdXJyZW50bHkgbm90IHdpbGxpbmcgb3JcbiAgICAgKiBhYmxlIHRvIHRha2UgYWRkaXRpb25hbCBjYWxscyBhdCB0aGlzIGVuZCBzeXN0ZW0uICBBIDQ4NiAoQnVzeSBIZXJlKVxuICAgICAqIFNIT1VMRCBiZSByZXR1cm5lZCBpbiBzdWNoIGEgc2NlbmFyaW8uXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMyNjEjc2VjdGlvbi0xMy4zLjEuM1xuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVqZWN0IG9wdGlvbnMgYnVja2V0LlxuICAgICAqL1xuICAgIEludml0ZVVzZXJBZ2VudFNlcnZlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzdGF0dXNDb2RlOiA0ODYgfTsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZWplY3QuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnZpdGVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLkludml0ZVVzZXJBZ2VudFNlcnZlciA9IEludml0ZVVzZXJBZ2VudFNlcnZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfY2xpZW50XzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LWNsaWVudFwiKTtcbi8qKlxuICogUFVCTElTSCBVQUMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBQdWJsaXNoVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFB1Ymxpc2hVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHVibGlzaFVzZXJBZ2VudENsaWVudChjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sIGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUHVibGlzaFVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuUHVibGlzaFVzZXJBZ2VudENsaWVudCA9IFB1Ymxpc2hVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFJlLVNVQlNDUklCRSBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZVN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZVN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZVN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcihkaWFsb2csIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgZGlhbG9nLnVzZXJBZ2VudENvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlU3Vic2NyaWJlVXNlckFnZW50U2VydmVyID0gUmVTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X2NsaWVudF8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1jbGllbnRcIik7XG4vKipcbiAqIFJFR0lTVEVSIFVBQy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlZ2lzdGVyVXNlckFnZW50Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZ2lzdGVyVXNlckFnZW50Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZ2lzdGVyVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZWdpc3RlclVzZXJBZ2VudENsaWVudDtcbn0odXNlcl9hZ2VudF9jbGllbnRfMS5Vc2VyQWdlbnRDbGllbnQpKTtcbmV4cG9ydHMuUmVnaXN0ZXJVc2VyQWdlbnRDbGllbnQgPSBSZWdpc3RlclVzZXJBZ2VudENsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdHJhbnNhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNhY3Rpb25zXCIpO1xudmFyIHVzZXJfYWdlbnRfc2VydmVyXzEgPSByZXF1aXJlKFwiLi91c2VyLWFnZW50LXNlcnZlclwiKTtcbi8qKlxuICogUkVHSVNURVIgVUFTLlxuICogQHB1YmxpY1xuICovXG52YXIgUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXIoY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zXzEuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24sIGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlJlZ2lzdGVyVXNlckFnZW50U2VydmVyID0gUmVnaXN0ZXJVc2VyQWdlbnRTZXJ2ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHN1YnNjcmlwdGlvbl9kaWFsb2dfMSA9IHJlcXVpcmUoXCIuLi9kaWFsb2dzL3N1YnNjcmlwdGlvbi1kaWFsb2dcIik7XG52YXIgc3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3Vic2NyaXB0aW9uXCIpO1xudmFyIHRpbWVyc18xID0gcmVxdWlyZShcIi4uL3RpbWVyc1wiKTtcbnZhciB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2FjdGlvbnNcIik7XG52YXIgdXNlcl9hZ2VudF9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL3VzZXItYWdlbnQtY2xpZW50XCIpO1xuLyoqXG4gKiBTVUJTQ1JJQkUgVUFDLlxuICogQHJlbWFya3NcbiAqIDQuMS4gIFN1YnNjcmliZXIgQmVoYXZpb3JcbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xXG4gKlxuICogVXNlciBhZ2VudCBjbGllbnQgZm9yIGluc3RhbGxhdGlvbiBvZiBhIHNpbmdsZSBzdWJzY3JpcHRpb24gcGVyIFNVQlNDUklCRSByZXF1ZXN0LlxuICogVE9ETzogU3VwcG9ydCBmb3IgaW5zdGFsbGF0aW9uIG9mIG11bHRpcGxlIHN1YnNjcmlwdGlvbnMgb24gZm9ya2VkIFNVQlNDUklCRSByZXF1ZXN0cy5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFN1YnNjcmliZVVzZXJBZ2VudENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50KGNvcmUsIG1lc3NhZ2UsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEdldCBldmVudCBmcm9tIHJlcXVlc3QgbWVzc2FnZS5cbiAgICAgICAgdmFyIGV2ZW50ID0gbWVzc2FnZS5nZXRIZWFkZXIoXCJFdmVudFwiKTtcbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgdW5kZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCBleHBpcmVzIGZyb20gcmVxdWVzdCBtZXNzYWdlLlxuICAgICAgICB2YXIgZXhwaXJlcyA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKTtcbiAgICAgICAgaWYgKCFleHBpcmVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBpcmVzIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uc18xLk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLCBjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgLy8gRklYTUU6IFN1YnNjcmliZXIgaWQgc2hvdWxkIGFsc28gYmUgbWF0Y2hpbmcgb24gZXZlbnQgaWQuXG4gICAgICAgIF90aGlzLnN1YnNjcmliZXJJZCA9IG1lc3NhZ2UuY2FsbElkICsgbWVzc2FnZS5mcm9tVGFnICsgZXZlbnQ7XG4gICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXNSZXF1ZXN0ZWQgPSBfdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID0gTnVtYmVyKGV4cGlyZXMpO1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25FdmVudCA9IGV2ZW50O1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLk5vdGlmeVdhaXQ7XG4gICAgICAgIC8vIFN0YXJ0IHdhaXRpbmcgZm9yIGEgTk9USUZZIHdlIGNhbiB1c2UgdG8gY3JlYXRlIGEgc3Vic2NyaXB0aW9uLlxuICAgICAgICBfdGhpcy53YWl0Tm90aWZ5U3RhcnQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cnVjdG9yLlxuICAgICAqIE5vdGUgdGhhdCBUaW1lciBOIG1heSBsaXZlIG9uIHdhaXRpbmcgZm9yIGFuIGluaXRpYWwgTk9USUZZIGFuZFxuICAgICAqIHRoZSBkZWxlZ2F0ZSBtYXkgc3RpbGwgcmVjZWl2ZSB0aGF0IE5PVElGWS4gSWYgeW91IGRvbid0IHdhbnRcbiAgICAgKiB0aGF0IGJlaGF2aW9yIHRoZW4gZWl0aGVyIGNsZWFyIHRoZSBkZWxlZ2F0ZSBzbyB0aGUgZGVsZWdhdGVcbiAgICAgKiBkb2Vzbid0IGdldCBjYWxsZWQgKGEgMjAwIHdpbGwgYmUgc2VudCBpbiByZXNwb25zZSB0byB0aGUgTk9USUZZKVxuICAgICAqIG9yIGNhbGwgYHdhaXROb3RpZnlTdG9wYCB3aGljaCB3aWxsIGNsZWFyIFRpbWVyIE4gYW5kIHJlbW92ZSB0aGlzXG4gICAgICogVUFDIGZyb20gdGhlIGNvcmUgKGEgNDgxIHdpbGwgYmUgc2VudCBpbiByZXNwb25zZSB0byB0aGUgTk9USUZZKS5cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIG91dCBvZiBkaWFsb2cgTk9USUZZIGFzc29jaWF0ZWQgd2l0aCBTVUJTQ1JJQkUgcmVxdWVzdC5cbiAgICAgKiBUaGlzIGlzIHRoZSBmaXJzdCBOT1RJRlkgcmVjZWl2ZWQgYWZ0ZXIgdGhlIFNVQlNDUklCRSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB1YXMgLSBVc2VyIGFnZW50IHNlcnZlciBoYW5kbGluZyB0aGUgc3Vic2NyaXB0aW9uIGNyZWF0aW5nIE5PVElGWS5cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQucHJvdG90eXBlLm9uTm90aWZ5ID0gZnVuY3Rpb24gKHVhcykge1xuICAgICAgICAvLyBOT1RJRlkgcmVxdWVzdHMgYXJlIG1hdGNoZWQgdG8gc3VjaCBTVUJTQ1JJQkUgcmVxdWVzdHMgaWYgdGhleVxuICAgICAgICAvLyBjb250YWluIHRoZSBzYW1lIFwiQ2FsbC1JRFwiLCBhIFwiVG9cIiBoZWFkZXIgZmllbGQgXCJ0YWdcIiBwYXJhbWV0ZXIgdGhhdFxuICAgICAgICAvLyBtYXRjaGVzIHRoZSBcIkZyb21cIiBoZWFkZXIgZmllbGQgXCJ0YWdcIiBwYXJhbWV0ZXIgb2YgdGhlIFNVQlNDUklCRVxuICAgICAgICAvLyByZXF1ZXN0LCBhbmQgdGhlIHNhbWUgXCJFdmVudFwiIGhlYWRlciBmaWVsZC4gIFJ1bGVzIGZvciBjb21wYXJpc29ucyBvZlxuICAgICAgICAvLyB0aGUgXCJFdmVudFwiIGhlYWRlciBmaWVsZHMgYXJlIGRlc2NyaWJlZCBpbiBTZWN0aW9uIDguMi4xLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuNC4xXG4gICAgICAgIHZhciBldmVudCA9IHVhcy5tZXNzYWdlLnBhcnNlSGVhZGVyKFwiRXZlbnRcIikuZXZlbnQ7XG4gICAgICAgIGlmICghZXZlbnQgfHwgZXZlbnQgIT09IHRoaXMuc3Vic2NyaXB0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gcGFyc2UgZXZlbnQuXCIpO1xuICAgICAgICAgICAgdWFzLnJlamVjdCh7IHN0YXR1c0NvZGU6IDQ4OSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBOT1RJRlkgcmVxdWVzdHMgTVVTVCBjb250YWluIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgaGVhZGVyIGZpZWxkcyB0aGF0XG4gICAgICAgIC8vIGluZGljYXRlIHRoZSBzdGF0dXMgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuM1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uU3RhdGUgPSB1YXMubWVzc2FnZS5wYXJzZUhlYWRlcihcIlN1YnNjcmlwdGlvbi1TdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFzdWJzY3JpcHRpb25TdGF0ZSB8fCAhc3Vic2NyaXB0aW9uU3RhdGUuc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gcGFyc2Ugc3Vic2NyaXB0aW9uIHN0YXRlLlwiKTtcbiAgICAgICAgICAgIHVhcy5yZWplY3QoeyBzdGF0dXNDb2RlOiA0ODkgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsaWRhdGUgc3Vic2NyaXB0aW9uIHN0YXRlLlxuICAgICAgICB2YXIgc3RhdGUgPSBzdWJzY3JpcHRpb25TdGF0ZS5zdGF0ZTtcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBcInBlbmRpbmdcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhY3RpdmVcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJJbnZhbGlkIHN1YnNjcmlwdGlvbiBzdGF0ZSBcIiArIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDg5IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEaWFsb2dzIHVzYWdlcyBhcmUgY3JlYXRlZCB1cG9uIGNvbXBsZXRpb24gb2YgYSBOT1RJRlkgdHJhbnNhY3Rpb25cbiAgICAgICAgLy8gZm9yIGEgbmV3IHN1YnNjcmlwdGlvbiwgdW5sZXNzIHRoZSBOT1RJRlkgcmVxdWVzdCBjb250YWlucyBhXG4gICAgICAgIC8vIFwiU3Vic2NyaXB0aW9uLVN0YXRlXCIgb2YgXCJ0ZXJtaW5hdGVkLlwiXG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC40LjFcbiAgICAgICAgaWYgKHN0YXRlICE9PSBcInRlcm1pbmF0ZWRcIikge1xuICAgICAgICAgICAgLy8gVGhlIENvbnRhY3QgaGVhZGVyIGZpZWxkIE1VU1QgYmUgcHJlc2VudCBhbmQgY29udGFpbiBleGFjdGx5IG9uZSBTSVBcbiAgICAgICAgICAgIC8vIG9yIFNJUFMgVVJJIGluIGFueSByZXF1ZXN0IHRoYXQgY2FuIHJlc3VsdCBpbiB0aGUgZXN0YWJsaXNobWVudCBvZiBhXG4gICAgICAgICAgICAvLyBkaWFsb2cuXG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzI2MSNzZWN0aW9uLTguMS4xLjhcbiAgICAgICAgICAgIHZhciBjb250YWN0ID0gdWFzLm1lc3NhZ2UucGFyc2VIZWFkZXIoXCJjb250YWN0XCIpO1xuICAgICAgICAgICAgaWYgKCFjb250YWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkZhaWxlZCB0byBwYXJzZSBjb250YWN0LlwiKTtcbiAgICAgICAgICAgICAgICB1YXMucmVqZWN0KHsgc3RhdHVzQ29kZTogNDg5IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbiBhY2NvcmRhbmNlIHdpdGggdGhlIHJ1bGVzIGZvciBwcm94eWluZyBub24tSU5WSVRFIHJlcXVlc3RzIGFzXG4gICAgICAgIC8vIGRlZmluZWQgaW4gW1JGQzMyNjFdLCBzdWNjZXNzZnVsIFNVQlNDUklCRSByZXF1ZXN0cyB3aWxsIHJlY2VpdmUgb25seVxuICAgICAgICAvLyBvbmUgMjAwLWNsYXNzIHJlc3BvbnNlOyBob3dldmVyLCBkdWUgdG8gZm9ya2luZywgdGhlIHN1YnNjcmlwdGlvbiBtYXlcbiAgICAgICAgLy8gaGF2ZSBiZWVuIGFjY2VwdGVkIGJ5IG11bHRpcGxlIG5vZGVzLiAgVGhlIHN1YnNjcmliZXIgTVVTVCB0aGVyZWZvcmVcbiAgICAgICAgLy8gYmUgcHJlcGFyZWQgdG8gcmVjZWl2ZSBOT1RJRlkgcmVxdWVzdHMgd2l0aCBcIkZyb206XCIgdGFncyB0aGF0IGRpZmZlclxuICAgICAgICAvLyBmcm9tIHRoZSBcIlRvOlwiIHRhZyByZWNlaXZlZCBpbiB0aGUgU1VCU0NSSUJFIDIwMC1jbGFzcyByZXNwb25zZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgbXVsdGlwbGUgTk9USUZZIHJlcXVlc3RzIGFyZSByZWNlaXZlZCBpbiBkaWZmZXJlbnQgZGlhbG9ncyBpblxuICAgICAgICAvLyByZXNwb25zZSB0byBhIHNpbmdsZSBTVUJTQ1JJQkUgcmVxdWVzdCwgZWFjaCBkaWFsb2cgcmVwcmVzZW50cyBhXG4gICAgICAgIC8vIGRpZmZlcmVudCBkZXN0aW5hdGlvbiB0byB3aGljaCB0aGUgU1VCU0NSSUJFIHJlcXVlc3Qgd2FzIGZvcmtlZC5cbiAgICAgICAgLy8gU3Vic2NyaWJlciBoYW5kbGluZyBpbiBzdWNoIHNpdHVhdGlvbnMgdmFyaWVzIGJ5IGV2ZW50IHBhY2thZ2U7IHNlZVxuICAgICAgICAvLyBTZWN0aW9uIDUuNC45IGZvciBkZXRhaWxzLlxuICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjY2NSNzZWN0aW9uLTQuMS40XG4gICAgICAgIC8vIEVhY2ggZXZlbnQgcGFja2FnZSBNVVNUIHNwZWNpZnkgd2hldGhlciBmb3JrZWQgU1VCU0NSSUJFIHJlcXVlc3RzIGFyZVxuICAgICAgICAvLyBhbGxvd2VkIHRvIGluc3RhbGwgbXVsdGlwbGUgc3Vic2NyaXB0aW9ucy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgc3VjaCBiZWhhdmlvciBpcyBub3QgYWxsb3dlZCwgdGhlIGZpcnN0IHBvdGVudGlhbCBkaWFsb2ctXG4gICAgICAgIC8vIGVzdGFibGlzaGluZyBtZXNzYWdlIHdpbGwgY3JlYXRlIGEgZGlhbG9nLiAgQWxsIHN1YnNlcXVlbnQgTk9USUZZXG4gICAgICAgIC8vIHJlcXVlc3RzIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgU1VCU0NSSUJFIHJlcXVlc3QgKGkuZS4sIGhhdmVcbiAgICAgICAgLy8gbWF0Y2hpbmcgXCJUb1wiLCBcIkZyb21cIiwgXCJDYWxsLUlEXCIsIGFuZCBcIkV2ZW50XCIgaGVhZGVyIGZpZWxkcywgYXMgd2VsbFxuICAgICAgICAvLyBhcyBcIkZyb21cIiBoZWFkZXIgZmllbGQgXCJ0YWdcIiBwYXJhbWV0ZXIgYW5kIFwiRXZlbnRcIiBoZWFkZXIgZmllbGQgXCJpZFwiXG4gICAgICAgIC8vIHBhcmFtZXRlcikgYnV0IHRoYXQgZG8gbm90IG1hdGNoIHRoZSBkaWFsb2cgd291bGQgYmUgcmVqZWN0ZWQgd2l0aCBhXG4gICAgICAgIC8vIDQ4MSByZXNwb25zZS4gIE5vdGUgdGhhdCB0aGUgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIHRoZSBTVUJTQ1JJQkVcbiAgICAgICAgLy8gcmVxdWVzdCBjYW4gYXJyaXZlIGFmdGVyIGEgbWF0Y2hpbmcgTk9USUZZIHJlcXVlc3QgaGFzIGJlZW4gcmVjZWl2ZWQ7XG4gICAgICAgIC8vIHN1Y2ggcmVzcG9uc2VzIG1pZ2h0IG5vdCBjb3JyZWxhdGUgdG8gdGhlIHNhbWUgZGlhbG9nIGVzdGFibGlzaGVkIGJ5XG4gICAgICAgIC8vIHRoZSBOT1RJRlkgcmVxdWVzdC4gIEV4Y2VwdCBhcyByZXF1aXJlZCB0byBjb21wbGV0ZSB0aGUgU1VCU0NSSUJFXG4gICAgICAgIC8vIHRyYW5zYWN0aW9uLCBzdWNoIG5vbi1tYXRjaGluZyAyMDAtY2xhc3MgcmVzcG9uc2VzIGFyZSBpZ25vcmVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiBpbnN0YWxsaW5nIG9mIG11bHRpcGxlIHN1YnNjcmlwdGlvbnMgYnkgd2F5IG9mIGEgc2luZ2xlIGZvcmtlZFxuICAgICAgICAvLyBTVUJTQ1JJQkUgcmVxdWVzdCBpcyBhbGxvd2VkLCB0aGUgc3Vic2NyaWJlciBlc3RhYmxpc2hlcyBhIG5ldyBkaWFsb2dcbiAgICAgICAgLy8gdG93YXJkcyBlYWNoIG5vdGlmaWVyIGJ5IHJldHVybmluZyBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBlYWNoXG4gICAgICAgIC8vIE5PVElGWSByZXF1ZXN0LiAgRWFjaCBkaWFsb2cgaXMgdGhlbiBoYW5kbGVkIGFzIGl0cyBvd24gZW50aXR5IGFuZCBpc1xuICAgICAgICAvLyByZWZyZXNoZWQgaW5kZXBlbmRlbnRseSBvZiB0aGUgb3RoZXIgZGlhbG9ncy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSW4gdGhlIGNhc2UgdGhhdCBtdWx0aXBsZSBzdWJzY3JpcHRpb25zIGFyZSBhbGxvd2VkLCB0aGUgZXZlbnRcbiAgICAgICAgLy8gcGFja2FnZSBNVVNUIHNwZWNpZnkgd2hldGhlciBtZXJnaW5nIG9mIHRoZSBub3RpZmljYXRpb25zIHRvIGZvcm0gYVxuICAgICAgICAvLyBzaW5nbGUgc3RhdGUgaXMgcmVxdWlyZWQsIGFuZCBob3cgc3VjaCBtZXJnaW5nIGlzIHRvIGJlIHBlcmZvcm1lZC5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0IGlzIHBvc3NpYmxlIHRoYXQgc29tZSBldmVudCBwYWNrYWdlcyBtYXkgYmUgZGVmaW5lZCBpblxuICAgICAgICAvLyBzdWNoIGEgd2F5IHRoYXQgZWFjaCBkaWFsb2cgaXMgdGllZCB0byBhIG11dHVhbGx5IGV4Y2x1c2l2ZSBzdGF0ZVxuICAgICAgICAvLyB0aGF0IGlzIHVuYWZmZWN0ZWQgYnkgdGhlIG90aGVyIGRpYWxvZ3M7IHRoaXMgTVVTVCBiZSBjbGVhcmx5IHN0YXRlZFxuICAgICAgICAvLyBpZiBpdCBpcyB0aGUgY2FzZS5cbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi01LjQuOVxuICAgICAgICAvLyAqKiogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBvbmx5IGZvciBldmVudCBwYWNrYWdlcyB3aGljaFxuICAgICAgICAvLyBkbyBub3QgYWxsb3cgZm9ya2VkIHJlcXVlc3RzIHRvIGluc3RhbGwgbXVsdGlwbGUgc3Vic2NyaXB0aW9ucy5cbiAgICAgICAgLy8gQXMgc3VjaCBhbmQgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBzcGVjaWZpY2F0aW9uLCB3ZSBzdG9wIHdhaXRpbmdcbiAgICAgICAgLy8gYW5kIGFueSBmdXR1cmUgTk9USUZZIHJlcXVlc3RzIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhIDQ4MS5cbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFsb2cgYWxyZWFkeSBjcmVhdGVkLiBUaGlzIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgaW5zdGFsbCBvZiBzaW5nbGUgc3Vic2NyaXB0aW9ucy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YWl0Tm90aWZ5U3RvcCgpO1xuICAgICAgICAvLyBVcGRhdGUgZXhwaXJlcy5cbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzID1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvblN0YXRlLmV4cGlyZXMgP1xuICAgICAgICAgICAgICAgIE1hdGgubWluKHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcywgTWF0aC5tYXgoc3Vic2NyaXB0aW9uU3RhdGUuZXhwaXJlcywgMCkpIDpcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXM7XG4gICAgICAgIC8vIFVwZGF0ZSBzdWJzY3JpcHRpb24gc3RhdGUuXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwZW5kaW5nXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlBlbmRpbmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWN0aXZlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLkFjdGl2ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvblN0YXRlLlRlcm1pbmF0ZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBzdGF0ZSBcIiArIHN0YXRlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERpYWxvZ3MgdXNhZ2VzIGFyZSBjcmVhdGVkIHVwb24gY29tcGxldGlvbiBvZiBhIE5PVElGWSB0cmFuc2FjdGlvblxuICAgICAgICAvLyBmb3IgYSBuZXcgc3Vic2NyaXB0aW9uLCB1bmxlc3MgdGhlIE5PVElGWSByZXF1ZXN0IGNvbnRhaW5zIGFcbiAgICAgICAgLy8gXCJTdWJzY3JpcHRpb24tU3RhdGVcIiBvZiBcInRlcm1pbmF0ZWQuXCJcbiAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjQuMVxuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25TdGF0ZSAhPT0gc3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uU3RhdGUuVGVybWluYXRlZCkge1xuICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGUgZGlhbG9nIHVzYWdlIGlzIGVzdGFibGlzaGVkIGJ5IHRoZSBOT1RJRlkgcmVxdWVzdCwgdGhlXG4gICAgICAgICAgICAvLyByb3V0ZSBzZXQgYXQgdGhlIHN1YnNjcmliZXIgaXMgdGFrZW4gZnJvbSB0aGUgTk9USUZZIHJlcXVlc3QgaXRzZWxmLFxuICAgICAgICAgICAgLy8gYXMgb3Bwb3NlZCB0byB0aGUgcm91dGUgc2V0IHByZXNlbnQgaW4gdGhlIDIwMC1jbGFzcyByZXNwb25zZSB0byB0aGVcbiAgICAgICAgICAgIC8vIFNVQlNDUklCRSByZXF1ZXN0LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjQuMVxuICAgICAgICAgICAgdmFyIGRpYWxvZ1N0YXRlID0gc3Vic2NyaXB0aW9uX2RpYWxvZ18xLlN1YnNjcmlwdGlvbkRpYWxvZy5pbml0aWFsRGlhbG9nU3RhdGVGb3JTdWJzY3JpcHRpb24odGhpcy5tZXNzYWdlLCB1YXMubWVzc2FnZSk7XG4gICAgICAgICAgICAvLyBTdWJzY3JpcHRpb24gSW5pdGlhdGVkISA6KVxuICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBuZXcgc3Vic2NyaXB0aW9uX2RpYWxvZ18xLlN1YnNjcmlwdGlvbkRpYWxvZyh0aGlzLnN1YnNjcmlwdGlvbkV2ZW50LCB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXMsIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGUsIHRoaXMuY29yZSwgZGlhbG9nU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERlbGVnYXRlLlxuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5KSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHVhcztcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLmRpYWxvZztcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUub25Ob3RpZnkoeyByZXF1ZXN0OiByZXF1ZXN0LCBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVhcy5hY2NlcHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS53YWl0Tm90aWZ5U3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5OKSB7XG4gICAgICAgICAgICAvLyBBZGQgb3Vyc2VsdmVzIHRvIHRoZSBjb3JlJ3Mgc3Vic2NyaWJlciBtYXAuXG4gICAgICAgICAgICAvLyBUaGlzIGFsbG93cyB0aGUgY29yZSB0byByb3V0ZSBvdXQgb2YgZGlhbG9nIE5PVElGWSBtZXNzYWdlcyB0byB1cy5cbiAgICAgICAgICAgIHRoaXMuY29yZS5zdWJzY3JpYmVycy5zZXQodGhpcy5zdWJzY3JpYmVySWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5OID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy50aW1lcl9OKCk7IH0sIHRpbWVyc18xLlRpbWVycy5USU1FUl9OKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS53YWl0Tm90aWZ5U3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuTikge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIG91cnNlbHZlcyB0byB0aGUgY29yZSdzIHN1YnNjcmliZXIgbWFwLlxuICAgICAgICAgICAgLy8gQW55IGZ1dHVyZSBvdXQgb2YgZGlhbG9nIE5PVElGWSBtZXNzYWdlcyB3aWxsIGJlIHJlamVjdGVkIHdpdGggYSA0ODEuXG4gICAgICAgICAgICB0aGlzLmNvcmUuc3Vic2NyaWJlcnMuZGVsZXRlKHRoaXMuc3Vic2NyaWJlcklkKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLk4pO1xuICAgICAgICAgICAgdGhpcy5OID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNlaXZlIGEgcmVzcG9uc2UgZnJvbSB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBJbmNvbWluZyByZXNwb25zZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIFN1YnNjcmliZVVzZXJBZ2VudENsaWVudC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmF1dGhlbnRpY2F0aW9uR3VhcmQobWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGF0dXNDb2RlICYmIG1lc3NhZ2Uuc3RhdHVzQ29kZSA+PSAyMDAgJiYgbWVzc2FnZS5zdGF0dXNDb2RlIDwgMzAwKSB7XG4gICAgICAgICAgICAvLyAgVGhlIFwiRXhwaXJlc1wiIGhlYWRlciBmaWVsZCBpbiBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBTVUJTQ1JJQkVcbiAgICAgICAgICAgIC8vICByZXF1ZXN0IGluZGljYXRlcyB0aGUgYWN0dWFsIGR1cmF0aW9uIGZvciB3aGljaCB0aGUgc3Vic2NyaXB0aW9uIHdpbGxcbiAgICAgICAgICAgIC8vICByZW1haW4gYWN0aXZlICh1bmxlc3MgcmVmcmVzaGVkKS4gIFRoZSByZWNlaXZlZCB2YWx1ZSBtaWdodCBiZVxuICAgICAgICAgICAgLy8gIHNtYWxsZXIgdGhhbiB0aGUgdmFsdWUgaW5kaWNhdGVkIGluIHRoZSBTVUJTQ1JJQkUgcmVxdWVzdCBidXQgY2Fubm90XG4gICAgICAgICAgICAvLyAgYmUgbGFyZ2VyOyBzZWUgU2VjdGlvbiA0LjIuMSBmb3IgZGV0YWlscy5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NjY1I3NlY3Rpb24tNC4xLjIuMVxuICAgICAgICAgICAgLy8gVGhlIFwiRXhwaXJlc1wiIHZhbHVlcyBwcmVzZW50IGluIFNVQlNDUklCRSAyMDAtY2xhc3MgcmVzcG9uc2VzIGJlaGF2ZVxuICAgICAgICAgICAgLy8gaW4gdGhlIHNhbWUgd2F5IGFzIHRoZXkgZG8gaW4gUkVHSVNURVIgcmVzcG9uc2VzOiB0aGUgc2VydmVyIE1BWVxuICAgICAgICAgICAgLy8gc2hvcnRlbiB0aGUgaW50ZXJ2YWwgYnV0IE1VU1QgTk9UIGxlbmd0aGVuIGl0LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIElmIHRoZSBkdXJhdGlvbiBzcGVjaWZpZWQgaW4gYSBTVUJTQ1JJQkUgcmVxdWVzdCBpcyB1bmFjY2VwdGFibHlcbiAgICAgICAgICAgIC8vICAgIHNob3J0LCB0aGUgbm90aWZpZXIgbWF5IGJlIGFibGUgdG8gc2VuZCBhIDQyMyByZXNwb25zZSwgYXNcbiAgICAgICAgICAgIC8vICAgIGRlc2NyaWJlZCBlYXJsaWVyIGluIHRoaXMgc2VjdGlvbi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAyMDAtY2xhc3MgcmVzcG9uc2VzIHRvIFNVQlNDUklCRSByZXF1ZXN0cyB3aWxsIG5vdCBnZW5lcmFsbHkgY29udGFpblxuICAgICAgICAgICAgLy8gYW55IHVzZWZ1bCBpbmZvcm1hdGlvbiBiZXlvbmQgc3Vic2NyaXB0aW9uIGR1cmF0aW9uOyB0aGVpciBwcmltYXJ5XG4gICAgICAgICAgICAvLyBwdXJwb3NlIGlzIHRvIHNlcnZlIGFzIGEgcmVsaWFiaWxpdHkgbWVjaGFuaXNtLiAgU3RhdGUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgIC8vIHdpbGwgYmUgY29tbXVuaWNhdGVkIHZpYSBhIHN1YnNlcXVlbnQgTk9USUZZIHJlcXVlc3QgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIG5vdGlmaWVyLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjIuMS4xXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IG1lc3NhZ2UuZ2V0SGVhZGVyKFwiRXhwaXJlc1wiKTtcbiAgICAgICAgICAgIGlmICghZXhwaXJlcykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJFeHBpcmVzIGhlYWRlciBtaXNzaW5nIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25FeHBpcmVzUmVjZWl2ZWQgPSBOdW1iZXIoZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkV4cGlyZXNSZWNlaXZlZCA+IHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlc1JlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiRXhwaXJlcyBoZWFkZXIgaW4gYSAyMDAtY2xhc3MgcmVzcG9uc2UgdG8gU1VCU0NSSUJFIHdpdGggYSBoaWdoZXIgdmFsdWUgdGhhbiB0aGUgb25lIGluIHRoZSByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uRXhwaXJlc1JlY2VpdmVkIDwgdGhpcy5zdWJzY3JpcHRpb25FeHBpcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHN1YnNjcmlwdGlvbkV4cGlyZXNSZWNlaXZlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhIE5PVElGWSBhcnJpdmVkIGJlZm9yZSAyMDAtY2xhc3MgcmVzcG9uc2UgYSBkaWFsb2cgbWF5IGhhdmUgYmVlbiBjcmVhdGVkLlxuICAgICAgICAgICAgLy8gVXBkYXRlZCB0aGUgZGlhbG9ncyBleHBpcmF0aW9uIG9ubHkgaWYgdGhpcyBpbmRpY2F0ZXMgZWFybGllciBleHBpcmF0aW9uLlxuICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nLnN1YnNjcmlwdGlvbkV4cGlyZXMgPiB0aGlzLnN1YnNjcmlwdGlvbkV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc3Vic2NyaXB0aW9uRXhwaXJlcyA9IHRoaXMuc3Vic2NyaXB0aW9uRXhwaXJlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzQ29kZSAmJiBtZXNzYWdlLnN0YXR1c0NvZGUgPj0gMzAwICYmIG1lc3NhZ2Uuc3RhdHVzQ29kZSA8IDcwMCkge1xuICAgICAgICAgICAgdGhpcy53YWl0Tm90aWZ5U3RvcCgpOyAvLyBObyBOT1RJRlkgd2lsbCBiZSBzZW50IGFmdGVyIGEgbmVnYXRpdmUgZmluYWwgcmVzcG9uc2UuXG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIGVuc3VyZSB0aGF0IHN1YnNjcmliZXJzIGRvIG5vdCB3YWl0IGluZGVmaW5pdGVseSBmb3IgYVxuICAgICAqIHN1YnNjcmlwdGlvbiB0byBiZSBlc3RhYmxpc2hlZCwgYSBzdWJzY3JpYmVyIHN0YXJ0cyBhIFRpbWVyIE4sIHNldCB0b1xuICAgICAqIDY0KlQxLCB3aGVuIGl0IHNlbmRzIGEgU1VCU0NSSUJFIHJlcXVlc3QuICBJZiB0aGlzIFRpbWVyIE4gZXhwaXJlc1xuICAgICAqIHByaW9yIHRvIHRoZSByZWNlaXB0IG9mIGEgTk9USUZZIHJlcXVlc3QsIHRoZSBzdWJzY3JpYmVyIGNvbnNpZGVyc1xuICAgICAqIHRoZSBzdWJzY3JpcHRpb24gZmFpbGVkLCBhbmQgY2xlYW5zIHVwIGFueSBzdGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogc3Vic2NyaXB0aW9uIGF0dGVtcHQuXG4gICAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY2NjUjc2VjdGlvbi00LjEuMi40XG4gICAgICovXG4gICAgU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50LnByb3RvdHlwZS50aW1lcl9OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiVGltZXIgTiBleHBpcmVkIGZvciBTVUJTQ1JJQkUgdXNlciBhZ2VudCBjbGllbnQuIFRpbWVkIG91dCB3YWl0aW5nIGZvciBOT1RJRlkuXCIpO1xuICAgICAgICB0aGlzLndhaXROb3RpZnlTdG9wKCk7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlICYmIHRoaXMuZGVsZWdhdGUub25Ob3RpZnlUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLm9uTm90aWZ5VGltZW91dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlVXNlckFnZW50Q2xpZW50O1xufSh1c2VyX2FnZW50X2NsaWVudF8xLlVzZXJBZ2VudENsaWVudCkpO1xuZXhwb3J0cy5TdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQgPSBTdWJzY3JpYmVVc2VyQWdlbnRDbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIi4uL3RyYW5zYWN0aW9uc1wiKTtcbnZhciB1c2VyX2FnZW50X3NlcnZlcl8xID0gcmVxdWlyZShcIi4vdXNlci1hZ2VudC1zZXJ2ZXJcIik7XG4vKipcbiAqIFNVQlNDUklCRSBVQVMuXG4gKiBAcHVibGljXG4gKi9cbnZhciBTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaWJlVXNlckFnZW50U2VydmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcihjb3JlLCBtZXNzYWdlLCBkZWxlZ2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnNfMS5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbiwgY29yZSwgbWVzc2FnZSwgZGVsZWdhdGUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvcmUgPSBjb3JlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdWJzY3JpYmVVc2VyQWdlbnRTZXJ2ZXI7XG59KHVzZXJfYWdlbnRfc2VydmVyXzEuVXNlckFnZW50U2VydmVyKSk7XG5leHBvcnRzLlN1YnNjcmliZVVzZXJBZ2VudFNlcnZlciA9IFN1YnNjcmliZVVzZXJBZ2VudFNlcnZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MSUJSQVJZX1ZFUlNJT04gPSBcIjAuMTUuMTFcIjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL0NvbnN0YW50c1wiKTtcbnZhciBFbnVtc18xID0gcmVxdWlyZShcIi4uL0VudW1zXCIpO1xudmFyIEV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9FeGNlcHRpb25zXCIpO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG52YXIgRFRNRlZhbGlkYXRvcl8xID0gcmVxdWlyZShcIi4vRFRNRlZhbGlkYXRvclwiKTtcbi8qKlxuICogQGNsYXNzIERUTUZcbiAqIEBwYXJhbSB7U0lQLlNlc3Npb259IHNlc3Npb25cbiAqL1xudmFyIERUTUYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRFRNRiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEVE1GKHNlc3Npb24sIHRvbmUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuQyA9IHtcbiAgICAgICAgICAgIE1JTl9EVVJBVElPTjogNzAsXG4gICAgICAgICAgICBNQVhfRFVSQVRJT046IDYwMDAsXG4gICAgICAgICAgICBERUZBVUxUX0RVUkFUSU9OOiAxMDAsXG4gICAgICAgICAgICBNSU5fSU5URVJfVE9ORV9HQVA6IDUwLFxuICAgICAgICAgICAgREVGQVVMVF9JTlRFUl9UT05FX0dBUDogNTAwXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnR5cGUgPSBFbnVtc18xLlR5cGVTdHJpbmdzLkRUTUY7XG4gICAgICAgIGlmICh0b25lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgZW5vdWdoIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5sb2dnZXIgPSBzZXNzaW9uLnVhLmdldExvZ2dlcihcInNpcC5pbnZpdGVjb250ZXh0LmR0bWZcIiwgc2Vzc2lvbi5pZCk7XG4gICAgICAgIF90aGlzLm93bmVyID0gc2Vzc2lvbjtcbiAgICAgICAgdmFyIG1vcmVUaGFuT25lVG9uZSA9IGZhbHNlO1xuICAgICAgICAvLyBJZiB0b25lIGlzIGludmFsaWQsIGl0IHdpbGwgYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhbiBleGNlcHRpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIHRvbmUgaW4gdGhlIGNvcnJlY3QgZm9ybWF0LlxuICAgICAgICBfdGhpcy50b25lID0gRFRNRlZhbGlkYXRvcl8xLkRUTUZWYWxpZGF0b3IudmFsaWRhdGUodG9uZSwgbW9yZVRoYW5PbmVUb25lKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcbiAgICAgICAgdmFyIGludGVyVG9uZUdhcCA9IG9wdGlvbnMuaW50ZXJUb25lR2FwO1xuICAgICAgICAvLyBDaGVjayBkdXJhdGlvblxuICAgICAgICBpZiAoZHVyYXRpb24gJiYgIVV0aWxzXzEuVXRpbHMuaXNEZWNpbWFsKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdG9uZSBkdXJhdGlvbjogXCIgKyBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWR1cmF0aW9uKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IF90aGlzLkMuREVGQVVMVF9EVVJBVElPTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkdXJhdGlvbiA8IF90aGlzLkMuTUlOX0RVUkFUSU9OKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIidkdXJhdGlvbicgdmFsdWUgaXMgbG93ZXIgdGhhbiB0aGUgbWluaW11bSBhbGxvd2VkLCBzZXR0aW5nIGl0IHRvIFwiICtcbiAgICAgICAgICAgICAgICBfdGhpcy5DLk1JTl9EVVJBVElPTiArIFwiIG1pbGxpc2Vjb25kc1wiKTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gX3RoaXMuQy5NSU5fRFVSQVRJT047XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHVyYXRpb24gPiBfdGhpcy5DLk1BWF9EVVJBVElPTikge1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VyLndhcm4oXCInZHVyYXRpb24nIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bSBhbGxvd2VkLCBzZXR0aW5nIGl0IHRvIFwiICtcbiAgICAgICAgICAgICAgICBfdGhpcy5DLk1BWF9EVVJBVElPTiArIFwiIG1pbGxpc2Vjb25kc1wiKTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gX3RoaXMuQy5NQVhfRFVSQVRJT047XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IE1hdGguYWJzKGR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAvLyBDaGVjayBpbnRlclRvbmVHYXBcbiAgICAgICAgaWYgKGludGVyVG9uZUdhcCAmJiAhVXRpbHNfMS5VdGlscy5pc0RlY2ltYWwoaW50ZXJUb25lR2FwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgaW50ZXJUb25lR2FwOiBcIiArIGludGVyVG9uZUdhcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWludGVyVG9uZUdhcCkge1xuICAgICAgICAgICAgaW50ZXJUb25lR2FwID0gX3RoaXMuQy5ERUZBVUxUX0lOVEVSX1RPTkVfR0FQO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGludGVyVG9uZUdhcCA8IF90aGlzLkMuTUlOX0lOVEVSX1RPTkVfR0FQKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihcIidpbnRlclRvbmVHYXAnIHZhbHVlIGlzIGxvd2VyIHRoYW4gdGhlIG1pbmltdW0gYWxsb3dlZCwgc2V0dGluZyBpdCB0byBcIiArXG4gICAgICAgICAgICAgICAgX3RoaXMuQy5NSU5fSU5URVJfVE9ORV9HQVAgKyBcIiBtaWxsaXNlY29uZHNcIik7XG4gICAgICAgICAgICBpbnRlclRvbmVHYXAgPSBfdGhpcy5DLk1JTl9JTlRFUl9UT05FX0dBUDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyVG9uZUdhcCA9IE1hdGguYWJzKGludGVyVG9uZUdhcCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuaW50ZXJUb25lR2FwID0gaW50ZXJUb25lR2FwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERUTUYucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBDaGVjayBSVENTZXNzaW9uIFN0YXR1c1xuICAgICAgICBpZiAodGhpcy5vd25lci5zdGF0dXMgIT09IEVudW1zXzEuU2Vzc2lvblN0YXR1cy5TVEFUVVNfQ09ORklSTUVEICYmXG4gICAgICAgICAgICB0aGlzLm93bmVyLnN0YXR1cyAhPT0gRW51bXNfMS5TZXNzaW9uU3RhdHVzLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25zXzEuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLm93bmVyLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IERUTUYgb3B0aW9uc1xuICAgICAgICB2YXIgZXh0cmFIZWFkZXJzID0gb3B0aW9ucy5leHRyYUhlYWRlcnMgPyBvcHRpb25zLmV4dHJhSGVhZGVycy5zbGljZSgpIDogW107XG4gICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vZHRtZi1yZWxheVwiLFxuICAgICAgICAgICAgYm9keTogXCJTaWduYWw9IFwiICsgdGhpcy50b25lICsgXCJcXHJcXG5EdXJhdGlvbj0gXCIgKyB0aGlzLmR1cmF0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm93bmVyLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5vd25lci5zZXNzaW9uLmluZm8odW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogVXRpbHNfMS5VdGlscy5mcm9tQm9keU9iaihib2R5KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm93bmVyLmVtaXQoXCJkdG1mXCIsIHJlcXVlc3QubWVzc2FnZSwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERUTUYucHJvdG90eXBlLmluaXRfaW5jb21pbmcgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICByZXF1ZXN0LmFjY2VwdCgpO1xuICAgICAgICBpZiAoIXRoaXMudG9uZSB8fCAhdGhpcy5kdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImludmFsaWQgSU5GTyBEVE1GIHJlY2VpdmVkLCBkaXNjYXJkZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyLmVtaXQoXCJkdG1mXCIsIHJlcXVlc3QubWVzc2FnZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERUTUYucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1c0NvZGUgPyByZXNwb25zZS5zdGF0dXNDb2RlIDogMDtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIC9eMVswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBwcm92aXNpb25hbCByZXNwb25zZXMuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIC9eMlswLTldezJ9JC8udGVzdChzdGF0dXNDb2RlLnRvU3RyaW5nKCkpOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInN1Y2NlZWRlZFwiLCB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmF0b3I6IFwicmVtb3RlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB2YXIgY2F1c2UgPSBVdGlsc18xLlV0aWxzLnNpcEVycm9yQ2F1c2Uoc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERUTUYucHJvdG90eXBlLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImZhaWxlZFwiLCB1bmRlZmluZWQsIENvbnN0YW50c18xLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgICAgIHRoaXMub3duZXIub25SZXF1ZXN0VGltZW91dCgpO1xuICAgIH07XG4gICAgRFRNRi5wcm90b3R5cGUub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZmFpbGVkXCIsIHVuZGVmaW5lZCwgQ29uc3RhbnRzXzEuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUik7XG4gICAgICAgIHRoaXMub3duZXIub25UcmFuc3BvcnRFcnJvcigpO1xuICAgIH07XG4gICAgRFRNRi5wcm90b3R5cGUub25EaWFsb2dFcnJvciA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLmVtaXQoXCJmYWlsZWRcIiwgcmVzcG9uc2UsIENvbnN0YW50c18xLkMuY2F1c2VzLkRJQUxPR19FUlJPUik7XG4gICAgICAgIHRoaXMub3duZXIub25EaWFsb2dFcnJvcihyZXNwb25zZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRFRNRjtcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLkRUTUYgPSBEVE1GO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgcmVxdWVzdCB0byBlbmQgYSB7QGxpbmsgU2Vzc2lvbn0gKGluY29taW5nIEJZRSkuXG4gKiBAcHVibGljXG4gKi9cbnZhciBCeWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIEJ5ZShpbmNvbWluZ0J5ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5pbmNvbWluZ0J5ZVJlcXVlc3QgPSBpbmNvbWluZ0J5ZVJlcXVlc3Q7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCeWUucHJvdG90eXBlLCBcInJlcXVlc3RcIiwge1xuICAgICAgICAvKiogSW5jb21pbmcgQllFIHJlcXVlc3QgbWVzc2FnZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ0J5ZVJlcXVlc3QubWVzc2FnZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEFjY2VwdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBCeWUucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdCeWVSZXF1ZXN0LmFjY2VwdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgLyoqIFJlamVjdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBCeWUucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdCeWVSZXF1ZXN0LnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ5ZTtcbn0oKSk7XG5leHBvcnRzLkJ5ZSA9IEJ5ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVzIGFuIHtAbGluayBFbWl0dGVyfS5cbiAqIEBwYXJhbSBldmVudEVtaXR0ZXIgLSBBbiBldmVudCBlbWl0dGVyLlxuICogQHBhcmFtIGV2ZW50TmFtZSAtIEV2ZW50IG5hbWUuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gX21ha2VFbWl0dGVyKGV2ZW50RW1pdHRlciwgZXZlbnROYW1lKSB7XG4gICAgaWYgKGV2ZW50TmFtZSA9PT0gdm9pZCAwKSB7IGV2ZW50TmFtZSA9IFwiZXZlbnRcIjsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZExpc3RlbmVyOiBmdW5jdGlvbiAobGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vbmNlKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRFbWl0dGVyLm9uY2UoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgb246IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgZXZlbnRFbWl0dGVyLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICB9LFxuICAgICAgICBvZmY6IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICB9LFxuICAgICAgICBvbmNlOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5vbmNlKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydHMuX21ha2VFbWl0dGVyID0gX21ha2VFbWl0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbnRlbnQtdHlwZS11bnN1cHBvcnRlZFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9yZXF1ZXN0LXBlbmRpbmdcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc2Vzc2lvbi1kZXNjcmlwdGlvbi1oYW5kbGVyXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3Nlc3Npb24tdGVybWluYXRlZFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdGF0ZS10cmFuc2l0aW9uXCIpLCBleHBvcnRzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgY29yZV8xID0gcmVxdWlyZShcIi4uLy4uL2NvcmVcIik7XG4vKipcbiAqIEFuIGV4Y2VwdGlvbiBpbmRpY2F0aW5nIGFuIHVuc3VwcG9ydGVkIGNvbnRlbnQgdHlwZSBwcmV2ZW50ZWQgZXhlY3V0aW9uLlxuICogQHB1YmxpY1xuICovXG52YXIgQ29udGVudFR5cGVVbnN1cHBvcnRlZEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbnRlbnRUeXBlVW5zdXBwb3J0ZWRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250ZW50VHlwZVVuc3VwcG9ydGVkRXJyb3IobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA/IG1lc3NhZ2UgOiBcIlVuc3VwcG9ydGVkIGNvbnRlbnQgdHlwZS5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbnRlbnRUeXBlVW5zdXBwb3J0ZWRFcnJvcjtcbn0oY29yZV8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5Db250ZW50VHlwZVVuc3VwcG9ydGVkRXJyb3IgPSBDb250ZW50VHlwZVVuc3VwcG9ydGVkRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyBhbiBvdXRzdGFuZGluZyBwcmlvciByZXF1ZXN0IHByZXZlbnRlZCBleGVjdXRpb24uXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZXF1ZXN0UGVuZGluZ0Vycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlcXVlc3RQZW5kaW5nRXJyb3IsIF9zdXBlcik7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIFJlcXVlc3RQZW5kaW5nRXJyb3IobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA/IG1lc3NhZ2UgOiBcIlJlcXVlc3QgcGVuZGluZy5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJlcXVlc3RQZW5kaW5nRXJyb3I7XG59KGNvcmVfMS5FeGNlcHRpb24pKTtcbmV4cG9ydHMuUmVxdWVzdFBlbmRpbmdFcnJvciA9IFJlcXVlc3RQZW5kaW5nRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyBhIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBlcnJvciBvY2N1cmVkLlxuICogQHB1YmxpY1xuICovXG52YXIgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA/IG1lc3NhZ2UgOiBcIlVuc3BlY2lmaWVkIHNlc3Npb24gZGVzY3JpcHRpb24gaGFuZGxlciBlcnJvci5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJFcnJvcjtcbn0oY29yZV8xLkV4Y2VwdGlvbikpO1xuZXhwb3J0cy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3IgPSBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyB0aGUgc2Vzc2lvbiB0ZXJtaW5hdGVkIGJlZm9yZSB0aGUgYWN0aW9uIGNvbXBsZXRlZC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFNlc3Npb25UZXJtaW5hdGVkRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2Vzc2lvblRlcm1pbmF0ZWRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZXNzaW9uVGVybWluYXRlZEVycm9yKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgXCJUaGUgc2Vzc2lvbiBoYXMgdGVybWluYXRlZC5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNlc3Npb25UZXJtaW5hdGVkRXJyb3I7XG59KGNvcmVfMS5FeGNlcHRpb24pKTtcbmV4cG9ydHMuU2Vzc2lvblRlcm1pbmF0ZWRFcnJvciA9IFNlc3Npb25UZXJtaW5hdGVkRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlXCIpO1xuLyoqXG4gKiBBbiBleGNlcHRpb24gaW5kaWNhdGluZyBhbiBpbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZXJyb3Igb2NjdXJlZC5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFN0YXRlVHJhbnNpdGlvbkVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN0YXRlVHJhbnNpdGlvbkVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0YXRlVHJhbnNpdGlvbkVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UgPyBtZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgc3RhdGUgdHJhbnNpdGlvbi5cIikgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN0YXRlVHJhbnNpdGlvbkVycm9yO1xufShjb3JlXzEuRXhjZXB0aW9uKSk7XG5leHBvcnRzLlN0YXRlVHJhbnNpdGlvbkVycm9yID0gU3RhdGVUcmFuc2l0aW9uRXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQW4gZXhjaGFuZ2Ugb2YgaW5mb3JtYXRpb24gKGluY29taW5nIElORk8pLlxuICogQHB1YmxpY1xuICovXG52YXIgSW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgZnVuY3Rpb24gSW5mbyhpbmNvbWluZ0luZm9SZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdJbmZvUmVxdWVzdCA9IGluY29taW5nSW5mb1JlcXVlc3Q7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbmZvLnByb3RvdHlwZSwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgLyoqIEluY29taW5nIE1FU1NBR0UgcmVxdWVzdCBtZXNzYWdlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluY29taW5nSW5mb1JlcXVlc3QubWVzc2FnZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEFjY2VwdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBJbmZvLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nSW5mb1JlcXVlc3QuYWNjZXB0KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICAvKiogUmVqZWN0IHRoZSByZXF1ZXN0LiAqL1xuICAgIEluZm8ucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdJbmZvUmVxdWVzdC5yZWplY3Qob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbmZvO1xufSgpKTtcbmV4cG9ydHMuSW5mbyA9IEluZm87XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQSByZWNlaXZlZCBtZXNzYWdlIChpbmNvbWluZyBNRVNTQUdFKS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIE1lc3NhZ2UoaW5jb21pbmdNZXNzYWdlUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmluY29taW5nTWVzc2FnZVJlcXVlc3QgPSBpbmNvbWluZ01lc3NhZ2VSZXF1ZXN0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzc2FnZS5wcm90b3R5cGUsIFwicmVxdWVzdFwiLCB7XG4gICAgICAgIC8qKiBJbmNvbWluZyBNRVNTQUdFIHJlcXVlc3QgbWVzc2FnZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ01lc3NhZ2VSZXF1ZXN0Lm1lc3NhZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBBY2NlcHQgdGhlIHJlcXVlc3QuICovXG4gICAgTWVzc2FnZS5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pbmNvbWluZ01lc3NhZ2VSZXF1ZXN0LmFjY2VwdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgLyoqIFJlamVjdCB0aGUgcmVxdWVzdC4gKi9cbiAgICBNZXNzYWdlLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nTWVzc2FnZVJlcXVlc3QucmVqZWN0KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVzc2FnZTtcbn0oKSk7XG5leHBvcnRzLk1lc3NhZ2UgPSBNZXNzYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgbm90aWZpY2F0aW9uIG9mIGFuIGV2ZW50IChpbmNvbWluZyBOT1RJRlkpLlxuICogQHB1YmxpY1xuICovXG52YXIgTm90aWZpY2F0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBmdW5jdGlvbiBOb3RpZmljYXRpb24oaW5jb21pbmdOb3RpZnlSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuaW5jb21pbmdOb3RpZnlSZXF1ZXN0ID0gaW5jb21pbmdOb3RpZnlSZXF1ZXN0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90aWZpY2F0aW9uLnByb3RvdHlwZSwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgLyoqIEluY29taW5nIE5PVElGWSByZXF1ZXN0IG1lc3NhZ2UuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5jb21pbmdOb3RpZnlSZXF1ZXN0Lm1lc3NhZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBBY2NlcHQgdGhlIHJlcXVlc3QuICovXG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nTm90aWZ5UmVxdWVzdC5hY2NlcHQob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIC8qKiBSZWplY3QgdGhlIHJlcXVlc3QuICovXG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nTm90aWZ5UmVxdWVzdC5yZWplY3Qob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBOb3RpZmljYXRpb247XG59KCkpO1xuZXhwb3J0cy5Ob3RpZmljYXRpb24gPSBOb3RpZmljYXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi4vY29yZVwiKTtcbi8qKlxuICogQSByZXF1ZXN0IHRvIGVzdGFibGlzaCBhIHtAbGluayBTZXNzaW9ufSBlbHNld2hlcmUgKGluY29taW5nIFJFRkVSKS5cbiAqIEBwdWJsaWNcbiAqL1xudmFyIFJlZmVycmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBmdW5jdGlvbiBSZWZlcnJhbChpbmNvbWluZ1JlZmVyUmVxdWVzdCwgc2Vzc2lvbikge1xuICAgICAgICB0aGlzLmluY29taW5nUmVmZXJSZXF1ZXN0ID0gaW5jb21pbmdSZWZlclJlcXVlc3Q7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWZlcnJhbC5wcm90b3R5cGUsIFwicmVmZXJUb1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlZmVyVG8gPSB0aGlzLmluY29taW5nUmVmZXJSZXF1ZXN0Lm1lc3NhZ2UucGFyc2VIZWFkZXIoXCJyZWZlci10b1wiKTtcbiAgICAgICAgICAgIGlmICghKHJlZmVyVG8gaW5zdGFuY2VvZiBjb3JlXzEuTmFtZUFkZHJIZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIFJlZmVyLVRvIGhlYWRlci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVmZXJUbztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmVycmFsLnByb3RvdHlwZSwgXCJyZWZlcnJlZEJ5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ1JlZmVyUmVxdWVzdC5tZXNzYWdlLmdldEhlYWRlcihcInJlZmVycmVkLWJ5XCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVmZXJyYWwucHJvdG90eXBlLCBcInJlcGxhY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZlclRvLnVyaS5nZXRIZWFkZXIoXCJyZXBsYWNlc1wiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmVycmFsLnByb3RvdHlwZSwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgLyoqIEluY29taW5nIFJFRkVSIHJlcXVlc3QgbWVzc2FnZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbmNvbWluZ1JlZmVyUmVxdWVzdC5tZXNzYWdlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogQWNjZXB0IHRoZSByZXF1ZXN0LiAqL1xuICAgIFJlZmVycmFsLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0YXR1c0NvZGU6IDIwMiB9OyB9XG4gICAgICAgIHRoaXMuaW5jb21pbmdSZWZlclJlcXVlc3QuYWNjZXB0KG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICAvKiogUmVqZWN0IHRoZSByZXF1ZXN0LiAqL1xuICAgIFJlZmVycmFsLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmluY29taW5nUmVmZXJSZXF1ZXN0LnJlamVjdChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnZpdGVyIHdoaWNoIG1heSBiZSB1c2VkIHRvIHNlbmQgYW4gb3V0IG9mIGRpYWxvZyBJTlZJVEUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogVGhpcyBhIGhlbHBlciBtZXRob2QgdG8gY3JlYXRlIGFuIEludml0ZXIgd2hpY2ggd2lsbCBleGVjdXRlIHRoZSByZWZlcnJhbFxuICAgICAqIG9mIHRoZSBgU2Vzc2lvbmAgd2hpY2ggd2FzIHJlZmVycmVkLiBUaGUgYXBwcm9wcmlhdGUgaGVhZGVycyBhcmUgc2V0IGFuZFxuICAgICAqIHRoZSByZWZlcnJlZCBgU2Vzc2lvbmAgaXMgbGlua2VkIHRvIHRoZSBuZXcgYFNlc3Npb25gLiBOb3RlIHRoYXQgb25seSBhXG4gICAgICogc2luZ2xlIGluc3RhbmNlIG9mIHRoZSBgSW52aXRlcmAgd2lsbCBiZSBjcmVhdGVkIGFuZCByZXR1cm5lZCAoaWYgY2FsbGVkXG4gICAgICogbW9yZSB0aGFuIG9uY2UgYSByZWZlcmVuY2UgdG8gdGhlIHNhbWUgYEludml0ZXJgIHdpbGwgYmUgcmV0dXJuZWQgZXZlcnkgdGltZSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgYnVja2V0LlxuICAgICAqIEBwYXJhbSBtb2RpZmllcnMgLSBTZXNzaW9uIGRlc2NyaXB0aW9uIGhhbmRsZXIgbW9kaWZpZXJzLlxuICAgICAqL1xuICAgIFJlZmVycmFsLnByb3RvdHlwZS5tYWtlSW52aXRlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLmludml0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludml0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhcmdldFVSSSA9IHRoaXMucmVmZXJUby51cmkuY2xvbmUoKTtcbiAgICAgICAgdGFyZ2V0VVJJLmNsZWFySGVhZGVycygpO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgICAgICAgdmFyIHJlcGxhY2VzID0gdGhpcy5yZXBsYWNlcztcbiAgICAgICAgaWYgKHJlcGxhY2VzKSB7XG4gICAgICAgICAgICAvLyBkZWNvZGVVUklDb21wb25lbnQgaXMgYSBob2xkb3ZlciBmcm9tIDJjMDg2ZWI0LiBOb3Qgc3VyZSB0aGF0IGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeVxuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goXCJSZXBsYWNlczogXCIgKyBkZWNvZGVVUklDb21wb25lbnQocmVwbGFjZXMpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVmZXJyZWRCeSA9IHRoaXMucmVmZXJyZWRCeTtcbiAgICAgICAgaWYgKHJlZmVycmVkQnkpIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKFwiUmVmZXJyZWQtQnk6IFwiICsgcmVmZXJyZWRCeSk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBleHRyYUhlYWRlcnM7XG4gICAgICAgIHRoaXMuaW52aXRlciA9IHRoaXMuc2Vzc2lvbi51c2VyQWdlbnQuX21ha2VJbnZpdGVyKHRhcmdldFVSSSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW52aXRlci5fcmVmZXJyZWQgPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5fcmVmZXJyYWwgPSB0aGlzLmludml0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLmludml0ZXI7XG4gICAgfTtcbiAgICByZXR1cm4gUmVmZXJyYWw7XG59KCkpO1xuZXhwb3J0cy5SZWZlcnJhbCA9IFJlZmVycmFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIHtAbGluayBTZXNzaW9ufSBzdGF0ZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIHtAbGluayBTZXNzaW9ufSBiZWhhdmVzIGluIGEgZGV0ZXJtaW5pc3RpYyBtYW5uZXIgYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmdcbiAqIEZpbml0ZSBTdGF0ZSBNYWNoaW5lIChGU00pLlxuICogYGBgdHh0XG4gKiAgICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICogICAgICAgICAgICAgICAgICB8ICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXyAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgIHwgfCAgICAgICAgICAgIF9fX19fX19fX19fX19fX19fX19fX19fX19fX18gICAgfCAgICAgICAgICAgIHxcbiAqIFNlc3Npb24gICAgICAgICAgfCB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgICB2ICAgICAgICAgICAgdlxuICogQ29uc3RydWN0ZWQgLT4gSW5pdGlhbCAtPiBFc3RhYmxpc2hpbmcgLT4gRXN0YWJsaXNoZWQgLT4gVGVybWluYXRpbmcgLT4gVGVybWluYXRlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICB8X19fX19fX19fX19fX19fX19fX19fX19fX19fXiAgIF5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX198XG4gKiBgYGBcbiAqIEBwdWJsaWNcbiAqL1xudmFyIFNlc3Npb25TdGF0ZTtcbihmdW5jdGlvbiAoU2Vzc2lvblN0YXRlKSB7XG4gICAgLyoqXG4gICAgICogSWYgYEludml0ZXJgLCBJTlZJVEUgbm90IHNlbnQgeWV0LlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFIChidXQgbm8gZmluYWwgcmVzcG9uc2Ugc2VudCB5ZXQpLlxuICAgICAqL1xuICAgIFNlc3Npb25TdGF0ZVtcIkluaXRpYWxcIl0gPSBcIkluaXRpYWxcIjtcbiAgICAvKipcbiAgICAgKiBJZiBgSW52aXRlcmAsIHNlbnQgSU5WSVRFIGFuZCB3YWl0aW5nIGZvciBhIGZpbmFsIHJlc3BvbnNlLlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFIGFuZCBhdHRlbXB0aW5nIHRvIHNlbmQgMjAwIGZpbmFsIHJlc3BvbnNlIChidXQgaGFzIG5vdCBzZW50IGl0IHlldCkuXG4gICAgICovXG4gICAgU2Vzc2lvblN0YXRlW1wiRXN0YWJsaXNoaW5nXCJdID0gXCJFc3RhYmxpc2hpbmdcIjtcbiAgICAvKipcbiAgICAgKiBJZiBgSW52aXRlcmAsIHNlbnQgSU5WSVRFIGFuZCByZWNlaXZlZCAyMDAgZmluYWwgcmVzcG9uc2UgYW5kIHNlbnQgQUNLLlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFIGFuZCBzZW50IDIwMCBmaW5hbCByZXNwb25zZS5cbiAgICAgKi9cbiAgICBTZXNzaW9uU3RhdGVbXCJFc3RhYmxpc2hlZFwiXSA9IFwiRXN0YWJsaXNoZWRcIjtcbiAgICAvKipcbiAgICAgKiBJZiBgSW52aXRlcmAsIHNlbnQgSU5WSVRFLCBzZW50IENBTkNFTCBhbmQgbm93IHdhaXRpbmcgZm9yIDQ4NyBmaW5hbCByZXNwb25zZSB0byBBQ0sgKG9yIDIwMCB0byBBQ0sgJiBCWUUpLlxuICAgICAqIElmIGBJbnZpdGF0aW9uYCwgcmVjZWl2ZWQgSU5WSVRFLCBzZW50IDIwMCBmaW5hbCByZXNwb25zZSBhbmQgbm93IHdhaXRpbmcgb24gQUNLIGFuZCB1cG9uIHJlY2VpcHQgd2lsbCBhdHRlbXB0IEJZRVxuICAgICAqIChhcyB0aGUgcHJvdG9jb2wgc3BlY2lmaWNhdGlvbiByZXF1aXJlcywgYmVmb3JlIHNlbmRpbmcgYSBCWUUgd2UgbXVzdCByZWNlaXZlIHRoZSBBQ0sgLSBzbyB3ZSBhcmUgd2FpdGluZykuXG4gICAgICovXG4gICAgU2Vzc2lvblN0YXRlW1wiVGVybWluYXRpbmdcIl0gPSBcIlRlcm1pbmF0aW5nXCI7XG4gICAgLyoqXG4gICAgICogSWYgYEludml0ZXJgLCBzZW50IElOVklURSBhbmQgcmVjZWl2ZWQgbm9uLTIwMCBmaW5hbCByZXNwb25zZSAob3Igc2VudC9yZWNlaXZlZCBCWUUgYWZ0ZXIgcmVjZWl2aW5nIDIwMCkuXG4gICAgICogSWYgYEludml0YXRpb25gLCByZWNlaXZlZCBJTlZJVEUgYW5kIHNlbnQgbm9uLTIwMCBmaW5hbCByZXNwb25zZSAob3Igc2VudC9yZWNlaXZlZCBCWUUgYWZ0ZXIgc2VuZGluZyAyMDApLlxuICAgICAqL1xuICAgIFNlc3Npb25TdGF0ZVtcIlRlcm1pbmF0ZWRcIl0gPSBcIlRlcm1pbmF0ZWRcIjtcbn0pKFNlc3Npb25TdGF0ZSA9IGV4cG9ydHMuU2Vzc2lvblN0YXRlIHx8IChleHBvcnRzLlNlc3Npb25TdGF0ZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzZXNzaW9uXzEgPSByZXF1aXJlKFwiLi4vYXBpL3Nlc3Npb25cIik7XG52YXIgRW51bXNfMSA9IHJlcXVpcmUoXCIuLi9FbnVtc1wiKTtcbi8qIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlclxuICogQGNsYXNzIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIgT2JzZXJ2ZXIgQ2xhc3MuXG4gKiBAcGFyYW0ge1NJUC5TZXNzaW9ufSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKi9cbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gRW51bXNfMS5UeXBlU3RyaW5ncy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIFNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJPYnNlcnZlci5wcm90b3R5cGUudHJhY2tBZGRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbiBpbnN0YW5jZW9mIHNlc3Npb25fMS5TZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uLmVtaXQoXCJ0cmFja0FkZGVkXCIpO1xuICAgIH07XG4gICAgU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyLnByb3RvdHlwZS5kaXJlY3Rpb25DaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uIGluc3RhbmNlb2Ygc2Vzc2lvbl8xLlNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24uZW1pdChcImRpcmVjdGlvbkNoYW5nZWRcIik7XG4gICAgfTtcbiAgICByZXR1cm4gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyO1xufSgpKTtcbmV4cG9ydHMuU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyID0gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlck9ic2VydmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciBNb2RpZmllcnMgPSB0c2xpYl8xLl9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9Nb2RpZmllcnNcIikpO1xuZXhwb3J0cy5Nb2RpZmllcnMgPSBNb2RpZmllcnM7XG52YXIgU2ltcGxlXzEgPSByZXF1aXJlKFwiLi9TaW1wbGVcIik7XG5leHBvcnRzLlNpbXBsZSA9IFNpbXBsZV8xLlNpbXBsZTtcbnZhciBTZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyXCIpO1xuZXhwb3J0cy5TZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyID0gU2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcl8xLlNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXI7XG52YXIgVHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi9UcmFuc3BvcnRcIik7XG5leHBvcnRzLlRyYW5zcG9ydCA9IFRyYW5zcG9ydF8xLlRyYW5zcG9ydDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIFVBXzEgPSByZXF1aXJlKFwiLi4vVUFcIik7XG52YXIgTW9kaWZpZXJzID0gdHNsaWJfMS5fX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vTW9kaWZpZXJzXCIpKTtcbi8qIFNpbXBsZVxuICogQGNsYXNzIFNpbXBsZVxuICovXG52YXIgU2ltcGxlU3RhdHVzO1xuKGZ1bmN0aW9uIChTaW1wbGVTdGF0dXMpIHtcbiAgICBTaW1wbGVTdGF0dXNbU2ltcGxlU3RhdHVzW1wiU1RBVFVTX05VTExcIl0gPSAwXSA9IFwiU1RBVFVTX05VTExcIjtcbiAgICBTaW1wbGVTdGF0dXNbU2ltcGxlU3RhdHVzW1wiU1RBVFVTX05FV1wiXSA9IDFdID0gXCJTVEFUVVNfTkVXXCI7XG4gICAgU2ltcGxlU3RhdHVzW1NpbXBsZVN0YXR1c1tcIlNUQVRVU19DT05ORUNUSU5HXCJdID0gMl0gPSBcIlNUQVRVU19DT05ORUNUSU5HXCI7XG4gICAgU2ltcGxlU3RhdHVzW1NpbXBsZVN0YXR1c1tcIlNUQVRVU19DT05ORUNURURcIl0gPSAzXSA9IFwiU1RBVFVTX0NPTk5FQ1RFRFwiO1xuICAgIFNpbXBsZVN0YXR1c1tTaW1wbGVTdGF0dXNbXCJTVEFUVVNfQ09NUExFVEVEXCJdID0gNF0gPSBcIlNUQVRVU19DT01QTEVURURcIjtcbn0pKFNpbXBsZVN0YXR1cyA9IGV4cG9ydHMuU2ltcGxlU3RhdHVzIHx8IChleHBvcnRzLlNpbXBsZVN0YXR1cyA9IHt9KSk7XG52YXIgU2ltcGxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGUob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKlxuICAgICAgICAqICB7XG4gICAgICAgICogICAgbWVkaWE6IHtcbiAgICAgICAgKiAgICAgIHJlbW90ZToge1xuICAgICAgICAqICAgICAgICBhdWRpbzogPERPTSBlbGVtZW50PixcbiAgICAgICAgKiAgICAgICAgdmlkZW86IDxET00gZWxlbWVudD5cbiAgICAgICAgKiAgICAgIH0sXG4gICAgICAgICogICAgICBsb2NhbDoge1xuICAgICAgICAqICAgICAgICB2aWRlbzogPERPTSBlbGVtZW50PlxuICAgICAgICAqICAgICAgfVxuICAgICAgICAqICAgIH0sXG4gICAgICAgICogICAgdWE6IHtcbiAgICAgICAgKiAgICAgICA8VUEgQ29uZmlndXJhdGlvbiBPcHRpb25zPlxuICAgICAgICAqICAgIH1cbiAgICAgICAgKiAgfVxuICAgICAgICAqL1xuICAgICAgICBpZiAob3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8pIHtcbiAgICAgICAgICAgIF90aGlzLnZpZGVvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnZpZGVvID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWVkaWEucmVtb3RlLmF1ZGlvKSB7XG4gICAgICAgICAgICBfdGhpcy5hdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5hdWRpbyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX3RoaXMuYXVkaW8gJiYgIV90aGlzLnZpZGVvKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRvIGF0IGxlYXN0IGF1ZGlvIG9yIHZpZGVvXG4gICAgICAgICAgICAvLyBFcnJvclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIHJlbW90ZSBhdWRpbyBvciB2aWRlbyBlbGVtZW50IGlzIHJlcXVpcmVkIGZvciBTaW1wbGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83OTQ0NDYwL2RldGVjdC1zYWZhcmktYnJvd3NlclxuICAgICAgICB2YXIgYnJvd3NlclVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgaXNTYWZhcmkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlzRmlyZWZveCA9IGZhbHNlO1xuICAgICAgICBpZiAoYnJvd3NlclVhLmluZGV4T2YoXCJzYWZhcmlcIikgPiAtMSAmJiBicm93c2VyVWEuaW5kZXhPZihcImNocm9tZVwiKSA8IDApIHtcbiAgICAgICAgICAgIGlzU2FmYXJpID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChicm93c2VyVWEuaW5kZXhPZihcImZpcmVmb3hcIikgPiAtMSAmJiBicm93c2VyVWEuaW5kZXhPZihcImNocm9tZVwiKSA8IDApIHtcbiAgICAgICAgICAgIGlzRmlyZWZveCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgICAgICAgIHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucy5tb2RpZmllcnMgPSBbTW9kaWZpZXJzLnN0cmlwRzcyMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRmlyZWZveCkge1xuICAgICAgICAgICAgc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlckZhY3RvcnlPcHRpb25zLmFsd2F5c0FjcXVpcmVNZWRpYUZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV90aGlzLm9wdGlvbnMudWEudXJpKSB7XG4gICAgICAgICAgICBfdGhpcy5hbm9ueW1vdXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMudWEgPSBuZXcgVUFfMS5VQSh7XG4gICAgICAgICAgICAvLyBVc2VyIENvbmZpZ3VyYWJsZSBPcHRpb25zXG4gICAgICAgICAgICB1cmk6IF90aGlzLm9wdGlvbnMudWEudXJpLFxuICAgICAgICAgICAgYXV0aG9yaXphdGlvblVzZXI6IF90aGlzLm9wdGlvbnMudWEuYXV0aG9yaXphdGlvblVzZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogX3RoaXMub3B0aW9ucy51YS5wYXNzd29yZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBfdGhpcy5vcHRpb25zLnVhLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgLy8gVW5kb2N1bWVudGVkIFwiQWR2YW5jZWRcIiBPcHRpb25zXG4gICAgICAgICAgICB1c2VyQWdlbnRTdHJpbmc6IF90aGlzLm9wdGlvbnMudWEudXNlckFnZW50U3RyaW5nLFxuICAgICAgICAgICAgLy8gRml4ZWQgT3B0aW9uc1xuICAgICAgICAgICAgcmVnaXN0ZXI6IHRydWUsXG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyRmFjdG9yeU9wdGlvbnM6IHNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXJGYWN0b3J5T3B0aW9ucyxcbiAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB0cmFjZVNpcDogX3RoaXMub3B0aW9ucy51YS50cmFjZVNpcCxcbiAgICAgICAgICAgICAgICB3c1NlcnZlcnM6IF90aGlzLm9wdGlvbnMudWEud3NTZXJ2ZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFNpbXBsZVN0YXR1cy5TVEFUVVNfTlVMTDtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gX3RoaXMudWEuZ2V0TG9nZ2VyKFwic2lwLnNpbXBsZVwiKTtcbiAgICAgICAgX3RoaXMudWEub24oXCJyZWdpc3RlcmVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJyZWdpc3RlcmVkXCIsIF90aGlzLnVhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLnVhLm9uKFwidW5yZWdpc3RlcmVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJ1bnJlZ2lzdGVyZWRcIiwgX3RoaXMudWEpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMudWEub24oXCJyZWdpc3RyYXRpb25GYWlsZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInVucmVnaXN0ZXJlZFwiLCBfdGhpcy51YSk7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy51YS5vbihcImludml0ZVwiLCBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhbiBhY3RpdmUgc2Vzc2lvbiByZWplY3QgdGhlIGluY29taW5nIHNlc3Npb25cbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19OVUxMICYmIF90aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTVBMRVRFRCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwiUmVqZWN0aW5nIGluY29taW5nIGNhbGwuIFNpbXBsZSBvbmx5IHN1cHBvcnRzIDEgY2FsbCBhdCBhIHRpbWVcIik7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgICAgIF90aGlzLnNldHVwU2Vzc2lvbigpO1xuICAgICAgICAgICAgX3RoaXMuZW1pdChcInJpbmdpbmdcIiwgX3RoaXMuc2Vzc2lvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy51YS5vbihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoXCJtZXNzYWdlXCIsIG1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGUucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLnVhIHx8ICF0aGlzLmNoZWNrUmVnaXN0cmF0aW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBIHJlZ2lzdGVyZWQgVUEgaXMgcmVxdWlyZWQgZm9yIGNhbGxpbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfTlVMTCAmJiB0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTVBMRVRFRCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkNhbm5vdCBtYWtlIG1vcmUgdGhhbiBhIHNpbmdsZSBjYWxsIHdpdGggU2ltcGxlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhZmFyaSBoYWNrLCBiZWNhdXNlIHlvdSBjYW5ub3QgY2FsbCAucGxheSgpIGZyb20gYSBub24gdXNlciBhY3Rpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsICYmIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlbykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlby52b2x1bWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRoaXMudWEuaW52aXRlKGRlc3RpbmF0aW9uLCB7XG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICB2aWRlbzogdGhpcy52aWRlb1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0dXBTZXNzaW9uKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb247XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmFuc3dlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfTkVXICYmIHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVElORykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIGNhbGwgdG8gYW5zd2VyXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhZmFyaSBoYWNrLCBiZWNhdXNlIHlvdSBjYW5ub3QgY2FsbCAucGxheSgpIGZyb20gYSBub24gdXNlciBhY3Rpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmFjY2VwdCh7XG4gICAgICAgICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICB2aWRlbzogdGhpcy52aWRlb1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVtaXQgY2FsbCBpcyBhY3RpdmVcbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19ORVcgJiYgdGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT05ORUNUSU5HKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQ2FsbCBpcyBhbHJlYWR5IGFuc3dlcmVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24ucmVqZWN0KCk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmhhbmd1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVEVEICYmXG4gICAgICAgICAgICB0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkcgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfTkVXKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm8gYWN0aXZlIGNhbGwgdG8gaGFuZyB1cCBvblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT05ORUNURUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmJ5ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmhvbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RFRCB8fCAhdGhpcy5zZXNzaW9uIHx8IHRoaXMuc2Vzc2lvbi5sb2NhbEhvbGQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJDYW5ub3QgcHV0IGNhbGwgb24gaG9sZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11dGUoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiUGxhY2luZyBzZXNzaW9uIG9uIGhvbGRcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uaG9sZCgpO1xuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS51bmhvbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RFRCB8fCAhdGhpcy5zZXNzaW9uIHx8ICF0aGlzLnNlc3Npb24ubG9jYWxIb2xkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQ2Fubm90IHVuaG9sZCBhIGNhbGwgdGhhdCBpcyBub3Qgb24gaG9sZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVubXV0ZSgpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJQbGFjaW5nIGNhbGwgb2ZmIGhvbGRcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24udW5ob2xkKCk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLm11dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RFRCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkFuIGFjaXR2ZSBjYWxsIGlzIHJlcXVpcmVkIHRvIG11dGUgYXVkaW9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiTXV0aW5nIEF1ZGlvXCIpO1xuICAgICAgICB0aGlzLnRvZ2dsZU11dGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuZW1pdChcIm11dGVcIiwgdGhpcyk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLnVubXV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQW4gYWN0aXZlIGNhbGwgaXMgcmVxdWlyZWQgdG8gdW5tdXRlIGF1ZGlvXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlVubXV0aW5nIEF1ZGlvXCIpO1xuICAgICAgICB0aGlzLnRvZ2dsZU11dGUoZmFsc2UpO1xuICAgICAgICB0aGlzLmVtaXQoXCJ1bm11dGVcIiwgdGhpcyk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLnNlbmREVE1GID0gZnVuY3Rpb24gKHRvbmUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNpbXBsZVN0YXR1cy5TVEFUVVNfQ09OTkVDVEVEIHx8ICF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBbiBhY3RpdmUgY2FsbCBpcyByZXF1aXJlZCB0byBzZW5kIGEgRFRNRiB0b25lXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlNlbmRpbmcgRFRNRiB0b25lOiBcIiArIHRvbmUpO1xuICAgICAgICB0aGlzLnNlc3Npb24uZHRtZih0b25lKTtcbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUubWVzc2FnZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMudWEgfHwgIXRoaXMuY2hlY2tSZWdpc3RyYXRpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkEgcmVnaXN0ZXJlZCBVQSBpcyByZXF1aXJlZCB0byBzZW5kIGEgbWVzc2FnZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlc3RpbmF0aW9uIHx8ICFtZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiQSBkZXN0aW5hdGlvbiBhbmQgbWVzc2FnZSBhcmUgcmVxdWlyZWQgdG8gc2VuZCBhIG1lc3NhZ2VcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51YS5tZXNzYWdlKGRlc3RpbmF0aW9uLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8vIFByaXZhdGUgSGVscGVyc1xuICAgIFNpbXBsZS5wcm90b3R5cGUuY2hlY2tSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5hbm9ueW1vdXMgfHwgKHRoaXMudWEgJiYgdGhpcy51YS5pc1JlZ2lzdGVyZWQoKSkpO1xuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5zZXR1cFJlbW90ZU1lZGlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIHNlc3Npb24gdG8gc2V0IHJlbW90ZSBtZWRpYSBvblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHZpZGVvIHRyYWNrLCBpdCB3aWxsIGF0dGFjaCB0aGUgdmlkZW8gYW5kIGF1ZGlvIHRvIHRoZSBzYW1lIGVsZW1lbnRcbiAgICAgICAgdmFyIHBjID0gdGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucGVlckNvbm5lY3Rpb247XG4gICAgICAgIHZhciByZW1vdGVTdHJlYW07XG4gICAgICAgIGlmIChwYy5nZXRSZWNlaXZlcnMpIHtcbiAgICAgICAgICAgIHJlbW90ZVN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xuICAgICAgICAgICAgcGMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAocmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhY2sgPSByZWNlaXZlci50cmFjaztcbiAgICAgICAgICAgICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlU3RyZWFtLmFkZFRyYWNrKHRyYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW90ZVN0cmVhbSA9IHBjLmdldFJlbW90ZVN0cmVhbXMoKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWRlbykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS52aWRlby5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLnZpZGVvLnBsYXkoKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcInBsYXkgd2FzIHJlamVjdGVkXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdWRpbykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLnJlbW90ZS5hdWRpby5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEucmVtb3RlLmF1ZGlvLnBsYXkoKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcInBsYXkgd2FzIHJlamVjdGVkXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUuc2V0dXBMb2NhbE1lZGlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIHNlc3Npb24gdG8gc2V0IGxvY2FsIG1lZGlhIG9uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZpZGVvICYmIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbCAmJiB0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8pIHtcbiAgICAgICAgICAgIHZhciBwYyA9IHRoaXMuc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICAgICAgdmFyIGxvY2FsU3RyZWFtXzE7XG4gICAgICAgICAgICBpZiAocGMuZ2V0U2VuZGVycykge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RyZWFtXzEgPSBuZXcgTWVkaWFTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICBwYy5nZXRTZW5kZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAoc2VuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFjayA9IHNlbmRlci50cmFjaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLmtpbmQgPT09IFwidmlkZW9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdHJlYW1fMS5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RyZWFtXzEgPSBwYy5nZXRMb2NhbFN0cmVhbXMoKVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5sb2NhbC52aWRlby5zcmNPYmplY3QgPSBsb2NhbFN0cmVhbV8xO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnZvbHVtZSA9IDA7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwudmlkZW8ucGxheSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmNsZWFudXBNZWRpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8uc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUudmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWVkaWEubG9jYWwgJiYgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1lZGlhLmxvY2FsLnZpZGVvLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8uc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tZWRpYS5yZW1vdGUuYXVkaW8ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5zZXR1cFNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiTm8gc2Vzc2lvbiB0byBzZXQgdXBcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNpbXBsZVN0YXR1cy5TVEFUVVNfTkVXO1xuICAgICAgICB0aGlzLmVtaXQoXCJuZXdcIiwgdGhpcy5zZXNzaW9uKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25Qcm9ncmVzcygpOyB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiYWNjZXB0ZWRcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25BY2NlcHRlZCgpOyB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwicmVqZWN0ZWRcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25FbmRlZCgpOyB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiZmFpbGVkXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uRmFpbGVkKCk7IH0pO1xuICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJ0ZXJtaW5hdGVkXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uRW5kZWQoKTsgfSk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLmRlc3Ryb3lNZWRpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbiAmJiB0aGlzLnNlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS50b2dnbGVNdXRlID0gZnVuY3Rpb24gKG11dGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJObyBzZXNzaW9uIHRvIHRvZ2dsZSBtdXRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYyA9IHRoaXMuc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICBpZiAocGMuZ2V0U2VuZGVycykge1xuICAgICAgICAgICAgcGMuZ2V0U2VuZGVycygpLmZvckVhY2goZnVuY3Rpb24gKHNlbmRlcikge1xuICAgICAgICAgICAgICAgIGlmIChzZW5kZXIudHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyLnRyYWNrLmVuYWJsZWQgPSAhbXV0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBjLmdldExvY2FsU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLmVuYWJsZWQgPSAhbXV0ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cmFjay5lbmFibGVkID0gIW11dGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5vbkFjY2VwdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIk5vIHNlc3Npb24gZm9yIGFjY2VwdGluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT05ORUNURUQ7XG4gICAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RlZFwiLCB0aGlzLnNlc3Npb24pO1xuICAgICAgICB0aGlzLnNldHVwTG9jYWxNZWRpYSgpO1xuICAgICAgICB0aGlzLnNldHVwUmVtb3RlTWVkaWEoKTtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5zZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5vbihcImFkZFRyYWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKFwiQSB0cmFjayBoYXMgYmVlbiBhZGRlZCwgdHJpZ2dlcmluZyBuZXcgcmVtb3RlTWVkaWEgc2V0dXBcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dXBSZW1vdGVNZWRpYSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2Vzc2lvbkRlc2NyaXB0aW9uSGFuZGxlci5vbihcImFkZFN0cmVhbVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhcIkEgc3RyZWFtIGhhcyBiZWVuIGFkZGVkLCB0cmlnZ2VyIG5ldyByZW1vdGVNZWRpYSBzZXR1cFwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR1cFJlbW90ZU1lZGlhKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJkdG1mXCIsIGZ1bmN0aW9uIChyZXF1ZXN0LCBkdG1mKSB7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KFwiZHRtZlwiLCBkdG1mLnRvbmUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiYnllXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uRW5kZWQoKTsgfSk7XG4gICAgfTtcbiAgICBTaW1wbGUucHJvdG90eXBlLm9uUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTaW1wbGVTdGF0dXMuU1RBVFVTX0NPTk5FQ1RJTkc7XG4gICAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RpbmdcIiwgdGhpcy5zZXNzaW9uKTtcbiAgICB9O1xuICAgIFNpbXBsZS5wcm90b3R5cGUub25GYWlsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub25FbmRlZCgpO1xuICAgIH07XG4gICAgU2ltcGxlLnByb3RvdHlwZS5vbkVuZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gU2ltcGxlU3RhdHVzLlNUQVRVU19DT01QTEVURUQ7XG4gICAgICAgIHRoaXMuZW1pdChcImVuZGVkXCIsIHRoaXMuc2Vzc2lvbik7XG4gICAgICAgIHRoaXMuY2xlYW51cE1lZGlhKCk7XG4gICAgfTtcbiAgICBTaW1wbGUuQyA9IFNpbXBsZVN0YXR1cztcbiAgICByZXR1cm4gU2ltcGxlO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuU2ltcGxlID0gU2ltcGxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcbiIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHsgZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYgfSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFMpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3dlYWstbWFwXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi53ZWFrLW1hcCcpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcud2Vhay1tYXAub2YnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM3LndlYWstbWFwLmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9fY29yZScpLldlYWtNYXA7XG4iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgK1xuICAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICtcbiAgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArXG4gICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICtcbiAgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBET01JdGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBkZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG4iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgPSBnZXRLZXlzKFByb3BlcnRpZXMpO1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIHZhciBpID0gMDtcbiAgdmFyIFA7XG4gIHdoaWxlIChsZW5ndGggPiBpKSBkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbm1vZHVsZS5leHBvcnRzID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgZWFjaCA9IHJlcXVpcmUoJy4vX2FycmF5LW1ldGhvZHMnKSgwKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgbWV0YSA9IHJlcXVpcmUoJy4vX21ldGEnKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL19vYmplY3QtYXNzaWduJyk7XG52YXIgd2VhayA9IHJlcXVpcmUoJy4vX2NvbGxlY3Rpb24td2VhaycpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgdmFsaWRhdGUgPSByZXF1aXJlKCcuL192YWxpZGF0ZS1jb2xsZWN0aW9uJyk7XG52YXIgTkFUSVZFX1dFQUtfTUFQID0gcmVxdWlyZSgnLi9fdmFsaWRhdGUtY29sbGVjdGlvbicpO1xudmFyIElTX0lFMTEgPSAhZ2xvYmFsLkFjdGl2ZVhPYmplY3QgJiYgJ0FjdGl2ZVhPYmplY3QnIGluIGdsb2JhbDtcbnZhciBXRUFLX01BUCA9ICdXZWFrTWFwJztcbnZhciBnZXRXZWFrID0gbWV0YS5nZXRXZWFrO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG52YXIgdW5jYXVnaHRGcm96ZW5TdG9yZSA9IHdlYWsudWZzdG9yZTtcbnZhciBJbnRlcm5hbE1hcDtcblxudmFyIHdyYXBwZXIgPSBmdW5jdGlvbiAoZ2V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgIHJldHVybiBnZXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICB9O1xufTtcblxudmFyIG1ldGhvZHMgPSB7XG4gIC8vIDIzLjMuMy4zIFdlYWtNYXAucHJvdG90eXBlLmdldChrZXkpXG4gIGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcbiAgICAgIGlmIChkYXRhID09PSB0cnVlKSByZXR1cm4gdW5jYXVnaHRGcm96ZW5TdG9yZSh2YWxpZGF0ZSh0aGlzLCBXRUFLX01BUCkpLmdldChrZXkpO1xuICAgICAgcmV0dXJuIGRhdGEgPyBkYXRhW3RoaXMuX2ldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcbiAgLy8gMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG4gIHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gd2Vhay5kZWYodmFsaWRhdGUodGhpcywgV0VBS19NQVApLCBrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuLy8gMjMuMyBXZWFrTWFwIE9iamVjdHNcbnZhciAkV2Vha01hcCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29sbGVjdGlvbicpKFdFQUtfTUFQLCB3cmFwcGVyLCBtZXRob2RzLCB3ZWFrLCB0cnVlLCB0cnVlKTtcblxuLy8gSUUxMSBXZWFrTWFwIGZyb3plbiBrZXlzIGZpeFxuaWYgKE5BVElWRV9XRUFLX01BUCAmJiBJU19JRTExKSB7XG4gIEludGVybmFsTWFwID0gd2Vhay5nZXRDb25zdHJ1Y3Rvcih3cmFwcGVyLCBXRUFLX01BUCk7XG4gIGFzc2lnbihJbnRlcm5hbE1hcC5wcm90b3R5cGUsIG1ldGhvZHMpO1xuICBtZXRhLk5FRUQgPSB0cnVlO1xuICBlYWNoKFsnZGVsZXRlJywgJ2hhcycsICdnZXQnLCAnc2V0J10sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcHJvdG8gPSAkV2Vha01hcC5wcm90b3R5cGU7XG4gICAgdmFyIG1ldGhvZCA9IHByb3RvW2tleV07XG4gICAgcmVkZWZpbmUocHJvdG8sIGtleSwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIC8vIHN0b3JlIGZyb3plbiBvYmplY3RzIG9uIGludGVybmFsIHdlYWttYXAgc2hpbVxuICAgICAgaWYgKGlzT2JqZWN0KGEpICYmICFpc0V4dGVuc2libGUoYSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9mKSB0aGlzLl9mID0gbmV3IEludGVybmFsTWFwKCk7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9mW2tleV0oYSwgYik7XG4gICAgICAgIHJldHVybiBrZXkgPT0gJ3NldCcgPyB0aGlzIDogcmVzdWx0O1xuICAgICAgLy8gc3RvcmUgYWxsIHRoZSByZXN0IG9uIG5hdGl2ZSB3ZWFrbWFwXG4gICAgICB9IHJldHVybiBtZXRob2QuY2FsbCh0aGlzLCBhLCBiKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvLyA5LjQuMi4zIEFycmF5U3BlY2llc0NyZWF0ZShvcmlnaW5hbEFycmF5LCBsZW5ndGgpXG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fYXJyYXktc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgKHNwZWNpZXNDb25zdHJ1Y3RvcihvcmlnaW5hbCkpKGxlbmd0aCk7XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gIHZhciBDO1xuICBpZiAoaXNBcnJheShvcmlnaW5hbCkpIHtcbiAgICBDID0gb3JpZ2luYWwuY29uc3RydWN0b3I7XG4gICAgLy8gY3Jvc3MtcmVhbG0gZmFsbGJhY2tcbiAgICBpZiAodHlwZW9mIEMgPT0gJ2Z1bmN0aW9uJyAmJiAoQyA9PT0gQXJyYXkgfHwgaXNBcnJheShDLnByb3RvdHlwZSkpKSBDID0gdW5kZWZpbmVkO1xuICAgIGlmIChpc09iamVjdChDKSkge1xuICAgICAgQyA9IENbU1BFQ0lFU107XG4gICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gcmV0dXJuIEMgPT09IHVuZGVmaW5lZCA/IEFycmF5IDogQztcbn07XG4iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QUyA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJyk7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciAkYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICB2YXIgQSA9IHt9O1xuICB2YXIgQiA9IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIFMgPSBTeW1ib2woKTtcbiAgdmFyIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW1NdID0gNztcbiAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoaykgeyBCW2tdID0gazsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldCk7XG4gIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgd2hpbGUgKGFMZW4gPiBpbmRleCkge1xuICAgIHZhciBTID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgIHZhciBrZXlzID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgIGtleSA9IGtleXNbaisrXTtcbiAgICAgIGlmICghREVTQ1JJUFRPUlMgfHwgaXNFbnVtLmNhbGwoUywga2V5KSkgVFtrZXldID0gU1trZXldO1xuICAgIH1cbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHJlZGVmaW5lQWxsID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJyk7XG52YXIgZ2V0V2VhayA9IHJlcXVpcmUoJy4vX21ldGEnKS5nZXRXZWFrO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIGNyZWF0ZUFycmF5TWV0aG9kID0gcmVxdWlyZSgnLi9fYXJyYXktbWV0aG9kcycpO1xudmFyICRoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB2YWxpZGF0ZSA9IHJlcXVpcmUoJy4vX3ZhbGlkYXRlLWNvbGxlY3Rpb24nKTtcbnZhciBhcnJheUZpbmQgPSBjcmVhdGVBcnJheU1ldGhvZCg1KTtcbnZhciBhcnJheUZpbmRJbmRleCA9IGNyZWF0ZUFycmF5TWV0aG9kKDYpO1xudmFyIGlkID0gMDtcblxuLy8gZmFsbGJhY2sgZm9yIHVuY2F1Z2h0IGZyb3plbiBrZXlzXG52YXIgdW5jYXVnaHRGcm96ZW5TdG9yZSA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gIHJldHVybiB0aGF0Ll9sIHx8ICh0aGF0Ll9sID0gbmV3IFVuY2F1Z2h0RnJvemVuU3RvcmUoKSk7XG59O1xudmFyIFVuY2F1Z2h0RnJvemVuU3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuYSA9IFtdO1xufTtcbnZhciBmaW5kVW5jYXVnaHRGcm96ZW4gPSBmdW5jdGlvbiAoc3RvcmUsIGtleSkge1xuICByZXR1cm4gYXJyYXlGaW5kKHN0b3JlLmEsIGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBpdFswXSA9PT0ga2V5O1xuICB9KTtcbn07XG5VbmNhdWdodEZyb3plblN0b3JlLnByb3RvdHlwZSA9IHtcbiAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGVudHJ5ID0gZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gICAgaWYgKGVudHJ5KSByZXR1cm4gZW50cnlbMV07XG4gIH0sXG4gIGhhczogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhIWZpbmRVbmNhdWdodEZyb3plbih0aGlzLCBrZXkpO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGVudHJ5ID0gZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gICAgaWYgKGVudHJ5KSBlbnRyeVsxXSA9IHZhbHVlO1xuICAgIGVsc2UgdGhpcy5hLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSxcbiAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgaW5kZXggPSBhcnJheUZpbmRJbmRleCh0aGlzLmEsIGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG4gICAgfSk7XG4gICAgaWYgKH5pbmRleCkgdGhpcy5hLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuICEhfmluZGV4O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBOQU1FLCBJU19NQVAsIEFEREVSKSB7XG4gICAgdmFyIEMgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBpdGVyYWJsZSkge1xuICAgICAgYW5JbnN0YW5jZSh0aGF0LCBDLCBOQU1FLCAnX2knKTtcbiAgICAgIHRoYXQuX3QgPSBOQU1FOyAgICAgIC8vIGNvbGxlY3Rpb24gdHlwZVxuICAgICAgdGhhdC5faSA9IGlkKys7ICAgICAgLy8gY29sbGVjdGlvbiBpZFxuICAgICAgdGhhdC5fbCA9IHVuZGVmaW5lZDsgLy8gbGVhayBzdG9yZSBmb3IgdW5jYXVnaHQgZnJvemVuIG9iamVjdHNcbiAgICAgIGlmIChpdGVyYWJsZSAhPSB1bmRlZmluZWQpIGZvck9mKGl0ZXJhYmxlLCBJU19NQVAsIHRoYXRbQURERVJdLCB0aGF0KTtcbiAgICB9KTtcbiAgICByZWRlZmluZUFsbChDLnByb3RvdHlwZSwge1xuICAgICAgLy8gMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcbiAgICAgIC8vIDIzLjQuMy4zIFdlYWtTZXQucHJvdG90eXBlLmRlbGV0ZSh2YWx1ZSlcbiAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKHZhbGlkYXRlKHRoaXMsIE5BTUUpKVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgICAgcmV0dXJuIGRhdGEgJiYgJGhhcyhkYXRhLCB0aGlzLl9pKSAmJiBkZWxldGUgZGF0YVt0aGlzLl9pXTtcbiAgICAgIH0sXG4gICAgICAvLyAyMy4zLjMuNCBXZWFrTWFwLnByb3RvdHlwZS5oYXMoa2V5KVxuICAgICAgLy8gMjMuNC4zLjQgV2Vha1NldC5wcm90b3R5cGUuaGFzKHZhbHVlKVxuICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKHZhbGlkYXRlKHRoaXMsIE5BTUUpKS5oYXMoa2V5KTtcbiAgICAgICAgcmV0dXJuIGRhdGEgJiYgJGhhcyhkYXRhLCB0aGlzLl9pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQztcbiAgfSxcbiAgZGVmOiBmdW5jdGlvbiAodGhhdCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBkYXRhID0gZ2V0V2Vhayhhbk9iamVjdChrZXkpLCB0cnVlKTtcbiAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgdW5jYXVnaHRGcm96ZW5TdG9yZSh0aGF0KS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgZWxzZSBkYXRhW3RoYXQuX2ldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoYXQ7XG4gIH0sXG4gIHVmc3RvcmU6IHVuY2F1Z2h0RnJvemVuU3RvcmVcbn07XG4iLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIGFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcbiIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCAhPSB1bmRlZmluZWQpIHJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG4iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBBUkcgPSBjb2YoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIG1ldGEgPSByZXF1aXJlKCcuL19tZXRhJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgcmVkZWZpbmVBbGwgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBlYWNoID0gcmVxdWlyZSgnLi9fYXJyYXktbWV0aG9kcycpKDApO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTkFNRSwgd3JhcHBlciwgbWV0aG9kcywgY29tbW9uLCBJU19NQVAsIElTX1dFQUspIHtcbiAgdmFyIEJhc2UgPSBnbG9iYWxbTkFNRV07XG4gIHZhciBDID0gQmFzZTtcbiAgdmFyIEFEREVSID0gSVNfTUFQID8gJ3NldCcgOiAnYWRkJztcbiAgdmFyIHByb3RvID0gQyAmJiBDLnByb3RvdHlwZTtcbiAgdmFyIE8gPSB7fTtcbiAgaWYgKCFERVNDUklQVE9SUyB8fCB0eXBlb2YgQyAhPSAnZnVuY3Rpb24nIHx8ICEoSVNfV0VBSyB8fCBwcm90by5mb3JFYWNoICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgbmV3IEMoKS5lbnRyaWVzKCkubmV4dCgpO1xuICB9KSkpIHtcbiAgICAvLyBjcmVhdGUgY29sbGVjdGlvbiBjb25zdHJ1Y3RvclxuICAgIEMgPSBjb21tb24uZ2V0Q29uc3RydWN0b3Iod3JhcHBlciwgTkFNRSwgSVNfTUFQLCBBRERFUik7XG4gICAgcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIG1ldGhvZHMpO1xuICAgIG1ldGEuTkVFRCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgQyA9IHdyYXBwZXIoZnVuY3Rpb24gKHRhcmdldCwgaXRlcmFibGUpIHtcbiAgICAgIGFuSW5zdGFuY2UodGFyZ2V0LCBDLCBOQU1FLCAnX2MnKTtcbiAgICAgIHRhcmdldC5fYyA9IG5ldyBCYXNlKCk7XG4gICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBmb3JPZihpdGVyYWJsZSwgSVNfTUFQLCB0YXJnZXRbQURERVJdLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIGVhY2goJ2FkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTicuc3BsaXQoJywnKSwgZnVuY3Rpb24gKEtFWSkge1xuICAgICAgdmFyIElTX0FEREVSID0gS0VZID09ICdhZGQnIHx8IEtFWSA9PSAnc2V0JztcbiAgICAgIGlmIChLRVkgaW4gcHJvdG8gJiYgIShJU19XRUFLICYmIEtFWSA9PSAnY2xlYXInKSkgaGlkZShDLnByb3RvdHlwZSwgS0VZLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBhbkluc3RhbmNlKHRoaXMsIEMsIEtFWSk7XG4gICAgICAgIGlmICghSVNfQURERVIgJiYgSVNfV0VBSyAmJiAhaXNPYmplY3QoYSkpIHJldHVybiBLRVkgPT0gJ2dldCcgPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2NbS0VZXShhID09PSAwID8gMCA6IGEsIGIpO1xuICAgICAgICByZXR1cm4gSVNfQURERVIgPyB0aGlzIDogcmVzdWx0O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgSVNfV0VBSyB8fCBkUChDLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Muc2l6ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldFRvU3RyaW5nVGFnKEMsIE5BTUUpO1xuXG4gIE9bTkFNRV0gPSBDO1xuICAkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiwgTyk7XG5cbiAgaWYgKCFJU19XRUFLKSBjb21tb24uc2V0U3Ryb25nKEMsIE5BTUUsIElTX01BUCk7XG5cbiAgcmV0dXJuIEM7XG59O1xuIiwiLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtd2Vha21hcC5vZlxucmVxdWlyZSgnLi9fc2V0LWNvbGxlY3Rpb24tb2YnKSgnV2Vha01hcCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tL1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ09MTEVDVElPTikge1xuICAkZXhwb3J0KCRleHBvcnQuUywgQ09MTEVDVElPTiwgeyBvZjogZnVuY3Rpb24gb2YoKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIEEgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIEFbbGVuZ3RoXSA9IGFyZ3VtZW50c1tsZW5ndGhdO1xuICAgIHJldHVybiBuZXcgdGhpcyhBKTtcbiAgfSB9KTtcbn07XG4iLCIvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrbWFwLmZyb21cbnJlcXVpcmUoJy4vX3NldC1jb2xsZWN0aW9uLWZyb20nKSgnV2Vha01hcCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tL1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgZm9yT2YgPSByZXF1aXJlKCcuL19mb3Itb2YnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ09MTEVDVElPTikge1xuICAkZXhwb3J0KCRleHBvcnQuUywgQ09MTEVDVElPTiwgeyBmcm9tOiBmdW5jdGlvbiBmcm9tKHNvdXJjZSAvKiAsIG1hcEZuLCB0aGlzQXJnICovKSB7XG4gICAgdmFyIG1hcEZuID0gYXJndW1lbnRzWzFdO1xuICAgIHZhciBtYXBwaW5nLCBBLCBuLCBjYjtcbiAgICBhRnVuY3Rpb24odGhpcyk7XG4gICAgbWFwcGluZyA9IG1hcEZuICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKG1hcHBpbmcpIGFGdW5jdGlvbihtYXBGbik7XG4gICAgaWYgKHNvdXJjZSA9PSB1bmRlZmluZWQpIHJldHVybiBuZXcgdGhpcygpO1xuICAgIEEgPSBbXTtcbiAgICBpZiAobWFwcGluZykge1xuICAgICAgbiA9IDA7XG4gICAgICBjYiA9IGN0eChtYXBGbiwgYXJndW1lbnRzWzJdLCAyKTtcbiAgICAgIGZvck9mKHNvdXJjZSwgZmFsc2UsIGZ1bmN0aW9uIChuZXh0SXRlbSkge1xuICAgICAgICBBLnB1c2goY2IobmV4dEl0ZW0sIG4rKykpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvck9mKHNvdXJjZSwgZmFsc2UsIEEucHVzaCwgQSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgdGhpcyhBKTtcbiAgfSB9KTtcbn07XG4iLCJpbXBvcnQgeyBVQSwgUmVmZXJDbGllbnRDb250ZXh0IH0gZnJvbSAnc2lwLmpzJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXM2LWV2ZW50LWVtaXR0ZXInO1xuaW1wb3J0IHsgQ2RjdHNDYWxsIH0gZnJvbSAnLi9jZGN0cy1jYWxsJztcblxuLyoqXG4qIFJlcHJlc2VudHMgdGhlIHNvZnR3YXJlIHBob25lIHJ1bm5pbmcgaW4gYSB3ZWIgYnJvd3NlciBvciBvdGhlciBjb250ZXh0LlxuKlxuKiBAY2xhc3NcbiovXG5jbGFzcyBDZGN0c0RldmljZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cbiAgLyoqXG4gICogQ3JlYXRlIGEgbmV3IENkY3RzRGV2aWNlLlxuICAqXG4gICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBDb25maWd1cmF0aW9uIE9iamVjdFxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcuaG9zdCBUaGUgaG9zdCBuYW1lIG9yIElQIGFkZHJlc3Mgb2YgdGhlIFNJUCBzZXJ2ZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnBvcnQgVGhlIHBvcnQgb2YgdGhlIFNJUCBzZXJ2ZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLndzU2VydmVycyBVUkkocykgb2YgdGhlIFdlYlNvY2tldCBTZXJ2ZXJzLiBGb3JtYXQgYHdzczovLzEyMy4wLjAuMDo1MDY2YC4gQW4gYXJyYXkgb2Ygc3RyaW5ncyBpcyBhbHNvIGFjY2VwdGVkLlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcudXNlcm5hbWUgVGhlIHVzZXJuYW1lIGZvciB0aGUgU0lQIHNlcnZlclxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcucGFzc3dvcmQgVGhlIHBhc3N3ZW9yZCBmb3IgdGhlIFNJUCBzZXJ2ZXJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmRpc3BsYXlOYW1lIFRoZSBodW1hbiByZWFkYWJsZSBuYW1lIHBhc3NlZCBpbiB0aGUgZnJvbSBmaWVsZC4gV2lsbCBiZSB1c2VkIGZvciBDYWxsZXIgSURcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnN0dW5TZXJ2ZXJzIFVSSShzKSBmb3IgaG93IHRvIGNvbm5lY3QgdG8gdGhlIFNUVU4gc2VydmVycy4gRm9ybWF0IGBzdHVuOnN0dW4uY2RjdHMuY29tOjgwMDBgLiBBbiBhcnJheSBvZiBzdHJpbmdzIGlzIGFsc28gYWNjZXB0ZWQuXG4gICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZy50dXJuU2VydmVycyBEZXRhaWxzIGZvciBob3cgdG8gY29ubmVjdCB0byB0aGUgVFVSTiBzZXJ2ZXJzLiBBbiBhcnJheSBvZiBvYmplY3RzIGlzIGFsc28gYWNjZXB0ZWQuXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy50dXJuU2VydmVycy51cmxzIFVSSShzKSBmb3IgdGhlIFRVUk4gc2VydmVyKHMpLiBGb3JtYXQgYHR1cm46dHVybi5jZGN0cy5jb206ODAwMD90cmFuc3BvcnQ9dGNwYC4gQW4gYXJyYXkgb2Ygc3RyaW5ncyBpcyBhbHNvIGFjY2VwdGVkLlxuICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcudHVyblNlcnZlcnMudXNlcm5hbWUgVXNlcm5hbWUgdG8gYXV0aGVudGljYXRlIG9uIFRVUk4gc2VydmVyKHMpXG4gICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy50dXJuU2VydmVycy5wYXNzd29yZCBQYXNzd29yZCB0byBhdXRoZW50aWNhdGUgb24gVFVSTiBzZXJ2ZXIocylcbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnJlZ2lzdHJhclNlcnZlciBVUkkgZm9yIHRoZSByZWdpc3RyYXIgU2VydmVyLiBGb3JtYXQgYHNpcDoxMjMuMC4wLjA6NTA2NmBcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IGNvbmZpZy50cmFjZVNpcCBJZiB0cnVlLCBTSVAgdHJhY2VzIHdpbGwgYmUgbG9nZ2VkIHRvIHRoZSBkZXYgY29uc29sZS5cbiAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmxvZ0xldmVsIE9uZSBvZiBcImRlYnVnXCIsIFwibG9nXCIsIFwid2FyblwiLCBcImVycm9yXCIsIFwib2ZmXCIuICBkZWZhdWx0IGlzIFwibG9nXCJcblxuICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICghY29uZmlnIHx8IHR5cGVvZiAoY29uZmlnKSAhPT0gJ29iamVjdCcpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNkY3RzRGV2aWNlOiBNaXNzaW5nIGNvbmZpZ1wiKTsgfVxuICAgIGlmICghY29uZmlnLmhvc3QpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNkY3RzRGV2aWNlOiBNaXNzaW5nICdob3N0JyBwYXJhbWV0ZXJcIik7IH1cbiAgICBpZiAoIWNvbmZpZy5wb3J0KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDZGN0c0RldmljZTogTWlzc2luZyAncG9ydCcgcGFyYW1ldGVyXCIpOyB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIHRoaXMuaG9zdCA9IGNvbmZpZy5ob3N0O1xuICAgIHRoaXMucG9ydCA9IGNvbmZpZy5wb3J0O1xuICAgIHRoaXMudXJpID0gYHNpcDoke2NvbmZpZy51c2VybmFtZX1AJHtjb25maWcuaG9zdH1gO1xuICAgIHRoaXMucGF0aCA9IGNvbmZpZy5wYXRoIHx8ICcnO1xuICAgIHRoaXMud3NTZXJ2ZXJzID0gYXJyYXlpZnkoY29uZmlnLndzU2VydmVycyk7XG4gICAgdGhpcy51c2VybmFtZSA9IGNvbmZpZy51c2VybmFtZTtcbiAgICB0aGlzLnBhc3N3b3JkID0gY29uZmlnLnBhc3N3b3JkO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBjb25maWcuZGlzcGxheU5hbWUgfHwgY29uZmlnLnVzZXJuYW1lO1xuICAgIHRoaXMuc3R1blNlcnZlcnMgPSBhcnJheWlmeShjb25maWcuc3R1blNlcnZlcnMpO1xuICAgIHRoaXMudHVyblNlcnZlcnMgPSBjb25maWcudHVyblNlcnZlcnM7XG4gICAgdGhpcy5yZWdpc3RyYXJTZXJ2ZXIgPSBjb25maWcucmVnaXN0cmFyU2VydmVyO1xuXG4gICAgdGhpcy5fdXNlckFnZW50ID0gbnVsbDtcblxuICAgIHRoaXMuX2Vuc3VyZUNvbm5lY3Rpdml0eVdpdGhTaXBTZXJ2ZXIoKTtcblxuICAgIC8vIGxldCB1cmkgPSBuZXcgU0lQLlVSSShcInNpcFwiLCB0aGlzLnVzZXJuYW1lLCB0aGlzLmhvc3QsIHRoaXMucG9ydCkudG9TdHJpbmcoKTtcblxuICAgIGxldCBzaXBVQUNvbmZpZyA9IHtcbiAgICAgIHVyaTogYHNpcDoke3RoaXMudXNlcm5hbWV9QCR7dGhpcy5ob3N0fWAsXG4gICAgICB0cmFuc3BvcnRPcHRpb25zOiB7IHdzU2VydmVyczogW2B3c3M6Ly8ke3RoaXMuaG9zdH06JHt0aGlzLnBvcnR9JHt0aGlzLnBhdGh9YF0gfSxcbiAgICAgIGF1dGhvcml6YXRpb25Vc2Vyc2lwOiB0aGlzLnVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSxcbiAgICAgIC8vIHN0dW5TZXJ2ZXJzOiB0aGlzLnN0dW5TZXJ2ZXJzLFxuICAgICAgLy8gdHVyblNlcnZlcnM6IHRoaXMudHVyblNlcnZlcnMsXG4gICAgICAvLyByZWdpc3RyYXJTZXJ2ZXI6IHRoaXMucmVnaXN0cmFyU2VydmVyXG4gICAgICBzZXNzaW9uRGVzY3JpcHRpb25IYW5kbGVyT3B0aW9uczoge1xuICAgICAgICBjb25zdHJhaW50czoge1xuICAgICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICAgIHZpZGVvOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGNvbmZpZy50cmFjZVNpcCkge1xuICAgICAgc2lwVUFDb25maWcudHJhY2VTaXAgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmxvZ0xldmVsKSB7XG4gICAgICBpZiAoY29uZmlnLmxvZ0xldmVsID09PSBcIm9mZlwiKSB7XG4gICAgICAgIHNpcFVBQ29uZmlnLmxvZyA9IHsgYnVpbHRpbkVuYWJsZWQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXBVQUNvbmZpZy5sb2cgPSB7IGxldmVsOiBjb25maWcubG9nTGV2ZWwgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fdXNlckFnZW50ID0gbmV3IFVBKHNpcFVBQ29uZmlnKTtcblxuICAgIC8qKlxuICAgICogd3NDb25uZWN0aW5nIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgZGV2aWNlIGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gdGhlIFdlYlNvY2tldCBzZXJ2ZXIuXG4gICAgKiBJZiB0aGUgY29ubmVjdGlvbiBkcm9wcywgdGhlIGRldmljZSB3aWxsIHRyeSB0byByZWNvbm5lY3QgYW5kIHRoaXMgZXZlbnQgd2lsbCBmaXJlIGFnYWluLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0RldmljZSN3c0Nvbm5lY3RpbmdcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge251bWJlcn0gYXR0ZW1wdHMgLSB0aGUgbnVtYmVyIG9mIGNvbm5lY3Rpb24gYXR0ZW1wdHMgdGhhdCBoYXZlIGJlZW4gbWFkZVxuICAgICovXG4gICAgdGhpcy5fdXNlckFnZW50Lm9uKFwiY29ubmVjdGluZ1wiLCAoYXJncykgPT4geyB0aGlzLnRyaWdnZXIoXCJ3c0Nvbm5lY3RpbmdcIiwgeyBhdHRlbXB0czogYXJncy5hdHRlbXB0cyB9KTsgfSk7XG5cbiAgICAvKipcbiAgICAqIHdzQ29ubmVjdGVkIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gaGFzIGJlZW4gZXN0YWJsaXNoZWQuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzRGV2aWNlI3dzQ29ubmVjdGVkXG4gICAgKi9cbiAgICB0aGlzLl91c2VyQWdlbnQub24oXCJjb25uZWN0ZWRcIiwgKCkgPT4geyB0aGlzLnRyaWdnZXIoXCJ3c0Nvbm5lY3RlZFwiKTsgfSk7XG5cbiAgICAvKipcbiAgICAqIHdzRGlzY29ubmVjdGVkIGV2ZW50XG4gICAgKlxuICAgICogRnJpZWQgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gYXR0ZW1wdCBmYWlscy5cbiAgICAqXG4gICAgKiBAZXZlbnQgQ2RjdHNEZXZpY2Ujd3NEaXNjb25uZWN0ZWRcbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcImRpc2Nvbm5lY3RlZFwiLCAoKSA9PiB7IHRoaXMudHJpZ2dlcihcIndzRGlzY29ubmVjdGVkXCIpOyB9KTtcblxuICAgIC8qKlxuICAgICogcmVnaXN0ZXJlZCBldmVudFxuICAgICpcbiAgICAqIEZpcmVkIHdoZW4gYSB0aGUgZGV2aWNlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkIHRvIHJlY2lldmUgY2FsbHMuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzRGV2aWNlI3JlZ2lzdGVyZWRcbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcInJlZ2lzdGVyZWRcIiwgKCkgPT4geyB0aGlzLnRyaWdnZXIoXCJyZWdpc3RlcmVkXCIpOyB9KTtcblxuICAgIC8qKlxuICAgICogdW5yZWdpc3RlcmVkIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgYXMgdGhlIHJlc3VsdCBvZiBhIGNhbGwgdG8gYHVucmVnaXN0ZXIoKWAgb3IgaWYgYSBwZXJpb2RpYyByZS1yZWdpc3RyYXRpb24gZmFpbHMuXG4gICAgKlxuICAgICogQGV2ZW50IENkY3RzRGV2aWNlI3VucmVnaXN0ZXJlZFxuICAgICogQHR5cGUge29iamVjdH1cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjYXVzZSAtIG51bGwgaWYgYHVucmVnaXN0ZXIoKWAgd2FzIGNhbGxlZCwgb3RoZXJ3aXNlIHNlZSBbU0lQanMgY2F1c2VzXXtAbGluayBodHRwOi8vc2lwanMuY29tL2FwaS8wLjE1LjAvY2F1c2VzL31cbiAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZSAtIFRoZSBTSVAgbWVzc2FnZSB3aGljaCBjYXVzZWQgdGhlIGZhaWx1cmUsIGlmIGl0IGV4aXN0cy5cbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcInVucmVnaXN0ZXJlZFwiLCAocmVzcG9uc2UsIGNhdXNlKSA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJ1bnJlZ2lzdGVyZWRcIiwgeyBjYXVzZTogY2F1c2UsIHJlc3BvbnNlOiByZXNwb25zZSB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICogcmVnaXN0cmF0aW9uRmFpbGVkIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiBhIHJlZ2lzdHJhdGlvbiBhdHRlcG10IGZhaWxzLlxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0RldmljZSNyZWdpc3RyYXRpb25GYWlsZWRcbiAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gY2F1c2UgLSBzZWUgW1NJUGpzIGNhdXNlc117QGxpbmsgaHR0cDovL3NpcGpzLmNvbS9hcGkvMC4xNS4wL2NhdXNlcy99XG4gICAgKiBAcHJvcGVydHkge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgU0lQIG1lc3NhZ2Ugd2hpY2ggY2F1c2VkIHRoZSBmYWlsdXJlLCBpZiBpdCBleGlzdHMuXG4gICAgKi9cbiAgICB0aGlzLl91c2VyQWdlbnQub24oXCJyZWdpc3RyYXRpb25GYWlsZWRcIiwgKGNhdXNlLCByZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKFwicmVnaXN0cmF0aW9uRmFpbGVkXCIsIHsgY2F1c2U6IGNhdXNlLCByZXNwb25zZTogcmVzcG9uc2UgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAqIGluY29taW5nSW52aXRlIGV2ZW50XG4gICAgKlxuICAgICogRmlyZWQgd2hlbiB0aGUgZGV2aWNlIHJlY2lldmVzIGFuIElOVklURSByZXF1ZXN0XG4gICAgKiBAZXZlbnQgQ2RjdHNEZXZpY2UjaW52aXRlXG4gICAgKiBAdHlwZSB7U2Vzc2lvbn1cbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcImludml0ZVwiLCAoc2Vzc2lvbikgPT4ge1xuICAgICAgdGhpcy5fYWN0aXZlQ2FsbCA9IG5ldyBDZGN0c0NhbGwodGhpcy5fdXNlckFnZW50KTtcbiAgICAgIHRoaXMuX2FjdGl2ZUNhbGwuaW5jb21pbmdDYWxsKHNlc3Npb24pO1xuICAgICAgdGhpcy50cmlnZ2VyKFwiaW5jb21pbmdJbnZpdGVcIiwgeyBhY3RpdmVDYWxsOiB0aGlzLl9hY3RpdmVDYWxsIH0pO1xuICAgICAgY29uc29sZS5sb2coXCIqKioqc2Vzc2lvbioqKipcIiwgc2Vzc2lvbilcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICogbWVzc2FnZSBldmVudFxuICAgICpcbiAgICAqIEBldmVudCBDZGN0c0RldmljZSNtZXNzYWdlXG4gICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICogQHByb3BlcnR5IHtvYmplY3R9IG1lc3NhZ2UgLSBDb250YWlucyB0aGUgU0lQIG1lc3NhZ2Ugc2VudCBhbmQgc2VydmVyIGNvbnRleHQgbmVjZXNzYXJ5IHRvIHJlY2VpdmUgYW5kIHNlbmQgcmVwbGllcy5cbiAgICAqL1xuICAgIHRoaXMuX3VzZXJBZ2VudC5vbihcIm1lc3NhZ2VcIiwgKG1lc3NhZ2UpID0+IHsgdGhpcy50cmlnZ2VyKFwibWVzc2FnZVwiLCB7IG1lc3NhZ2U6IG1lc3NhZ2UgfSk7IH0pO1xuXG4gIH1cblxuICAvKipcbiAgKiBTdGFydCB0aGUgY29ubmVjdGlvbiB0byB0aGUgV2ViU29ja2V0IHNlcnZlciwgYW5kIHJlc3RvcmUgdGhlIHByZXZpb3VzIHN0YXRlIGlmIHN0b3BwZWQuXG4gICogWW91IG5lZWQgdG8gc3RhcnQgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGJlZm9yZSB5b3UgY2FuIHNlbmQgb3IgcmVjaWV2ZSBjYWxscy4gSWYgeW91XG4gICogdHJ5IHRvIGBpbml0aWF0ZUNhbGxgIHdpdGhvdXQgZmlyc3Qgc3RhcnRpbmcgdGhlIGNvbm5lY3Rpb24sIGl0IHdpbGwgYmUgc3RhcnRlZCBmb3IgeW91LFxuICAqIGJ1dCBpdCB3aWxsIG5vdCBiZSBzdG9wcGVkIHdoZW4gdGhlIGNhbGwgaXMgdGVybWluYXRlZC5cbiAgKi9cbiAgc3RhcnRXUygpIHtcbiAgICB0aGlzLl91c2VyQWdlbnQuc3RhcnQoKTtcbiAgfVxuXG4gIC8qKlxuICAqIFN0b3AgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIFdlYlNvY2tldCBzZXJ2ZXIsIHNhdmluZyB0aGUgc3RhdGUgc28gaXQgY2FuIGJlIHJlc3RvcmVkIGxhdGVyXG4gICogKGJ5IGBzdGFydGApLlxuICAqL1xuICBzdG9wV1MoKSB7XG4gICAgdGhpcy5fdXNlckFnZW50LnN0b3AoKTtcbiAgfVxuXG4gIC8qKlxuICAqIFN0YXR1cyBvZiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgKlxuICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzQ29ubmVjdGVkIGB0cnVlYCBpZiB0aGUgZGV2aWNlIGlzIGNvbm5lY3RlZCB0byB0aGUgV2ViU29ja2V0IHNlcnZlciwgYGZhbHNlYCBvdGhlcndpc2VcbiAgKi9cbiAgaXNXU0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlckFnZW50LmlzQ29ubmVjdGVkKCk7XG4gIH1cblxuICAvKipcbiAgKiBSZWdpc3RlciB0aGUgZGV2aWNlIHdpdGggdGhlIFNJUCBzZXJ2ZXIgc28gdGhhdCBpdCBjYW4gcmVjZWl2ZSBpbmNvbWluZyBjYWxscy5cbiAgKlxuICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICogQHBhcmFtIHtTdHJpbmdbXX0gb3B0aW9ucy5leHRyYUhlYWRlcnMgU0lQIGhlYWRlcnMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIGVhY2ggUkVHSVNURVIgcmVxdWVzdC4gRWFjaCBoZWFkZXIgaXMgc3RyaW5nIGluIHRoZSBmb3JtYXQgYFwiWC1IZWFkZXItTmFtZTogSGVhZGVyLXZhbHVlXCJgLlxuICAqIEBlbWl0cyBDZGN0c0RldmljZSNyZWdpc3RlcmVkXG4gICovXG4gIHJlZ2lzdGVyKG9wdGlvbnMpIHtcbiAgICB0aGlzLl91c2VyQWdlbnQucmVnaXN0ZXIob3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgKiBVbnJlZ2lzdGVyIHRoZSBkZXZpY2UgZnJvbSB0aGUgU0lQIHNlcnZlcjsgaXQgd2lsbCBubyBsb25nZXIgcmVjaWV2ZSBpbmNvbWluZyBjYWxscy5cbiAgKlxuICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmFsbCBbT3B0aW9uYWxdIC0gaWYgc2V0ICYgYHRydWVgIGl0IHdpbGwgdW5yZWdpc3RlciAqYWxsKiBiaW5kaW5ncyBmb3IgdGhlIFNJUCB1c2VyLlxuICAqIEBwYXJhbSB7U3RyaW5nW119IG9wdGlvbnMuZXh0cmFIZWFkZXJzIFNJUCBoZWFkZXJzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byBlYWNoIFJFR0lTVEVSIHJlcXVlc3QuIEVhY2ggaGVhZGVyIGlzIHN0cmluZyBpbiB0aGUgZm9ybWF0IGBcIlgtSGVhZGVyLU5hbWU6IEhlYWRlci12YWx1ZVwiYC5cbiAgKiBAZW1pdHMgQ2RjdHNEZXZpY2UjdW5yZWdpc3RlcmVkXG4gICovXG4gIHVucmVnaXN0ZXIob3B0aW9ucykge1xuICAgIHRoaXMuX3VzZXJBZ2VudC5yZWdpc3RlcihvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAqIFN0YXR1cyBvZiBTSVAgcmVnaXN0cmF0aW9uXG4gICpcbiAgKiBAcmV0dXJuIHtCb29sZWFufSBpc1JlZ2lzdGVyZWQgYHRydWVgIGlmIHRoZSBkZXZpY2UgaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBTSVAgU2VydmVyLCBgZmFsc2VgIG90aGVyd2lzZVxuICAqL1xuICBpc1JlZ2lzdGVyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJBZ2VudC5pc1JlZ2lzdGVyZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAqIE1ha2UgYSBwaG9uZSBjYWxsXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gcGhvbmVOdW1iZXIgVGhlIGRlc2luYXRpb24gcGhvbmUgbnVtYmVyIHRvIGNvbm5lY3QgdG8uIEp1c3QgZGlnaXRzLCBubyBwdW5jdHVhdGlvbi4gRXhhbXBsZSBgXCIxMjA2NTU1MTExMVwiYC5cbiAgKiBAcmV0dXJuIHtDZGN0c0NhbGx9IGFjdGl2ZUNhbGwgS2VlcCBhbiBleWUgb24gdGhlIGNhbGwncyBzdGF0ZSBieSBsaXN0ZW5pbmcgdG8gZXZlbnRzIGVtaXR0ZWQgYnkgYWN0aXZlQ2FsbFxuICAqL1xuICBpbml0aWF0ZUNhbGwocGhvbmVOdW1iZXIpIHtcbiAgICAvLyBsZXQgdXJpID0gbmV3IFNJUC5VUkkoXCJzaXBcIiwgcGhvbmVOdW1iZXIsIHRoaXMuaG9zdCwgdGhpcy5wb3J0KS50b1N0cmluZygpO1xuICAgIHRoaXMuX2FjdGl2ZUNhbGwgPSBuZXcgQ2RjdHNDYWxsKHRoaXMuX3VzZXJBZ2VudCk7XG4gICAgY29uc29sZS5sb2coXCJfYWN0aXZlQ2FsbFwiLCBwaG9uZU51bWJlciwgdGhpcy5fYWN0aXZlQ2FsbClcbiAgICB0aGlzLl9hY3RpdmVDYWxsLm1ha2VDYWxsKHBob25lTnVtYmVyKVxuICAgIHJldHVybiB0aGlzLl9hY3RpdmVDYWxsO1xuICB9XG4gIC8qKlxuICAqIEFuc3dlciBwaG9uZSBjYWxsXG4gICpcbiAgKiBAcmV0dXJuIHtDZGN0c0NhbGx9IGFjdGl2ZUNhbGwgS2VlcCBhbiBleWUgb24gdGhlIGNhbGwncyBzdGF0ZSBieSBsaXN0ZW5pbmcgdG8gZXZlbnRzIGVtaXR0ZWQgYnkgYWN0aXZlQ2FsbFxuICAqL1xuICBhY2NlcHQoKSB7XG4gICAgdGhpcy5fYWN0aXZlQ2FsbC5fc2Vzc2lvbi5hY2NlcHQoKVxuICAgIHRoaXMuX2FjdGl2ZUNhbGwuX3Nlc3Npb24ub24oJ3RyYWNrQWRkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGMgPSB0aGlzLnNlc3Npb25EZXNjcmlwdGlvbkhhbmRsZXIucGVlckNvbm5lY3Rpb247XG4gICAgICAvLyB2YXIgdGhpcy5hdWRpb0VsZW1lbnQgPSB0aGlzLmF1ZGlvRWxlbWVudDtcbiAgICAgIHZhciBwbGF5ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2RjdHMtc2lwanMtcmVtb3RlLWF1ZGlvXCIpWzBdO1xuICAgICAgY29uc29sZS5sb2coXCJwbGF5ZXJcIiwgcGxheWVyKVxuICAgICAgLy8gdGhpcy5hdWRpb0VsZW1lbnQuY2xhc3NOYW1lID0gJ2NkY3RzLXNpcGpzLXJlbW90ZS1hdWRpbyc7XG4gICAgICB2YXIgcmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG4gICAgICBwYy5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWNlaXZlcikge1xuICAgICAgICByZW1vdGVTdHJlYW0uYWRkVHJhY2socmVjZWl2ZXIudHJhY2spO1xuICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIHBsYXllci5zcmNPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBsYXllci5zcmNPYmplY3QgPSByZW1vdGVTdHJlYW07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwbGF5ZXIubW96U3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwbGF5ZXIubW96U3JjT2JqZWN0ID0gcmVtb3RlU3RyZWFtO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGxheWVyLnNyYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcGxheWVyLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVtb3RlU3RyZWFtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuJyk7XG4gICAgICB9XG4gICAgICBwbGF5ZXIucGxheSgpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUNhbGw7XG4gICAgfSlcbiAgfVxuICAvKipcbiAgKiBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIGNhbGwgY3VycmVudGx5IGluIHByb2dyZXNzXG4gICpcbiAgKiBAcmV0dXJuIHtDZGN0c0NhbGx9IGFjdGl2ZUNhbGwgS2VlcCBhbiBleWUgb24gdGhlIGNhbGwncyBzdGF0ZSBieSBsaXN0ZW5pbmcgdG8gZXZlbnRzIGVtaXR0ZWQgYnkgYWN0aXZlQ2FsbFxuICAqL1xuICBhY3RpdmVDYWxsKCkgeyByZXR1cm4gdGhpcy5fYWN0aXZlQ2FsbDsgfVxuXG4gIC8qKlxuICAgKiBSZWZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGhvbmVOdW1iZXIgVGhlIHBob25lbnVtYmVyIGNhbiB0byByZWZlclxuICAgKi9cbiAgcmVmZXJOdW1iZXIocGhvbmVOdW1iZXIpIHtcbiAgICBjb25zb2xlLmxvZyhcInRoaXNcIix0aGlzKVxuICAgIHRoaXMuX3JlZmVyID0gbmV3IFJlZmVyQ2xpZW50Q29udGV4dChVQSwgdGhpcywgcGhvbmVOdW1iZXIpXG4gICAgdGhpcy5fcmVmZXIucmVmZXIoKVxuICAgIHJldHVybiBfcmVmZXJcbiAgfVxuICAvLyBFbnN1cmUgdGhhdCB3ZSBjYW4gY29ubmVjdCB0byB0aGUgU0lQIHNlcnZlci5cbiAgLy8gRHVlIHRvIGEgYnVnIGluIGNocm9tZSwgd2UgbmVlZCB0byBvcGVuIGFuIGh0dHAgY29ubmVjdGlvbiB0byB0aGUgU0lQIHNlcnZlclxuICAvLyBiZWZvcmUgdHJ5aW5nIHRvIGNvbm5lY3QgdmlhIFdlYiBTb2NrZXQuXG4gIC8vXG4gIC8vICBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zMjk4ODRcbiAgX2Vuc3VyZUNvbm5lY3Rpdml0eVdpdGhTaXBTZXJ2ZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmluZm8oXCJGYWlsZWQgaHR0cCBjb25uZWN0aW9uIHRvIFNJUCBzZXJ2ZXIgaXMgZXhwZWN0ZWQuIEl0IGlzIHJlbGF0ZWQgdG8gYSBjaHJvbWUgYnVnLlwiKTtcbiAgICAgIH0pO1xuICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgYGh0dHBzOi8vJHt0aGlzLmhvc3R9OiR7dGhpcy5wb3J0fWAsIHRydWUpO1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBkbyBub3RoaW5nLiBJZiBhbiBlcnJvciBvY2N1cnMsIGl0J3Mgbm90IGdvaW5nIHRvIG1hdHRlciBoZXJlLlxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheWlmeShpdGVtKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgcmV0dXJuIGl0ZW0uc2xpY2UoMCk7IC8vIFNoYWxsb3cgQ29weVxuICB9IGVsc2Uge1xuICAgIGxldCBhcnIgPSBbXTtcbiAgICBhcnIucHVzaChpdGVtKTtcbiAgICByZXR1cm4gYXJyO1xuICB9XG59XG5cblxuZXhwb3J0IHsgQ2RjdHNEZXZpY2UgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=